import{j as C,a0 as Q,n as k,k as v,a2 as K,b7 as h,a3 as l,a4 as i,a5 as a,a6 as e,a7 as q,aq as c,af as u,ag as d,ab as g,a9 as b,ad as P,ae as x,ap as w,aE as D}from"./index-zL3tRP4S.js";import{Q as S}from"./QBanner-3TxJtN1N.js";import{Q as m}from"./QItemLabel-BZUeObbN.js";import{b as B}from"./QChip-bSz2DZ3m.js";import{c as I}from"./copy-to-clipboard-CHmUoJSJ.js";import{a as A}from"./use-dialog-plugin-component-5qqwWo1S.js";import{P as z}from"./finetune-bSDSqbfh.js";import{c as N}from"./date-DqOjqs-X.js";const T=C({__name:"PurchaseDialog",props:{purchaseKey:{},autoCharge:{type:Boolean},threshold:{},warning:{}},setup(p,{expose:f}){f();const t=p,{dialogRef:o}=A(),{t:r}=Q({useScope:"global"}),n=k(),s=v(!1),y={props:t,dialogRef:o,t:r,$q:n,isApiKeyCopyDone:s,copyApiKey:()=>{!t.purchaseKey||s.value||(I(t.purchaseKey).then(()=>{n.notify({message:r("copy_to_clipboard_success"),icon:"done"}),s.value=!0,gtag==null||gtag("event","embedding_copy_api_key",{location:document.location.href})}),setTimeout(()=>{s.value=!1},1800))},PurchaseComponent:z,get formatKey(){return N}};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}});function V(p,f,t,o,r,n){const s=h("q-banner-label"),_=h("q-banner-section");return l(),i(D,{ref:"dialogRef"},{default:a(()=>[e(q,{class:"bg-mixed-200",flat:"",square:"",style:{width:"900px","max-width":"80vw"}},{default:a(()=>[t.warning?(l(),i(S,{key:0,inline:"",class:"bg-warning text-black",style:{"border-radius":"0"}},{default:a(()=>[e(_,null,{default:a(()=>[e(c,{name:"info",size:"md"}),e(s,null,{default:a(()=>[u(d(t.warning),1)]),_:1})]),_:1})]),_:1})):g("",!0),e(b,null,{default:a(()=>[e(P,null,{default:a(()=>[o.$q.screen.gt.sm?(l(),i(x,{key:0,avatar:"",side:"",class:"relative-position"},{default:a(()=>[e(c,{name:"fab fa-stripe"}),e(c,{name:"o_verified_user",size:"xs",class:"absolute-bottom-right q-mr-md q-mb-md text-positive"})]),_:1})):g("",!0),e(x,null,{default:a(()=>[e(m,{class:"text-bold"},{default:a(()=>[u(d(o.t("embedding.buy_more_quota")),1)]),_:1}),e(m,{caption:"",style:{"font-family":"monospace"},lines:"1",class:"text-primary cursor-pointer",onClick:o.copyApiKey},{default:a(()=>[e(B,{icon:"o_key",label:o.formatKey(t.purchaseKey),square:"",size:"sm",class:"bg-mixed-300"},null,8,["label"])]),_:1}),e(m,{caption:"",lines:"2"},{default:a(()=>[u(d(o.t("embedding.tax_may_apply")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(w),e(b,{class:"q-pa-none"},{default:a(()=>[e(o.PurchaseComponent,{"hide-usage":!0,"hide-key":!0,"hide-free-plan":!0,"purchase-key":t.purchaseKey,"hide-stripe-info":!0,"auto-charge":t.autoCharge,threshold:t.threshold,mode:"dialog"},null,8,["purchase-key","auto-charge","threshold"])]),_:1})]),_:1})]),_:1},512)}const J=K(T,[["render",V],["__file","PurchaseDialog.vue"]]);export{J as P};
