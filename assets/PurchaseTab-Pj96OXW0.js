import{d as ne,a as le,b as O}from"./QItemLabel-gtvokvgL.js";import{k as w,m as h,J as ie,bH as ge,L as re,Z as pe,p as k,s as he,cQ as _e,bU as be,bR as ve,bT as xe,bV as ye,cR as Se,cA as Pe,bS as Fe,bY as X,U as Ce,j as oe,ag as se,bA as ue,aM as Ie,b5 as ke,b4 as ze,a1 as de,a2 as _,a3 as P,a4 as d,a7 as L,a8 as $,a9 as ee,aj as we,a5 as m,af as Oe,aa as te,ae as T,a6 as ae,ab as N,al as j,ad as z,W as Ve,bz as Ae,ak as V,ac as je}from"./index-C95d5FlK.js";import{h as qe}from"./format-DyQxkAtJ.js";import{a as Y}from"./QExpansionItem-BH08Hiv_.js";import{u as Be}from"./embedding-C5P2ulUZ.js";import{c as Ne}from"./QForm-BEXFJ17C.js";function A(e,s,r,a){const o=[];return e.forEach(c=>{a(c)===!0?o.push(c):s.push({failedPropValidation:r,file:c})}),o}function R(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),re(e)}const Te={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},De=["rejected"];function Ee({editable:e,dnd:s,getFileInput:r,addFilesToQueue:a}){const{props:o,emit:c,proxy:l}=ie(),x=w(null),y=h(()=>o.accept!==void 0?o.accept.split(",").map(t=>(t=t.trim(),t==="*"?"*/":(t.endsWith("/*")&&(t=t.slice(0,t.length-1)),t.toUpperCase()))):null),C=h(()=>parseInt(o.maxFiles,10)),I=h(()=>parseInt(o.maxTotalSize,10));function D(t){if(e.value)if(t!==Object(t)&&(t={target:null}),t.target!==null&&t.target.matches('input[type="file"]')===!0)t.clientX===0&&t.clientY===0&&ge(t);else{const v=r();v&&v!==t.target&&v.click(t)}}function E(t){e.value&&t&&a(null,t)}function M(t,v,q,B){let i=Array.from(v||t.target.files);const b=[],F=()=>{b.length!==0&&c("rejected",b)};if(o.accept!==void 0&&y.value.indexOf("*/")===-1&&(i=A(i,b,"accept",u=>y.value.some(g=>u.type.toUpperCase().startsWith(g)||u.name.toUpperCase().endsWith(g))),i.length===0))return F();if(o.maxFileSize!==void 0){const u=parseInt(o.maxFileSize,10);if(i=A(i,b,"max-file-size",g=>g.size<=u),i.length===0)return F()}if(o.multiple!==!0&&i.length!==0&&(i=[i[0]]),i.forEach(u=>{u.__key=u.webkitRelativePath+u.lastModified+u.name+u.size}),B===!0){const u=q.map(g=>g.__key);i=A(i,b,"duplicate",g=>u.includes(g.__key)===!1)}if(i.length===0)return F();if(o.maxTotalSize!==void 0){let u=B===!0?q.reduce((g,H)=>g+H.size,0):0;if(i=A(i,b,"max-total-size",g=>(u+=g.size,u<=I.value)),i.length===0)return F()}if(typeof o.filter=="function"){const u=o.filter(i);i=A(i,b,"filter",g=>u.includes(g))}if(o.maxFiles!==void 0){let u=B===!0?q.length:0;if(i=A(i,b,"max-files",()=>(u++,u<=C.value)),i.length===0)return F()}if(F(),i.length!==0)return i}function W(t){R(t),s.value!==!0&&(s.value=!0)}function f(t){re(t),(t.relatedTarget!==null||pe.is.safari!==!0?t.relatedTarget!==x.value:document.elementsFromPoint(t.clientX,t.clientY).includes(x.value)===!1)===!0&&(s.value=!1)}function Q(t){R(t);const v=t.dataTransfer.files;v.length!==0&&a(null,v),s.value=!1}function Z(t){if(s.value===!0)return k("div",{ref:x,class:`q-${t}__dnd absolute-full`,onDragenter:R,onDragover:R,onDragleave:f,onDrop:Q})}return Object.assign(l,{pickFiles:D,addFiles:E}),{pickFiles:D,addFiles:E,onDragover:W,onDragleave:f,processFiles:M,getDndNode:Z,maxFilesNumber:C,maxTotalSizeNumber:I}}const et=he({name:"QFile",inheritAttrs:!1,props:{..._e,...be,...Te,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...ve,...De],setup(e,{slots:s,emit:r,attrs:a}){const{proxy:o}=ie(),c=xe(),l=w(null),x=w(!1),y=ye(e),{pickFiles:C,onDragover:I,onDragleave:D,processFiles:E,getDndNode:M}=Ee({editable:c.editable,dnd:x,getFileInput:G,addFilesToQueue:K}),W=Se(e),f=h(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),Q=h(()=>X(f.value)),Z=h(()=>f.value.map(n=>n.name).join(", ")),t=h(()=>qe(f.value.reduce((n,p)=>n+p.size,0))),v=h(()=>({totalSize:t.value,filesNumber:f.value.length,maxFiles:e.maxFiles})),q=h(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:y.value,...a,id:c.targetUid.value,disabled:c.editable.value!==!0})),B=h(()=>"q-file q-field--auto-height"+(x.value===!0?" q-file--dnd":"")),i=h(()=>e.multiple===!0&&e.append===!0);function b(n){const p=f.value.slice();p.splice(n,1),u(p)}function F(n){const p=f.value.indexOf(n);p!==-1&&b(p)}function u(n){r("update:modelValue",e.multiple===!0?n:n[0])}function g(n){n.keyCode===13&&Ce(n)}function H(n){(n.keyCode===13||n.keyCode===32)&&C(n)}function G(){return l.value}function K(n,p){const S=E(n,p,f.value,i.value),J=G();J!=null&&(J.value=""),S!==void 0&&((e.multiple===!0?e.modelValue&&S.every(me=>f.value.includes(me)):e.modelValue===S[0])||u(i.value===!0?f.value.concat(S):S))}function U(){return[k("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function ce(){if(s.file!==void 0)return f.value.length===0?U():f.value.map((p,S)=>s.file({index:S,file:p,ref:this}));if(s.selected!==void 0)return f.value.length===0?U():s.selected({files:f.value,ref:this});if(e.useChips===!0)return f.value.length===0?U():f.value.map((p,S)=>k(ne,{key:"file-"+S,removable:c.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{b(S)}},()=>k("span",{class:"ellipsis",textContent:p.name})));const n=e.displayValue!==void 0?e.displayValue:Z.value;return n.length!==0?[k("div",{class:e.inputClass,style:e.inputStyle,textContent:n})]:U()}function fe(){const n={ref:l,...q.value,...W.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:K};return e.multiple===!0&&(n.multiple=!0),k("input",n)}return Object.assign(c,{fieldClass:B,emitValue:u,hasValue:Q,inputRef:l,innerValue:f,floatingLabel:h(()=>Q.value===!0||X(e.displayValue)),computedCounter:h(()=>{if(e.counterLabel!==void 0)return e.counterLabel(v.value);const n=e.maxFiles;return`${f.value.length}${n!==void 0?" / "+n:""} (${t.value})`}),getControlChild:()=>M("file"),getControl:()=>{const n={ref:c.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return c.editable.value===!0&&Object.assign(n,{onDragover:I,onDragleave:D,onKeydown:g,onKeyup:H}),k("div",n,[fe()].concat(ce()))}}),Object.assign(o,{removeAtIndex:b,removeFile:F,getNativeElement:()=>l.value}),Pe(o,"nativeEl",()=>l.value),Fe(c)}}),tt=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,at=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,Qe=oe({__name:"CSPButtons",props:{centered:{type:Boolean,default:!1},lighterBg:{type:Boolean,default:!1}},setup(e,{expose:s}){s();const{t:r}=se({useScope:"global"}),a={t:r,get cloudPartners(){return ue},get redirect(){return Ie},get rerankerIcon(){return ke},get embeddingIcon(){return ze}};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}),Ue={key:0,class:"q-focus-helper"},Le={key:0,class:"text-dim text-caption"};function Re(e,s,r,a,o,c){return _(),P(le,{class:te(["row q-pb-lg q-px-sm",{"justify-center":r.centered}])},{default:d(()=>[(_(!0),L($,null,ee(a.cloudPartners,(l,x)=>(_(),P(we,{key:x,class:"col-6 col-md-4 col-lg-3 col-xl-2 q-pa-sm q-py-md"},{default:d(()=>[m(Oe,{bordered:"",flat:"","v-ripple":!l.disabled,class:te(["full-width",{"q-hoverable cursor-pointer":!l.disabled,"bg-transparent":l.disabled,"bg-mixed-100":!l.disabled&&r.lighterBg,"bg-mixed-200":!l.disabled&&!r.lighterBg}]),square:"",onClick:y=>l.disabled?void 0:a.redirect(l.link)},{default:d(()=>[l.disabled?T("",!0):(_(),L("span",Ue)),m(ae,{class:"column items-center non-selectable q-py-xl"},{default:d(()=>[m(N,{name:l.icon,class:"q-py-lg",size:"xl"},null,8,["name"]),j(" "+z(l.label),1)]),_:2},1024),m(ae,{class:"text-center non-selectable q-pb-lg"},{default:d(()=>[(_(!0),L($,null,ee(l.products,(y,C)=>(_(),P(ne,{key:C,label:a.t(`integrations.${y}`),outline:"",size:"xs",square:"",style:{"border-radius":"0"},icon:y==="embedding"?`img:${a.embeddingIcon}`:`img:${a.rerankerIcon}`},null,8,["label","icon"]))),128)),l.disabled?(_(),L("span",Le,z(a.t("landing_page.coming_soon")),1)):T("",!0)]),_:2},1024)]),_:2},1032,["v-ripple","class","onClick"])]),_:2},1024))),128))]),_:1},8,["class"])}const Me=de(Qe,[["render",Re],["__file","CSPButtons.vue"]]),We=oe({__name:"PurchaseTab",props:{hideUsage:{type:Boolean,default:!1},defaultOpenedItem:{default:"api"},hideOthers:{type:Boolean,default:!1}},setup(e,{expose:s}){s();const{t:r}=se({useScope:"global"}),a=Be(),o=e,c=w(0),l=w(o.defaultOpenedItem==="onprem"),x=w(o.defaultOpenedItem==="api"),y=w(o.defaultOpenedItem==="cloud");Ve(async()=>{await a.getProducts(),setInterval(()=>{c.value=(c.value+1)%Ae.length},3e3)});const I={t:r,embeddingStore:a,props:o,currentIndex:c,showOnPrem:l,showAPI:x,showCSP:y,licenseFeatures:["paywall.commercial_licence.feature_models","paywall.commercial_licence.feature_consulting"],get cloudPartners(){return ue},PurchaseComponent:Ne,CSPButtons:Me};return Object.defineProperty(I,"__isScriptSetup",{enumerable:!1,value:!0}),I}}),Ze=["innerHTML"];function He(e,s,r,a,o,c){return _(),P(le,{separator:""},{default:d(()=>[!r.hideOthers||r.defaultOpenedItem==="onprem"?(_(),P(Y,{key:0,group:"paywall","switch-toggle-side":"","hide-expand-icon":r.hideOthers,"expand-icon":"radio_button_unchecked","expanded-icon":"radio_button_checked",modelValue:a.showOnPrem,"onUpdate:modelValue":s[0]||(s[0]=l=>a.showOnPrem=l),"header-class":a.showOnPrem?"text-primary text-bold":void 0,to:"/api-dashboard/license-config?login=true"},{header:d(()=>[m(V,{avatar:""},{default:d(()=>[m(N,{name:"o_encrypted"})]),_:1}),m(V,null,{default:d(()=>[m(O,null,{default:d(()=>[j(z(a.t("paywall.on_prem")),1)]),_:1}),m(O,{caption:"",class:"text-dim"},{default:d(()=>[j(z(a.t("paywall.on_prem_explain")),1)]),_:1})]),_:1})]),_:1},8,["hide-expand-icon","modelValue","header-class"])):T("",!0),!r.hideOthers||r.defaultOpenedItem==="cloud"?(_(),P(Y,{key:1,group:"paywall",modelValue:a.showCSP,"onUpdate:modelValue":s[1]||(s[1]=l=>a.showCSP=l),"hide-expand-icon":r.hideOthers,"switch-toggle-side":"","expand-icon":"radio_button_unchecked","expanded-icon":"radio_button_checked","default-opened":r.defaultOpenedItem==="cloud","header-class":a.showCSP?"text-primary text-bold":void 0},{header:d(()=>[m(V,{avatar:""},{default:d(()=>[m(N,{name:"o_cloud"})]),_:1}),m(V,null,{default:d(()=>[m(O,null,{default:d(()=>[je("span",{innerHTML:a.t("embedding.public_cloud_integration",{_numPartners:a.cloudPartners.length})},null,8,Ze)]),_:1}),m(O,{caption:"",class:"text-dim"},{default:d(()=>[j(z(a.t("embedding.public_cloud_integration_desc")),1)]),_:1})]),_:1})]),default:d(()=>[m(a.CSPButtons)]),_:1},8,["modelValue","hide-expand-icon","default-opened","header-class"])):T("",!0),!r.hideOthers||r.defaultOpenedItem==="api"?(_(),P(Y,{key:2,group:"paywall",modelValue:a.showAPI,"onUpdate:modelValue":s[2]||(s[2]=l=>a.showAPI=l),"switch-toggle-side":"","hide-expand-icon":r.hideOthers,"expand-icon":"radio_button_unchecked","expanded-icon":"radio_button_checked","default-opened":r.defaultOpenedItem==="api","header-class":a.showAPI?"text-primary text-bold":void 0},{header:d(()=>[m(V,{avatar:""},{default:d(()=>[a.showAPI?(_(),P(N,{key:0,name:"img:/J-active.svg"})):(_(),P(N,{key:1,name:"img:/J.svg"}))]),_:1}),m(V,null,{default:d(()=>[m(O,null,{default:d(()=>[j(z(a.t("paywall.via_api")),1)]),_:1}),m(O,{caption:"",class:"text-dim"},{default:d(()=>[j(z(a.t("paywall.via_api_explain")),1)]),_:1})]),_:1})]),default:d(()=>[m(a.PurchaseComponent,{"hide-usage":r.hideUsage},null,8,["hide-usage"])]),_:1},8,["modelValue","hide-expand-icon","default-opened","header-class"])):T("",!0)]),_:1})}const nt=de(We,[["render",He],["__scopeId","data-v-e1b22076"],["__file","PurchaseTab.vue"]]);export{Me as C,nt as P,et as Q,at as R,tt as a};
