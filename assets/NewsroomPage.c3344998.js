import{k as me,R as ve,cb as ge,S as fe,h as u,f as S,w as ce,i as T,am as de,C as be,cc as ee,cd as he,H as ye,j as J,e as _e,a6 as pe,at as xe,ar as we,K as Se,a7 as $,a8 as m,u as ke,a9 as w,ab as Y,al as c,aG as ae,ai as s,ah as _,aa as t,aj as K,an as le,ad as te,ae as ne,ag as I,bJ as Ve,ap as qe,ak as se,ac as oe,av as Ce,af as A,Z as Pe,b9 as Be,aA as Qe,ce as je,cf as ue}from"./index.c6678ef2.js";import{Q as ie}from"./QImg.d092d9c6.js";import{Q as G}from"./QBadge.eab32b5f.js";import{a as Q,Q as Ne}from"./QTabs.53a673a6.js";import{Q as Ie}from"./QSpace.47c29b5d.js";import{Q as Le}from"./QLinearProgress.2cc862e3.js";import{b as Me}from"./format.afd66c59.js";import{Q as $e,_ as De}from"./AskAnythingToolTip.032c59a5.js";import{u as Fe,_ as Te,A as Ae}from"./blogs.43755d76.js";import{_ as re}from"./NewsVerticalCard.69b66e9c.js";import{u as Ee}from"./useMetaTags.2ab583ea.js";import"./QResizeObserver.681fa86b.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./QTooltip.c01126a1.js";import"./position-engine.107b0fbd.js";function H(e,i){return[!0,!1].includes(e)?e:i}var Oe=me({name:"QPagination",props:{...ve,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||ge.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:i}){const{proxy:E}=be(),{$q:f}=E,L=fe(e,f),v=u(()=>parseInt(e.min,10)),r=u(()=>parseInt(e.max,10)),O=u(()=>parseInt(e.maxPages,10)),z=u(()=>h.value+" / "+r.value),W=u(()=>H(e.boundaryLinks,e.input)),j=u(()=>H(e.boundaryNumbers,!e.input)),C=u(()=>H(e.directionLinks,e.input)),M=u(()=>H(e.ellipses,!e.input)),b=S(null),h=u({get:()=>e.modelValue,set:a=>{if(a=parseInt(a,10),e.disable||isNaN(a))return;const l=Me(a,v.value,r.value);e.modelValue!==l&&i("update:modelValue",l)}});ce(()=>`${v.value}|${r.value}`,()=>{h.value=e.modelValue});const D=u(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),k=u(()=>e.gutter in ee?`${ee[e.gutter]}px`:e.gutter||null),N=u(()=>k.value!==null?`--q-pagination-gutter-parent:-${k.value};--q-pagination-gutter-child:${k.value}`:null),V=u(()=>{const a=[e.iconFirst||f.iconSet.pagination.first,e.iconPrev||f.iconSet.pagination.prev,e.iconNext||f.iconSet.pagination.next,e.iconLast||f.iconSet.pagination.last];return f.lang.rtl===!0?a.reverse():a}),g=u(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),y=u(()=>he(e,"flat")),d=u(()=>({[y.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),n=u(()=>{const a={[y.value]:!1};return e.activeDesign!==""&&(a[e.activeDesign]=!0),a}),P=u(()=>({...n.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),B=u(()=>{let a=Math.max(O.value,1+(M.value?2:0)+(j.value?2:0));const l={pgFrom:v.value,pgTo:r.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(r.value).length)}em`}};return O.value&&a<r.value-v.value+1&&(a=1+Math.floor(a/2)*2,l.pgFrom=Math.max(v.value,Math.min(r.value-a+1,e.modelValue-Math.floor(a/2))),l.pgTo=Math.min(r.value,l.pgFrom+a-1),j.value&&(l.boundaryStart=!0,l.pgFrom++),M.value&&l.pgFrom>v.value+(j.value?1:0)&&(l.ellipsesStart=!0,l.pgFrom++),j.value&&(l.boundaryEnd=!0,l.pgTo--),M.value&&l.pgTo<r.value-(j.value?1:0)&&(l.ellipsesEnd=!0,l.pgTo--)),l});function U(a){h.value=a}function Z(a){h.value=h.value+a}const R=u(()=>{function a(){h.value=b.value,b.value=null}return{"onUpdate:modelValue":l=>{b.value=l},onKeyup:l=>{ye(l,13)===!0&&a()},onBlur:a}});function o(a,l,p){const q={"aria-label":l,"aria-current":"false",...d.value,...a};return p===!0&&Object.assign(q,{"aria-current":"true",...P.value}),l!==void 0&&(e.toFn!==void 0?q.to=e.toFn(l):q.onClick=()=>{U(l)}),T(J,q)}return Object.assign(E,{set:U,setByOffset:Z}),()=>{const a=[],l=[];let p;if(W.value===!0&&(a.push(o({key:"bls",disable:e.disable||e.modelValue<=v.value,icon:V.value[0]},v.value)),l.unshift(o({key:"ble",disable:e.disable||e.modelValue>=r.value,icon:V.value[3]},r.value))),C.value===!0&&(a.push(o({key:"bdp",disable:e.disable||e.modelValue<=v.value,icon:V.value[1]},e.modelValue-1)),l.unshift(o({key:"bdn",disable:e.disable||e.modelValue>=r.value,icon:V.value[2]},e.modelValue+1))),e.input!==!0){p=[];const{pgFrom:q,pgTo:X,marginalStyle:F}=B.value;if(B.value.boundaryStart===!0){const x=v.value===e.modelValue;a.push(o({key:"bns",style:F,disable:e.disable,label:v.value},v.value,x))}if(B.value.boundaryEnd===!0){const x=r.value===e.modelValue;l.unshift(o({key:"bne",style:F,disable:e.disable,label:r.value},r.value,x))}B.value.ellipsesStart===!0&&a.push(o({key:"bes",style:F,disable:e.disable,label:"\u2026",ripple:!1},q-1)),B.value.ellipsesEnd===!0&&l.unshift(o({key:"bee",style:F,disable:e.disable,label:"\u2026",ripple:!1},X+1));for(let x=q;x<=X;x++)p.push(o({key:`bpg${x}`,style:F,disable:e.disable,label:x},x,x===e.modelValue))}return T("div",{class:D.value,...g.value},[T("div",{class:"q-pagination__content row no-wrap items-center",style:N.value},[...a,e.input===!0?T(de,{class:"inline",style:{width:`${z.value.length/1.5}em`},type:"number",dense:!0,value:b.value,disable:e.disable,dark:L.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:z.value,min:v.value,max:r.value,...R.value}):T("div",{class:"q-pagination__middle row justify-center"},p),...l])])}}});const ze={key:0,class:"row justify-center q-my-xl q-py-xl"},Ue={class:"col-11 col-lg-10 col-xl-9"},Re={class:"row q-mt-xl q-pa-sm justify-around items-center"},Ye={class:"row justify-start q-pa-sm items-center q-mt-lg text-grey-2 text-h5"},Ke={class:"q-my-lg"},Ge={class:"row justify-between items-center q-mb-xl"},He={class:"col-12 col-md-6 cursor-pointer self-stretch"},Je={class:"q-pa-sm full-height"},We=c("span",{class:"q-focus-helper"},null,-1),Ze={class:"col-12 col-md-6 column self-stretch no-wrap"},Xe=c("div",{class:"row q-my-xl"},null,-1),ea={class:"row"},aa={class:"row justify-between"},la={class:"col-12 col-md-9 q-px-sm"},ta={class:"col-12 col-md-3 q-pa-md"},na={class:"row justify-between items-center"},sa={class:"text-h6 text-overline"},oa={class:"row items-center"},ua={class:"row justify-between items-center"},ia={class:"text-h6 text-overline"},ka=_e({__name:"NewsroomPage",setup(e){const{t:i,te:E}=pe({useScope:"global"}),f=ke(),L=Fe(),v=xe(),r=S(v.query.tag||"all"),{blogs:O,authors:z,allBlogs:W}=we(L),j=u(()=>z.value.map(y=>({label:y.name,value:y.name}))),C=S(!0),M=S(!0),b=S(1),h=S(1),D=S(""),k=S([]),N=S([]),V=S([]);ce([r,b,D,N,k,W],async([y,d,n,P,B,U],[Z,R])=>{y!==Z&&(M.value=!1,C.value=!0);let o=U;if(P.length>0&&(o=o.filter(a=>P.map(l=>l.toLowerCase()).some(l=>a.title.toLowerCase().includes(l)||a.title.toLowerCase().includes(i(l).toLowerCase())))),B.length>0&&(o=o.filter(a=>B.some(l=>a.authors.map(p=>p.name).includes(l)))),y!=="all"&&(y==="featured"?o=o.filter(a=>a.featured):o=o.filter(a=>a.tags.map(l=>l.name.toLowerCase()).includes(y))),n&&(o=o.filter(a=>a.title.toLowerCase().includes(n.toLowerCase()))),o.length>0){const l=o.length;h.value=Math.ceil(l/12),R&&R>h.value&&(b.value=1);const p=(b.value-1)*12,q=p+12;V.value=o.slice(p,q)}else h.value=0,b.value=1,V.value=[];M.value=!0,C.value=!1},{immediate:!0});const g=u(()=>O.value.featured);return Se(async()=>{C.value=!0,await L.getNewsBy({tag:"featured"}),await L.getAuthors(),await L.getAllNews(),C.value=!1}),Ee({page:"newsroom_page",banner:"banner-newsroom.png",url:"news"}),(y,d)=>(w(),$($e,null,{default:m(()=>[g.value.length?(w(),Y("div",ze,[c("div",Ue,[c("div",Re,[c("h1",{class:ae(["col text-h1 text-weight-bold q-my-none",{"text-h1":s(f).screen.xl||s(f).screen.lg,"text-h2":s(f).screen.md||s(f).screen.sm,"text-h3":s(f).screen.xs}])},_(s(i)("newsroom_page.title")),3),t(J,{class:"col-auto",outline:"",square:"",icon:"rss_feed",label:"RSS",href:"https://jina.ai/feed.rss",target:"_blank"})]),c("div",Ye,[t(K,{name:"hotel_class",class:"q-mr-sm"}),c("div",Ke,_(s(i)("newsroom_page.top_stories")),1)]),c("div",Ge,[c("div",He,[c("div",Je,[t(qe,{flat:"",tag:"a",class:"block full-height q-hoverable non-selectable",href:`/news/${g.value[0].slug}`,style:{overflow:"hidden","text-decoration":"none !important"}},{default:m(()=>[We,t(ie,{src:g.value[0].featureImage,loading:"lazy",alt:g.value[0].featureImageAlt},{default:m(()=>[t(Te,{"alt-text":g.value[0].featureImageAlt},null,8,["alt-text"])]),_:1},8,["src","alt"]),t(le,null,{default:m(()=>[t(te,null,{default:m(()=>[t(ne,null,{default:m(()=>[t(G,{lines:"2",class:"text-h5 text-weight-light q-mb-lg"},{default:m(()=>[I(_(g.value[0].title),1)]),_:1}),t(G,{caption:""},{default:m(()=>[I(_(g.value[0].excerpt),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(le,null,{default:m(()=>[t(te,null,{default:m(()=>[t(Ae,{authors:g.value[0].authors},null,8,["authors"]),t(ne,null,{default:m(()=>[t(G,null,{default:m(()=>[I(_(g.value[0].authors.map(n=>n.name).join(", ")),1)]),_:1}),t(G,{caption:""},{default:m(()=>[I(_(s(Ve)(g.value[0].publishedAt).format("MMMM DD, YYYY"))+" \u2022 "+_(g.value[0].readingTime)+" "+_(s(i)("newsroom_page.minutes_read")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["href"])])]),c("div",Ze,[(w(!0),Y(se,null,oe(g.value.slice(1,3),(n,P)=>(w(),Y("div",{class:"col-6 q-pa-sm",key:P},[t(re,{item:n,class:"full-height"},null,8,["item"])]))),128))])]),Xe,c("div",ea,[t(Ne,{modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=n=>r.value=n),"inline-label":"","active-color":"primary",align:"left",class:"col"},{default:m(()=>[t(Q,{name:"all",label:s(i)("blog_tags.all"),icon:"collections_bookmark"},null,8,["label"]),t(Q,{name:"press",label:s(i)("blog_tags.press")},null,8,["label"]),t(Q,{name:"tech blog",label:s(i)("blog_tags.tech-blog")},null,8,["label"]),t(Q,{name:"insights",label:s(i)("blog_tags.insights")},null,8,["label"]),t(Q,{name:"knowledge base",label:s(i)("blog_tags.knowledge-base")},null,8,["label"]),t(Q,{name:"releases",label:s(i)("blog_tags.releases")},null,8,["label"]),t(Q,{name:"events",label:s(i)("blog_tags.events")},null,8,["label"]),t(Q,{name:"featured",label:s(i)("blog_tags.featured"),icon:"hotel_class"},null,8,["label"])]),_:1},8,["modelValue"]),t(Ie),t(de,{borderless:"",filled:"",square:"",modelValue:D.value,"onUpdate:modelValue":d[1]||(d[1]=n=>D.value=n),placeholder:s(i)("newsroom_page.search"),class:"col-auto"},{append:m(()=>[t(K,{name:"search"})]),_:1},8,["modelValue","placeholder"])]),t(Ce),C.value?(w(),$(Le,{key:0,indeterminate:""})):A("",!0),c("div",aa,[c("div",la,[(w(!0),Y(se,null,oe(V.value,(n,P)=>(w(),$(re,{key:P,item:n,class:"q-my-md"},null,8,["item"]))),128)),Pe(t(Oe,{"active-design":"flat","active-text-color":"white","text-color":"grey-6",modelValue:b.value,"onUpdate:modelValue":d[2]||(d[2]=n=>b.value=n),max:h.value,"max-pages":5,"direction-links":"","boundary-links":"",class:ae(["row justify-center",s(f).screen.gt.xs?"q-ma-xl":"q-ma-lg"])},null,8,["modelValue","max","class"]),[[Be,!C.value&&V.value.length]])]),c("div",ta,[c("div",na,[c("div",sa,[t(K,{name:"filter_alt"}),I(" "+_(s(i)("newsroom_page.product")),1)]),N.value.length?(w(),$(J,{key:0,dense:"","no-caps":"",flat:"",square:"",onClick:d[3]||(d[3]=n=>N.value=[]),icon:"clear"})):A("",!0)]),t(ue,{options:s(je),type:"checkbox",modelValue:N.value,"onUpdate:modelValue":d[4]||(d[4]=n=>N.value=n),inline:"",class:"q-mb-xl"},{label:m(n=>[c("div",oa,[n.icon?(w(),$(Qe,{key:0},{default:m(()=>[t(ie,{fit:"contain",height:"32px",width:"32px",src:n.icon,loading:"lazy"},null,8,["src"])]),_:2},1024)):A("",!0),I(" "+_(s(E)(n.label)?s(i)(n.label):n.label),1)])]),_:1},8,["options","modelValue"]),c("div",ua,[c("div",ia,[t(K,{name:"filter_alt"}),I(" "+_(s(i)("newsroom_page.author")),1)]),k.value.length?(w(),$(J,{key:0,"no-caps":"",flat:"",round:"",onClick:d[5]||(d[5]=n=>k.value=[]),icon:"clear"})):A("",!0)]),t(ue,{options:j.value,type:"checkbox",modelValue:k.value,"onUpdate:modelValue":d[6]||(d[6]=n=>k.value=n),inline:""},null,8,["options","modelValue"])])])])])):A("",!0),t(De)]),_:1}))}});export{ka as default};
