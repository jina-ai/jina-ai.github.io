import{k as me,X as ve,bE as ge,Y as fe,h as s,f as S,w as ce,i as $,bh as de,C as be,bF as ee,bG as he,H as ye,j as J,e as _e,ab as xe,u as pe,bk as we,aq as ke,K as Se,ac as D,ad as v,ae as k,ag as T,aw as i,ax as te,am as o,al as h,af as l,U as K,bd as ae,ai as le,aj as ne,ak as I,bc as Ve,av as qe,ao as se,ah as oe,at as Pe,aY as Ce,a3 as Be,a$ as Qe,an as G,au as je,bH as ue}from"./index.1d69a0ea.js";import{Q as ie}from"./QImg.5a0e8a4b.js";import{Q as H}from"./QItemLabel.ad115115.js";import{a as M,Q as Ne}from"./QTabs.f7f05dd7.js";import{b as Ie}from"./format.865294d5.js";import{Q as Me}from"./QPage.f1bff2f4.js";import{u as Fe,A as Le}from"./blogs.32584271.js";import{_ as re}from"./NewsVerticalCard.f3a309be.js";import{s as $e,d as De}from"./common.caded946.js";import"./QResizeObserver.38efcdf5.js";import"./rtl.b51694b1.js";import"./plugin-vue_export-helper.21dcd24c.js";function R(e,r){return[!0,!1].includes(e)?e:r}var Te=me({name:"QPagination",props:{...ve,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||ge.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:r}){const{proxy:V}=be(),{$q:b}=V,W=fe(e,b),m=s(()=>parseInt(e.min,10)),c=s(()=>parseInt(e.max,10)),E=s(()=>parseInt(e.maxPages,10)),A=s(()=>x.value+" / "+c.value),X=s(()=>R(e.boundaryLinks,e.input)),y=s(()=>R(e.boundaryNumbers,!e.input)),O=s(()=>R(e.directionLinks,e.input)),_=s(()=>R(e.ellipses,!e.input)),q=S(null),x=s({get:()=>e.modelValue,set:t=>{if(t=parseInt(t,10),e.disable||isNaN(t))return;const a=Ie(t,m.value,c.value);e.modelValue!==a&&r("update:modelValue",a)}});ce(()=>`${m.value}|${c.value}`,()=>{x.value=e.modelValue});const B=s(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),P=s(()=>e.gutter in ee?`${ee[e.gutter]}px`:e.gutter||null),F=s(()=>P.value!==null?`--q-pagination-gutter-parent:-${P.value};--q-pagination-gutter-child:${P.value}`:null),g=s(()=>{const t=[e.iconFirst||b.iconSet.pagination.first,e.iconPrev||b.iconSet.pagination.prev,e.iconNext||b.iconSet.pagination.next,e.iconLast||b.iconSet.pagination.last];return b.lang.rtl===!0?t.reverse():t}),p=s(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),d=s(()=>he(e,"flat")),n=s(()=>({[d.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),C=s(()=>{const t={[d.value]:!1};return e.activeDesign!==""&&(t[e.activeDesign]=!0),t}),U=s(()=>({...C.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),Q=s(()=>{let t=Math.max(E.value,1+(_.value?2:0)+(y.value?2:0));const a={pgFrom:m.value,pgTo:c.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(c.value).length)}em`}};return E.value&&t<c.value-m.value+1&&(t=1+Math.floor(t/2)*2,a.pgFrom=Math.max(m.value,Math.min(c.value-t+1,e.modelValue-Math.floor(t/2))),a.pgTo=Math.min(c.value,a.pgFrom+t-1),y.value&&(a.boundaryStart=!0,a.pgFrom++),_.value&&a.pgFrom>m.value+(y.value?1:0)&&(a.ellipsesStart=!0,a.pgFrom++),y.value&&(a.boundaryEnd=!0,a.pgTo--),_.value&&a.pgTo<c.value-(y.value?1:0)&&(a.ellipsesEnd=!0,a.pgTo--)),a});function Y(t){x.value=t}function z(t){x.value=x.value+t}const f=s(()=>{function t(){x.value=q.value,q.value=null}return{"onUpdate:modelValue":a=>{q.value=a},onKeyup:a=>{ye(a,13)===!0&&t()},onBlur:t}});function u(t,a,j){const N={"aria-label":a,"aria-current":"false",...n.value,...t};return j===!0&&Object.assign(N,{"aria-current":"true",...U.value}),a!==void 0&&(e.toFn!==void 0?N.to=e.toFn(a):N.onClick=()=>{Y(a)}),$(J,N)}return Object.assign(V,{set:Y,setByOffset:z}),()=>{const t=[],a=[];let j;if(X.value===!0&&(t.push(u({key:"bls",disable:e.disable||e.modelValue<=m.value,icon:g.value[0]},m.value)),a.unshift(u({key:"ble",disable:e.disable||e.modelValue>=c.value,icon:g.value[3]},c.value))),O.value===!0&&(t.push(u({key:"bdp",disable:e.disable||e.modelValue<=m.value,icon:g.value[1]},e.modelValue-1)),a.unshift(u({key:"bdn",disable:e.disable||e.modelValue>=c.value,icon:g.value[2]},e.modelValue+1))),e.input!==!0){j=[];const{pgFrom:N,pgTo:Z,marginalStyle:L}=Q.value;if(Q.value.boundaryStart===!0){const w=m.value===e.modelValue;t.push(u({key:"bns",style:L,disable:e.disable,label:m.value},m.value,w))}if(Q.value.boundaryEnd===!0){const w=c.value===e.modelValue;a.unshift(u({key:"bne",style:L,disable:e.disable,label:c.value},c.value,w))}Q.value.ellipsesStart===!0&&t.push(u({key:"bes",style:L,disable:e.disable,label:"\u2026",ripple:!1},N-1)),Q.value.ellipsesEnd===!0&&a.unshift(u({key:"bee",style:L,disable:e.disable,label:"\u2026",ripple:!1},Z+1));for(let w=N;w<=Z;w++)j.push(u({key:`bpg${w}`,style:L,disable:e.disable,label:w},w,w===e.modelValue))}return $("div",{class:B.value,...p.value},[$("div",{class:"q-pagination__content row no-wrap items-center",style:F.value},[...t,e.input===!0?$(de,{class:"inline",style:{width:`${A.value.length/1.5}em`},type:"number",dense:!0,value:q.value,disable:e.disable,dark:W.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:A.value,min:m.value,max:c.value,...f.value}):$("div",{class:"q-pagination__middle row justify-center"},j),...a])])}}});const Ee={key:0,class:"row justify-center q-my-xl q-py-xl"},Ae={class:"col-11 col-xl-9"},Oe={class:"row justify-start items-center q-mt-lg text-grey-2 text-h5"},Ue={class:"q-my-lg"},Ye={class:"row justify-between items-center q-mb-xl"},ze={class:"col-12 col-md-6 cursor-pointer self-stretch"},Ke={class:"q-pa-sm full-height"},Ge=i("span",{class:"q-focus-helper"},null,-1),He={class:"col-12 col-md-6 column self-stretch no-wrap"},Re=i("div",{class:"row q-my-xl"},null,-1),We={class:"row justify-between q-my-xl"},Xe={class:"col-12 col-md-9 q-px-sm"},Je={key:0,class:"row justify-center"},Ze={class:"col-12 col-md-3 q-px-md"},et={class:"text-grey-4"},tt={class:"row justify-between items-center q-mb-xl"},at={class:"row justify-between items-center"},lt={class:"text-h6 text-overline"},nt={class:"row items-center"},st={class:"row justify-between items-center"},ot={class:"text-h6 text-overline"},_t=_e({__name:"NewsroomPage",setup(e){const{t:r}=xe({useScope:"global"}),V=pe(),b=Fe(),W=we(),m=S(W.query.tag||"all"),{blogs:c,authors:E,allBlogs:A}=ke(b),X=s(()=>E.value.map(p=>({label:p.name,value:p.name}))),y=S(!1),O=S(!0),_=S(1),q=S(1),x=S(""),B=S([]),P=S([]),F=S([]);ce([m,_,x,P,B,A],async([p,d,n,C,U,Q],[Y,z])=>{p!==Y&&(O.value=!1,y.value=!0);let f=Q;if(C.length>0&&(f=f.filter(u=>C.map(t=>t.toLowerCase()).some(t=>u.title.toLowerCase().includes(t)))),U.length>0&&(f=f.filter(u=>U.some(t=>u.authors.map(a=>a.name).includes(t)))),p!=="all"&&(p==="featured"?f=f.filter(u=>u.featured):f=f.filter(u=>u.tags.map(t=>t.name.toLowerCase()).includes(p))),n&&(f=f.filter(u=>u.title.toLowerCase().includes(n.toLowerCase()))),f.length>0){const t=f.length;q.value=Math.ceil(t/12),z&&z>q.value&&(_.value=1);const a=(_.value-1)*12,j=a+12;F.value=f.slice(a,j)}else q.value=0,_.value=1,F.value=[];O.value=!0,y.value=!1},{immediate:!0});const g=s(()=>c.value.featured);return Se(async()=>{await b.getNewsBy({tag:"featured"}),await b.getAuthors(),await b.getAllNews()}),$e({t:r,page:"newsroom_page",banner:"banner-newsroom.png",url:"news"}),(p,d)=>(k(),D(Me,null,{default:v(()=>[g.value.length?(k(),T("div",Ee,[i("div",Ae,[i("div",{class:te(["text-h1 q-mt-xl text-weight-bold",{"text-h1":o(V).screen.xl||o(V).screen.lg,"text-h2":o(V).screen.md,"text-h3":o(V).screen.sm,"text-h4":o(V).screen.xs}])},h(o(r)("newsroom_page.title")),3),i("div",Oe,[l(K,{name:"whatshot"}),i("div",Ue,h(o(r)("newsroom_page.top_stories")),1)]),i("div",Ye,[i("div",ze,[i("div",Ke,[l(qe,{flat:"",tag:"a",class:"block full-height q-hoverable non-selectable",href:`/news/${g.value[0].slug}`,target:"__blank",style:{overflow:"hidden","text-decoration":"none !important"}},{default:v(()=>[Ge,l(ie,{src:g.value[0].featureImage},null,8,["src"]),l(ae,null,{default:v(()=>[l(le,null,{default:v(()=>[l(ne,null,{default:v(()=>[l(H,{lines:"2",class:"text-h5 text-weight-light q-mb-lg"},{default:v(()=>[I(h(g.value[0].title),1)]),_:1}),l(H,{caption:""},{default:v(()=>[I(h(g.value[0].excerpt),1)]),_:1})]),_:1})]),_:1})]),_:1}),l(ae,null,{default:v(()=>[l(le,null,{default:v(()=>[l(Le,{authors:g.value[0].authors},null,8,["authors"]),l(ne,null,{default:v(()=>[l(H,null,{default:v(()=>[I(h(g.value[0].authors.map(n=>n.name).join(", ")),1)]),_:1}),l(H,{caption:""},{default:v(()=>[I(h(o(Ve)(g.value[0].publishedAt).format("MMMM DD, YYYY"))+" \u2022 "+h(g.value[0].readingTime)+" "+h(o(r)("newsroom_page.minutes_read")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["href"])])]),i("div",He,[(k(!0),T(se,null,oe(g.value.slice(1,3),(n,C)=>(k(),T("div",{class:"col-6 q-pa-sm",key:C},[l(re,{item:n,class:"full-height"},null,8,["item"])]))),128))])]),Re,i("div",We,[i("div",Xe,[l(Ne,{modelValue:m.value,"onUpdate:modelValue":d[0]||(d[0]=n=>m.value=n),"inline-label":"","active-color":"white",align:"left"},{default:v(()=>[l(M,{name:"all",label:o(r)("blog_tags.all"),icon:"collections_bookmark"},null,8,["label"]),l(M,{name:"tech blog",label:o(r)("blog_tags.tech-blog")},null,8,["label"]),l(M,{name:"releases",label:o(r)("blog_tags.releases")},null,8,["label"]),l(M,{name:"insights",label:o(r)("blog_tags.insights")},null,8,["label"]),l(M,{name:"knowledge base",label:o(r)("blog_tags.knowledge-base")},null,8,["label"]),l(M,{name:"events",label:o(r)("blog_tags.events")},null,8,["label"]),l(M,{name:"featured",label:o(r)("blog_tags.featured"),icon:"star"},null,8,["label"])]),_:1},8,["modelValue"]),l(Pe),y.value?(k(),T("div",Je,[l(Ce,{color:"white",size:"xl",class:"q-my-xl"})])):(k(!0),T(se,{key:1},oe(F.value,(n,C)=>(k(),D(re,{key:C,item:n,class:"q-my-md"},null,8,["item"]))),128)),Be(l(Te,{"active-design":"flat","active-text-color":"white","text-color":"grey-6",modelValue:_.value,"onUpdate:modelValue":d[1]||(d[1]=n=>_.value=n),max:q.value,"max-pages":5,"direction-links":"","boundary-links":"",class:te(["row justify-center",o(V).screen.gt.xs?"q-ma-xl":"q-ma-lg"])},null,8,["modelValue","max","class"]),[[Qe,!y.value]])]),i("div",Ze,[i("div",et,[i("div",tt,[l(de,{outlined:"",square:"",modelValue:x.value,"onUpdate:modelValue":d[2]||(d[2]=n=>x.value=n),placeholder:o(r)("newsroom_page.search"),class:"full-width"},{append:v(()=>[l(K,{name:"search"})]),_:1},8,["modelValue","placeholder"])]),i("div",at,[i("div",lt,[l(K,{name:"filter_alt"}),I(" "+h(o(r)("newsroom_page.product")),1)]),P.value.length?(k(),D(J,{key:0,"no-caps":"",flat:"",round:"",onClick:d[3]||(d[3]=n=>P.value=[]),icon:"clear"})):G("",!0)]),l(ue,{options:o(De),type:"checkbox",modelValue:P.value,"onUpdate:modelValue":d[4]||(d[4]=n=>P.value=n),inline:"",class:"q-mb-xl"},{label:v(n=>[i("div",nt,[l(je,null,{default:v(()=>[n.icon?(k(),D(ie,{key:0,fit:"contain",height:"32px",width:"32px",src:n.icon},null,8,["src"])):G("",!0)]),_:2},1024),I(" "+h(n.label),1)])]),_:1},8,["options","modelValue"]),i("div",st,[i("div",ot,[l(K,{name:"filter_alt"}),I(" "+h(o(r)("newsroom_page.author")),1)]),B.value.length?(k(),D(J,{key:0,"no-caps":"",flat:"",round:"",onClick:d[5]||(d[5]=n=>B.value=[]),icon:"clear"})):G("",!0)]),l(ue,{options:X.value,type:"checkbox",modelValue:B.value,"onUpdate:modelValue":d[6]||(d[6]=n=>B.value=n),inline:""},null,8,["options","modelValue"])])])])])])):G("",!0)]),_:1}))}});export{_t as default};
