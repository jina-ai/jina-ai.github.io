import{k as me,R as ve,bI as ge,S as fe,h as i,f as k,w as ce,i as T,br as de,C as be,bJ as ee,bK as he,H as ye,j as H,e as _e,a6 as xe,u as pe,bf as we,am as ke,K as Se,a7 as $,a8 as v,a9 as _,ab as A,as as u,at as te,ai as o,ah as x,aa as l,aj as K,bc as ae,ad as le,ae as ne,ag as N,bb as Ve,ar as qe,ak as se,ac as oe,ap as Ce,aV as Pe,Z as Be,aY as Qe,af as E,aq as je,bL as ie}from"./index.c3aae822.js";import{Q as ue}from"./QImg.6e3c1a8e.js";import{Q as R}from"./QItemLabel.5e52300e.js";import{a as L,Q as Ne}from"./QTabs.be557e22.js";import{b as Le}from"./format.865294d5.js";import{Q as Ie}from"./QPage.d475bb39.js";import{u as Me,A as $e}from"./blogs.0412cfcb.js";import{_ as re}from"./NewsVerticalCard.409da57c.js";import{h as De}from"./common.41d3c8c8.js";import{u as Fe}from"./useMetaTags.39d601fb.js";import"./QResizeObserver.1d3076ff.js";import"./rtl.b51694b1.js";import"./plugin-vue_export-helper.21dcd24c.js";function G(e,r){return[!0,!1].includes(e)?e:r}var Te=me({name:"QPagination",props:{...ve,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||ge.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:r}){const{proxy:S}=be(),{$q:f}=S,J=fe(e,f),m=i(()=>parseInt(e.min,10)),d=i(()=>parseInt(e.max,10)),O=i(()=>parseInt(e.maxPages,10)),U=i(()=>h.value+" / "+d.value),W=i(()=>G(e.boundaryLinks,e.input)),Q=i(()=>G(e.boundaryNumbers,!e.input)),I=i(()=>G(e.directionLinks,e.input)),M=i(()=>G(e.ellipses,!e.input)),b=k(null),h=i({get:()=>e.modelValue,set:t=>{if(t=parseInt(t,10),e.disable||isNaN(t))return;const a=Le(t,m.value,d.value);e.modelValue!==a&&r("update:modelValue",a)}});ce(()=>`${m.value}|${d.value}`,()=>{h.value=e.modelValue});const D=i(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),V=i(()=>e.gutter in ee?`${ee[e.gutter]}px`:e.gutter||null),j=i(()=>V.value!==null?`--q-pagination-gutter-parent:-${V.value};--q-pagination-gutter-child:${V.value}`:null),C=i(()=>{const t=[e.iconFirst||f.iconSet.pagination.first,e.iconPrev||f.iconSet.pagination.prev,e.iconNext||f.iconSet.pagination.next,e.iconLast||f.iconSet.pagination.last];return f.lang.rtl===!0?t.reverse():t}),g=i(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),y=i(()=>he(e,"flat")),c=i(()=>({[y.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),n=i(()=>{const t={[y.value]:!1};return e.activeDesign!==""&&(t[e.activeDesign]=!0),t}),P=i(()=>({...n.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),B=i(()=>{let t=Math.max(O.value,1+(M.value?2:0)+(Q.value?2:0));const a={pgFrom:m.value,pgTo:d.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(d.value).length)}em`}};return O.value&&t<d.value-m.value+1&&(t=1+Math.floor(t/2)*2,a.pgFrom=Math.max(m.value,Math.min(d.value-t+1,e.modelValue-Math.floor(t/2))),a.pgTo=Math.min(d.value,a.pgFrom+t-1),Q.value&&(a.boundaryStart=!0,a.pgFrom++),M.value&&a.pgFrom>m.value+(Q.value?1:0)&&(a.ellipsesStart=!0,a.pgFrom++),Q.value&&(a.boundaryEnd=!0,a.pgTo--),M.value&&a.pgTo<d.value-(Q.value?1:0)&&(a.ellipsesEnd=!0,a.pgTo--)),a});function z(t){h.value=t}function Z(t){h.value=h.value+t}const Y=i(()=>{function t(){h.value=b.value,b.value=null}return{"onUpdate:modelValue":a=>{b.value=a},onKeyup:a=>{ye(a,13)===!0&&t()},onBlur:t}});function s(t,a,p){const q={"aria-label":a,"aria-current":"false",...c.value,...t};return p===!0&&Object.assign(q,{"aria-current":"true",...P.value}),a!==void 0&&(e.toFn!==void 0?q.to=e.toFn(a):q.onClick=()=>{z(a)}),T(H,q)}return Object.assign(S,{set:z,setByOffset:Z}),()=>{const t=[],a=[];let p;if(W.value===!0&&(t.push(s({key:"bls",disable:e.disable||e.modelValue<=m.value,icon:C.value[0]},m.value)),a.unshift(s({key:"ble",disable:e.disable||e.modelValue>=d.value,icon:C.value[3]},d.value))),I.value===!0&&(t.push(s({key:"bdp",disable:e.disable||e.modelValue<=m.value,icon:C.value[1]},e.modelValue-1)),a.unshift(s({key:"bdn",disable:e.disable||e.modelValue>=d.value,icon:C.value[2]},e.modelValue+1))),e.input!==!0){p=[];const{pgFrom:q,pgTo:X,marginalStyle:F}=B.value;if(B.value.boundaryStart===!0){const w=m.value===e.modelValue;t.push(s({key:"bns",style:F,disable:e.disable,label:m.value},m.value,w))}if(B.value.boundaryEnd===!0){const w=d.value===e.modelValue;a.unshift(s({key:"bne",style:F,disable:e.disable,label:d.value},d.value,w))}B.value.ellipsesStart===!0&&t.push(s({key:"bes",style:F,disable:e.disable,label:"\u2026",ripple:!1},q-1)),B.value.ellipsesEnd===!0&&a.unshift(s({key:"bee",style:F,disable:e.disable,label:"\u2026",ripple:!1},X+1));for(let w=q;w<=X;w++)p.push(s({key:`bpg${w}`,style:F,disable:e.disable,label:w},w,w===e.modelValue))}return T("div",{class:D.value,...g.value},[T("div",{class:"q-pagination__content row no-wrap items-center",style:j.value},[...t,e.input===!0?T(de,{class:"inline",style:{width:`${U.value.length/1.5}em`},type:"number",dense:!0,value:b.value,disable:e.disable,dark:J.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:U.value,min:m.value,max:d.value,...Y.value}):T("div",{class:"q-pagination__middle row justify-center"},p),...a])])}}});const Ae={key:0,class:"row justify-center q-my-xl q-py-xl"},Ee={class:"col-11 col-xl-9"},Oe={class:"row q-mt-xl justify-around items-center"},Ue={class:"row justify-start items-center q-mt-lg text-grey-2 text-h5"},ze={class:"q-my-lg"},Ye={class:"row justify-between items-center q-mb-xl"},Ke={class:"col-12 col-md-6 cursor-pointer self-stretch"},Re={class:"q-pa-sm full-height"},Ge=u("span",{class:"q-focus-helper"},null,-1),He={class:"col-12 col-md-6 column self-stretch no-wrap"},Je=u("div",{class:"row q-my-xl"},null,-1),We={class:"row justify-between q-my-xl"},Ze={class:"col-12 col-md-9 q-px-sm"},Xe={key:0,class:"row justify-center"},et={class:"col-12 col-md-3 q-px-md"},tt={class:"text-grey-4"},at={class:"row justify-between items-center q-mb-xl"},lt={class:"row justify-between items-center"},nt={class:"text-h6 text-overline"},st={class:"row items-center"},ot={class:"row justify-between items-center"},it={class:"text-h6 text-overline"},pt=_e({__name:"NewsroomPage",setup(e){const{t:r}=xe({useScope:"global"}),S=pe(),f=Me(),J=we(),m=k(J.query.tag||"all"),{blogs:d,authors:O,allBlogs:U}=ke(f),W=i(()=>O.value.map(y=>({label:y.name,value:y.name}))),Q=()=>{window.open("https://jina.ai/feed.rss","_blank")},I=k(!1),M=k(!0),b=k(1),h=k(1),D=k(""),V=k([]),j=k([]),C=k([]);ce([m,b,D,j,V,U],async([y,c,n,P,B,z],[Z,Y])=>{y!==Z&&(M.value=!1,I.value=!0);let s=z;if(P.length>0&&(s=s.filter(t=>P.map(a=>a.toLowerCase()).some(a=>t.title.toLowerCase().includes(a)||t.title.toLowerCase().includes(r(a).toLowerCase())))),B.length>0&&(s=s.filter(t=>B.some(a=>t.authors.map(p=>p.name).includes(a)))),y!=="all"&&(y==="featured"?s=s.filter(t=>t.featured):s=s.filter(t=>t.tags.map(a=>a.name.toLowerCase()).includes(y))),n&&(s=s.filter(t=>t.title.toLowerCase().includes(n.toLowerCase()))),s.length>0){const a=s.length;h.value=Math.ceil(a/12),Y&&Y>h.value&&(b.value=1);const p=(b.value-1)*12,q=p+12;C.value=s.slice(p,q)}else h.value=0,b.value=1,C.value=[];M.value=!0,I.value=!1},{immediate:!0});const g=i(()=>d.value.featured);return Se(async()=>{await f.getNewsBy({tag:"featured"}),await f.getAuthors(),await f.getAllNews()}),Fe({page:"newsroom_page",banner:"banner-newsroom.png",url:"news"}),(y,c)=>(_(),$(Ie,null,{default:v(()=>[g.value.length?(_(),A("div",Ae,[u("div",Ee,[u("div",Oe,[u("div",{class:te(["col text-h1 text-weight-bold",{"text-h1":o(S).screen.xl||o(S).screen.lg,"text-h2":o(S).screen.md,"text-h3":o(S).screen.sm,"text-h4":o(S).screen.xs}])},x(o(r)("newsroom_page.title")),3),l(H,{class:"col-auto",outline:"",square:"",icon:"rss_feed",label:"RSS",onClick:c[0]||(c[0]=n=>Q())})]),u("div",Ue,[l(K,{name:"whatshot"}),u("div",ze,x(o(r)("newsroom_page.top_stories")),1)]),u("div",Ye,[u("div",Ke,[u("div",Re,[l(qe,{flat:"",tag:"a",class:"block full-height q-hoverable non-selectable",href:`/news/${g.value[0].slug}`,target:"_blank",style:{overflow:"hidden","text-decoration":"none !important"}},{default:v(()=>[Ge,l(ue,{src:g.value[0].featureImage},null,8,["src"]),l(ae,null,{default:v(()=>[l(le,null,{default:v(()=>[l(ne,null,{default:v(()=>[l(R,{lines:"2",class:"text-h5 text-weight-light q-mb-lg"},{default:v(()=>[N(x(g.value[0].title),1)]),_:1}),l(R,{caption:""},{default:v(()=>[N(x(g.value[0].excerpt),1)]),_:1})]),_:1})]),_:1})]),_:1}),l(ae,null,{default:v(()=>[l(le,null,{default:v(()=>[l($e,{authors:g.value[0].authors},null,8,["authors"]),l(ne,null,{default:v(()=>[l(R,null,{default:v(()=>[N(x(g.value[0].authors.map(n=>n.name).join(", ")),1)]),_:1}),l(R,{caption:""},{default:v(()=>[N(x(o(Ve)(g.value[0].publishedAt).format("MMMM DD, YYYY"))+" \u2022 "+x(g.value[0].readingTime)+" "+x(o(r)("newsroom_page.minutes_read")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["href"])])]),u("div",He,[(_(!0),A(se,null,oe(g.value.slice(1,3),(n,P)=>(_(),A("div",{class:"col-6 q-pa-sm",key:P},[l(re,{item:n,class:"full-height"},null,8,["item"])]))),128))])]),Je,u("div",We,[u("div",Ze,[l(Ne,{modelValue:m.value,"onUpdate:modelValue":c[1]||(c[1]=n=>m.value=n),"inline-label":"","active-color":"white",align:"left"},{default:v(()=>[l(L,{name:"all",label:o(r)("blog_tags.all"),icon:"collections_bookmark"},null,8,["label"]),l(L,{name:"tech blog",label:o(r)("blog_tags.tech-blog")},null,8,["label"]),l(L,{name:"releases",label:o(r)("blog_tags.releases")},null,8,["label"]),l(L,{name:"insights",label:o(r)("blog_tags.insights")},null,8,["label"]),l(L,{name:"knowledge base",label:o(r)("blog_tags.knowledge-base")},null,8,["label"]),l(L,{name:"events",label:o(r)("blog_tags.events")},null,8,["label"]),l(L,{name:"featured",label:o(r)("blog_tags.featured"),icon:"star"},null,8,["label"])]),_:1},8,["modelValue"]),l(Ce),I.value?(_(),A("div",Xe,[l(Pe,{color:"white",size:"xl",class:"q-my-xl"})])):(_(!0),A(se,{key:1},oe(C.value,(n,P)=>(_(),$(re,{key:P,item:n,class:"q-my-md"},null,8,["item"]))),128)),Be(l(Te,{"active-design":"flat","active-text-color":"white","text-color":"grey-6",modelValue:b.value,"onUpdate:modelValue":c[2]||(c[2]=n=>b.value=n),max:h.value,"max-pages":5,"direction-links":"","boundary-links":"",class:te(["row justify-center",o(S).screen.gt.xs?"q-ma-xl":"q-ma-lg"])},null,8,["modelValue","max","class"]),[[Qe,!I.value]])]),u("div",et,[u("div",tt,[u("div",at,[l(de,{outlined:"",square:"",modelValue:D.value,"onUpdate:modelValue":c[3]||(c[3]=n=>D.value=n),placeholder:o(r)("newsroom_page.search"),class:"full-width"},{append:v(()=>[l(K,{name:"search"})]),_:1},8,["modelValue","placeholder"])]),u("div",lt,[u("div",nt,[l(K,{name:"filter_alt"}),N(" "+x(o(r)("newsroom_page.product")),1)]),j.value.length?(_(),$(H,{key:0,dense:"","no-caps":"",flat:"",square:"",onClick:c[4]||(c[4]=n=>j.value=[]),icon:"clear"})):E("",!0)]),l(ie,{options:o(De),type:"checkbox",modelValue:j.value,"onUpdate:modelValue":c[5]||(c[5]=n=>j.value=n),inline:"",class:"q-mb-xl"},{label:v(n=>[u("div",st,[n.icon?(_(),$(je,{key:0},{default:v(()=>[n.icon?(_(),$(ue,{key:0,fit:"contain",height:"32px",width:"32px",src:n.icon},null,8,["src"])):E("",!0)]),_:2},1024)):E("",!0),N(" "+x(o(r)(n.label)),1)])]),_:1},8,["options","modelValue"]),u("div",ot,[u("div",it,[l(K,{name:"filter_alt"}),N(" "+x(o(r)("newsroom_page.author")),1)]),V.value.length?(_(),$(H,{key:0,"no-caps":"",flat:"",round:"",onClick:c[6]||(c[6]=n=>V.value=[]),icon:"clear"})):E("",!0)]),l(ie,{options:W.value,type:"checkbox",modelValue:V.value,"onUpdate:modelValue":c[7]||(c[7]=n=>V.value=n),inline:""},null,8,["options","modelValue"])])])])])])):E("",!0)]),_:1}))}});export{pt as default};
