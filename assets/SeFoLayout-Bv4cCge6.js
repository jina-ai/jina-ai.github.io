import{s as j,m as x,p as se,K as re,dn as ne,dz as le,w as ie,j as I,af as H,a0 as B,aF as R,aN as C,a1 as n,a2 as l,a3 as t,a4 as o,aj as v,aa as d,ak as _,ac as f,ai as A,a6 as b,ab as i,ah as ue,u as ce,an as T,k as w,V as me,n as de,ao as _e,ap as fe,dG as pe,cH as ve,cI as ye,q as M,aJ as U,a8 as Q,a7 as E,ad as y,aH as be,a9 as K,am as ge,aS as he}from"./index-BW27ZY71.js";import{Q as ke}from"./QToolbar-DZjl0dI2.js";import{u as Se,a as xe,b as De,Q as Te}from"./QTabs-eEze9s8J.js";import{P as we,d as Me,Q as Qe,a as Ee,b as Ne,c as Le}from"./PurchaseSuccessDialog-C11aesF-.js";import{a as S,Q as O}from"./QItemLabel-Wtx14Vof.js";import{Q as Re}from"./QMenu-C9yz0Lgb.js";import{Q as N}from"./QTooltip-CF7UfO0N.js";import{a as Ce,b as Ae}from"./finetune-Cv5rNYUZ.js";import{S as G,E as L,L as Ie}from"./se-fo-HnAW6ZUw.js";import{u as Be}from"./embedding-ClxKrQKX.js";import{u as Fe}from"./QForm-DlLE8xMq.js";import"./QResizeObserver-BtDZvm3o.js";import"./rtl-DFPa-2ov.js";import"./TouchPan-DPfdEO-g.js";import"./touch-BjYP5sR0.js";import"./position-engine-CwmUJeJ5.js";import"./format-DyQxkAtJ.js";import"./copy-to-clipboard-CcQUDu4x.js";import"./use-dialog-plugin-component-C0dAVGu1.js";import"./package-D9JPNs5w.js";const Pe=j({name:"QToolbarTitle",props:{shrink:Boolean},setup(u,{slots:s}){const r=x(()=>"q-toolbar__title ellipsis"+(u.shrink===!0?" col-shrink":""));return()=>se("div",{class:r.value},re(s.default))}}),qe=j({name:"QRouteTab",props:{...ne,...Se},emits:xe,setup(u,{slots:s,emit:r}){const e=le({useDisableForRouterLinkProps:!1}),{renderTab:p,$tabs:m}=De(u,s,r,{exact:x(()=>u.exact),...e});return ie(()=>`${u.name} | ${u.exact} | ${(e.resolvedLink.value||{}).href}`,m.verifyRouteModel),()=>p(e.linkTag.value,e.linkAttrs.value)}}),ze=I({__name:"DrawerItemComponent",props:{item:{type:Object,required:!0},isActive:{type:Boolean,default:!1}},setup(u,{expose:s}){s();const{t:r}=H({useScope:"global"}),e={t:r};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}});function Ve(u,s,r,e,p,m){return R((n(),l(A,{to:{name:"api",params:{tab:r.item.name}},"active-class":"text-primary",clickable:""},{default:t(()=>[o(v,{avatar:""},{default:t(()=>[o(d,{name:r.item.icon.includes(".svg")?`img:${r.isActive?r.item.activeIcon:r.item.icon}`:r.item.icon},null,8,["name"])]),_:1}),o(v,null,{default:t(()=>[o(S,{lines:"1"},{default:t(()=>[_(f(e.t(r.item.label)),1)]),_:1})]),_:1})]),_:1},8,["to"])),[[C]])}const Ue=B(ze,[["render",Ve],["__file","DrawerItemComponent.vue"]]),Ke=I({__name:"AnimatedLogo",props:{miniState:Boolean},setup(u,{expose:s}){s();const r={};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),Oe={style:{height:"56px"},class:"row items-center absolute-top"},Ge={style:{"padding-left":"20px"}},je={viewBox:"0 0 232 100",style:{width:"56px",height:"56px",transition:"all 0.2s ease-in-out"}},He={fill:"#FFFFFF"};function Je(u,s,r,e,p,m){return n(),b("div",Oe,[i("div",Ge,[(n(),b("svg",je,[i("g",He,[s[1]||(s[1]=i("circle",{id:"j-dot",cx:"15",cy:"84.5",r:"15"},null,-1)),s[2]||(s[2]=i("path",{id:"letter-j",d:"M61.5 36.35c2 0 3.6 1.6 3.6 3.6v29.3c0 16.7-13.5 30.3-30 30.5V69.3l-.1-29.4c0-2 1.6-3.6 3.6-3.6h23.3z"},null,-1)),i("g",{style:ue({opacity:r.miniState?0:1,transition:"opacity 0.2s ease-in-out"})},s[0]||(s[0]=[i("circle",{id:"top-dot",cx:"96",cy:"15",r:"15"},null,-1),i("path",{id:"letter-i",d:"M81 40c0-2 1.5-3.6 3.6-3.6h23.4c2 0 3.6 1.6 3.6 3.6v41c0 2-1.6 3.6-3.6 3.6H84.6c-2 0-3.6-1.6-3.6-3.6V40z"},null,-1),i("path",{id:"letter-n",d:"M128.5 39.8c0-2 1.6-3.6 3.6-3.6h13.3l.5.1c15 .2 27.2 12.3 27.6 27.3v17.3c0 2-1.6 3.6-3.6 3.6h-37.8c-2 0-3.6-1.6-3.6-3.6V39.8z"},null,-1),i("path",{id:"letter-a",d:"M207.2 84h-.2c-12.6-.7-22.5-11.2-22.5-24 0-13.3 10.8-24.1 24.1-24.1 12.8 0 23.3 10 24 22.6h.1V80.4c0 2-1.6 3.6-3.6 3.6h-21.9z"},null,-1)]),4)])]))])])}const Ye=B(Ke,[["render",Je],["__file","AnimatedLogo.vue"]]),We=I({__name:"SeFoLayout",setup(u,{expose:s}){s();const{t:r}=H({useScope:"global"}),e=de(),p=_e(),m=fe(),g=ce(),{user:a}=T(g),D=Be(),{apiKeyTokens:J,isPremiumPaidUser:Y,isPaidUser:W}=T(D),F=Fe(),{keys:X}=T(F),Z=w(!0),P=w(!0),h=w(),$=G.filter(c=>c.tooling),ee=x(()=>{let c=[],V={};return G.forEach(k=>{k.name===L.KEY_MANAGER?V=k:k.showsOn.includes("menu")&&c.push(k)}),a.value.uid&&c.unshift(V),c}),ae=c=>{h.value&&clearTimeout(h.value),h.value=setTimeout(()=>{P.value=!c},100)},te=()=>{a.value.uid?p.push({params:{tab:L.KEY_MANAGER}}):(ve(ye,"click_login_button"),e.dialog({component:Ie,componentProps:{user:a},persistent:!0}))},oe=x(()=>a.value.uid?a.value.displayName||a.value.email||a.value.uid:r("key_manager.login"));function q(){if(m.query.purchase_status==="success"){const c=new Date(parseInt(m.query.session_id)).toLocaleString();pe.create({component:we,componentProps:{purchasedTime:c,hideActions:!0}})}}me(()=>{q(),D.getCurrentKeyInfo()});const z={t:r,$q:e,router:p,route:m,userStore:g,user:a,embeddingStore:D,apiKeyTokens:J,isPremiumPaidUser:Y,isPaidUser:W,apiKeyStore:F,keys:X,drawer:Z,miniState:P,timeout:h,seFoMoreRoutes:$,seFoRoutes:ee,handleMouseMove:ae,login:te,userDisplayName:oe,checkPurchaseStatus:q,get formatNumber(){return Ce},get formatNumberShort(){return Ae},get EMBEDDING_TABS(){return L},DrawerItemComponent:Ue,AnimatedLogo:Ye};return Object.defineProperty(z,"__isScriptSetup",{enumerable:!1,value:!0}),z}}),Xe=["src","alt"],Ze={class:"absolute-bottom"},$e=["src","alt"],ea={key:0};function aa(u,s,r,e,p,m){const g=he("router-view");return n(),l(Me,{view:"lHh Lpr lff",class:"main-layout"},{default:t(()=>[e.$q.screen.gt.sm?y("",!0):(n(),l(Qe,{key:0,bordered:"",reveal:"",class:"bg-mixed-200 text-white","height-hint":"98"},{default:t(()=>[o(ke,{class:"q-pa-none"},{default:t(()=>[o(M,{flat:"",square:"",stretch:"",icon:"img:/J.svg",to:{name:"landing"}}),o(Pe,{class:"my-font non-selectable"}),o(M,{flat:"",stretch:"",square:"",onClick:e.userStore.logout},{default:t(()=>[e.user.photoURL?(n(),l(U,{key:0,size:"sm",round:"",class:"bordered-avatar"},{default:t(()=>[i("img",{src:e.user.photoURL,referrerpolicy:"no-referrer",alt:e.userDisplayName},null,8,Xe)]),_:1})):(n(),l(d,{key:1,size:"sm",round:"",name:"person"})),o(d,{name:"logout",class:"q-ml-md"})]),_:1},8,["onClick"])]),_:1}),e.user&&e.$q.screen.lt.md?(n(),l(Te,{key:0,shrink:"","mobile-arrows":"",align:"left"},{default:t(()=>[(n(!0),b(E,null,Q([...e.seFoRoutes,...e.seFoMoreRoutes],a=>(n(),l(qe,{key:a.name,to:{name:"api",params:{tab:a.name}},label:a.label?e.t(a.label):"",icon:a.tag==="usage"?`img:${a.name===(e.route.params.tab||e.EMBEDDING_TABS.CODE)?a.activeIcon:a.icon}`:a.icon,"active-class":"text-primary","no-caps":"",exact:"",replace:""},null,8,["to","label","icon"]))),128))]),_:1})):y("",!0)]),_:1})),e.$q.screen.gt.sm?(n(),l(Ee,{key:1,modelValue:e.drawer,"onUpdate:modelValue":s[1]||(s[1]=a=>e.drawer=a),"show-if-above":"",mini:e.miniState,onMouseover:s[2]||(s[2]=a=>e.handleMouseMove(!0)),onMouseout:s[3]||(s[3]=a=>e.handleMouseMove(!1)),"mini-to-overlay":"",width:250,breakpoint:500,bordered:"",class:"bg-mixed-200"},{default:t(()=>[i("div",{class:"row items-center absolute-top cursor-pointer",onClick:s[0]||(s[0]=a=>e.router.push({name:"landing"}))},[o(e.AnimatedLogo,{"mini-state":e.miniState},null,8,["mini-state"])]),o(Ne,{class:"fit",style:{"max-height":"calc(100% - 112px)","margin-top":"56px"},"horizontal-thumb-style":{opacity:"0"}},{default:t(()=>[o(O,null,{default:t(()=>[o(be,{"enter-to-class":"list-enter-from","enter-active-class":"animated bounceIn","leave-active-class":"animated backOutRight","leave-from-class":"list-leave-to","move-class":"list-move","enter-from-class":"list-enter-from","leave-to-class":"list-leave-to"},{default:t(()=>[(n(!0),b(E,null,Q(e.seFoRoutes,a=>(n(),l(e.DrawerItemComponent,{item:a,key:a==null?void 0:a.label,"is-active":a.name===(e.route.params.tab||e.EMBEDDING_TABS.CODE)},null,8,["item","is-active"]))),128)),R((n(),l(A,{clickable:"","active-class":"text-primary"},{default:t(()=>[o(v,{avatar:""},{default:t(()=>[o(d,{name:"service_toolbox"})]),_:1}),o(v,null,{default:t(()=>[o(S,{lines:"1"},{default:t(()=>[_(f(e.t("embedding.tools")),1)]),_:1})]),_:1}),o(Re,{class:"bg-mixed-300 lock-blur","auto-close":""},{default:t(()=>[o(O,{class:"cursor-pointer",style:{width:"250px"}},{default:t(()=>[(n(!0),b(E,null,Q(e.seFoMoreRoutes,a=>(n(),l(e.DrawerItemComponent,{item:a,key:a==null?void 0:a.label,"is-active":a.name===(e.route.params.tab||e.EMBEDDING_TABS.CODE)},null,8,["item","is-active"]))),128))]),_:1})]),_:1})]),_:1})),[[C]])]),_:1})]),_:1})]),_:1}),i("div",Ze,[R((n(),l(A,{clickable:"",style:{height:"56px"},onClick:e.login},{default:t(()=>[o(v,{avatar:"",class:"q-my-sm q-pr-none user-avatar"},{default:t(()=>[e.user.photoURL?(n(),l(U,{key:0,size:"sm",round:"",class:"bordered-avatar"},{default:t(()=>[i("img",{src:e.user.photoURL,referrerpolicy:"no-referrer",alt:e.userDisplayName},null,8,$e)]),_:1})):(n(),l(d,{key:1,size:"sm",round:"",name:"person"}))]),_:1}),o(v,null,{default:t(()=>[o(S,{lines:"1",class:"ellipsis row items-center"},{default:t(()=>[e.isPaidUser?(n(),l(d,{key:0,name:"verified",class:K([{"golden-foil":e.isPremiumPaidUser,"silver-foil":e.isPaidUser},"q-mr-xs"])},null,8,["class"])):y("",!0),_(" "+f(e.userDisplayName)+" ",1),o(N,null,{default:t(()=>[_(f(e.userDisplayName),1)]),_:1})]),_:1}),o(S,{caption:"",class:"ellipsis text-dim",style:{"font-size":"10px"}},{default:t(()=>[e.keys.length>1?(n(),b("span",ea,[o(d,{name:"o_key"}),_(" "+f(e.keys.length)+" ",1),o(N,null,{default:t(()=>[_(f(e.t("key_manager.total_keys")+": "+e.keys.length),1)]),_:1})])):y("",!0),i("span",{class:K({"text-negative":e.apiKeyTokens<=0})},[o(d,{name:"o_data_usage"}),_(" "+f(e.formatNumberShort(e.apiKeyTokens))+" ",1),o(N,null,{default:t(()=>[_(f(e.t("key_manager.balance_primary_key")+": "+e.formatNumber(e.apiKeyTokens)),1)]),_:1})],2)]),_:1})]),_:1}),e.user.uid?(n(),l(v,{key:0,side:""},{default:t(()=>[o(M,{flat:"",square:"",id:"more_menu",icon:"logout",onClick:ge(e.userStore.logout,["stop"])},null,8,["onClick"])]),_:1})):y("",!0)]),_:1})),[[C]])])]),_:1},8,["modelValue","mini"])):y("",!0),o(Le,null,{default:t(()=>[o(g)]),_:1})]),_:1})}const Sa=B(We,[["render",aa],["__file","SeFoLayout.vue"]]);export{Sa as default};
