import{Q as _e}from"./QImg.99b0d1bd.js";import{_ as ve,Q as he,a as ye}from"./AskAnythingToolTip.7a7c5da2.js";import{e as se,a6 as re,f as u,h as M,K as oe,a7 as f,a8 as a,at as D,u as le,aC as ge,a9 as i,ad as e,au as m,ah as t,bL as H,j as w,b$ as Z,af as C,ag as _,an as h,aa as x,ab as U,ai as q,am as ee,ak as V,aj as we,bA as xe,as as s,al as p}from"./index.bb53b1bc.js";import{u as qe}from"./useMetaTags.78a63f93.js";import{_ as be}from"./EmbeddingComponent.671f0b0e.js";import{T as ke}from"./TitleBlock.f9d04efa.js";import{_ as $e}from"./FAQComponent.2b12ffae.js";import{Q}from"./QTooltip.b7bad32c.js";import{Q as S}from"./QSkeleton.3b44ecd9.js";import{Q as te}from"./QLinearProgress.c42a4b80.js";import{c as Ce}from"./copy-to-clipboard.6cd1519a.js";import{_ as ae}from"./TypingText.ff0b6c04.js";import"./QItemLabel.8c72900a.js";import"./QTabs.413cdfaa.js";import"./QResizeObserver.0851b10e.js";import"./rtl.4aeb06d5.js";import"./QTabPanels.123cebbc.js";import"./use-panel.de237e08.js";import"./touch.3df10340.js";import"./position-engine.c5ad0dea.js";import"./use-cache.b0833c75.js";import"./QList.0b8a8cd2.js";import"./QBtnDropdown.4830e95f.js";import"./QMenu.aee20227.js";import"./ClosePopup.18e018ca.js";import"./embedding.fa52e914.js";import"./QTable.89885219.js";import"./QSelect.0f6ae66b.js";import"./use-fullscreen.47ab54f2.js";import"./ModelDropDown.a31ac615.js";import"./regexp.d033247d.js";import"./QForm.c4a7cd8b.js";import"./QExpansionItem.f3c38d30.js";var Qe="/assets/explain.442c5c8a.svg";const Te=se({__name:"ReaderDemoComponent",setup(ne){const{t:c}=re({useScope:"global"}),o=u(""),d=u(""),b=u(!1),k=u(!1),I=u("Summarize the content in two sentences."),ie=le(),z=["https://news.ycombinator.com/newest","https://huggingface.co/jinaai","https://twitter.com/elonmusk","https://en.wikipedia.org/wiki/Dot-com_bubble","https://arxiv.org/abs/2310.19923","https://about.google/","https://www.stanford.edu/","https://www.netflix.com/"],N=()=>z[Math.floor(Math.random()*z.length)],y=u(N()),T=M(()=>`https://r.jina.ai/${y.value}`),ce=M(()=>"https://corsproxy.io/?"+encodeURIComponent(y.value)),de=async()=>{b.value=!0;try{const l=await fetch(ce.value);if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const n=await l.text();o.value=`\`\`\`html
${n}
\`\`\``}catch(l){o.value=l.message}finally{b.value=!1}},O=u(null),g=u([]),$=u([]),R=u(!1),j=u(!1),E=u(!1),P=u(!1),F=async()=>{await Promise.all([K(!0),K(!1)])},K=async l=>{var J,X,W;if(!await((J=O.value)==null?void 0:J.validate()))return Promise.reject();const B={parameters:{question:I.value,context:l?o.value.slice(0,3e3):d.value.slice(0,3e3)}};l?(g.value=[],R.value=!0,E.value=!0):($.value=[],j.value=!0,P.value=!0);const r="https://api.promptperfect.jina.ai/ERK3nqviaFRyfGbkBsXD";try{const v=await fetch(r,{headers:{"content-type":"application/json"},body:JSON.stringify(B),method:"POST"});if(!v.ok)throw new Error(`HTTP error! status: ${v.status}`);if((X=v.headers.get("content-type"))!=null&&X.includes("text/event-stream")){if(v.body){const L=v.body.getReader(),me=new TextDecoder;for(;;){const{done:pe,value:Y}=await L.read();if(pe){l?E.value=!1:P.value=!1;break}Y&&me.decode(Y).split(`

`).forEach(fe=>{const A=fe.replace(/data: /g,"");A&&(l?g.value.push(A):$.value.push(A))})}}}else if((W=v.headers.get("content-type"))!=null&&W.includes("application/json")){const L=(await v.json()).data;l?g.value=[L]:$.value=[L]}else throw new Error("Unknown response type")}catch(v){ie.notify({color:"negative",message:c("landing_page.error",{message:v}),icon:"report_problem"})}finally{l?R.value=!1:j.value=!1}},ue=async()=>{k.value=!0;try{const l=await fetch(T.value);if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const n=await l.text();d.value=`\`\`\`md
${n}
\`\`\``}catch(l){d.value=l.message}finally{k.value=!1}},G=async()=>{await Promise.all([ue(),de()])};return oe(()=>{G().then(()=>{F()})}),(l,n)=>{const B=ge("q-markdown");return i(),f(D,{bordered:"",flat:"",square:"",class:"col-12 col-md-10"},{default:a(()=>[e(m,{horizontal:""},{default:a(()=>[e(m,{class:"col"},{default:a(()=>[e(t(H),{modelValue:y.value,"onUpdate:modelValue":n[2]||(n[2]=r=>y.value=r),label:t(c)("reader.demo.your_url"),type:"url",loading:b.value,hint:t(c)("reader.demo.your_url_hint")},{prepend:a(()=>[e(w,{dense:"",square:"",flat:"",icon:"casino",onClick:n[0]||(n[0]=r=>y.value=N())})]),append:a(()=>[e(w,{flat:"",dense:"",square:"",icon:"open_in_new",onClick:n[1]||(n[1]=r=>t(Z)(y.value))},{default:a(()=>[e(Q,null,{default:a(()=>[C(_(t(c)("demo.open")),1)]),_:1})]),_:1})]),_:1},8,["modelValue","label","loading","hint"])]),_:1}),e(h,{vertical:""}),e(m,{class:"col"},{default:a(()=>[e(t(H),{"model-value":T.value,label:t(c)("reader.demo.reader_url"),readonly:"",loading:k.value,hint:t(c)("reader.demo.reader_url_hint")},{append:a(()=>[e(w,{flat:"",dense:"",square:"",icon:"content_copy",onClick:n[3]||(n[3]=r=>t(Ce)(T.value))},{default:a(()=>[e(Q,null,{default:a(()=>[C(_(t(c)("copy")),1)]),_:1})]),_:1}),e(w,{flat:"",dense:"",square:"",icon:"open_in_new",onClick:n[4]||(n[4]=r=>t(Z)(T.value))},{default:a(()=>[e(Q,null,{default:a(()=>[C(_(t(c)("demo.open")),1)]),_:1})]),_:1})]),_:1},8,["model-value","label","loading","hint"])]),_:1})]),_:1}),e(h),e(w,{square:"",label:t(c)("reader.demo.fetch"),class:"full-width",icon:"download",onClick:G,padding:"md"},null,8,["label"]),e(h),e(m,{horizontal:""},{default:a(()=>[e(m,{class:"col-6"},{default:a(()=>[b.value?(i(),x(q,{key:0},U([100,200,300,300,200],r=>e(S,{type:"text",width:`${r}px`,key:r},null,8,["width"])),64)):(i(),f(B,{key:1,src:o.value,"no-line-numbers":"",style:{"max-height":"300px"}},null,8,["src"]))]),_:1}),e(h,{vertical:""}),e(m,{class:"col-6"},{default:a(()=>[k.value?(i(),x(q,{key:0},U([100,300,200,200,400],r=>e(S,{type:"text",width:`${r}px`,key:r},null,8,["width"])),64)):(i(),f(B,{key:1,src:d.value,"no-line-numbers":"",style:{"max-height":"300px"}},null,8,["src"]))]),_:1})]),_:1}),e(h),e(m,null,{default:a(()=>[e(t(H),{label:t(c)("reader.demo.ask_question"),modelValue:I.value,"onUpdate:modelValue":n[5]||(n[5]=r=>I.value=r),ref_key:"questionRef",ref:O,hint:t(c)("reader.demo.ask_question_hint")},{append:a(()=>[e(w,{icon:"send",onClick:F,padding:"md",square:""})]),_:1},8,["label","modelValue","hint"])]),_:1}),e(h),e(m,{horizontal:""},{default:a(()=>[R.value||g.value.length?(i(),f(D,{key:0,class:"col-6"},{default:a(()=>[R.value?(i(),f(m,{key:0},{default:a(()=>[e(ee,{name:"img:https://promptperfect.jina.ai/PromptPerfect-dark.svg",class:"q-mr-sm"},{default:a(()=>[e(Q,null,{default:a(()=>[C(_(t(c)("landing_page.powered_by_promptperfect")),1)]),_:1})]),_:1}),(i(),x(q,null,U([0,1,2,3],r=>e(S,{key:r,class:"q-my-xs",width:r>0?"":"100px",type:"text"},null,8,["width"])),64))]),_:1})):(i(),x(q,{key:1},[e(m,{class:"q-pa-lg"},{default:a(()=>[e(ae,{text:g.value,"speed-time":g.value?50:0},null,8,["text","speed-time"])]),_:1}),E.value?(i(),f(te,{key:0,indeterminate:""})):V("",!0)],64))]),_:1})):V("",!0),e(h,{vertical:""}),j.value||$.value.length?(i(),f(D,{key:1,class:"col-6"},{default:a(()=>[j.value?(i(),f(m,{key:0},{default:a(()=>[e(ee,{name:"img:https://promptperfect.jina.ai/PromptPerfect-dark.svg",class:"q-mr-sm"},{default:a(()=>[e(Q,null,{default:a(()=>[C(_(t(c)("landing_page.powered_by_promptperfect")),1)]),_:1})]),_:1}),(i(),x(q,null,U([0,1,2,3],r=>e(S,{key:r,class:"q-my-xs",width:r>0?"":"100px",type:"text"},null,8,["width"])),64))]),_:1})):(i(),x(q,{key:1},[e(m,{class:"q-pa-lg"},{default:a(()=>[e(ae,{text:$.value,"speed-time":P.value?50:0},null,8,["text","speed-time"])]),_:1}),P.value?(i(),f(te,{key:0,indeterminate:""})):V("",!0)],64))]),_:1})):V("",!0)]),_:1})]),_:1})}}});const Re={class:"col-12 col-md-11 q-py-xl q-mx-xs-xs q-mx-sm-sm q-mx-md-md q-mx-lg-lg q-mx-xl-xl q-ma-xl relative-position"},je={class:"row q-mt-xl q-pt-xl justify-center"},Pe={class:"row justify-center items-center"},Be={class:"col-11 col-md-8"},Le={class:"q-my-xl row justify-center items-center"},Ue={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},Ve={class:"row q-mt-xl q-pt-xl justify-center"},Se={class:"q-my-xl row justify-center items-center"},Ie={class:"row q-mt-xl q-py-xl justify-center"},Ee={class:"q-my-xl text-center text-grey-5 text-h6 text-weight-light"},Ae={class:"row justify-center"},De={class:"col-12 col-md-9 q-pb-xl"},He=se({__name:"ReaderPage",setup(ne){const c=we(),{t:o}=re({useScope:"global"});qe({page:"reader",banner:"banner-reader-api.png",url:"reader"});const d=le();return M(()=>[{title:o("reader.better_input"),description:o("reader.better_input_description"),name:"improve_input",icon:"mdi-import",anchor:"apiform"},{title:o("reader.fast_stream"),description:o("reader.fast_stream_description"),name:"stream",icon:"mdi-hydro-power",anchor:"benchmark"},{title:o("reader.free"),description:o("reader.free_description"),name:"free_forever",icon:"mdi-currency-usd-off",anchor:"apiform"}]),oe(async()=>{xe(c.hash)}),(b,k)=>(i(),f(he,null,{default:a(()=>[s("div",{class:p(["row items-center contact-us-background",t(d).screen.lt.sm?"q-pa-md":"q-pa-xl"])},[s("div",Re,[e(ke,{title:t(o)("landing_page.reader"),tagline:t(o)("reader.reader_description"),"large-title":!0,"button-anchor":"#apiform","button-label":t(o)("landing_page.get_api_now"),"button-icon":"code","button2-anchor":"#demo","button2-icon":"play_arrow","button2-label":t(o)("reader.demo.tagline")},null,8,["title","tagline","button-label","button2-label"])])],2),s("div",{class:p(t(d).screen.lt.sm?"q-pa-md":"q-pa-xl"),id:"what_reader"},[s("div",je,[s("div",{class:p(t(d).screen.lt.md?"q-mb-lg q-pb-md":"")},[s("h2",{class:p(["text-h2 text-white q-mb-lg text-center",t(d).screen.lt.md?"justify-center":""])},_(t(o)("reader.what_is")),3)],2)]),s("div",Pe,[s("div",Be,[e(_e,{src:Qe})])]),s("div",Le,[s("div",Ue,_(t(o)("reader.what_is_answer_long")),1)])],2),s("div",{class:p([t(d).screen.lt.sm?"q-pa-md":"q-pa-xl","bg-dark"]),id:"demo"},[s("div",Ve,[s("div",{class:p(t(d).screen.lt.md?"q-mb-lg q-pb-md":"")},[s("h2",{class:p(["text-h2 text-white q-mb-lg text-center",t(d).screen.lt.md?"justify-center":""])},_(t(o)("reader.demo.tagline")),3)],2)]),s("div",Se,[e(Te)])],2),s("div",{class:p(t(d).screen.lt.sm?"q-pa-md":"q-pa-xl"),id:"apiform"},[s("div",Ie,[s("div",{class:p(t(d).screen.lt.md?"q-mb-lg q-pb-md":"")},[s("h2",{class:p(["text-h2 text-white q-mb-lg text-center",t(d).screen.lt.md?"justify-center":""])},_(t(o)("reader.title")),3)],2)]),s("div",Ee,_(t(o)("reader.reader_description")),1),s("div",Ae,[s("div",De,[e(be,{"show-function":"reader","require-a-p-i-key":!1})])])],2),e($e,{"faq-sources":["reader.faq_v1"],dark:!0},null,8,["faq-sources"]),e(ye)]),_:1}))}});var bt=ve(He,[["__scopeId","data-v-5623ae74"]]);export{bt as default};
