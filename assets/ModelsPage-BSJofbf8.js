import{bG as $c,bI as Dy,cm as Ry,s as zy,bf as By,bg as Ly,p as rt,h as Hy,i as co,dn as Pd,w as et,j as lt,dp as gt,k as De,m as Ce,W as wn,b7 as Od,a3 as K,aa as Ne,cz as pr,dq as Re,aj as an,J as Mo,r as Fy,dr as $y,aV as $r,a6 as ne,a5 as X,ds as Ql,be as Gy,dt as Vy,V as Ft,aY as qr,l as Dd,du as Rd,a8 as Fe,ag as we,ab as Ye,ah as at,ai as Ct,ac as on,F as zd,dv as Uy,a4 as Me,dw as Bd,dx as Ii,dy as je,dz as Br,b8 as Ld,dA as qy,dB as Wy,cB as Yy,af as $e,cs as Xy,ak as wo,u as Jl,a0 as qi,n as jl,aO as Hd,aF as Pi,aG as Oi,aD as Di,a2 as Wi,q as cr,ao as ht,aR as Fd,aB as Pl,ad as Dn,ae as At,ay as $d,ct as Zy,cx as Ky,cy as Qy,b3 as Gd,aN as Ol,bb as Vd,bc as Ud,bd as qd,a9 as zr,aI as Jy,a7 as Dl,am as jy,al as e1,bh as t1,an as n1}from"./index-BI9Bp6H1.js";import{a as fr,c as It}from"./QItemLabel-PJnBLeot.js";import{Q as Wd}from"./QList-B6FuKxbt.js";import{Q as r1}from"./QBtnDropdown-UTp8N3QF.js";import{f as o1,t as i1,o as a1,Q as l1}from"./QBanner-DuzfSq2X.js";import{Q as bt}from"./QTooltip-QuylhadT.js";import{Q as s1}from"./QPage-LXnl9gwX.js";import{u as Yd}from"./useModels-D0lnQONV.js";import{d as u1,l as es,Q as c1,b as d1,a as f1}from"./date-Bw5xE-eJ.js";import{a as h1,Q as Xd}from"./QLinearProgress-B3_gGqQY.js";import{u as g1}from"./search-COlAwXBa.js";import{H as p1}from"./H2TitleBlock-rIeDV1wZ.js";import{R as v1}from"./ResearchersComponent-nmiJksxT.js";import{N as m1}from"./NewsFilterComponent-kq6CDKDs.js";import{u as _1}from"./blogs-BlGnGDCv.js";import"./QMenu-CSooKOB3.js";import"./position-engine-CXbjFwa4.js";import"./isSymbol-N-zYc5OP.js";import"./_setToArray-CKfeqB0U.js";import"./use-fullscreen-DUJvvHk-.js";import"./NewsVerticalCard-BW9wYQiz.js";import"./SXTooltip-BQWT9nMV.js";function y1(t,r,o,i){if(!$c(t))return t;r=o1(r,t);for(var l=-1,u=r.length,s=u-1,d=t;d!=null&&++l<u;){var h=i1(r[l]),p=o;if(h==="__proto__"||h==="constructor"||h==="prototype")return t;if(l!=s){var v=d[h];p=void 0,p===void 0&&(p=$c(v)?v:Dy(r[l+1])?[]:{})}Ry(d,h,p),d=d[h]}return t}function w1(t,r,o){return t==null?t:y1(t,r,o)}const b1='<circle cx="15" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="60" cy="15" r="9" fill-opacity=".3"><animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from=".5" to=".5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle>',x1=zy({name:"QSpinnerDots",props:By,setup(t){const{cSize:r,classes:o}=Ly(t);return()=>rt("svg",{class:o.value,fill:"currentColor",width:r.value,height:r.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",innerHTML:b1})}});var Ri={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Ri.exports;(function(t,r){(function(){var o,i="4.17.21",l=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",d="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",p=500,v="__lodash_placeholder__",w=1,S=2,N=4,D=1,C=2,I=1,M=2,y=4,z=8,O=16,Q=32,ce=64,re=128,ve=256,ge=512,J=30,k="...",be=800,Ae=16,T=1,$=2,R=3,Y=1/0,te=9007199254740991,ie=17976931348623157e292,de=NaN,le=4294967295,Ie=le-1,fe=le>>>1,ue=[["ary",re],["bind",I],["bindKey",M],["curry",z],["curryRight",O],["flip",ge],["partial",Q],["partialRight",ce],["rearg",ve]],me="[object Arguments]",ze="[object Array]",Be="[object AsyncFunction]",oe="[object Boolean]",j="[object Date]",se="[object DOMException]",B="[object Error]",Z="[object Function]",U="[object GeneratorFunction]",m="[object Map]",x="[object Number]",L="[object Null]",G="[object Object]",ae="[object Promise]",Ee="[object Proxy]",F="[object RegExp]",_e="[object Set]",Te="[object String]",qe="[object Symbol]",Ge="[object Undefined]",Ke="[object WeakMap]",Gt="[object WeakSet]",Rt="[object ArrayBuffer]",Tt="[object DataView]",gn="[object Float32Array]",Wr="[object Float64Array]",Yr="[object Int8Array]",Xr="[object Int16Array]",ia="[object Int32Array]",aa="[object Uint8Array]",la="[object Uint8ClampedArray]",sa="[object Uint16Array]",ua="[object Uint32Array]",th=/\b__p \+= '';/g,nh=/\b(__p \+=) '' \+/g,rh=/(__e\(.*?\)|\b__t\)) \+\n'';/g,fs=/&(?:amp|lt|gt|quot|#39);/g,hs=/[&<>"']/g,oh=RegExp(fs.source),ih=RegExp(hs.source),ah=/<%-([\s\S]+?)%>/g,lh=/<%([\s\S]+?)%>/g,gs=/<%=([\s\S]+?)%>/g,sh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,uh=/^\w*$/,ch=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ca=/[\\^$.*+?()[\]{}|]/g,dh=RegExp(ca.source),da=/^\s+/,fh=/\s/,hh=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,gh=/\{\n\/\* \[wrapped with (.+)\] \*/,ph=/,? & /,vh=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,mh=/[()=,{}\[\]\/\s]/,_h=/\\(\\)?/g,yh=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ps=/\w*$/,wh=/^[-+]0x[0-9a-f]+$/i,bh=/^0b[01]+$/i,xh=/^\[object .+?Constructor\]$/,Eh=/^0o[0-7]+$/i,Sh=/^(?:0|[1-9]\d*)$/,Nh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,To=/($^)/,Ch=/['\n\r\u2028\u2029\\]/g,Po="\\ud800-\\udfff",Ih="\\u0300-\\u036f",Mh="\\ufe20-\\ufe2f",kh="\\u20d0-\\u20ff",vs=Ih+Mh+kh,ms="\\u2700-\\u27bf",_s="a-z\\xdf-\\xf6\\xf8-\\xff",Ah="\\xac\\xb1\\xd7\\xf7",Th="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ph="\\u2000-\\u206f",Oh=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ys="A-Z\\xc0-\\xd6\\xd8-\\xde",ws="\\ufe0e\\ufe0f",bs=Ah+Th+Ph+Oh,fa="['’]",Dh="["+Po+"]",xs="["+bs+"]",Oo="["+vs+"]",Es="\\d+",Rh="["+ms+"]",Ss="["+_s+"]",Ns="[^"+Po+bs+Es+ms+_s+ys+"]",ha="\\ud83c[\\udffb-\\udfff]",zh="(?:"+Oo+"|"+ha+")",Cs="[^"+Po+"]",ga="(?:\\ud83c[\\udde6-\\uddff]){2}",pa="[\\ud800-\\udbff][\\udc00-\\udfff]",yr="["+ys+"]",Is="\\u200d",Ms="(?:"+Ss+"|"+Ns+")",Bh="(?:"+yr+"|"+Ns+")",ks="(?:"+fa+"(?:d|ll|m|re|s|t|ve))?",As="(?:"+fa+"(?:D|LL|M|RE|S|T|VE))?",Ts=zh+"?",Ps="["+ws+"]?",Lh="(?:"+Is+"(?:"+[Cs,ga,pa].join("|")+")"+Ps+Ts+")*",Hh="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Fh="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Os=Ps+Ts+Lh,$h="(?:"+[Rh,ga,pa].join("|")+")"+Os,Gh="(?:"+[Cs+Oo+"?",Oo,ga,pa,Dh].join("|")+")",Vh=RegExp(fa,"g"),Uh=RegExp(Oo,"g"),va=RegExp(ha+"(?="+ha+")|"+Gh+Os,"g"),qh=RegExp([yr+"?"+Ss+"+"+ks+"(?="+[xs,yr,"$"].join("|")+")",Bh+"+"+As+"(?="+[xs,yr+Ms,"$"].join("|")+")",yr+"?"+Ms+"+"+ks,yr+"+"+As,Fh,Hh,Es,$h].join("|"),"g"),Wh=RegExp("["+Is+Po+vs+ws+"]"),Yh=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Zh=-1,st={};st[gn]=st[Wr]=st[Yr]=st[Xr]=st[ia]=st[aa]=st[la]=st[sa]=st[ua]=!0,st[me]=st[ze]=st[Rt]=st[oe]=st[Tt]=st[j]=st[B]=st[Z]=st[m]=st[x]=st[G]=st[F]=st[_e]=st[Te]=st[Ke]=!1;var it={};it[me]=it[ze]=it[Rt]=it[Tt]=it[oe]=it[j]=it[gn]=it[Wr]=it[Yr]=it[Xr]=it[ia]=it[m]=it[x]=it[G]=it[F]=it[_e]=it[Te]=it[qe]=it[aa]=it[la]=it[sa]=it[ua]=!0,it[B]=it[Z]=it[Ke]=!1;var Kh={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Qh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Jh={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},jh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},eg=parseFloat,tg=parseInt,Ds=typeof co=="object"&&co&&co.Object===Object&&co,ng=typeof self=="object"&&self&&self.Object===Object&&self,St=Ds||ng||Function("return this")(),ma=r&&!r.nodeType&&r,jn=ma&&!0&&t&&!t.nodeType&&t,Rs=jn&&jn.exports===ma,_a=Rs&&Ds.process,Kt=function(){try{var A=jn&&jn.require&&jn.require("util").types;return A||_a&&_a.binding&&_a.binding("util")}catch{}}(),zs=Kt&&Kt.isArrayBuffer,Bs=Kt&&Kt.isDate,Ls=Kt&&Kt.isMap,Hs=Kt&&Kt.isRegExp,Fs=Kt&&Kt.isSet,$s=Kt&&Kt.isTypedArray;function Vt(A,V,H){switch(H.length){case 0:return A.call(V);case 1:return A.call(V,H[0]);case 2:return A.call(V,H[0],H[1]);case 3:return A.call(V,H[0],H[1],H[2])}return A.apply(V,H)}function rg(A,V,H,ye){for(var Le=-1,Je=A==null?0:A.length;++Le<Je;){var yt=A[Le];V(ye,yt,H(yt),A)}return ye}function Qt(A,V){for(var H=-1,ye=A==null?0:A.length;++H<ye&&V(A[H],H,A)!==!1;);return A}function og(A,V){for(var H=A==null?0:A.length;H--&&V(A[H],H,A)!==!1;);return A}function Gs(A,V){for(var H=-1,ye=A==null?0:A.length;++H<ye;)if(!V(A[H],H,A))return!1;return!0}function Ln(A,V){for(var H=-1,ye=A==null?0:A.length,Le=0,Je=[];++H<ye;){var yt=A[H];V(yt,H,A)&&(Je[Le++]=yt)}return Je}function Do(A,V){var H=A==null?0:A.length;return!!H&&wr(A,V,0)>-1}function ya(A,V,H){for(var ye=-1,Le=A==null?0:A.length;++ye<Le;)if(H(V,A[ye]))return!0;return!1}function ut(A,V){for(var H=-1,ye=A==null?0:A.length,Le=Array(ye);++H<ye;)Le[H]=V(A[H],H,A);return Le}function Hn(A,V){for(var H=-1,ye=V.length,Le=A.length;++H<ye;)A[Le+H]=V[H];return A}function wa(A,V,H,ye){var Le=-1,Je=A==null?0:A.length;for(ye&&Je&&(H=A[++Le]);++Le<Je;)H=V(H,A[Le],Le,A);return H}function ig(A,V,H,ye){var Le=A==null?0:A.length;for(ye&&Le&&(H=A[--Le]);Le--;)H=V(H,A[Le],Le,A);return H}function ba(A,V){for(var H=-1,ye=A==null?0:A.length;++H<ye;)if(V(A[H],H,A))return!0;return!1}var ag=xa("length");function lg(A){return A.split("")}function sg(A){return A.match(vh)||[]}function Vs(A,V,H){var ye;return H(A,function(Le,Je,yt){if(V(Le,Je,yt))return ye=Je,!1}),ye}function Ro(A,V,H,ye){for(var Le=A.length,Je=H+(ye?1:-1);ye?Je--:++Je<Le;)if(V(A[Je],Je,A))return Je;return-1}function wr(A,V,H){return V===V?wg(A,V,H):Ro(A,Us,H)}function ug(A,V,H,ye){for(var Le=H-1,Je=A.length;++Le<Je;)if(ye(A[Le],V))return Le;return-1}function Us(A){return A!==A}function qs(A,V){var H=A==null?0:A.length;return H?Sa(A,V)/H:de}function xa(A){return function(V){return V==null?o:V[A]}}function Ea(A){return function(V){return A==null?o:A[V]}}function Ws(A,V,H,ye,Le){return Le(A,function(Je,yt,ot){H=ye?(ye=!1,Je):V(H,Je,yt,ot)}),H}function cg(A,V){var H=A.length;for(A.sort(V);H--;)A[H]=A[H].value;return A}function Sa(A,V){for(var H,ye=-1,Le=A.length;++ye<Le;){var Je=V(A[ye]);Je!==o&&(H=H===o?Je:H+Je)}return H}function Na(A,V){for(var H=-1,ye=Array(A);++H<A;)ye[H]=V(H);return ye}function dg(A,V){return ut(V,function(H){return[H,A[H]]})}function Ys(A){return A&&A.slice(0,Qs(A)+1).replace(da,"")}function Ut(A){return function(V){return A(V)}}function Ca(A,V){return ut(V,function(H){return A[H]})}function Zr(A,V){return A.has(V)}function Xs(A,V){for(var H=-1,ye=A.length;++H<ye&&wr(V,A[H],0)>-1;);return H}function Zs(A,V){for(var H=A.length;H--&&wr(V,A[H],0)>-1;);return H}function fg(A,V){for(var H=A.length,ye=0;H--;)A[H]===V&&++ye;return ye}var hg=Ea(Kh),gg=Ea(Qh);function pg(A){return"\\"+jh[A]}function vg(A,V){return A==null?o:A[V]}function br(A){return Wh.test(A)}function mg(A){return Yh.test(A)}function _g(A){for(var V,H=[];!(V=A.next()).done;)H.push(V.value);return H}function Ia(A){var V=-1,H=Array(A.size);return A.forEach(function(ye,Le){H[++V]=[Le,ye]}),H}function Ks(A,V){return function(H){return A(V(H))}}function Fn(A,V){for(var H=-1,ye=A.length,Le=0,Je=[];++H<ye;){var yt=A[H];(yt===V||yt===v)&&(A[H]=v,Je[Le++]=H)}return Je}function zo(A){var V=-1,H=Array(A.size);return A.forEach(function(ye){H[++V]=ye}),H}function yg(A){var V=-1,H=Array(A.size);return A.forEach(function(ye){H[++V]=[ye,ye]}),H}function wg(A,V,H){for(var ye=H-1,Le=A.length;++ye<Le;)if(A[ye]===V)return ye;return-1}function bg(A,V,H){for(var ye=H+1;ye--;)if(A[ye]===V)return ye;return ye}function xr(A){return br(A)?Eg(A):ag(A)}function ln(A){return br(A)?Sg(A):lg(A)}function Qs(A){for(var V=A.length;V--&&fh.test(A.charAt(V)););return V}var xg=Ea(Jh);function Eg(A){for(var V=va.lastIndex=0;va.test(A);)++V;return V}function Sg(A){return A.match(va)||[]}function Ng(A){return A.match(qh)||[]}var Cg=function A(V){V=V==null?St:Er.defaults(St.Object(),V,Er.pick(St,Xh));var H=V.Array,ye=V.Date,Le=V.Error,Je=V.Function,yt=V.Math,ot=V.Object,Ma=V.RegExp,Ig=V.String,Jt=V.TypeError,Bo=H.prototype,Mg=Je.prototype,Sr=ot.prototype,Lo=V["__core-js_shared__"],Ho=Mg.toString,nt=Sr.hasOwnProperty,kg=0,Js=function(){var e=/[^.]+$/.exec(Lo&&Lo.keys&&Lo.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fo=Sr.toString,Ag=Ho.call(ot),Tg=St._,Pg=Ma("^"+Ho.call(nt).replace(ca,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$o=Rs?V.Buffer:o,$n=V.Symbol,Go=V.Uint8Array,js=$o?$o.allocUnsafe:o,Vo=Ks(ot.getPrototypeOf,ot),eu=ot.create,tu=Sr.propertyIsEnumerable,Uo=Bo.splice,nu=$n?$n.isConcatSpreadable:o,Kr=$n?$n.iterator:o,er=$n?$n.toStringTag:o,qo=function(){try{var e=ir(ot,"defineProperty");return e({},"",{}),e}catch{}}(),Og=V.clearTimeout!==St.clearTimeout&&V.clearTimeout,Dg=ye&&ye.now!==St.Date.now&&ye.now,Rg=V.setTimeout!==St.setTimeout&&V.setTimeout,Wo=yt.ceil,Yo=yt.floor,ka=ot.getOwnPropertySymbols,zg=$o?$o.isBuffer:o,ru=V.isFinite,Bg=Bo.join,Lg=Ks(ot.keys,ot),wt=yt.max,Mt=yt.min,Hg=ye.now,Fg=V.parseInt,ou=yt.random,$g=Bo.reverse,Aa=ir(V,"DataView"),Qr=ir(V,"Map"),Ta=ir(V,"Promise"),Nr=ir(V,"Set"),Jr=ir(V,"WeakMap"),jr=ir(ot,"create"),Xo=Jr&&new Jr,Cr={},Gg=ar(Aa),Vg=ar(Qr),Ug=ar(Ta),qg=ar(Nr),Wg=ar(Jr),Zo=$n?$n.prototype:o,eo=Zo?Zo.valueOf:o,iu=Zo?Zo.toString:o;function g(e){if(ft(e)&&!He(e)&&!(e instanceof Ze)){if(e instanceof jt)return e;if(nt.call(e,"__wrapped__"))return ac(e)}return new jt(e)}var Ir=function(){function e(){}return function(n){if(!ct(n))return{};if(eu)return eu(n);e.prototype=n;var a=new e;return e.prototype=o,a}}();function Ko(){}function jt(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=o}g.templateSettings={escape:ah,evaluate:lh,interpolate:gs,variable:"",imports:{_:g}},g.prototype=Ko.prototype,g.prototype.constructor=g,jt.prototype=Ir(Ko.prototype),jt.prototype.constructor=jt;function Ze(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=le,this.__views__=[]}function Yg(){var e=new Ze(this.__wrapped__);return e.__actions__=zt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=zt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=zt(this.__views__),e}function Xg(){if(this.__filtered__){var e=new Ze(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Zg(){var e=this.__wrapped__.value(),n=this.__dir__,a=He(e),c=n<0,f=a?e.length:0,_=lv(0,f,this.__views__),b=_.start,E=_.end,P=E-b,q=c?E:b-1,W=this.__iteratees__,ee=W.length,he=0,xe=Mt(P,this.__takeCount__);if(!a||!c&&f==P&&xe==P)return ku(e,this.__actions__);var Pe=[];e:for(;P--&&he<xe;){q+=n;for(var Ue=-1,Oe=e[q];++Ue<ee;){var Xe=W[Ue],Qe=Xe.iteratee,Yt=Xe.type,Dt=Qe(Oe);if(Yt==$)Oe=Dt;else if(!Dt){if(Yt==T)continue e;break e}}Pe[he++]=Oe}return Pe}Ze.prototype=Ir(Ko.prototype),Ze.prototype.constructor=Ze;function tr(e){var n=-1,a=e==null?0:e.length;for(this.clear();++n<a;){var c=e[n];this.set(c[0],c[1])}}function Kg(){this.__data__=jr?jr(null):{},this.size=0}function Qg(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function Jg(e){var n=this.__data__;if(jr){var a=n[e];return a===h?o:a}return nt.call(n,e)?n[e]:o}function jg(e){var n=this.__data__;return jr?n[e]!==o:nt.call(n,e)}function ep(e,n){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=jr&&n===o?h:n,this}tr.prototype.clear=Kg,tr.prototype.delete=Qg,tr.prototype.get=Jg,tr.prototype.has=jg,tr.prototype.set=ep;function xn(e){var n=-1,a=e==null?0:e.length;for(this.clear();++n<a;){var c=e[n];this.set(c[0],c[1])}}function tp(){this.__data__=[],this.size=0}function np(e){var n=this.__data__,a=Qo(n,e);if(a<0)return!1;var c=n.length-1;return a==c?n.pop():Uo.call(n,a,1),--this.size,!0}function rp(e){var n=this.__data__,a=Qo(n,e);return a<0?o:n[a][1]}function op(e){return Qo(this.__data__,e)>-1}function ip(e,n){var a=this.__data__,c=Qo(a,e);return c<0?(++this.size,a.push([e,n])):a[c][1]=n,this}xn.prototype.clear=tp,xn.prototype.delete=np,xn.prototype.get=rp,xn.prototype.has=op,xn.prototype.set=ip;function En(e){var n=-1,a=e==null?0:e.length;for(this.clear();++n<a;){var c=e[n];this.set(c[0],c[1])}}function ap(){this.size=0,this.__data__={hash:new tr,map:new(Qr||xn),string:new tr}}function lp(e){var n=ui(this,e).delete(e);return this.size-=n?1:0,n}function sp(e){return ui(this,e).get(e)}function up(e){return ui(this,e).has(e)}function cp(e,n){var a=ui(this,e),c=a.size;return a.set(e,n),this.size+=a.size==c?0:1,this}En.prototype.clear=ap,En.prototype.delete=lp,En.prototype.get=sp,En.prototype.has=up,En.prototype.set=cp;function nr(e){var n=-1,a=e==null?0:e.length;for(this.__data__=new En;++n<a;)this.add(e[n])}function dp(e){return this.__data__.set(e,h),this}function fp(e){return this.__data__.has(e)}nr.prototype.add=nr.prototype.push=dp,nr.prototype.has=fp;function sn(e){var n=this.__data__=new xn(e);this.size=n.size}function hp(){this.__data__=new xn,this.size=0}function gp(e){var n=this.__data__,a=n.delete(e);return this.size=n.size,a}function pp(e){return this.__data__.get(e)}function vp(e){return this.__data__.has(e)}function mp(e,n){var a=this.__data__;if(a instanceof xn){var c=a.__data__;if(!Qr||c.length<l-1)return c.push([e,n]),this.size=++a.size,this;a=this.__data__=new En(c)}return a.set(e,n),this.size=a.size,this}sn.prototype.clear=hp,sn.prototype.delete=gp,sn.prototype.get=pp,sn.prototype.has=vp,sn.prototype.set=mp;function au(e,n){var a=He(e),c=!a&&lr(e),f=!a&&!c&&Wn(e),_=!a&&!c&&!f&&Tr(e),b=a||c||f||_,E=b?Na(e.length,Ig):[],P=E.length;for(var q in e)(n||nt.call(e,q))&&!(b&&(q=="length"||f&&(q=="offset"||q=="parent")||_&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||In(q,P)))&&E.push(q);return E}function lu(e){var n=e.length;return n?e[Ga(0,n-1)]:o}function _p(e,n){return ci(zt(e),rr(n,0,e.length))}function yp(e){return ci(zt(e))}function Pa(e,n,a){(a!==o&&!un(e[n],a)||a===o&&!(n in e))&&Sn(e,n,a)}function to(e,n,a){var c=e[n];(!(nt.call(e,n)&&un(c,a))||a===o&&!(n in e))&&Sn(e,n,a)}function Qo(e,n){for(var a=e.length;a--;)if(un(e[a][0],n))return a;return-1}function wp(e,n,a,c){return Gn(e,function(f,_,b){n(c,f,a(f),b)}),c}function su(e,n){return e&&vn(n,Et(n),e)}function bp(e,n){return e&&vn(n,Lt(n),e)}function Sn(e,n,a){n=="__proto__"&&qo?qo(e,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[n]=a}function Oa(e,n){for(var a=-1,c=n.length,f=H(c),_=e==null;++a<c;)f[a]=_?o:hl(e,n[a]);return f}function rr(e,n,a){return e===e&&(a!==o&&(e=e<=a?e:a),n!==o&&(e=e>=n?e:n)),e}function en(e,n,a,c,f,_){var b,E=n&w,P=n&S,q=n&N;if(a&&(b=f?a(e,c,f,_):a(e)),b!==o)return b;if(!ct(e))return e;var W=He(e);if(W){if(b=uv(e),!E)return zt(e,b)}else{var ee=kt(e),he=ee==Z||ee==U;if(Wn(e))return Pu(e,E);if(ee==G||ee==me||he&&!f){if(b=P||he?{}:Qu(e),!E)return P?Jp(e,bp(b,e)):Qp(e,su(b,e))}else{if(!it[ee])return f?e:{};b=cv(e,ee,E)}}_||(_=new sn);var xe=_.get(e);if(xe)return xe;_.set(e,b),Cc(e)?e.forEach(function(Oe){b.add(en(Oe,n,a,Oe,e,_))}):Sc(e)&&e.forEach(function(Oe,Xe){b.set(Xe,en(Oe,n,a,Xe,e,_))});var Pe=q?P?ja:Ja:P?Lt:Et,Ue=W?o:Pe(e);return Qt(Ue||e,function(Oe,Xe){Ue&&(Xe=Oe,Oe=e[Xe]),to(b,Xe,en(Oe,n,a,Xe,e,_))}),b}function xp(e){var n=Et(e);return function(a){return uu(a,e,n)}}function uu(e,n,a){var c=a.length;if(e==null)return!c;for(e=ot(e);c--;){var f=a[c],_=n[f],b=e[f];if(b===o&&!(f in e)||!_(b))return!1}return!0}function cu(e,n,a){if(typeof e!="function")throw new Jt(s);return so(function(){e.apply(o,a)},n)}function no(e,n,a,c){var f=-1,_=Do,b=!0,E=e.length,P=[],q=n.length;if(!E)return P;a&&(n=ut(n,Ut(a))),c?(_=ya,b=!1):n.length>=l&&(_=Zr,b=!1,n=new nr(n));e:for(;++f<E;){var W=e[f],ee=a==null?W:a(W);if(W=c||W!==0?W:0,b&&ee===ee){for(var he=q;he--;)if(n[he]===ee)continue e;P.push(W)}else _(n,ee,c)||P.push(W)}return P}var Gn=Bu(pn),du=Bu(Ra,!0);function Ep(e,n){var a=!0;return Gn(e,function(c,f,_){return a=!!n(c,f,_),a}),a}function Jo(e,n,a){for(var c=-1,f=e.length;++c<f;){var _=e[c],b=n(_);if(b!=null&&(E===o?b===b&&!Wt(b):a(b,E)))var E=b,P=_}return P}function Sp(e,n,a,c){var f=e.length;for(a=Ve(a),a<0&&(a=-a>f?0:f+a),c=c===o||c>f?f:Ve(c),c<0&&(c+=f),c=a>c?0:Mc(c);a<c;)e[a++]=n;return e}function fu(e,n){var a=[];return Gn(e,function(c,f,_){n(c,f,_)&&a.push(c)}),a}function Nt(e,n,a,c,f){var _=-1,b=e.length;for(a||(a=fv),f||(f=[]);++_<b;){var E=e[_];n>0&&a(E)?n>1?Nt(E,n-1,a,c,f):Hn(f,E):c||(f[f.length]=E)}return f}var Da=Lu(),hu=Lu(!0);function pn(e,n){return e&&Da(e,n,Et)}function Ra(e,n){return e&&hu(e,n,Et)}function jo(e,n){return Ln(n,function(a){return Mn(e[a])})}function or(e,n){n=Un(n,e);for(var a=0,c=n.length;e!=null&&a<c;)e=e[mn(n[a++])];return a&&a==c?e:o}function gu(e,n,a){var c=n(e);return He(e)?c:Hn(c,a(e))}function Pt(e){return e==null?e===o?Ge:L:er&&er in ot(e)?av(e):yv(e)}function za(e,n){return e>n}function Np(e,n){return e!=null&&nt.call(e,n)}function Cp(e,n){return e!=null&&n in ot(e)}function Ip(e,n,a){return e>=Mt(n,a)&&e<wt(n,a)}function Ba(e,n,a){for(var c=a?ya:Do,f=e[0].length,_=e.length,b=_,E=H(_),P=1/0,q=[];b--;){var W=e[b];b&&n&&(W=ut(W,Ut(n))),P=Mt(W.length,P),E[b]=!a&&(n||f>=120&&W.length>=120)?new nr(b&&W):o}W=e[0];var ee=-1,he=E[0];e:for(;++ee<f&&q.length<P;){var xe=W[ee],Pe=n?n(xe):xe;if(xe=a||xe!==0?xe:0,!(he?Zr(he,Pe):c(q,Pe,a))){for(b=_;--b;){var Ue=E[b];if(!(Ue?Zr(Ue,Pe):c(e[b],Pe,a)))continue e}he&&he.push(Pe),q.push(xe)}}return q}function Mp(e,n,a,c){return pn(e,function(f,_,b){n(c,a(f),_,b)}),c}function ro(e,n,a){n=Un(n,e),e=tc(e,n);var c=e==null?e:e[mn(nn(n))];return c==null?o:Vt(c,e,a)}function pu(e){return ft(e)&&Pt(e)==me}function kp(e){return ft(e)&&Pt(e)==Rt}function Ap(e){return ft(e)&&Pt(e)==j}function oo(e,n,a,c,f){return e===n?!0:e==null||n==null||!ft(e)&&!ft(n)?e!==e&&n!==n:Tp(e,n,a,c,oo,f)}function Tp(e,n,a,c,f,_){var b=He(e),E=He(n),P=b?ze:kt(e),q=E?ze:kt(n);P=P==me?G:P,q=q==me?G:q;var W=P==G,ee=q==G,he=P==q;if(he&&Wn(e)){if(!Wn(n))return!1;b=!0,W=!1}if(he&&!W)return _||(_=new sn),b||Tr(e)?Xu(e,n,a,c,f,_):ov(e,n,P,a,c,f,_);if(!(a&D)){var xe=W&&nt.call(e,"__wrapped__"),Pe=ee&&nt.call(n,"__wrapped__");if(xe||Pe){var Ue=xe?e.value():e,Oe=Pe?n.value():n;return _||(_=new sn),f(Ue,Oe,a,c,_)}}return he?(_||(_=new sn),iv(e,n,a,c,f,_)):!1}function Pp(e){return ft(e)&&kt(e)==m}function La(e,n,a,c){var f=a.length,_=f,b=!c;if(e==null)return!_;for(e=ot(e);f--;){var E=a[f];if(b&&E[2]?E[1]!==e[E[0]]:!(E[0]in e))return!1}for(;++f<_;){E=a[f];var P=E[0],q=e[P],W=E[1];if(b&&E[2]){if(q===o&&!(P in e))return!1}else{var ee=new sn;if(c)var he=c(q,W,P,e,n,ee);if(!(he===o?oo(W,q,D|C,c,ee):he))return!1}}return!0}function vu(e){if(!ct(e)||gv(e))return!1;var n=Mn(e)?Pg:xh;return n.test(ar(e))}function Op(e){return ft(e)&&Pt(e)==F}function Dp(e){return ft(e)&&kt(e)==_e}function Rp(e){return ft(e)&&vi(e.length)&&!!st[Pt(e)]}function mu(e){return typeof e=="function"?e:e==null?Ht:typeof e=="object"?He(e)?wu(e[0],e[1]):yu(e):Hc(e)}function Ha(e){if(!lo(e))return Lg(e);var n=[];for(var a in ot(e))nt.call(e,a)&&a!="constructor"&&n.push(a);return n}function zp(e){if(!ct(e))return _v(e);var n=lo(e),a=[];for(var c in e)c=="constructor"&&(n||!nt.call(e,c))||a.push(c);return a}function Fa(e,n){return e<n}function _u(e,n){var a=-1,c=Bt(e)?H(e.length):[];return Gn(e,function(f,_,b){c[++a]=n(f,_,b)}),c}function yu(e){var n=tl(e);return n.length==1&&n[0][2]?ju(n[0][0],n[0][1]):function(a){return a===e||La(a,e,n)}}function wu(e,n){return rl(e)&&Ju(n)?ju(mn(e),n):function(a){var c=hl(a,e);return c===o&&c===n?gl(a,e):oo(n,c,D|C)}}function ei(e,n,a,c,f){e!==n&&Da(n,function(_,b){if(f||(f=new sn),ct(_))Bp(e,n,b,a,ei,c,f);else{var E=c?c(il(e,b),_,b+"",e,n,f):o;E===o&&(E=_),Pa(e,b,E)}},Lt)}function Bp(e,n,a,c,f,_,b){var E=il(e,a),P=il(n,a),q=b.get(P);if(q){Pa(e,a,q);return}var W=_?_(E,P,a+"",e,n,b):o,ee=W===o;if(ee){var he=He(P),xe=!he&&Wn(P),Pe=!he&&!xe&&Tr(P);W=P,he||xe||Pe?He(E)?W=E:pt(E)?W=zt(E):xe?(ee=!1,W=Pu(P,!0)):Pe?(ee=!1,W=Ou(P,!0)):W=[]:uo(P)||lr(P)?(W=E,lr(E)?W=kc(E):(!ct(E)||Mn(E))&&(W=Qu(P))):ee=!1}ee&&(b.set(P,W),f(W,P,c,_,b),b.delete(P)),Pa(e,a,W)}function bu(e,n){var a=e.length;if(a)return n+=n<0?a:0,In(n,a)?e[n]:o}function xu(e,n,a){n.length?n=ut(n,function(_){return He(_)?function(b){return or(b,_.length===1?_[0]:_)}:_}):n=[Ht];var c=-1;n=ut(n,Ut(ke()));var f=_u(e,function(_,b,E){var P=ut(n,function(q){return q(_)});return{criteria:P,index:++c,value:_}});return cg(f,function(_,b){return Kp(_,b,a)})}function Lp(e,n){return Eu(e,n,function(a,c){return gl(e,c)})}function Eu(e,n,a){for(var c=-1,f=n.length,_={};++c<f;){var b=n[c],E=or(e,b);a(E,b)&&io(_,Un(b,e),E)}return _}function Hp(e){return function(n){return or(n,e)}}function $a(e,n,a,c){var f=c?ug:wr,_=-1,b=n.length,E=e;for(e===n&&(n=zt(n)),a&&(E=ut(e,Ut(a)));++_<b;)for(var P=0,q=n[_],W=a?a(q):q;(P=f(E,W,P,c))>-1;)E!==e&&Uo.call(E,P,1),Uo.call(e,P,1);return e}function Su(e,n){for(var a=e?n.length:0,c=a-1;a--;){var f=n[a];if(a==c||f!==_){var _=f;In(f)?Uo.call(e,f,1):qa(e,f)}}return e}function Ga(e,n){return e+Yo(ou()*(n-e+1))}function Fp(e,n,a,c){for(var f=-1,_=wt(Wo((n-e)/(a||1)),0),b=H(_);_--;)b[c?_:++f]=e,e+=a;return b}function Va(e,n){var a="";if(!e||n<1||n>te)return a;do n%2&&(a+=e),n=Yo(n/2),n&&(e+=e);while(n);return a}function We(e,n){return al(ec(e,n,Ht),e+"")}function $p(e){return lu(Pr(e))}function Gp(e,n){var a=Pr(e);return ci(a,rr(n,0,a.length))}function io(e,n,a,c){if(!ct(e))return e;n=Un(n,e);for(var f=-1,_=n.length,b=_-1,E=e;E!=null&&++f<_;){var P=mn(n[f]),q=a;if(P==="__proto__"||P==="constructor"||P==="prototype")return e;if(f!=b){var W=E[P];q=c?c(W,P,E):o,q===o&&(q=ct(W)?W:In(n[f+1])?[]:{})}to(E,P,q),E=E[P]}return e}var Nu=Xo?function(e,n){return Xo.set(e,n),e}:Ht,Vp=qo?function(e,n){return qo(e,"toString",{configurable:!0,enumerable:!1,value:vl(n),writable:!0})}:Ht;function Up(e){return ci(Pr(e))}function tn(e,n,a){var c=-1,f=e.length;n<0&&(n=-n>f?0:f+n),a=a>f?f:a,a<0&&(a+=f),f=n>a?0:a-n>>>0,n>>>=0;for(var _=H(f);++c<f;)_[c]=e[c+n];return _}function qp(e,n){var a;return Gn(e,function(c,f,_){return a=n(c,f,_),!a}),!!a}function ti(e,n,a){var c=0,f=e==null?c:e.length;if(typeof n=="number"&&n===n&&f<=fe){for(;c<f;){var _=c+f>>>1,b=e[_];b!==null&&!Wt(b)&&(a?b<=n:b<n)?c=_+1:f=_}return f}return Ua(e,n,Ht,a)}function Ua(e,n,a,c){var f=0,_=e==null?0:e.length;if(_===0)return 0;n=a(n);for(var b=n!==n,E=n===null,P=Wt(n),q=n===o;f<_;){var W=Yo((f+_)/2),ee=a(e[W]),he=ee!==o,xe=ee===null,Pe=ee===ee,Ue=Wt(ee);if(b)var Oe=c||Pe;else q?Oe=Pe&&(c||he):E?Oe=Pe&&he&&(c||!xe):P?Oe=Pe&&he&&!xe&&(c||!Ue):xe||Ue?Oe=!1:Oe=c?ee<=n:ee<n;Oe?f=W+1:_=W}return Mt(_,Ie)}function Cu(e,n){for(var a=-1,c=e.length,f=0,_=[];++a<c;){var b=e[a],E=n?n(b):b;if(!a||!un(E,P)){var P=E;_[f++]=b===0?0:b}}return _}function Iu(e){return typeof e=="number"?e:Wt(e)?de:+e}function qt(e){if(typeof e=="string")return e;if(He(e))return ut(e,qt)+"";if(Wt(e))return iu?iu.call(e):"";var n=e+"";return n=="0"&&1/e==-Y?"-0":n}function Vn(e,n,a){var c=-1,f=Do,_=e.length,b=!0,E=[],P=E;if(a)b=!1,f=ya;else if(_>=l){var q=n?null:nv(e);if(q)return zo(q);b=!1,f=Zr,P=new nr}else P=n?[]:E;e:for(;++c<_;){var W=e[c],ee=n?n(W):W;if(W=a||W!==0?W:0,b&&ee===ee){for(var he=P.length;he--;)if(P[he]===ee)continue e;n&&P.push(ee),E.push(W)}else f(P,ee,a)||(P!==E&&P.push(ee),E.push(W))}return E}function qa(e,n){return n=Un(n,e),e=tc(e,n),e==null||delete e[mn(nn(n))]}function Mu(e,n,a,c){return io(e,n,a(or(e,n)),c)}function ni(e,n,a,c){for(var f=e.length,_=c?f:-1;(c?_--:++_<f)&&n(e[_],_,e););return a?tn(e,c?0:_,c?_+1:f):tn(e,c?_+1:0,c?f:_)}function ku(e,n){var a=e;return a instanceof Ze&&(a=a.value()),wa(n,function(c,f){return f.func.apply(f.thisArg,Hn([c],f.args))},a)}function Wa(e,n,a){var c=e.length;if(c<2)return c?Vn(e[0]):[];for(var f=-1,_=H(c);++f<c;)for(var b=e[f],E=-1;++E<c;)E!=f&&(_[f]=no(_[f]||b,e[E],n,a));return Vn(Nt(_,1),n,a)}function Au(e,n,a){for(var c=-1,f=e.length,_=n.length,b={};++c<f;){var E=c<_?n[c]:o;a(b,e[c],E)}return b}function Ya(e){return pt(e)?e:[]}function Xa(e){return typeof e=="function"?e:Ht}function Un(e,n){return He(e)?e:rl(e,n)?[e]:ic(tt(e))}var Wp=We;function qn(e,n,a){var c=e.length;return a=a===o?c:a,!n&&a>=c?e:tn(e,n,a)}var Tu=Og||function(e){return St.clearTimeout(e)};function Pu(e,n){if(n)return e.slice();var a=e.length,c=js?js(a):new e.constructor(a);return e.copy(c),c}function Za(e){var n=new e.constructor(e.byteLength);return new Go(n).set(new Go(e)),n}function Yp(e,n){var a=n?Za(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}function Xp(e){var n=new e.constructor(e.source,ps.exec(e));return n.lastIndex=e.lastIndex,n}function Zp(e){return eo?ot(eo.call(e)):{}}function Ou(e,n){var a=n?Za(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}function Du(e,n){if(e!==n){var a=e!==o,c=e===null,f=e===e,_=Wt(e),b=n!==o,E=n===null,P=n===n,q=Wt(n);if(!E&&!q&&!_&&e>n||_&&b&&P&&!E&&!q||c&&b&&P||!a&&P||!f)return 1;if(!c&&!_&&!q&&e<n||q&&a&&f&&!c&&!_||E&&a&&f||!b&&f||!P)return-1}return 0}function Kp(e,n,a){for(var c=-1,f=e.criteria,_=n.criteria,b=f.length,E=a.length;++c<b;){var P=Du(f[c],_[c]);if(P){if(c>=E)return P;var q=a[c];return P*(q=="desc"?-1:1)}}return e.index-n.index}function Ru(e,n,a,c){for(var f=-1,_=e.length,b=a.length,E=-1,P=n.length,q=wt(_-b,0),W=H(P+q),ee=!c;++E<P;)W[E]=n[E];for(;++f<b;)(ee||f<_)&&(W[a[f]]=e[f]);for(;q--;)W[E++]=e[f++];return W}function zu(e,n,a,c){for(var f=-1,_=e.length,b=-1,E=a.length,P=-1,q=n.length,W=wt(_-E,0),ee=H(W+q),he=!c;++f<W;)ee[f]=e[f];for(var xe=f;++P<q;)ee[xe+P]=n[P];for(;++b<E;)(he||f<_)&&(ee[xe+a[b]]=e[f++]);return ee}function zt(e,n){var a=-1,c=e.length;for(n||(n=H(c));++a<c;)n[a]=e[a];return n}function vn(e,n,a,c){var f=!a;a||(a={});for(var _=-1,b=n.length;++_<b;){var E=n[_],P=c?c(a[E],e[E],E,a,e):o;P===o&&(P=e[E]),f?Sn(a,E,P):to(a,E,P)}return a}function Qp(e,n){return vn(e,nl(e),n)}function Jp(e,n){return vn(e,Zu(e),n)}function ri(e,n){return function(a,c){var f=He(a)?rg:wp,_=n?n():{};return f(a,e,ke(c,2),_)}}function Mr(e){return We(function(n,a){var c=-1,f=a.length,_=f>1?a[f-1]:o,b=f>2?a[2]:o;for(_=e.length>3&&typeof _=="function"?(f--,_):o,b&&Ot(a[0],a[1],b)&&(_=f<3?o:_,f=1),n=ot(n);++c<f;){var E=a[c];E&&e(n,E,c,_)}return n})}function Bu(e,n){return function(a,c){if(a==null)return a;if(!Bt(a))return e(a,c);for(var f=a.length,_=n?f:-1,b=ot(a);(n?_--:++_<f)&&c(b[_],_,b)!==!1;);return a}}function Lu(e){return function(n,a,c){for(var f=-1,_=ot(n),b=c(n),E=b.length;E--;){var P=b[e?E:++f];if(a(_[P],P,_)===!1)break}return n}}function jp(e,n,a){var c=n&I,f=ao(e);function _(){var b=this&&this!==St&&this instanceof _?f:e;return b.apply(c?a:this,arguments)}return _}function Hu(e){return function(n){n=tt(n);var a=br(n)?ln(n):o,c=a?a[0]:n.charAt(0),f=a?qn(a,1).join(""):n.slice(1);return c[e]()+f}}function kr(e){return function(n){return wa(Bc(zc(n).replace(Vh,"")),e,"")}}function ao(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var a=Ir(e.prototype),c=e.apply(a,n);return ct(c)?c:a}}function ev(e,n,a){var c=ao(e);function f(){for(var _=arguments.length,b=H(_),E=_,P=Ar(f);E--;)b[E]=arguments[E];var q=_<3&&b[0]!==P&&b[_-1]!==P?[]:Fn(b,P);if(_-=q.length,_<a)return Uu(e,n,oi,f.placeholder,o,b,q,o,o,a-_);var W=this&&this!==St&&this instanceof f?c:e;return Vt(W,this,b)}return f}function Fu(e){return function(n,a,c){var f=ot(n);if(!Bt(n)){var _=ke(a,3);n=Et(n),a=function(E){return _(f[E],E,f)}}var b=e(n,a,c);return b>-1?f[_?n[b]:b]:o}}function $u(e){return Cn(function(n){var a=n.length,c=a,f=jt.prototype.thru;for(e&&n.reverse();c--;){var _=n[c];if(typeof _!="function")throw new Jt(s);if(f&&!b&&si(_)=="wrapper")var b=new jt([],!0)}for(c=b?c:a;++c<a;){_=n[c];var E=si(_),P=E=="wrapper"?el(_):o;P&&ol(P[0])&&P[1]==(re|z|Q|ve)&&!P[4].length&&P[9]==1?b=b[si(P[0])].apply(b,P[3]):b=_.length==1&&ol(_)?b[E]():b.thru(_)}return function(){var q=arguments,W=q[0];if(b&&q.length==1&&He(W))return b.plant(W).value();for(var ee=0,he=a?n[ee].apply(this,q):W;++ee<a;)he=n[ee].call(this,he);return he}})}function oi(e,n,a,c,f,_,b,E,P,q){var W=n&re,ee=n&I,he=n&M,xe=n&(z|O),Pe=n&ge,Ue=he?o:ao(e);function Oe(){for(var Xe=arguments.length,Qe=H(Xe),Yt=Xe;Yt--;)Qe[Yt]=arguments[Yt];if(xe)var Dt=Ar(Oe),Xt=fg(Qe,Dt);if(c&&(Qe=Ru(Qe,c,f,xe)),_&&(Qe=zu(Qe,_,b,xe)),Xe-=Xt,xe&&Xe<q){var vt=Fn(Qe,Dt);return Uu(e,n,oi,Oe.placeholder,a,Qe,vt,E,P,q-Xe)}var cn=ee?a:this,An=he?cn[e]:e;return Xe=Qe.length,E?Qe=wv(Qe,E):Pe&&Xe>1&&Qe.reverse(),W&&P<Xe&&(Qe.length=P),this&&this!==St&&this instanceof Oe&&(An=Ue||ao(An)),An.apply(cn,Qe)}return Oe}function Gu(e,n){return function(a,c){return Mp(a,e,n(c),{})}}function ii(e,n){return function(a,c){var f;if(a===o&&c===o)return n;if(a!==o&&(f=a),c!==o){if(f===o)return c;typeof a=="string"||typeof c=="string"?(a=qt(a),c=qt(c)):(a=Iu(a),c=Iu(c)),f=e(a,c)}return f}}function Ka(e){return Cn(function(n){return n=ut(n,Ut(ke())),We(function(a){var c=this;return e(n,function(f){return Vt(f,c,a)})})})}function ai(e,n){n=n===o?" ":qt(n);var a=n.length;if(a<2)return a?Va(n,e):n;var c=Va(n,Wo(e/xr(n)));return br(n)?qn(ln(c),0,e).join(""):c.slice(0,e)}function tv(e,n,a,c){var f=n&I,_=ao(e);function b(){for(var E=-1,P=arguments.length,q=-1,W=c.length,ee=H(W+P),he=this&&this!==St&&this instanceof b?_:e;++q<W;)ee[q]=c[q];for(;P--;)ee[q++]=arguments[++E];return Vt(he,f?a:this,ee)}return b}function Vu(e){return function(n,a,c){return c&&typeof c!="number"&&Ot(n,a,c)&&(a=c=o),n=kn(n),a===o?(a=n,n=0):a=kn(a),c=c===o?n<a?1:-1:kn(c),Fp(n,a,c,e)}}function li(e){return function(n,a){return typeof n=="string"&&typeof a=="string"||(n=rn(n),a=rn(a)),e(n,a)}}function Uu(e,n,a,c,f,_,b,E,P,q){var W=n&z,ee=W?b:o,he=W?o:b,xe=W?_:o,Pe=W?o:_;n|=W?Q:ce,n&=~(W?ce:Q),n&y||(n&=~(I|M));var Ue=[e,n,f,xe,ee,Pe,he,E,P,q],Oe=a.apply(o,Ue);return ol(e)&&nc(Oe,Ue),Oe.placeholder=c,rc(Oe,e,n)}function Qa(e){var n=yt[e];return function(a,c){if(a=rn(a),c=c==null?0:Mt(Ve(c),292),c&&ru(a)){var f=(tt(a)+"e").split("e"),_=n(f[0]+"e"+(+f[1]+c));return f=(tt(_)+"e").split("e"),+(f[0]+"e"+(+f[1]-c))}return n(a)}}var nv=Nr&&1/zo(new Nr([,-0]))[1]==Y?function(e){return new Nr(e)}:yl;function qu(e){return function(n){var a=kt(n);return a==m?Ia(n):a==_e?yg(n):dg(n,e(n))}}function Nn(e,n,a,c,f,_,b,E){var P=n&M;if(!P&&typeof e!="function")throw new Jt(s);var q=c?c.length:0;if(q||(n&=~(Q|ce),c=f=o),b=b===o?b:wt(Ve(b),0),E=E===o?E:Ve(E),q-=f?f.length:0,n&ce){var W=c,ee=f;c=f=o}var he=P?o:el(e),xe=[e,n,a,c,f,W,ee,_,b,E];if(he&&mv(xe,he),e=xe[0],n=xe[1],a=xe[2],c=xe[3],f=xe[4],E=xe[9]=xe[9]===o?P?0:e.length:wt(xe[9]-q,0),!E&&n&(z|O)&&(n&=~(z|O)),!n||n==I)var Pe=jp(e,n,a);else n==z||n==O?Pe=ev(e,n,E):(n==Q||n==(I|Q))&&!f.length?Pe=tv(e,n,a,c):Pe=oi.apply(o,xe);var Ue=he?Nu:nc;return rc(Ue(Pe,xe),e,n)}function Wu(e,n,a,c){return e===o||un(e,Sr[a])&&!nt.call(c,a)?n:e}function Yu(e,n,a,c,f,_){return ct(e)&&ct(n)&&(_.set(n,e),ei(e,n,o,Yu,_),_.delete(n)),e}function rv(e){return uo(e)?o:e}function Xu(e,n,a,c,f,_){var b=a&D,E=e.length,P=n.length;if(E!=P&&!(b&&P>E))return!1;var q=_.get(e),W=_.get(n);if(q&&W)return q==n&&W==e;var ee=-1,he=!0,xe=a&C?new nr:o;for(_.set(e,n),_.set(n,e);++ee<E;){var Pe=e[ee],Ue=n[ee];if(c)var Oe=b?c(Ue,Pe,ee,n,e,_):c(Pe,Ue,ee,e,n,_);if(Oe!==o){if(Oe)continue;he=!1;break}if(xe){if(!ba(n,function(Xe,Qe){if(!Zr(xe,Qe)&&(Pe===Xe||f(Pe,Xe,a,c,_)))return xe.push(Qe)})){he=!1;break}}else if(!(Pe===Ue||f(Pe,Ue,a,c,_))){he=!1;break}}return _.delete(e),_.delete(n),he}function ov(e,n,a,c,f,_,b){switch(a){case Tt:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case Rt:return!(e.byteLength!=n.byteLength||!_(new Go(e),new Go(n)));case oe:case j:case x:return un(+e,+n);case B:return e.name==n.name&&e.message==n.message;case F:case Te:return e==n+"";case m:var E=Ia;case _e:var P=c&D;if(E||(E=zo),e.size!=n.size&&!P)return!1;var q=b.get(e);if(q)return q==n;c|=C,b.set(e,n);var W=Xu(E(e),E(n),c,f,_,b);return b.delete(e),W;case qe:if(eo)return eo.call(e)==eo.call(n)}return!1}function iv(e,n,a,c,f,_){var b=a&D,E=Ja(e),P=E.length,q=Ja(n),W=q.length;if(P!=W&&!b)return!1;for(var ee=P;ee--;){var he=E[ee];if(!(b?he in n:nt.call(n,he)))return!1}var xe=_.get(e),Pe=_.get(n);if(xe&&Pe)return xe==n&&Pe==e;var Ue=!0;_.set(e,n),_.set(n,e);for(var Oe=b;++ee<P;){he=E[ee];var Xe=e[he],Qe=n[he];if(c)var Yt=b?c(Qe,Xe,he,n,e,_):c(Xe,Qe,he,e,n,_);if(!(Yt===o?Xe===Qe||f(Xe,Qe,a,c,_):Yt)){Ue=!1;break}Oe||(Oe=he=="constructor")}if(Ue&&!Oe){var Dt=e.constructor,Xt=n.constructor;Dt!=Xt&&"constructor"in e&&"constructor"in n&&!(typeof Dt=="function"&&Dt instanceof Dt&&typeof Xt=="function"&&Xt instanceof Xt)&&(Ue=!1)}return _.delete(e),_.delete(n),Ue}function Cn(e){return al(ec(e,o,uc),e+"")}function Ja(e){return gu(e,Et,nl)}function ja(e){return gu(e,Lt,Zu)}var el=Xo?function(e){return Xo.get(e)}:yl;function si(e){for(var n=e.name+"",a=Cr[n],c=nt.call(Cr,n)?a.length:0;c--;){var f=a[c],_=f.func;if(_==null||_==e)return f.name}return n}function Ar(e){var n=nt.call(g,"placeholder")?g:e;return n.placeholder}function ke(){var e=g.iteratee||ml;return e=e===ml?mu:e,arguments.length?e(arguments[0],arguments[1]):e}function ui(e,n){var a=e.__data__;return hv(n)?a[typeof n=="string"?"string":"hash"]:a.map}function tl(e){for(var n=Et(e),a=n.length;a--;){var c=n[a],f=e[c];n[a]=[c,f,Ju(f)]}return n}function ir(e,n){var a=vg(e,n);return vu(a)?a:o}function av(e){var n=nt.call(e,er),a=e[er];try{e[er]=o;var c=!0}catch{}var f=Fo.call(e);return c&&(n?e[er]=a:delete e[er]),f}var nl=ka?function(e){return e==null?[]:(e=ot(e),Ln(ka(e),function(n){return tu.call(e,n)}))}:wl,Zu=ka?function(e){for(var n=[];e;)Hn(n,nl(e)),e=Vo(e);return n}:wl,kt=Pt;(Aa&&kt(new Aa(new ArrayBuffer(1)))!=Tt||Qr&&kt(new Qr)!=m||Ta&&kt(Ta.resolve())!=ae||Nr&&kt(new Nr)!=_e||Jr&&kt(new Jr)!=Ke)&&(kt=function(e){var n=Pt(e),a=n==G?e.constructor:o,c=a?ar(a):"";if(c)switch(c){case Gg:return Tt;case Vg:return m;case Ug:return ae;case qg:return _e;case Wg:return Ke}return n});function lv(e,n,a){for(var c=-1,f=a.length;++c<f;){var _=a[c],b=_.size;switch(_.type){case"drop":e+=b;break;case"dropRight":n-=b;break;case"take":n=Mt(n,e+b);break;case"takeRight":e=wt(e,n-b);break}}return{start:e,end:n}}function sv(e){var n=e.match(gh);return n?n[1].split(ph):[]}function Ku(e,n,a){n=Un(n,e);for(var c=-1,f=n.length,_=!1;++c<f;){var b=mn(n[c]);if(!(_=e!=null&&a(e,b)))break;e=e[b]}return _||++c!=f?_:(f=e==null?0:e.length,!!f&&vi(f)&&In(b,f)&&(He(e)||lr(e)))}function uv(e){var n=e.length,a=new e.constructor(n);return n&&typeof e[0]=="string"&&nt.call(e,"index")&&(a.index=e.index,a.input=e.input),a}function Qu(e){return typeof e.constructor=="function"&&!lo(e)?Ir(Vo(e)):{}}function cv(e,n,a){var c=e.constructor;switch(n){case Rt:return Za(e);case oe:case j:return new c(+e);case Tt:return Yp(e,a);case gn:case Wr:case Yr:case Xr:case ia:case aa:case la:case sa:case ua:return Ou(e,a);case m:return new c;case x:case Te:return new c(e);case F:return Xp(e);case _e:return new c;case qe:return Zp(e)}}function dv(e,n){var a=n.length;if(!a)return e;var c=a-1;return n[c]=(a>1?"& ":"")+n[c],n=n.join(a>2?", ":" "),e.replace(hh,`{
/* [wrapped with `+n+`] */
`)}function fv(e){return He(e)||lr(e)||!!(nu&&e&&e[nu])}function In(e,n){var a=typeof e;return n=n==null?te:n,!!n&&(a=="number"||a!="symbol"&&Sh.test(e))&&e>-1&&e%1==0&&e<n}function Ot(e,n,a){if(!ct(a))return!1;var c=typeof n;return(c=="number"?Bt(a)&&In(n,a.length):c=="string"&&n in a)?un(a[n],e):!1}function rl(e,n){if(He(e))return!1;var a=typeof e;return a=="number"||a=="symbol"||a=="boolean"||e==null||Wt(e)?!0:uh.test(e)||!sh.test(e)||n!=null&&e in ot(n)}function hv(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function ol(e){var n=si(e),a=g[n];if(typeof a!="function"||!(n in Ze.prototype))return!1;if(e===a)return!0;var c=el(a);return!!c&&e===c[0]}function gv(e){return!!Js&&Js in e}var pv=Lo?Mn:bl;function lo(e){var n=e&&e.constructor,a=typeof n=="function"&&n.prototype||Sr;return e===a}function Ju(e){return e===e&&!ct(e)}function ju(e,n){return function(a){return a==null?!1:a[e]===n&&(n!==o||e in ot(a))}}function vv(e){var n=gi(e,function(c){return a.size===p&&a.clear(),c}),a=n.cache;return n}function mv(e,n){var a=e[1],c=n[1],f=a|c,_=f<(I|M|re),b=c==re&&a==z||c==re&&a==ve&&e[7].length<=n[8]||c==(re|ve)&&n[7].length<=n[8]&&a==z;if(!(_||b))return e;c&I&&(e[2]=n[2],f|=a&I?0:y);var E=n[3];if(E){var P=e[3];e[3]=P?Ru(P,E,n[4]):E,e[4]=P?Fn(e[3],v):n[4]}return E=n[5],E&&(P=e[5],e[5]=P?zu(P,E,n[6]):E,e[6]=P?Fn(e[5],v):n[6]),E=n[7],E&&(e[7]=E),c&re&&(e[8]=e[8]==null?n[8]:Mt(e[8],n[8])),e[9]==null&&(e[9]=n[9]),e[0]=n[0],e[1]=f,e}function _v(e){var n=[];if(e!=null)for(var a in ot(e))n.push(a);return n}function yv(e){return Fo.call(e)}function ec(e,n,a){return n=wt(n===o?e.length-1:n,0),function(){for(var c=arguments,f=-1,_=wt(c.length-n,0),b=H(_);++f<_;)b[f]=c[n+f];f=-1;for(var E=H(n+1);++f<n;)E[f]=c[f];return E[n]=a(b),Vt(e,this,E)}}function tc(e,n){return n.length<2?e:or(e,tn(n,0,-1))}function wv(e,n){for(var a=e.length,c=Mt(n.length,a),f=zt(e);c--;){var _=n[c];e[c]=In(_,a)?f[_]:o}return e}function il(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var nc=oc(Nu),so=Rg||function(e,n){return St.setTimeout(e,n)},al=oc(Vp);function rc(e,n,a){var c=n+"";return al(e,dv(c,bv(sv(c),a)))}function oc(e){var n=0,a=0;return function(){var c=Hg(),f=Ae-(c-a);if(a=c,f>0){if(++n>=be)return arguments[0]}else n=0;return e.apply(o,arguments)}}function ci(e,n){var a=-1,c=e.length,f=c-1;for(n=n===o?c:n;++a<n;){var _=Ga(a,f),b=e[_];e[_]=e[a],e[a]=b}return e.length=n,e}var ic=vv(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(ch,function(a,c,f,_){n.push(f?_.replace(_h,"$1"):c||a)}),n});function mn(e){if(typeof e=="string"||Wt(e))return e;var n=e+"";return n=="0"&&1/e==-Y?"-0":n}function ar(e){if(e!=null){try{return Ho.call(e)}catch{}try{return e+""}catch{}}return""}function bv(e,n){return Qt(ue,function(a){var c="_."+a[0];n&a[1]&&!Do(e,c)&&e.push(c)}),e.sort()}function ac(e){if(e instanceof Ze)return e.clone();var n=new jt(e.__wrapped__,e.__chain__);return n.__actions__=zt(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}function xv(e,n,a){(a?Ot(e,n,a):n===o)?n=1:n=wt(Ve(n),0);var c=e==null?0:e.length;if(!c||n<1)return[];for(var f=0,_=0,b=H(Wo(c/n));f<c;)b[_++]=tn(e,f,f+=n);return b}function Ev(e){for(var n=-1,a=e==null?0:e.length,c=0,f=[];++n<a;){var _=e[n];_&&(f[c++]=_)}return f}function Sv(){var e=arguments.length;if(!e)return[];for(var n=H(e-1),a=arguments[0],c=e;c--;)n[c-1]=arguments[c];return Hn(He(a)?zt(a):[a],Nt(n,1))}var Nv=We(function(e,n){return pt(e)?no(e,Nt(n,1,pt,!0)):[]}),Cv=We(function(e,n){var a=nn(n);return pt(a)&&(a=o),pt(e)?no(e,Nt(n,1,pt,!0),ke(a,2)):[]}),Iv=We(function(e,n){var a=nn(n);return pt(a)&&(a=o),pt(e)?no(e,Nt(n,1,pt,!0),o,a):[]});function Mv(e,n,a){var c=e==null?0:e.length;return c?(n=a||n===o?1:Ve(n),tn(e,n<0?0:n,c)):[]}function kv(e,n,a){var c=e==null?0:e.length;return c?(n=a||n===o?1:Ve(n),n=c-n,tn(e,0,n<0?0:n)):[]}function Av(e,n){return e&&e.length?ni(e,ke(n,3),!0,!0):[]}function Tv(e,n){return e&&e.length?ni(e,ke(n,3),!0):[]}function Pv(e,n,a,c){var f=e==null?0:e.length;return f?(a&&typeof a!="number"&&Ot(e,n,a)&&(a=0,c=f),Sp(e,n,a,c)):[]}function lc(e,n,a){var c=e==null?0:e.length;if(!c)return-1;var f=a==null?0:Ve(a);return f<0&&(f=wt(c+f,0)),Ro(e,ke(n,3),f)}function sc(e,n,a){var c=e==null?0:e.length;if(!c)return-1;var f=c-1;return a!==o&&(f=Ve(a),f=a<0?wt(c+f,0):Mt(f,c-1)),Ro(e,ke(n,3),f,!0)}function uc(e){var n=e==null?0:e.length;return n?Nt(e,1):[]}function Ov(e){var n=e==null?0:e.length;return n?Nt(e,Y):[]}function Dv(e,n){var a=e==null?0:e.length;return a?(n=n===o?1:Ve(n),Nt(e,n)):[]}function Rv(e){for(var n=-1,a=e==null?0:e.length,c={};++n<a;){var f=e[n];c[f[0]]=f[1]}return c}function cc(e){return e&&e.length?e[0]:o}function zv(e,n,a){var c=e==null?0:e.length;if(!c)return-1;var f=a==null?0:Ve(a);return f<0&&(f=wt(c+f,0)),wr(e,n,f)}function Bv(e){var n=e==null?0:e.length;return n?tn(e,0,-1):[]}var Lv=We(function(e){var n=ut(e,Ya);return n.length&&n[0]===e[0]?Ba(n):[]}),Hv=We(function(e){var n=nn(e),a=ut(e,Ya);return n===nn(a)?n=o:a.pop(),a.length&&a[0]===e[0]?Ba(a,ke(n,2)):[]}),Fv=We(function(e){var n=nn(e),a=ut(e,Ya);return n=typeof n=="function"?n:o,n&&a.pop(),a.length&&a[0]===e[0]?Ba(a,o,n):[]});function $v(e,n){return e==null?"":Bg.call(e,n)}function nn(e){var n=e==null?0:e.length;return n?e[n-1]:o}function Gv(e,n,a){var c=e==null?0:e.length;if(!c)return-1;var f=c;return a!==o&&(f=Ve(a),f=f<0?wt(c+f,0):Mt(f,c-1)),n===n?bg(e,n,f):Ro(e,Us,f,!0)}function Vv(e,n){return e&&e.length?bu(e,Ve(n)):o}var Uv=We(dc);function dc(e,n){return e&&e.length&&n&&n.length?$a(e,n):e}function qv(e,n,a){return e&&e.length&&n&&n.length?$a(e,n,ke(a,2)):e}function Wv(e,n,a){return e&&e.length&&n&&n.length?$a(e,n,o,a):e}var Yv=Cn(function(e,n){var a=e==null?0:e.length,c=Oa(e,n);return Su(e,ut(n,function(f){return In(f,a)?+f:f}).sort(Du)),c});function Xv(e,n){var a=[];if(!(e&&e.length))return a;var c=-1,f=[],_=e.length;for(n=ke(n,3);++c<_;){var b=e[c];n(b,c,e)&&(a.push(b),f.push(c))}return Su(e,f),a}function ll(e){return e==null?e:$g.call(e)}function Zv(e,n,a){var c=e==null?0:e.length;return c?(a&&typeof a!="number"&&Ot(e,n,a)?(n=0,a=c):(n=n==null?0:Ve(n),a=a===o?c:Ve(a)),tn(e,n,a)):[]}function Kv(e,n){return ti(e,n)}function Qv(e,n,a){return Ua(e,n,ke(a,2))}function Jv(e,n){var a=e==null?0:e.length;if(a){var c=ti(e,n);if(c<a&&un(e[c],n))return c}return-1}function jv(e,n){return ti(e,n,!0)}function em(e,n,a){return Ua(e,n,ke(a,2),!0)}function tm(e,n){var a=e==null?0:e.length;if(a){var c=ti(e,n,!0)-1;if(un(e[c],n))return c}return-1}function nm(e){return e&&e.length?Cu(e):[]}function rm(e,n){return e&&e.length?Cu(e,ke(n,2)):[]}function om(e){var n=e==null?0:e.length;return n?tn(e,1,n):[]}function im(e,n,a){return e&&e.length?(n=a||n===o?1:Ve(n),tn(e,0,n<0?0:n)):[]}function am(e,n,a){var c=e==null?0:e.length;return c?(n=a||n===o?1:Ve(n),n=c-n,tn(e,n<0?0:n,c)):[]}function lm(e,n){return e&&e.length?ni(e,ke(n,3),!1,!0):[]}function sm(e,n){return e&&e.length?ni(e,ke(n,3)):[]}var um=We(function(e){return Vn(Nt(e,1,pt,!0))}),cm=We(function(e){var n=nn(e);return pt(n)&&(n=o),Vn(Nt(e,1,pt,!0),ke(n,2))}),dm=We(function(e){var n=nn(e);return n=typeof n=="function"?n:o,Vn(Nt(e,1,pt,!0),o,n)});function fm(e){return e&&e.length?Vn(e):[]}function hm(e,n){return e&&e.length?Vn(e,ke(n,2)):[]}function gm(e,n){return n=typeof n=="function"?n:o,e&&e.length?Vn(e,o,n):[]}function sl(e){if(!(e&&e.length))return[];var n=0;return e=Ln(e,function(a){if(pt(a))return n=wt(a.length,n),!0}),Na(n,function(a){return ut(e,xa(a))})}function fc(e,n){if(!(e&&e.length))return[];var a=sl(e);return n==null?a:ut(a,function(c){return Vt(n,o,c)})}var pm=We(function(e,n){return pt(e)?no(e,n):[]}),vm=We(function(e){return Wa(Ln(e,pt))}),mm=We(function(e){var n=nn(e);return pt(n)&&(n=o),Wa(Ln(e,pt),ke(n,2))}),_m=We(function(e){var n=nn(e);return n=typeof n=="function"?n:o,Wa(Ln(e,pt),o,n)}),ym=We(sl);function wm(e,n){return Au(e||[],n||[],to)}function bm(e,n){return Au(e||[],n||[],io)}var xm=We(function(e){var n=e.length,a=n>1?e[n-1]:o;return a=typeof a=="function"?(e.pop(),a):o,fc(e,a)});function hc(e){var n=g(e);return n.__chain__=!0,n}function Em(e,n){return n(e),e}function di(e,n){return n(e)}var Sm=Cn(function(e){var n=e.length,a=n?e[0]:0,c=this.__wrapped__,f=function(_){return Oa(_,e)};return n>1||this.__actions__.length||!(c instanceof Ze)||!In(a)?this.thru(f):(c=c.slice(a,+a+(n?1:0)),c.__actions__.push({func:di,args:[f],thisArg:o}),new jt(c,this.__chain__).thru(function(_){return n&&!_.length&&_.push(o),_}))});function Nm(){return hc(this)}function Cm(){return new jt(this.value(),this.__chain__)}function Im(){this.__values__===o&&(this.__values__=Ic(this.value()));var e=this.__index__>=this.__values__.length,n=e?o:this.__values__[this.__index__++];return{done:e,value:n}}function Mm(){return this}function km(e){for(var n,a=this;a instanceof Ko;){var c=ac(a);c.__index__=0,c.__values__=o,n?f.__wrapped__=c:n=c;var f=c;a=a.__wrapped__}return f.__wrapped__=e,n}function Am(){var e=this.__wrapped__;if(e instanceof Ze){var n=e;return this.__actions__.length&&(n=new Ze(this)),n=n.reverse(),n.__actions__.push({func:di,args:[ll],thisArg:o}),new jt(n,this.__chain__)}return this.thru(ll)}function Tm(){return ku(this.__wrapped__,this.__actions__)}var Pm=ri(function(e,n,a){nt.call(e,a)?++e[a]:Sn(e,a,1)});function Om(e,n,a){var c=He(e)?Gs:Ep;return a&&Ot(e,n,a)&&(n=o),c(e,ke(n,3))}function Dm(e,n){var a=He(e)?Ln:fu;return a(e,ke(n,3))}var Rm=Fu(lc),zm=Fu(sc);function Bm(e,n){return Nt(fi(e,n),1)}function Lm(e,n){return Nt(fi(e,n),Y)}function Hm(e,n,a){return a=a===o?1:Ve(a),Nt(fi(e,n),a)}function gc(e,n){var a=He(e)?Qt:Gn;return a(e,ke(n,3))}function pc(e,n){var a=He(e)?og:du;return a(e,ke(n,3))}var Fm=ri(function(e,n,a){nt.call(e,a)?e[a].push(n):Sn(e,a,[n])});function $m(e,n,a,c){e=Bt(e)?e:Pr(e),a=a&&!c?Ve(a):0;var f=e.length;return a<0&&(a=wt(f+a,0)),mi(e)?a<=f&&e.indexOf(n,a)>-1:!!f&&wr(e,n,a)>-1}var Gm=We(function(e,n,a){var c=-1,f=typeof n=="function",_=Bt(e)?H(e.length):[];return Gn(e,function(b){_[++c]=f?Vt(n,b,a):ro(b,n,a)}),_}),Vm=ri(function(e,n,a){Sn(e,a,n)});function fi(e,n){var a=He(e)?ut:_u;return a(e,ke(n,3))}function Um(e,n,a,c){return e==null?[]:(He(n)||(n=n==null?[]:[n]),a=c?o:a,He(a)||(a=a==null?[]:[a]),xu(e,n,a))}var qm=ri(function(e,n,a){e[a?0:1].push(n)},function(){return[[],[]]});function Wm(e,n,a){var c=He(e)?wa:Ws,f=arguments.length<3;return c(e,ke(n,4),a,f,Gn)}function Ym(e,n,a){var c=He(e)?ig:Ws,f=arguments.length<3;return c(e,ke(n,4),a,f,du)}function Xm(e,n){var a=He(e)?Ln:fu;return a(e,pi(ke(n,3)))}function Zm(e){var n=He(e)?lu:$p;return n(e)}function Km(e,n,a){(a?Ot(e,n,a):n===o)?n=1:n=Ve(n);var c=He(e)?_p:Gp;return c(e,n)}function Qm(e){var n=He(e)?yp:Up;return n(e)}function Jm(e){if(e==null)return 0;if(Bt(e))return mi(e)?xr(e):e.length;var n=kt(e);return n==m||n==_e?e.size:Ha(e).length}function jm(e,n,a){var c=He(e)?ba:qp;return a&&Ot(e,n,a)&&(n=o),c(e,ke(n,3))}var e0=We(function(e,n){if(e==null)return[];var a=n.length;return a>1&&Ot(e,n[0],n[1])?n=[]:a>2&&Ot(n[0],n[1],n[2])&&(n=[n[0]]),xu(e,Nt(n,1),[])}),hi=Dg||function(){return St.Date.now()};function t0(e,n){if(typeof n!="function")throw new Jt(s);return e=Ve(e),function(){if(--e<1)return n.apply(this,arguments)}}function vc(e,n,a){return n=a?o:n,n=e&&n==null?e.length:n,Nn(e,re,o,o,o,o,n)}function mc(e,n){var a;if(typeof n!="function")throw new Jt(s);return e=Ve(e),function(){return--e>0&&(a=n.apply(this,arguments)),e<=1&&(n=o),a}}var ul=We(function(e,n,a){var c=I;if(a.length){var f=Fn(a,Ar(ul));c|=Q}return Nn(e,c,n,a,f)}),_c=We(function(e,n,a){var c=I|M;if(a.length){var f=Fn(a,Ar(_c));c|=Q}return Nn(n,c,e,a,f)});function yc(e,n,a){n=a?o:n;var c=Nn(e,z,o,o,o,o,o,n);return c.placeholder=yc.placeholder,c}function wc(e,n,a){n=a?o:n;var c=Nn(e,O,o,o,o,o,o,n);return c.placeholder=wc.placeholder,c}function bc(e,n,a){var c,f,_,b,E,P,q=0,W=!1,ee=!1,he=!0;if(typeof e!="function")throw new Jt(s);n=rn(n)||0,ct(a)&&(W=!!a.leading,ee="maxWait"in a,_=ee?wt(rn(a.maxWait)||0,n):_,he="trailing"in a?!!a.trailing:he);function xe(vt){var cn=c,An=f;return c=f=o,q=vt,b=e.apply(An,cn),b}function Pe(vt){return q=vt,E=so(Xe,n),W?xe(vt):b}function Ue(vt){var cn=vt-P,An=vt-q,Fc=n-cn;return ee?Mt(Fc,_-An):Fc}function Oe(vt){var cn=vt-P,An=vt-q;return P===o||cn>=n||cn<0||ee&&An>=_}function Xe(){var vt=hi();if(Oe(vt))return Qe(vt);E=so(Xe,Ue(vt))}function Qe(vt){return E=o,he&&c?xe(vt):(c=f=o,b)}function Yt(){E!==o&&Tu(E),q=0,c=P=f=E=o}function Dt(){return E===o?b:Qe(hi())}function Xt(){var vt=hi(),cn=Oe(vt);if(c=arguments,f=this,P=vt,cn){if(E===o)return Pe(P);if(ee)return Tu(E),E=so(Xe,n),xe(P)}return E===o&&(E=so(Xe,n)),b}return Xt.cancel=Yt,Xt.flush=Dt,Xt}var n0=We(function(e,n){return cu(e,1,n)}),r0=We(function(e,n,a){return cu(e,rn(n)||0,a)});function o0(e){return Nn(e,ge)}function gi(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new Jt(s);var a=function(){var c=arguments,f=n?n.apply(this,c):c[0],_=a.cache;if(_.has(f))return _.get(f);var b=e.apply(this,c);return a.cache=_.set(f,b)||_,b};return a.cache=new(gi.Cache||En),a}gi.Cache=En;function pi(e){if(typeof e!="function")throw new Jt(s);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}function i0(e){return mc(2,e)}var a0=Wp(function(e,n){n=n.length==1&&He(n[0])?ut(n[0],Ut(ke())):ut(Nt(n,1),Ut(ke()));var a=n.length;return We(function(c){for(var f=-1,_=Mt(c.length,a);++f<_;)c[f]=n[f].call(this,c[f]);return Vt(e,this,c)})}),cl=We(function(e,n){var a=Fn(n,Ar(cl));return Nn(e,Q,o,n,a)}),xc=We(function(e,n){var a=Fn(n,Ar(xc));return Nn(e,ce,o,n,a)}),l0=Cn(function(e,n){return Nn(e,ve,o,o,o,n)});function s0(e,n){if(typeof e!="function")throw new Jt(s);return n=n===o?n:Ve(n),We(e,n)}function u0(e,n){if(typeof e!="function")throw new Jt(s);return n=n==null?0:wt(Ve(n),0),We(function(a){var c=a[n],f=qn(a,0,n);return c&&Hn(f,c),Vt(e,this,f)})}function c0(e,n,a){var c=!0,f=!0;if(typeof e!="function")throw new Jt(s);return ct(a)&&(c="leading"in a?!!a.leading:c,f="trailing"in a?!!a.trailing:f),bc(e,n,{leading:c,maxWait:n,trailing:f})}function d0(e){return vc(e,1)}function f0(e,n){return cl(Xa(n),e)}function h0(){if(!arguments.length)return[];var e=arguments[0];return He(e)?e:[e]}function g0(e){return en(e,N)}function p0(e,n){return n=typeof n=="function"?n:o,en(e,N,n)}function v0(e){return en(e,w|N)}function m0(e,n){return n=typeof n=="function"?n:o,en(e,w|N,n)}function _0(e,n){return n==null||uu(e,n,Et(n))}function un(e,n){return e===n||e!==e&&n!==n}var y0=li(za),w0=li(function(e,n){return e>=n}),lr=pu(function(){return arguments}())?pu:function(e){return ft(e)&&nt.call(e,"callee")&&!tu.call(e,"callee")},He=H.isArray,b0=zs?Ut(zs):kp;function Bt(e){return e!=null&&vi(e.length)&&!Mn(e)}function pt(e){return ft(e)&&Bt(e)}function x0(e){return e===!0||e===!1||ft(e)&&Pt(e)==oe}var Wn=zg||bl,E0=Bs?Ut(Bs):Ap;function S0(e){return ft(e)&&e.nodeType===1&&!uo(e)}function N0(e){if(e==null)return!0;if(Bt(e)&&(He(e)||typeof e=="string"||typeof e.splice=="function"||Wn(e)||Tr(e)||lr(e)))return!e.length;var n=kt(e);if(n==m||n==_e)return!e.size;if(lo(e))return!Ha(e).length;for(var a in e)if(nt.call(e,a))return!1;return!0}function C0(e,n){return oo(e,n)}function I0(e,n,a){a=typeof a=="function"?a:o;var c=a?a(e,n):o;return c===o?oo(e,n,o,a):!!c}function dl(e){if(!ft(e))return!1;var n=Pt(e);return n==B||n==se||typeof e.message=="string"&&typeof e.name=="string"&&!uo(e)}function M0(e){return typeof e=="number"&&ru(e)}function Mn(e){if(!ct(e))return!1;var n=Pt(e);return n==Z||n==U||n==Be||n==Ee}function Ec(e){return typeof e=="number"&&e==Ve(e)}function vi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=te}function ct(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function ft(e){return e!=null&&typeof e=="object"}var Sc=Ls?Ut(Ls):Pp;function k0(e,n){return e===n||La(e,n,tl(n))}function A0(e,n,a){return a=typeof a=="function"?a:o,La(e,n,tl(n),a)}function T0(e){return Nc(e)&&e!=+e}function P0(e){if(pv(e))throw new Le(u);return vu(e)}function O0(e){return e===null}function D0(e){return e==null}function Nc(e){return typeof e=="number"||ft(e)&&Pt(e)==x}function uo(e){if(!ft(e)||Pt(e)!=G)return!1;var n=Vo(e);if(n===null)return!0;var a=nt.call(n,"constructor")&&n.constructor;return typeof a=="function"&&a instanceof a&&Ho.call(a)==Ag}var fl=Hs?Ut(Hs):Op;function R0(e){return Ec(e)&&e>=-te&&e<=te}var Cc=Fs?Ut(Fs):Dp;function mi(e){return typeof e=="string"||!He(e)&&ft(e)&&Pt(e)==Te}function Wt(e){return typeof e=="symbol"||ft(e)&&Pt(e)==qe}var Tr=$s?Ut($s):Rp;function z0(e){return e===o}function B0(e){return ft(e)&&kt(e)==Ke}function L0(e){return ft(e)&&Pt(e)==Gt}var H0=li(Fa),F0=li(function(e,n){return e<=n});function Ic(e){if(!e)return[];if(Bt(e))return mi(e)?ln(e):zt(e);if(Kr&&e[Kr])return _g(e[Kr]());var n=kt(e),a=n==m?Ia:n==_e?zo:Pr;return a(e)}function kn(e){if(!e)return e===0?e:0;if(e=rn(e),e===Y||e===-Y){var n=e<0?-1:1;return n*ie}return e===e?e:0}function Ve(e){var n=kn(e),a=n%1;return n===n?a?n-a:n:0}function Mc(e){return e?rr(Ve(e),0,le):0}function rn(e){if(typeof e=="number")return e;if(Wt(e))return de;if(ct(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=ct(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=Ys(e);var a=bh.test(e);return a||Eh.test(e)?tg(e.slice(2),a?2:8):wh.test(e)?de:+e}function kc(e){return vn(e,Lt(e))}function $0(e){return e?rr(Ve(e),-te,te):e===0?e:0}function tt(e){return e==null?"":qt(e)}var G0=Mr(function(e,n){if(lo(n)||Bt(n)){vn(n,Et(n),e);return}for(var a in n)nt.call(n,a)&&to(e,a,n[a])}),Ac=Mr(function(e,n){vn(n,Lt(n),e)}),_i=Mr(function(e,n,a,c){vn(n,Lt(n),e,c)}),V0=Mr(function(e,n,a,c){vn(n,Et(n),e,c)}),U0=Cn(Oa);function q0(e,n){var a=Ir(e);return n==null?a:su(a,n)}var W0=We(function(e,n){e=ot(e);var a=-1,c=n.length,f=c>2?n[2]:o;for(f&&Ot(n[0],n[1],f)&&(c=1);++a<c;)for(var _=n[a],b=Lt(_),E=-1,P=b.length;++E<P;){var q=b[E],W=e[q];(W===o||un(W,Sr[q])&&!nt.call(e,q))&&(e[q]=_[q])}return e}),Y0=We(function(e){return e.push(o,Yu),Vt(Tc,o,e)});function X0(e,n){return Vs(e,ke(n,3),pn)}function Z0(e,n){return Vs(e,ke(n,3),Ra)}function K0(e,n){return e==null?e:Da(e,ke(n,3),Lt)}function Q0(e,n){return e==null?e:hu(e,ke(n,3),Lt)}function J0(e,n){return e&&pn(e,ke(n,3))}function j0(e,n){return e&&Ra(e,ke(n,3))}function e_(e){return e==null?[]:jo(e,Et(e))}function t_(e){return e==null?[]:jo(e,Lt(e))}function hl(e,n,a){var c=e==null?o:or(e,n);return c===o?a:c}function n_(e,n){return e!=null&&Ku(e,n,Np)}function gl(e,n){return e!=null&&Ku(e,n,Cp)}var r_=Gu(function(e,n,a){n!=null&&typeof n.toString!="function"&&(n=Fo.call(n)),e[n]=a},vl(Ht)),o_=Gu(function(e,n,a){n!=null&&typeof n.toString!="function"&&(n=Fo.call(n)),nt.call(e,n)?e[n].push(a):e[n]=[a]},ke),i_=We(ro);function Et(e){return Bt(e)?au(e):Ha(e)}function Lt(e){return Bt(e)?au(e,!0):zp(e)}function a_(e,n){var a={};return n=ke(n,3),pn(e,function(c,f,_){Sn(a,n(c,f,_),c)}),a}function l_(e,n){var a={};return n=ke(n,3),pn(e,function(c,f,_){Sn(a,f,n(c,f,_))}),a}var s_=Mr(function(e,n,a){ei(e,n,a)}),Tc=Mr(function(e,n,a,c){ei(e,n,a,c)}),u_=Cn(function(e,n){var a={};if(e==null)return a;var c=!1;n=ut(n,function(_){return _=Un(_,e),c||(c=_.length>1),_}),vn(e,ja(e),a),c&&(a=en(a,w|S|N,rv));for(var f=n.length;f--;)qa(a,n[f]);return a});function c_(e,n){return Pc(e,pi(ke(n)))}var d_=Cn(function(e,n){return e==null?{}:Lp(e,n)});function Pc(e,n){if(e==null)return{};var a=ut(ja(e),function(c){return[c]});return n=ke(n),Eu(e,a,function(c,f){return n(c,f[0])})}function f_(e,n,a){n=Un(n,e);var c=-1,f=n.length;for(f||(f=1,e=o);++c<f;){var _=e==null?o:e[mn(n[c])];_===o&&(c=f,_=a),e=Mn(_)?_.call(e):_}return e}function h_(e,n,a){return e==null?e:io(e,n,a)}function g_(e,n,a,c){return c=typeof c=="function"?c:o,e==null?e:io(e,n,a,c)}var Oc=qu(Et),Dc=qu(Lt);function p_(e,n,a){var c=He(e),f=c||Wn(e)||Tr(e);if(n=ke(n,4),a==null){var _=e&&e.constructor;f?a=c?new _:[]:ct(e)?a=Mn(_)?Ir(Vo(e)):{}:a={}}return(f?Qt:pn)(e,function(b,E,P){return n(a,b,E,P)}),a}function v_(e,n){return e==null?!0:qa(e,n)}function m_(e,n,a){return e==null?e:Mu(e,n,Xa(a))}function __(e,n,a,c){return c=typeof c=="function"?c:o,e==null?e:Mu(e,n,Xa(a),c)}function Pr(e){return e==null?[]:Ca(e,Et(e))}function y_(e){return e==null?[]:Ca(e,Lt(e))}function w_(e,n,a){return a===o&&(a=n,n=o),a!==o&&(a=rn(a),a=a===a?a:0),n!==o&&(n=rn(n),n=n===n?n:0),rr(rn(e),n,a)}function b_(e,n,a){return n=kn(n),a===o?(a=n,n=0):a=kn(a),e=rn(e),Ip(e,n,a)}function x_(e,n,a){if(a&&typeof a!="boolean"&&Ot(e,n,a)&&(n=a=o),a===o&&(typeof n=="boolean"?(a=n,n=o):typeof e=="boolean"&&(a=e,e=o)),e===o&&n===o?(e=0,n=1):(e=kn(e),n===o?(n=e,e=0):n=kn(n)),e>n){var c=e;e=n,n=c}if(a||e%1||n%1){var f=ou();return Mt(e+f*(n-e+eg("1e-"+((f+"").length-1))),n)}return Ga(e,n)}var E_=kr(function(e,n,a){return n=n.toLowerCase(),e+(a?Rc(n):n)});function Rc(e){return pl(tt(e).toLowerCase())}function zc(e){return e=tt(e),e&&e.replace(Nh,hg).replace(Uh,"")}function S_(e,n,a){e=tt(e),n=qt(n);var c=e.length;a=a===o?c:rr(Ve(a),0,c);var f=a;return a-=n.length,a>=0&&e.slice(a,f)==n}function N_(e){return e=tt(e),e&&ih.test(e)?e.replace(hs,gg):e}function C_(e){return e=tt(e),e&&dh.test(e)?e.replace(ca,"\\$&"):e}var I_=kr(function(e,n,a){return e+(a?"-":"")+n.toLowerCase()}),M_=kr(function(e,n,a){return e+(a?" ":"")+n.toLowerCase()}),k_=Hu("toLowerCase");function A_(e,n,a){e=tt(e),n=Ve(n);var c=n?xr(e):0;if(!n||c>=n)return e;var f=(n-c)/2;return ai(Yo(f),a)+e+ai(Wo(f),a)}function T_(e,n,a){e=tt(e),n=Ve(n);var c=n?xr(e):0;return n&&c<n?e+ai(n-c,a):e}function P_(e,n,a){e=tt(e),n=Ve(n);var c=n?xr(e):0;return n&&c<n?ai(n-c,a)+e:e}function O_(e,n,a){return a||n==null?n=0:n&&(n=+n),Fg(tt(e).replace(da,""),n||0)}function D_(e,n,a){return(a?Ot(e,n,a):n===o)?n=1:n=Ve(n),Va(tt(e),n)}function R_(){var e=arguments,n=tt(e[0]);return e.length<3?n:n.replace(e[1],e[2])}var z_=kr(function(e,n,a){return e+(a?"_":"")+n.toLowerCase()});function B_(e,n,a){return a&&typeof a!="number"&&Ot(e,n,a)&&(n=a=o),a=a===o?le:a>>>0,a?(e=tt(e),e&&(typeof n=="string"||n!=null&&!fl(n))&&(n=qt(n),!n&&br(e))?qn(ln(e),0,a):e.split(n,a)):[]}var L_=kr(function(e,n,a){return e+(a?" ":"")+pl(n)});function H_(e,n,a){return e=tt(e),a=a==null?0:rr(Ve(a),0,e.length),n=qt(n),e.slice(a,a+n.length)==n}function F_(e,n,a){var c=g.templateSettings;a&&Ot(e,n,a)&&(n=o),e=tt(e),n=_i({},n,c,Wu);var f=_i({},n.imports,c.imports,Wu),_=Et(f),b=Ca(f,_),E,P,q=0,W=n.interpolate||To,ee="__p += '",he=Ma((n.escape||To).source+"|"+W.source+"|"+(W===gs?yh:To).source+"|"+(n.evaluate||To).source+"|$","g"),xe="//# sourceURL="+(nt.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Zh+"]")+`
`;e.replace(he,function(Oe,Xe,Qe,Yt,Dt,Xt){return Qe||(Qe=Yt),ee+=e.slice(q,Xt).replace(Ch,pg),Xe&&(E=!0,ee+=`' +
__e(`+Xe+`) +
'`),Dt&&(P=!0,ee+=`';
`+Dt+`;
__p += '`),Qe&&(ee+=`' +
((__t = (`+Qe+`)) == null ? '' : __t) +
'`),q=Xt+Oe.length,Oe}),ee+=`';
`;var Pe=nt.call(n,"variable")&&n.variable;if(!Pe)ee=`with (obj) {
`+ee+`
}
`;else if(mh.test(Pe))throw new Le(d);ee=(P?ee.replace(th,""):ee).replace(nh,"$1").replace(rh,"$1;"),ee="function("+(Pe||"obj")+`) {
`+(Pe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(E?", __e = _.escape":"")+(P?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ee+`return __p
}`;var Ue=Lc(function(){return Je(_,xe+"return "+ee).apply(o,b)});if(Ue.source=ee,dl(Ue))throw Ue;return Ue}function $_(e){return tt(e).toLowerCase()}function G_(e){return tt(e).toUpperCase()}function V_(e,n,a){if(e=tt(e),e&&(a||n===o))return Ys(e);if(!e||!(n=qt(n)))return e;var c=ln(e),f=ln(n),_=Xs(c,f),b=Zs(c,f)+1;return qn(c,_,b).join("")}function U_(e,n,a){if(e=tt(e),e&&(a||n===o))return e.slice(0,Qs(e)+1);if(!e||!(n=qt(n)))return e;var c=ln(e),f=Zs(c,ln(n))+1;return qn(c,0,f).join("")}function q_(e,n,a){if(e=tt(e),e&&(a||n===o))return e.replace(da,"");if(!e||!(n=qt(n)))return e;var c=ln(e),f=Xs(c,ln(n));return qn(c,f).join("")}function W_(e,n){var a=J,c=k;if(ct(n)){var f="separator"in n?n.separator:f;a="length"in n?Ve(n.length):a,c="omission"in n?qt(n.omission):c}e=tt(e);var _=e.length;if(br(e)){var b=ln(e);_=b.length}if(a>=_)return e;var E=a-xr(c);if(E<1)return c;var P=b?qn(b,0,E).join(""):e.slice(0,E);if(f===o)return P+c;if(b&&(E+=P.length-E),fl(f)){if(e.slice(E).search(f)){var q,W=P;for(f.global||(f=Ma(f.source,tt(ps.exec(f))+"g")),f.lastIndex=0;q=f.exec(W);)var ee=q.index;P=P.slice(0,ee===o?E:ee)}}else if(e.indexOf(qt(f),E)!=E){var he=P.lastIndexOf(f);he>-1&&(P=P.slice(0,he))}return P+c}function Y_(e){return e=tt(e),e&&oh.test(e)?e.replace(fs,xg):e}var X_=kr(function(e,n,a){return e+(a?" ":"")+n.toUpperCase()}),pl=Hu("toUpperCase");function Bc(e,n,a){return e=tt(e),n=a?o:n,n===o?mg(e)?Ng(e):sg(e):e.match(n)||[]}var Lc=We(function(e,n){try{return Vt(e,o,n)}catch(a){return dl(a)?a:new Le(a)}}),Z_=Cn(function(e,n){return Qt(n,function(a){a=mn(a),Sn(e,a,ul(e[a],e))}),e});function K_(e){var n=e==null?0:e.length,a=ke();return e=n?ut(e,function(c){if(typeof c[1]!="function")throw new Jt(s);return[a(c[0]),c[1]]}):[],We(function(c){for(var f=-1;++f<n;){var _=e[f];if(Vt(_[0],this,c))return Vt(_[1],this,c)}})}function Q_(e){return xp(en(e,w))}function vl(e){return function(){return e}}function J_(e,n){return e==null||e!==e?n:e}var j_=$u(),ey=$u(!0);function Ht(e){return e}function ml(e){return mu(typeof e=="function"?e:en(e,w))}function ty(e){return yu(en(e,w))}function ny(e,n){return wu(e,en(n,w))}var ry=We(function(e,n){return function(a){return ro(a,e,n)}}),oy=We(function(e,n){return function(a){return ro(e,a,n)}});function _l(e,n,a){var c=Et(n),f=jo(n,c);a==null&&!(ct(n)&&(f.length||!c.length))&&(a=n,n=e,e=this,f=jo(n,Et(n)));var _=!(ct(a)&&"chain"in a)||!!a.chain,b=Mn(e);return Qt(f,function(E){var P=n[E];e[E]=P,b&&(e.prototype[E]=function(){var q=this.__chain__;if(_||q){var W=e(this.__wrapped__),ee=W.__actions__=zt(this.__actions__);return ee.push({func:P,args:arguments,thisArg:e}),W.__chain__=q,W}return P.apply(e,Hn([this.value()],arguments))})}),e}function iy(){return St._===this&&(St._=Tg),this}function yl(){}function ay(e){return e=Ve(e),We(function(n){return bu(n,e)})}var ly=Ka(ut),sy=Ka(Gs),uy=Ka(ba);function Hc(e){return rl(e)?xa(mn(e)):Hp(e)}function cy(e){return function(n){return e==null?o:or(e,n)}}var dy=Vu(),fy=Vu(!0);function wl(){return[]}function bl(){return!1}function hy(){return{}}function gy(){return""}function py(){return!0}function vy(e,n){if(e=Ve(e),e<1||e>te)return[];var a=le,c=Mt(e,le);n=ke(n),e-=le;for(var f=Na(c,n);++a<e;)n(a);return f}function my(e){return He(e)?ut(e,mn):Wt(e)?[e]:zt(ic(tt(e)))}function _y(e){var n=++kg;return tt(e)+n}var yy=ii(function(e,n){return e+n},0),wy=Qa("ceil"),by=ii(function(e,n){return e/n},1),xy=Qa("floor");function Ey(e){return e&&e.length?Jo(e,Ht,za):o}function Sy(e,n){return e&&e.length?Jo(e,ke(n,2),za):o}function Ny(e){return qs(e,Ht)}function Cy(e,n){return qs(e,ke(n,2))}function Iy(e){return e&&e.length?Jo(e,Ht,Fa):o}function My(e,n){return e&&e.length?Jo(e,ke(n,2),Fa):o}var ky=ii(function(e,n){return e*n},1),Ay=Qa("round"),Ty=ii(function(e,n){return e-n},0);function Py(e){return e&&e.length?Sa(e,Ht):0}function Oy(e,n){return e&&e.length?Sa(e,ke(n,2)):0}return g.after=t0,g.ary=vc,g.assign=G0,g.assignIn=Ac,g.assignInWith=_i,g.assignWith=V0,g.at=U0,g.before=mc,g.bind=ul,g.bindAll=Z_,g.bindKey=_c,g.castArray=h0,g.chain=hc,g.chunk=xv,g.compact=Ev,g.concat=Sv,g.cond=K_,g.conforms=Q_,g.constant=vl,g.countBy=Pm,g.create=q0,g.curry=yc,g.curryRight=wc,g.debounce=bc,g.defaults=W0,g.defaultsDeep=Y0,g.defer=n0,g.delay=r0,g.difference=Nv,g.differenceBy=Cv,g.differenceWith=Iv,g.drop=Mv,g.dropRight=kv,g.dropRightWhile=Av,g.dropWhile=Tv,g.fill=Pv,g.filter=Dm,g.flatMap=Bm,g.flatMapDeep=Lm,g.flatMapDepth=Hm,g.flatten=uc,g.flattenDeep=Ov,g.flattenDepth=Dv,g.flip=o0,g.flow=j_,g.flowRight=ey,g.fromPairs=Rv,g.functions=e_,g.functionsIn=t_,g.groupBy=Fm,g.initial=Bv,g.intersection=Lv,g.intersectionBy=Hv,g.intersectionWith=Fv,g.invert=r_,g.invertBy=o_,g.invokeMap=Gm,g.iteratee=ml,g.keyBy=Vm,g.keys=Et,g.keysIn=Lt,g.map=fi,g.mapKeys=a_,g.mapValues=l_,g.matches=ty,g.matchesProperty=ny,g.memoize=gi,g.merge=s_,g.mergeWith=Tc,g.method=ry,g.methodOf=oy,g.mixin=_l,g.negate=pi,g.nthArg=ay,g.omit=u_,g.omitBy=c_,g.once=i0,g.orderBy=Um,g.over=ly,g.overArgs=a0,g.overEvery=sy,g.overSome=uy,g.partial=cl,g.partialRight=xc,g.partition=qm,g.pick=d_,g.pickBy=Pc,g.property=Hc,g.propertyOf=cy,g.pull=Uv,g.pullAll=dc,g.pullAllBy=qv,g.pullAllWith=Wv,g.pullAt=Yv,g.range=dy,g.rangeRight=fy,g.rearg=l0,g.reject=Xm,g.remove=Xv,g.rest=s0,g.reverse=ll,g.sampleSize=Km,g.set=h_,g.setWith=g_,g.shuffle=Qm,g.slice=Zv,g.sortBy=e0,g.sortedUniq=nm,g.sortedUniqBy=rm,g.split=B_,g.spread=u0,g.tail=om,g.take=im,g.takeRight=am,g.takeRightWhile=lm,g.takeWhile=sm,g.tap=Em,g.throttle=c0,g.thru=di,g.toArray=Ic,g.toPairs=Oc,g.toPairsIn=Dc,g.toPath=my,g.toPlainObject=kc,g.transform=p_,g.unary=d0,g.union=um,g.unionBy=cm,g.unionWith=dm,g.uniq=fm,g.uniqBy=hm,g.uniqWith=gm,g.unset=v_,g.unzip=sl,g.unzipWith=fc,g.update=m_,g.updateWith=__,g.values=Pr,g.valuesIn=y_,g.without=pm,g.words=Bc,g.wrap=f0,g.xor=vm,g.xorBy=mm,g.xorWith=_m,g.zip=ym,g.zipObject=wm,g.zipObjectDeep=bm,g.zipWith=xm,g.entries=Oc,g.entriesIn=Dc,g.extend=Ac,g.extendWith=_i,_l(g,g),g.add=yy,g.attempt=Lc,g.camelCase=E_,g.capitalize=Rc,g.ceil=wy,g.clamp=w_,g.clone=g0,g.cloneDeep=v0,g.cloneDeepWith=m0,g.cloneWith=p0,g.conformsTo=_0,g.deburr=zc,g.defaultTo=J_,g.divide=by,g.endsWith=S_,g.eq=un,g.escape=N_,g.escapeRegExp=C_,g.every=Om,g.find=Rm,g.findIndex=lc,g.findKey=X0,g.findLast=zm,g.findLastIndex=sc,g.findLastKey=Z0,g.floor=xy,g.forEach=gc,g.forEachRight=pc,g.forIn=K0,g.forInRight=Q0,g.forOwn=J0,g.forOwnRight=j0,g.get=hl,g.gt=y0,g.gte=w0,g.has=n_,g.hasIn=gl,g.head=cc,g.identity=Ht,g.includes=$m,g.indexOf=zv,g.inRange=b_,g.invoke=i_,g.isArguments=lr,g.isArray=He,g.isArrayBuffer=b0,g.isArrayLike=Bt,g.isArrayLikeObject=pt,g.isBoolean=x0,g.isBuffer=Wn,g.isDate=E0,g.isElement=S0,g.isEmpty=N0,g.isEqual=C0,g.isEqualWith=I0,g.isError=dl,g.isFinite=M0,g.isFunction=Mn,g.isInteger=Ec,g.isLength=vi,g.isMap=Sc,g.isMatch=k0,g.isMatchWith=A0,g.isNaN=T0,g.isNative=P0,g.isNil=D0,g.isNull=O0,g.isNumber=Nc,g.isObject=ct,g.isObjectLike=ft,g.isPlainObject=uo,g.isRegExp=fl,g.isSafeInteger=R0,g.isSet=Cc,g.isString=mi,g.isSymbol=Wt,g.isTypedArray=Tr,g.isUndefined=z0,g.isWeakMap=B0,g.isWeakSet=L0,g.join=$v,g.kebabCase=I_,g.last=nn,g.lastIndexOf=Gv,g.lowerCase=M_,g.lowerFirst=k_,g.lt=H0,g.lte=F0,g.max=Ey,g.maxBy=Sy,g.mean=Ny,g.meanBy=Cy,g.min=Iy,g.minBy=My,g.stubArray=wl,g.stubFalse=bl,g.stubObject=hy,g.stubString=gy,g.stubTrue=py,g.multiply=ky,g.nth=Vv,g.noConflict=iy,g.noop=yl,g.now=hi,g.pad=A_,g.padEnd=T_,g.padStart=P_,g.parseInt=O_,g.random=x_,g.reduce=Wm,g.reduceRight=Ym,g.repeat=D_,g.replace=R_,g.result=f_,g.round=Ay,g.runInContext=A,g.sample=Zm,g.size=Jm,g.snakeCase=z_,g.some=jm,g.sortedIndex=Kv,g.sortedIndexBy=Qv,g.sortedIndexOf=Jv,g.sortedLastIndex=jv,g.sortedLastIndexBy=em,g.sortedLastIndexOf=tm,g.startCase=L_,g.startsWith=H_,g.subtract=Ty,g.sum=Py,g.sumBy=Oy,g.template=F_,g.times=vy,g.toFinite=kn,g.toInteger=Ve,g.toLength=Mc,g.toLower=$_,g.toNumber=rn,g.toSafeInteger=$0,g.toString=tt,g.toUpper=G_,g.trim=V_,g.trimEnd=U_,g.trimStart=q_,g.truncate=W_,g.unescape=Y_,g.uniqueId=_y,g.upperCase=X_,g.upperFirst=pl,g.each=gc,g.eachRight=pc,g.first=cc,_l(g,function(){var e={};return pn(g,function(n,a){nt.call(g.prototype,a)||(e[a]=n)}),e}(),{chain:!1}),g.VERSION=i,Qt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){g[e].placeholder=g}),Qt(["drop","take"],function(e,n){Ze.prototype[e]=function(a){a=a===o?1:wt(Ve(a),0);var c=this.__filtered__&&!n?new Ze(this):this.clone();return c.__filtered__?c.__takeCount__=Mt(a,c.__takeCount__):c.__views__.push({size:Mt(a,le),type:e+(c.__dir__<0?"Right":"")}),c},Ze.prototype[e+"Right"]=function(a){return this.reverse()[e](a).reverse()}}),Qt(["filter","map","takeWhile"],function(e,n){var a=n+1,c=a==T||a==R;Ze.prototype[e]=function(f){var _=this.clone();return _.__iteratees__.push({iteratee:ke(f,3),type:a}),_.__filtered__=_.__filtered__||c,_}}),Qt(["head","last"],function(e,n){var a="take"+(n?"Right":"");Ze.prototype[e]=function(){return this[a](1).value()[0]}}),Qt(["initial","tail"],function(e,n){var a="drop"+(n?"":"Right");Ze.prototype[e]=function(){return this.__filtered__?new Ze(this):this[a](1)}}),Ze.prototype.compact=function(){return this.filter(Ht)},Ze.prototype.find=function(e){return this.filter(e).head()},Ze.prototype.findLast=function(e){return this.reverse().find(e)},Ze.prototype.invokeMap=We(function(e,n){return typeof e=="function"?new Ze(this):this.map(function(a){return ro(a,e,n)})}),Ze.prototype.reject=function(e){return this.filter(pi(ke(e)))},Ze.prototype.slice=function(e,n){e=Ve(e);var a=this;return a.__filtered__&&(e>0||n<0)?new Ze(a):(e<0?a=a.takeRight(-e):e&&(a=a.drop(e)),n!==o&&(n=Ve(n),a=n<0?a.dropRight(-n):a.take(n-e)),a)},Ze.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ze.prototype.toArray=function(){return this.take(le)},pn(Ze.prototype,function(e,n){var a=/^(?:filter|find|map|reject)|While$/.test(n),c=/^(?:head|last)$/.test(n),f=g[c?"take"+(n=="last"?"Right":""):n],_=c||/^find/.test(n);f&&(g.prototype[n]=function(){var b=this.__wrapped__,E=c?[1]:arguments,P=b instanceof Ze,q=E[0],W=P||He(b),ee=function(Xe){var Qe=f.apply(g,Hn([Xe],E));return c&&he?Qe[0]:Qe};W&&a&&typeof q=="function"&&q.length!=1&&(P=W=!1);var he=this.__chain__,xe=!!this.__actions__.length,Pe=_&&!he,Ue=P&&!xe;if(!_&&W){b=Ue?b:new Ze(this);var Oe=e.apply(b,E);return Oe.__actions__.push({func:di,args:[ee],thisArg:o}),new jt(Oe,he)}return Pe&&Ue?e.apply(this,E):(Oe=this.thru(ee),Pe?c?Oe.value()[0]:Oe.value():Oe)})}),Qt(["pop","push","shift","sort","splice","unshift"],function(e){var n=Bo[e],a=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",c=/^(?:pop|shift)$/.test(e);g.prototype[e]=function(){var f=arguments;if(c&&!this.__chain__){var _=this.value();return n.apply(He(_)?_:[],f)}return this[a](function(b){return n.apply(He(b)?b:[],f)})}}),pn(Ze.prototype,function(e,n){var a=g[n];if(a){var c=a.name+"";nt.call(Cr,c)||(Cr[c]=[]),Cr[c].push({name:n,func:a})}}),Cr[oi(o,M).name]=[{name:"wrapper",func:o}],Ze.prototype.clone=Yg,Ze.prototype.reverse=Xg,Ze.prototype.value=Zg,g.prototype.at=Sm,g.prototype.chain=Nm,g.prototype.commit=Cm,g.prototype.next=Im,g.prototype.plant=km,g.prototype.reverse=Am,g.prototype.toJSON=g.prototype.valueOf=g.prototype.value=Tm,g.prototype.first=g.prototype.head,Kr&&(g.prototype[Kr]=Mm),g},Er=Cg();jn?((jn.exports=Er)._=Er,ma._=Er):St._=Er}).call(co)})(Ri,Ri.exports);var E1=Ri.exports;const S1=Hy(E1);function Yi(t){return Bd()?(Ii(t),!0):!1}function Rn(t){return typeof t=="function"?t():Re(t)}const N1=typeof window!="undefined"&&typeof document!="undefined",C1=t=>typeof t!="undefined",I1=Object.prototype.toString,M1=t=>I1.call(t)==="[object Object]",k1=()=>{};function A1(t,r){function o(...i){return new Promise((l,u)=>{Promise.resolve(t(()=>r.apply(this,i),{fn:r,thisArg:this,args:i})).then(l).catch(u)})}return o}const Zd=t=>t();function T1(t=Zd){const r=De(!0);function o(){r.value=!1}function i(){r.value=!0}const l=(...u)=>{r.value&&t(...u)};return{isActive:qy(r),pause:o,resume:i,eventFilter:l}}function Gc(t,r=!1,o="Timeout"){return new Promise((i,l)=>{setTimeout(r?()=>l(o):i,t)})}function P1(t,r,o={}){const{eventFilter:i=Zd,...l}=o;return et(t,A1(i,r),l)}function Or(t,r,o={}){const{eventFilter:i,...l}=o,{eventFilter:u,pause:s,resume:d,isActive:h}=T1(i);return{stop:P1(t,r,{...l,eventFilter:u}),pause:s,resume:d,isActive:h}}function O1(t,r={}){if(!Ql(t))return Gy(t);const o=Array.isArray(t.value)?Array.from({length:t.value.length}):{};for(const i in t.value)o[i]=Vy(()=>({get(){return t.value[i]},set(l){var u;if((u=Rn(r.replaceRef))!=null?u:!0)if(Array.isArray(t.value)){const d=[...t.value];d[i]=l,t.value=d}else{const d={...t.value,[i]:l};Object.setPrototypeOf(d,Object.getPrototypeOf(t.value)),t.value=d}else t.value[i]=l}}));return o}function Rl(t,r=!1){function o(w,{flush:S="sync",deep:N=!1,timeout:D,throwOnTimeout:C}={}){let I=null;const y=[new Promise(z=>{I=et(t,O=>{w(O)!==r&&(I==null||I(),z(O))},{flush:S,deep:N,immediate:!0})})];return D!=null&&y.push(Gc(D,C).then(()=>Rn(t)).finally(()=>I==null?void 0:I())),Promise.race(y)}function i(w,S){if(!Ql(w))return o(O=>O===w,S);const{flush:N="sync",deep:D=!1,timeout:C,throwOnTimeout:I}=S!=null?S:{};let M=null;const z=[new Promise(O=>{M=et([t,w],([Q,ce])=>{r!==(Q===ce)&&(M==null||M(),O(Q))},{flush:N,deep:D,immediate:!0})})];return C!=null&&z.push(Gc(C,I).then(()=>Rn(t)).finally(()=>(M==null||M(),Rn(t)))),Promise.race(z)}function l(w){return o(S=>!!S,w)}function u(w){return i(null,w)}function s(w){return i(void 0,w)}function d(w){return o(Number.isNaN,w)}function h(w,S){return o(N=>{const D=Array.from(N);return D.includes(w)||D.includes(Rn(w))},S)}function p(w){return v(1,w)}function v(w=1,S){let N=-1;return o(()=>(N+=1,N>=w),S)}return Array.isArray(Rn(t))?{toMatch:o,toContains:h,changed:p,changedTimes:v,get not(){return Rl(t,!r)}}:{toMatch:o,toBe:i,toBeTruthy:l,toBeNull:u,toBeNaN:d,toBeUndefined:s,changed:p,changedTimes:v,get not(){return Rl(t,!r)}}}function zl(t){return Rl(t)}function D1(t){var r;const o=Rn(t);return(r=o==null?void 0:o.$el)!=null?r:o}const Kd=N1?window:void 0;function Qd(...t){let r,o,i,l;if(typeof t[0]=="string"||Array.isArray(t[0])?([o,i,l]=t,r=Kd):[r,o,i,l]=t,!r)return k1;Array.isArray(o)||(o=[o]),Array.isArray(i)||(i=[i]);const u=[],s=()=>{u.forEach(v=>v()),u.length=0},d=(v,w,S,N)=>(v.addEventListener(w,S,N),()=>v.removeEventListener(w,S,N)),h=et(()=>[D1(r),Rn(l)],([v,w])=>{if(s(),!v)return;const S=M1(w)?{...w}:w;u.push(...o.flatMap(N=>i.map(D=>d(v,N,D,S))))},{immediate:!0,flush:"post"}),p=()=>{h(),s()};return Yi(p),p}function R1(t){return typeof t=="function"?t:typeof t=="string"?r=>r.key===t:Array.isArray(t)?r=>t.includes(r.key):()=>!0}function Vc(...t){let r,o,i={};t.length===3?(r=t[0],o=t[1],i=t[2]):t.length===2?typeof t[1]=="object"?(r=!0,o=t[0],i=t[1]):(r=t[0],o=t[1]):(r=!0,o=t[0]);const{target:l=Kd,eventName:u="keydown",passive:s=!1,dedupe:d=!1}=i,h=R1(r);return Qd(l,u,v=>{v.repeat&&Rn(d)||h(v)&&o(v)},s)}function z1(t){return JSON.parse(JSON.stringify(t))}function xl(t,r,o,i={}){var l,u,s;const{clone:d=!1,passive:h=!1,eventName:p,deep:v=!1,defaultValue:w,shouldEmit:S}=i,N=Mo(),D=o||(N==null?void 0:N.emit)||((l=N==null?void 0:N.$emit)==null?void 0:l.bind(N))||((s=(u=N==null?void 0:N.proxy)==null?void 0:u.$emit)==null?void 0:s.bind(N==null?void 0:N.proxy));let C=p;r||(r="modelValue"),C=C||`update:${r.toString()}`;const I=z=>d?typeof d=="function"?d(z):z1(z):z,M=()=>C1(t[r])?I(t[r]):w,y=z=>{S?S(z)&&D(C,z):D(C,z)};if(h){const z=M(),O=De(z);let Q=!1;return et(()=>t[r],ce=>{Q||(Q=!0,O.value=I(ce),Ft(()=>Q=!1))}),et(O,ce=>{!Q&&(ce!==t[r]||v)&&y(ce)},{deep:v}),O}else return Ce({get(){return M()},set(z){y(z)}})}var B1={value:()=>{}};function Xi(){for(var t=0,r=arguments.length,o={},i;t<r;++t){if(!(i=arguments[t]+"")||i in o||/[\s.]/.test(i))throw new Error("illegal type: "+i);o[i]=[]}return new Mi(o)}function Mi(t){this._=t}function L1(t,r){return t.trim().split(/^|\s+/).map(function(o){var i="",l=o.indexOf(".");if(l>=0&&(i=o.slice(l+1),o=o.slice(0,l)),o&&!r.hasOwnProperty(o))throw new Error("unknown type: "+o);return{type:o,name:i}})}Mi.prototype=Xi.prototype={constructor:Mi,on:function(t,r){var o=this._,i=L1(t+"",o),l,u=-1,s=i.length;if(arguments.length<2){for(;++u<s;)if((l=(t=i[u]).type)&&(l=H1(o[l],t.name)))return l;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++u<s;)if(l=(t=i[u]).type)o[l]=Uc(o[l],t.name,r);else if(r==null)for(l in o)o[l]=Uc(o[l],t.name,null);return this},copy:function(){var t={},r=this._;for(var o in r)t[o]=r[o].slice();return new Mi(t)},call:function(t,r){if((l=arguments.length-2)>0)for(var o=new Array(l),i=0,l,u;i<l;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(u=this._[t],i=0,l=u.length;i<l;++i)u[i].value.apply(r,o)},apply:function(t,r,o){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],l=0,u=i.length;l<u;++l)i[l].value.apply(r,o)}};function H1(t,r){for(var o=0,i=t.length,l;o<i;++o)if((l=t[o]).name===r)return l.value}function Uc(t,r,o){for(var i=0,l=t.length;i<l;++i)if(t[i].name===r){t[i]=B1,t=t.slice(0,i).concat(t.slice(i+1));break}return o!=null&&t.push({name:r,value:o}),t}var Bl="http://www.w3.org/1999/xhtml";const qc={svg:"http://www.w3.org/2000/svg",xhtml:Bl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Zi(t){var r=t+="",o=r.indexOf(":");return o>=0&&(r=t.slice(0,o))!=="xmlns"&&(t=t.slice(o+1)),qc.hasOwnProperty(r)?{space:qc[r],local:t}:t}function F1(t){return function(){var r=this.ownerDocument,o=this.namespaceURI;return o===Bl&&r.documentElement.namespaceURI===Bl?r.createElement(t):r.createElementNS(o,t)}}function $1(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Jd(t){var r=Zi(t);return(r.local?$1:F1)(r)}function G1(){}function ts(t){return t==null?G1:function(){return this.querySelector(t)}}function V1(t){typeof t!="function"&&(t=ts(t));for(var r=this._groups,o=r.length,i=new Array(o),l=0;l<o;++l)for(var u=r[l],s=u.length,d=i[l]=new Array(s),h,p,v=0;v<s;++v)(h=u[v])&&(p=t.call(h,h.__data__,v,u))&&("__data__"in h&&(p.__data__=h.__data__),d[v]=p);return new Zt(i,this._parents)}function U1(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function q1(){return[]}function jd(t){return t==null?q1:function(){return this.querySelectorAll(t)}}function W1(t){return function(){return U1(t.apply(this,arguments))}}function Y1(t){typeof t=="function"?t=W1(t):t=jd(t);for(var r=this._groups,o=r.length,i=[],l=[],u=0;u<o;++u)for(var s=r[u],d=s.length,h,p=0;p<d;++p)(h=s[p])&&(i.push(t.call(h,h.__data__,p,s)),l.push(h));return new Zt(i,l)}function ef(t){return function(){return this.matches(t)}}function tf(t){return function(r){return r.matches(t)}}var X1=Array.prototype.find;function Z1(t){return function(){return X1.call(this.children,t)}}function K1(){return this.firstElementChild}function Q1(t){return this.select(t==null?K1:Z1(typeof t=="function"?t:tf(t)))}var J1=Array.prototype.filter;function j1(){return Array.from(this.children)}function ew(t){return function(){return J1.call(this.children,t)}}function tw(t){return this.selectAll(t==null?j1:ew(typeof t=="function"?t:tf(t)))}function nw(t){typeof t!="function"&&(t=ef(t));for(var r=this._groups,o=r.length,i=new Array(o),l=0;l<o;++l)for(var u=r[l],s=u.length,d=i[l]=[],h,p=0;p<s;++p)(h=u[p])&&t.call(h,h.__data__,p,u)&&d.push(h);return new Zt(i,this._parents)}function nf(t){return new Array(t.length)}function rw(){return new Zt(this._enter||this._groups.map(nf),this._parents)}function zi(t,r){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=r}zi.prototype={constructor:zi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,r){return this._parent.insertBefore(t,r)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ow(t){return function(){return t}}function iw(t,r,o,i,l,u){for(var s=0,d,h=r.length,p=u.length;s<p;++s)(d=r[s])?(d.__data__=u[s],i[s]=d):o[s]=new zi(t,u[s]);for(;s<h;++s)(d=r[s])&&(l[s]=d)}function aw(t,r,o,i,l,u,s){var d,h,p=new Map,v=r.length,w=u.length,S=new Array(v),N;for(d=0;d<v;++d)(h=r[d])&&(S[d]=N=s.call(h,h.__data__,d,r)+"",p.has(N)?l[d]=h:p.set(N,h));for(d=0;d<w;++d)N=s.call(t,u[d],d,u)+"",(h=p.get(N))?(i[d]=h,h.__data__=u[d],p.delete(N)):o[d]=new zi(t,u[d]);for(d=0;d<v;++d)(h=r[d])&&p.get(S[d])===h&&(l[d]=h)}function lw(t){return t.__data__}function sw(t,r){if(!arguments.length)return Array.from(this,lw);var o=r?aw:iw,i=this._parents,l=this._groups;typeof t!="function"&&(t=ow(t));for(var u=l.length,s=new Array(u),d=new Array(u),h=new Array(u),p=0;p<u;++p){var v=i[p],w=l[p],S=w.length,N=uw(t.call(v,v&&v.__data__,p,i)),D=N.length,C=d[p]=new Array(D),I=s[p]=new Array(D),M=h[p]=new Array(S);o(v,w,C,I,M,N,r);for(var y=0,z=0,O,Q;y<D;++y)if(O=C[y]){for(y>=z&&(z=y+1);!(Q=I[z])&&++z<D;);O._next=Q||null}}return s=new Zt(s,i),s._enter=d,s._exit=h,s}function uw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function cw(){return new Zt(this._exit||this._groups.map(nf),this._parents)}function dw(t,r,o){var i=this.enter(),l=this,u=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),r!=null&&(l=r(l),l&&(l=l.selection())),o==null?u.remove():o(u),i&&l?i.merge(l).order():l}function fw(t){for(var r=t.selection?t.selection():t,o=this._groups,i=r._groups,l=o.length,u=i.length,s=Math.min(l,u),d=new Array(l),h=0;h<s;++h)for(var p=o[h],v=i[h],w=p.length,S=d[h]=new Array(w),N,D=0;D<w;++D)(N=p[D]||v[D])&&(S[D]=N);for(;h<l;++h)d[h]=o[h];return new Zt(d,this._parents)}function hw(){for(var t=this._groups,r=-1,o=t.length;++r<o;)for(var i=t[r],l=i.length-1,u=i[l],s;--l>=0;)(s=i[l])&&(u&&s.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(s,u),u=s);return this}function gw(t){t||(t=pw);function r(w,S){return w&&S?t(w.__data__,S.__data__):!w-!S}for(var o=this._groups,i=o.length,l=new Array(i),u=0;u<i;++u){for(var s=o[u],d=s.length,h=l[u]=new Array(d),p,v=0;v<d;++v)(p=s[v])&&(h[v]=p);h.sort(r)}return new Zt(l,this._parents).order()}function pw(t,r){return t<r?-1:t>r?1:t>=r?0:NaN}function vw(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function mw(){return Array.from(this)}function _w(){for(var t=this._groups,r=0,o=t.length;r<o;++r)for(var i=t[r],l=0,u=i.length;l<u;++l){var s=i[l];if(s)return s}return null}function yw(){let t=0;for(const r of this)++t;return t}function ww(){return!this.node()}function bw(t){for(var r=this._groups,o=0,i=r.length;o<i;++o)for(var l=r[o],u=0,s=l.length,d;u<s;++u)(d=l[u])&&t.call(d,d.__data__,u,l);return this}function xw(t){return function(){this.removeAttribute(t)}}function Ew(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Sw(t,r){return function(){this.setAttribute(t,r)}}function Nw(t,r){return function(){this.setAttributeNS(t.space,t.local,r)}}function Cw(t,r){return function(){var o=r.apply(this,arguments);o==null?this.removeAttribute(t):this.setAttribute(t,o)}}function Iw(t,r){return function(){var o=r.apply(this,arguments);o==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,o)}}function Mw(t,r){var o=Zi(t);if(arguments.length<2){var i=this.node();return o.local?i.getAttributeNS(o.space,o.local):i.getAttribute(o)}return this.each((r==null?o.local?Ew:xw:typeof r=="function"?o.local?Iw:Cw:o.local?Nw:Sw)(o,r))}function rf(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function kw(t){return function(){this.style.removeProperty(t)}}function Aw(t,r,o){return function(){this.style.setProperty(t,r,o)}}function Tw(t,r,o){return function(){var i=r.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,o)}}function Pw(t,r,o){return arguments.length>1?this.each((r==null?kw:typeof r=="function"?Tw:Aw)(t,r,o==null?"":o)):Gr(this.node(),t)}function Gr(t,r){return t.style.getPropertyValue(r)||rf(t).getComputedStyle(t,null).getPropertyValue(r)}function Ow(t){return function(){delete this[t]}}function Dw(t,r){return function(){this[t]=r}}function Rw(t,r){return function(){var o=r.apply(this,arguments);o==null?delete this[t]:this[t]=o}}function zw(t,r){return arguments.length>1?this.each((r==null?Ow:typeof r=="function"?Rw:Dw)(t,r)):this.node()[t]}function of(t){return t.trim().split(/^|\s+/)}function ns(t){return t.classList||new af(t)}function af(t){this._node=t,this._names=of(t.getAttribute("class")||"")}af.prototype={add:function(t){var r=this._names.indexOf(t);r<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var r=this._names.indexOf(t);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function lf(t,r){for(var o=ns(t),i=-1,l=r.length;++i<l;)o.add(r[i])}function sf(t,r){for(var o=ns(t),i=-1,l=r.length;++i<l;)o.remove(r[i])}function Bw(t){return function(){lf(this,t)}}function Lw(t){return function(){sf(this,t)}}function Hw(t,r){return function(){(r.apply(this,arguments)?lf:sf)(this,t)}}function Fw(t,r){var o=of(t+"");if(arguments.length<2){for(var i=ns(this.node()),l=-1,u=o.length;++l<u;)if(!i.contains(o[l]))return!1;return!0}return this.each((typeof r=="function"?Hw:r?Bw:Lw)(o,r))}function $w(){this.textContent=""}function Gw(t){return function(){this.textContent=t}}function Vw(t){return function(){var r=t.apply(this,arguments);this.textContent=r==null?"":r}}function Uw(t){return arguments.length?this.each(t==null?$w:(typeof t=="function"?Vw:Gw)(t)):this.node().textContent}function qw(){this.innerHTML=""}function Ww(t){return function(){this.innerHTML=t}}function Yw(t){return function(){var r=t.apply(this,arguments);this.innerHTML=r==null?"":r}}function Xw(t){return arguments.length?this.each(t==null?qw:(typeof t=="function"?Yw:Ww)(t)):this.node().innerHTML}function Zw(){this.nextSibling&&this.parentNode.appendChild(this)}function Kw(){return this.each(Zw)}function Qw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Jw(){return this.each(Qw)}function jw(t){var r=typeof t=="function"?t:Jd(t);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function eb(){return null}function tb(t,r){var o=typeof t=="function"?t:Jd(t),i=r==null?eb:typeof r=="function"?r:ts(r);return this.select(function(){return this.insertBefore(o.apply(this,arguments),i.apply(this,arguments)||null)})}function nb(){var t=this.parentNode;t&&t.removeChild(this)}function rb(){return this.each(nb)}function ob(){var t=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(t,this.nextSibling):t}function ib(){var t=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(t,this.nextSibling):t}function ab(t){return this.select(t?ib:ob)}function lb(t){return arguments.length?this.property("__data__",t):this.node().__data__}function sb(t){return function(r){t.call(this,r,this.__data__)}}function ub(t){return t.trim().split(/^|\s+/).map(function(r){var o="",i=r.indexOf(".");return i>=0&&(o=r.slice(i+1),r=r.slice(0,i)),{type:r,name:o}})}function cb(t){return function(){var r=this.__on;if(r){for(var o=0,i=-1,l=r.length,u;o<l;++o)u=r[o],(!t.type||u.type===t.type)&&u.name===t.name?this.removeEventListener(u.type,u.listener,u.options):r[++i]=u;++i?r.length=i:delete this.__on}}}function db(t,r,o){return function(){var i=this.__on,l,u=sb(r);if(i){for(var s=0,d=i.length;s<d;++s)if((l=i[s]).type===t.type&&l.name===t.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=u,l.options=o),l.value=r;return}}this.addEventListener(t.type,u,o),l={type:t.type,name:t.name,value:r,listener:u,options:o},i?i.push(l):this.__on=[l]}}function fb(t,r,o){var i=ub(t+""),l,u=i.length,s;if(arguments.length<2){var d=this.node().__on;if(d){for(var h=0,p=d.length,v;h<p;++h)for(l=0,v=d[h];l<u;++l)if((s=i[l]).type===v.type&&s.name===v.name)return v.value}return}for(d=r?db:cb,l=0;l<u;++l)this.each(d(i[l],r,o));return this}function uf(t,r,o){var i=rf(t),l=i.CustomEvent;typeof l=="function"?l=new l(r,o):(l=i.document.createEvent("Event"),o?(l.initEvent(r,o.bubbles,o.cancelable),l.detail=o.detail):l.initEvent(r,!1,!1)),t.dispatchEvent(l)}function hb(t,r){return function(){return uf(this,t,r)}}function gb(t,r){return function(){return uf(this,t,r.apply(this,arguments))}}function pb(t,r){return this.each((typeof r=="function"?gb:hb)(t,r))}function*vb(){for(var t=this._groups,r=0,o=t.length;r<o;++r)for(var i=t[r],l=0,u=i.length,s;l<u;++l)(s=i[l])&&(yield s)}var cf=[null];function Zt(t,r){this._groups=t,this._parents=r}function ko(){return new Zt([[document.documentElement]],cf)}function mb(){return this}Zt.prototype=ko.prototype={constructor:Zt,select:V1,selectAll:Y1,selectChild:Q1,selectChildren:tw,filter:nw,data:sw,enter:rw,exit:cw,join:dw,merge:fw,selection:mb,order:hw,sort:gw,call:vw,nodes:mw,node:_w,size:yw,empty:ww,each:bw,attr:Mw,style:Pw,property:zw,classed:Fw,text:Uw,html:Xw,raise:Kw,lower:Jw,append:jw,insert:tb,remove:rb,clone:ab,datum:lb,on:fb,dispatch:pb,[Symbol.iterator]:vb};function dn(t){return typeof t=="string"?new Zt([[document.querySelector(t)]],[document.documentElement]):new Zt([[t]],cf)}function _b(t){let r;for(;r=t.sourceEvent;)t=r;return t}function _n(t,r){if(t=_b(t),r===void 0&&(r=t.currentTarget),r){var o=r.ownerSVGElement||r;if(o.createSVGPoint){var i=o.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(r.getScreenCTM().inverse()),[i.x,i.y]}if(r.getBoundingClientRect){var l=r.getBoundingClientRect();return[t.clientX-l.left-r.clientLeft,t.clientY-l.top-r.clientTop]}}return[t.pageX,t.pageY]}const yb={passive:!1},bo={capture:!0,passive:!1};function El(t){t.stopImmediatePropagation()}function Lr(t){t.preventDefault(),t.stopImmediatePropagation()}function df(t){var r=t.document.documentElement,o=dn(t).on("dragstart.drag",Lr,bo);"onselectstart"in r?o.on("selectstart.drag",Lr,bo):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function ff(t,r){var o=t.document.documentElement,i=dn(t).on("dragstart.drag",null);r&&(i.on("click.drag",Lr,bo),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in o?i.on("selectstart.drag",null):(o.style.MozUserSelect=o.__noselect,delete o.__noselect)}const yi=t=>()=>t;function Ll(t,{sourceEvent:r,subject:o,target:i,identifier:l,active:u,x:s,y:d,dx:h,dy:p,dispatch:v}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:o,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:d,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:p,enumerable:!0,configurable:!0},_:{value:v}})}Ll.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function wb(t){return!t.ctrlKey&&!t.button}function bb(){return this.parentNode}function xb(t,r){return r==null?{x:t.x,y:t.y}:r}function Eb(){return navigator.maxTouchPoints||"ontouchstart"in this}function Sb(){var t=wb,r=bb,o=xb,i=Eb,l={},u=Xi("start","drag","end"),s=0,d,h,p,v,w=0;function S(O){O.on("mousedown.drag",N).filter(i).on("touchstart.drag",I).on("touchmove.drag",M,yb).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function N(O,Q){if(!(v||!t.call(this,O,Q))){var ce=z(this,r.call(this,O,Q),O,Q,"mouse");ce&&(dn(O.view).on("mousemove.drag",D,bo).on("mouseup.drag",C,bo),df(O.view),El(O),p=!1,d=O.clientX,h=O.clientY,ce("start",O))}}function D(O){if(Lr(O),!p){var Q=O.clientX-d,ce=O.clientY-h;p=Q*Q+ce*ce>w}l.mouse("drag",O)}function C(O){dn(O.view).on("mousemove.drag mouseup.drag",null),ff(O.view,p),Lr(O),l.mouse("end",O)}function I(O,Q){if(t.call(this,O,Q)){var ce=O.changedTouches,re=r.call(this,O,Q),ve=ce.length,ge,J;for(ge=0;ge<ve;++ge)(J=z(this,re,O,Q,ce[ge].identifier,ce[ge]))&&(El(O),J("start",O,ce[ge]))}}function M(O){var Q=O.changedTouches,ce=Q.length,re,ve;for(re=0;re<ce;++re)(ve=l[Q[re].identifier])&&(Lr(O),ve("drag",O,Q[re]))}function y(O){var Q=O.changedTouches,ce=Q.length,re,ve;for(v&&clearTimeout(v),v=setTimeout(function(){v=null},500),re=0;re<ce;++re)(ve=l[Q[re].identifier])&&(El(O),ve("end",O,Q[re]))}function z(O,Q,ce,re,ve,ge){var J=u.copy(),k=_n(ge||ce,Q),be,Ae,T;if((T=o.call(O,new Ll("beforestart",{sourceEvent:ce,target:S,identifier:ve,active:s,x:k[0],y:k[1],dx:0,dy:0,dispatch:J}),re))!=null)return be=T.x-k[0]||0,Ae=T.y-k[1]||0,function $(R,Y,te){var ie=k,de;switch(R){case"start":l[ve]=$,de=s++;break;case"end":delete l[ve],--s;case"drag":k=_n(te||Y,Q),de=s;break}J.call(R,O,new Ll(R,{sourceEvent:Y,subject:T,target:S,identifier:ve,active:de,x:k[0]+be,y:k[1]+Ae,dx:k[0]-ie[0],dy:k[1]-ie[1],dispatch:J}),re)}}return S.filter=function(O){return arguments.length?(t=typeof O=="function"?O:yi(!!O),S):t},S.container=function(O){return arguments.length?(r=typeof O=="function"?O:yi(O),S):r},S.subject=function(O){return arguments.length?(o=typeof O=="function"?O:yi(O),S):o},S.touchable=function(O){return arguments.length?(i=typeof O=="function"?O:yi(!!O),S):i},S.on=function(){var O=u.on.apply(u,arguments);return O===u?S:O},S.clickDistance=function(O){return arguments.length?(w=(O=+O)*O,S):Math.sqrt(w)},S}function rs(t,r,o){t.prototype=r.prototype=o,o.constructor=t}function hf(t,r){var o=Object.create(t.prototype);for(var i in r)o[i]=r[i];return o}function Ao(){}var xo=.7,Bi=1/xo,Hr="\\s*([+-]?\\d+)\\s*",Eo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Nb=/^#([0-9a-f]{3,8})$/,Cb=new RegExp(`^rgb\\(${Hr},${Hr},${Hr}\\)$`),Ib=new RegExp(`^rgb\\(${yn},${yn},${yn}\\)$`),Mb=new RegExp(`^rgba\\(${Hr},${Hr},${Hr},${Eo}\\)$`),kb=new RegExp(`^rgba\\(${yn},${yn},${yn},${Eo}\\)$`),Ab=new RegExp(`^hsl\\(${Eo},${yn},${yn}\\)$`),Tb=new RegExp(`^hsla\\(${Eo},${yn},${yn},${Eo}\\)$`),Wc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rs(Ao,So,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Yc,formatHex:Yc,formatHex8:Pb,formatHsl:Ob,formatRgb:Xc,toString:Xc});function Yc(){return this.rgb().formatHex()}function Pb(){return this.rgb().formatHex8()}function Ob(){return gf(this).formatHsl()}function Xc(){return this.rgb().formatRgb()}function So(t){var r,o;return t=(t+"").trim().toLowerCase(),(r=Nb.exec(t))?(o=r[1].length,r=parseInt(r[1],16),o===6?Zc(r):o===3?new $t(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):o===8?wi(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):o===4?wi(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Cb.exec(t))?new $t(r[1],r[2],r[3],1):(r=Ib.exec(t))?new $t(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=Mb.exec(t))?wi(r[1],r[2],r[3],r[4]):(r=kb.exec(t))?wi(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=Ab.exec(t))?Jc(r[1],r[2]/100,r[3]/100,1):(r=Tb.exec(t))?Jc(r[1],r[2]/100,r[3]/100,r[4]):Wc.hasOwnProperty(t)?Zc(Wc[t]):t==="transparent"?new $t(NaN,NaN,NaN,0):null}function Zc(t){return new $t(t>>16&255,t>>8&255,t&255,1)}function wi(t,r,o,i){return i<=0&&(t=r=o=NaN),new $t(t,r,o,i)}function Db(t){return t instanceof Ao||(t=So(t)),t?(t=t.rgb(),new $t(t.r,t.g,t.b,t.opacity)):new $t}function Hl(t,r,o,i){return arguments.length===1?Db(t):new $t(t,r,o,i==null?1:i)}function $t(t,r,o,i){this.r=+t,this.g=+r,this.b=+o,this.opacity=+i}rs($t,Hl,hf(Ao,{brighter(t){return t=t==null?Bi:Math.pow(Bi,t),new $t(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?xo:Math.pow(xo,t),new $t(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new $t(hr(this.r),hr(this.g),hr(this.b),Li(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kc,formatHex:Kc,formatHex8:Rb,formatRgb:Qc,toString:Qc}));function Kc(){return`#${dr(this.r)}${dr(this.g)}${dr(this.b)}`}function Rb(){return`#${dr(this.r)}${dr(this.g)}${dr(this.b)}${dr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Qc(){const t=Li(this.opacity);return`${t===1?"rgb(":"rgba("}${hr(this.r)}, ${hr(this.g)}, ${hr(this.b)}${t===1?")":`, ${t})`}`}function Li(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function hr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function dr(t){return t=hr(t),(t<16?"0":"")+t.toString(16)}function Jc(t,r,o,i){return i<=0?t=r=o=NaN:o<=0||o>=1?t=r=NaN:r<=0&&(t=NaN),new fn(t,r,o,i)}function gf(t){if(t instanceof fn)return new fn(t.h,t.s,t.l,t.opacity);if(t instanceof Ao||(t=So(t)),!t)return new fn;if(t instanceof fn)return t;t=t.rgb();var r=t.r/255,o=t.g/255,i=t.b/255,l=Math.min(r,o,i),u=Math.max(r,o,i),s=NaN,d=u-l,h=(u+l)/2;return d?(r===u?s=(o-i)/d+(o<i)*6:o===u?s=(i-r)/d+2:s=(r-o)/d+4,d/=h<.5?u+l:2-u-l,s*=60):d=h>0&&h<1?0:s,new fn(s,d,h,t.opacity)}function zb(t,r,o,i){return arguments.length===1?gf(t):new fn(t,r,o,i==null?1:i)}function fn(t,r,o,i){this.h=+t,this.s=+r,this.l=+o,this.opacity=+i}rs(fn,zb,hf(Ao,{brighter(t){return t=t==null?Bi:Math.pow(Bi,t),new fn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xo:Math.pow(xo,t),new fn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,r=isNaN(t)||isNaN(this.s)?0:this.s,o=this.l,i=o+(o<.5?o:1-o)*r,l=2*o-i;return new $t(Sl(t>=240?t-240:t+120,l,i),Sl(t,l,i),Sl(t<120?t+240:t-120,l,i),this.opacity)},clamp(){return new fn(jc(this.h),bi(this.s),bi(this.l),Li(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Li(this.opacity);return`${t===1?"hsl(":"hsla("}${jc(this.h)}, ${bi(this.s)*100}%, ${bi(this.l)*100}%${t===1?")":`, ${t})`}`}}));function jc(t){return t=(t||0)%360,t<0?t+360:t}function bi(t){return Math.max(0,Math.min(1,t||0))}function Sl(t,r,o){return(t<60?r+(o-r)*t/60:t<180?o:t<240?r+(o-r)*(240-t)/60:r)*255}const pf=t=>()=>t;function Bb(t,r){return function(o){return t+o*r}}function Lb(t,r,o){return t=Math.pow(t,o),r=Math.pow(r,o)-t,o=1/o,function(i){return Math.pow(t+i*r,o)}}function Hb(t){return(t=+t)==1?vf:function(r,o){return o-r?Lb(r,o,t):pf(isNaN(r)?o:r)}}function vf(t,r){var o=r-t;return o?Bb(t,o):pf(isNaN(t)?r:t)}const ed=function t(r){var o=Hb(r);function i(l,u){var s=o((l=Hl(l)).r,(u=Hl(u)).r),d=o(l.g,u.g),h=o(l.b,u.b),p=vf(l.opacity,u.opacity);return function(v){return l.r=s(v),l.g=d(v),l.b=h(v),l.opacity=p(v),l+""}}return i.gamma=t,i}(1);function Zn(t,r){return t=+t,r=+r,function(o){return t*(1-o)+r*o}}var Fl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nl=new RegExp(Fl.source,"g");function Fb(t){return function(){return t}}function $b(t){return function(r){return t(r)+""}}function Gb(t,r){var o=Fl.lastIndex=Nl.lastIndex=0,i,l,u,s=-1,d=[],h=[];for(t=t+"",r=r+"";(i=Fl.exec(t))&&(l=Nl.exec(r));)(u=l.index)>o&&(u=r.slice(o,u),d[s]?d[s]+=u:d[++s]=u),(i=i[0])===(l=l[0])?d[s]?d[s]+=l:d[++s]=l:(d[++s]=null,h.push({i:s,x:Zn(i,l)})),o=Nl.lastIndex;return o<r.length&&(u=r.slice(o),d[s]?d[s]+=u:d[++s]=u),d.length<2?h[0]?$b(h[0].x):Fb(r):(r=h.length,function(p){for(var v=0,w;v<r;++v)d[(w=h[v]).i]=w.x(p);return d.join("")})}var td=180/Math.PI,$l={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function mf(t,r,o,i,l,u){var s,d,h;return(s=Math.sqrt(t*t+r*r))&&(t/=s,r/=s),(h=t*o+r*i)&&(o-=t*h,i-=r*h),(d=Math.sqrt(o*o+i*i))&&(o/=d,i/=d,h/=d),t*i<r*o&&(t=-t,r=-r,h=-h,s=-s),{translateX:l,translateY:u,rotate:Math.atan2(r,t)*td,skewX:Math.atan(h)*td,scaleX:s,scaleY:d}}var xi;function Vb(t){const r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return r.isIdentity?$l:mf(r.a,r.b,r.c,r.d,r.e,r.f)}function Ub(t){return t==null||(xi||(xi=document.createElementNS("http://www.w3.org/2000/svg","g")),xi.setAttribute("transform",t),!(t=xi.transform.baseVal.consolidate()))?$l:(t=t.matrix,mf(t.a,t.b,t.c,t.d,t.e,t.f))}function _f(t,r,o,i){function l(p){return p.length?p.pop()+" ":""}function u(p,v,w,S,N,D){if(p!==w||v!==S){var C=N.push("translate(",null,r,null,o);D.push({i:C-4,x:Zn(p,w)},{i:C-2,x:Zn(v,S)})}else(w||S)&&N.push("translate("+w+r+S+o)}function s(p,v,w,S){p!==v?(p-v>180?v+=360:v-p>180&&(p+=360),S.push({i:w.push(l(w)+"rotate(",null,i)-2,x:Zn(p,v)})):v&&w.push(l(w)+"rotate("+v+i)}function d(p,v,w,S){p!==v?S.push({i:w.push(l(w)+"skewX(",null,i)-2,x:Zn(p,v)}):v&&w.push(l(w)+"skewX("+v+i)}function h(p,v,w,S,N,D){if(p!==w||v!==S){var C=N.push(l(N)+"scale(",null,",",null,")");D.push({i:C-4,x:Zn(p,w)},{i:C-2,x:Zn(v,S)})}else(w!==1||S!==1)&&N.push(l(N)+"scale("+w+","+S+")")}return function(p,v){var w=[],S=[];return p=t(p),v=t(v),u(p.translateX,p.translateY,v.translateX,v.translateY,w,S),s(p.rotate,v.rotate,w,S),d(p.skewX,v.skewX,w,S),h(p.scaleX,p.scaleY,v.scaleX,v.scaleY,w,S),p=v=null,function(N){for(var D=-1,C=S.length,I;++D<C;)w[(I=S[D]).i]=I.x(N);return w.join("")}}}var qb=_f(Vb,"px, ","px)","deg)"),Wb=_f(Ub,", ",")",")"),Yb=1e-12;function nd(t){return((t=Math.exp(t))+1/t)/2}function Xb(t){return((t=Math.exp(t))-1/t)/2}function Zb(t){return((t=Math.exp(2*t))-1)/(t+1)}const Kb=function t(r,o,i){function l(u,s){var d=u[0],h=u[1],p=u[2],v=s[0],w=s[1],S=s[2],N=v-d,D=w-h,C=N*N+D*D,I,M;if(C<Yb)M=Math.log(S/p)/r,I=function(re){return[d+re*N,h+re*D,p*Math.exp(r*re*M)]};else{var y=Math.sqrt(C),z=(S*S-p*p+i*C)/(2*p*o*y),O=(S*S-p*p-i*C)/(2*S*o*y),Q=Math.log(Math.sqrt(z*z+1)-z),ce=Math.log(Math.sqrt(O*O+1)-O);M=(ce-Q)/r,I=function(re){var ve=re*M,ge=nd(Q),J=p/(o*y)*(ge*Zb(r*ve+Q)-Xb(Q));return[d+J*N,h+J*D,p*ge/nd(r*ve+Q)]}}return I.duration=M*1e3*r/Math.SQRT2,I}return l.rho=function(u){var s=Math.max(.001,+u),d=s*s,h=d*d;return t(s,d,h)},l}(Math.SQRT2,2,4);var Vr=0,po=0,fo=0,yf=1e3,Hi,vo,Fi=0,vr=0,Ki=0,No=typeof performance=="object"&&performance.now?performance:Date,wf=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function os(){return vr||(wf(Qb),vr=No.now()+Ki)}function Qb(){vr=0}function $i(){this._call=this._time=this._next=null}$i.prototype=bf.prototype={constructor:$i,restart:function(t,r,o){if(typeof t!="function")throw new TypeError("callback is not a function");o=(o==null?os():+o)+(r==null?0:+r),!this._next&&vo!==this&&(vo?vo._next=this:Hi=this,vo=this),this._call=t,this._time=o,Gl()},stop:function(){this._call&&(this._call=null,this._time=1/0,Gl())}};function bf(t,r,o){var i=new $i;return i.restart(t,r,o),i}function Jb(){os(),++Vr;for(var t=Hi,r;t;)(r=vr-t._time)>=0&&t._call.call(void 0,r),t=t._next;--Vr}function rd(){vr=(Fi=No.now())+Ki,Vr=po=0;try{Jb()}finally{Vr=0,ex(),vr=0}}function jb(){var t=No.now(),r=t-Fi;r>yf&&(Ki-=r,Fi=t)}function ex(){for(var t,r=Hi,o,i=1/0;r;)r._call?(i>r._time&&(i=r._time),t=r,r=r._next):(o=r._next,r._next=null,r=t?t._next=o:Hi=o);vo=t,Gl(i)}function Gl(t){if(!Vr){po&&(po=clearTimeout(po));var r=t-vr;r>24?(t<1/0&&(po=setTimeout(rd,t-No.now()-Ki)),fo&&(fo=clearInterval(fo))):(fo||(Fi=No.now(),fo=setInterval(jb,yf)),Vr=1,wf(rd))}}function od(t,r,o){var i=new $i;return r=r==null?0:+r,i.restart(l=>{i.stop(),t(l+r)},r,o),i}var tx=Xi("start","end","cancel","interrupt"),nx=[],xf=0,id=1,Vl=2,ki=3,ad=4,Ul=5,Ai=6;function Qi(t,r,o,i,l,u){var s=t.__transition;if(!s)t.__transition={};else if(o in s)return;rx(t,o,{name:r,index:i,group:l,on:tx,tween:nx,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:xf})}function is(t,r){var o=hn(t,r);if(o.state>xf)throw new Error("too late; already scheduled");return o}function bn(t,r){var o=hn(t,r);if(o.state>ki)throw new Error("too late; already running");return o}function hn(t,r){var o=t.__transition;if(!o||!(o=o[r]))throw new Error("transition not found");return o}function rx(t,r,o){var i=t.__transition,l;i[r]=o,o.timer=bf(u,0,o.time);function u(p){o.state=id,o.timer.restart(s,o.delay,o.time),o.delay<=p&&s(p-o.delay)}function s(p){var v,w,S,N;if(o.state!==id)return h();for(v in i)if(N=i[v],N.name===o.name){if(N.state===ki)return od(s);N.state===ad?(N.state=Ai,N.timer.stop(),N.on.call("interrupt",t,t.__data__,N.index,N.group),delete i[v]):+v<r&&(N.state=Ai,N.timer.stop(),N.on.call("cancel",t,t.__data__,N.index,N.group),delete i[v])}if(od(function(){o.state===ki&&(o.state=ad,o.timer.restart(d,o.delay,o.time),d(p))}),o.state=Vl,o.on.call("start",t,t.__data__,o.index,o.group),o.state===Vl){for(o.state=ki,l=new Array(S=o.tween.length),v=0,w=-1;v<S;++v)(N=o.tween[v].value.call(t,t.__data__,o.index,o.group))&&(l[++w]=N);l.length=w+1}}function d(p){for(var v=p<o.duration?o.ease.call(null,p/o.duration):(o.timer.restart(h),o.state=Ul,1),w=-1,S=l.length;++w<S;)l[w].call(t,v);o.state===Ul&&(o.on.call("end",t,t.__data__,o.index,o.group),h())}function h(){o.state=Ai,o.timer.stop(),delete i[r];for(var p in i)return;delete t.__transition}}function Ti(t,r){var o=t.__transition,i,l,u=!0,s;if(o){r=r==null?null:r+"";for(s in o){if((i=o[s]).name!==r){u=!1;continue}l=i.state>Vl&&i.state<Ul,i.state=Ai,i.timer.stop(),i.on.call(l?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete o[s]}u&&delete t.__transition}}function ox(t){return this.each(function(){Ti(this,t)})}function ix(t,r){var o,i;return function(){var l=bn(this,t),u=l.tween;if(u!==o){i=o=u;for(var s=0,d=i.length;s<d;++s)if(i[s].name===r){i=i.slice(),i.splice(s,1);break}}l.tween=i}}function ax(t,r,o){var i,l;if(typeof o!="function")throw new Error;return function(){var u=bn(this,t),s=u.tween;if(s!==i){l=(i=s).slice();for(var d={name:r,value:o},h=0,p=l.length;h<p;++h)if(l[h].name===r){l[h]=d;break}h===p&&l.push(d)}u.tween=l}}function lx(t,r){var o=this._id;if(t+="",arguments.length<2){for(var i=hn(this.node(),o).tween,l=0,u=i.length,s;l<u;++l)if((s=i[l]).name===t)return s.value;return null}return this.each((r==null?ix:ax)(o,t,r))}function as(t,r,o){var i=t._id;return t.each(function(){var l=bn(this,i);(l.value||(l.value={}))[r]=o.apply(this,arguments)}),function(l){return hn(l,i).value[r]}}function Ef(t,r){var o;return(typeof r=="number"?Zn:r instanceof So?ed:(o=So(r))?(r=o,ed):Gb)(t,r)}function sx(t){return function(){this.removeAttribute(t)}}function ux(t){return function(){this.removeAttributeNS(t.space,t.local)}}function cx(t,r,o){var i,l=o+"",u;return function(){var s=this.getAttribute(t);return s===l?null:s===i?u:u=r(i=s,o)}}function dx(t,r,o){var i,l=o+"",u;return function(){var s=this.getAttributeNS(t.space,t.local);return s===l?null:s===i?u:u=r(i=s,o)}}function fx(t,r,o){var i,l,u;return function(){var s,d=o(this),h;return d==null?void this.removeAttribute(t):(s=this.getAttribute(t),h=d+"",s===h?null:s===i&&h===l?u:(l=h,u=r(i=s,d)))}}function hx(t,r,o){var i,l,u;return function(){var s,d=o(this),h;return d==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),h=d+"",s===h?null:s===i&&h===l?u:(l=h,u=r(i=s,d)))}}function gx(t,r){var o=Zi(t),i=o==="transform"?Wb:Ef;return this.attrTween(t,typeof r=="function"?(o.local?hx:fx)(o,i,as(this,"attr."+t,r)):r==null?(o.local?ux:sx)(o):(o.local?dx:cx)(o,i,r))}function px(t,r){return function(o){this.setAttribute(t,r.call(this,o))}}function vx(t,r){return function(o){this.setAttributeNS(t.space,t.local,r.call(this,o))}}function mx(t,r){var o,i;function l(){var u=r.apply(this,arguments);return u!==i&&(o=(i=u)&&vx(t,u)),o}return l._value=r,l}function _x(t,r){var o,i;function l(){var u=r.apply(this,arguments);return u!==i&&(o=(i=u)&&px(t,u)),o}return l._value=r,l}function yx(t,r){var o="attr."+t;if(arguments.length<2)return(o=this.tween(o))&&o._value;if(r==null)return this.tween(o,null);if(typeof r!="function")throw new Error;var i=Zi(t);return this.tween(o,(i.local?mx:_x)(i,r))}function wx(t,r){return function(){is(this,t).delay=+r.apply(this,arguments)}}function bx(t,r){return r=+r,function(){is(this,t).delay=r}}function xx(t){var r=this._id;return arguments.length?this.each((typeof t=="function"?wx:bx)(r,t)):hn(this.node(),r).delay}function Ex(t,r){return function(){bn(this,t).duration=+r.apply(this,arguments)}}function Sx(t,r){return r=+r,function(){bn(this,t).duration=r}}function Nx(t){var r=this._id;return arguments.length?this.each((typeof t=="function"?Ex:Sx)(r,t)):hn(this.node(),r).duration}function Cx(t,r){if(typeof r!="function")throw new Error;return function(){bn(this,t).ease=r}}function Ix(t){var r=this._id;return arguments.length?this.each(Cx(r,t)):hn(this.node(),r).ease}function Mx(t,r){return function(){var o=r.apply(this,arguments);if(typeof o!="function")throw new Error;bn(this,t).ease=o}}function kx(t){if(typeof t!="function")throw new Error;return this.each(Mx(this._id,t))}function Ax(t){typeof t!="function"&&(t=ef(t));for(var r=this._groups,o=r.length,i=new Array(o),l=0;l<o;++l)for(var u=r[l],s=u.length,d=i[l]=[],h,p=0;p<s;++p)(h=u[p])&&t.call(h,h.__data__,p,u)&&d.push(h);return new Bn(i,this._parents,this._name,this._id)}function Tx(t){if(t._id!==this._id)throw new Error;for(var r=this._groups,o=t._groups,i=r.length,l=o.length,u=Math.min(i,l),s=new Array(i),d=0;d<u;++d)for(var h=r[d],p=o[d],v=h.length,w=s[d]=new Array(v),S,N=0;N<v;++N)(S=h[N]||p[N])&&(w[N]=S);for(;d<i;++d)s[d]=r[d];return new Bn(s,this._parents,this._name,this._id)}function Px(t){return(t+"").trim().split(/^|\s+/).every(function(r){var o=r.indexOf(".");return o>=0&&(r=r.slice(0,o)),!r||r==="start"})}function Ox(t,r,o){var i,l,u=Px(r)?is:bn;return function(){var s=u(this,t),d=s.on;d!==i&&(l=(i=d).copy()).on(r,o),s.on=l}}function Dx(t,r){var o=this._id;return arguments.length<2?hn(this.node(),o).on.on(t):this.each(Ox(o,t,r))}function Rx(t){return function(){var r=this.parentNode;for(var o in this.__transition)if(+o!==t)return;r&&r.removeChild(this)}}function zx(){return this.on("end.remove",Rx(this._id))}function Bx(t){var r=this._name,o=this._id;typeof t!="function"&&(t=ts(t));for(var i=this._groups,l=i.length,u=new Array(l),s=0;s<l;++s)for(var d=i[s],h=d.length,p=u[s]=new Array(h),v,w,S=0;S<h;++S)(v=d[S])&&(w=t.call(v,v.__data__,S,d))&&("__data__"in v&&(w.__data__=v.__data__),p[S]=w,Qi(p[S],r,o,S,p,hn(v,o)));return new Bn(u,this._parents,r,o)}function Lx(t){var r=this._name,o=this._id;typeof t!="function"&&(t=jd(t));for(var i=this._groups,l=i.length,u=[],s=[],d=0;d<l;++d)for(var h=i[d],p=h.length,v,w=0;w<p;++w)if(v=h[w]){for(var S=t.call(v,v.__data__,w,h),N,D=hn(v,o),C=0,I=S.length;C<I;++C)(N=S[C])&&Qi(N,r,o,C,S,D);u.push(S),s.push(v)}return new Bn(u,s,r,o)}var Hx=ko.prototype.constructor;function Fx(){return new Hx(this._groups,this._parents)}function $x(t,r){var o,i,l;return function(){var u=Gr(this,t),s=(this.style.removeProperty(t),Gr(this,t));return u===s?null:u===o&&s===i?l:l=r(o=u,i=s)}}function Sf(t){return function(){this.style.removeProperty(t)}}function Gx(t,r,o){var i,l=o+"",u;return function(){var s=Gr(this,t);return s===l?null:s===i?u:u=r(i=s,o)}}function Vx(t,r,o){var i,l,u;return function(){var s=Gr(this,t),d=o(this),h=d+"";return d==null&&(h=d=(this.style.removeProperty(t),Gr(this,t))),s===h?null:s===i&&h===l?u:(l=h,u=r(i=s,d))}}function Ux(t,r){var o,i,l,u="style."+r,s="end."+u,d;return function(){var h=bn(this,t),p=h.on,v=h.value[u]==null?d||(d=Sf(r)):void 0;(p!==o||l!==v)&&(i=(o=p).copy()).on(s,l=v),h.on=i}}function qx(t,r,o){var i=(t+="")=="transform"?qb:Ef;return r==null?this.styleTween(t,$x(t,i)).on("end.style."+t,Sf(t)):typeof r=="function"?this.styleTween(t,Vx(t,i,as(this,"style."+t,r))).each(Ux(this._id,t)):this.styleTween(t,Gx(t,i,r),o).on("end.style."+t,null)}function Wx(t,r,o){return function(i){this.style.setProperty(t,r.call(this,i),o)}}function Yx(t,r,o){var i,l;function u(){var s=r.apply(this,arguments);return s!==l&&(i=(l=s)&&Wx(t,s,o)),i}return u._value=r,u}function Xx(t,r,o){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(r==null)return this.tween(i,null);if(typeof r!="function")throw new Error;return this.tween(i,Yx(t,r,o==null?"":o))}function Zx(t){return function(){this.textContent=t}}function Kx(t){return function(){var r=t(this);this.textContent=r==null?"":r}}function Qx(t){return this.tween("text",typeof t=="function"?Kx(as(this,"text",t)):Zx(t==null?"":t+""))}function Jx(t){return function(r){this.textContent=t.call(this,r)}}function jx(t){var r,o;function i(){var l=t.apply(this,arguments);return l!==o&&(r=(o=l)&&Jx(l)),r}return i._value=t,i}function eE(t){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,jx(t))}function tE(){for(var t=this._name,r=this._id,o=Nf(),i=this._groups,l=i.length,u=0;u<l;++u)for(var s=i[u],d=s.length,h,p=0;p<d;++p)if(h=s[p]){var v=hn(h,r);Qi(h,t,o,p,s,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,ease:v.ease})}return new Bn(i,this._parents,t,o)}function nE(){var t,r,o=this,i=o._id,l=o.size();return new Promise(function(u,s){var d={value:s},h={value:function(){--l===0&&u()}};o.each(function(){var p=bn(this,i),v=p.on;v!==t&&(r=(t=v).copy(),r._.cancel.push(d),r._.interrupt.push(d),r._.end.push(h)),p.on=r}),l===0&&u()})}var rE=0;function Bn(t,r,o,i){this._groups=t,this._parents=r,this._name=o,this._id=i}function Nf(){return++rE}var Tn=ko.prototype;Bn.prototype={constructor:Bn,select:Bx,selectAll:Lx,selectChild:Tn.selectChild,selectChildren:Tn.selectChildren,filter:Ax,merge:Tx,selection:Fx,transition:tE,call:Tn.call,nodes:Tn.nodes,node:Tn.node,size:Tn.size,empty:Tn.empty,each:Tn.each,on:Dx,attr:gx,attrTween:yx,style:qx,styleTween:Xx,text:Qx,textTween:eE,remove:zx,tween:lx,delay:xx,duration:Nx,ease:Ix,easeVarying:kx,end:nE,[Symbol.iterator]:Tn[Symbol.iterator]};function oE(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var iE={time:null,delay:0,duration:250,ease:oE};function aE(t,r){for(var o;!(o=t.__transition)||!(o=o[r]);)if(!(t=t.parentNode))throw new Error(`transition ${r} not found`);return o}function lE(t){var r,o;t instanceof Bn?(r=t._id,t=t._name):(r=Nf(),(o=iE).time=os(),t=t==null?null:t+"");for(var i=this._groups,l=i.length,u=0;u<l;++u)for(var s=i[u],d=s.length,h,p=0;p<d;++p)(h=s[p])&&Qi(h,t,r,p,s,o||aE(h,r));return new Bn(i,this._parents,t,r)}ko.prototype.interrupt=ox;ko.prototype.transition=lE;const Ei=t=>()=>t;function sE(t,{sourceEvent:r,target:o,transform:i,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:l}})}function zn(t,r,o){this.k=t,this.x=r,this.y=o}zn.prototype={constructor:zn,scale:function(t){return t===1?this:new zn(this.k*t,this.x,this.y)},translate:function(t,r){return t===0&r===0?this:new zn(this.k,this.x+this.k*t,this.y+this.k*r)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ur=new zn(1,0,0);zn.prototype;function Cl(t){t.stopImmediatePropagation()}function ho(t){t.preventDefault(),t.stopImmediatePropagation()}function uE(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function cE(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function ld(){return this.__zoom||Ur}function dE(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function fE(){return navigator.maxTouchPoints||"ontouchstart"in this}function hE(t,r,o){var i=t.invertX(r[0][0])-o[0][0],l=t.invertX(r[1][0])-o[1][0],u=t.invertY(r[0][1])-o[0][1],s=t.invertY(r[1][1])-o[1][1];return t.translate(l>i?(i+l)/2:Math.min(0,i)||Math.max(0,l),s>u?(u+s)/2:Math.min(0,u)||Math.max(0,s))}function gE(){var t=uE,r=cE,o=hE,i=dE,l=fE,u=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],d=250,h=Kb,p=Xi("start","zoom","end"),v,w,S,N=500,D=150,C=0,I=10;function M(T){T.property("__zoom",ld).on("wheel.zoom",ve,{passive:!1}).on("mousedown.zoom",ge).on("dblclick.zoom",J).filter(l).on("touchstart.zoom",k).on("touchmove.zoom",be).on("touchend.zoom touchcancel.zoom",Ae).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}M.transform=function(T,$,R,Y){var te=T.selection?T.selection():T;te.property("__zoom",ld),T!==te?Q(T,$,R,Y):te.interrupt().each(function(){ce(this,arguments).event(Y).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},M.scaleBy=function(T,$,R,Y){M.scaleTo(T,function(){var te=this.__zoom.k,ie=typeof $=="function"?$.apply(this,arguments):$;return te*ie},R,Y)},M.scaleTo=function(T,$,R,Y){M.transform(T,function(){var te=r.apply(this,arguments),ie=this.__zoom,de=R==null?O(te):typeof R=="function"?R.apply(this,arguments):R,le=ie.invert(de),Ie=typeof $=="function"?$.apply(this,arguments):$;return o(z(y(ie,Ie),de,le),te,s)},R,Y)},M.translateBy=function(T,$,R,Y){M.transform(T,function(){return o(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof R=="function"?R.apply(this,arguments):R),r.apply(this,arguments),s)},null,Y)},M.translateTo=function(T,$,R,Y,te){M.transform(T,function(){var ie=r.apply(this,arguments),de=this.__zoom,le=Y==null?O(ie):typeof Y=="function"?Y.apply(this,arguments):Y;return o(Ur.translate(le[0],le[1]).scale(de.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof R=="function"?-R.apply(this,arguments):-R),ie,s)},Y,te)};function y(T,$){return $=Math.max(u[0],Math.min(u[1],$)),$===T.k?T:new zn($,T.x,T.y)}function z(T,$,R){var Y=$[0]-R[0]*T.k,te=$[1]-R[1]*T.k;return Y===T.x&&te===T.y?T:new zn(T.k,Y,te)}function O(T){return[(+T[0][0]+ +T[1][0])/2,(+T[0][1]+ +T[1][1])/2]}function Q(T,$,R,Y){T.on("start.zoom",function(){ce(this,arguments).event(Y).start()}).on("interrupt.zoom end.zoom",function(){ce(this,arguments).event(Y).end()}).tween("zoom",function(){var te=this,ie=arguments,de=ce(te,ie).event(Y),le=r.apply(te,ie),Ie=R==null?O(le):typeof R=="function"?R.apply(te,ie):R,fe=Math.max(le[1][0]-le[0][0],le[1][1]-le[0][1]),ue=te.__zoom,me=typeof $=="function"?$.apply(te,ie):$,ze=h(ue.invert(Ie).concat(fe/ue.k),me.invert(Ie).concat(fe/me.k));return function(Be){if(Be===1)Be=me;else{var oe=ze(Be),j=fe/oe[2];Be=new zn(j,Ie[0]-oe[0]*j,Ie[1]-oe[1]*j)}de.zoom(null,Be)}})}function ce(T,$,R){return!R&&T.__zooming||new re(T,$)}function re(T,$){this.that=T,this.args=$,this.active=0,this.sourceEvent=null,this.extent=r.apply(T,$),this.taps=0}re.prototype={event:function(T){return T&&(this.sourceEvent=T),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(T,$){return this.mouse&&T!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&T!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&T!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(T){var $=dn(this.that).datum();p.call(T,this.that,new sE(T,{sourceEvent:this.sourceEvent,target:M,type:T,transform:this.that.__zoom,dispatch:p}),$)}};function ve(T,...$){if(!t.apply(this,arguments))return;var R=ce(this,$).event(T),Y=this.__zoom,te=Math.max(u[0],Math.min(u[1],Y.k*Math.pow(2,i.apply(this,arguments)))),ie=_n(T);if(R.wheel)(R.mouse[0][0]!==ie[0]||R.mouse[0][1]!==ie[1])&&(R.mouse[1]=Y.invert(R.mouse[0]=ie)),clearTimeout(R.wheel);else{if(Y.k===te)return;R.mouse=[ie,Y.invert(ie)],Ti(this),R.start()}ho(T),R.wheel=setTimeout(de,D),R.zoom("mouse",o(z(y(Y,te),R.mouse[0],R.mouse[1]),R.extent,s));function de(){R.wheel=null,R.end()}}function ge(T,...$){if(S||!t.apply(this,arguments))return;var R=T.currentTarget,Y=ce(this,$,!0).event(T),te=dn(T.view).on("mousemove.zoom",Ie,!0).on("mouseup.zoom",fe,!0),ie=_n(T,R),de=T.clientX,le=T.clientY;df(T.view),Cl(T),Y.mouse=[ie,this.__zoom.invert(ie)],Ti(this),Y.start();function Ie(ue){if(ho(ue),!Y.moved){var me=ue.clientX-de,ze=ue.clientY-le;Y.moved=me*me+ze*ze>C}Y.event(ue).zoom("mouse",o(z(Y.that.__zoom,Y.mouse[0]=_n(ue,R),Y.mouse[1]),Y.extent,s))}function fe(ue){te.on("mousemove.zoom mouseup.zoom",null),ff(ue.view,Y.moved),ho(ue),Y.event(ue).end()}}function J(T,...$){if(t.apply(this,arguments)){var R=this.__zoom,Y=_n(T.changedTouches?T.changedTouches[0]:T,this),te=R.invert(Y),ie=R.k*(T.shiftKey?.5:2),de=o(z(y(R,ie),Y,te),r.apply(this,$),s);ho(T),d>0?dn(this).transition().duration(d).call(Q,de,Y,T):dn(this).call(M.transform,de,Y,T)}}function k(T,...$){if(t.apply(this,arguments)){var R=T.touches,Y=R.length,te=ce(this,$,T.changedTouches.length===Y).event(T),ie,de,le,Ie;for(Cl(T),de=0;de<Y;++de)le=R[de],Ie=_n(le,this),Ie=[Ie,this.__zoom.invert(Ie),le.identifier],te.touch0?!te.touch1&&te.touch0[2]!==Ie[2]&&(te.touch1=Ie,te.taps=0):(te.touch0=Ie,ie=!0,te.taps=1+!!v);v&&(v=clearTimeout(v)),ie&&(te.taps<2&&(w=Ie[0],v=setTimeout(function(){v=null},N)),Ti(this),te.start())}}function be(T,...$){if(this.__zooming){var R=ce(this,$).event(T),Y=T.changedTouches,te=Y.length,ie,de,le,Ie;for(ho(T),ie=0;ie<te;++ie)de=Y[ie],le=_n(de,this),R.touch0&&R.touch0[2]===de.identifier?R.touch0[0]=le:R.touch1&&R.touch1[2]===de.identifier&&(R.touch1[0]=le);if(de=R.that.__zoom,R.touch1){var fe=R.touch0[0],ue=R.touch0[1],me=R.touch1[0],ze=R.touch1[1],Be=(Be=me[0]-fe[0])*Be+(Be=me[1]-fe[1])*Be,oe=(oe=ze[0]-ue[0])*oe+(oe=ze[1]-ue[1])*oe;de=y(de,Math.sqrt(Be/oe)),le=[(fe[0]+me[0])/2,(fe[1]+me[1])/2],Ie=[(ue[0]+ze[0])/2,(ue[1]+ze[1])/2]}else if(R.touch0)le=R.touch0[0],Ie=R.touch0[1];else return;R.zoom("touch",o(z(de,le,Ie),R.extent,s))}}function Ae(T,...$){if(this.__zooming){var R=ce(this,$).event(T),Y=T.changedTouches,te=Y.length,ie,de;for(Cl(T),S&&clearTimeout(S),S=setTimeout(function(){S=null},N),ie=0;ie<te;++ie)de=Y[ie],R.touch0&&R.touch0[2]===de.identifier?delete R.touch0:R.touch1&&R.touch1[2]===de.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),R.taps===2&&(de=_n(de,this),Math.hypot(w[0]-de[0],w[1]-de[1])<I)){var le=dn(this).on("dblclick.zoom");le&&le.apply(this,arguments)}}}return M.wheelDelta=function(T){return arguments.length?(i=typeof T=="function"?T:Ei(+T),M):i},M.filter=function(T){return arguments.length?(t=typeof T=="function"?T:Ei(!!T),M):t},M.touchable=function(T){return arguments.length?(l=typeof T=="function"?T:Ei(!!T),M):l},M.extent=function(T){return arguments.length?(r=typeof T=="function"?T:Ei([[+T[0][0],+T[0][1]],[+T[1][0],+T[1][1]]]),M):r},M.scaleExtent=function(T){return arguments.length?(u[0]=+T[0],u[1]=+T[1],M):[u[0],u[1]]},M.translateExtent=function(T){return arguments.length?(s[0][0]=+T[0][0],s[1][0]=+T[1][0],s[0][1]=+T[0][1],s[1][1]=+T[1][1],M):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},M.constrain=function(T){return arguments.length?(o=T,M):o},M.duration=function(T){return arguments.length?(d=+T,M):d},M.interpolate=function(T){return arguments.length?(h=T,M):h},M.on=function(){var T=p.on.apply(p,arguments);return T===p?M:T},M.clickDistance=function(T){return arguments.length?(C=(T=+T)*T,M):Math.sqrt(C)},M.tapDistance=function(T){return arguments.length?(I=+T,M):I},M}var Se=(t=>(t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom",t))(Se||{}),ls=(t=>(t.Partial="partial",t.Full="full",t))(ls||{}),sr=(t=>(t.Bezier="default",t.SimpleBezier="simple-bezier",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t))(sr||{}),mr=(t=>(t.Strict="strict",t.Loose="loose",t))(mr||{}),ql=(t=>(t.Arrow="arrow",t.ArrowClosed="arrowclosed",t))(ql||{}),_o=(t=>(t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal",t))(_o||{});function Wl(t){var r,o;const i=((o=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:o[0])||t.target,l=typeof(i==null?void 0:i.hasAttribute)=="function"?i.hasAttribute("contenteditable"):!1,u=typeof(i==null?void 0:i.closest)=="function"?i.closest(".nokey"):null;return["INPUT","SELECT","TEXTAREA"].includes(i==null?void 0:i.nodeName)||l||!!u}function pE(t){return t.ctrlKey||t.metaKey||t.shiftKey}function sd(t,r,o,i){const l=r.split("+").map(u=>u.trim().toLowerCase());return l.length===1?t.toLowerCase()===r.toLowerCase():(i?o.delete(t.toLowerCase()):o.add(t.toLowerCase()),l.every((u,s)=>o.has(u)&&Array.from(o.values())[s]===l[s]))}function vE(t,r){return o=>{if(!o.code&&!o.key)return!1;const i=mE(o.code,t);return Array.isArray(t)?t.some(l=>sd(o[i],l,r,o.type==="keyup")):sd(o[i],t,r,o.type==="keyup")}}function mE(t,r){return typeof r=="string"?t===r?"code":"key":r.includes(t)?"code":"key"}function yo(t,r){const o=gt(()=>{var v;return(v=je(r==null?void 0:r.actInsideInputWithModifier))!=null?v:!1}),i=gt(()=>{var v;return(v=je(r==null?void 0:r.target))!=null?v:window}),l=De(je(t)===!0);let u=!1;const s=new Set;let d=p(je(t));et(()=>je(t),(v,w)=>{typeof w=="boolean"&&typeof v!="boolean"&&h(),d=p(v)},{immediate:!0}),wn(()=>{Qd(window,["blur","contextmenu"],h)}),Vc((...v)=>d(...v),v=>{u=pE(v),!((!u||u&&!o.value)&&Wl(v))&&(v.preventDefault(),l.value=!0)},{eventName:"keydown",target:i}),Vc((...v)=>d(...v),v=>{if(l.value){if((!u||u&&!o.value)&&Wl(v))return;h()}},{eventName:"keyup",target:i});function h(){u=!1,s.clear(),l.value=!1}function p(v){return v===null?(h(),()=>!1):typeof v=="boolean"?(h(),l.value=v,()=>!1):Array.isArray(v)||typeof v=="string"?vE(v,s):v}return l}const Cf="vue-flow__node-desc",If="vue-flow__edge-desc",_E="vue-flow__aria-live",Mf=["Enter"," ","Escape"],Fr={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function Yl(t){return{...t.computedPosition||{x:0,y:0},width:t.dimensions.width||0,height:t.dimensions.height||0}}function Xl(t,r){const o=Math.max(0,Math.min(t.x+t.width,r.x+r.width)-Math.max(t.x,r.x)),i=Math.max(0,Math.min(t.y+t.height,r.y+r.height)-Math.max(t.y,r.y));return Math.ceil(o*i)}function Ji(t){return{width:t.offsetWidth,height:t.offsetHeight}}function _r(t,r=0,o=1){return Math.min(Math.max(t,r),o)}function kf(t,r){return{x:_r(t.x,r[0][0],r[1][0]),y:_r(t.y,r[0][1],r[1][1])}}function ud(t){const r=t.getRootNode();return"elementFromPoint"in r?r:window.document}function Jn(t){return t&&typeof t=="object"&&"id"in t&&"source"in t&&"target"in t}function gr(t){return t&&typeof t=="object"&&"id"in t&&"position"in t&&!Jn(t)}function mo(t){return gr(t)&&"computedPosition"in t}function Si(t){return!Number.isNaN(t)&&Number.isFinite(t)}function yE(t){return Si(t.width)&&Si(t.height)&&Si(t.x)&&Si(t.y)}function wE(t,r,o){var l;const i={id:t.id.toString(),type:(l=t.type)!=null?l:"default",dimensions:Br({width:0,height:0}),computedPosition:Br({z:0,...t.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:mt(t.data)?t.data:{},events:Br(mt(t.events)?t.events:{})};return Object.assign(r!=null?r:i,t,{id:t.id.toString(),parentNode:o})}function Af(t,r,o){var s,d,h,p,v,w,S;var i,l;const u={id:t.id.toString(),type:(d=(s=t.type)!=null?s:r==null?void 0:r.type)!=null?d:"default",source:t.source.toString(),target:t.target.toString(),sourceHandle:(i=t.sourceHandle)==null?void 0:i.toString(),targetHandle:(l=t.targetHandle)==null?void 0:l.toString(),updatable:(h=t.updatable)!=null?h:o==null?void 0:o.updatable,selectable:(p=t.selectable)!=null?p:o==null?void 0:o.selectable,focusable:(v=t.focusable)!=null?v:o==null?void 0:o.focusable,data:mt(t.data)?t.data:{},events:Br(mt(t.events)?t.events:{}),label:(w=t.label)!=null?w:"",interactionWidth:(S=t.interactionWidth)!=null?S:o==null?void 0:o.interactionWidth,...o!=null?o:{}};return Object.assign(r!=null?r:u,t,{id:t.id.toString()})}function Tf(t,r,o,i){const l=typeof t=="string"?t:t.id,u=new Set,s=i==="source"?"target":"source";for(const d of o)d[s]===l&&u.add(d[i]);return r.filter(d=>u.has(d.id))}function bE(...t){if(t.length===3){const[u,s,d]=t;return Tf(u,s,d,"target")}const[r,o]=t,i=typeof r=="string"?r:r.id;return o.filter(u=>Jn(u)&&u.source===i).map(u=>o.find(s=>gr(s)&&s.id===u.target))}function xE(...t){if(t.length===3){const[u,s,d]=t;return Tf(u,s,d,"source")}const[r,o]=t,i=typeof r=="string"?r:r.id;return o.filter(u=>Jn(u)&&u.target===i).map(u=>o.find(s=>gr(s)&&s.id===u.source))}function Pf({source:t,sourceHandle:r,target:o,targetHandle:i}){return`vueflow__edge-${t}${r!=null?r:""}-${o}${i!=null?i:""}`}function EE(t,r){return r.some(o=>Jn(o)&&o.source===t.source&&o.target===t.target&&(o.sourceHandle===t.sourceHandle||!o.sourceHandle&&!t.sourceHandle)&&(o.targetHandle===t.targetHandle||!o.targetHandle&&!t.targetHandle))}function Of({x:t,y:r},{x:o,y:i,zoom:l}){return{x:t*l+o,y:r*l+i}}function Gi({x:t,y:r},{x:o,y:i,zoom:l},u=!1,[s,d]=[1,1]){const h={x:(t-o)/l,y:(r-i)/l};return u?{x:s*Math.round(h.x/s),y:d*Math.round(h.y/d)}:h}function SE(t,r){return{x:Math.min(t.x,r.x),y:Math.min(t.y,r.y),x2:Math.max(t.x2,r.x2),y2:Math.max(t.y2,r.y2)}}function Df({x:t,y:r,width:o,height:i}){return{x:t,y:r,x2:t+o,y2:r+i}}function NE({x:t,y:r,x2:o,y2:i}){return{x:t,y:r,width:o-t,height:i-r}}function Rf(t){let r={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let o=0;o<t.length;o++){const i=t[o];r=SE(r,Df({...i.computedPosition,...i.dimensions}))}return NE(r)}function zf(t,r,o={x:0,y:0,zoom:1},i=!1,l=!1){var d,h,p,v;const u={...Gi(r,o),width:r.width/o.zoom,height:r.height/o.zoom},s=[];for(const w of t){const{dimensions:S,selectable:N=!0,hidden:D=!1}=w,C=(h=(d=S.width)!=null?d:w.width)!=null?h:null,I=(v=(p=S.height)!=null?p:w.height)!=null?v:null;if(l&&!N||D)continue;const M=Xl(u,Yl(w)),y=C===null||I===null,z=i&&M>0,O=(C!=null?C:0)*(I!=null?I:0);(y||z||M>=O||w.dragging)&&s.push(w)}return s}function Bf(t,r){const o=new Set;if(typeof t=="string")o.add(t);else if(t.length>=1)for(const i of t)o.add(i.id);return r.filter(i=>o.has(i.source)||o.has(i.target))}function cd(t,r,o,i,l,u=.1,s={x:0,y:0}){var C,I;const d=r/(t.width*(1+u)),h=o/(t.height*(1+u)),p=Math.min(d,h),v=_r(p,i,l),w=t.x+t.width/2,S=t.y+t.height/2,N=r/2-w*v+((C=s.x)!=null?C:0),D=o/2-S*v+((I=s.y)!=null?I:0);return{x:N,y:D,zoom:v}}function CE(t,r){return{x:r.x+t.x,y:r.y+t.y,z:(t.z>r.z?t.z:r.z)+1}}function Lf(t,r){if(!t.parentNode)return!1;const o=r(t.parentNode);return o?o.selected?!0:Lf(o,r):!1}function Co(t,r){return typeof t=="undefined"?"":typeof t=="string"?t:`${r?`${r}__`:""}${Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&")}`}function dd(t,r,o){return t<r?_r(Math.abs(t-r),1,r)/r:t>o?-_r(Math.abs(t-o),1,r)/r:0}function Hf(t,r,o=15,i=40){const l=dd(t.x,i,r.width-i)*o,u=dd(t.y,i,r.height-i)*o;return[l,u]}function Il(t,r){var o,i;if(r){const l=t.position.x+t.dimensions.width-r.dimensions.width,u=t.position.y+t.dimensions.height-r.dimensions.height;if(l>0||u>0||t.position.x<0||t.position.y<0){let s={};if(typeof r.style=="function"?s={...r.style(r)}:r.style&&(s={...r.style}),s.width=(o=s.width)!=null?o:`${r.dimensions.width}px`,s.height=(i=s.height)!=null?i:`${r.dimensions.height}px`,l>0)if(typeof s.width=="string"){const d=Number(s.width.replace("px",""));s.width=`${d+l}px`}else s.width+=l;if(u>0)if(typeof s.height=="string"){const d=Number(s.height.replace("px",""));s.height=`${d+u}px`}else s.height+=u;if(t.position.x<0){const d=Math.abs(t.position.x);if(r.position.x=r.position.x-d,typeof s.width=="string"){const h=Number(s.width.replace("px",""));s.width=`${h+d}px`}else s.width+=d;t.position.x=0}if(t.position.y<0){const d=Math.abs(t.position.y);if(r.position.y=r.position.y-d,typeof s.height=="string"){const h=Number(s.height.replace("px",""));s.height=`${h+d}px`}else s.height+=d;t.position.y=0}r.dimensions.width=Number(s.width.toString().replace("px","")),r.dimensions.height=Number(s.height.toString().replace("px","")),typeof r.style=="function"?r.style=d=>{const h=r.style;return{...h(d),...s}}:r.style={...r.style,...s}}}}function fd(t,r){var o,i;const l=t.filter(s=>s.type==="add"||s.type==="remove");for(const s of l)if(s.type==="add")r.findIndex(h=>h.id===s.item.id)===-1&&r.push(s.item);else if(s.type==="remove"){const d=r.findIndex(h=>h.id===s.id);d!==-1&&r.splice(d,1)}const u=r.map(s=>s.id);for(const s of r)for(const d of t)if(d.id===s.id)switch(d.type){case"select":s.selected=d.selected;break;case"position":if(mo(s)&&(typeof d.position!="undefined"&&(s.position=d.position),typeof d.dragging!="undefined"&&(s.dragging=d.dragging),s.expandParent&&s.parentNode)){const h=r[u.indexOf(s.parentNode)];h&&mo(h)&&Il(s,h)}break;case"dimensions":if(mo(s)&&(typeof d.dimensions!="undefined"&&(s.dimensions=d.dimensions),typeof d.updateStyle!="undefined"&&d.updateStyle&&(s.style={...s.style||{},width:`${(o=d.dimensions)==null?void 0:o.width}px`,height:`${(i=d.dimensions)==null?void 0:i.height}px`}),typeof d.resizing!="undefined"&&(s.resizing=d.resizing),s.expandParent&&s.parentNode)){const h=r[u.indexOf(s.parentNode)];h&&mo(h)&&(!!h.dimensions.width&&!!h.dimensions.height?Il(s,h):Ft(()=>{Il(s,h)}))}break}return r}function Xn(t,r){return{id:t,type:"select",selected:r}}function hd(t){return{item:t,type:"add"}}function gd(t){return{id:t,type:"remove"}}function pd(t,r,o,i,l){return{id:t,source:r,target:o,sourceHandle:i||null,targetHandle:l||null,type:"remove"}}function Kn(t,r=new Set,o=!1){const i=[];for(const[l,u]of t){const s=r.has(l);!(u.selected===void 0&&!s)&&u.selected!==s&&(o&&(u.selected=s),i.push(Xn(u.id,s)))}return i}function pe(t){const r=new Set;let o=!1;const i=()=>r.size>0;t&&(o=!0,r.add(t));const l=d=>{r.delete(d)};return{on:d=>{t&&o&&r.delete(t),r.add(d);const h=()=>{l(d),t&&o&&r.add(t)};return Yi(h),{off:h}},off:l,trigger:d=>Promise.all(Array.from(r).map(h=>h(d))),hasListeners:i,fns:r}}function vd(t,r,o){let i=t;do{if(i&&i.matches(r))return!0;if(i===o)return!1;i=i.parentElement}while(i);return!1}function IE(t,r,o,i,l){var u,s;const d=[];for(const h of t)(h.selected||h.id===l)&&(!h.parentNode||!Lf(h,i))&&(h.draggable||r&&typeof h.draggable=="undefined")&&d.push(Br({id:h.id,position:h.position||{x:0,y:0},distance:{x:o.x-((u=h.computedPosition)==null?void 0:u.x)||0,y:o.y-((s=h.computedPosition)==null?void 0:s.y)||0},from:h.computedPosition,extent:h.extent,parentNode:h.parentNode,dimensions:h.dimensions,expandParent:h.expandParent}));return d}function Ml({id:t,dragItems:r,findNode:o}){const i=[];for(const l of r){const u=o(l.id);u&&i.push(u)}return[t?i.find(l=>l.id===t):i[0],i]}function Ff(t){if(Array.isArray(t))switch(t.length){case 1:return[t[0],t[0],t[0],t[0]];case 2:return[t[0],t[1],t[0],t[1]];case 3:return[t[0],t[1],t[2],t[1]];case 4:return t;default:return[0,0,0,0]}return[t,t,t,t]}function ME(t,r,o){const[i,l,u,s]=typeof t!="string"?Ff(t.padding):[0,0,0,0];return o&&typeof o.computedPosition.x!="undefined"&&typeof o.computedPosition.y!="undefined"&&typeof o.dimensions.width!="undefined"&&typeof o.dimensions.height!="undefined"?[[o.computedPosition.x+s,o.computedPosition.y+i],[o.computedPosition.x+o.dimensions.width-l,o.computedPosition.y+o.dimensions.height-u]]:!1}function kE(t,r,o,i){let l=t.extent||o;if((l==="parent"||!Array.isArray(l)&&(l==null?void 0:l.range)==="parent")&&!t.expandParent)if(t.parentNode&&i&&t.dimensions.width&&t.dimensions.height){const u=ME(l,t,i);u&&(l=u)}else r(new xt(_t.NODE_EXTENT_INVALID,t.id)),l=o;else if(Array.isArray(l)){const u=(i==null?void 0:i.computedPosition.x)||0,s=(i==null?void 0:i.computedPosition.y)||0;l=[[l[0][0]+u,l[0][1]+s],[l[1][0]+u,l[1][1]+s]]}else if(l!=="parent"&&(l!=null&&l.range)&&Array.isArray(l.range)){const[u,s,d,h]=Ff(l.padding),p=(i==null?void 0:i.computedPosition.x)||0,v=(i==null?void 0:i.computedPosition.y)||0;l=[[l.range[0][0]+p+h,l.range[0][1]+v+u],[l.range[1][0]+p-s,l.range[1][1]+v-d]]}return l==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:l}function AE({width:t,height:r},o){return[o[0],[o[1][0]-(t||0),o[1][1]-(r||0)]]}function ss(t,r,o,i,l){const u=AE(t.dimensions,kE(t,o,i,l)),s=kf(r,u);return{position:{x:s.x-((l==null?void 0:l.computedPosition.x)||0),y:s.y-((l==null?void 0:l.computedPosition.y)||0)},computedPosition:s}}function Vi(t,r,o=Se.Left){var h,p,v;const i=((h=r==null?void 0:r.x)!=null?h:0)+t.computedPosition.x,l=((p=r==null?void 0:r.y)!=null?p:0)+t.computedPosition.y,{width:u,height:s}=r!=null?r:OE(t);switch((v=r==null?void 0:r.position)!=null?v:o){case Se.Top:return{x:i+u/2,y:l};case Se.Right:return{x:i+u,y:l+s/2};case Se.Bottom:return{x:i+u/2,y:l+s};case Se.Left:return{x:i,y:l+s/2}}}function md(t=[],r){return t.length&&(r?t.find(o=>o.id===r):t[0])||null}function TE({sourcePos:t,targetPos:r,sourceWidth:o,sourceHeight:i,targetWidth:l,targetHeight:u,width:s,height:d,viewport:h}){const p={x:Math.min(t.x,r.x),y:Math.min(t.y,r.y),x2:Math.max(t.x+o,r.x+l),y2:Math.max(t.y+i,r.y+u)};p.x===p.x2&&(p.x2+=1),p.y===p.y2&&(p.y2+=1);const v=Df({x:(0-h.x)/h.zoom,y:(0-h.y)/h.zoom,width:s/h.zoom,height:d/h.zoom}),w=Math.max(0,Math.min(v.x2,p.x2)-Math.max(v.x,p.x)),S=Math.max(0,Math.min(v.y2,p.y2)-Math.max(v.y,p.y));return Math.ceil(w*S)>0}function PE(t,r,o=!1){const i=typeof t.zIndex=="number";let l=i?t.zIndex:0;const u=r(t.source),s=r(t.target);return!u||!s?0:(o&&(l=i?t.zIndex:Math.max(u.computedPosition.z||0,s.computedPosition.z||0)),l)}var _t=(t=>(t.MISSING_STYLES="MISSING_STYLES",t.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",t.NODE_INVALID="NODE_INVALID",t.NODE_NOT_FOUND="NODE_NOT_FOUND",t.NODE_MISSING_PARENT="NODE_MISSING_PARENT",t.NODE_TYPE_MISSING="NODE_TYPE_MISSING",t.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",t.EDGE_INVALID="EDGE_INVALID",t.EDGE_NOT_FOUND="EDGE_NOT_FOUND",t.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",t.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",t.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",t.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",t.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",t.EDGE_ORPHANED="EDGE_ORPHANED",t.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",t))(_t||{});const _d={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:t=>`Node is invalid
Node: ${t}`,NODE_NOT_FOUND:t=>`Node not found
Node: ${t}`,NODE_MISSING_PARENT:(t,r)=>`Node is missing a parent
Node: ${t}
Parent: ${r}`,NODE_TYPE_MISSING:t=>`Node type is missing
Type: ${t}`,NODE_EXTENT_INVALID:t=>`Only child nodes can use a parent extent
Node: ${t}`,EDGE_INVALID:t=>`An edge needs a source and a target
Edge: ${t}`,EDGE_SOURCE_MISSING:(t,r)=>`Edge source is missing
Edge: ${t} 
Source: ${r}`,EDGE_TARGET_MISSING:(t,r)=>`Edge target is missing
Edge: ${t} 
Target: ${r}`,EDGE_TYPE_MISSING:t=>`Edge type is missing
Type: ${t}`,EDGE_SOURCE_TARGET_SAME:(t,r,o)=>`Edge source and target are the same
Edge: ${t} 
Source: ${r} 
Target: ${o}`,EDGE_SOURCE_TARGET_MISSING:(t,r,o)=>`Edge source or target is missing
Edge: ${t} 
Source: ${r} 
Target: ${o}`,EDGE_ORPHANED:t=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${t}`,EDGE_NOT_FOUND:t=>`Edge not found
Edge: ${t}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class xt extends Error{constructor(r,...o){var i;super((i=_d[r])==null?void 0:i.call(_d,...o)),this.name="VueFlowError",this.code=r,this.args=o}}function us(t){return"clientX"in t}function Qn(t,r){var d,h;var o,i;const l=us(t),u=l?t.clientX:(o=t.touches)==null?void 0:o[0].clientX,s=l?t.clientY:(i=t.touches)==null?void 0:i[0].clientY;return{x:u-((d=r==null?void 0:r.left)!=null?d:0),y:s-((h=r==null?void 0:r.top)!=null?h:0)}}const Ui=()=>{var t;return typeof navigator!="undefined"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function OE(t){var i,l,u,s;var r,o;return{width:(l=(i=(r=t.dimensions)==null?void 0:r.width)!=null?i:t.width)!=null?l:0,height:(s=(u=(o=t.dimensions)==null?void 0:o.height)!=null?u:t.height)!=null?s:0}}function $f(){return{handleDomNode:null,isValid:!1,connection:{source:"",target:"",sourceHandle:null,targetHandle:null},endHandle:null}}function kl(t){t==null||t.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function yd(t,r,o,i){const l=[];for(const u of r[o]||[])if(`${t.id}-${u.id}-${o}`!==i){const{x:s,y:d}=Vi(t,u);l.push({id:u.id||null,type:o,nodeId:t.id,x:s,y:d})}return l}function DE(t,r,o,i,l,u){const{x:s,y:d}=Qn(t),p=r.elementsFromPoint(s,d).find(D=>D.classList.contains("vue-flow__handle"));if(p){const D=p.getAttribute("data-nodeid");if(D){const C=cs(void 0,p),I=p.getAttribute("data-handleid"),M=u({nodeId:D,id:I,type:C});if(M){const y=l.find(z=>z.nodeId===D&&z.type===C&&z.id===I);return{handle:{id:I,type:C,nodeId:D,x:(y==null?void 0:y.x)||o.x,y:(y==null?void 0:y.y)||o.y},validHandleResult:M}}}}let v=[],w=Number.POSITIVE_INFINITY;for(const D of l){const C=Math.sqrt((D.x-o.x)**2+(D.y-o.y)**2);if(C<=i){const I=u(D);C<=w&&(C<w?v=[{handle:D,validHandleResult:I}]:C===w&&v.push({handle:D,validHandleResult:I}),w=C)}}if(!v.length)return{handle:null,validHandleResult:$f()};if(v.length===1)return v[0];const S=v.some(({validHandleResult:D})=>D.isValid),N=v.some(({handle:D})=>D.type==="target");return v.find(({handle:D,validHandleResult:C})=>N?D.type==="target":S?C.isValid:!0)||v[0]}function wd(t,r,o,i,l,u,s,d,h,p,v){const w=u==="target",S=d.querySelector(`.vue-flow__handle[data-id="${r==null?void 0:r.nodeId}-${r==null?void 0:r.id}-${r==null?void 0:r.type}"]`),{x:N,y:D}=Qn(t),C=d.elementFromPoint(N,D),I=C!=null&&C.classList.contains("vue-flow__handle")?C:S,M=$f();if(I){M.handleDomNode=I;const y=cs(void 0,I),z=I.getAttribute("data-nodeid"),O=I.getAttribute("data-handleid"),Q=I.classList.contains("connectable"),ce=I.classList.contains("connectableend"),re={source:w?z:i,sourceHandle:w?O:l,target:w?i:z,targetHandle:w?l:O};M.connection=re,Q&&ce&&(o===mr.Strict?w&&y==="source"||!w&&y==="target":z!==i||O!==l)&&(M.isValid=s(re,{edges:h,nodes:p,sourceNode:v(re.source),targetNode:v(re.target)}),M.endHandle={nodeId:z,handleId:O,type:y,position:M.isValid?I.getAttribute("data-handlepos"):null})}return M}function RE({nodes:t,nodeId:r,handleId:o,handleType:i}){const l=[];for(let u=0;u<t.length;u++){const s=t[u],{handleBounds:d}=s;let h=[],p=[];d&&(h=yd(s,d,"source",`${r}-${o}-${i}`),p=yd(s,d,"target",`${r}-${o}-${i}`)),l.push(...h,...p)}return l}function cs(t,r){return t||(r!=null&&r.classList.contains("target")?"target":r!=null&&r.classList.contains("source")?"source":null)}function zE(t,r){let o=null;return r?o="valid":t&&!r&&(o="invalid"),o}const BE=["production","prod"];function ji(t,...r){Gf()&&console.warn(`[Vue Flow]: ${t}`,...r)}function Gf(){return!BE.includes("production")}function bd(t,r,o,i){const l=r.querySelectorAll(`.vue-flow__handle${t}`);return Array.from(l).map(s=>{const d=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),position:s.getAttribute("data-handlepos"),x:(d.left-o.left)/i,y:(d.top-o.top)/i,...Ji(s)}})}function Zl(t,r,o,i,l,u=!1,s){l.value=!1,t.selected?(u||t.selected&&r)&&(i([t]),Ft(()=>{s.blur()})):o([t])}function mt(t){return typeof Re(t)!="undefined"}function LE(t,r,o,i){var u;if(!t||!t.source||!t.target)return o(new xt(_t.EDGE_INVALID,(u=t==null?void 0:t.id)!=null?u:"[ID UNKNOWN]")),!1;let l;return Jn(t)?l=t:l={...t,id:Pf(t)},l=Af(l,void 0,i),EE(l,r)?!1:l}function HE(t,r,o,i,l,u){if(!r.source||!r.target)return u(new xt(_t.EDGE_INVALID,t.id)),!1;const s=i(t.id);if(!s)return u(new xt(_t.EDGE_NOT_FOUND,t.id)),!1;const{id:d,...h}=t,p={...h,id:l?Pf(r):d,source:r.source,target:r.target,sourceHandle:r.sourceHandle,targetHandle:r.targetHandle};return o.splice(o.indexOf(s),1,p),p}function xd(t,r,o){const i={},l=[];for(let u=0;u<t.length;++u){const s=t[u];if(!gr(s)){o(new xt(_t.NODE_INVALID,s==null?void 0:s.id)||`[ID UNKNOWN|INDEX ${u}]`);continue}const d=wE(s,r(s.id),s.parentNode);s.parentNode&&(i[s.parentNode]=!0),l[u]=d}for(const u of l){const s=r(u.parentNode)||l.find(d=>d.id===u.parentNode);u.parentNode&&!s&&o(new xt(_t.NODE_MISSING_PARENT,u.id,u.parentNode)),(u.parentNode||i[u.id])&&(i[u.id]&&(u.isParent=!0),s&&(s.isParent=!0))}return l}function Ed(t,r){t.clear();for(const o of r){const{id:i,source:l,target:u,sourceHandle:s=null,targetHandle:d=null}=o,h=`${l}-source-${s}`,p=`${u}-target-${d}`,v=t.get(h)||new Map,w=t.get(p)||new Map,S=Br({edgeId:i,source:l,target:u,sourceHandle:s,targetHandle:d});t.set(h,v.set(`${u}-${d}`,S)),t.set(p,w.set(`${l}-${s}`,S))}}function Sd(t,r,o,i,l,u,s,d){const h=[];for(const p of t){const v=Jn(p)?p:LE(p,d,l,u);if(!v)continue;const w=o(v.source),S=o(v.target);if(!w||!S){l(new xt(_t.EDGE_SOURCE_TARGET_MISSING,v.id,v.source,v.target));continue}if(!w){l(new xt(_t.EDGE_SOURCE_MISSING,v.id,v.source));continue}if(!S){l(new xt(_t.EDGE_TARGET_MISSING,v.id,v.target));continue}if(r&&!r(v,{edges:d,nodes:s,sourceNode:w,targetNode:S})){l(new xt(_t.EDGE_INVALID,v.id));continue}const N=i(v.id);h.push({...Af(v,N,u),sourceNode:w,targetNode:S})}return h}const Nd=Symbol("vueFlow"),Vf=Symbol("nodeId"),Uf=Symbol("nodeRef"),FE=Symbol("edgeId"),$E=Symbol("edgeRef"),ea=Symbol("slots");function qf(t){const{vueFlowRef:r,snapToGrid:o,snapGrid:i,noDragClassName:l,nodes:u,nodeExtent:s,nodeDragThreshold:d,viewport:h,autoPanOnNodeDrag:p,autoPanSpeed:v,nodesDraggable:w,panBy:S,findNode:N,multiSelectionActive:D,nodesSelectionActive:C,selectNodesOnDrag:I,removeSelectedElements:M,addSelectedNodes:y,updateNodePositions:z,emits:O}=dt(),{onStart:Q,onDrag:ce,onStop:re,onClick:ve,el:ge,disabled:J,id:k,selectable:be,dragHandle:Ae}=t,T=De(!1);let $=[],R,Y=null,te={x:void 0,y:void 0},ie={x:0,y:0},de=null,le=!1,Ie=0,fe=!1;const ue=UE(),me=({x:B,y:Z})=>{te={x:B,y:Z};let U=!1;if($=$.map(m=>{const x={x:B-m.distance.x,y:Z-m.distance.y};o.value&&(x.x=i.value[0]*Math.round(x.x/i.value[0]),x.y=i.value[1]*Math.round(x.y/i.value[1]));const{computedPosition:L}=ss(m,x,O.error,s.value,m.parentNode?N(m.parentNode):void 0);return U=U||m.position.x!==L.x||m.position.y!==L.y,m.position=L,m}),!!U&&(z($,!0,!0),T.value=!0,de)){const[m,x]=Ml({id:k,dragItems:$,findNode:N});ce({event:de,node:m,nodes:x})}},ze=()=>{var U,m;if(!Y)return;const[B,Z]=Hf(ie,Y,v.value);if(B!==0||Z!==0){const x={x:((U=te.x)!=null?U:0)-B/h.value.zoom,y:((m=te.y)!=null?m:0)-Z/h.value.zoom};S({x:B,y:Z})&&me(x)}Ie=requestAnimationFrame(ze)},Be=(B,Z)=>{le=!0;const U=N(k);!I.value&&!D.value&&U&&(U.selected||M()),U&&je(be)&&I.value&&Zl(U,D.value,y,M,C,!1,Z);const m=ue(B);if(te=m,$=IE(u.value,w.value,m,N,k),$.length){const[x,L]=Ml({id:k,dragItems:$,findNode:N});Q({event:B.sourceEvent,node:x,nodes:L})}},oe=(B,Z)=>{var U;B.sourceEvent.type==="touchmove"&&B.sourceEvent.touches.length>1||(d.value===0&&Be(B,Z),te=ue(B),Y=((U=r.value)==null?void 0:U.getBoundingClientRect())||null,ie=Qn(B.sourceEvent,Y))},j=(B,Z)=>{var m,x;const U=ue(B);if(!fe&&le&&p.value&&(fe=!0,ze()),!le){const L=U.xSnapped-((m=te.x)!=null?m:0),G=U.ySnapped-((x=te.y)!=null?x:0);Math.sqrt(L*L+G*G)>d.value&&Be(B,Z)}(te.x!==U.xSnapped||te.y!==U.ySnapped)&&$.length&&le&&(de=B.sourceEvent,ie=Qn(B.sourceEvent,Y),me(U))},se=B=>{if(!T.value&&!D.value&&(ve==null||ve(B.sourceEvent)),T.value=!1,fe=!1,le=!1,te={x:void 0,y:void 0},cancelAnimationFrame(Ie),$.length){z($,!1,!1);const[Z,U]=Ml({id:k,dragItems:$,findNode:N});re({event:B.sourceEvent,node:Z,nodes:U})}};return et([()=>je(J),ge],([B,Z],U,m)=>{if(Z){const x=dn(Z);B||(R=Sb().on("start",L=>oe(L,Z)).on("drag",L=>j(L,Z)).on("end",L=>se(L)).filter(L=>{const G=L.target,ae=je(Ae);return!L.button&&(!l.value||!vd(G,`.${l.value}`,Z)&&(!ae||vd(G,ae,Z)))}),x.call(R)),m(()=>{x.on(".drag",null),R&&(R.on("start",null),R.on("drag",null),R.on("end",null))})}}),T}function GE(){return{doubleClick:pe(),click:pe(),mouseEnter:pe(),mouseMove:pe(),mouseLeave:pe(),contextMenu:pe(),updateStart:pe(),update:pe(),updateEnd:pe()}}function VE(t,r){const o=GE();return o.doubleClick.on(i=>{var l,u;r.edgeDoubleClick(i),(u=(l=t.events)==null?void 0:l.doubleClick)==null||u.call(l,i)}),o.click.on(i=>{var l,u;r.edgeClick(i),(u=(l=t.events)==null?void 0:l.click)==null||u.call(l,i)}),o.mouseEnter.on(i=>{var l,u;r.edgeMouseEnter(i),(u=(l=t.events)==null?void 0:l.mouseEnter)==null||u.call(l,i)}),o.mouseMove.on(i=>{var l,u;r.edgeMouseMove(i),(u=(l=t.events)==null?void 0:l.mouseMove)==null||u.call(l,i)}),o.mouseLeave.on(i=>{var l,u;r.edgeMouseLeave(i),(u=(l=t.events)==null?void 0:l.mouseLeave)==null||u.call(l,i)}),o.contextMenu.on(i=>{var l,u;r.edgeContextMenu(i),(u=(l=t.events)==null?void 0:l.contextMenu)==null||u.call(l,i)}),o.updateStart.on(i=>{var l,u;r.edgeUpdateStart(i),(u=(l=t.events)==null?void 0:l.updateStart)==null||u.call(l,i)}),o.update.on(i=>{var l,u;r.edgeUpdate(i),(u=(l=t.events)==null?void 0:l.update)==null||u.call(l,i)}),o.updateEnd.on(i=>{var l,u;r.edgeUpdateEnd(i),(u=(l=t.events)==null?void 0:l.updateEnd)==null||u.call(l,i)}),Object.entries(o).reduce((i,[l,u])=>(i.emit[l]=u.trigger,i.on[l]=u.on,i),{emit:{},on:{}})}function UE(){const{viewport:t,snapGrid:r,snapToGrid:o}=dt();return({sourceEvent:i})=>{const l=i.touches?i.touches[0].clientX:i.clientX,u=i.touches?i.touches[0].clientY:i.clientY,s={x:(l-t.value.x)/t.value.zoom,y:(u-t.value.y)/t.value.zoom};return{xSnapped:o.value?r.value[0]*Math.round(s.x/r.value[0]):s.x,ySnapped:o.value?r.value[1]*Math.round(s.y/r.value[1]):s.y,...s}}}function Ni(){return!0}function Wf({handleId:t,nodeId:r,type:o,isValidConnection:i,edgeUpdaterType:l,onEdgeUpdate:u,onEdgeUpdateEnd:s}){const{vueFlowRef:d,connectionMode:h,connectionRadius:p,connectOnClick:v,connectionClickStartHandle:w,nodesConnectable:S,autoPanOnConnect:N,autoPanSpeed:D,findNode:C,panBy:I,startConnection:M,updateConnection:y,endConnection:z,emits:O,viewport:Q,edges:ce,nodes:re,isValidConnection:ve}=dt();let ge=null,J=!1,k=null,be=null;function Ae($){var R;const Y=je(o)==="target",te=us($),ie=ud($.target);if(te&&$.button===0||!te){let de=function(L){Z=Qn(L,se);const{handle:G,validHandleResult:ae}=DE(L,ie,Gi(Z,Q.value,!1,[1,1]),p.value,m,Ee=>wd(L,Ee,h.value,je(r),je(t),Y?"target":"source",fe,ie,ce.value,re.value,C));if(ue=G,U||(x(),U=!0),ge=ae.connection,J=ae.isValid,k=ae.handleDomNode,!(J&&ue&&(be!=null&&be.endHandle)&&ae.endHandle&&be.endHandle.type===ae.endHandle.type&&be.endHandle.nodeId===ae.endHandle.nodeId&&be.endHandle.handleId===ae.endHandle.handleId)){if(y(ue&&J?Of({x:ue.x,y:ue.y},Q.value):Z,ae.endHandle,zE(!!ue,J)),be=ae,!ue&&!J&&!k)return kl(B);ge&&ge.source!==ge.target&&k&&(kl(B),B=k,k.classList.add("connecting","vue-flow__handle-connecting"),k.classList.toggle("valid",J),k.classList.toggle("vue-flow__handle-valid",J))}},le=function(L){(ue||k)&&ge&&J&&(u?u(L,ge):O.connect(ge)),O.connectEnd(L),l&&(s==null||s(L)),kl(B),cancelAnimationFrame(me),z(L),U=!1,J=!1,ge=null,k=null,ie.removeEventListener("mousemove",de),ie.removeEventListener("mouseup",le),ie.removeEventListener("touchmove",de),ie.removeEventListener("touchend",le)};const Ie=C(je(r));let fe=je(i)||ve.value||Ni;!fe&&Ie&&(fe=(Y?Ie.isValidSourcePos:Ie.isValidTargetPos)||Ni);let ue,me=0;const{x:ze,y:Be}=Qn($),oe=ie==null?void 0:ie.elementFromPoint(ze,Be),j=cs(je(l),oe),se=(R=d.value)==null?void 0:R.getBoundingClientRect();if(!se||!j)return;let B,Z=Qn($,se),U=!1;const m=RE({nodes:re.value,nodeId:je(r),handleId:je(t),handleType:j}),x=()=>{if(!N.value)return;const[L,G]=Hf(Z,se,D.value);I({x:L,y:G}),me=requestAnimationFrame(x)};M({nodeId:je(r),handleId:je(t),type:j,position:(oe==null?void 0:oe.getAttribute("data-handlepos"))||Se.Top},{x:ze-se.left,y:Be-se.top}),O.connectStart({event:$,nodeId:je(r),handleId:je(t),handleType:j}),ie.addEventListener("mousemove",de),ie.addEventListener("mouseup",le),ie.addEventListener("touchmove",de),ie.addEventListener("touchend",le)}}function T($){if(!v.value)return;const R=je(o)==="target";if(!w.value)O.clickConnectStart({event:$,nodeId:je(r),handleId:je(t)}),M({nodeId:je(r),type:je(o),handleId:je(t)},void 0,!0);else{let Y=je(i)||ve.value||Ni;const te=C(je(r));if(!Y&&te&&(Y=(R?te.isValidSourcePos:te.isValidTargetPos)||Ni),te&&(typeof te.connectable=="undefined"?S.value:te.connectable)===!1)return;const ie=ud($.target),{connection:de,isValid:le}=wd($,{nodeId:je(r),id:je(t),type:je(o)},h.value,w.value.nodeId,w.value.handleId||null,w.value.type,Y,ie,ce.value,re.value,C),Ie=de.source===de.target;le&&!Ie&&O.connect(de),O.clickConnectEnd($),z($,!0)}}return{handlePointerDown:Ae,handleClick:T}}function qE(){return qr(Vf,"")}function Yf(t){var d;const r=(d=t!=null?t:qE())!=null?d:"",o=qr(Uf,De(null)),{findNode:i,edges:l,emits:u}=dt(),s=i(r);return s||u.error(new xt(_t.NODE_NOT_FOUND,r)),{id:r,nodeEl:o,node:s,parentNode:Ce(()=>i(s.parentNode)),connectedEdges:Ce(()=>Bf([s],l.value))}}function WE(){return{doubleClick:pe(),click:pe(),mouseEnter:pe(),mouseMove:pe(),mouseLeave:pe(),contextMenu:pe(),dragStart:pe(),drag:pe(),dragStop:pe()}}function YE(t,r){const o=WE();return o.doubleClick.on(i=>{var l,u;r.nodeDoubleClick(i),(u=(l=t.events)==null?void 0:l.doubleClick)==null||u.call(l,i)}),o.click.on(i=>{var l,u;r.nodeClick(i),(u=(l=t.events)==null?void 0:l.click)==null||u.call(l,i)}),o.mouseEnter.on(i=>{var l,u;r.nodeMouseEnter(i),(u=(l=t.events)==null?void 0:l.mouseEnter)==null||u.call(l,i)}),o.mouseMove.on(i=>{var l,u;r.nodeMouseMove(i),(u=(l=t.events)==null?void 0:l.mouseMove)==null||u.call(l,i)}),o.mouseLeave.on(i=>{var l,u;r.nodeMouseLeave(i),(u=(l=t.events)==null?void 0:l.mouseLeave)==null||u.call(l,i)}),o.contextMenu.on(i=>{var l,u;r.nodeContextMenu(i),(u=(l=t.events)==null?void 0:l.contextMenu)==null||u.call(l,i)}),o.dragStart.on(i=>{var l,u;r.nodeDragStart(i),(u=(l=t.events)==null?void 0:l.dragStart)==null||u.call(l,i)}),o.drag.on(i=>{var l,u;r.nodeDrag(i),(u=(l=t.events)==null?void 0:l.drag)==null||u.call(l,i)}),o.dragStop.on(i=>{var l,u;r.nodeDragStop(i),(u=(l=t.events)==null?void 0:l.dragStop)==null||u.call(l,i)}),Object.entries(o).reduce((i,[l,u])=>(i.emit[l]=u.trigger,i.on[l]=u.on,i),{emit:{},on:{}})}function Xf(){const{getSelectedNodes:t,nodeExtent:r,updateNodePositions:o,findNode:i,snapGrid:l,snapToGrid:u,nodesDraggable:s,emits:d}=dt();return(h,p=!1)=>{const v=u.value?l.value[0]:5,w=u.value?l.value[1]:5,S=p?4:1,N=h.x*v*S,D=h.y*w*S,C=[];for(const I of t.value)if(I.draggable||s&&typeof I.draggable=="undefined"){const M={x:I.computedPosition.x+N,y:I.computedPosition.y+D},{computedPosition:y}=ss(I,M,d.error,r.value,I.parentNode?i(I.parentNode):void 0);C.push({id:I.id,position:y,from:I.position,distance:{x:h.x,y:h.y},dimensions:I.dimensions})}o(C,!0,!1)}}const Al=.1;function Yn(){return ji("Viewport not initialized yet."),Promise.resolve(!1)}const XE={zoomIn:Yn,zoomOut:Yn,zoomTo:Yn,fitView:Yn,setCenter:Yn,fitBounds:Yn,project:t=>t,screenToFlowCoordinate:t=>t,flowToScreenCoordinate:t=>t,setViewport:Yn,setTransform:Yn,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function ZE(t){function r(i,l){return new Promise(u=>{t.d3Selection&&t.d3Zoom?t.d3Zoom.scaleBy(Tl(t.d3Selection,l,()=>{u(!0)}),i):u(!1)})}function o(i,l,u,s){return new Promise(d=>{const{x:h,y:p}=kf({x:-i,y:-l},t.translateExtent),v=Ur.translate(-h,-p).scale(u);t.d3Selection&&t.d3Zoom?t.d3Zoom.transform(Tl(t.d3Selection,s,()=>{d(!0)}),v):d(!1)})}return Ce(()=>t.d3Zoom&&t.d3Selection&&t.dimensions.width&&t.dimensions.height?{viewportInitialized:!0,zoomIn:l=>r(1.2,l==null?void 0:l.duration),zoomOut:l=>r(1/1.2,l==null?void 0:l.duration),zoomTo:(l,u)=>new Promise(s=>{t.d3Selection&&t.d3Zoom?t.d3Zoom.scaleTo(Tl(t.d3Selection,u==null?void 0:u.duration,()=>{s(!0)}),l):s(!1)}),setViewport:(l,u)=>o(l.x,l.y,l.zoom,u==null?void 0:u.duration),setTransform:(l,u)=>o(l.x,l.y,l.zoom,u==null?void 0:u.duration),getViewport:()=>({x:t.viewport.x,y:t.viewport.y,zoom:t.viewport.zoom}),getTransform:()=>({x:t.viewport.x,y:t.viewport.y,zoom:t.viewport.zoom}),fitView:(l={padding:Al,includeHiddenNodes:!1,duration:0})=>{var S,N,D;var u,s;const d=[];for(const C of t.nodes)C.dimensions.width&&C.dimensions.height&&((l==null?void 0:l.includeHiddenNodes)||!C.hidden)&&(!((u=l.nodes)!=null&&u.length)||(s=l.nodes)!=null&&s.length&&l.nodes.includes(C.id))&&d.push(C);if(!d.length)return Promise.resolve(!1);const h=Rf(d),{x:p,y:v,zoom:w}=cd(h,t.dimensions.width,t.dimensions.height,(S=l.minZoom)!=null?S:t.minZoom,(N=l.maxZoom)!=null?N:t.maxZoom,(D=l.padding)!=null?D:Al,l.offset);return o(p,v,w,l==null?void 0:l.duration)},setCenter:(l,u,s)=>{const d=typeof(s==null?void 0:s.zoom)!="undefined"?s.zoom:t.maxZoom,h=t.dimensions.width/2-l*d,p=t.dimensions.height/2-u*d;return o(h,p,d,s==null?void 0:s.duration)},fitBounds:(l,u={padding:Al})=>{const{x:s,y:d,zoom:h}=cd(l,t.dimensions.width,t.dimensions.height,t.minZoom,t.maxZoom,u.padding);return o(s,d,h,u==null?void 0:u.duration)},project:l=>Gi(l,t.viewport,t.snapToGrid,t.snapGrid),screenToFlowCoordinate:l=>{if(t.vueFlowRef){const{x:u,y:s}=t.vueFlowRef.getBoundingClientRect(),d={x:l.x-u,y:l.y-s};return Gi(d,t.viewport,t.snapToGrid,t.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:l=>{if(t.vueFlowRef){const{x:u,y:s}=t.vueFlowRef.getBoundingClientRect(),d={x:l.x+u,y:l.y+s};return Of(d,t.viewport)}return{x:0,y:0}}}:XE)}function Tl(t,r=0,o){return t.transition().duration(r).on("end",o)}function KE(t,r,o){const i=Pd(!0);return i.run(()=>{const l=()=>{i.run(()=>{let C,I,M=!!(o.nodes.value.length||o.edges.value.length);C=Or([t.modelValue,()=>{var y,z;return(z=(y=t.modelValue)==null?void 0:y.value)==null?void 0:z.length}],([y])=>{y&&Array.isArray(y)&&(I==null||I.pause(),o.setElements(y),!I&&!M&&y.length?M=!0:I==null||I.resume())}),I=Or([o.nodes,o.edges,()=>o.edges.value.length,()=>o.nodes.value.length],([y,z])=>{var O;(O=t.modelValue)!=null&&O.value&&Array.isArray(t.modelValue.value)&&(C==null||C.pause(),t.modelValue.value=[...y,...z],Ft(()=>{C==null||C.resume()}))},{immediate:M}),Ii(()=>{C==null||C.stop(),I==null||I.stop()})})},u=()=>{i.run(()=>{let C,I,M=!!o.nodes.value.length;C=Or([t.nodes,()=>{var y,z;return(z=(y=t.nodes)==null?void 0:y.value)==null?void 0:z.length}],([y])=>{y&&Array.isArray(y)&&(I==null||I.pause(),o.setNodes(y),!I&&!M&&y.length?M=!0:I==null||I.resume())}),I=Or([o.nodes,()=>o.nodes.value.length],([y])=>{var z;(z=t.nodes)!=null&&z.value&&Array.isArray(t.nodes.value)&&(C==null||C.pause(),t.nodes.value=[...y],Ft(()=>{C==null||C.resume()}))},{immediate:M}),Ii(()=>{C==null||C.stop(),I==null||I.stop()})})},s=()=>{i.run(()=>{let C,I,M=!!o.edges.value.length;C=Or([t.edges,()=>{var y,z;return(z=(y=t.edges)==null?void 0:y.value)==null?void 0:z.length}],([y])=>{y&&Array.isArray(y)&&(I==null||I.pause(),o.setEdges(y),!I&&!M&&y.length?M=!0:I==null||I.resume())}),I=Or([o.edges,()=>o.edges.value.length],([y])=>{var z;(z=t.edges)!=null&&z.value&&Array.isArray(t.edges.value)&&(C==null||C.pause(),t.edges.value=[...y],Ft(()=>{C==null||C.resume()}))},{immediate:M}),Ii(()=>{C==null||C.stop(),I==null||I.stop()})})},d=()=>{i.run(()=>{et(()=>r.maxZoom,()=>{r.maxZoom&&mt(r.maxZoom)&&o.setMaxZoom(r.maxZoom)},{immediate:!0})})},h=()=>{i.run(()=>{et(()=>r.minZoom,()=>{r.minZoom&&mt(r.minZoom)&&o.setMinZoom(r.minZoom)},{immediate:!0})})},p=()=>{i.run(()=>{et(()=>r.translateExtent,()=>{r.translateExtent&&mt(r.translateExtent)&&o.setTranslateExtent(r.translateExtent)},{immediate:!0})})},v=()=>{i.run(()=>{et(()=>r.nodeExtent,()=>{r.nodeExtent&&mt(r.nodeExtent)&&o.setNodeExtent(r.nodeExtent)},{immediate:!0})})},w=()=>{i.run(()=>{et(()=>r.applyDefault,()=>{mt(r.applyDefault)&&(o.applyDefault.value=r.applyDefault)},{immediate:!0})})},S=()=>{i.run(()=>{const C=async I=>{let M=I;typeof r.autoConnect=="function"&&(M=await r.autoConnect(I)),M!==!1&&o.addEdges([M])};et(()=>r.autoConnect,()=>{mt(r.autoConnect)&&(o.autoConnect.value=r.autoConnect)},{immediate:!0}),et(o.autoConnect,(I,M,y)=>{I?o.onConnect(C):o.hooks.value.connect.off(C),y(()=>{o.hooks.value.connect.off(C)})},{immediate:!0})})},N=()=>{const C=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const I of Object.keys(r)){const M=I;if(!C.includes(M)){const y=gt(()=>r[M]),z=o[M];Ql(z)&&i.run(()=>{et(y,O=>{mt(O)&&(z.value=O)},{immediate:!0})})}}};(()=>{l(),u(),s(),h(),d(),p(),v(),w(),S(),N()})()}),()=>i.stop()}function QE(){return{edgesChange:pe(),nodesChange:pe(),nodeDoubleClick:pe(),nodeClick:pe(),nodeMouseEnter:pe(),nodeMouseMove:pe(),nodeMouseLeave:pe(),nodeContextMenu:pe(),nodeDragStart:pe(),nodeDrag:pe(),nodeDragStop:pe(),nodesInitialized:pe(),miniMapNodeClick:pe(),miniMapNodeDoubleClick:pe(),miniMapNodeMouseEnter:pe(),miniMapNodeMouseMove:pe(),miniMapNodeMouseLeave:pe(),connect:pe(),connectStart:pe(),connectEnd:pe(),clickConnectStart:pe(),clickConnectEnd:pe(),paneReady:pe(),init:pe(),move:pe(),moveStart:pe(),moveEnd:pe(),selectionDragStart:pe(),selectionDrag:pe(),selectionDragStop:pe(),selectionContextMenu:pe(),selectionStart:pe(),selectionEnd:pe(),viewportChangeStart:pe(),viewportChange:pe(),viewportChangeEnd:pe(),paneScroll:pe(),paneClick:pe(),paneContextMenu:pe(),paneMouseEnter:pe(),paneMouseMove:pe(),paneMouseLeave:pe(),edgeContextMenu:pe(),edgeMouseEnter:pe(),edgeMouseMove:pe(),edgeMouseLeave:pe(),edgeDoubleClick:pe(),edgeClick:pe(),edgeUpdateStart:pe(),edgeUpdate:pe(),edgeUpdateEnd:pe(),updateNodeInternals:pe(),error:pe(t=>ji(t.message))}}function JE(t,r){Dd(()=>{for(const[o,i]of Object.entries(r.value)){const l=u=>{t(o,u)};i.fns.add(l),Yi(()=>{i.off(l)})}})}function Zf(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:ls.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:_o.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:sr.Bezier,style:{}},connectionMode:mr.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:Ui()?"Meta":"Control",zoomActivationKeyCode:Ui()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:QE(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const jE=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function eS(t,r,o){const i=ZE(t),l=m=>{const x=m!=null?m:[];t.hooks.updateNodeInternals.trigger(x)},u=m=>xE(m,t.nodes,t.edges),s=m=>bE(m,t.nodes,t.edges),d=m=>Bf(m,t.edges),h=({id:m,type:x,nodeId:L})=>{var ae;var G;return Array.from((ae=(G=t.connectionLookup.get(`${L}-${x}-${m!=null?m:null}`))==null?void 0:G.values())!=null?ae:[])},p=m=>{if(m)return r.value.get(m)},v=m=>{if(m)return o.value.get(m)},w=(m,x,L)=>{var F,_e;var G,ae;const Ee=[];for(const Te of m){const qe={id:Te.id,type:"position",dragging:L,from:Te.from};if(x&&(qe.position=Te.position,Te.parentNode)){const Ge=p(Te.parentNode);qe.position={x:qe.position.x-((F=(G=Ge==null?void 0:Ge.computedPosition)==null?void 0:G.x)!=null?F:0),y:qe.position.y-((_e=(ae=Ge==null?void 0:Ge.computedPosition)==null?void 0:ae.y)!=null?_e:0)}}Ee.push(qe)}Ee!=null&&Ee.length&&t.hooks.nodesChange.trigger(Ee)},S=m=>{if(!t.vueFlowRef)return;const x=t.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!x)return;const L=window.getComputedStyle(x),{m22:G}=new window.DOMMatrixReadOnly(L.transform),ae=[];for(let Ee=0;Ee<m.length;++Ee){const F=m[Ee],_e=p(F.id);if(_e){const Te=Ji(F.nodeElement);if(!!(Te.width&&Te.height&&(_e.dimensions.width!==Te.width||_e.dimensions.height!==Te.height||F.forceUpdate))){const Ge=F.nodeElement.getBoundingClientRect();_e.dimensions=Te,_e.handleBounds.source=bd(".source",F.nodeElement,Ge,G),_e.handleBounds.target=bd(".target",F.nodeElement,Ge,G),ae.push({id:_e.id,type:"dimensions",dimensions:Te})}}}!t.fitViewOnInitDone&&t.fitViewOnInit&&i.value.fitView().then(()=>{t.fitViewOnInitDone=!0}),ae.length&&t.hooks.nodesChange.trigger(ae)},N=(m,x)=>{const L=new Set,G=new Set;for(const F of m)gr(F)?L.add(F.id):Jn(F)&&G.add(F.id);const ae=Kn(r.value,L,!0),Ee=Kn(o.value,G);if(t.multiSelectionActive){for(const F of L)ae.push(Xn(F,x));for(const F of G)Ee.push(Xn(F,x))}ae.length&&t.hooks.nodesChange.trigger(ae),Ee.length&&t.hooks.edgesChange.trigger(Ee)},D=m=>{if(t.multiSelectionActive){const x=m.map(L=>Xn(L.id,!0));t.hooks.nodesChange.trigger(x);return}t.hooks.nodesChange.trigger(Kn(r.value,new Set(m.map(x=>x.id)),!0)),t.hooks.edgesChange.trigger(Kn(o.value))},C=m=>{if(t.multiSelectionActive){const x=m.map(L=>Xn(L.id,!0));t.hooks.edgesChange.trigger(x);return}t.hooks.edgesChange.trigger(Kn(o.value,new Set(m.map(x=>x.id)))),t.hooks.nodesChange.trigger(Kn(r.value,new Set,!0))},I=m=>{N(m,!0)},M=m=>{const L=(m||t.nodes).map(G=>(G.selected=!1,Xn(G.id,!1)));t.hooks.nodesChange.trigger(L)},y=m=>{const L=(m||t.edges).map(G=>(G.selected=!1,Xn(G.id,!1)));t.hooks.edgesChange.trigger(L)},z=m=>{if(!m||!m.length)return N([],!1);const x=m.reduce((L,G)=>{const ae=Xn(G.id,!1);return gr(G)?L.nodes.push(ae):L.edges.push(ae),L},{nodes:[],edges:[]});x.nodes.length&&t.hooks.nodesChange.trigger(x.nodes),x.edges.length&&t.hooks.edgesChange.trigger(x.edges)},O=m=>{var x;(x=t.d3Zoom)==null||x.scaleExtent([m,t.maxZoom]),t.minZoom=m},Q=m=>{var x;(x=t.d3Zoom)==null||x.scaleExtent([t.minZoom,m]),t.maxZoom=m},ce=m=>{var x;(x=t.d3Zoom)==null||x.translateExtent(m),t.translateExtent=m},re=m=>{t.nodeExtent=m,l()},ve=m=>{var x;(x=t.d3Zoom)==null||x.clickDistance(m)},ge=m=>{t.nodesDraggable=m,t.nodesConnectable=m,t.elementsSelectable=m},J=m=>{const x=m instanceof Function?m(t.nodes):m;!t.initialized&&!x.length||(t.nodes=xd(x,p,t.hooks.error.trigger))},k=m=>{const x=m instanceof Function?m(t.edges):m;if(!t.initialized&&!x.length)return;const L=Sd(x,t.isValidConnection,p,v,t.hooks.error.trigger,t.defaultEdgeOptions,t.nodes,t.edges);Ed(t.connectionLookup,L),t.edges=L},be=m=>{const x=m instanceof Function?m([...t.nodes,...t.edges]):m;!t.initialized&&!x.length||(J(x.filter(gr)),k(x.filter(Jn)))},Ae=m=>{let x=m instanceof Function?m(t.nodes):m;x=Array.isArray(x)?x:[x];const L=xd(x,p,t.hooks.error.trigger),G=[];for(const ae of L)G.push(hd(ae));G.length&&t.hooks.nodesChange.trigger(G)},T=m=>{let x=m instanceof Function?m(t.edges):m;x=Array.isArray(x)?x:[x];const L=Sd(x,t.isValidConnection,p,v,t.hooks.error.trigger,t.defaultEdgeOptions,t.nodes,t.edges),G=[];for(const ae of L)G.push(hd(ae));G.length&&t.hooks.edgesChange.trigger(G)},$=(m,x=!0,L=!1)=>{const G=m instanceof Function?m(t.nodes):m,ae=Array.isArray(G)?G:[G],Ee=[],F=[];function _e(qe){const Ge=d(qe);for(const Ke of Ge)(!mt(Ke.deletable)||Ke.deletable)&&F.push(pd(Ke.id,Ke.source,Ke.target,Ke.sourceHandle,Ke.targetHandle))}function Te(qe){const Ge=[];for(const Ke of t.nodes)Ke.parentNode===qe&&Ge.push(Ke);if(Ge.length){for(const Ke of Ge)Ee.push(gd(Ke.id));x&&_e(Ge);for(const Ke of Ge)Te(Ke.id)}}for(const qe of ae){const Ge=typeof qe=="string"?p(qe):qe;Ge&&(mt(Ge.deletable)&&!Ge.deletable||(Ee.push(gd(Ge.id)),x&&_e([Ge]),L&&Te(Ge.id)))}F.length&&t.hooks.edgesChange.trigger(F),Ee.length&&t.hooks.nodesChange.trigger(Ee)},R=m=>{const x=m instanceof Function?m(t.edges):m,L=Array.isArray(x)?x:[x],G=[];for(const ae of L){const Ee=typeof ae=="string"?v(ae):ae;Ee&&(mt(Ee.deletable)&&!Ee.deletable||G.push(pd(typeof ae=="string"?ae:ae.id,Ee.source,Ee.target,Ee.sourceHandle,Ee.targetHandle)))}t.hooks.edgesChange.trigger(G)},Y=(m,x,L=!0)=>HE(m,x,t.edges,v,L,t.hooks.error.trigger),te=(m,x,L={replace:!1})=>{const G=v(m);if(!G)return;const ae=typeof x=="function"?x(G):x;G.data=L.replace?ae:{...G.data,...ae}},ie=m=>fd(m,t.nodes),de=m=>{const x=fd(m,t.edges);return Ed(t.connectionLookup,x),x},le=(m,x,L={replace:!1})=>{const G=p(m);if(!G)return;const ae=typeof x=="function"?x(G):x;L.replace?t.nodes.splice(t.nodes.indexOf(G),1,ae):Object.assign(G,ae)},Ie=(m,x,L={replace:!1})=>{const G=p(m);if(!G)return;const ae=typeof x=="function"?x(G):x;G.data=L.replace?ae:{...G.data,...ae}},fe=(m,x,L=!1)=>{L?t.connectionClickStartHandle=m:t.connectionStartHandle=m,t.connectionEndHandle=null,t.connectionStatus=null,x&&(t.connectionPosition=x)},ue=(m,x=null,L=null)=>{t.connectionStartHandle&&(t.connectionPosition=m,t.connectionEndHandle=x,t.connectionStatus=L)},me=(m,x)=>{t.connectionPosition={x:Number.NaN,y:Number.NaN},t.connectionEndHandle=null,t.connectionStatus=null,x?t.connectionClickStartHandle=null:t.connectionStartHandle=null},ze=m=>{const x=yE(m),L=x?null:mo(m)?m:p(m.id);return!x&&!L?[null,null,x]:[x?m:Yl(L),L,x]},Be=(m,x=!0,L=t.nodes)=>{const[G,ae,Ee]=ze(m);if(!G)return[];const F=[];for(const _e of L||t.nodes){if(!Ee&&(_e.id===ae.id||!_e.computedPosition))continue;const Te=Yl(_e),qe=Xl(Te,G);(x&&qe>0||qe>=Number(G.width)*Number(G.height))&&F.push(_e)}return F},oe=(m,x,L=!0)=>{const[G]=ze(m);if(!G)return!1;const ae=Xl(G,x);return L&&ae>0||ae>=Number(G.width)*Number(G.height)},j=m=>{const{viewport:x,dimensions:L,d3Zoom:G,d3Selection:ae,translateExtent:Ee}=t;if(!G||!ae||!m.x&&!m.y)return!1;const F=Ur.translate(x.x+m.x,x.y+m.y).scale(x.zoom),_e=[[0,0],[L.width,L.height]],Te=G.constrain()(F,_e,Ee),qe=t.viewport.x!==Te.x||t.viewport.y!==Te.y||t.viewport.zoom!==Te.k;return G.transform(ae,Te),qe},se=m=>{const x=m instanceof Function?m(t):m,L=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];mt(x.defaultEdgeOptions)&&(t.defaultEdgeOptions=x.defaultEdgeOptions);const G=x.modelValue||x.nodes||x.edges?[]:void 0;G&&(x.modelValue&&G.push(...x.modelValue),x.nodes&&G.push(...x.nodes),x.edges&&G.push(...x.edges),be(G));const ae=()=>{mt(x.maxZoom)&&Q(x.maxZoom),mt(x.minZoom)&&O(x.minZoom),mt(x.translateExtent)&&ce(x.translateExtent)};for(const Ee of Object.keys(x)){const F=Ee,_e=x[F];![...jE,...L].includes(F)&&mt(_e)&&(t[F]=_e)}zl(()=>t.d3Zoom).not.toBeNull().then(ae),t.initialized||(t.initialized=!0)};return{updateNodePositions:w,updateNodeDimensions:S,setElements:be,setNodes:J,setEdges:k,addNodes:Ae,addEdges:T,removeNodes:$,removeEdges:R,findNode:p,findEdge:v,updateEdge:Y,updateEdgeData:te,updateNode:le,updateNodeData:Ie,applyEdgeChanges:de,applyNodeChanges:ie,addSelectedElements:I,addSelectedNodes:D,addSelectedEdges:C,setMinZoom:O,setMaxZoom:Q,setTranslateExtent:ce,setNodeExtent:re,setPaneClickDistance:ve,removeSelectedElements:z,removeSelectedNodes:M,removeSelectedEdges:y,startConnection:fe,updateConnection:ue,endConnection:me,setInteractive:ge,setState:se,getIntersectingNodes:Be,getIncomers:u,getOutgoers:s,getConnectedEdges:d,getHandleConnections:h,isNodeIntersecting:oe,panBy:j,fitView:m=>i.value.fitView(m),zoomIn:m=>i.value.zoomIn(m),zoomOut:m=>i.value.zoomOut(m),zoomTo:(m,x)=>i.value.zoomTo(m,x),setViewport:(m,x)=>i.value.setViewport(m,x),setTransform:(m,x)=>i.value.setTransform(m,x),getViewport:()=>i.value.getViewport(),getTransform:()=>i.value.getTransform(),setCenter:(m,x,L)=>i.value.setCenter(m,x,L),fitBounds:(m,x)=>i.value.fitBounds(m,x),project:m=>i.value.project(m),screenToFlowCoordinate:m=>i.value.screenToFlowCoordinate(m),flowToScreenCoordinate:m=>i.value.flowToScreenCoordinate(m),toObject:()=>{const m=[],x=[];for(const L of t.nodes){const{computedPosition:G,handleBounds:ae,selected:Ee,dimensions:F,isParent:_e,resizing:Te,dragging:qe,events:Ge,...Ke}=L;m.push(Ke)}for(const L of t.edges){const{selected:G,sourceNode:ae,targetNode:Ee,events:F,..._e}=L;x.push(_e)}return JSON.parse(JSON.stringify({nodes:m,edges:x,position:[t.viewport.x,t.viewport.y],zoom:t.viewport.zoom,viewport:t.viewport}))},fromObject:m=>new Promise(x=>{const{nodes:L,edges:G,position:ae,zoom:Ee,viewport:F}=m;if(L&&J(L),G&&k(G),F!=null&&F.x&&(F!=null&&F.y)||ae){const _e=(F==null?void 0:F.x)||ae[0],Te=(F==null?void 0:F.y)||ae[1],qe=(F==null?void 0:F.zoom)||Ee||t.viewport.zoom;return zl(()=>i.value.viewportInitialized).toBe(!0).then(()=>{i.value.setViewport({x:_e,y:Te,zoom:qe}).then(()=>{x(!0)})})}else x(!0)}),updateNodeInternals:l,viewportHelper:i,$reset:()=>{var x,L,G;const m=Zf();if(t.edges=[],t.nodes=[],t.d3Zoom&&t.d3Selection){const ae=Ur.translate((x=m.defaultViewport.x)!=null?x:0,(L=m.defaultViewport.y)!=null?L:0).scale(_r((G=m.defaultViewport.zoom)!=null?G:1,m.minZoom,m.maxZoom)),Ee=t.viewportRef.getBoundingClientRect(),F=[[0,0],[Ee.width,Ee.height]],_e=t.d3Zoom.constrain()(ae,F,m.translateExtent);t.d3Zoom.transform(t.d3Selection,_e)}se(m)},$destroy:()=>{}}}const tS=["data-id","data-handleid","data-nodeid","data-handlepos"],nS={name:"Handle",compatConfig:{MODE:3}},Io=lt({...nS,props:{id:{default:null},type:{},position:{default:()=>Se.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(t,{expose:r}){const o=Rd(t,["position","connectable","connectableStart","connectableEnd","id"]),i=gt(()=>{var J;return(J=o.type)!=null?J:"source"}),l=gt(()=>{var J;return(J=o.isValidConnection)!=null?J:null}),{connectionStartHandle:u,connectionClickStartHandle:s,connectionEndHandle:d,vueFlowRef:h,nodesConnectable:p,noDragClassName:v,noPanClassName:w}=dt(),{id:S,node:N,nodeEl:D,connectedEdges:C}=Yf(),I=De(),M=gt(()=>typeof t.connectableStart!="undefined"?t.connectableStart:!0),y=gt(()=>typeof t.connectableEnd!="undefined"?t.connectableEnd:!0),z=gt(()=>{var J,k,be,Ae,T,$;return((J=u.value)==null?void 0:J.nodeId)===S&&((k=u.value)==null?void 0:k.handleId)===t.id&&((be=u.value)==null?void 0:be.type)===i.value||((Ae=d.value)==null?void 0:Ae.nodeId)===S&&((T=d.value)==null?void 0:T.handleId)===t.id&&(($=d.value)==null?void 0:$.type)===i.value}),O=gt(()=>{var J,k,be;return((J=s.value)==null?void 0:J.nodeId)===S&&((k=s.value)==null?void 0:k.handleId)===t.id&&((be=s.value)==null?void 0:be.type)===i.value}),{handlePointerDown:Q,handleClick:ce}=Wf({nodeId:S,handleId:t.id,isValidConnection:l,type:i}),re=Ce(()=>typeof t.connectable=="string"&&t.connectable==="single"?!C.value.some(J=>{const k=J[`${i.value}Handle`];return J[i.value]!==S?!1:k?k===t.id:!0}):typeof t.connectable=="number"?C.value.filter(J=>{const k=J[`${i.value}Handle`];return J[i.value]!==S?!1:k?k===t.id:!0}).length<t.connectable:typeof t.connectable=="function"?t.connectable(N,C.value):mt(t.connectable)?t.connectable:p.value);wn(()=>{var te;var J;if(!N.dimensions.width||!N.dimensions.height)return;const k=(J=N.handleBounds[i.value])==null?void 0:J.find(ie=>ie.id===t.id);if(!h.value||k)return;const be=h.value.querySelector(".vue-flow__transformationpane");if(!D.value||!I.value||!be||!t.id)return;const Ae=D.value.getBoundingClientRect(),T=I.value.getBoundingClientRect(),$=window.getComputedStyle(be),{m22:R}=new window.DOMMatrixReadOnly($.transform),Y={id:t.id,position:t.position,x:(T.left-Ae.left)/R,y:(T.top-Ae.top)/R,...Ji(I.value)};N.handleBounds[i.value]=[...(te=N.handleBounds[i.value])!=null?te:[],Y]}),Od(()=>{const J=N.handleBounds[i.value];J&&(N.handleBounds[i.value]=J.filter(k=>k.id!==t.id))});function ve(J){const k=us(J);re.value&&M.value&&(k&&J.button===0||!k)&&Q(J)}function ge(J){!S||!s.value&&!M.value||re.value&&ce(J)}return r({handleClick:ce,handlePointerDown:Q,onClick:ge,onPointerDown:ve}),(J,k)=>(K(),Ne("div",{ref_key:"handle",ref:I,"data-id":`${Re(S)}-${t.id}-${i.value}`,"data-handleid":t.id,"data-nodeid":Re(S),"data-handlepos":J.position,class:an(["vue-flow__handle",[`vue-flow__handle-${J.position}`,`vue-flow__handle-${t.id}`,Re(v),Re(w),i.value,{connectable:re.value,connecting:O.value,connectablestart:M.value,connectableend:y.value,connectionindicator:re.value&&(M.value&&!z.value||y.value&&z.value)}]]),onMousedown:ve,onTouchstartPassive:ve,onClick:ge},[pr(J.$slots,"default",{id:J.id})],42,tS))}}),ta=function({sourcePosition:t=Se.Bottom,targetPosition:r=Se.Top,label:o,connectable:i=!0,isValidTargetPos:l,isValidSourcePos:u,data:s}){const d=s.label||o;return[rt(Io,{type:"target",position:r,connectable:i,isValidConnection:l}),typeof d!="string"&&d?rt(d):rt("div",{innerHTML:d}),rt(Io,{type:"source",position:t,connectable:i,isValidConnection:u})]};ta.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];ta.inheritAttrs=!1;ta.compatConfig={MODE:3};const rS=ta,na=function({targetPosition:t=Se.Top,label:r,connectable:o=!0,isValidTargetPos:i,data:l}){const u=l.label||r;return[rt(Io,{type:"target",position:t,connectable:o,isValidConnection:i}),typeof u!="string"&&u?rt(u):rt("div",{innerHTML:u})]};na.props=["targetPosition","label","isValidTargetPos","connectable","data"];na.inheritAttrs=!1;na.compatConfig={MODE:3};const oS=na,ra=function({sourcePosition:t=Se.Bottom,label:r,connectable:o=!0,isValidSourcePos:i,data:l}){const u=l.label||r;return[typeof u!="string"&&u?rt(u):rt("div",{innerHTML:u}),rt(Io,{type:"source",position:t,connectable:o,isValidConnection:i})]};ra.props=["sourcePosition","label","isValidSourcePos","connectable","data"];ra.inheritAttrs=!1;ra.compatConfig={MODE:3};const iS=ra,aS=["transform"],lS=["width","height","x","y","rx","ry"],sS=["y"],uS={name:"EdgeText",compatConfig:{MODE:3}},cS=lt({...uS,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(t){const r=De({x:0,y:0,width:0,height:0}),o=De(null),i=Ce(()=>`translate(${t.x-r.value.width/2} ${t.y-r.value.height/2})`);wn(l),et([()=>t.x,()=>t.y,o,()=>t.label],l);function l(){if(!o.value)return;const u=o.value.getBBox();(u.width!==r.value.width||u.height!==r.value.height)&&(r.value=u)}return(u,s)=>(K(),Ne("g",{transform:i.value,class:"vue-flow__edge-textwrapper"},[u.labelShowBg?(K(),Ne("rect",{key:0,class:"vue-flow__edge-textbg",width:`${r.value.width+2*u.labelBgPadding[0]}px`,height:`${r.value.height+2*u.labelBgPadding[1]}px`,x:-u.labelBgPadding[0],y:-u.labelBgPadding[1],style:on(u.labelBgStyle),rx:u.labelBgBorderRadius,ry:u.labelBgBorderRadius},null,12,lS)):Ye("",!0),Fe("text",Xy(u.$attrs,{ref_key:"el",ref:o,class:"vue-flow__edge-text",y:r.value.height/2,dy:"0.3em",style:u.labelStyle}),[pr(u.$slots,"default",{},()=>[typeof u.label!="string"?(K(),Me(Yy(u.label),{key:0})):(K(),Ne(at,{key:1},[$e(we(u.label),1)],64))])],16,sS)],8,aS))}}),dS=["id","d","marker-end","marker-start"],fS=["d","stroke-width"],hS={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},oa=lt({...hS,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},style:{},labelStyle:{},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(t,{expose:r}){const o=Rd(t,["interactionWidth","labelShowBg"]),i=De(null),l=De(null),u=De(null),s=Wy();return r({pathEl:i,interactionEl:l,labelEl:u}),(d,h)=>(K(),Ne(at,null,[Fe("path",{id:d.id,ref_key:"pathEl",ref:i,d:d.path,style:on(o.style),class:an(["vue-flow__edge-path",Re(s).class]),"marker-end":d.markerEnd,"marker-start":d.markerStart},null,14,dS),d.interactionWidth?(K(),Ne("path",{key:0,ref_key:"interactionEl",ref:l,fill:"none",d:d.path,"stroke-width":d.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,fS)):Ye("",!0),d.label&&d.labelX&&d.labelY?(K(),Me(cS,{key:1,ref_key:"labelEl",ref:u,x:d.labelX,y:d.labelY,label:d.label,"label-show-bg":d.labelShowBg,"label-bg-style":d.labelBgStyle,"label-bg-padding":d.labelBgPadding,"label-bg-border-radius":d.labelBgBorderRadius,"label-style":d.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):Ye("",!0)],64))}});function Kf({sourceX:t,sourceY:r,targetX:o,targetY:i}){const l=Math.abs(o-t)/2,u=o<t?o+l:o-l,s=Math.abs(i-r)/2,d=i<r?i+s:i-s;return[u,d,l,s]}function Qf({sourceX:t,sourceY:r,targetX:o,targetY:i,sourceControlX:l,sourceControlY:u,targetControlX:s,targetControlY:d}){const h=t*.125+l*.375+s*.375+o*.125,p=r*.125+u*.375+d*.375+i*.125,v=Math.abs(h-t),w=Math.abs(p-r);return[h,p,v,w]}function Ci(t,r){return t>=0?.5*t:r*25*Math.sqrt(-t)}function Cd({pos:t,x1:r,y1:o,x2:i,y2:l,c:u}){let s,d;switch(t){case Se.Left:s=r-Ci(r-i,u),d=o;break;case Se.Right:s=r+Ci(i-r,u),d=o;break;case Se.Top:s=r,d=o-Ci(o-l,u);break;case Se.Bottom:s=r,d=o+Ci(l-o,u);break}return[s,d]}function Jf(t){const{sourceX:r,sourceY:o,sourcePosition:i=Se.Bottom,targetX:l,targetY:u,targetPosition:s=Se.Top,curvature:d=.25}=t,[h,p]=Cd({pos:i,x1:r,y1:o,x2:l,y2:u,c:d}),[v,w]=Cd({pos:s,x1:l,y1:u,x2:r,y2:o,c:d}),[S,N,D,C]=Qf({sourceX:r,sourceY:o,targetX:l,targetY:u,sourceControlX:h,sourceControlY:p,targetControlX:v,targetControlY:w});return[`M${r},${o} C${h},${p} ${v},${w} ${l},${u}`,S,N,D,C]}function Id({pos:t,x1:r,y1:o,x2:i,y2:l}){let u,s;switch(t){case Se.Left:case Se.Right:u=.5*(r+i),s=o;break;case Se.Top:case Se.Bottom:u=r,s=.5*(o+l);break}return[u,s]}function jf(t){const{sourceX:r,sourceY:o,sourcePosition:i=Se.Bottom,targetX:l,targetY:u,targetPosition:s=Se.Top}=t,[d,h]=Id({pos:i,x1:r,y1:o,x2:l,y2:u}),[p,v]=Id({pos:s,x1:l,y1:u,x2:r,y2:o}),[w,S,N,D]=Qf({sourceX:r,sourceY:o,targetX:l,targetY:u,sourceControlX:d,sourceControlY:h,targetControlX:p,targetControlY:v});return[`M${r},${o} C${d},${h} ${p},${v} ${l},${u}`,w,S,N,D]}const Md={[Se.Left]:{x:-1,y:0},[Se.Right]:{x:1,y:0},[Se.Top]:{x:0,y:-1},[Se.Bottom]:{x:0,y:1}};function gS({source:t,sourcePosition:r=Se.Bottom,target:o}){return r===Se.Left||r===Se.Right?t.x<o.x?{x:1,y:0}:{x:-1,y:0}:t.y<o.y?{x:0,y:1}:{x:0,y:-1}}function kd(t,r){return Math.sqrt((r.x-t.x)**2+(r.y-t.y)**2)}function pS({source:t,sourcePosition:r=Se.Bottom,target:o,targetPosition:i=Se.Top,center:l,offset:u}){var re,ve;const s=Md[r],d=Md[i],h={x:t.x+s.x*u,y:t.y+s.y*u},p={x:o.x+d.x*u,y:o.y+d.y*u},v=gS({source:h,sourcePosition:r,target:p}),w=v.x!==0?"x":"y",S=v[w];let N,D,C;const I={x:0,y:0},M={x:0,y:0},[y,z,O,Q]=Kf({sourceX:t.x,sourceY:t.y,targetX:o.x,targetY:o.y});if(s[w]*d[w]===-1){D=(re=l.x)!=null?re:y,C=(ve=l.y)!=null?ve:z;const ge=[{x:D,y:h.y},{x:D,y:p.y}],J=[{x:h.x,y:C},{x:p.x,y:C}];s[w]===S?N=w==="x"?ge:J:N=w==="x"?J:ge}else{const ge=[{x:h.x,y:p.y}],J=[{x:p.x,y:h.y}];if(w==="x"?N=s.x===S?J:ge:N=s.y===S?ge:J,r===i){const $=Math.abs(t[w]-o[w]);if($<=u){const R=Math.min(u-1,u-$);s[w]===S?I[w]=(h[w]>t[w]?-1:1)*R:M[w]=(p[w]>o[w]?-1:1)*R}}if(r!==i){const $=w==="x"?"y":"x",R=s[w]===d[$],Y=h[$]>p[$],te=h[$]<p[$];(s[w]===1&&(!R&&Y||R&&te)||s[w]!==1&&(!R&&te||R&&Y))&&(N=w==="x"?ge:J)}const k={x:h.x+I.x,y:h.y+I.y},be={x:p.x+M.x,y:p.y+M.y},Ae=Math.max(Math.abs(k.x-N[0].x),Math.abs(be.x-N[0].x)),T=Math.max(Math.abs(k.y-N[0].y),Math.abs(be.y-N[0].y));Ae>=T?(D=(k.x+be.x)/2,C=N[0].y):(D=N[0].x,C=(k.y+be.y)/2)}return[[t,{x:h.x+I.x,y:h.y+I.y},...N,{x:p.x+M.x,y:p.y+M.y},o],D,C,O,Q]}function vS(t,r,o,i){const l=Math.min(kd(t,r)/2,kd(r,o)/2,i),{x:u,y:s}=r;if(t.x===u&&u===o.x||t.y===s&&s===o.y)return`L${u} ${s}`;if(t.y===s){const p=t.x<o.x?-1:1,v=t.y<o.y?1:-1;return`L ${u+l*p},${s}Q ${u},${s} ${u},${s+l*v}`}const d=t.x<o.x?1:-1,h=t.y<o.y?-1:1;return`L ${u},${s+l*h}Q ${u},${s} ${u+l*d},${s}`}function Kl(t){const{sourceX:r,sourceY:o,sourcePosition:i=Se.Bottom,targetX:l,targetY:u,targetPosition:s=Se.Top,borderRadius:d=5,centerX:h,centerY:p,offset:v=20}=t,[w,S,N,D,C]=pS({source:{x:r,y:o},sourcePosition:i,target:{x:l,y:u},targetPosition:s,center:{x:h,y:p},offset:v});return[w.reduce((M,y,z)=>{let O;return z>0&&z<w.length-1?O=vS(w[z-1],y,w[z+1],d):O=`${z===0?"M":"L"}${y.x} ${y.y}`,M+=O,M},""),S,N,D,C]}function mS(t){const{sourceX:r,sourceY:o,targetX:i,targetY:l}=t,[u,s,d,h]=Kf({sourceX:r,sourceY:o,targetX:i,targetY:l});return[`M ${r},${o}L ${i},${l}`,u,s,d,h]}const _S=lt({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(t,{attrs:r}){return()=>{const[o,i,l]=mS(t);return rt(oa,{path:o,labelX:i,labelY:l,...r,...t})}}}),yS=_S,wS=lt({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(t,{attrs:r}){return()=>{var u,s;const[o,i,l]=Kl({...t,sourcePosition:(u=t.sourcePosition)!=null?u:Se.Bottom,targetPosition:(s=t.targetPosition)!=null?s:Se.Top});return rt(oa,{path:o,labelX:i,labelY:l,...r,...t})}}}),eh=wS,bS=lt({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(t,{attrs:r}){return()=>rt(eh,{...t,...r,borderRadius:0})}}),xS=bS,ES=lt({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(t,{attrs:r}){return()=>{var u,s;const[o,i,l]=Jf({...t,sourcePosition:(u=t.sourcePosition)!=null?u:Se.Bottom,targetPosition:(s=t.targetPosition)!=null?s:Se.Top});return rt(oa,{path:o,labelX:i,labelY:l,...r,...t})}}}),SS=ES,NS=lt({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(t,{attrs:r}){return()=>{var u,s;const[o,i,l]=jf({...t,sourcePosition:(u=t.sourcePosition)!=null?u:Se.Bottom,targetPosition:(s=t.targetPosition)!=null?s:Se.Top});return rt(oa,{path:o,labelX:i,labelY:l,...r,...t})}}}),CS=NS,IS={input:iS,default:rS,output:oS},MS={default:SS,straight:yS,step:xS,smoothstep:eh,simplebezier:CS};function kS(t,r,o){const i=Ce(()=>C=>r.value.get(C)),l=Ce(()=>C=>o.value.get(C)),u=Ce(()=>{const C={...MS,...t.edgeTypes},I=Object.keys(C);for(const M of t.edges)M.type&&!I.includes(M.type)&&(C[M.type]=M.type);return C}),s=Ce(()=>{const C={...IS,...t.nodeTypes},I=Object.keys(C);for(const M of t.nodes)M.type&&!I.includes(M.type)&&(C[M.type]=M.type);return C}),d=Ce(()=>t.onlyRenderVisibleElements?zf(t.nodes,{x:0,y:0,width:t.dimensions.width,height:t.dimensions.height},t.viewport,!0):t.nodes),h=Ce(()=>{if(t.onlyRenderVisibleElements){const C=[];for(const I of t.edges){const M=r.value.get(I.source),y=r.value.get(I.target);TE({sourcePos:M.computedPosition||{x:0,y:0},targetPos:y.computedPosition||{x:0,y:0},sourceWidth:M.dimensions.width,sourceHeight:M.dimensions.height,targetWidth:y.dimensions.width,targetHeight:y.dimensions.height,width:t.dimensions.width,height:t.dimensions.height,viewport:t.viewport})&&C.push(I)}return C}return t.edges}),p=Ce(()=>[...d.value,...h.value]),v=Ce(()=>{const C=[];for(const I of t.nodes)I.selected&&C.push(I);return C}),w=Ce(()=>{const C=[];for(const I of t.edges)I.selected&&C.push(I);return C}),S=Ce(()=>[...v.value,...w.value]),N=Ce(()=>{const C=[];for(const I of t.nodes)I.dimensions.width&&I.dimensions.height&&I.handleBounds!==void 0&&C.push(I);return C}),D=Ce(()=>d.value.length>0&&N.value.length===d.value.length);return{getNode:i,getEdge:l,getElements:p,getEdgeTypes:u,getNodeTypes:s,getEdges:h,getNodes:d,getSelectedElements:S,getSelectedNodes:v,getSelectedEdges:w,getNodesInitialized:N,areNodesInitialized:D}}class ur{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var l;var r;const o=(r=Mo())==null?void 0:r.appContext.app,i=(l=o==null?void 0:o.config.globalProperties.$vueFlowStorage)!=null?l:ur.instance;return ur.instance=i!=null?i:new ur,o&&(o.config.globalProperties.$vueFlowStorage=ur.instance),ur.instance}set(r,o){return this.flows.set(r,o)}get(r){return this.flows.get(r)}remove(r){return this.flows.delete(r)}create(r,o){const i=Zf(),l=Fy(i),u={};for(const[S,N]of Object.entries(l.hooks)){const D=`on${S.charAt(0).toUpperCase()+S.slice(1)}`;u[D]=N.on}const s={};for(const[S,N]of Object.entries(l.hooks))s[S]=N.trigger;const d=Ce(()=>{const S=new Map;for(const N of l.nodes)S.set(N.id,N);return S}),h=Ce(()=>{const S=new Map;for(const N of l.edges)S.set(N.id,N);return S}),p=kS(l,d,h),v=eS(l,d,h);v.setState({...l,...o});const w={...u,...p,...v,...O1(l),nodeLookup:d,edgeLookup:h,emits:s,id:r,vueFlowVersion:"1.41.1",$destroy:()=>{this.remove(r)}};return this.set(r,w),w}getId(){return`vue-flow-${this.currentId++}`}}function dt(t){const r=ur.getInstance(),o=Bd(),i=typeof t=="object",l=i?t:{id:t},u=l.id,s=u!=null?u:o==null?void 0:o.vueFlowId;let d;if(o){const h=qr(Nd,null);typeof h!="undefined"&&h!==null&&(!s||h.id===s)&&(d=h)}if(d||s&&(d=r.get(s)),!d||s&&d.id!==s){const h=u!=null?u:r.getId(),p=r.create(h,l);d=p,(o!=null?o:Pd(!0)).run(()=>{et(p.applyDefault,(w,S,N)=>{const D=I=>{p.applyNodeChanges(I)},C=I=>{p.applyEdgeChanges(I)};w?(p.onNodesChange(D),p.onEdgesChange(C)):(p.hooks.value.nodesChange.off(D),p.hooks.value.edgesChange.off(C)),N(()=>{p.hooks.value.nodesChange.off(D),p.hooks.value.edgesChange.off(C)})},{immediate:!0}),Yi(()=>{if(d){const w=r.get(d.id);w?w.$destroy():ji(`No store instance found for id ${d.id} in storage.`)}})})}else i&&d.setState(l);if(o&&($r(Nd,d),o.vueFlowId=d.id),i){const h=Mo();(h==null?void 0:h.type.name)!=="VueFlow"&&d.emits.error(new xt(_t.USEVUEFLOW_OPTIONS))}return d}function AS(t){const{emits:r,dimensions:o}=dt();let i;wn(()=>{const l=t.value,u=()=>{if(!l)return;const s=Ji(l);(s.width===0||s.height===0)&&r.error(new xt(_t.MISSING_VIEWPORT_DIMENSIONS)),o.value={width:s.width||500,height:s.height||500}};u(),window.addEventListener("resize",u),l&&(i=new ResizeObserver(()=>u()),i.observe(l)),zd(()=>{window.removeEventListener("resize",u),i&&l&&i.unobserve(l)})})}const TS={name:"UserSelection",compatConfig:{MODE:3}},PS=lt({...TS,props:{userSelectionRect:{}},setup(t){return(r,o)=>(K(),Ne("div",{class:"vue-flow__selection vue-flow__container",style:on({width:`${r.userSelectionRect.width}px`,height:`${r.userSelectionRect.height}px`,transform:`translate(${r.userSelectionRect.x}px, ${r.userSelectionRect.y}px)`})},null,4))}}),OS=["tabIndex"],DS={name:"NodesSelection",compatConfig:{MODE:3}},RS=lt({...DS,setup(t){const{emits:r,viewport:o,getSelectedNodes:i,noPanClassName:l,disableKeyboardA11y:u,userSelectionActive:s}=dt(),d=Xf(),h=De(null),p=qf({el:h,onStart(D){r.selectionDragStart(D)},onDrag(D){r.selectionDrag(D)},onStop(D){r.selectionDragStop(D)}});wn(()=>{var D;u.value||(D=h.value)==null||D.focus({preventScroll:!0})});const v=Ce(()=>Rf(i.value)),w=Ce(()=>({width:`${v.value.width}px`,height:`${v.value.height}px`,top:`${v.value.y}px`,left:`${v.value.x}px`}));function S(D){r.selectionContextMenu({event:D,nodes:i.value})}function N(D){u||Fr[D.key]&&d({x:Fr[D.key].x,y:Fr[D.key].y},D.shiftKey)}return(D,C)=>!Re(s)&&v.value.width&&v.value.height?(K(),Ne("div",{key:0,class:an(["vue-flow__nodesselection vue-flow__container",Re(l)]),style:on({transform:`translate(${Re(o).x}px,${Re(o).y}px) scale(${Re(o).zoom})`})},[Fe("div",{ref_key:"el",ref:h,class:an([{dragging:Re(p)},"vue-flow__nodesselection-rect"]),style:on(w.value),tabIndex:Re(u)?void 0:-1,onContextmenu:S,onKeydown:N},null,46,OS)],6)):Ye("",!0)}});function zS(t,r){return{x:t.clientX-r.left,y:t.clientY-r.top}}const BS={name:"Pane",compatConfig:{MODE:3}},LS=lt({...BS,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(t){const{vueFlowRef:r,nodes:o,viewport:i,emits:l,userSelectionActive:u,removeSelectedElements:s,panOnDrag:d,userSelectionRect:h,elementsSelectable:p,nodesSelectionActive:v,getSelectedEdges:w,getSelectedNodes:S,removeNodes:N,removeEdges:D,selectionMode:C,deleteKeyCode:I,multiSelectionKeyCode:M,multiSelectionActive:y,edgeLookup:z,nodeLookup:O}=dt(),Q=De(null),ce=De(0),re=De(0),ve=De(),ge=De(new Map),J=gt(()=>p.value&&(t.isSelecting||u.value));let k=!1,be=!1;const Ae=yo(I,{actInsideInputWithModifier:!1}),T=yo(M);et(Ae,fe=>{fe&&(N(S.value),D(w.value),v.value=!1)}),et(T,fe=>{y.value=fe});function $(fe,ue){return me=>{me.target===ue&&(fe==null||fe(me))}}function R(){u.value=!1,h.value=null,ce.value=0,re.value=0}function Y(fe){if(k){k=!1;return}l.paneClick(fe),s(),v.value=!1}function te(fe){var ue;if(Array.isArray(d.value)&&((ue=d.value)!=null&&ue.includes(2))){fe.preventDefault();return}l.paneContextMenu(fe)}function ie(fe){l.paneScroll(fe)}function de(fe){var ue,me,ze,Be,oe;if(ve.value=(ue=r.value)==null?void 0:ue.getBoundingClientRect(),!p.value||!t.isSelecting||fe.button!==0||fe.target!==Q.value||!ve.value)return;(ze=(me=fe.target)==null?void 0:me.setPointerCapture)==null||ze.call(me,fe.pointerId);const{x:j,y:se}=zS(fe,ve.value);be=!0,k=!1,ge.value=new Map;for(const[B,Z]of z.value)ge.value.set(Z.source,((Be=ge.value.get(Z.source))==null?void 0:Be.add(B))||new Set([B])),ge.value.set(Z.target,((oe=ge.value.get(Z.target))==null?void 0:oe.add(B))||new Set([B]));s(),h.value={width:0,height:0,startX:j,startY:se,x:j,y:se},l.selectionStart(fe)}function le(fe){if(!ve.value||!h.value)return;k=!0;const{x:ue,y:me}=Qn(fe,ve.value),{startX:ze=0,startY:Be=0}=h.value,oe={startX:ze,startY:Be,x:ue<ze?ue:ze,y:me<Be?me:Be,width:Math.abs(ue-ze),height:Math.abs(me-Be)},j=zf(o.value,oe,i.value,C.value===ls.Partial,!0),se=new Set,B=new Set;for(const Z of j){B.add(Z.id);const U=ge.value.get(Z.id);if(U)for(const m of U)se.add(m)}if(ce.value!==B.size){ce.value=B.size;const Z=Kn(O.value,B,!0);l.nodesChange(Z)}if(re.value!==se.size){re.value=se.size;const Z=Kn(z.value,se);l.edgesChange(Z)}h.value=oe,u.value=!0,v.value=!1}function Ie(fe){var ue;fe.button!==0||!be||((ue=fe.target)==null||ue.releasePointerCapture(fe.pointerId),!u.value&&h.value&&fe.target===Q.value&&Y(fe),ce.value>0&&(v.value=!0),R(),l.selectionEnd(fe),t.selectionKeyPressed&&(k=!1),be=!1)}return(fe,ue)=>(K(),Ne("div",{ref_key:"container",ref:Q,class:an(["vue-flow__pane vue-flow__container",{selection:fe.isSelecting}]),onClick:ue[0]||(ue[0]=me=>J.value?void 0:$(Y,Q.value)(me)),onContextmenu:ue[1]||(ue[1]=me=>$(te,Q.value)(me)),onWheelPassive:ue[2]||(ue[2]=me=>$(ie,Q.value)(me)),onPointerenter:ue[3]||(ue[3]=me=>J.value?void 0:Re(l).paneMouseEnter(me)),onPointerdown:ue[4]||(ue[4]=me=>J.value?de(me):Re(l).paneMouseMove(me)),onPointermove:ue[5]||(ue[5]=me=>J.value?le(me):Re(l).paneMouseMove(me)),onPointerup:ue[6]||(ue[6]=me=>J.value?Ie(me):void 0),onPointerleave:ue[7]||(ue[7]=me=>Re(l).paneMouseLeave(me))},[pr(fe.$slots,"default"),Re(u)&&Re(h)?(K(),Me(PS,{key:0,"user-selection-rect":Re(h)},null,8,["user-selection-rect"])):Ye("",!0),Re(v)&&Re(S).length?(K(),Me(RS,{key:1})):Ye("",!0)],34))}}),HS={name:"Transform",compatConfig:{MODE:3}},FS=lt({...HS,setup(t){const{viewport:r,fitViewOnInit:o,fitViewOnInitDone:i}=dt(),l=Ce(()=>o.value?!i.value:!1),u=Ce(()=>`translate(${r.value.x}px,${r.value.y}px) scale(${r.value.zoom})`);return(s,d)=>(K(),Ne("div",{class:"vue-flow__transformationpane vue-flow__container",style:on({transform:u.value,opacity:l.value?0:void 0})},[pr(s.$slots,"default")],4))}}),$S={name:"Viewport",compatConfig:{MODE:3}},GS=lt({...$S,setup(t){const{minZoom:r,maxZoom:o,defaultViewport:i,translateExtent:l,zoomActivationKeyCode:u,selectionKeyCode:s,panActivationKeyCode:d,panOnScroll:h,panOnScrollMode:p,panOnScrollSpeed:v,panOnDrag:w,zoomOnDoubleClick:S,zoomOnPinch:N,zoomOnScroll:D,preventScrolling:C,noWheelClassName:I,noPanClassName:M,emits:y,connectionStartHandle:z,userSelectionActive:O,paneDragging:Q,d3Zoom:ce,d3Selection:re,d3ZoomHandler:ve,viewport:ge,viewportRef:J,paneClickDistance:k}=dt();AS(J);const be=De(!1),Ae=De(!1);let T=null,$=!1,R=0,Y={x:0,y:0,zoom:0};const te=yo(d),ie=yo(s),de=yo(u),le=gt(()=>!ie.value&&(te.value||w.value)),Ie=gt(()=>te.value||h.value),fe=gt(()=>ie.value||s.value===!0&&le.value!==!0);wn(()=>{var G,ae,Ee;if(!J.value){ji("Viewport element is missing");return}const j=J.value,se=j.getBoundingClientRect(),B=gE().clickDistance(k.value).scaleExtent([r.value,o.value]).translateExtent(l.value),Z=dn(j).call(B),U=Z.on("wheel.zoom"),m=Ur.translate((G=i.value.x)!=null?G:0,(ae=i.value.y)!=null?ae:0).scale(_r((Ee=i.value.zoom)!=null?Ee:1,r.value,o.value)),x=[[0,0],[se.width,se.height]],L=B.constrain()(m,x,l.value);B.transform(Z,L),B.wheelDelta(me),ce.value=B,re.value=Z,ve.value=U,ge.value={x:L.x,y:L.y,zoom:L.k},B.on("start",F=>{var _e;if(!F.sourceEvent)return null;R=F.sourceEvent.button,be.value=!0;const Te=Be(F.transform);((_e=F.sourceEvent)==null?void 0:_e.type)==="mousedown"&&(Q.value=!0),Y=Te,y.viewportChangeStart(Te),y.moveStart({event:F,flowTransform:Te})}),B.on("end",F=>{if(!F.sourceEvent)return null;if(be.value=!1,Q.value=!1,ue(le.value,R!=null?R:0)&&!$&&y.paneContextMenu(F.sourceEvent),$=!1,ze(Y,F.transform)){const _e=Be(F.transform);Y=_e,y.viewportChangeEnd(_e),y.moveEnd({event:F,flowTransform:_e})}}),B.filter(F=>{var _e,Te,qe;const Ge=de.value||D.value,Ke=N.value&&F.ctrlKey,Gt=F.button;if((le.value===!0||Array.isArray(le.value)&&le.value.includes(1))&&Gt===1&&F.type==="mousedown"&&((_e=F.target)!=null&&_e.closest(".vue-flow__node")||(Te=F.target)!=null&&Te.closest(".vue-flow__edge")))return!0;if(!le.value&&!Ge&&!Ie.value&&!S.value&&!N.value||O.value||!S.value&&F.type==="dblclick"||oe(F,I.value)&&F.type==="wheel"||oe(F,M.value)&&(F.type!=="wheel"||Ie.value&&F.type==="wheel"&&!de.value)||!N.value&&F.ctrlKey&&F.type==="wheel"||!Ge&&!Ie.value&&!Ke&&F.type==="wheel")return!1;if(!N&&F.type==="touchstart"&&((qe=F.touches)==null?void 0:qe.length)>1)return F.preventDefault(),!1;if(!le.value&&(F.type==="mousedown"||F.type==="touchstart")||Array.isArray(le.value)&&!le.value.includes(Gt)&&(F.type==="mousedown"||F.type==="touchstart"))return!1;const Rt=Array.isArray(le.value)&&le.value.includes(Gt)||!Gt||Gt<=1;return(!F.ctrlKey||F.type==="wheel")&&Rt}),et([O,le],()=>{O.value&&!be.value?B.on("zoom",null):O.value||B.on("zoom",F=>{ge.value={x:F.transform.x,y:F.transform.y,zoom:F.transform.k};const _e=Be(F.transform);$=ue(le.value,R!=null?R:0),y.viewportChange(_e),y.move({event:F,flowTransform:_e})})},{immediate:!0}),et([O,Ie,p,de,N,C,I],()=>{Ie.value&&!de.value&&!O.value?Z.on("wheel.zoom",F=>{if(oe(F,I.value))return!1;const _e=de.value||D.value,Te=N.value&&F.ctrlKey;if(!(!C.value||Ie.value||_e||Te))return!1;F.preventDefault(),F.stopImmediatePropagation();const Ge=Z.property("__zoom").k||1,Ke=Ui();if(F.ctrlKey&&N.value&&Ke){const Wr=_n(F),Yr=me(F),Xr=Ge*2**Yr;B.scaleTo(Z,Xr,Wr,F);return}const Gt=F.deltaMode===1?20:1;let Rt=p.value===_o.Vertical?0:F.deltaX*Gt,Tt=p.value===_o.Horizontal?0:F.deltaY*Gt;!Ke&&F.shiftKey&&p.value!==_o.Vertical&&!Rt&&Tt&&(Rt=Tt,Tt=0),B.translateBy(Z,-(Rt/Ge)*v.value,-(Tt/Ge)*v.value);const gn=Be(Z.property("__zoom"));T&&clearTimeout(T),Ae.value?(y.move({event:F,flowTransform:gn}),y.viewportChange(gn),T=setTimeout(()=>{y.moveEnd({event:F,flowTransform:gn}),y.viewportChangeEnd(gn),Ae.value=!1},150)):(Ae.value=!0,y.moveStart({event:F,flowTransform:gn}),y.viewportChangeStart(gn))},{passive:!1}):typeof U!="undefined"&&Z.on("wheel.zoom",function(F,_e){const Te=!C.value&&F.type==="wheel"&&!F.ctrlKey,qe=de.value||D.value,Ge=N.value&&F.ctrlKey;if(!qe&&!h.value&&!Ge&&F.type==="wheel"||Te||oe(F,I.value))return null;F.preventDefault(),U.call(this,F,_e)},{passive:!1})},{immediate:!0})});function ue(j,se){return se===2&&Array.isArray(j)&&j.includes(2)}function me(j){const se=j.ctrlKey&&Ui()?10:1;return-j.deltaY*(j.deltaMode===1?.05:j.deltaMode?1:.002)*se}function ze(j,se){return j.x!==se.x&&!Number.isNaN(se.x)||j.y!==se.y&&!Number.isNaN(se.y)||j.zoom!==se.k&&!Number.isNaN(se.k)}function Be(j){return{x:j.x,y:j.y,zoom:j.k}}function oe(j,se){return j.target.closest(`.${se}`)}return(j,se)=>(K(),Ne("div",{ref_key:"viewportRef",ref:J,class:"vue-flow__viewport vue-flow__container"},[ne(LS,{"is-selecting":fe.value,"selection-key-pressed":Re(ie),class:an({connecting:!!Re(z),dragging:Re(Q),draggable:Re(w)===!0||Array.isArray(Re(w))&&Re(w).includes(0)})},{default:X(()=>[ne(FS,null,{default:X(()=>[pr(j.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),VS=["id"],US=["id"],qS=["id"],WS={name:"A11yDescriptions",compatConfig:{MODE:3}},YS=lt({...WS,setup(t){const{id:r,disableKeyboardA11y:o,ariaLiveMessage:i}=dt();return(l,u)=>(K(),Ne(at,null,[Fe("div",{id:`${Re(Cf)}-${Re(r)}`,style:{display:"none"}}," Press enter or space to select a node. "+we(Re(o)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,VS),Fe("div",{id:`${Re(If)}-${Re(r)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,US),Re(o)?Ye("",!0):(K(),Ne("div",{key:0,id:`${Re(_E)}-${Re(r)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},we(Re(i)),9,qS))],64))}});function XS(){const t=dt();et(()=>t.viewportHelper.value.viewportInitialized,r=>{r&&setTimeout(()=>{t.emits.init(t),t.emits.paneReady(t)},1)})}function ZS(t,r,o){return o===Se.Left?t-r:o===Se.Right?t+r:t}function KS(t,r,o){return o===Se.Top?t-r:o===Se.Bottom?t+r:t}const ds=function({radius:t=10,centerX:r=0,centerY:o=0,position:i=Se.Top,type:l}){return rt("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${l}`,cx:ZS(r,t,i),cy:KS(o,t,i),r:t,stroke:"transparent",fill:"transparent"})};ds.props=["radius","centerX","centerY","position","type"];ds.compatConfig={MODE:3};const Ad=ds,QS=lt({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(t){const{id:r,addSelectedEdges:o,connectionMode:i,edgeUpdaterRadius:l,emits:u,nodesSelectionActive:s,noPanClassName:d,getEdgeTypes:h,removeSelectedEdges:p,findEdge:v,findNode:w,isValidConnection:S,multiSelectionActive:N,disableKeyboardA11y:D,elementsSelectable:C,edgesUpdatable:I,edgesFocusable:M}=dt(),y=Ce(()=>v(t.id)),z=VE(y.value,u),O=qr(ea),Q=Mo(),ce=De(!1),re=De(!1),ve=De(""),ge=De(null),J=De("source"),k=De(null),be=gt(()=>typeof y.value.selectable=="undefined"?C.value:y.value.selectable),Ae=gt(()=>typeof y.value.updatable=="undefined"?I.value:y.value.updatable),T=gt(()=>typeof y.value.focusable=="undefined"?M.value:y.value.focusable);$r(FE,t.id),$r($E,k);const $=Ce(()=>y.value.class instanceof Function?y.value.class(y.value):y.value.class),R=Ce(()=>y.value.style instanceof Function?y.value.style(y.value):y.value.style),Y=Ce(()=>{var L;const U=y.value.type||"default",m=O==null?void 0:O[`edge-${U}`];if(m)return m;let x=(L=y.value.template)!=null?L:h.value[U];if(typeof x=="string"&&Q){const G=Object.keys(Q.appContext.components);G&&G.includes(U)&&(x=Ld(U,!1))}return x&&typeof x!="string"?x:(u.error(new xt(_t.EDGE_TYPE_MISSING,x)),!1)}),{handlePointerDown:te}=Wf({nodeId:ve,handleId:ge,type:J,isValidConnection:S,edgeUpdaterType:J,onEdgeUpdate:le,onEdgeUpdateEnd:Ie});return()=>{const U=w(y.value.source),m=w(y.value.target),x="pathOptions"in y.value?y.value.pathOptions:{};if(!U&&!m)return u.error(new xt(_t.EDGE_SOURCE_TARGET_MISSING,y.value.id,y.value.source,y.value.target)),null;if(!U)return u.error(new xt(_t.EDGE_SOURCE_MISSING,y.value.id,y.value.source)),null;if(!m)return u.error(new xt(_t.EDGE_TARGET_MISSING,y.value.id,y.value.target)),null;if(!y.value||y.value.hidden||U.hidden||m.hidden)return null;let L;i.value===mr.Strict?L=U.handleBounds.source:L=[...U.handleBounds.source||[],...U.handleBounds.target||[]];const G=md(L,y.value.sourceHandle);let ae;i.value===mr.Strict?ae=m.handleBounds.target:ae=[...m.handleBounds.target||[],...m.handleBounds.source||[]];const Ee=md(ae,y.value.targetHandle),F=(G==null?void 0:G.position)||Se.Bottom,_e=(Ee==null?void 0:Ee.position)||Se.Top,{x:Te,y:qe}=Vi(U,G,F),{x:Ge,y:Ke}=Vi(m,Ee,_e);return y.value.sourceX=Te,y.value.sourceY=qe,y.value.targetX=Ge,y.value.targetY=Ke,rt("g",{ref:k,key:t.id,"data-id":t.id,class:["vue-flow__edge",`vue-flow__edge-${Y.value===!1?"default":y.value.type||"default"}`,d.value,$.value,{updating:ce.value,selected:y.value.selected,animated:y.value.animated,inactive:!be.value}],onClick:ue,onContextmenu:me,onDblclick:ze,onMouseenter:Be,onMousemove:oe,onMouseleave:j,onKeyDown:T.value?Z:void 0,tabIndex:T.value?0:void 0,"aria-label":y.value.ariaLabel===null?void 0:y.value.ariaLabel||`Edge from ${y.value.source} to ${y.value.target}`,"aria-describedby":T.value?`${If}-${r}`:void 0,role:T.value?"button":"img"},[re.value?null:rt(Y.value===!1?h.value.default:Y.value,{id:t.id,sourceNode:U,targetNode:m,source:y.value.source,target:y.value.target,type:y.value.type,updatable:Ae.value,selected:y.value.selected,animated:y.value.animated,label:y.value.label,labelStyle:y.value.labelStyle,labelShowBg:y.value.labelShowBg,labelBgStyle:y.value.labelBgStyle,labelBgPadding:y.value.labelBgPadding,labelBgBorderRadius:y.value.labelBgBorderRadius,data:y.value.data,events:{...y.value.events,...z.on},style:R.value,markerStart:`url('#${Co(y.value.markerStart,r)}')`,markerEnd:`url('#${Co(y.value.markerEnd,r)}')`,sourcePosition:F,targetPosition:_e,sourceX:Te,sourceY:qe,targetX:Ge,targetY:Ke,sourceHandleId:y.value.sourceHandle,targetHandleId:y.value.targetHandle,interactionWidth:y.value.interactionWidth,...x}),[Ae.value==="source"||Ae.value===!0?[rt("g",{onMousedown:se,onMouseenter:ie,onMouseout:de},rt(Ad,{position:F,centerX:Te,centerY:qe,radius:l.value,type:"source","data-type":"source"}))]:null,Ae.value==="target"||Ae.value===!0?[rt("g",{onMousedown:B,onMouseenter:ie,onMouseout:de},rt(Ad,{position:_e,centerX:Ge,centerY:Ke,radius:l.value,type:"target","data-type":"target"}))]:null]])};function ie(){ce.value=!0}function de(){ce.value=!1}function le(U,m){z.emit.update({event:U,edge:y.value,connection:m})}function Ie(U){z.emit.updateEnd({event:U,edge:y.value}),re.value=!1}function fe(U,m){var x;U.button===0&&(re.value=!0,ve.value=m?y.value.target:y.value.source,ge.value=(x=m?y.value.targetHandle:y.value.sourceHandle)!=null?x:"",J.value=m?"target":"source",z.emit.updateStart({event:U,edge:y.value}),te(U))}function ue(U){var m;const x={event:U,edge:y.value};be.value&&(s.value=!1,y.value.selected&&N.value?(p([y.value]),(m=k.value)==null||m.blur()):o([y.value])),z.emit.click(x)}function me(U){z.emit.contextMenu({event:U,edge:y.value})}function ze(U){z.emit.doubleClick({event:U,edge:y.value})}function Be(U){z.emit.mouseEnter({event:U,edge:y.value})}function oe(U){z.emit.mouseMove({event:U,edge:y.value})}function j(U){z.emit.mouseLeave({event:U,edge:y.value})}function se(U){fe(U,!0)}function B(U){fe(U,!1)}function Z(U){var m;!D.value&&Mf.includes(U.key)&&be.value&&(U.key==="Escape"?((m=k.value)==null||m.blur(),p([v(t.id)])):o([v(t.id)]))}}}),JS=QS,jS={[Se.Left]:Se.Right,[Se.Right]:Se.Left,[Se.Top]:Se.Bottom,[Se.Bottom]:Se.Top},e2=lt({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var t;const{id:r,connectionMode:o,connectionStartHandle:i,connectionEndHandle:l,connectionPosition:u,connectionLineType:s,connectionLineStyle:d,connectionLineOptions:h,connectionStatus:p,viewport:v,findNode:w}=dt(),S=(t=qr(ea))==null?void 0:t["connection-line"],N=Ce(()=>{var y;return w((y=i.value)==null?void 0:y.nodeId)}),D=Ce(()=>{var z;var y;return(z=w((y=l.value)==null?void 0:y.nodeId))!=null?z:null}),C=Ce(()=>({x:(u.value.x-v.value.x)/v.value.zoom,y:(u.value.y-v.value.y)/v.value.zoom})),I=Ce(()=>h.value.markerStart?`url(#${Co(h.value.markerStart,r)})`:""),M=Ce(()=>h.value.markerEnd?`url(#${Co(h.value.markerEnd,r)})`:"");return()=>{var ie,de,le,Ie;var y,z,O,Q;if(!N.value||!i.value)return null;const ce=i.value.handleId,re=i.value.type,ve=N.value.handleBounds;let ge=ve==null?void 0:ve[re];if(o.value===mr.Loose&&(ge=ge||(ve==null?void 0:ve[re==="source"?"target":"source"])),!ge)return null;const J=(ie=ce?ge.find(fe=>fe.id===ce):ge[0])!=null?ie:null,k=(J==null?void 0:J.position)||Se.Top,{x:be,y:Ae}=Vi(N.value,J,k);let T=null;D.value&&((y=l.value)!=null&&y.handleId)&&(o.value===mr.Strict?T=((z=D.value.handleBounds[re==="source"?"target":"source"])==null?void 0:z.find(fe=>{var ue;return fe.id===((ue=l.value)==null?void 0:ue.handleId)}))||null:T=((O=[...D.value.handleBounds.source||[],...D.value.handleBounds.target||[]])==null?void 0:O.find(fe=>{var ue;return fe.id===((ue=l.value)==null?void 0:ue.handleId)}))||null);const $=(de=(Q=l.value)==null?void 0:Q.position)!=null?de:k?jS[k]:null;if(!k||!$)return null;const R=(Ie=(le=s.value)!=null?le:h.value.type)!=null?Ie:sr.Bezier;let Y="";const te={sourceX:be,sourceY:Ae,sourcePosition:k,targetX:C.value.x,targetY:C.value.y,targetPosition:$};return R===sr.Bezier?[Y]=Jf(te):R===sr.Step?[Y]=Kl({...te,borderRadius:0}):R===sr.SmoothStep?[Y]=Kl(te):R===sr.SimpleBezier?[Y]=jf(te):Y=`M${be},${Ae} ${C.value.x},${C.value.y}`,rt("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},rt("g",{class:"vue-flow__connection"},S?rt(S,{sourceX:be,sourceY:Ae,sourcePosition:k,targetX:C.value.x,targetY:C.value.y,targetPosition:$,sourceNode:N.value,sourceHandle:J,targetNode:D.value,targetHandle:T,markerEnd:M.value,markerStart:I.value,connectionStatus:p.value}):rt("path",{d:Y,class:[h.value.class,p,"vue-flow__connection-path"],style:{...d.value,...h.value.style},"marker-end":M.value,"marker-start":I.value})))}}}),t2=e2,n2=["id","markerWidth","markerHeight","markerUnits","orient"],r2={name:"MarkerType",compatConfig:{MODE:3}},o2=lt({...r2,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(t){return(r,o)=>(K(),Ne("marker",{id:r.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${r.width}`,markerHeight:`${r.height}`,markerUnits:r.markerUnits,orient:r.orient},[r.type===Re(ql).ArrowClosed?(K(),Ne("polyline",{key:0,style:on({stroke:r.color,fill:r.color,strokeWidth:r.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):Ye("",!0),r.type===Re(ql).Arrow?(K(),Ne("polyline",{key:1,style:on({stroke:r.color,strokeWidth:r.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):Ye("",!0)],8,n2))}}),i2={class:"vue-flow__marker vue-flow__container"},a2={name:"MarkerDefinitions",compatConfig:{MODE:3}},l2=lt({...a2,setup(t){const{id:r,edges:o,connectionLineOptions:i,defaultMarkerColor:l}=dt(),u=Ce(()=>{const s=new Set,d=[],h=p=>{if(p){const v=Co(p,r);s.has(v)||(typeof p=="object"?d.push({...p,id:v,color:p.color||l.value}):d.push({id:v,color:l.value,type:p}),s.add(v))}};for(const p of[i.value.markerEnd,i.value.markerStart])h(p);for(const p of o.value)for(const v of[p.markerStart,p.markerEnd])h(v);return d.sort((p,v)=>p.id.localeCompare(v.id))});return(s,d)=>(K(),Ne("svg",i2,[Fe("defs",null,[(K(!0),Ne(at,null,Ct(u.value,h=>(K(),Me(o2,{id:h.id,key:h.id,type:h.type,color:h.color,width:h.width,height:h.height,markerUnits:h.markerUnits,"stroke-width":h.strokeWidth,orient:h.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),s2={name:"Edges",compatConfig:{MODE:3}},u2=lt({...s2,setup(t){const{findNode:r,getEdges:o,elevateEdgesOnSelect:i}=dt();return(l,u)=>(K(),Ne(at,null,[ne(l2),(K(!0),Ne(at,null,Ct(Re(o),s=>(K(),Ne("svg",{key:s.id,class:"vue-flow__edges vue-flow__container",style:on({zIndex:Re(PE)(s,Re(r),Re(i))})},[ne(Re(JS),{id:s.id},null,8,["id"])],4))),128)),ne(Re(t2))],64))}}),c2=lt({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(t){const{id:r,noPanClassName:o,selectNodesOnDrag:i,nodesSelectionActive:l,multiSelectionActive:u,emits:s,removeSelectedNodes:d,addSelectedNodes:h,updateNodeDimensions:p,onUpdateNodeInternals:v,getNodeTypes:w,nodeExtent:S,elevateNodesOnSelect:N,disableKeyboardA11y:D,ariaLiveMessage:C,snapToGrid:I,snapGrid:M,nodeDragThreshold:y,nodesDraggable:z,elementsSelectable:O,nodesConnectable:Q,nodesFocusable:ce}=dt(),re=De(null);$r(Uf,re),$r(Vf,t.id);const ve=qr(ea),ge=Mo(),J=Xf(),{node:k,parentNode:be}=Yf(t.id),Ae=gt(()=>typeof k.draggable=="undefined"?z.value:k.draggable),T=gt(()=>typeof k.selectable=="undefined"?O.value:k.selectable),$=gt(()=>typeof k.connectable=="undefined"?Q.value:k.connectable),R=gt(()=>typeof k.focusable=="undefined"?ce.value:k.focusable),Y=gt(()=>!!k.dimensions.width&&!!k.dimensions.height),te=Ce(()=>{const m=k.type||"default",x=ve==null?void 0:ve[`node-${m}`];if(x)return x;let L=k.template||w.value[m];if(typeof L=="string"&&ge){const G=Object.keys(ge.appContext.components);G&&G.includes(m)&&(L=Ld(m,!1))}return L&&typeof L!="string"?L:(s.error(new xt(_t.NODE_TYPE_MISSING,L)),!1)}),{emit:ie,on:de}=YE(k,s),le=qf({id:t.id,el:re,disabled:()=>!Ae.value,selectable:T,dragHandle:()=>k.dragHandle,onStart(m){ie.dragStart(m)},onDrag(m){ie.drag(m)},onStop(m){ie.dragStop(m)},onClick(m){Z(m)}}),Ie=Ce(()=>k.class instanceof Function?k.class(k):k.class),fe=Ce(()=>{const m=(k.style instanceof Function?k.style(k):k.style)||{},x=k.width instanceof Function?k.width(k):k.width,L=k.height instanceof Function?k.height(k):k.height;return!m.width&&x&&(m.width=typeof x=="string"?x:`${x}px`),!m.height&&L&&(m.height=typeof L=="string"?L:`${L}px`),m}),ue=gt(()=>{var m,x;return Number((x=(m=k.zIndex)!=null?m:fe.value.zIndex)!=null?x:0)});return v(m=>{(m.includes(t.id)||!m.length)&&ze()}),wn(()=>{et(()=>k.hidden,(m=!1,x,L)=>{!m&&re.value&&(t.resizeObserver.observe(re.value),L(()=>{re.value&&t.resizeObserver.unobserve(re.value)}))},{immediate:!0,flush:"post"})}),et([()=>k.type,()=>k.sourcePosition,()=>k.targetPosition],()=>{Ft(()=>{p([{id:t.id,nodeElement:re.value,forceUpdate:!0}])})}),et([()=>k.position.x,()=>k.position.y,()=>{var m;return(m=be.value)==null?void 0:m.computedPosition.x},()=>{var m;return(m=be.value)==null?void 0:m.computedPosition.y},()=>{var m;return(m=be.value)==null?void 0:m.computedPosition.z},ue,()=>k.selected,()=>k.dimensions.height,()=>k.dimensions.width,()=>{var m;return(m=be.value)==null?void 0:m.dimensions.height},()=>{var m;return(m=be.value)==null?void 0:m.dimensions.width}],([m,x,L,G,ae,Ee])=>{const F={x:m,y:x,z:Ee+(N.value&&k.selected?1e3:0)};typeof L!="undefined"&&typeof G!="undefined"?k.computedPosition=CE({x:L,y:G,z:ae},F):k.computedPosition=F},{flush:"post",immediate:!0}),et([()=>k.extent,S],([m,x],[L,G])=>{(m!==L||x!==G)&&me()}),k.extent==="parent"||typeof k.extent=="object"&&"range"in k.extent&&k.extent.range==="parent"?zl(()=>Y).toBe(!0).then(me):me(),()=>{var m,x;return k.hidden?null:rt("div",{ref:re,"data-id":k.id,class:["vue-flow__node",`vue-flow__node-${te.value===!1?"default":k.type||"default"}`,{[o.value]:Ae.value,dragging:le==null?void 0:le.value,draggable:Ae.value,selected:k.selected,selectable:T.value,parent:k.isParent},Ie.value],style:{visibility:Y.value?"visible":"hidden",zIndex:(m=k.computedPosition.z)!=null?m:ue.value,transform:`translate(${k.computedPosition.x}px,${k.computedPosition.y}px)`,pointerEvents:T.value||Ae.value?"all":"none",...fe.value},tabIndex:R.value?0:void 0,role:R.value?"button":void 0,"aria-describedby":D.value?void 0:`${Cf}-${r}`,"aria-label":k.ariaLabel,onMouseenter:Be,onMousemove:oe,onMouseleave:j,onContextmenu:se,onClick:Z,onDblclick:B,onKeydown:U},[rt(te.value===!1?w.value.default:te.value,{id:k.id,type:k.type,data:k.data,events:{...k.events,...de},selected:k.selected,resizing:k.resizing,dragging:le.value,connectable:$.value,position:k.computedPosition,dimensions:k.dimensions,isValidTargetPos:k.isValidTargetPos,isValidSourcePos:k.isValidSourcePos,parent:k.parentNode,parentNodeId:k.parentNode,zIndex:(x=k.computedPosition.z)!=null?x:ue.value,targetPosition:k.targetPosition,sourcePosition:k.sourcePosition,label:k.label,dragHandle:k.dragHandle,onUpdateNodeInternals:ze})])};function me(){const m=k.computedPosition;I.value&&(m.x=M.value[0]*Math.round(m.x/M.value[0]),m.y=M.value[1]*Math.round(m.y/M.value[1]));const{computedPosition:x,position:L}=ss(k,m,s.error,S.value,be.value);(k.computedPosition.x!==x.x||k.computedPosition.y!==x.y)&&(k.computedPosition={...k.computedPosition,...x}),(k.position.x!==L.x||k.position.y!==L.y)&&(k.position=L)}function ze(){re.value&&p([{id:t.id,nodeElement:re.value,forceUpdate:!0}])}function Be(m){le!=null&&le.value||ie.mouseEnter({event:m,node:k})}function oe(m){le!=null&&le.value||ie.mouseMove({event:m,node:k})}function j(m){le!=null&&le.value||ie.mouseLeave({event:m,node:k})}function se(m){return ie.contextMenu({event:m,node:k})}function B(m){return ie.doubleClick({event:m,node:k})}function Z(m){T.value&&(!i.value||!Ae.value||y.value>0)&&Zl(k,u.value,h,d,l,!1,re.value),ie.click({event:m,node:k})}function U(m){if(!(Wl(m)||D.value))if(Mf.includes(m.key)&&T.value){const x=m.key==="Escape";Zl(k,u.value,h,d,l,x,re.value)}else Ae.value&&k.selected&&Fr[m.key]&&(C.value=`Moved selected node ${m.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~k.position.x}, y: ${~~k.position.y}`,J({x:Fr[m.key].x,y:Fr[m.key].y},m.shiftKey))}}}),d2=c2;function f2(t={includeHiddenNodes:!1}){const{nodes:r}=dt();return Ce(()=>{if(r.value.length===0)return!1;for(const o of r.value)if((t.includeHiddenNodes||!o.hidden)&&((o==null?void 0:o.handleBounds)===void 0||o.dimensions.width===0||o.dimensions.height===0))return!1;return!0})}const h2={class:"vue-flow__nodes vue-flow__container"},g2={name:"Nodes",compatConfig:{MODE:3}},p2=lt({...g2,setup(t){const{getNodes:r,updateNodeDimensions:o,emits:i}=dt(),l=f2(),u=De();return et(l,s=>{s&&Ft(()=>{i.nodesInitialized(r.value)})},{immediate:!0}),wn(()=>{u.value=new ResizeObserver(s=>{const d=s.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));Ft(()=>o(d))})}),zd(()=>{var s;return(s=u.value)==null?void 0:s.disconnect()}),(s,d)=>(K(),Ne("div",h2,[u.value?(K(!0),Ne(at,{key:0},Ct(Re(r),(h,p,v,w)=>{const S=[h.id];if(w&&w.key===h.id&&Uy(w,S))return w;const N=(K(),Me(Re(d2),{id:h.id,key:h.id,"resize-observer":u.value},null,8,["id","resize-observer"]));return N.memo=S,N},d,0),128)):Ye("",!0)]))}});function v2(){const{emits:t}=dt();wn(()=>{if(Gf()){const r=document.querySelector(".vue-flow__pane");r&&window.getComputedStyle(r).zIndex!=="1"&&t.error(new xt(_t.MISSING_STYLES))}})}const m2=Fe("div",{class:"vue-flow__edge-labels"},null,-1),_2={name:"VueFlow",compatConfig:{MODE:3}},y2=lt({..._2,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(t,{expose:r,emit:o}){const i=t,l=$y(),u=xl(i,"modelValue",o),s=xl(i,"nodes",o),d=xl(i,"edges",o),h=dt(i),p=KE({modelValue:u,nodes:s,edges:d},i,h);return JE(o,h.hooks),XS(),v2(),$r(ea,l),Od(()=>{p()}),r(h),(v,w)=>(K(),Ne("div",{ref:Re(h).vueFlowRef,class:"vue-flow"},[ne(GS,null,{default:X(()=>[ne(u2),m2,ne(p2),pr(v.$slots,"zoom-pane")]),_:3}),pr(v.$slots,"default"),ne(YS)],512))}}),Dr=["jina-colbert-v2","jina-reranker-v2-base-multilingual","jina-embeddings-v3","jina-clip-v2","ReaderLM-v2"],Td=[{id:"E1-2",source:"jina-embedding-b-en-v1",target:"jina-embeddings-v2-base-en",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-3",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-zh",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-4",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-de",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-5",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-code",sourceHandle:"source-right",targetHandle:"target-left",markerEnd:"arrow",type:"smoothstep",style:{stroke:"#323838"}},{id:"E2-6",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-es",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-7",source:"jina-embeddings-v2-base-en",target:"jina-colbert-v1-en",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-9",source:"jina-embeddings-v2-base-en",target:"jina-clip-v1",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E7-8",source:"jina-colbert-v1-en",target:"jina-colbert-v2",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E10-11",source:"jina-reranker-v1-base-en",target:"jina-reranker-v1-tiny-en",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E10-12",source:"jina-reranker-v1-base-en",target:"jina-reranker-v1-turbo-en",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E10-13",source:"jina-reranker-v1-base-en",target:"jina-reranker-v2-base-multilingual",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-14",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v3",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E15-16",source:"reader-lm-0.5b",target:"reader-lm-1.5b",sourceHandle:"source-bottom",targetHandle:"target-top",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E9-17",source:"jina-clip-v1",target:"jina-clip-v2",sourceHandle:"source-bottom",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E16-19",source:"reader-lm-1.5b",target:"ReaderLM-v2",sourceHandle:"source-bottom",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}}],w2=[{id:"E1-2",source:"jina-embedding-b-en-v1",target:"jina-embeddings-v2-base-en",sourceHandle:"source-top",targetHandle:"target-bottom",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-3",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-zh",sourceHandle:"source-top",targetHandle:"target-bottom",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-4",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-de",sourceHandle:"source-top",targetHandle:"target-bottom",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-5",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-code",sourceHandle:"source-top",targetHandle:"target-bottom",markerEnd:"arrow",type:"smoothstep",style:{stroke:"#323838"}},{id:"E2-6",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-es",sourceHandle:"source-top",targetHandle:"target-bottom",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-7",source:"jina-embeddings-v2-base-en",target:"jina-colbert-v1-en",sourceHandle:"source-top",targetHandle:"target-bottom",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-9",source:"jina-embeddings-v2-base-en",target:"jina-clip-v1",sourceHandle:"source-top",targetHandle:"target-bottom",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E7-8",source:"jina-colbert-v1-en",target:"jina-colbert-v2",sourceHandle:"source-left",targetHandle:"target-right",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E10-11",source:"jina-reranker-v1-base-en",target:"jina-reranker-v1-tiny-en",sourceHandle:"source-top",targetHandle:"target-bottom",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E10-12",source:"jina-reranker-v1-base-en",target:"jina-reranker-v1-turbo-en",sourceHandle:"source-top",targetHandle:"target-bottom",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E10-13",source:"jina-reranker-v1-base-en",target:"jina-reranker-v2-base-multilingual",sourceHandle:"source-left",targetHandle:"target-right",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-14",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v3",sourceHandle:"source-left",targetHandle:"target-right",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E15-16",source:"reader-lm-0.5b",target:"reader-lm-1.5b",sourceHandle:"source-top",targetHandle:"target-bottom",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E9-17",source:"jina-clip-v1",target:"jina-clip-v2",sourceHandle:"source-left",targetHandle:"target-right",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E16-19",source:"reader-lm-1.5b",target:"ReaderLM-v2",sourceHandle:"source-left",targetHandle:"target-right",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}}],Pn=100,Rr=340,On=36,go=50,b2=lt({__name:"EmbeddingGraph",setup(t,{expose:r}){r();const o=jl(),i=g1(),{searchImmediate:l}=wo(i),u=Jl(),{settings:s}=wo(u),d=De(!1),{t:h}=qi({useScope:"global"}),{onNodesInitialized:p,onNodeMouseEnter:v,onNodeMouseLeave:w,onEdgeMouseEnter:S,onEdgeMouseLeave:N,onNodeClick:D,getNodes:C,getEdges:I}=dt(),{models:M}=Yd(),y=De(),z=De([]),O=De(Td),Q=De(null),ce=De(""),re=Ce(()=>o.screen.lt.md),ve=Ce(()=>{const oe=Object.keys(y.value||{});return re.value?oe.reverse():oe}),ge=Ce(()=>ce.value?C.value.filter(oe=>oe.id.toLowerCase().includes(ce.value.toLowerCase())):[]),J=Ce(()=>ce.value||Q.value),k=oe=>{var j;return!J.value||ge.value.some(se=>se.id===oe)||((j=Q.value)==null?void 0:j.name)===oe},be=()=>{if(Q.value=null,!ce.value){$();return}Ae(ge.value),ge.value.length&&Ft(()=>{var se,B;const oe=fe((B=(se=ge.value[ge.value.length-1])==null?void 0:se.data)==null?void 0:B.metadata.release_date),j=document.getElementById(`${oe}`);j&&j.scrollIntoView({behavior:"smooth",block:"start"})})},Ae=oe=>{C.value.forEach(j=>{oe.some(se=>se.id===j.id)?j.style={opacity:1,border:"1px solid #787d7d"}:j.style={opacity:.3}}),I.value.forEach(j=>{var B;const se=(B=document.querySelector(`.vue-flow__edge[data-id="${j.id}"]`))==null?void 0:B.parentElement;oe.some(Z=>Z.id===j.source||Z.id===j.target)?(j.style={stroke:"#929595"},se==null||se.setAttribute("style","z-index: 100"),j.sourceNode.style={opacity:1,border:"1px solid #787d7d"},j.targetNode.style={opacity:1,border:"1px solid #787d7d"}):se==null||se.setAttribute("style","z-index: 0")})},T=oe=>{I.value.forEach(j=>{var B;const se=(B=document.querySelector(`.vue-flow__edge[data-id="${j.id}"]`))==null?void 0:B.parentElement;oe.some(Z=>Z.id===j.id)?(j.style={stroke:"#929595"},se==null||se.setAttribute("style","z-index: 100")):se==null||se.setAttribute("style","z-index: 0")}),C.value.forEach(j=>{oe.some(se=>se.source===j.id||se.target===j.id)?j.style={opacity:1}:j.style={opacity:.3}})},$=()=>{C.value.forEach(oe=>{oe.style={opacity:1}}),I.value.forEach(oe=>{var se;const j=(se=document.querySelector(`.vue-flow__edge[data-id="${oe.id}"]`))==null?void 0:se.parentElement;oe.style={opacity:1,stroke:"#323838"},j==null||j.setAttribute("style","z-index: 0")})},R=async oe=>{document.querySelector("header.q-header--hidden")&&window.scrollBy(0,-10),l.value=!0,s.value.lastQuestion=oe,s.value.showSearchBar=!0},Y=oe=>oe.split("-").slice(0,3).join(" "),te=()=>{Q.value=null,J.value||$()},ie=De({}),de=Ce(()=>{const oe=Object.keys(y.value||{});let j=0;if(re.value)return oe.forEach(B=>{var x,L,G,ae;const Z=(L=(x=y.value)==null?void 0:x[B])==null?void 0:L.filter(Ee=>Dr.includes(Ee.name)),U=(ae=(G=y.value)==null?void 0:G[B])==null?void 0:ae.filter(Ee=>!Dr.includes(Ee.name)),m=Math.max((Z==null?void 0:Z.length)||0,(U==null?void 0:U.length)||0);w1(ie.value,B,`${m}fr`),m>1&&(j+=m-1)}),{height:`${oe.length*(Pn+On*2)+j*(Pn+On)}px`,width:Rr*2+200+"px"};const se=Math.max(...oe.map(B=>{var Z,U;return((U=(Z=y.value)==null?void 0:Z[B])==null?void 0:U.length)||0}));return{width:`${oe.length*(Rr+go)}px`,height:se*(Pn+On)+160+"px"}}),le=Ce(()=>({"grid-template-columns":re.value?"1fr":`repeat(auto-fill, ${Rr+go}px)`,"grid-template-rows":re.value?Object.values(ie.value).reverse().join(" "):"unset"})),Ie=Ce(()=>({minHeight:re.value?`${Pn+On*2}px`:"unset"})),fe=oe=>{if(!oe)return"";const j=new Date(oe).getFullYear(),se=new Date(oe).getMonth()+1;return`${j}Q${Math.ceil(se/3)}`},ue=(oe,j)=>{var ae,Ee;const se=fe(oe.metadata.release_date),B=re.value?Object.keys(y.value||{}).reverse():Object.keys(y.value||{}),Z=B.indexOf(se),U=[],m=[];(Ee=(ae=y.value)==null?void 0:ae[se])==null||Ee.forEach(F=>{Dr.includes(F.name)?U.unshift(F):m.unshift(F)});let x=0;re.value?j?x=U.findIndex(F=>F.name===oe.name):x=m.findIndex(F=>F.name===oe.name):x=U.concat(m).findIndex(F=>F.name===oe.name),x===-1&&(x=0);const L=B.slice(0,Z);let G=0;return L.forEach(F=>{var Ge,Ke,Gt,Rt;const _e=(Ke=(Ge=y.value)==null?void 0:Ge[F])==null?void 0:Ke.filter(Tt=>Dr.includes(Tt.name)),Te=(Rt=(Gt=y.value)==null?void 0:Gt[F])==null?void 0:Rt.filter(Tt=>!Dr.includes(Tt.name)),qe=Math.max((_e==null?void 0:_e.length)||0,(Te==null?void 0:Te.length)||0);G+=qe-1}),re.value?{x:j?100:100+Rr+go,y:(Pn+On)*(x+G)+(Pn+On*2)*Z+On}:{x:25+Z*(Rr+go),y:parseInt(de.value.height)-(100+Pn)-x*(Pn+On)}},me=async()=>{d.value=!0;const oe=a1(M.value,["metadata.release_date"],["asc"]);y.value={},oe.forEach(j=>{var B;const se=fe(j.metadata.release_date);(B=y.value)!=null&&B[se]?y.value[se].push(j):y.value={...y.value,[se]:[j]}}),z.value=oe.map(j=>{const se=Dr.includes(j.name);return{id:j.name,data:{...j,isFrontier:se},position:ue(j,se),type:"custom",class:`node ${se?"is-frontier":"is-variant"}`}}),d.value=!1},ze=async()=>{O.value=re.value?w2:Td,await me()};et(re,()=>{ze()}),Dd(()=>{ze()}),p(()=>{const oe=document.querySelector(".models-graph-wrapper");oe&&!re.value&&(oe.scrollLeft=parseInt(de.value.width))}),D(oe=>{ce.value?ge.value.some(j=>j.id===oe.node.id)?Q.value=oe.node.data:(oe.event.stopImmediatePropagation(),oe.event.preventDefault()):(Ae([oe.node]),Q.value=oe.node.data)}),v(oe=>{J.value||Ae([oe.node])}),w(()=>{J.value||$()}),S(oe=>{J.value||T([oe.edge])}),N(()=>{J.value||$()});const Be={$q:o,searchStore:i,searchImmediate:l,userStore:u,settings:s,isModelsLoading:d,t:h,onNodesInitialized:p,onNodeMouseEnter:v,onNodeMouseLeave:w,onEdgeMouseEnter:S,onEdgeMouseLeave:N,onNodeClick:D,getNodes:C,getEdges:I,models:M,NODE_HEIGHT:Pn,NODE_WIDTH:Rr,OFFSET_Y:On,OFFSET_X:go,modelsByQuarter:y,modelNodes:z,edges:O,activeModel:Q,query:ce,vertical:re,quarters:ve,filteredNodes:ge,isHighlighting:J,isNodeHoverable:k,onFilter:be,highlightNode:Ae,highlightEdge:T,removeHighlight:$,onSearch:R,getDefaultQuery:Y,beforeHideDetails:te,verticalRows:ie,containerStyle:de,timelineStyle:le,quarterStyle:Ie,getQuarter:fe,getPosition:ue,getModels:me,initialize:ze,get date(){return u1},get VueFlow(){return y2},get Position(){return Se},get Handle(){return Io},get langcode2SingleEmoji(){return es},get ccncOptions(){return Hd},get embeddingIcon(){return Pi},get rerankerIcon(){return Oi},get readerIcon(){return Di}};return Object.defineProperty(Be,"__isScriptSetup",{enumerable:!1,value:!0}),Be}}),x2={class:"row justify-center"},E2={class:"models-graph-wrapper"},S2=["id"],N2={class:"label bg-grey-8 text-black"};function C2(t,r,o,i,l,u){return K(),Ne(at,null,[Fe("div",x2,[ne(Fd,{modelValue:i.query,"onUpdate:modelValue":[r[0]||(r[0]=s=>i.query=s),i.onFilter],filled:"",square:"",debounce:"300",label:i.t("model_graph.search_models"),class:"q-my-xl search-box col-10 col-md-8 col-lg-6",clearable:""},{after:X(()=>[ne(cr,{outline:"",stretch:"",square:"","icon-right":"arrow_forward",label:i.t("model_graph.browse_catalog"),to:"/models#catalog"},null,8,["label"])]),prepend:X(()=>[ne(ht,{name:"search",class:"cursor-pointer"})]),_:1},8,["modelValue","label"])]),Fe("div",{class:an(["models-graph",{"is-vertical":i.vertical}])},[i.isModelsLoading?(K(),Me(h1,{key:0,indeterminate:"",size:"1px"})):Ye("",!0),Fe("div",E2,[Fe("div",{class:"models-graph-inner",style:on(i.containerStyle)},[Fe("div",{class:"timeline",style:on(i.timelineStyle)},[(K(!0),Ne(at,null,Ct(i.quarters,s=>(K(),Ne("div",{key:s,class:"section",style:on(i.quarterStyle),id:s},[Fe("span",N2,we(s),1)],12,S2))),128))],4),i.isModelsLoading?Ye("",!0):(K(),Me(i.VueFlow,{key:0,nodes:i.modelNodes,edges:i.edges,"zoom-on-scroll":!1,"zoom-on-double-click":!1,"zoom-on-pinch":!1,"nodes-draggable":!1,"pan-on-drag":!1,"fit-view-on-init":!1},{"node-custom":X(({data:s})=>[Pl((K(),Me(Dn,{class:"full-width full-height cursor-pointer",style:{"flex-direction":"column"},clickable:"",to:`/models/${s.name}`},{default:X(()=>[ne(fr,{caption:"",class:"justify-between row full-width items-center q-mb-xs"},{default:X(()=>{var d,h,p;return[Fe("div",null,[(d=s.metadata.endpoints)!=null&&d.includes("embedding")?(K(),Me(ht,{key:0,name:"img:"+i.embeddingIcon},{default:X(()=>[ne(bt,null,{default:X(()=>[$e(we(i.t("landing_page.embeddings")),1)]),_:1})]),_:1},8,["name"])):(h=s.metadata.endpoints)!=null&&h.includes("rank")?(K(),Me(ht,{key:1,name:"img:"+i.rerankerIcon},{default:X(()=>[ne(bt,null,{default:X(()=>[$e(we(i.t("landing_page.reranker")),1)]),_:1})]),_:1},8,["name"])):(p=s.metadata.endpoints)!=null&&p.includes("read")?(K(),Me(ht,{key:2,name:"img:"+i.readerIcon},{default:X(()=>[ne(bt,null,{default:X(()=>[$e(we(i.t("landing_page.reader")),1)]),_:1})]),_:1},8,["name"])):Ye("",!0),i.ccncOptions.includes(s.name)?(K(),Me(ht,{key:3,name:"copyright"},{default:X(()=>[ne(bt,null,{default:X(()=>[$e(we(i.t("landing_page.ccbync")),1)]),_:1})]),_:1})):Ye("",!0)]),ne(It,{icon:"calendar_month",size:"xs",square:"",dense:"",class:"text-dim",color:"transparent",label:i.date.formatDate(s.metadata.release_date,"YYYY-MM-DD")},null,8,["label"])]}),_:2},1024),ne(At,{class:"no-wrap"},{default:X(()=>[ne(fr,{class:"text-weight-bold",style:{"font-size":"14px"}},{default:X(()=>[Fe("code",null,we(s.name),1)]),_:2},1024),ne(fr,{caption:"",class:"row q-py-sm no-wrap"},{default:X(()=>{var d,h,p,v,w,S,N,D;return[s.metadata.tags&&((d=s.metadata.tags)!=null&&d.includes("multimodal-embedding"))?(K(),Me(It,{key:0,square:"",size:"xs",outline:"",style:{"border-radius":"0"},class:"text-dim",label:i.t("embedding.multimodal"),icon:"mms"},{default:X(()=>[i.isNodeHoverable(s.name)?(K(),Me(bt,{key:0},{default:X(()=>[$e(we(i.t("embedding.multimodal_explain")),1)]),_:1})):Ye("",!0)]),_:2},1032,["label"])):Ye("",!0),(h=s.metadata.endpoints)!=null&&h.includes("multi-embeddings")?(K(),Me(It,{key:1,class:"text-dim",style:{"border-radius":"0"},icon:"grid_4x4",label:i.t("embedding.multi_embedding"),square:"",size:"xs",outline:""},{default:X(()=>[ne(bt,null,{default:X(()=>[$e(we(i.t("embedding.multi_embedding_explain")),1)]),_:1})]),_:1},8,["label"])):Ye("",!0),ne(It,{label:(p=s.metadata)==null?void 0:p.token_length,square:"",size:"xs",outline:"",icon:"notes",class:"text-dim",style:{"border-radius":"0"}},{default:X(()=>[i.isNodeHoverable(s.name)?(K(),Me(bt,{key:0},{default:X(()=>{var C;return[$e(we(i.t("embedding.token_length_explain",{_tokenLength:(C=s.metadata)==null?void 0:C.token_length})),1)]}),_:2},1024)):Ye("",!0)]),_:2},1032,["label"]),(v=s.metadata.endpoints)!=null&&v.includes("embedding")?(K(),Me(It,{key:2,label:(w=s.metadata)==null?void 0:w.output_dimension,square:"",class:"text-dim",size:"xs",outline:"",icon:"background_dot_small",style:{"border-radius":"0"}},{default:X(()=>[i.isNodeHoverable(s.name)?(K(),Me(bt,{key:0},{default:X(()=>{var C;return[$e(we(i.t("embedding.output_dim_explain",{_outputDim:(C=s.metadata)==null?void 0:C.output_dimension})),1)]}),_:2},1024)):Ye("",!0)]),_:2},1032,["label"])):Ye("",!0),ne(It,{label:(S=s.metadata)==null?void 0:S.parameter_size,square:"",size:"xs",class:"text-dim",outline:"",icon:"data_array",style:{"border-radius":"0"}},{default:X(()=>[i.isNodeHoverable(s.name)?(K(),Me(bt,{key:0},{default:X(()=>{var C;return[$e(we(i.t("embedding.size_explain",{_size:(C=s.metadata)==null?void 0:C.parameter_size})),1)]}),_:2},1024)):Ye("",!0)]),_:2},1032,["label"]),ne(It,{label:(D=(N=s.metadata)==null?void 0:N.language)==null?void 0:D.map(C=>i.langcode2SingleEmoji(C)).join(" "),square:"",class:"text-dim",size:"xs",outline:"",style:{"border-radius":"0"}},{default:X(()=>[i.isNodeHoverable(s.name)?(K(),Me(bt,{key:0},{default:X(()=>{var C,I;return[$e(we(i.t("embedding.language_explain",{_language:(I=(C=s.metadata)==null?void 0:C.language)==null?void 0:I.map(M=>i.langcode2SingleEmoji(M)).join(" ")})),1)]}),_:2},1024)):Ye("",!0)]),_:2},1032,["label"])]}),_:2},1024)]),_:2},1024)]),_:2},1032,["to"])),[[$d]]),ne(i.Handle,{id:"source-top",type:"source",position:i.Position.Top},null,8,["position"]),ne(i.Handle,{id:"target-top",type:"target",position:i.Position.Top},null,8,["position"]),ne(i.Handle,{id:"source-bottom",type:"source",position:i.Position.Bottom},null,8,["position"]),ne(i.Handle,{id:"target-bottom",type:"target",position:i.Position.Bottom},null,8,["position"]),ne(i.Handle,{id:"source-left",type:"source",position:i.Position.Left},null,8,["position"]),ne(i.Handle,{id:"target-left",type:"target",position:i.Position.Left},null,8,["position"]),ne(i.Handle,{id:"source-right",type:"source",position:i.Position.Right},null,8,["position"]),ne(i.Handle,{id:"target-right",type:"target",position:i.Position.Right},null,8,["position"])]),_:1},8,["nodes","edges"]))],4)])],2)],64)}const I2=Wi(b2,[["render",C2],["__file","EmbeddingGraph.vue"]]),M2=lt({__name:"ModelSelectorComponent",props:{filteredModels:{},currentSlug:{},searchQuery:{}},emits:["select-model"],setup(t,{expose:r}){r();const o=jl(),{t:i}=qi(),l=t,u=Ce(()=>l.filteredModels.map(h=>({label:h.name,value:h.slug,icon:s(h),deprecated:!!h.metadata.deprecated_by}))),s=h=>{var p,v,w;return(p=h.metadata.endpoints)!=null&&p.includes("embedding")?Pi:(v=h.metadata.endpoints)!=null&&v.includes("rank")?Oi:(w=h.metadata.endpoints)!=null&&w.includes("read")?Di:null},d={$q:o,t:i,props:l,modelOptions:u,getModelIcon:s,get embeddingIcon(){return Pi},get rerankerIcon(){return Oi},get readerIcon(){return Di}};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}}),k2={key:0,class:"text-center q-pa-md text-grey-7"},A2={key:1,class:"text-center q-pa-md text-grey-7"};function T2(t,r,o,i,l,u){return K(),Ne("div",null,[i.$q.screen.lt.md?(K(),Ne(at,{key:0},[Pl(ne(Xd,{"model-value":o.currentSlug,options:i.modelOptions,"emit-value":"","map-options":"",filled:"",square:"",class:"q-mb-md","option-value":"value","option-label":"label",clearable:!1,"onUpdate:modelValue":r[0]||(r[0]=s=>t.$emit("select-model",s))},{option:X(({itemProps:s,opt:d,selected:h,toggleOption:p})=>[ne(Dn,Ky(Qy(s)),{default:X(()=>[ne(At,null,{default:X(()=>[ne(fr,{class:an(d.deprecated?"text-dim":void 0)},{default:X(()=>[$e(we(d.label),1)]),_:2},1032,["class"])]),_:2},1024),d.icon?(K(),Me(At,{key:0,side:""},{default:X(()=>[ne(ht,{class:"info-icon",name:`img:${d.icon}`},null,8,["name"])]),_:2},1024)):Ye("",!0)]),_:2},1040)]),_:1},8,["model-value","options"]),[[Zy,o.filteredModels.length]]),o.filteredModels.length?Ye("",!0):(K(),Ne("div",k2,we(i.t("models.search.no_results",{query:o.searchQuery})),1))],64)):(K(),Me(Wd,{key:1,class:"overflow-auto models-list"},{default:X(()=>[o.filteredModels.length?(K(),Me(Gd,{key:0,name:"list2"},{default:X(()=>[(K(!0),Ne(at,null,Ct(o.filteredModels,s=>Pl((K(),Me(Dn,{key:s.slug,clickable:"",active:o.currentSlug===s.slug,class:an(["card-details",o.currentSlug===s.slug?"text-primary":s.metadata.deprecated_by?"text-dim":void 0]),onClick:d=>t.$emit("select-model",s.slug)},{default:X(()=>[ne(At,null,{default:X(()=>[ne(fr,null,{default:X(()=>[$e(we(s.name),1)]),_:2},1024)]),_:2},1024),ne(At,{side:"",class:"read-more-btn"},{default:X(()=>{var d,h,p;return[(d=s.metadata.endpoints)!=null&&d.includes("embedding")?(K(),Me(ht,{key:0,class:"info-icon",name:"img:"+i.embeddingIcon},{default:X(()=>[ne(bt,null,{default:X(()=>[$e(we(i.t("landing_page.embeddings")),1)]),_:1})]),_:1},8,["name"])):(h=s.metadata.endpoints)!=null&&h.includes("rank")?(K(),Me(ht,{key:1,class:"info-icon",name:"img:"+i.rerankerIcon},{default:X(()=>[ne(bt,null,{default:X(()=>[$e(we(i.t("landing_page.reranker")),1)]),_:1})]),_:1},8,["name"])):(p=s.metadata.endpoints)!=null&&p.includes("read")?(K(),Me(ht,{key:2,class:"info-icon",name:"img:"+i.readerIcon},{default:X(()=>[ne(bt,null,{default:X(()=>[$e(we(i.t("landing_page.reader")),1)]),_:1})]),_:1},8,["name"])):Ye("",!0)]}),_:2},1024)]),_:2},1032,["active","class","onClick"])),[[$d]])),128))]),_:1})):(K(),Ne("div",A2,we(i.t("models.search.no_results",{query:o.searchQuery})),1))]),_:1}))])}const P2=Wi(M2,[["render",T2],["__scopeId","data-v-f4a31de5"],["__file","ModelSelectorComponent.vue"]]),O2=lt({__name:"ModelCompareTable",props:{currentModel:{},allModels:{}},setup(t,{expose:r}){r();const{t:o,te:i}=qi({useScope:"global"}),l=t,u=Jl(),{settings:s}=wo(u),d=M=>{var y;return M==="en"?o("tokenizer.english"):M==="zh"?o("tokenizer.chinese"):M==="multilingual"?o("embedding.multilingual"):(y=s.value.localeOptions.find(z=>z.value===M))==null?void 0:y.label},h=(M,y)=>[{type:"api_link",icon:"img:/J.svg",key:"api",link:`/?sui&model=${M}`,show:y.includes("api")},{type:"license_link",icon:"img:/J.svg",key:"license",link:"/api-dashboard/license-config?login=true",show:y.includes("license")},{type:"aws_link",icon:`img:${Vd}`,key:"aws",link:"https://aws.amazon.com/marketplace/seller-profile?id=seller-stch2ludm6vgy",show:y.includes("aws")},{type:"azure_link",icon:`img:${Ud}`,key:"azure",link:"https://azuremarketplace.microsoft.com/en-US/marketplace/apps?page=1&search=jina",show:y.includes("azure")},{type:"gcp_link",icon:`img:${qd}`,key:"gcp",link:"https://console.cloud.google.com/marketplace/browse?q=jina",show:y.includes("gcp")},{type:"huggingface_link",icon:"img:/huggingface_logo.svg",key:"huggingface",link:`https://huggingface.co/jinaai/${M}`,show:y.includes("huggingface")}].filter(z=>z.show),p=De([]),v=De(!1),w=Ce(()=>l.allModels.map(M=>({name:M.metadata.model_name,slug:M.slug,metadata:M.metadata}))),S=["license","release_date","parameter_size","token_length","image_size","output_dimension","input_type","output_type","language","availability"],N=Ce(()=>[{name:"property",label:o("models.sections.model_name"),field:"property",align:"left"},...p.value.map(M=>({name:M.metadata.model_name,label:M.metadata.model_name,field:M.metadata.model_name,align:"left"}))]),D=Ce(()=>S.filter(y=>p.value.some(z=>{const O=z.metadata[y];return O!=null&&O!=="-"&&!(Array.isArray(O)&&O.length===0)})).map(y=>{const z={property:i(`models.metadata.${y}`)?o(`models.metadata.${y}`):o(`models.sections.${y}`)};return p.value.forEach(O=>{y==="language"&&Array.isArray(O.metadata[y])?z[O.metadata.model_name]=O.metadata[y].map(Q=>`${es(Q)} ${d(Q)}`):["input_type","output_type"].includes(y)&&Array.isArray(O.metadata[y])?z[O.metadata.model_name]=O.metadata[y].map(Q=>o(`models.input_type.${Q}`)):z[O.metadata.model_name]=O.metadata[y]||"-"}),z}));Ol(()=>{if(l.currentModel){const M={name:l.currentModel.metadata.model_name,slug:l.currentModel.slug,metadata:l.currentModel.metadata},y=(l.currentModel.metadata.related_models||[]).map(z=>{const O=l.allModels.find(Q=>Q.metadata.model_name===z);return O?{name:O.metadata.model_name,slug:O.slug,metadata:O.metadata}:null}).filter(z=>z!==null);p.value=[M,...y]}});const I={t:o,te:i,props:l,userStore:u,settings:s,mapLangCodeToLanguageName:d,getExternalLinks:h,selectedModelsForComparison:p,showComparisonTable:v,availableModelsForComparison:w,comparisonFields:S,comparisonColumns:N,comparisonRows:D,handleModelUpdate:M=>{if(!M||M.length===0){p.value=[];return}p.value=M,M.length<2&&(v.value=!1),v.value=!0}};return Object.defineProperty(I,"__isScriptSetup",{enumerable:!1,value:!0}),I}}),D2={key:1,class:"row q-gutter-sm"};function R2(t,r,o,i,l,u){return K(),Me(Dl,{flat:"",square:"",class:"bg-mixed-100 q-mb-xl q-pa-md"},{default:X(()=>[ne(zr,{class:"text-caption text-dim q-py-none"},{default:X(()=>[$e(we(i.t("models.comparison.select_models"))+" ",1),ne(Xd,{class:"model-comparsion",borderless:"",modelValue:i.selectedModelsForComparison,"onUpdate:modelValue":[r[1]||(r[1]=s=>i.selectedModelsForComparison=s),i.handleModelUpdate],options:i.availableModelsForComparison,"option-label":"name","option-value":"slug",multiple:"","use-chips":"","hide-bottom-space":"",clearable:"",square:"","options-selected-class":"text-primary"},Jy({selected:X(()=>[(K(!0),Ne(at,null,Ct(i.selectedModelsForComparison,s=>(K(),Me(It,{key:s.slug,class:"bg-mixed-200",size:"sm",label:s.name,style:{"border-radius":"0"}},null,8,["label"]))),128))]),"no-option":X(()=>[ne(Dn,null,{default:X(()=>[ne(At,{class:"text-grey"},{default:X(()=>[$e(we(i.t("models.comparison.no_models")),1)]),_:1})]),_:1})]),_:2},[!i.showComparisonTable&&i.selectedModelsForComparison.length>=2?{name:"after",fn:X(()=>[ne(cr,{flat:"",stretch:"",square:"",class:"full-height",label:i.t("models.comparison.btn"),icon:"compare_arrows",onClick:r[0]||(r[0]=s=>i.showComparisonTable=!i.showComparisonTable)},null,8,["label"])]),key:"0"}:void 0]),1032,["modelValue","options"])]),_:1}),i.showComparisonTable&&i.selectedModelsForComparison.length>=2?(K(),Me(zr,{key:0,class:"q-pa-none"},{default:X(()=>[ne(c1,{rows:i.comparisonRows,columns:i.comparisonColumns,flat:"",square:"",pagination:{rowsPerPage:0},"hide-pagination":!0,class:"bg-mixed-200"},{"header-cell":X(s=>[ne(d1,{props:s,class:an({"bg-mixed-300 text-weight-bold":s.col.name==="property"})},{default:X(()=>[$e(we(s.col.label),1)]),_:2},1032,["props","class"])]),"body-cell":X(s=>[ne(f1,{props:s,class:an({"bg-mixed-300 text-weight-bold":s.col.name==="property"})},{default:X(()=>[s.col.name==="property"?(K(),Ne(at,{key:0},[$e(we(s.value),1)],64)):s.row.property===i.t("models.sections.availability")?(K(),Ne("div",D2,[(K(!0),Ne(at,null,Ct(i.getExternalLinks(s.col.name,s.value),d=>(K(),Me(cr,{key:d.key,href:d.link,target:"_blank",flat:"",dense:"",square:"","no-caps":"",icon:d.icon,class:"bg-mixed-200"},{default:X(()=>[ne(bt,null,{default:X(()=>[$e(we(i.t(`models.metadata.${d.key}_link`)),1)]),_:2},1024)]),_:2},1032,["href","icon"]))),128))])):Array.isArray(s.value)?(K(!0),Ne(at,{key:2},Ct(s.value,d=>(K(),Me(It,{key:d,size:"sm",class:"bg-mixed-300",style:{"border-radius":"0"}},{default:X(()=>[$e(we(d),1)]),_:2},1024))),128)):(K(),Ne(at,{key:3},[$e(we(s.value),1)],64))]),_:2},1032,["props","class"])]),_:1},8,["rows","columns"])]),_:1})):Ye("",!0)]),_:1})}const z2=Wi(O2,[["render",R2],["__file","ModelCompareTable.vue"]]),B2=lt({__name:"ModelsPage",setup(t,{expose:r}){r();const o=Jl(),i=_1(),{settings:l}=wo(o),{featuredBlogs:u,authors:s,translatedAllBlogs:d,accessedAt:h,lastAccessedAt:p,initiating:v}=wo(i),w=De(""),S=De(""),N=De(!1),D=De(null),C=De(!1),I=De("release_date"),M=De("desc"),y=De(null),{models:z}=Yd(),O=De([]),Q=De(!1),ce=jy(),re=e1(),{t:ve}=qi({useScope:"global"}),ge=jl(),J=De(!1),k=De(!0),be=De(!1),Ae=B=>{be.value=B.length===0},T=Ce(()=>k.value),$=()=>{const B=z.value.slice();if(!w.value)O.value=B;else{const Z=w.value.toLowerCase().trim();C.value=!0,O.value=B.filter(U=>{const m=U.name.toLowerCase(),x=U.metadata.tags||[],L=(U.metadata.model_type||"").toLowerCase(),G=(U.metadata.organization||"").toLowerCase();return m.includes(Z)||x.some(ae=>ae.toLowerCase().includes(Z))||L.includes(Z)||G.includes(Z)}),C.value=!1}O.value.sort((Z,U)=>{let m=0;switch(I.value){case"name":m=Z.name.localeCompare(U.name);break;case"release_date":m=new Date(Z.metadata.release_date||"0").valueOf()-new Date(U.metadata.release_date||"0").valueOf();break;case"parameter_size":m=Y(Z.metadata.parameter_size||"0")-Y(U.metadata.parameter_size||"0");break}return M.value==="asc"?m:-m})},R=S1.debounce(()=>{$()},300);et(z,B=>{B&&B.length>0&&!Q.value&&(O.value=B.slice(),Q.value=!0,Ft(()=>{$()}))},{immediate:!0}),et([I,M],()=>{Q.value&&O.value.length>0&&Ft(()=>{R()})},{deep:!0});const Y=B=>{if(!B)return 0;const Z=B.toUpperCase(),U=parseFloat(Z);return isNaN(U)?0:Z.endsWith("B")?U*1e9:Z.endsWith("M")?U*1e6:U},te=Ce(()=>ze.value.filter(B=>{var Z,U;return(U=(Z=y.value)==null?void 0:Z.metadata.availability)==null?void 0:U.includes(B.key)})),ie=["parameter_size","token_length","image_size","output_dimension"],de=Ce(()=>{var B;return(B=y.value)!=null&&B.metadata?ie.filter(Z=>y.value.metadata[Z]).map(Z=>({key:Z,value:y.value.metadata[Z]})):[]}),le=B=>{var Z;return B==="en"?ve("tokenizer.english"):B==="zh"?ve("tokenizer.chinese"):B==="multilingual"?ve("embedding.multilingual"):(Z=l.value.localeOptions.find(U=>U.value===B))==null?void 0:Z.label},Ie=B=>{I.value=B,R()},fe=Ce(()=>{var B;return(B=y.value)==null?void 0:B.metadata.model_name}),ue=Ce(()=>{var B;return(B=fe.value)==null?void 0:B.replace(/\./g,"")}),me=B=>B.includes("text")?"abc":B.includes("image")?"image":B.includes("audio")?"audiotrack":B.includes("video")?"videocam":B.includes("multi-vector")?"apps":B.includes("vector")?"more_horiz":B.includes("ranking")?"format_list_numbered":"help",ze=Ce(()=>[{type:"api_link",icon:"img:/J.svg",key:"api",link:`/?sui&model=${fe.value}`},{type:"reader_api_link",icon:"img:/J.svg",key:"reader-api",link:"/api-dashboard/reader"},{type:"license_link",icon:"img:/J.svg",key:"license",link:"/api-dashboard/license-config?login=true"},{type:"aws_link",icon:`img:${Vd}`,key:"aws",link:"https://aws.amazon.com/marketplace/seller-profile?id=seller-stch2ludm6vgy"},{type:"azure_link",icon:`img:${Ud}`,key:"azure",link:"https://azuremarketplace.microsoft.com/en-US/marketplace/apps?page=1&search=jina"},{type:"gcp_link",icon:`img:${qd}`,key:"gcp",link:"https://console.cloud.google.com/marketplace/browse?q=jina"},{type:"huggingface_link",icon:"img:/huggingface_logo.svg",key:"huggingface",link:`https://huggingface.co/jinaai/${fe.value}`}]),Be=async B=>{if(!(S.value===B&&y.value))try{N.value=!0,D.value=null,S.value=B;const Z=z.value.find(U=>U.slug===B);if(!Z)throw new Error(`Model "${B}" not found`);await Ft(),y.value=Z,ce.params.slug!==B&&re.push(`/models/${B}`)}catch(Z){D.value=Z instanceof Error?Z.message:"Failed to load model",y.value=null}finally{N.value=!1}},oe=B=>({"margin-top":`${B}px`});Ol(()=>{const B=ce.params.slug!==void 0;B&&k.value?(J.value=!0,setTimeout(()=>{k.value=!1,J.value=!1},500)):!B&&!k.value&&(k.value=!0)});const j=()=>{let B=ve("model_graph.title"),Z=ve("model_graph.description"),U="https://jina.ai/banner-models.png",m="Jina AI",x="https://jina.ai/models";y.value&&(B=ve("models.title",{_modelName:fe.value}),Z=ve(`embedding.${fe.value.replace(".","")}_description`),U=`https://jina.ai/models-banner/${fe.value}.png`,m=y.value.metadata.organization,x=`https://jina.ai/models/${y.value.slug}`),t1({title:B,meta:[{name:"title",content:B},{name:"description",content:Z},{name:"author",content:m},{property:"og:title",content:B},{property:"og:url",content:x},{property:"og:image",content:U},{property:"og:description",content:Z},{property:"twitter:title",content:B},{property:"twitter:url",content:x},{property:"twitter:image",content:U},{property:"twitter:description",content:Z},{property:"twitter:label1",content:"Created by"},{property:"twitter:data1",content:m}]})};Ol(async()=>{const B=ce.params.slug;B&&await Be(B),await Ft(),j()}),wn(()=>{O.value=z.value.slice()});const se={userStore:o,newsStore:i,settings:l,featuredBlogs:u,authors:s,translatedAllBlogs:d,accessedAt:h,lastAccessedAt:p,initiating:v,searchQuery:w,currentSlug:S,isLoading:N,error:D,isSearching:C,sortOption:I,sortDirection:M,selectedModel:y,models:z,filteredModels:O,isInitialized:Q,route:ce,router:re,t:ve,$q:ge,isTransitioning:J,shouldShowGraph:k,isRelatedBlogEmpty:be,checkIfEmpty:Ae,showModelGraph:T,applySearchAndSort:$,debouncedApplySearchAndSort:R,parseParameterSize:Y,availableExternalLinks:te,MODEL_DETAIL_KEYS:ie,modelDetails:de,mapLangCodeToLanguageName:le,setSortOption:Ie,selectModelName:fe,selectModelNameNormalized:ue,getIconForInputType:me,externalLinks:ze,selectModel:Be,getStyle:oe,initHead:j,get langcode2SingleEmoji(){return es},get ccncOptions(){return Hd},get embeddingIcon(){return Pi},get rerankerIcon(){return Oi},get readerIcon(){return Di},EmbeddingGraph:I2,H2TitleBlock:p1,ResearchersComponent:v1,NewsFilterComponent:m1,ModelSelectorComponent:P2,ModelCompareTable:z2};return Object.defineProperty(se,"__isScriptSetup",{enumerable:!1,value:!0}),se}}),L2={key:"graph",class:"q-pa-xl row justify-center overflow-hidden q-mb-xl"},H2={class:"col-12 col-sm-11 col-md-10",style:{"z-index":"1"}},F2={class:"col-11 col-md-3 col-lg-2 col-xl-2 model-list bg-dark-transparent lock-blur"},$2={class:"row items-center q-mb-md"},G2={class:"col-11 col-md-8 col-lg-7 col-xl-6"},V2={key:0,class:"text-center q-pa-xl"},U2={class:"text-dim q-mt-sm"},q2={key:1,class:"text-center q-pa-xl"},W2={class:"text-negative q-mt-sm"},Y2={class:"row justify-between"},X2={class:"model-title"},Z2={class:"row justify-between items-center"},K2={class:"col q-mr-md"},Q2={class:"row items-center"},J2={class:"text-caption text-dim q-mr-sm"},j2={class:"row items-center"},eN={class:"text-caption text-dim q-mr-sm"},tN={class:"row items-center"},nN={class:"text-caption text-dim q-mr-sm"},rN={class:"text-caption text-dim q-mx-sm"},oN={class:"row items-center"},iN={class:"text-caption text-dim q-mr-sm"},aN={key:0,class:"row items-center"},lN={class:"text-caption text-dim q-mr-sm"},sN={key:1,class:"row items-center"},uN={class:"text-caption text-dim q-mr-sm"},cN={class:"row items-center"},dN={class:"text-caption text-dim q-mr-sm"},fN=["id"],hN={key:1,class:"text-r-h4 q-mt-xl q-mb-md"},gN={key:3,class:"text-center q-pa-xl q-ma-xl text-dim"};function pN(t,r,o,i,l,u){return K(),Me(s1,{class:"no-wrap","style-fn":i.getStyle},{default:X(()=>[ne(Gd,{appear:"",mode:"out-in",name:"page-transition"},{default:X(()=>[i.showModelGraph&&!i.isTransitioning?(K(),Ne("div",L2,[Fe("div",H2,[ne(i.H2TitleBlock,{title:"model_graph.title",anchor:"models",subtitle:"model_graph.description"}),ne(i.EmbeddingGraph)])])):Ye("",!0),Fe("div",{key:"catalog",class:an(["row justify-center relative-position",{"q-gutter-x-lg":i.$q.screen.gt.md,"q-gutter-x-md":i.$q.screen.gt.sm}]),id:"catalog"},[Fe("div",F2,[Fe("div",$2,[ne(Fd,{modelValue:i.searchQuery,"onUpdate:modelValue":[r[5]||(r[5]=s=>i.searchQuery=s),i.applySearchAndSort],filled:"",square:"",loading:i.isSearching,placeholder:i.t("models.search.placeholder"),class:"col model-selector full-width",clearable:"",debounce:"300"},{prepend:X(()=>[ne(ht,{name:"search"})]),after:X(()=>[ne(r1,{icon:"sort",dense:"",stretch:"",flat:"",square:"",label:i.t(`models.sort.${i.sortOption}`),"no-caps":"","no-wrap":""},{default:X(()=>[ne(Wd,null,{default:X(()=>[ne(fr,{header:""},{default:X(()=>[$e(we(i.t("models.sort.label")),1)]),_:1}),ne(Dn,{clickable:"",onClick:r[0]||(r[0]=s=>i.setSortOption("name")),active:i.sortOption==="name"},{default:X(()=>[ne(At,null,{default:X(()=>[$e(we(i.t("models.sort.name")),1)]),_:1}),i.sortOption==="name"?(K(),Me(At,{key:0,side:""},{default:X(()=>[ne(ht,{name:"check"})]),_:1})):Ye("",!0)]),_:1},8,["active"]),ne(Dn,{clickable:"",onClick:r[1]||(r[1]=s=>i.setSortOption("release_date")),active:i.sortOption==="release_date"},{default:X(()=>[ne(At,null,{default:X(()=>[$e(we(i.t("models.sort.release_date")),1)]),_:1}),i.sortOption==="release_date"?(K(),Me(At,{key:0,side:""},{default:X(()=>[ne(ht,{name:"check"})]),_:1})):Ye("",!0)]),_:1},8,["active"]),ne(Dn,{clickable:"",onClick:r[2]||(r[2]=s=>i.setSortOption("parameter_size")),active:i.sortOption==="parameter_size"},{default:X(()=>[ne(At,null,{default:X(()=>[$e(we(i.t("models.sort.parameter_size")),1)]),_:1}),i.sortOption==="parameter_size"?(K(),Me(At,{key:0,side:""},{default:X(()=>[ne(ht,{name:"check"})]),_:1})):Ye("",!0)]),_:1},8,["active"]),ne(n1),ne(fr,{header:""},{default:X(()=>[$e(we(i.t("models.sort.direction.name")),1)]),_:1}),ne(Dn,{clickable:"",onClick:r[3]||(r[3]=s=>i.sortDirection="asc"),active:i.sortDirection==="asc"},{default:X(()=>[ne(At,null,{default:X(()=>[$e(we(i.t("models.sort.direction.asc")),1)]),_:1}),i.sortDirection==="asc"?(K(),Me(At,{key:0,side:""},{default:X(()=>[ne(ht,{name:"check"})]),_:1})):Ye("",!0)]),_:1},8,["active"]),ne(Dn,{clickable:"",onClick:r[4]||(r[4]=s=>i.sortDirection="desc"),active:i.sortDirection==="desc"},{default:X(()=>[ne(At,null,{default:X(()=>[$e(we(i.t("models.sort.direction.desc")),1)]),_:1}),i.sortDirection==="desc"?(K(),Me(At,{key:0,side:""},{default:X(()=>[ne(ht,{name:"check"})]),_:1})):Ye("",!0)]),_:1},8,["active"])]),_:1})]),_:1},8,["label"])]),_:1},8,["modelValue","loading","placeholder"])]),ne(i.ModelSelectorComponent,{"filtered-models":i.filteredModels,"current-slug":i.currentSlug,"search-query":i.searchQuery,onSelectModel:i.selectModel},null,8,["filtered-models","current-slug","search-query"])]),Fe("div",G2,[i.isLoading?(K(),Ne("div",V2,[ne(x1,{color:"primary",size:"40"}),Fe("div",U2,we(i.t("models.loading")),1)])):i.error?(K(),Ne("div",q2,[ne(ht,{name:"error_outline",color:"negative",size:"40px"}),Fe("div",W2,we(i.error),1),ne(cr,{flat:"",color:"primary",label:i.t("models.back_to_models"),class:"q-mt-md",onClick:r[6]||(r[6]=s=>i.router.push("/models"))},null,8,["label"])])):i.selectedModel?(K(),Ne(at,{key:2},[i.selectedModel.metadata.deprecated_by?(K(),Me(l1,{key:0,dense:"",class:"bg-warning text-black ellipsis","inline-actions":i.$q.screen.gt.md},{avatar:X(()=>[ne(ht,{name:"warning"})]),action:X(()=>[(K(!0),Ne(at,null,Ct(i.selectedModel.metadata.deprecated_by,s=>(K(),Me(cr,{flat:"","text-color":"black",size:"sm",square:"","no-caps":"",key:s,color:"white",label:s,icon:"link",onClick:d=>i.selectModel(s)},null,8,["label","onClick"]))),128))]),default:X(()=>[$e(" "+we(i.t("models.warnings.deprecated"))+" ",1)]),_:1},8,["inline-actions"])):Ye("",!0),ne(Dl,{flat:"",square:"",class:"metadata-section bg-mixed-100 q-mb-md q-pa-md"},{default:X(()=>[ne(zr,null,{default:X(()=>{var s,d,h;return[Fe("div",Y2,[Fe("div",null,[(s=i.selectedModel.metadata.endpoints)!=null&&s.includes("embedding")?(K(),Me(ht,{key:0,class:"info-icon",name:"img:"+i.embeddingIcon},{default:X(()=>[ne(bt,null,{default:X(()=>[$e(we(i.t("landing_page.embeddings")),1)]),_:1})]),_:1},8,["name"])):(d=i.selectedModel.metadata.endpoints)!=null&&d.includes("rank")?(K(),Me(ht,{key:1,class:"info-icon",name:"img:"+i.rerankerIcon},{default:X(()=>[ne(bt,null,{default:X(()=>[$e(we(i.t("landing_page.reranker")),1)]),_:1})]),_:1},8,["name"])):(h=i.selectedModel.metadata.endpoints)!=null&&h.includes("read")?(K(),Me(ht,{key:2,class:"info-icon",name:"img:"+i.readerIcon},{default:X(()=>[ne(bt,null,{default:X(()=>[$e(we(i.t("landing_page.reader")),1)]),_:1})]),_:1},8,["name"])):Ye("",!0),i.ccncOptions.includes(i.selectModelName)?(K(),Me(ht,{key:3,class:"info-icon",name:"copyright"},{default:X(()=>[ne(bt,null,{default:X(()=>[$e(we(i.t("landing_page.ccbync")),1)]),_:1})]),_:1})):Ye("",!0)])]),Fe("h1",X2,we(i.selectModelName),1),Fe("div",Z2,[Fe("div",K2,we(i.t(`embedding.${i.selectModelName.replace(".","")}_description`)),1),i.selectedModel.metadata.release_blog?(K(),Me(cr,{key:0,flat:"",label:i.t("models.metadata.release_blog"),square:"",to:i.selectedModel.metadata.release_blog,"icon-right":"arrow_forward",class:"col-auto bg-mixed-200",target:"_blank"},null,8,["label","to"])):Ye("",!0)])]}),_:1}),ne(zr,null,{default:X(()=>{var s;return[Fe("div",Q2,[Fe("div",J2,we(i.t("models.metadata.license")),1),ne(It,{icon:i.ccncOptions.includes(i.selectModelName)?"copyright":"license",style:{"border-radius":"0"},size:"sm",class:"bg-mixed-200",color:"transparent",label:i.selectedModel.metadata.license},null,8,["icon","label"])]),Fe("div",j2,[Fe("div",eN,we(i.t("models.metadata.release_date")),1),ne(It,{icon:"calendar_month",style:{"border-radius":"0"},size:"sm",class:"bg-mixed-200",color:"transparent",label:i.selectedModel.metadata.release_date},{default:X(()=>[ne(bt,null,{default:X(()=>[$e(we(i.t("models.metadata.release_date")),1)]),_:1})]),_:1},8,["label"])]),Fe("div",tN,[Fe("div",nN,we(i.t("models.metadata.input_type")),1),(K(!0),Ne(at,null,Ct(i.selectedModel.metadata.input_type,d=>(K(),Me(It,{square:"",style:{"border-radius":"0"},size:"sm",key:d,class:"bg-mixed-200",icon:i.getIconForInputType(d)},{default:X(()=>[$e(we(i.t(`models.input_type.${d}`)),1)]),_:2},1032,["icon"]))),128)),ne(ht,{name:"arrow_forward",class:"text-dim"}),Fe("div",rN,we(i.t("models.metadata.output_type")),1),(K(!0),Ne(at,null,Ct(i.selectedModel.metadata.output_type,d=>(K(),Me(It,{square:"",style:{"border-radius":"0"},size:"sm",key:d,class:"bg-mixed-200",icon:i.getIconForInputType(d)},{default:X(()=>[$e(we(i.t(`models.input_type.${d}`)),1)]),_:2},1032,["icon"]))),128))]),Fe("div",oN,[Fe("div",iN,we(i.t("models.sections.model_details")),1),(K(!0),Ne(at,null,Ct(i.modelDetails,d=>(K(),Me(It,{key:d.key,style:{"border-radius":"0"},size:"sm",class:"bg-mixed-200"},{default:X(()=>[$e(we(i.t(`models.sections.${d.key}`))+": "+we(d.value),1)]),_:2},1024))),128))]),(s=i.selectedModel.metadata.language)!=null&&s.length?(K(),Ne("div",aN,[Fe("div",lN,we(i.t("models.sections.language")),1),(K(!0),Ne(at,null,Ct(i.selectedModel.metadata.language,d=>(K(),Me(It,{square:"",style:{"border-radius":"0"},size:"sm",key:d,class:"bg-mixed-200"},{default:X(()=>[$e(we(`${i.langcode2SingleEmoji(d)} ${i.mapLangCodeToLanguageName(d)}`),1)]),_:2},1024))),128))])):Ye("",!0),i.selectedModel.metadata.related_models&&i.selectedModel.metadata.related_models.length?(K(),Ne("div",sN,[Fe("div",uN,we(i.t("models.metadata.related_models")),1),(K(!0),Ne(at,null,Ct(i.selectedModel.metadata.related_models,d=>(K(),Me(It,{clickable:"",square:"",key:d,class:"bg-mixed-200",size:"sm",style:{"border-radius":"0"},onClick:h=>i.selectModel(d),icon:"link"},{default:X(()=>[$e(we(d),1)]),_:2},1032,["onClick"]))),128))])):Ye("",!0),Fe("div",cN,[Fe("div",dN,we(i.t("models.sections.tags")),1),(K(!0),Ne(at,null,Ct(i.selectedModel.metadata.tags,d=>(K(),Me(It,{size:"sm",style:{"border-radius":"0"},key:d,class:"bg-mixed-200"},{default:X(()=>[$e(we(d),1)]),_:2},1024))),128))])]}),_:1})]),_:1}),ne(Dl,{flat:"",square:"",class:"bg-mixed-100 q-mb-md q-pa-md"},{default:X(()=>[ne(zr,{class:"text-caption text-dim q-py-none"},{default:X(()=>[$e(we(i.t("models.sections.using_model")),1)]),_:1}),ne(zr,{class:"row q-col-gutter-sm q-pb-none"},{default:X(()=>[(K(!0),Ne(at,null,Ct(i.availableExternalLinks,s=>(K(),Me(cr,{"no-caps":"",flat:"",icon:s.icon,label:i.t(`models.metadata.${s.key}_link`),key:s.key,square:"",class:"ellipsis",href:s.link.startsWith("http")?s.link:void 0,to:s.link.startsWith("http")?void 0:s.link,target:"_blank"},null,8,["icon","label","href","to"]))),128))]),_:1})]),_:1}),ne(i.ModelCompareTable,{"current-model":i.selectedModel,"all-models":i.models},null,8,["current-model","all-models"]),ne(i.ResearchersComponent,{"model-name":i.selectModelName},null,8,["model-name"]),(K(),Ne(at,null,Ct(["overview","methods","performance","guidance"],s=>Fe("div",{key:s,class:"q-py-lg"},[Fe("h4",{class:"text-r-h4",id:s},we(i.t(`models.sections.${s}.title`)),9,fN),Fe("div",null,we(i.t(`models.sections.${s}.${i.selectModelNameNormalized}`)),1)])),64)),i.isRelatedBlogEmpty?Ye("",!0):(K(),Ne("div",hN,we(i.t("models.sections.blogs")),1)),ne(i.NewsFilterComponent,{initiating:i.initiating,"translated-all-blogs":i.translatedAllBlogs,"search-by-title":i.selectModelName,"onUpdate:filteredBlogs":i.checkIfEmpty,"per-page":5},null,8,["initiating","translated-all-blogs","search-by-title"])],64)):(K(),Ne("div",gN,we(i.t("models.select_model")),1))])],2)]),_:1})]),_:1})}const LN=Wi(B2,[["render",pN],["__file","ModelsPage.vue"]]);export{LN as default};
