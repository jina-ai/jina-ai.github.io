import{Q as H}from"./QImg.fab809a6.js";import{e as re,a6 as oe,f,h as fe,K as ne,J as he,a5 as ve,a7 as w,a8 as s,av as ye,u as ie,aE as ge,a9 as c,ad as a,aa as v,aw as _,ah as t,bL as Y,j as T,ap as Q,ai as y,am as V,af as R,ag as o,al as xe,ak as e,ao as z,ab as I,aj as qe,bA as ee,an as m,aB as we,Z as te,b1 as ae,bx as be,by as ke}from"./index.c682e0c4.js";import{b as je}from"./QTable.59abb01e.js";import{_ as $e,Q as Qe,a as Re}from"./AskAnythingToolTip.4cca36da.js";import{u as Te}from"./useMetaTags.7e8d7341.js";import{Q as Ie,c as Le,_ as Se}from"./EmbeddingComponent.2ffd358e.js";import{T as Ce}from"./TitleBlock.2b91f615.js";import{_ as Be}from"./FAQComponent.25d2f6b1.js";import{Q as A}from"./QTooltip.9b59c442.js";import{Q as W,_ as se}from"./QTabPanels.0b050cd2.js";import{Q as le}from"./QLinearProgress.ffacbf19.js";import{c as Ue}from"./copy-to-clipboard.e39e9506.js";import{_ as Pe}from"./PricingComponent.b3971465.js";import"./QList.a29cefd0.js";import"./QSelect.6e290c04.js";import"./QItemLabel.e5892677.js";import"./QMenu.11f9f609.js";import"./position-engine.4da8d8d7.js";import"./rtl.4aeb06d5.js";import"./use-fullscreen.1979d031.js";import"./QTabs.ee871d2f.js";import"./QResizeObserver.f786580a.js";import"./QBtnDropdown.c76d0441.js";import"./ClosePopup.92783d20.js";import"./embedding.aa9901d4.js";import"./ModelDropDown.8e47d33b.js";import"./regexp.d033247d.js";import"./QForm.cd0ce655.js";import"./QSlideTransition.a771076c.js";import"./use-panel.29dce8d0.js";import"./touch.3df10340.js";import"./use-cache.b0833c75.js";import"./QExpansionItem.52acd889.js";var Ee="/assets/explain.00d2d1a4.svg",Ve="/assets/explain3.ddb193be.svg",Ae="/assets/explain2.eda58d92.svg";const Me={class:"text-caption text-bold text-grey-5"},De={class:"text-caption text-bold text-grey-5"},Oe={class:"text-caption text-bold text-grey-5"},He=re({__name:"ReaderSearchDemoComponent",props:{originalURL:{default:""},disableQA:{type:Boolean,default:!1},disableOriginalURL:{type:Boolean,default:!1}},setup(b){const{t:d}=oe({useScope:"global"}),l=f(""),q=f(!1),r=f(!1),g=ie(),L=["When was Jina AI founded?","What did Elon Musk say about Open AI recently?","When will the next SpaceX launch be?","What is the market cap of Apple today?","Who will win 2024 US presidential election?","Who is playing in the US Open final?"],S=()=>L[Math.floor(Math.random()*L.length)],h=f(null);let n=null;const k=f(b.originalURL||S()),M=fe(()=>`https://s.jina.ai/${encodeURIComponent(k.value)}`),N=f(null),j=f([]),$=f([]),B=f(!1),U=f(!1),D=f(!1),P=f(!1),J=async i=>{var K,X,G;if(!await((K=N.value)==null?void 0:K.validate()))return Promise.reject();const C={parameters:{question:k.value,context:i?"":l.value.slice(0,3e3)}};i?(j.value=[],B.value=!0,D.value=!0):($.value=[],U.value=!0,P.value=!0);const u="https://api.promptperfect.jina.ai/ERK3nqviaFRyfGbkBsXD";try{const x=await fetch(u,{headers:{"content-type":"application/json"},body:JSON.stringify(C),method:"POST"});if(!x.ok)throw new Error(`HTTP error! status: ${x.status}`);if((X=x.headers.get("content-type"))!=null&&X.includes("text/event-stream")){if(x.body){const E=x.body.getReader(),me=new TextDecoder;for(;;){const{done:pe,value:Z}=await E.read();if(pe){i?D.value=!1:P.value=!1;break}Z&&me.decode(Z).split(`

`).forEach(_e=>{const O=_e.replace(/data: /g,"");O&&(i?j.value.push(O):$.value.push(O))})}}}else if((G=x.headers.get("content-type"))!=null&&G.includes("application/json")){const E=(await x.json()).data;i?j.value=[E]:$.value=[E]}else throw new Error("Unknown response type")}catch(x){g.notify({color:"negative",message:d("landing_page.error",{message:x}),icon:"report_problem"})}finally{i?B.value=!1:U.value=!1}},de=async()=>{r.value=!0,$.value=[];try{const i=await fetch(M.value);if(!i.ok)throw l.value=`\`\`\`json
${await i.json()}
\`\`\``,new Error(`Request failed with status ${i.status}`);const p=await i.text();l.value=`\`\`\`plaintext
${p}
\`\`\``}catch(i){g.notify({message:i.message,color:"negative"})}finally{r.value=!1}},F=async()=>{await Promise.all([de(),J(!0)]),await J(!1)},ue=()=>{var p;const i=((p=h.value)==null?void 0:p.$el)||h.value;i instanceof HTMLElement?(n=new IntersectionObserver(C=>{C[0].isIntersecting&&(F().then(()=>{}),n==null||n.disconnect())},{root:null,threshold:.1}),n.observe(i)):console.error("Element is not an HTMLElement:",i)};return ne(()=>{he(()=>{setTimeout(()=>{ue()},100)})}),ve(()=>{n&&n.disconnect()}),(i,p)=>{const C=ge("q-markdown");return c(),w(ye,{bordered:"",flat:"",square:"",class:"col-12 col-md-10",ref_key:"componentRef",ref:h},{default:s(()=>[a(_,{horizontal:t(g).screen.gt.sm},{default:s(()=>[i.disableOriginalURL?V("",!0):(c(),v(y,{key:0},[a(_,{class:"col"},{default:s(()=>[a(t(Y),{modelValue:k.value,"onUpdate:modelValue":p[1]||(p[1]=u=>k.value=u),label:t(d)("reader.demo.your_query"),type:"url",loading:q.value,hint:t(d)("reader.demo.your_query_hint"),ref_key:"questionRef",ref:N},{prepend:s(()=>[a(T,{dense:"",square:"",flat:"",icon:"casino",onClick:p[0]||(p[0]=u=>k.value=S())})]),_:1},8,["modelValue","label","loading","hint"])]),_:1}),a(Q,{vertical:t(g).screen.gt.sm},null,8,["vertical"])],64)),a(_,{class:"col"},{default:s(()=>[a(t(Y),{"model-value":`https://s.jina.ai/${k.value}`,label:t(d)("reader.demo.reader_url"),readonly:"",loading:r.value,"bottom-slots":""},{append:s(()=>[a(T,{flat:"",dense:"",square:"",icon:"content_copy",onClick:p[2]||(p[2]=u=>t(Ue)(M.value))},{default:s(()=>[a(A,null,{default:s(()=>[R(o(t(d)("copy")),1)]),_:1})]),_:1}),a(T,{flat:"",dense:"",square:"",icon:"open_in_new",onClick:p[3]||(p[3]=u=>t(xe)(M.value))},{default:s(()=>[a(A,null,{default:s(()=>[R(o(t(d)("demo.open")),1)]),_:1})]),_:1})]),hint:s(()=>[R(o(t(d)("reader.demo.reader_search_hint")),1)]),_:1},8,["model-value","label","loading"])]),_:1})]),_:1},8,["horizontal"]),a(Q),a(T,{square:"",label:t(d)("reader.demo.ask_llm"),class:"full-width",icon:"contact_support",onClick:F,padding:"md"},null,8,["label"]),U.value||B.value||r.value||$.value.length>0||j.value.length>0?(c(),v(y,{key:0},[a(Q),a(_,{horizontal:t(g).screen.gt.sm,class:"q-pa-none"},{default:s(()=>[a(_,{class:"col"},{default:s(()=>[e("span",Me,o(t(d)("reader.demo.ask_llm_directly")),1),B.value?(c(),w(_,{key:0},{default:s(()=>[a(z,{name:"img:https://promptperfect.jina.ai/PromptPerfect-dark.svg",class:"q-mr-sm"},{default:s(()=>[a(A,null,{default:s(()=>[R(o(t(d)("landing_page.powered_by_promptperfect")),1)]),_:1})]),_:1}),(c(),v(y,null,I([0,1,2,3],u=>a(W,{key:u,class:"q-my-xs",width:u>0?"":"100px",type:"text"},null,8,["width"])),64))]),_:1})):(c(),v(y,{key:1},[a(_,{class:"q-pa-lg"},{default:s(()=>[a(se,{text:j.value,"speed-time":j.value?50:0},null,8,["text","speed-time"])]),_:1}),D.value?(c(),w(le,{key:0,indeterminate:""})):V("",!0)],64))]),_:1}),a(Q,{vertical:t(g).screen.gt.sm},null,8,["vertical"]),a(_,{class:"col"},{default:s(()=>[e("span",De,o(t(d)("reader.demo.reader_response")),1),r.value?(c(),w(_,{key:0},{default:s(()=>[(c(),v(y,null,I([100,300,200,200],u=>a(W,{type:"text",width:`${u}px`,key:u},null,8,["width"])),64))]),_:1})):(c(),w(C,{key:1,src:l.value,"no-line-numbers":"",style:{"max-height":"300px"}},null,8,["src"]))]),_:1}),a(Q,{vertical:t(g).screen.gt.sm},null,8,["vertical"]),a(_,{class:"col"},{default:s(()=>[e("span",Oe,o(t(d)("reader.demo.ask_llm_with_search_grounding")),1),a(Ie,{label:t(d)("reader.demo.waiting_for_reader"),showing:r.value},null,8,["label","showing"]),U.value?(c(),w(_,{key:0},{default:s(()=>[a(z,{name:"img:https://promptperfect.jina.ai/PromptPerfect-dark.svg",class:"q-mr-sm"},{default:s(()=>[a(A,null,{default:s(()=>[R(o(t(d)("landing_page.powered_by_promptperfect")),1)]),_:1})]),_:1}),(c(),v(y,null,I([0,1,2,3],u=>a(W,{key:u,class:"q-my-xs",width:u>0?"":"100px",type:"text"},null,8,["width"])),64))]),_:1})):(c(),v(y,{key:1},[a(_,{class:"q-pa-lg"},{default:s(()=>[a(se,{text:$.value,"speed-time":P.value?50:0},null,8,["text","speed-time"])]),_:1}),P.value?(c(),w(le,{key:0,indeterminate:""})):V("",!0)],64))]),_:1})]),_:1},8,["horizontal"])],64)):V("",!0),a(Q),a(_,{class:"text-grey"},{default:s(()=>[a(z,{name:"info"}),R(" "+o(t(d)("reader.demo.search_query_rewrite")),1)]),_:1})]),_:1},512)}}});const ce=b=>(be("data-v-75350d50"),b=b(),ke(),b),ze={class:"col-12 col-md-11 q-py-xl q-mx-xs-xs q-mx-sm-sm q-mx-md-md q-mx-lg-lg q-mx-xl-xl q-ma-xl relative-position"},We={class:"row q-mt-xl q-pt-xl justify-center"},Ne={class:"row justify-center items-center"},Je={class:"col-11 col-md-8"},Fe={class:"q-my-xl row justify-center items-center"},Ke={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},Xe={class:"q-my-xl row justify-center items-center"},Ge={class:"row q-mt-xl q-pt-xl justify-center"},Ze={class:"row justify-center items-center"},Ye={class:"col-11 col-md-8"},et={class:"q-my-xl row justify-center items-center"},tt={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},at=["innerHTML"],st={class:"q-my-xl row justify-center items-center"},lt={class:"row q-mt-xl q-pt-xl justify-center"},rt={class:"row justify-center items-center"},ot={class:"col-11 col-md-8"},nt={class:"q-my-xl row justify-center items-center"},it={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},ct={class:"row q-mt-xl q-pt-xl justify-center"},dt={class:"q-my-xl row justify-center items-center"},ut={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},mt={class:"q-my-xl row justify-center items-center",id:"rate-limit"},pt={class:"col-11 col-md-8 text-subtitle1 q-my-lg",style:{"white-space":"pre-line"}},_t=ce(()=>e("td",null,[e("code",null,"r.jina.ai")],-1)),ft=ce(()=>e("td",null,[e("code",null,"s.jina.ai")],-1)),ht={class:"q-my-xl row justify-center items-center text-subtitle1"},vt={class:"row q-mt-xl q-pt-xl justify-center"},yt={class:"q-my-xl row justify-center items-center"},gt={class:"q-my-xl row justify-center items-center"},xt={class:"row q-mt-xl q-py-xl justify-center"},qt={class:"q-my-xl text-center text-grey-5 text-h6 text-weight-light"},wt={class:"row justify-center"},bt={class:"col-12 col-md-9 q-pb-xl"},kt=re({__name:"ReaderPage",setup(b){const d=qe(),{t:l}=oe({useScope:"global"}),q=f(!1);Te({page:"reader",banner:"banner-reader-api.png",url:"reader"});const r=ie(),g=[{label:"landing_page.get_api_now",icon:"code",anchor:"#apiform"},{label:"reader.demo.try_demo",icon:"play_arrow",anchor:"#demo"},{label:"landing_page.source_code",icon:"fab fa-github",anchor:"https://github.com/jina-ai/reader"}];ne(async()=>{ee(d.hash)});function L(S){q.value=S,ee("#demo")}return(S,h)=>(c(),w(Qe,null,{default:s(()=>[e("div",{class:m(["row justify-center items-center img-bg",t(r).screen.lt.sm?"q-pa-md":"q-pa-xl"])},[e("div",ze,[a(Ce,{title:t(l)("landing_page.reader"),tagline:t(l)("reader.reader_description"),"large-title":!0,buttons:g},null,8,["title","tagline"])])],2),e("div",{class:m(t(r).screen.lt.sm?"q-pa-md":"q-pa-xl"),id:"what_reader"},[e("div",We,[e("div",{class:m(t(r).screen.lt.md?"q-mb-lg q-pb-md":"")},[e("h2",{class:m(["text-h2 text-white q-mb-lg text-center",t(r).screen.lt.md?"justify-center":""])},o(t(l)("reader.what_is1")),3)],2)]),e("div",Ne,[e("div",Je,[a(H,{src:Ee})])]),e("div",Fe,[e("div",Ke,o(t(l)("reader.what_is_answer_long")),1)]),e("div",Xe,[a(T,{label:t(l)("reader.demo.show_read_demo"),icon:"play_arrow",outline:"",padding:"lg",square:"",onClick:h[0]||(h[0]=n=>L(!1))},null,8,["label"])]),e("div",Ge,[e("div",{class:m(t(r).screen.lt.md?"q-mb-lg q-pb-md":"")},[e("h3",{class:m(["text-h3 text-white q-mb-lg text-center",t(r).screen.lt.md?"justify-center":""])},o(t(l)("reader.reader_do_search")),3)],2)]),e("div",Ze,[e("div",Ye,[a(H,{src:Ve})])]),e("div",et,[e("div",tt,[e("span",{innerHTML:t(l)("reader.reader_do_search_explain")},null,8,at)])]),e("div",st,[a(T,{label:t(l)("reader.demo.show_search_demo"),icon:"play_arrow",outline:"",padding:"lg",square:"",onClick:h[1]||(h[1]=n=>L(!0))},null,8,["label"])]),e("div",lt,[e("div",{class:m(t(r).screen.lt.md?"q-mb-lg q-pb-md":"")},[e("h3",{class:m(["text-h3 text-white q-mb-lg text-center",t(r).screen.lt.md?"justify-center":""])},o(t(l)("reader.reader_reads_images")),3)],2)]),e("div",rt,[e("div",ot,[a(H,{src:Ae})])]),e("div",nt,[e("div",it,o(t(l)("reader.reader_also_read_images")),1)]),e("div",ct,[e("div",{class:m(t(r).screen.lt.md?"q-mb-lg q-pb-md":"")},[e("h3",{class:m(["text-h3 text-white q-mb-lg text-center",t(r).screen.lt.md?"justify-center":""])},o(t(l)("reader.is_free")),3)],2)]),e("div",dt,[e("div",ut,o(t(l)("reader.is_free_description")),1)]),e("div",mt,[e("div",pt,[a(je,{"wrap-cells":"",flat:"",square:"",separator:"cell",bordered:"",class:"bg-transparent"},{default:s(()=>[e("thead",null,[e("tr",null,[(c(),v(y,null,I([0,1,2,3,4,5],n=>e("th",{key:n},o(t(l)(`reader.table.th${n}`)),1)),64))])]),e("tbody",null,[e("tr",null,[_t,(c(),v(y,null,I([0,1,2,3,4],n=>e("td",{key:n},o(t(l)(`reader.table.td_1_${n}`)),1)),64))]),e("tr",null,[ft,(c(),v(y,null,I([0,1,2,3,4],n=>e("td",{key:n},o(t(l)(`reader.table.td_2_${n}`)),1)),64))])])]),_:1})])]),e("div",ht,o(t(l)("reader.dont_panic_api_key_is_free")),1)],2),e("div",{class:m([t(r).screen.lt.sm?"q-pa-md":"q-pa-xl","bg-dark"]),id:"demo"},[e("div",vt,[e("div",{class:m(t(r).screen.lt.md?"q-mb-lg q-pb-md":"")},[e("h2",{class:m(["text-h2 text-white q-mb-lg text-center",t(r).screen.lt.md?"justify-center":""])},o(t(l)("reader.demo.tagline")),3)],2)]),e("div",yt,[a(we,{modelValue:q.value,"onUpdate:modelValue":h[2]||(h[2]=n=>q.value=n),size:"xl",label:q.value?t(l)("reader.demo.show_read_demo"):t(l)("reader.demo.show_search_demo"),"checked-icon":"search","unchecked-icon":"double_arrow"},null,8,["modelValue","label"])]),e("div",gt,[te(a(He,null,null,512),[[ae,q.value]]),te(a(Le,null,null,512),[[ae,!q.value]])])],2),e("div",{class:m(t(r).screen.lt.sm?"q-pa-md":"q-pa-xl"),id:"apiform"},[e("div",xt,[e("div",{class:m(t(r).screen.lt.md?"q-mb-lg q-pb-md":"")},[e("h2",{class:m(["text-h2 text-white q-mb-lg text-center",t(r).screen.lt.md?"justify-center":""])},o(t(l)("reader.title")),3)],2)]),e("div",qt,o(t(l)("reader.reader_description")),1),e("div",wt,[e("div",bt,[a(Se,{"show-function":"reader"})])])],2),a(Pe),a(Be,{"faq-sources":["reader.faq_v1","api_general_faq","billing_general_faq"]},null,8,["faq-sources"]),a(Re)]),_:1}))}});var na=$e(kt,[["__scopeId","data-v-75350d50"]]);export{na as default};
