import{b as re,a as P,Q as ne}from"./QItemLabel-xJuhTl8F.js";import{i as T,j as z,F as pe,bl as Xe,H as ge,U as Ze,k as J,m as De,cm as Je,bn as $e,cb as et,cd as tt,ce as at,cn as lt,aK as nt,cc as it,M as ot,ch as Te,h as be,ab as ye,X as he,Y as u,Z as g,$ as t,a0 as a,a5 as ce,ae as Q,af as f,a7 as C,ag as m,a9 as s,aF as Pe,l as W,am as Ie,a8 as F,a_ as rt,b8 as xe,bs as st,aP as ze,aR as je,aQ as ke,bS as ct,aS as ut,a1 as N,aa as D,bg as Ve,aA as Ke,a2 as ie,a3 as oe,a6 as Y,a4 as $,ak as dt,bb as mt,O as Ee,bR as Oe,u as ft,co as _t,cp as gt,aW as pt,an as bt,ai as yt,aE as ht,ad as vt,aU as Re,c0 as wt,c1 as xt,G as kt,aq as Pt,N as qt,c6 as It,b1 as Ct,cq as St}from"./index-Dh9do1UK.js";import{h as At}from"./format-DyQxkAtJ.js";import{a as fe}from"./QExpansionItem-BsNGMhC3.js";import{Q as G}from"./QTooltip-BhWnxOlm.js";import{a as Ue,Q as Tt}from"./QBtnGroup-QHDyiGpc.js";import{Q as Qe}from"./QLinearProgress-Dr-l9Cqa.js";import{d as Ot,a as qe,Q as Fe}from"./finetune-3CCn0kJj.js";import{c as Rt}from"./copy-to-clipboard-Ctfr2HNp.js";import{u as Be,T as Ft}from"./embedding-PWwIJvpl.js";import{a as Le,Q as X,b as Me}from"./QTable-BDUxGn-V.js";import{C as Mt}from"./ClosePopup-DLjUltvM.js";import{Q as Dt}from"./QSpace-BBZmQ9bY.js";function le(i,o,n,e){const c=[];return i.forEach(d=>{e(d)===!0?c.push(d):o.push({failedPropValidation:n,file:d})}),c}function _e(i){i&&i.dataTransfer&&(i.dataTransfer.dropEffect="copy"),ge(i)}const zt={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},jt=["rejected"];function Vt({editable:i,dnd:o,getFileInput:n,addFilesToQueue:e}){const{props:c,emit:d,proxy:l}=pe(),O=T(null),q=z(()=>c.accept!==void 0?c.accept.split(",").map(r=>(r=r.trim(),r==="*"?"*/":(r.endsWith("/*")&&(r=r.slice(0,r.length-1)),r.toUpperCase()))):null),M=z(()=>parseInt(c.maxFiles,10)),I=z(()=>parseInt(c.maxTotalSize,10));function S(r){if(i.value)if(r!==Object(r)&&(r={target:null}),r.target!==null&&r.target.matches('input[type="file"]')===!0)r.clientX===0&&r.clientY===0&&Xe(r);else{const _=n();_&&_!==r.target&&_.click(r)}}function E(r){i.value&&r&&e(null,r)}function p(r,_,v,V){let h=Array.from(_||r.target.files);const K=[],H=()=>{K.length!==0&&d("rejected",K)};if(c.accept!==void 0&&q.value.indexOf("*/")===-1&&(h=le(h,K,"accept",x=>q.value.some(R=>x.type.toUpperCase().startsWith(R)||x.name.toUpperCase().endsWith(R))),h.length===0))return H();if(c.maxFileSize!==void 0){const x=parseInt(c.maxFileSize,10);if(h=le(h,K,"max-file-size",R=>R.size<=x),h.length===0)return H()}if(c.multiple!==!0&&h.length!==0&&(h=[h[0]]),h.forEach(x=>{x.__key=x.webkitRelativePath+x.lastModified+x.name+x.size}),V===!0){const x=v.map(R=>R.__key);h=le(h,K,"duplicate",R=>x.includes(R.__key)===!1)}if(h.length===0)return H();if(c.maxTotalSize!==void 0){let x=V===!0?v.reduce((R,ee)=>R+ee.size,0):0;if(h=le(h,K,"max-total-size",R=>(x+=R.size,x<=I.value)),h.length===0)return H()}if(typeof c.filter=="function"){const x=c.filter(h);h=le(h,K,"filter",R=>x.includes(R))}if(c.maxFiles!==void 0){let x=V===!0?v.length:0;if(h=le(h,K,"max-files",()=>(x++,x<=M.value)),h.length===0)return H()}if(H(),h.length!==0)return h}function U(r){_e(r),o.value!==!0&&(o.value=!0)}function w(r){ge(r),(r.relatedTarget!==null||Ze.is.safari!==!0?r.relatedTarget!==O.value:document.elementsFromPoint(r.clientX,r.clientY).includes(O.value)===!1)===!0&&(o.value=!1)}function b(r){_e(r);const _=r.dataTransfer.files;_.length!==0&&e(null,_),o.value=!1}function A(r){if(o.value===!0)return J("div",{ref:O,class:`q-${r}__dnd absolute-full`,onDragenter:_e,onDragover:_e,onDragleave:w,onDrop:b})}return Object.assign(l,{pickFiles:S,addFiles:E}),{pickFiles:S,addFiles:E,onDragover:U,onDragleave:w,processFiles:p,getDndNode:A,maxFilesNumber:M,maxTotalSizeNumber:I}}const Oa=De({name:"QFile",inheritAttrs:!1,props:{...Je,...$e,...zt,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...et,...jt],setup(i,{slots:o,emit:n,attrs:e}){const{proxy:c}=pe(),d=tt(),l=T(null),O=T(!1),q=at(i),{pickFiles:M,onDragover:I,onDragleave:S,processFiles:E,getDndNode:p}=Vt({editable:d.editable,dnd:O,getFileInput:ae,addFilesToQueue:se}),U=lt(i),w=z(()=>Object(i.modelValue)===i.modelValue?"length"in i.modelValue?Array.from(i.modelValue):[i.modelValue]:[]),b=z(()=>Te(w.value)),A=z(()=>w.value.map(y=>y.name).join(", ")),r=z(()=>At(w.value.reduce((y,j)=>y+j.size,0))),_=z(()=>({totalSize:r.value,filesNumber:w.value.length,maxFiles:i.maxFiles})),v=z(()=>({tabindex:-1,type:"file",title:"",accept:i.accept,capture:i.capture,name:q.value,...e,id:d.targetUid.value,disabled:d.editable.value!==!0})),V=z(()=>"q-file q-field--auto-height"+(O.value===!0?" q-file--dnd":"")),h=z(()=>i.multiple===!0&&i.append===!0);function K(y){const j=w.value.slice();j.splice(y,1),x(j)}function H(y){const j=w.value.indexOf(y);j!==-1&&K(j)}function x(y){n("update:modelValue",i.multiple===!0?y:y[0])}function R(y){y.keyCode===13&&ot(y)}function ee(y){(y.keyCode===13||y.keyCode===32)&&M(y)}function ae(){return l.value}function se(y,j){const L=E(y,j,w.value,h.value),ue=ae();ue!=null&&(ue.value=""),L!==void 0&&((i.multiple===!0?i.modelValue&&L.every(de=>w.value.includes(de)):i.modelValue===L[0])||x(h.value===!0?w.value.concat(L):L))}function Z(){return[J("input",{class:[i.inputClass,"q-file__filler"],style:i.inputStyle})]}function ve(){if(o.file!==void 0)return w.value.length===0?Z():w.value.map((j,L)=>o.file({index:L,file:j,ref:this}));if(o.selected!==void 0)return w.value.length===0?Z():o.selected({files:w.value,ref:this});if(i.useChips===!0)return w.value.length===0?Z():w.value.map((j,L)=>J(re,{key:"file-"+L,removable:d.editable.value,dense:!0,textColor:i.color,tabindex:i.tabindex,onRemove:()=>{K(L)}},()=>J("span",{class:"ellipsis",textContent:j.name})));const y=i.displayValue!==void 0?i.displayValue:A.value;return y.length!==0?[J("div",{class:i.inputClass,style:i.inputStyle,textContent:y})]:Z()}function we(){const y={ref:l,...v.value,...U.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:se};return i.multiple===!0&&(y.multiple=!0),J("input",y)}return Object.assign(d,{fieldClass:V,emitValue:x,hasValue:b,inputRef:l,innerValue:w,floatingLabel:z(()=>b.value===!0||Te(i.displayValue)),computedCounter:z(()=>{if(i.counterLabel!==void 0)return i.counterLabel(_.value);const y=i.maxFiles;return`${w.value.length}${y!==void 0?" / "+y:""} (${r.value})`}),getControlChild:()=>p("file"),getControl:()=>{const y={ref:d.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:i.tabindex};return d.editable.value===!0&&Object.assign(y,{onDragover:I,onDragleave:S,onKeydown:R,onKeyup:ee}),J("div",y,[we()].concat(ve()))}}),Object.assign(c,{removeAtIndex:K,removeFile:H,getNativeElement:()=>l.value}),nt(c,"nativeEl",()=>l.value),it(d)}}),Ra=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,Fa=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,Kt=()=>!0;function Et(i){const o={};return i.forEach(n=>{o[n]=Kt}),o}function Ce(){const{emit:i,proxy:o}=pe(),n=T(null);function e(){n.value.show()}function c(){n.value.hide()}function d(O){i("ok",O),c()}function l(){i("hide")}return Object.assign(o,{show:e,hide:c}),{dialogRef:n,onDialogHide:l,onDialogOK:d,onDialogCancel:c}}const Ne=["ok","hide"];Ce.emits=Ne;Ce.emitsObject=Et(Ne);const Ut=be({__name:"UsageHistoryDialog",props:{apiKey:{}},setup(i,{expose:o}){o();const n=i,{t:e}=ye({useScope:"global"}),c=Be(),{dialogRef:d}=Ce(),l=()=>{var b;(b=S.value)==null||b.requestServerInteraction()},O=()=>{E.value=[]},q=b=>{var A,r;switch((A=b.request_path)==null?void 0:A.toLowerCase()){case"/encode":case"/checkfact":return M((r=b.metadata)==null?void 0:r.model_name);case"/embeddings":case"/rerank":case"/classify":case"/train":return`api.jina.ai/v1${b.request_path}`;case"/multi-embeddings":return"api.jina.ai/v1/multi-vector";case"/segment":return"segment.jina.ai";default:return b.request_path}},M=b=>{if(!b)return"";switch(b.toLowerCase()){case"reader-crawl":return"r.jina.ai";case"reader-search":return"s.jina.ai";case"grounding-checkfact":return"g.jina.ai";default:return b}},I=T(!1),S=T(null),E=T([]),p=T([{name:"icon",label:"",field:"amount",sortable:!1,align:"right"},{name:"createdAt",label:e("embedding.usage_time"),field:"createdAt",sortable:!1,align:"left",format:b=>Ot.formatDate(b,"YYYY-MM-DD")},{name:"amount",label:e("embedding.tokens"),field:"amount",sortable:!1,align:"right",format:b=>b>0?`+${b}`:`${b}`},{name:"reason",label:e("embedding.usage_reason"),field:"reason",sortable:!1,align:"left"},{name:"requestPath",label:e("embedding.request_path"),field:"request_path",sortable:!1,align:"left"},{name:"requestNumber",label:e("embedding.request_number"),field:"request_number",sortable:!1,align:"right",format:b=>b?qe(b):""}]),w={props:n,t:e,embeddingStore:c,dialogRef:d,onUsageHistoryDialogShow:l,onUsageHistoryDialogHide:O,getEndpoint:q,formatModelName:M,isUsageLoading:I,usageTableRef:S,usageRows:E,usageColumns:p,getUsageHistory:async()=>{I.value=!0;const b=await c.getUsage(n.apiKey);I.value=!1,!(!b||b.length===0)&&(E.value=b.map(A=>{const r=new Date(A.updated_at);let _=A.quantity,v=e(`embedding.usage_reason_${A.type}`);return A.type===Ft.CONSUME?(_=-_,A.metadata.model_name&&(v=v+": "+M(A.metadata.model_name))):(A.metadata.product_name&&(v=v+": "+A.metadata.product_name),A.metadata.order_quantity&&A.metadata.order_quantity>1&&(v=v+` (x ${A.metadata.order_quantity})`)),{createdAt:r,amount:_,reason:v,request_path:q(A),request_number:A.request_number}}))},get QTable(){return Le},get formatNumber(){return qe}};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}});function Qt(i,o,n,e,c,d){return u(),g(rt,{ref:"dialogRef",onShow:e.onUsageHistoryDialogShow,onHide:e.onUsageHistoryDialogHide},{default:t(()=>[a(ce,{style:{width:"1000px","max-width":"80vw"}},{default:t(()=>[a(Q,{class:"q-pa-md"},{default:t(()=>[a(f,{avatar:""},{default:t(()=>[a(C,{name:"history"})]),_:1}),a(f,null,{default:t(()=>[a(P,null,{default:t(()=>[m(s(e.t("embedding.usage_history")),1)]),_:1}),a(P,{caption:""},{default:t(()=>[m(s(e.t("embedding.usage_history_explain")),1)]),_:1})]),_:1}),a(f,{side:""},{default:t(()=>[Pe(a(W,{icon:"close",flat:"",round:"",dense:""},null,512),[[Mt]])]),_:1})]),_:1}),a(Ie),a(e.QTable,{ref:"usageTableRef",flat:"",class:"bg-transparent","row-key":"createdAt",rows:e.usageRows,columns:e.usageColumns,loading:e.isUsageLoading,onRequest:e.getUsageHistory,pagination:{rowsPerPage:10}},{"body-cell-icon":t(l=>[a(X,{key:"icon",props:l},{default:t(()=>[l.row.amount>0?(u(),g(C,{key:0,name:"o_add_circle_outline",color:"primary"})):(u(),g(C,{key:1,name:"o_remove_circle_outline",color:"negative"}))]),_:2},1032,["props"])]),"body-cell-amount":t(l=>[a(X,{key:"amount",props:l},{default:t(()=>[m(s((l.row.amount>0?"+":"")+e.formatNumber(l.row.amount)),1)]),_:2},1032,["props"])]),"body-cell-requestPath":t(l=>[a(X,{key:"request_path",props:l},{default:t(()=>[F("code",null,s(l.row.request_path),1)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])]),_:1})]),_:1},512)}const Bt=he(Ut,[["render",Qt],["__file","UsageHistoryDialog.vue"]]),Lt=be({__name:"RateLimitComponent",props:{showActionButtons:Boolean},setup(i,{expose:o}){o();const{t:n}=ye({useScope:"global"}),e=ct(),c=T([{icon:xe,endpoint:"https://r.jina.ai",name:n("reader.title"),description:n("rate_limit.rjinaai"),requestType:"GET/POST",woAPIkey:"20 RPM",wAPIkey:"200 RPM",wPremium:"1000 RPM",tokenCounting:n("rate_limit.output_token_counting"),latency:"4.6s",weight:e.name==="reader"?100:18},{icon:xe,endpoint:"https://s.jina.ai",name:n("reader.title"),description:n("rate_limit.sjinaai"),requestType:"GET/POST",woAPIkey:null,wAPIkey:"40 RPM",wPremium:"100 RPM",tokenCounting:n("rate_limit.output_token_counting"),latency:"8.7s",weight:e.name==="reader"?99:17},{icon:xe,endpoint:"https://g.jina.ai",name:n("reader.title"),description:n("rate_limit.gjinaai"),requestType:"GET/POST",woAPIkey:null,wAPIkey:"10 RPM",wPremium:"30 RPM",tokenCounting:n("rate_limit.total_token_counting"),latency:"22.7s",weight:e.name==="reader"?99:17},{icon:st,endpoint:"https://segment.jina.ai",name:n("tokenizer.title"),description:n("rate_limit.tokenizer"),requestType:"GET/POST",woAPIkey:"20 RPM",wAPIkey:"200 RPM",wPremium:"1,000 RPM",tokenCounting:n("rate_limit.no_token_counting"),latency:"0.3s",weight:e.name==="segmenter"?100:1},{icon:ze,endpoint:"https://api.jina.ai/v1/embeddings",name:n("embedding.title"),description:n("rate_limit.embeddings"),requestType:"POST",woAPIkey:null,wAPIkey:"500 RPM & 1,000,000 TPM",wPremium:"2,000 RPM & 5,000,000 TPM",tokenCounting:n("rate_limit.input_token_counting"),latency:null,latencyDepends:n("rate_limit.depends"),latencyExplain:n("rate_limit.batch_explain"),weight:e.name==="embeddings"?100:20},{icon:je,endpoint:"https://api.jina.ai/v1/rerank",name:n("reranker.title"),description:n("rate_limit.tokenizer"),requestType:"POST",woAPIkey:null,wAPIkey:"500 RPM & 1,000,000 TPM",wPremium:"2,000 RPM & 5,000,000 TPM",tokenCounting:n("rate_limit.input_token_counting"),latency:null,latencyDepends:n("rate_limit.depends"),latencyExplain:n("rate_limit.batch_explain"),weight:e.name==="reranker"?100:19},{icon:ke,endpoint:"https://api.jina.ai/v1/classify",name:`${n("classifier.title")} (${n("classifier.compare_table.zero_shot")})`,description:n("rate_limit.classifier_zero_shot"),requestType:"POST",woAPIkey:null,wAPIkey:"200 RPM & 500,000 TPM",wPremium:"1,000 RPM & 3,000,000 TPM",tokenCounting:n("rate_limit.classifier_zero_shot_token_counting"),latency:null,latencyDepends:n("rate_limit.depends"),weight:e.name==="classifier"?100:15},{icon:ke,endpoint:"https://api.jina.ai/v1/classify",name:`${n("classifier.title")} (${n("classifier.compare_table.few_shot")})`,description:n("rate_limit.classifier_few_shot"),requestType:"POST",woAPIkey:null,wAPIkey:"20 RPM & 200,000 TPM",wPremium:"60 RPM & 1,000,000 TPM",tokenCounting:n("rate_limit.classifier_few_shot_token_counting"),latency:null,latencyDepends:n("rate_limit.depends"),weight:e.name==="classifier"?98:15},{icon:ke,endpoint:"https://api.jina.ai/v1/train",name:n("classifier.title"),description:n("rate_limit.classifier"),requestType:"POST",woAPIkey:null,wAPIkey:"20 RPM & 200,000 TPM",wPremium:"60 RPM & 1,000,000 TPM",tokenCounting:n("rate_limit.classifier_token_counting"),latency:null,latencyDepends:n("rate_limit.depends"),weight:e.name==="classifier"?99:15}]),d=T([{name:"icon",field:"icon",label:"",align:"left"},{name:"name",field:"name",label:n("rate_limit.product"),align:"left"},{name:"endpoint",field:"endpoint",label:n("rate_limit.endpoint"),align:"left"},{name:"description",field:"description",label:n("rate_limit.description"),align:"left",sortable:!0},{name:"woAPIkey",field:"woAPIkey",label:n("rate_limit.woAPIkey"),align:"right"},{name:"wAPIkey",field:"wAPIkey",label:n("rate_limit.wAPIkey"),align:"right"},{name:"wPremium",field:"wPremium",label:n("rate_limit.wPremium"),align:"right"},{name:"latency",field:"latency",label:n("rate_limit.latency"),align:"right"},{name:"tokenCounting",field:"tokenCounting",label:n("rate_limit.tokenCounting"),align:"left"},{name:"requestType",field:"requestType",label:n("rate_limit.requestType"),align:"left"}]),l=T(d.value.map(I=>I.name)),O=z(()=>c.value.sort((I,S)=>S.weight-I.weight)),q=T({rowsPerPage:10}),M={t:n,route:e,rows:c,columns:d,visibleColumns:l,sortedRows:O,initialPagination:q};return Object.defineProperty(M,"__isScriptSetup",{enumerable:!1,value:!0}),M}}),Nt=["innerHTML"],Ht={class:"text-bold silver-foil"},Yt={class:"text-bold golden-foil"},Gt={class:"row q-pa-md justify-center full-width"},Wt={key:1},Xt={class:"silver-foil text-bold"},Zt={class:"golden-foil text-bold"},Jt={key:1};function $t(i,o,n,e,c,d){return u(),g(Le,{class:"my-sticky-column-table",flat:"",square:"","title-class":"q-pa-md",title:e.t("rate_limit.title"),rows:e.sortedRows,columns:e.columns,"row-key":"endpoint",pagination:e.initialPagination,"hide-pagination":"","visible-columns":e.visibleColumns},ut({top:t(()=>[a(Q,{class:"full-width q-pa-lg"},{default:t(()=>[a(f,null,{default:t(()=>[a(P,{class:"text-weight-bold"},{default:t(()=>[m(s(e.t("rate_limit.title")),1)]),_:1}),a(P,{caption:""},{default:t(()=>[F("span",{innerHTML:e.t("rate_limit.explain")},null,8,Nt)]),_:1})]),_:1}),a(Dt),a(f,{side:""},{default:t(()=>[a(Qe,{modelValue:e.visibleColumns,"onUpdate:modelValue":o[0]||(o[0]=l=>e.visibleColumns=l),multiple:"",outlined:"",square:"",dense:"","options-dense":"","display-value":i.$q.lang.table.columns,"emit-value":"","map-options":"",options:e.columns,"option-value":"name","options-cover":"",style:{"min-width":"150px"}},null,8,["modelValue","display-value","options"])]),_:1})]),_:1})]),"header-cell-wAPIkey":t(l=>[a(Me,{props:l},{default:t(()=>[F("span",Ht,s(l.col.label),1)]),_:2},1032,["props"])]),"header-cell-wPremium":t(l=>[a(Me,{props:l},{default:t(()=>[F("span",Yt,s(l.col.label),1)]),_:2},1032,["props"])]),"body-cell-icon":t(l=>[a(X,{props:l},{default:t(()=>[a(Tt,{src:l.value,width:"36px"},null,8,["src"])]),_:2},1032,["props"])]),"body-cell-endpoint":t(l=>[a(X,{props:l},{default:t(()=>[F("code",null,s(l.value),1)]),_:2},1032,["props"])]),"body-cell-woAPIkey":t(l=>[a(X,{props:l},{default:t(()=>[l.value?(u(),N("span",Wt,s(l.value),1)):(u(),g(C,{key:0,name:"block",color:"negative"}))]),_:2},1032,["props"])]),"body-cell-wAPIkey":t(l=>[a(X,{props:l},{default:t(()=>[F("span",Xt,s(l.value),1),String(l.value).includes("X")?(u(),g(C,{key:0,name:"keyboard_double_arrow_up",color:"primary",class:"cursor-pointer"},{default:t(()=>[a(G,{"max-width":"300px"},{default:t(()=>[m(s(e.t("rate_limit.batch_explain")),1)]),_:1})]),_:1})):D("",!0)]),_:2},1032,["props"])]),"body-cell-wPremium":t(l=>[a(X,{props:l},{default:t(()=>[F("span",Zt,s(l.value),1)]),_:2},1032,["props"])]),"body-cell-latency":t(l=>[a(X,{props:l},{default:t(()=>[l.value?(u(),N("span",Jt,s(l.value),1)):(u(),g(re,{key:0,icon:"bolt",label:l.row.latencyDepends,size:"sm"},{default:t(()=>[m(s(l.value)+" ",1),l.row.latencyExplain?(u(),g(C,{key:0,name:"help",class:"cursor-pointer q-ml-sm"},{default:t(()=>[a(G,{"max-width":"300px"},{default:t(()=>[m(s(l.row.latencyExplain),1)]),_:2},1024)]),_:2},1024)):D("",!0)]),_:2},1032,["label"]))]),_:2},1032,["props"])]),_:2},[n.showActionButtons?{name:"bottom",fn:t(()=>[F("div",Gt,[a(Ue,{outline:"",square:""},{default:t(()=>[a(W,{outline:"",label:e.t("get_new_key"),square:"",icon:"key",href:"/?sui=apikey",padding:"md",target:"_blank"},null,8,["label"]),a(Ie),a(W,{outline:"",label:e.t("header.contact_us"),square:"",icon:"handshake",to:"/contact-sales",padding:"md"},null,8,["label"])]),_:1})])]),key:"0"}:void 0]),1032,["title","rows","columns","pagination","visible-columns"])}const ea=he(Lt,[["render",$t],["__file","RateLimitComponent.vue"]]),ta=be({__name:"CSPButtons",props:{centered:{type:Boolean,default:!1},lighterBg:{type:Boolean,default:!1}},setup(i,{expose:o}){o();const{t:n}=ye({useScope:"global"}),e={t:n,get cloudPartners(){return Ve},get redirect(){return Ke},get rerankerIcon(){return je},get embeddingIcon(){return ze}};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),aa={key:0,class:"q-focus-helper"},la={key:0,class:"text-dim text-caption"};function na(i,o,n,e,c,d){return u(),g(ne,{class:Y(["row q-pb-lg q-px-sm",{"justify-center":n.centered}])},{default:t(()=>[(u(!0),N(oe,null,ie(e.cloudPartners,(l,O)=>(u(),g(Q,{key:O,class:"col-6 col-md-4 col-lg-3 col-xl-2 q-pa-sm q-py-md"},{default:t(()=>[a(ce,{bordered:"",flat:"","v-ripple":!l.disabled,class:Y(["full-width",{"q-hoverable cursor-pointer":!l.disabled,"bg-transparent":l.disabled,"bg-mixed-100":!l.disabled&&n.lighterBg,"bg-mixed-200":!l.disabled&&!n.lighterBg}]),square:"",onClick:q=>l.disabled?void 0:e.redirect(l.link)},{default:t(()=>[l.disabled?D("",!0):(u(),N("span",aa)),a($,{class:"column items-center non-selectable q-py-xl"},{default:t(()=>[a(C,{name:l.icon,class:"q-py-lg",size:"xl"},null,8,["name"]),m(" "+s(l.label),1)]),_:2},1024),a($,{class:"text-center non-selectable q-pb-lg"},{default:t(()=>[(u(!0),N(oe,null,ie(l.products,(q,M)=>(u(),g(re,{key:M,label:e.t(`integrations.${q}`),outline:"",size:"xs",square:"",style:{"border-radius":"0"},icon:q==="embedding"?`img:${e.embeddingIcon}`:`img:${e.rerankerIcon}`},null,8,["label","icon"]))),128)),l.disabled?(u(),N("span",la,s(e.t("landing_page.coming_soon")),1)):D("",!0)]),_:2},1024)]),_:2},1032,["v-ripple","class","onClick"])]),_:2},1024))),128))]),_:1},8,["class"])}const ia=he(ta,[["render",na],["__file","CSPButtons.vue"]]),oa=be({__name:"PurchaseTab",props:{hideUsage:{type:Boolean,default:!1},defaultOpenedItem:{default:"api"},hideOthers:{type:Boolean,default:!1}},setup(i,{expose:o}){o();const{t:n}=ye({useScope:"global"}),e=ft(),c=Be(),{apiKey:d,products:l,isApiKeyInfoLoading:O,isPremiumPaidUser:q,apiKeyInfo:M}=dt(c),I=T(d.value),S=T(M==null?void 0:M.value);mt(async()=>{S.value=await c.getKeyInfo(I.value),r.value=!x.value||R.value});const E=i,p=T(0),U=T(E.defaultOpenedItem==="onprem"),w=T(E.defaultOpenedItem==="api"),b=T(E.defaultOpenedItem==="cloud"),A=[{label:"10K",value:1e4},{label:"1M",value:1e6}],r=T(!0),_=T(1e6),v=T(""),V=T(!0),h={"1M tokens":["paywall.no_commercial"],"1B tokens":["paywall.full_commercial"],"11B tokens":["paywall.full_commercial","paywall.higher_limit","paywall.priority_support","paywall.free_hour_consult"]},K=z(()=>l.value.map(k=>({...k,isActive:()=>v.value===k.price_id,tag:()=>n(`embedding.${k.product_name}_targetUser`),title:()=>n(`embedding.${k.product_name.replace(".","_")}`),description:()=>n(`embedding.${k.product_name.replace(".","_")}_intuition1`),isFree:k.price===0,priceLabel:()=>k.price>0?`$${k.price}`:n("embedding.free"),priceDescription:()=>k.price>0?`${(k.price/k.token_quantity*1e6).toFixed(3)} ${n("embedding.per_m")}`:n("embedding.1M_free_description"),handler:()=>k.price>0?se(k.price_id):void 0}))),H=z(()=>{var k,B;return(B=(k=S.value)==null?void 0:k.wallet.total_balance)!=null?B:0}),x=z(()=>{var k;return!!((k=S.value)!=null&&k.email)}),R=z(()=>{var k;return x.value&&!!((k=S.value)!=null&&k.metadata.auto_recharge)}),ee=z(()=>!!I.value&&(S==null?void 0:S.value)!==void 0),ae=z(()=>!ee.value||O.value),se=async k=>{if(ae.value||v.value)return;const B=l.value.find(We=>We.price_id===k),te=new URL(window.location.href),He=Date.now().toString();te.searchParams.set("price_id",k),te.searchParams.set("session_id",He),te.searchParams.set("purchase_status","cancel");const Ye=te.toString();te.searchParams.set("purchase_status","success"),te.searchParams.set("sui","apikey");const Ge=te.toString();v.value=k;const me={price_id:k,success_url:Ge,cancel_url:Ye},Se=localStorage.getItem(_t);Se&&(me.meta_data={sales_key:Se}),r.value&&(me.meta_data={...me.meta_data,auto_recharge:!0,threshold:_.value}),B&&gtag("event","begin_checkout",{currency:B.currency,value:B.price,items:[{id:B.product_id,name:B.product_name}]});const Ae=await c.checkoutWithStripe(I.value,me);v.value="",Ae&&(c.apiKey=I.value,window.location.href=Ae.url)},Z=async()=>{S.value=await c.getKeyInfo(I.value),r.value=!x.value||R.value,d.value===I.value&&c.setApiKeyInfo(S.value)},ve=async k=>{x.value&&(!R.value&&k?e.dialog({title:n("embedding.auto_recharge_enable_title"),message:n("embedding.auto_recharge_enable_message")}):R.value&&!k&&e.dialog({title:n("embedding.auto_recharge_confirm_title"),message:n("embedding.auto_recharge_confirm_message"),cancel:!0}).onOk(async()=>{try{await c.cancelAutoRecharge(d.value)}catch(B){e.notify({message:B instanceof Error?B.message:String(B),color:"negative"}),r.value=!0}Z()}).onCancel(()=>{r.value=!0}))},we=async()=>{ee.value&&I.value!==d.value&&e.dialog({title:n("embedding.api_key_update_title"),message:n("embedding.api_key_update_message"),cancel:!0}).onOk(()=>{d.value=I.value,Z()})},y=()=>{ae.value||e.dialog({component:Bt,componentProps:{apiKey:I.value}})};Ee(async()=>{await c.getProducts(),setInterval(()=>{p.value=(p.value+1)%Oe.length},3e3)});const j=T(!1),de={t:n,$q:e,embeddingStore:c,apiKey:d,products:l,isApiKeyInfoLoading:O,isPremiumPaidUser:q,apiKeyInfo:M,inputApiKey:I,inputApiKeyInfo:S,props:E,currentIndex:p,showOnPrem:U,showAPI:w,showCSP:b,rechargeThresholdOptions:A,autoRecharge:r,rechargeThreshold:_,currentPriceID:v,isPwd:V,tierFeatures:h,productCards:K,apiKeyTokens:H,isPaidUser:x,isAutoCharge:R,isInputApiKeyValid:ee,isInputApiKeyDisabled:ae,checkoutProduct:se,getKeyInfo:Z,updateAutoRecharge:ve,updateApiKey:we,openUsageHistoryDialog:y,isApiKeyCopyDone:j,copyApiKey:()=>{!d.value||j.value||(Rt(d.value).then(()=>{e.notify({message:n("copy_to_clipboard_success"),textColor:"primary",icon:"done"}),j.value=!0,gtag==null||gtag("event","embedding_copy_api_key",{location:document.location.href})}),setTimeout(()=>{j.value=!1},1800))},licenseFeatures:["paywall.commercial_licence.feature_models","paywall.commercial_licence.feature_consulting","paywall.commercial_licence.feature_future_support"],get ccncOptions(){return Oe},get cloudPartners(){return Ve},get flatEnterprises(){return gt},get redirect(){return Ke},get formatNumber(){return qe},RateLimitComponent:ea,CSPButtons:ia};return Object.defineProperty(de,"__isScriptSetup",{enumerable:!1,value:!0}),de}}),ra=["innerHTML"],sa=["innerHTML"],ca=["innerHTML","data-text"],ua={class:"row justify-center text-caption text-dim q-pt-md q-pb-sm"},da={class:"row justify-center q-gutter-x-sm"},ma={class:"row q-pa-md q-py-none justify-center"},fa={class:"col-10 col-md-6 col-lg-4 q-pa-sm cursor-pointer",style:{"min-width":"400px"}},_a=["innerHTML"],ga={class:"row justify-center text-caption text-dim q-pt-md q-pb-sm"},pa={class:"row justify-center"};function ba(i,o,n,e,c,d){return u(),g(ne,{separator:""},{default:t(()=>[!n.hideOthers||n.defaultOpenedItem==="cloud"?(u(),g(fe,{key:0,group:"paywall",modelValue:e.showCSP,"onUpdate:modelValue":o[0]||(o[0]=l=>e.showCSP=l),"hide-expand-icon":n.hideOthers,"switch-toggle-side":"","expand-icon":"radio_button_unchecked","expanded-icon":"radio_button_checked","default-opened":n.defaultOpenedItem==="cloud","header-class":e.showCSP?"text-primary text-bold":void 0},{header:t(()=>[a(f,{avatar:""},{default:t(()=>[a(C,{name:"o_cloud"})]),_:1}),a(f,null,{default:t(()=>[a(P,null,{default:t(()=>[F("span",{innerHTML:e.t("embedding.public_cloud_integration",{_numPartners:e.cloudPartners.length})},null,8,ra)]),_:1}),a(P,{caption:"",class:"text-dim"},{default:t(()=>[m(s(e.t("embedding.public_cloud_integration_desc")),1)]),_:1})]),_:1})]),default:t(()=>[a(e.CSPButtons)]),_:1},8,["modelValue","hide-expand-icon","default-opened","header-class"])):D("",!0),!n.hideOthers||n.defaultOpenedItem==="api"?(u(),g(fe,{key:1,group:"paywall",modelValue:e.showAPI,"onUpdate:modelValue":o[6]||(o[6]=l=>e.showAPI=l),"switch-toggle-side":"","hide-expand-icon":n.hideOthers,"expand-icon":"radio_button_unchecked","expanded-icon":"radio_button_checked","default-opened":n.defaultOpenedItem==="api","header-class":e.showAPI?"text-primary text-bold":void 0},{header:t(()=>[a(f,{avatar:""},{default:t(()=>[e.showAPI?(u(),g(C,{key:0,name:"img:/J-active.svg"})):(u(),g(C,{key:1,name:"img:/J.svg"}))]),_:1}),a(f,null,{default:t(()=>[a(P,null,{default:t(()=>[m(s(e.t("paywall.via_api")),1)]),_:1}),a(P,{caption:"",class:"text-dim"},{default:t(()=>[m(s(e.t("paywall.via_api_explain")),1)]),_:1})]),_:1})]),default:t(()=>[a(ne,{class:"q-pa-md q-gutter-y-sm"},{default:t(()=>[!n.hideUsage&&e.isInputApiKeyValid?(u(),g(Q,{key:0},{default:t(()=>[e.$q.screen.gt.sm?(u(),g(f,{key:0,avatar:""},{default:t(()=>[a(C,{name:"data_usage"})]),_:1})):D("",!0),a(f,null,{default:t(()=>[a(P,{class:"text-bold"},{default:t(()=>[m(s(e.t("embedding.remaining")),1)]),_:1}),a(P,{class:Y({"text-negative":e.apiKeyTokens<0})},{default:t(()=>[F("span",{innerHTML:e.t("embedding.remaining_left",{_leftTokens:e.formatNumber(e.apiKeyTokens)})},null,8,sa)]),_:1},8,["class"])]),_:1}),a(f,{side:""},{default:t(()=>[a(Ue,{square:"",outline:""},{default:t(()=>[a(W,{outline:"",square:"",icon:"refresh",disable:e.isInputApiKeyDisabled,onClick:e.getKeyInfo,loading:e.isApiKeyInfoLoading},{default:t(()=>[a(G,null,{default:t(()=>[m(s(e.t("embedding.refresh_token_count1")),1)]),_:1})]),_:1},8,["disable","loading"]),a(Ie),a(W,{square:"",outline:"","no-caps":"",label:e.t("embedding.last_7_days"),disable:e.isInputApiKeyDisabled,onClick:e.openUsageHistoryDialog},null,8,["label","disable"])]),_:1})]),_:1})]),_:1})):D("",!0),a(Q,null,{default:t(()=>[e.$q.screen.gt.sm?(u(),g(f,{key:0,avatar:""},{default:t(()=>[a(C,{name:"key",class:Y({"golden-foil":e.isPremiumPaidUser,"silver-foil":e.isPaidUser})},null,8,["class"])]),_:1})):D("",!0),a(f,null,{default:t(()=>[a(pt,{"input-style":"font-family: monospace",modelValue:e.inputApiKey,"onUpdate:modelValue":o[2]||(o[2]=l=>e.inputApiKey=l),"hide-bottom-space":"",type:e.isPwd?"password":"text",hint:e.t("embedding.key_to_top_up"),filled:"",square:"",label:e.inputApiKey?`${e.t("embedding.key_warn_v2")}`:e.t("embedding.key_enter_placeholder_to_topup"),error:!e.isInputApiKeyValid,"error-message":e.inputApiKey?e.t("embedding.input_api_key_error1"):"","input-class":"ellipsis"},{append:t(()=>[a(C,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:o[1]||(o[1]=l=>e.isPwd=!e.isPwd)},null,8,["name"])]),prepend:t(()=>[a(W,{flat:"",square:"",icon:e.isApiKeyCopyDone?"done":"content_copy",color:e.isApiKeyCopyDone?"primary":"",onClick:e.copyApiKey,stretch:""},{default:t(()=>[a(G,null,{default:t(()=>[m(s(e.t("copy")),1)]),_:1})]),_:1},8,["icon","color"])]),after:t(()=>[e.isInputApiKeyValid&&e.inputApiKey!==e.apiKey?(u(),g(W,{key:0,icon:"save",onClick:e.updateApiKey,stretch:"",square:"",flat:""})):D("",!0)]),_:1},8,["modelValue","type","hint","label","error","error-message"])]),_:1})]),_:1}),a(Q,null,{default:t(()=>[e.$q.screen.gt.sm?(u(),g(f,{key:0,avatar:""},{default:t(()=>[a(C,{name:"currency_exchange"})]),_:1})):D("",!0),a(f,null,{default:t(()=>[a(P,{class:"text-bold"},{default:t(()=>[m(s(e.t("embedding.auto_recharge")),1)]),_:1}),a(P,{caption:"",lines:"2"},{default:t(()=>[m(s(e.isAutoCharge?e.t("embedding.auto_recharge_enable"):e.t("embedding.auto_recharge_description")),1)]),_:1})]),_:1}),a(f,{side:""},{default:t(()=>[a(bt,{modelValue:e.autoRecharge,"onUpdate:modelValue":[o[3]||(o[3]=l=>e.autoRecharge=l),e.updateAutoRecharge],color:"primary",disable:e.isInputApiKeyDisabled,"checked-icon":"check","unchecked-icon":"close"},null,8,["modelValue","disable"])]),_:1}),a(f,{side:""},{default:t(()=>[a(Qe,{disable:!e.autoRecharge,modelValue:e.rechargeThreshold,"onUpdate:modelValue":o[4]||(o[4]=l=>e.rechargeThreshold=l),options:e.rechargeThresholdOptions,label:e.t("embedding.recharge_threshold"),style:{"min-width":"160px"},"option-label":l=>`≤ ${l.label} ${e.t("embedding.tokens")}`,onClick:o[5]||(o[5]=yt(()=>{},["prevent"])),"emit-value":"","map-options":""},null,8,["disable","modelValue","label","option-label"])]),_:1})]),_:1}),a(fe,{label:e.t("rate_limit.understanding"),icon:e.$q.screen.gt.sm?"speed":void 0,"header-class":"text-bold",caption:e.t("rate_limit.understanding_description")},{default:t(()=>[a(e.RateLimitComponent,{"show-action-buttons":!1})]),_:1},8,["label","icon","caption"]),a(Q,null,{default:t(()=>[e.$q.screen.gt.sm?(u(),g(f,{key:0,avatar:"",side:"",class:"relative-position"},{default:t(()=>[a(C,{name:"fab fa-stripe"}),a(C,{name:"o_verified_user",size:"xs",class:"absolute-bottom-right q-mr-sm q-mb-xs text-positive"})]),_:1})):D("",!0),a(f,null,{default:t(()=>[a(P,{class:"text-bold"},{default:t(()=>[m(s(e.t("embedding.buy_more_quota")),1)]),_:1}),a(P,{caption:"",lines:"2"},{default:t(()=>[m(s(e.t("embedding.tax_may_apply")),1)]),_:1})]),_:1}),e.isPaidUser?(u(),g(f,{key:1,side:"",class:"q-pa-none"},{default:t(()=>[a(W,{outline:"","icon-right":"open_in_new",label:e.t("embedding.manage_billing"),stretch:"",href:"https://stripe.jina.ai",target:"_blank","no-caps":""},{default:t(()=>[a(G,null,{default:t(()=>[m(s(e.t("embedding.manage_billing_tip")),1)]),_:1})]),_:1},8,["label"])]),_:1})):D("",!0)]),_:1})]),_:1}),a(ce,{class:"row q-pa-md q-py-none bg-transparent",flat:""},{default:t(()=>[(u(!0),N(oe,null,ie(e.productCards,(l,O)=>(u(),N("div",{key:O,class:"col-12 col-sm-6 col-lg-4 q-pa-sm cursor-pointer"},[Pe((u(),g(ce,{bordered:"",flat:"",class:Y(["full-width full-height column justify-between",!e.isInputApiKeyDisabled&&!e.currentPriceID&&!l.isFree?"q-hoverable bg-mixed-200":"cursor-not-allowed"]),square:"",style:vt(l.isActive()?"cursor: wait !important;":""),onClick:l.handler},{default:t(()=>[o[11]||(o[11]=F("span",{class:"q-focus-helper"},null,-1)),a($,{class:"column items-center non-selectable text-h2 q-pt-xl"},{default:t(()=>[a(re,{label:l.tag(),outline:"",square:"",style:{"border-radius":"0"},size:"sm",class:Y(["q-my-xl",{"silver-border":l.product_name==="1B tokens","gold-border":l.product_name==="11B tokens"}])},null,8,["label","class"]),F("span",{innerHTML:l.title(),"data-text":l.title(),class:Y(["text-weight-bold",{"text-dim":l.product_name==="1M tokens","silver-foil":l.product_name==="1B tokens","golden-foil":l.product_name==="11B tokens"}])},null,10,ca),F("div",ua,[m(s(e.t("embedding.includes"))+" ",1),a(G,{"max-width":"300px"},{default:t(()=>[m(s(l.description()),1)]),_:2},1024)]),F("div",da,[(u(!0),N(oe,null,ie(e.flatEnterprises,q=>(u(),g(C,{key:q.label,name:`img:${q.icon}`,size:"sm"},{default:t(()=>[a(G,null,{default:t(()=>[F("b",null,s(e.t(q.label)),1),o[10]||(o[10]=F("br",null,null,-1)),m(" "+s(e.t(q.caption)),1)]),_:2},1024)]),_:2},1032,["name"]))),128))])]),_:2},1024),a($,{class:"column items-center non-selectable"},{default:t(()=>[a(ne,null,{default:t(()=>[(u(!0),N(oe,null,ie(e.tierFeatures[l.product_name],q=>(u(),g(Q,{key:q},{default:t(()=>[a(f,null,{default:t(()=>[a(P,{caption:""},{default:t(()=>[l.product_name!=="1M tokens"?(u(),g(C,{key:0,name:"task_alt",class:Y({"golden-foil":l.product_name==="11B tokens","silver-foil":l.product_name==="1B tokens"})},null,8,["class"])):D("",!0),m(" "+s(e.t(q)),1)]),_:2},1024),a(G,{"max-width":"300px"},{default:t(()=>[m(s(e.t(`${q}_description`)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),a($,{class:Y({"bg-mixed-300":!l.isFree})},{default:t(()=>[a(Q,null,{default:t(()=>[a(f,null,{default:t(()=>[a(P,{class:Y({"text-bold":!l.isFree})},{default:t(()=>[m(s(l.priceLabel()),1)]),_:2},1032,["class"]),a(P,{caption:""},{default:t(()=>[m(s(l.priceDescription()),1)]),_:2},1024)]),_:2},1024),l.isFree?D("",!0):(u(),g(f,{key:0,side:""},{default:t(()=>[a(C,{name:"add_shopping_cart"})]),_:1}))]),_:2},1024)]),_:2},1032,["class"]),a(Fe,{showing:e.currentPriceID===l.price_id,label:e.t("embedding.wait_stripe"),"label-style":"font-size: 0.8em",size:"sm",class:"non-selectable lock-blur"},null,8,["showing","label"])]),_:2},1032,["class","style","onClick"])),[[Re,!l.isFree&&!e.isInputApiKeyDisabled&&!e.currentPriceID]])]))),128)),a(Fe,{showing:!e.isInputApiKeyValid,class:"lock-blur",label:e.t("embedding.right_api_key_to_charge"),size:"0"},null,8,["showing","label"])]),_:1})]),_:1},8,["modelValue","hide-expand-icon","default-opened","header-class"])):D("",!0),!n.hideOthers||n.defaultOpenedItem==="onprem"?(u(),g(fe,{key:2,group:"paywall","switch-toggle-side":"","hide-expand-icon":n.hideOthers,"expand-icon":"radio_button_unchecked","expanded-icon":"radio_button_checked",modelValue:e.showOnPrem,"onUpdate:modelValue":o[9]||(o[9]=l=>e.showOnPrem=l),"default-opened":n.defaultOpenedItem==="onprem","header-class":e.showOnPrem?"text-primary text-bold":void 0},{header:t(()=>[a(f,{avatar:""},{default:t(()=>[a(C,{name:"o_encrypted"})]),_:1}),a(f,null,{default:t(()=>[a(P,null,{default:t(()=>[m(s(e.t("paywall.on_prem")),1)]),_:1}),a(P,{caption:"",class:"text-dim"},{default:t(()=>[m(s(e.t("paywall.on_prem_explain")),1)]),_:1})]),_:1})]),default:t(()=>[a(ne,{class:"q-pa-md q-gutter-y-sm"},{default:t(()=>[a(Q,null,{default:t(()=>[e.$q.screen.gt.sm?(u(),g(f,{key:0,avatar:"",side:""},{default:t(()=>[a(C,{name:"bug_report"})]),_:1})):D("",!0),a(f,null,{default:t(()=>[a(P,{class:"text-bold"},{default:t(()=>[m(s(e.t("paywall.commercial_licence.test_before_purchase")),1)]),_:1}),a(P,{caption:"",lines:"2"},{default:t(()=>[m(s(e.t("paywall.commercial_licence.test_before_purchase_desc")),1)]),_:1})]),_:1}),a(f,{side:""},{default:t(()=>[n.hideOthers?D("",!0):(u(),g(W,{key:0,outline:"",label:e.t("paywall.commercial_licence.try_api"),stretch:"",onClick:o[7]||(o[7]=l=>{e.showAPI=!0,e.showOnPrem=!1}),"no-caps":""},null,8,["label"]))]),_:1})]),_:1}),a(Q,null,{default:t(()=>[e.$q.screen.gt.sm?(u(),g(f,{key:0,avatar:"",side:""},{default:t(()=>[a(C,{name:"description"})]),_:1})):D("",!0),a(f,null,{default:t(()=>[a(P,{class:"text-bold"},{default:t(()=>[m(s(e.t("paywall.commercial_licence.read_the_terms")),1)]),_:1}),a(P,{caption:"",lines:"2"},{default:t(()=>[m(s(e.t("paywall.commercial_licence.read_the_terms_desc")),1)]),_:1})]),_:1}),a(f,{side:""},{default:t(()=>[a(W,{outline:"","icon-right":"open_in_new",label:e.t("paywall.commercial_licence.read_the_terms_btn"),stretch:"",href:"/COMMERCIAL-LICENSE-TERMS.pdf",target:"_blank","no-caps":""},null,8,["label"])]),_:1})]),_:1}),a(Q,null,{default:t(()=>[e.$q.screen.gt.sm?(u(),g(f,{key:0,avatar:"",side:"",class:"relative-position"},{default:t(()=>[a(C,{name:"fab fa-stripe"}),a(C,{name:"o_verified_user",size:"xs",class:"absolute-bottom-right q-mr-sm q-mb-xs text-positive"})]),_:1})):D("",!0),a(f,null,{default:t(()=>[a(P,{class:"text-bold"},{default:t(()=>[m(s(e.t("paywall.secured_by_stripe")),1)]),_:1}),a(P,{caption:"",lines:"2"},{default:t(()=>[m(s(e.t("embedding.tax_may_apply")),1)]),_:1})]),_:1})]),_:1})]),_:1}),F("div",ma,[F("div",fa,[Pe((u(),g(ce,{bordered:"",flat:"",class:"full-width full-height column justify-between bg-mixed-200 q-hoverable",square:"",onClick:o[8]||(o[8]=l=>e.redirect("https://buy.stripe.com/00geY8gjf6J59Dq3cr"))},{default:t(()=>[o[12]||(o[12]=F("span",{class:"q-focus-helper"},null,-1)),a($,{class:"column items-center non-selectable text-h3 q-pt-xl"},{default:t(()=>[a(re,{label:e.t("paywall.commercial_licence.chip_label"),outline:"",square:"",style:{"border-radius":"0"},size:"sm",class:"q-my-xl silver-border"},null,8,["label"]),F("span",{class:"text-weight-bold silver-foil text-center",innerHTML:e.t("paywall.commercial_licence.title")},null,8,_a),F("div",ga,[m(s(e.t("paywall.commercial_licence.subtitle"))+" ",1),a(G,{"max-width":"300px"},{default:t(()=>[m(s(e.t("paywall.commercial_licence.tooltip_description")),1)]),_:1})]),F("div",pa,[a(ht,{name:"list2"},{default:t(()=>[(u(),g(re,{key:e.currentIndex,label:e.ccncOptions[e.currentIndex],size:"sm",class:"q-ma-xs bg-mixed-300"},null,8,["label"]))]),_:1})])]),_:1}),a($,{class:"column items-center non-selectable"},{default:t(()=>[a(ne,null,{default:t(()=>[(u(),N(oe,null,ie(e.licenseFeatures,l=>a(Q,{key:l},{default:t(()=>[a(f,null,{default:t(()=>[a(P,{caption:""},{default:t(()=>[a(C,{name:"task_alt",class:"silver-foil"}),m(" "+s(e.t(l)),1)]),_:2},1024),a(G,{"max-width":"300px"},{default:t(()=>[m(s(e.t(`${l}_desc`)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),64))]),_:1})]),_:1}),a($,{class:"bg-mixed-300"},{default:t(()=>[a(Q,null,{default:t(()=>[a(f,null,{default:t(()=>[a(P,{class:"text-bold"},{default:t(()=>[m(s(e.t("paywall.commercial_licence.price_amount"))+" "+s(e.t("paywall.commercial_licence.price_period")),1)]),_:1}),a(P,{caption:""},{default:t(()=>[m(s(e.t("paywall.commercial_licence.company_size_note")),1)]),_:1})]),_:1}),a(f,{side:""},{default:t(()=>[a(C,{name:"add_shopping_cart"})]),_:1})]),_:1})]),_:1})]),_:1})),[[Re]])])])]),_:1},8,["hide-expand-icon","modelValue","default-opened","header-class"])):D("",!0)]),_:1})}const Ma=he(oa,[["render",ba],["__scopeId","data-v-a3546c2f"],["__file","PurchaseTab.vue"]]),Da=De({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(i,{slots:o,emit:n}){const e=pe(),c=T(null);let d=0;const l=[];function O(p){const U=typeof p=="boolean"?p:i.noErrorFocus!==!0,w=++d,b=(_,v)=>{n(`validation${_===!0?"Success":"Error"}`,v)},A=_=>{const v=_.validate();return typeof v.then=="function"?v.then(V=>({valid:V,comp:_}),V=>({valid:!1,comp:_,err:V})):Promise.resolve({valid:v,comp:_})};return(i.greedy===!0?Promise.all(l.map(A)).then(_=>_.filter(v=>v.valid!==!0)):l.reduce((_,v)=>_.then(()=>A(v).then(V=>{if(V.valid===!1)return Promise.reject(V)})),Promise.resolve()).catch(_=>[_])).then(_=>{if(_===void 0||_.length===0)return w===d&&b(!0),!0;if(w===d){const{comp:v,err:V}=_[0];if(V!==void 0&&console.error(V),b(!1,v),U===!0){const h=_.find(({comp:K})=>typeof K.focus=="function"&&Pt(K.$)===!1);h!==void 0&&h.comp.focus()}}return!1})}function q(){d++,l.forEach(p=>{typeof p.resetValidation=="function"&&p.resetValidation()})}function M(p){p!==void 0&&ge(p);const U=d+1;O().then(w=>{U===d&&w===!0&&(i.onSubmit!==void 0?n("submit",p):p!==void 0&&p.target!==void 0&&typeof p.target.submit=="function"&&p.target.submit())})}function I(p){p!==void 0&&ge(p),n("reset"),qt(()=>{q(),i.autofocus===!0&&i.noResetFocus!==!0&&S()})}function S(){It(()=>{if(c.value===null)return;const p=c.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||c.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||c.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(c.value.querySelectorAll("[tabindex]"),U=>U.tabIndex!==-1);p!=null&&p.focus({preventScroll:!0})})}Ct(St,{bindComponent(p){l.push(p)},unbindComponent(p){const U=l.indexOf(p);U!==-1&&l.splice(U,1)}});let E=!1;return wt(()=>{E=!0}),xt(()=>{E===!0&&i.autofocus===!0&&S()}),Ee(()=>{i.autofocus===!0&&S()}),Object.assign(e.proxy,{validate:O,resetValidation:q,submit:M,reset:I,focus:S,getValidationComponents:()=>l}),()=>J("form",{class:"q-form",ref:c,onSubmit:M,onReset:I},kt(o.default))}});export{ia as C,Ma as P,Oa as Q,Fa as R,Da as a,Ra as b,ea as c,Ce as u};
