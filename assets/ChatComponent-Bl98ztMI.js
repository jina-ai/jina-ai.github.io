import{s as ge,m as H,p as D,bN as ve,i as pe,h as ye,j as G,a1 as F,dr as _e,a0 as K,u as le,am as W,k as O,n as Z,a2 as X,a3 as l,a4 as f,a5 as u,aa as L,ah as E,b1 as $,a6 as m,ab as N,aq as te,ad as se,ae as J,af as P,ag as Y,q as B,aj as be,aB as ke,aD as ae,aS as xe,aO as Se,aN as we,aR as Ce,b7 as qe,a9 as Qe,a7 as Te,V as ne,ap as Me,a8 as U,ai as ze,T as ie,bp as De}from"./index-CWJLVYvT.js";import{Q as ee,b as oe}from"./QChip-C371Jft1.js";import{Q as He}from"./QScrollObserver-DI_0LRLc.js";import{Q as je}from"./QResizeObserver-LRO4d5Kh.js";import{Q as Ne}from"./finetune-DE2_T9A2.js";import{f as Ie,i as Be}from"./date-BON6MjBK.js";import{Q as Re}from"./QSpinnerDots-BxNOKxji.js";import{Q as Ue,d as Le,U as Oe}from"./BrowserInfoDialog--RbBMIic.js";import{Q as re}from"./QItemLabel-D9IKMVGr.js";import{Q as Ee}from"./QExpansionItem-ddmdUorH.js";import{T as Ye}from"./QSpinnerRings-BjBvv9So.js";import{u as ce}from"./use-dialog-plugin-component-BQo7gb7X.js";import{P as $e}from"./PurchaseDialog-Vqu_S65P.js";import{Q as Pe}from"./QTooltip-BbFi5hr6.js";import{Q as We}from"./QForm-mQCbqM6U.js";const Ve=ge({name:"QChatMessage",props:{sent:Boolean,label:String,bgColor:String,textColor:String,name:String,avatar:String,text:Array,stamp:String,size:String,labelHtml:Boolean,nameHtml:Boolean,textHtml:Boolean,stampHtml:Boolean},setup(s,{slots:o}){const a=H(()=>s.sent===!0?"sent":"received"),e=H(()=>`q-message-text-content q-message-text-content--${a.value}`+(s.textColor!==void 0?` text-${s.textColor}`:"")),b=H(()=>`q-message-text q-message-text--${a.value}`+(s.bgColor!==void 0?` text-${s.bgColor}`:"")),d=H(()=>"q-message-container row items-end no-wrap"+(s.sent===!0?" reverse":"")),n=H(()=>s.size!==void 0?`col-${s.size}`:""),r=H(()=>({msg:s.textHtml===!0?"innerHTML":"textContent",stamp:s.stampHtml===!0?"innerHTML":"textContent",name:s.nameHtml===!0?"innerHTML":"textContent",label:s.labelHtml===!0?"innerHTML":"textContent"}));function v(c){return o.stamp!==void 0?[c,D("div",{class:"q-message-stamp"},o.stamp())]:s.stamp?[c,D("div",{class:"q-message-stamp",[r.value.stamp]:s.stamp})]:[c]}function Q(c,q){const p=q===!0?c.length>1?k=>k:k=>D("div",[k]):k=>D("div",{[r.value.msg]:k});return c.map((k,T)=>D("div",{key:T,class:b.value},[D("div",{class:e.value},v(p(k)))]))}return()=>{const c=[];o.avatar!==void 0?c.push(o.avatar()):s.avatar!==void 0&&c.push(D("img",{class:`q-message-avatar q-message-avatar--${a.value}`,src:s.avatar,"aria-hidden":"true"}));const q=[];o.name!==void 0?q.push(D("div",{class:`q-message-name q-message-name--${a.value}`},o.name())):s.name!==void 0&&q.push(D("div",{class:`q-message-name q-message-name--${a.value}`,[r.value.name]:s.name})),o.default!==void 0?q.push(Q(ve(o.default()),!0)):s.text!==void 0&&q.push(Q(s.text)),c.push(D("div",{class:n.value},q));const p=[];return o.label!==void 0?p.push(D("div",{class:"q-message-label"},o.label())):s.label!==void 0&&p.push(D("div",{class:"q-message-label",[r.value.label]:s.label})),p.push(D("div",{class:d.value},c)),D("div",{class:`q-message q-message-${a.value}`},p)}}});var de={exports:{}};(function(s,o){(function(a,e){s.exports=e()})(pe,function(){var a,e,b=1e3,d=6e4,n=36e5,r=864e5,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Q=31536e6,c=2592e6,q=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,p={years:Q,months:c,days:r,hours:n,minutes:d,seconds:b,milliseconds:1,weeks:6048e5},k=function(g){return g instanceof I},T=function(g,i,t){return new I(g,t,i.$l)},w=function(g){return e.p(g)+"s"},M=function(g){return g<0},y=function(g){return M(g)?Math.ceil(g):Math.floor(g)},_=function(g){return Math.abs(g)},S=function(g,i){return g?M(g)?{negative:!0,format:""+_(g)+i}:{negative:!1,format:""+g+i}:{negative:!1,format:""}},I=function(){function g(t,h,C){var x=this;if(this.$d={},this.$l=C,t===void 0&&(this.$ms=0,this.parseFromMilliseconds()),h)return T(t*p[w(h)],this);if(typeof t=="number")return this.$ms=t,this.parseFromMilliseconds(),this;if(typeof t=="object")return Object.keys(t).forEach(function(R){x.$d[w(R)]=t[R]}),this.calMilliseconds(),this;if(typeof t=="string"){var z=t.match(q);if(z){var j=z.slice(2).map(function(R){return R!=null?Number(R):0});return this.$d.years=j[0],this.$d.months=j[1],this.$d.weeks=j[2],this.$d.days=j[3],this.$d.hours=j[4],this.$d.minutes=j[5],this.$d.seconds=j[6],this.calMilliseconds(),this}}return this}var i=g.prototype;return i.calMilliseconds=function(){var t=this;this.$ms=Object.keys(this.$d).reduce(function(h,C){return h+(t.$d[C]||0)*p[C]},0)},i.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=y(t/Q),t%=Q,this.$d.months=y(t/c),t%=c,this.$d.days=y(t/r),t%=r,this.$d.hours=y(t/n),t%=n,this.$d.minutes=y(t/d),t%=d,this.$d.seconds=y(t/b),t%=b,this.$d.milliseconds=t},i.toISOString=function(){var t=S(this.$d.years,"Y"),h=S(this.$d.months,"M"),C=+this.$d.days||0;this.$d.weeks&&(C+=7*this.$d.weeks);var x=S(C,"D"),z=S(this.$d.hours,"H"),j=S(this.$d.minutes,"M"),R=this.$d.seconds||0;this.$d.milliseconds&&(R+=this.$d.milliseconds/1e3);var V=S(R,"S"),he=t.negative||h.negative||x.negative||z.negative||j.negative||V.negative,fe=z.format||j.format||V.format?"T":"",A=(he?"-":"")+"P"+t.format+h.format+x.format+fe+z.format+j.format+V.format;return A==="P"||A==="-P"?"P0D":A},i.toJSON=function(){return this.toISOString()},i.format=function(t){var h=t||"YYYY-MM-DDTHH:mm:ss",C={Y:this.$d.years,YY:e.s(this.$d.years,2,"0"),YYYY:e.s(this.$d.years,4,"0"),M:this.$d.months,MM:e.s(this.$d.months,2,"0"),D:this.$d.days,DD:e.s(this.$d.days,2,"0"),H:this.$d.hours,HH:e.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:e.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:e.s(this.$d.seconds,2,"0"),SSS:e.s(this.$d.milliseconds,3,"0")};return h.replace(v,function(x,z){return z||String(C[x])})},i.as=function(t){return this.$ms/p[w(t)]},i.get=function(t){var h=this.$ms,C=w(t);return C==="milliseconds"?h%=1e3:h=C==="weeks"?y(h/p[C]):this.$d[C],h===0?0:h},i.add=function(t,h,C){var x;return x=h?t*p[w(h)]:k(t)?t.$ms:T(t,this).$ms,T(this.$ms+x*(C?-1:1),this)},i.subtract=function(t,h){return this.add(t,h,!0)},i.locale=function(t){var h=this.clone();return h.$l=t,h},i.clone=function(){return T(this.$ms,this)},i.humanize=function(t){return a().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},i.milliseconds=function(){return this.get("milliseconds")},i.asMilliseconds=function(){return this.as("milliseconds")},i.seconds=function(){return this.get("seconds")},i.asSeconds=function(){return this.as("seconds")},i.minutes=function(){return this.get("minutes")},i.asMinutes=function(){return this.as("minutes")},i.hours=function(){return this.get("hours")},i.asHours=function(){return this.as("hours")},i.days=function(){return this.get("days")},i.asDays=function(){return this.as("days")},i.weeks=function(){return this.get("weeks")},i.asWeeks=function(){return this.as("weeks")},i.months=function(){return this.get("months")},i.asMonths=function(){return this.as("months")},i.years=function(){return this.get("years")},i.asYears=function(){return this.as("years")},g}();return function(g,i,t){a=t,e=t().$utils(),t.duration=function(x,z){var j=t.locale();return T(x,{$l:j},z)},t.isDuration=k;var h=i.prototype.add,C=i.prototype.subtract;i.prototype.add=function(x,z){return k(x)&&(x=x.asMilliseconds()),h.bind(this)(x,z)},i.prototype.subtract=function(x,z){return k(x)&&(x=x.asMilliseconds()),C.bind(this)(x,z)}}})})(de);var Ae=de.exports;const Fe=ye(Ae),Je=G({__name:"MessageComponent",props:{message:{},width:{},index:{},disabled:{type:Boolean}},setup(s,{expose:o}){o(),F.extend(Fe),F.extend(_e);const a=s,e=Z(),{t:b}=K(),d=le(),{user:n}=W(d),r=ce(),v=O(!1),Q=H(()=>a.message.role==="user"),c=H(()=>a.message.role==="assistant"),q=H(()=>{var _;return((_=a.message.usage)==null?void 0:_.total_tokens)||0}),p=H(()=>{const _=a.message.content,S="<think>",I="</think>";if(_.includes(S))if(_.includes(I)){const g=/<think>(.*?)<\/think>/s,i=_.match(g);if(i)return i[1]}else return _.substring(_.indexOf(S)+S.length);return""}),k=H(()=>a.message.content.includes("<think>")&&!a.message.content.includes("</think>")),T=H(()=>{const _=a.message.content;let S="";const I="</think>";return _.includes(I)?S=_.substring(_.indexOf(I)+I.length):_.includes("<think>")||(S=_),S.replace(/<references>|<\/references>/g,"")}),w=()=>{e.dialog({component:$e,componentProps:{purchaseKey:r.apiKey}})},M=H(()=>F(a.message.timestamp).fromNow()),y={props:a,$q:e,t:b,userStore:d,user:n,embeddingStore:r,isLoading:v,isUserRole:Q,isAssistantRole:c,tokens:q,think:p,isThinking:k,answer:T,onPurchase:w,thinkTime:M,TypingText:Ye,get formatNumber(){return Ie}};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}}),Ge={key:0},Ke={key:1,class:"relative-position"};function Ze(s,o,a,e,b,d){return l(),f(Ve,{class:be(["q-pa-sm q-pa-md-md q-pb-lg relative-position message",e.isUserRole?"user-message":"assistant-message"]),sent:e.isUserRole,"text-color":"white"},{avatar:u(()=>{var n;return[e.isUserRole?(l(),L(E,{key:0},[(n=e.user)!=null&&n.photoURL?(l(),f($,{key:0,size:"sm",round:"",class:"bordered-avatar q-ml-md"},{default:u(()=>[m(ee,{src:e.user.photoURL,referrerpolicy:"no-referrer",alt:e.user.displayName||""},null,8,["src","alt"])]),_:1})):(l(),f($,{key:1,icon:"person",size:"sm",class:"bordered-avatar q-ml-md"}))],64)):(l(),L(E,{key:1},[e.$q.screen.gt.sm?(l(),f($,{key:0,icon:"img:/J.svg",class:"bordered-avatar q-mr-md bg-mixed-200",size:"sm"})):N("",!0)],64))]}),stamp:u(()=>[a.message.timestamp?(l(),f(oe,{key:0,icon:"schedule",label:e.thinkTime,size:"sm",class:"text-dim bg-transparent"},null,8,["label"])):N("",!0),e.tokens?(l(),f(oe,{key:1,icon:"straighten",label:`${e.formatNumber(e.tokens)} ${e.t("embedding.tokens")}`,size:"sm",class:"text-dim bg-transparent"},null,8,["label"])):N("",!0),!e.isUserRole&&a.message.statusCode!==200?(l(),f(te,{key:2,name:"o_error",class:"text-negative"})):N("",!0)]),default:u(()=>[e.isUserRole?(l(),L("div",Ge,[m(e.TypingText,{text:a.message.content,dark:e.isAssistantRole},null,8,["text","dark"])])):(l(),L("div",Ke,[a.message.content.length?(l(),L(E,{key:1},[e.isLoading||!e.isLoading&&a.message.content.includes("<think>")?(l(),f(Ee,{key:0,class:"full-width","expand-separator":"","model-value":e.isThinking,"header-class":"bg-mixed-200 text-black"},{header:u(()=>[m(se,{class:"full-width",dense:""},{default:u(()=>[m(J,{side:""},{default:u(()=>[e.isThinking?(l(),f(Ue,{key:0})):(l(),f(te,{key:1,name:"task_alt"}))]),_:1}),m(J,null,{default:u(()=>[e.isThinking?(l(),f(re,{key:0},{default:u(()=>[P(Y(e.t("deepsearch.chat_ui.thinking")),1)]),_:1})):(l(),f(re,{key:1},{default:u(()=>[P(Y(e.t("deepsearch.chat_ui.thinking_done")),1)]),_:1}))]),_:1})]),_:1})]),default:u(()=>[m(se,{class:"q-pa-lg"},{default:u(()=>[m(J,{class:"text-dim",style:{"font-family":"monospace"}},{default:u(()=>[P(Y(e.think),1)]),_:1})]),_:1})]),_:1},8,["model-value"])):N("",!0),e.answer?(l(),f(e.TypingText,{key:1,text:e.answer,loading:e.isLoading,"content-class":a.message.statusCode!==200?"text-negative":void 0},null,8,["text","loading","content-class"])):N("",!0),a.message.statusCode===402?(l(),L(E,{key:2},[m(B,{color:"primary",square:"",outline:"",label:e.t("deepsearch.chat_ui.purchase"),onClick:e.onPurchase,icon:"shopping_cart",class:"q-ma-sm"},null,8,["label"]),m(B,{color:"white",square:"",outline:"",label:e.t("deepsearch.chat_ui.keyman"),to:"/api-dashboard/key-manager",icon:"o_key",class:"q-ma-sm"},null,8,["label"])],64)):N("",!0),a.message.statusCode===429?(l(),f(B,{key:3,color:"white",square:"",outline:"",label:e.t("rate_limit.title"),to:"/api-dashboard/rate-limit",icon:"speed",class:"q-ma-sm"},null,8,["label"])):N("",!0)],64)):(l(),f(Re,{key:0,size:"md",class:"q-ma-md"}))]))]),_:1},8,["class","sent"])}const Xe=X(Je,[["render",Ze],["__file","MessageComponent.vue"]]),et=(s,o)=>{if(s.shiftKey&&s.key==="Enter")return 13;s.key==="Enter"&&(s.preventDefault(),o())},tt="https://deepsearch.jina.ai",ue=ke("chatStore",{state:()=>({messages:[],response:[],isLoading:!1,isStreaming:!1,abortController:void 0}),getters:{usage:s=>{var o;return(o=s.response[s.response.length-1])==null?void 0:o.usage}},actions:{async send(s,o,a){var e;if(!this.isLoading){if(!a){ae.create({message:this.t("deepsearch.chat_ui.api_key_required"),color:"negative",icon:"error"});return}this.abortController=new AbortController,this.isLoading=!0;try{this.messages.push({role:"user",content:s,timestamp:Date.now()});const b={model:o,messages:this.messages.concat().filter(v=>!v.statusCode||v.statusCode===200),stream:!0};this.messages.push({role:"assistant",content:"",timestamp:Date.now()});const d={"Content-Type":"application/json"};a&&(d.Authorization=`Bearer ${a}`);const n=await fetch(`${tt}/v1/chat/completions`,{method:"POST",headers:d,body:JSON.stringify(b),signal:this.abortController.signal}),r=this.messages[this.messages.length-1];if(r.statusCode=n.status,r.timestamp=Date.now(),(e=n.headers.get("content-type"))!=null&&e.includes("text/event-stream")){if(n.body){const v=n.body.getReader(),Q=new TextDecoder;let c="";for(;;){const{done:q,value:p}=await v.read();if(q){this.isLoading=!1,this.isStreaming=!1;break}p&&(this.isStreaming=!0,Q.decode(p).split(`

data:`).filter(Boolean).forEach(w=>{const M=w.replace(/data: /,"").trim();c+=M,console.log("Data:",c);try{if(c){const y=JSON.parse(c);c="",this.response.push(y),r.content+=y.choices[0].delta.content,y.usage&&(r.usage=y.usage)}}catch(y){console.error("Error parsing full JSON:",y),console.log("parital data",c)}}))}}}else{const v=await n.json();v&&(this.response=[v],this.messages.push(v.choices[0].message))}}catch(b){if(b.name!=="AbortError"){let d=b instanceof Error?b.message:String(b);this.messages[this.messages.length-1].statusCode===402&&(d=this.t("deepsearch.chat_ui.payment_required")),this.messages[this.messages.length-1].statusCode===429&&(d=this.t("deepsearch.chat_ui.rate_limit_exceeded")),this.messages[this.messages.length-1].content=d,ae.create({message:d,color:"negative",icon:"error"})}}finally{this.isLoading=!1,this.isStreaming=!1}}},cancel(){var o;(o=this.abortController)==null||o.abort(),this.isLoading=!1,this.messages[this.messages.length-1].role==="assistant"&&this.messages.pop()}}}),st=G({__name:"InputComponent",props:{maximizedWindow:{type:Boolean,default:!1},query:{type:String,default:""}},setup(s,{expose:o}){const{t:a}=K({useScope:"global"}),e=Z(),b=O(),d=O(""),n=ue(),{isLoading:r,messages:v}=W(n),Q=ce(),c=le(),{user:q}=W(c),p=s,k=H(()=>!(typeof y(d.value)=="string"||r.value)),T=()=>{k.value&&(n.send(d.value,"jina-deepsearch-v1",Q.apiKey),_())},w=()=>{r.value=!1,n.cancel()},M=()=>{e.dialog({title:a("deepsearch.chat_ui.clear_context_title"),message:a("deepsearch.chat_ui.clear_context_message"),cancel:!0}).onOk(()=>{v.value=[]})},y=I=>I.trim().length===0?a("deepsearch.chat_ui.input_cant_be_empty"):!0,_=()=>{d.value=""};o({reset:_}),xe(()=>{p.query&&(d.value=p.query)});const S={t:a,$q:e,form:b,inputMessage:d,chatStore:n,isLoading:r,messages:v,embeddingStore:Q,userStore:c,user:q,props:p,sendable:k,onSubmit:T,onCancel:w,onClear:M,validateInput:y,reset:_,get QForm(){return We},get handleShiftEnter(){return et}};return Object.defineProperty(S,"__isScriptSetup",{enumerable:!1,value:!0}),S}});function at(s,o,a,e,b,d){return l(),f(e.QForm,{ref:"form",class:"full-width",onSubmit:Ce(e.onSubmit,["prevent"])},{default:u(()=>[m(Se,{class:"full-height",modelValue:e.inputMessage,"onUpdate:modelValue":[o[1]||(o[1]=n=>e.inputMessage=n),n=>{}],outlined:"",autofocus:"",square:"",autogrow:"","hide-bottom-space":"","lazy-rules":"ondemand",rules:[e.validateInput],onKeydown:o[2]||(o[2]=n=>e.handleShiftEnter(n,()=>{var r;return(r=e.form)==null?void 0:r.submit(n)})),ref:"inputAnchor","input-style":"max-height: 50vh;",placeholder:e.t("deepsearch.chat_ui.input_placeholder")},we({after:u(()=>[!e.isLoading&&e.messages.length?(l(),f(B,{key:0,flat:"",square:"",stretch:"",icon:"delete",onClick:e.onClear},{default:u(()=>[m(Pe,null,{default:u(()=>[P(Y(e.t("deepsearch.chat_ui.new_chat")),1)]),_:1})]),_:1})):N("",!0)]),append:u(()=>[e.isLoading?(l(),f(B,{key:0,flat:"",round:"",icon:"o_stop_circle",color:"negative",onClick:e.onCancel})):(l(),f(B,{key:1,flat:"",square:"",stretch:"",icon:"send",disable:!e.sendable||e.isLoading,onClick:o[0]||(o[0]=n=>{var r;return(r=e.form)==null?void 0:r.submit(n)})},null,8,["disable"]))]),_:2},[!a.maximizedWindow&&e.$q.screen.gt.sm?{name:"prepend",fn:u(()=>{var n;return[(n=e.user)!=null&&n.photoURL?(l(),f($,{key:0,size:"sm",round:"",class:"bordered-avatar"},{default:u(()=>[m(ee,{src:e.user.photoURL,referrerpolicy:"no-referrer",alt:e.user.displayName||""},null,8,["src","alt"])]),_:1})):N("",!0)]}),key:"0"}:void 0]),1032,["modelValue","rules","placeholder"])]),_:1},512)}const nt=X(st,[["render",at],["__file","InputComponent.vue"]]);var me=(s=>(s[s.TOP=0]="TOP",s[s.BOTTOM=1]="BOTTOM",s))(me||{});const it=G({__name:"ChatComponent",props:{maximizedWindow:{type:Boolean,default:!1}},setup(s,{expose:o}){o();const a=Z(),e=O(!0),{t:b}=K({useScope:"global"}),d=ue(),{messages:n}=W(d),r=O(null),v=O(!0),Q=O(""),c=O(0),q=w=>{ne(()=>{v.value&&(c.value=w.height,k(1))})},p=w=>{ne(()=>{var _,S;const M=(_=r.value)==null?void 0:_.$el,y=M.offsetHeight+M.scrollTop-M.scrollHeight;w.direction==="up"&&((S=n.value)!=null&&S.length)&&y<-5&&(v.value=!1),w.direction==="down"&&y>=-5&&(v.value=!0)})},k=w=>{setTimeout(()=>{if(r.value&&r.value.$el){const M=w===0?0:r.value.$el.scrollHeight;r.value.$el.scrollTo({top:M,behavior:"smooth"})}},10)};qe(async()=>{v.value=!0});const T={$q:a,visitNewUI:e,t:b,chatStore:d,messages:n,scrollTarget:r,autoScroll:v,exampleQuery:Q,virtualScrollHeight:c,onResize:q,onScroll:p,SCROLL_POSITION:me,scrollTo:k,get QVirtualScroll(){return Be},get QCardSection(){return Qe},get QCard(){return Te},MessageComponent:Xe,InputComponent:nt,get deepSearchFlow(){return Le},UsageHeader:Oe};return Object.defineProperty(T,"__isScriptSetup",{enumerable:!1,value:!0}),T}}),ot={class:"row justify-center q-mt-xl"},rt={class:"col-xs-10 col-sm-8 col-md-6"},lt={class:"row justify-center q-mt-xl q-px-xl"},ct={class:"column no-wrap"},dt={class:"col-12"},ut={class:"col-12 col-md-8"},mt={class:"column items-center q-gutter-y-lg"},ht={class:"text-center q-mb-xl",style:{width:"60%"}};function ft(s,o,a,e,b,d){return l(),f(e.QCard,{bordered:!a.maximizedWindow,flat:"",square:"",class:"column fit relative-position no-wrap",style:{"max-height":"100vh"}},{default:u(()=>[a.maximizedWindow?(l(),L(E,{key:0},[m(e.UsageHeader,{class:"full-width","home-link":"/deepsearch","faq-link":"/deepsearch#faq","issue-link":"https://github.com/jina-ai/node-DeepResearch/issues","is-support-c-s-p":!1,"api-link":"https://github.com/jina-ai/node-DeepResearch?tab=readme-ov-file#openai-compatible-server-api"}),m(Me)],64)):N("",!0),!a.maximizedWindow&&e.$q.screen.gt.md?(l(),f(B,{key:1,flat:"",round:"",icon:"fullscreen",class:"absolute-top-left q-ml-md q-mt-md",style:{"z-index":"1"},to:"/api-dashboard/deepsearch-chat"})):N("",!0),e.messages.length?(l(),f(e.QCardSection,{key:3,class:"column justify-between no-wrap q-px-lg scroll q-mb-xl",ref:"scrollTarget"},{default:u(()=>[m(He,{onScroll:e.onScroll,debounce:300}),U("div",ct,[m(ie,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",duration:50},{default:u(()=>[U("div",dt,[m(e.QVirtualScroll,{items:e.messages},{default:u(({item:n,index:r})=>[m(je,{onResize:e.onResize,debounce:300}),m(e.MessageComponent,{message:n,index:r},null,8,["message","index"])]),_:1},8,["items"])])]),_:1})])]),_:1},512)):(l(),f(e.QCardSection,{key:2,class:"full-height column justify-center"},{default:u(()=>[m(ee,{src:e.deepSearchFlow,"img-style":{opacity:.1},fit:"fill",class:"col-4"},null,8,["src"]),U("div",ot,[U("div",rt,[m(e.InputComponent,{maximizedWindow:a.maximizedWindow,query:e.exampleQuery},null,8,["maximizedWindow","query"])])]),U("div",lt,[(l(),L(E,null,ze([1,2,3],n=>m(B,{"no-caps":"",square:"",flat:"",size:"sm",label:e.t(`deepsearch.chat_ui.example_q${n}`),key:n,clickable:"",class:"text-dim col-auto",onClick:r=>e.exampleQuery=e.t(`deepsearch.chat_ui.example_q${n}`)},null,8,["label","onClick"])),64))])]),_:1})),m(ie,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:u(()=>[e.messages.length?(l(),f(De,{key:0,class:"lock-blur absolute-bottom row justify-center"},{default:u(()=>[U("div",ut,[m(e.InputComponent,{maximizedWindow:a.maximizedWindow,query:e.exampleQuery},null,8,["maximizedWindow","query"])])]),_:1})):N("",!0)]),_:1}),m(Ne,{class:"lock-blur",size:"0",showing:e.visitNewUI},{default:u(()=>[U("div",mt,[U("span",ht,Y(e.t("deepsearch.chat_ui.move_to_new")),1),m(B,{outline:"",square:"",icon:"open_in_new",label:e.t("deepsearch.chat_ui.new_url"),href:"https://search.jina.ai",target:"_blank",padding:"lg"},null,8,["label"]),m(B,{square:"",label:e.t("deepsearch.chat_ui.stay"),flat:"",onClick:o[0]||(o[0]=n=>e.visitNewUI=!1)},null,8,["label"])])]),_:1},8,["showing"])]),_:1},8,["bordered"])}const zt=X(it,[["render",ft],["__file","ChatComponent.vue"]]);export{zt as C};
