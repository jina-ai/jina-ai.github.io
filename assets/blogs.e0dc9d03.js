import{Q as x}from"./QImg.8f68d54a.js";import{e as y,a7 as m,a8 as g,ae as b,a9 as c,ao as A,aa as S,ab as T,aA as I,bS as p,ad as u,ai as N,a6 as B,at as j,au as L,ah as h,ak as k,am as C,af as f,ag as _,ac as Q,be as $}from"./index.afa5cd73.js";import{_ as U}from"./AskAnythingToolTip.2ed2ec1f.js";import{Q as w}from"./QBadge.b94dc314.js";import{Q as O}from"./QTooltip.fb96ef26.js";const R=y({__name:"AvatarsComponent",props:{authors:{}},setup(t){return(e,i)=>(c(),m(b,{avatar:""},{default:g(()=>[A("div",{style:p([{height:"30px"},`width: ${e.authors.length*30-(e.authors.length-1)*5}px`]),class:"relative-position"},[(c(!0),S(N,null,T(e.authors,(a,l)=>(c(),m(I,{size:"30px",color:"grey-9",key:a.id,style:p(`left: ${l*25}px;`),class:"overlapping"},{default:g(()=>[u(x,{src:a.profileImage,loading:"lazy"},null,8,["src"])]),_:2},1032,["style"]))),128))],4)]),_:1}))}});var z=U(R,[["__scopeId","data-v-4736c702"]]);const q=y({__name:"SXTooltip",props:{altText:{default:""},imgAltTarget:{default:void 0}},setup(t){const{t:e}=B({useScope:"global"}),i=j(),{settings:a}=L(i),l=window.gtag,r=()=>{l("event","read_SX_image_description")};return(s,d)=>s.altText&&h(a).enableSceneXplainTooltip?(c(),m(O,{key:0,class:"bg-primary text-body2 text-black","max-width":"400px",delay:"500",onBeforeHide:r,target:s.imgAltTarget},{default:g(()=>[u(Q,null,{default:g(()=>[u(b,null,{default:g(()=>[u(w,{class:"row items-center text-grey-8 text-caption"},{default:g(()=>[u(C,{name:"img:https://scenex.jina.ai/SceneX - Light.svg",class:"q-mr-sm"}),f(" "+_(`${h(e)("powered_by")} SceneXplain`),1)]),_:1}),u(w,{class:"text-black"},{default:g(()=>[f(_(s.altText),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["target"])):k("",!0)}}),E=$("news",{state:()=>({authors:[],blogs:{all:[],allNoRelease:[],featured:[],press:[],events:[],insights:[],"knowledge-base":[],releases:[],"tech-blog":[]},blogsMeta:{pagination:{limit:0,next:0,page:0,pages:0,prev:0,total:0}},allBlogs:[],updatedAt:void 0}),actions:{async getNews(t,e="authors,tags"){const i=`https://jina-ai-gmbh.ghost.io/ghost/api/content/posts/slug/${t}/?${new URLSearchParams({key:"2652cf20335454671600707967",include:e})}`,a=await fetch(i,{headers:{"Content-Type":"application/json; charset=UTF-8"}}),{posts:l}=await a.json();return(l==null?void 0:l.length)>0?l.map(r=>({id:r.id,url:r.url,html:r.html,excerpt:r.excerpt,featureImage:r.feature_image,featureImageAlt:r.feature_image_alt,publishedAt:r.published_at,updatedAt:r.updated_at,title:r.title,slug:r.slug,readingTime:r.reading_time,featured:r.featured,primaryTag:r.primary_tag,authors:r.authors.map(s=>({id:s.id,name:s.name,bio:s.bio,location:s.location,profileImage:s.profile_image,slug:s.slug,url:s.url,twitter:s.twitter})),tags:r.tags.map(s=>({id:s.id,name:s.name,slug:s.slug,url:s.url,visibility:s.visibility}))}))[0]:null},async getNewsList({filter:t,include:e="authors,tags",page:i,limit:a=6}){let l={include:e,limit:String(a),key:"2652cf20335454671600707967"};t!==void 0&&(l=Object.assign(l,{filter:t})),i!==void 0&&(l=Object.assign(l,{page:String(i)}));const r="https://jina-ai-gmbh.ghost.io/ghost/api/content/posts/?"+new URLSearchParams(l),s=await fetch(r,{headers:{"Content-Type":"application/json; charset=UTF-8"}}),{posts:d,meta:v}=await s.json();return{posts:d.map(n=>({id:n.id,url:n.url,html:n.html,excerpt:n.excerpt,featureImage:n.feature_image,featureImageAlt:n.feature_image_alt,publishedAt:n.published_at,updatedAt:n.updated_at,title:n.title,slug:n.slug,readingTime:n.reading_time,featured:n.featured,primaryTag:n.primary_tag,authors:n.authors.map(o=>({id:o.id,name:o.name,bio:o.bio,location:o.location,profileImage:o.profile_image,slug:o.slug,url:o.url,twitter:o.twitter})),tags:n.tags.map(o=>({id:o.id,name:o.name,slug:o.slug,url:o.url,visibility:o.visibility}))})),meta:v}},async getNewsBy({authors:t,tag:e="all",page:i=1,limit:a=6}){const l=[];t&&t.length>0&&l.push(`authors.slug:[${t.join(",")}]`),e!=="all"&&(e==="featured"?l.push("featured:true"):l.push(`tag:${e}`));const{posts:r,meta:s}=await this.getNewsList({filter:l.join("+"),page:i,limit:a});this.blogs[e]=r,this.blogsMeta=s},async getNewsBySlug(t,e="authors,tags"){return await this.getNews(t,e)},async getSuggestionNews(t,e){const{posts:i}=await this.getNewsList({limit:t,filter:e,page:1});return i},async getAllNews(){let t={limit:"all"};if(this.allBlogs.length>0&&this.updatedAt){t=Object.assign(t,{filter:`updated_at:>${this.updatedAt}`});const{posts:e}=await this.getNewsList(t);e.reverse().forEach(i=>{const a=this.allBlogs.findIndex(l=>l.id===i.id);a!==-1?this.allBlogs[a]=i:this.allBlogs.unshift(i)})}else{const{posts:e}=await this.getNewsList(t);this.allBlogs=e}this.allBlogs=[...this.allBlogs.sort((e,i)=>new Date(i.publishedAt).getTime()-new Date(e.publishedAt).getTime())],this.updatedAt=new Date().toISOString()},async getAuthors(){const t="https://jina-ai-gmbh.ghost.io/ghost/api/content/authors/?"+new URLSearchParams({key:"2652cf20335454671600707967",limit:"all"}),e=await fetch(t,{headers:{"Content-Type":"application/json; charset=UTF-8"}}),{authors:i}=await e.json();this.authors=i.map(a=>({id:a.id,name:a.name,bio:a.bio,location:a.location,profileImage:a.profile_image,slug:a.slug,url:a.url,twitter:a.twitter}))},async select(t){let e;return typeof t=="string"?e=[t]:e=t,this.allBlogs.filter(i=>e.some(a=>i.title.toLowerCase().includes(a.toLowerCase())))}},persist:!0});export{z as A,q as _,E as u};
