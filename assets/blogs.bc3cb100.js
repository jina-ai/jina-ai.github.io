import{k as b,R as y,m as w,S as _,s as v,h as m,i as u,T as S,C,aZ as A,e as B,a7 as h,a8 as p,ae as T,a9 as d,az as j,ab as x,ac as I,at as N,bC as f,aa as L,ak as k,aV as $}from"./index.c750616e.js";import{Q}from"./QImg.ad5f9fe5.js";import{_ as P}from"./plugin-vue_export-helper.21dcd24c.js";var O=b({name:"QInnerLoading",props:{...y,...w,showing:Boolean,color:String,size:{type:[String,Number],default:42},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(e,{slots:t}){const s=C(),a=_(e,s.proxy.$q),{transitionProps:n,transitionStyle:i}=v(e),l=m(()=>"q-inner-loading absolute-full column flex-center"+(a.value===!0?" q-inner-loading--dark":"")),g=m(()=>"q-inner-loading__label"+(e.labelClass!==void 0?` ${e.labelClass}`:""));function c(){const r=[u(A,{size:e.size,color:e.color})];return e.label!==void 0&&r.push(u("div",{class:g.value,style:e.labelStyle},[e.label])),r}function o(){return e.showing===!0?u("div",{class:l.value,style:i.value},t.default!==void 0?t.default():c()):null}return()=>u(S,n.value,o)}});const z=B({__name:"AvatarsComponent",props:{authors:{}},setup(e){return(t,s)=>(d(),h(T,{avatar:""},{default:p(()=>[j("div",{style:f([{height:"30px"},`width: ${t.authors.length*30-(t.authors.length-1)*5}px`]),class:"relative-position"},[(d(!0),x(k,null,I(t.authors,(a,n)=>(d(),h(N,{size:"30px",color:"grey-9",key:a.id,style:f(`left: ${n*25}px;`),class:"overlapping"},{default:p(()=>[L(Q,{src:a.profileImage},null,8,["src"])]),_:2},1032,["style"]))),128))],4)]),_:1}))}});var F=P(z,[["__scopeId","data-v-363418f9"]]);const R=$("news",{state:()=>({authors:[],blogs:{all:[],featured:[],press:[],events:[],insights:[],"knowledge-base":[],releases:[],"tech-blog":[]},blogsMeta:{pagination:{limit:0,next:0,page:0,pages:0,prev:0,total:0}},allBlogs:[],updatedAt:void 0}),actions:{async getNews(e,t="authors,tags"){const s=`https://jina-ai-gmbh.ghost.io/ghost/api/content/posts/slug/${e}/?${new URLSearchParams({key:"2652cf20335454671600707967",include:t})}`,a=await fetch(s,{headers:{"Content-Type":"application/json; charset=UTF-8"}}),{posts:n}=await a.json();return n.length>0?n.map(i=>({id:i.id,url:i.url,html:i.html,excerpt:i.excerpt,featureImage:i.feature_image,publishedAt:i.published_at,updatedAt:i.updated_at,title:i.title,slug:i.slug,readingTime:i.reading_time,featured:i.featured,primaryTag:i.primary_tag,authors:i.authors.map(l=>({id:l.id,name:l.name,bio:l.bio,location:l.location,profileImage:l.profile_image,slug:l.slug,url:l.url,twitter:l.twitter})),tags:i.tags.map(l=>({id:l.id,name:l.name,slug:l.slug,url:l.url,visibility:l.visibility}))}))[0]:null},async getNewsList({filter:e,include:t="authors,tags",page:s,limit:a=6}){let n={include:t,limit:String(a),key:"2652cf20335454671600707967"};e!==void 0&&(n=Object.assign(n,{filter:e})),s!==void 0&&(n=Object.assign(n,{page:String(s)}));const i="https://jina-ai-gmbh.ghost.io/ghost/api/content/posts/?"+new URLSearchParams(n),l=await fetch(i,{headers:{"Content-Type":"application/json; charset=UTF-8"}}),{posts:g,meta:c}=await l.json();return{posts:g.map(o=>({id:o.id,url:o.url,html:o.html,excerpt:o.excerpt,featureImage:o.feature_image,publishedAt:o.published_at,updatedAt:o.updated_at,title:o.title,slug:o.slug,readingTime:o.reading_time,featured:o.featured,primaryTag:o.primary_tag,authors:o.authors.map(r=>({id:r.id,name:r.name,bio:r.bio,location:r.location,profileImage:r.profile_image,slug:r.slug,url:r.url,twitter:r.twitter})),tags:o.tags.map(r=>({id:r.id,name:r.name,slug:r.slug,url:r.url,visibility:r.visibility}))})),meta:c}},async getNewsBy({authors:e,tag:t="all",page:s=1,limit:a=6}){const n=[];e&&e.length>0&&n.push(`authors.slug:[${e.join(",")}]`),t!=="all"&&(t==="featured"?n.push("featured:true"):n.push(`tag:${t}`));const{posts:i,meta:l}=await this.getNewsList({filter:n.join("+"),page:s,limit:a});this.blogs[t]=i,this.blogsMeta=l},async getNewsBySlug(e,t="authors,tags"){return await this.getNews(e,t)},async getSuggestionNews(e,t){const{posts:s}=await this.getNewsList({limit:e,filter:t,page:1});return s},async getAllNews(){let e={limit:"all"};if(this.allBlogs.length>0&&this.updatedAt){e=Object.assign(e,{filter:`updated_at:>${this.updatedAt}`});const{posts:t}=await this.getNewsList(e);t.reverse().forEach(s=>{const a=this.allBlogs.findIndex(n=>n.id===s.id);a!==-1?this.allBlogs[a]=s:this.allBlogs.unshift(s)})}else{const{posts:t}=await this.getNewsList(e);this.allBlogs=t}this.allBlogs=[...this.allBlogs.sort((t,s)=>new Date(s.publishedAt).getTime()-new Date(t.publishedAt).getTime())],this.updatedAt=new Date().toISOString()},async getAuthors(){const e="https://jina-ai-gmbh.ghost.io/ghost/api/content/authors/?"+new URLSearchParams({key:"2652cf20335454671600707967",limit:"all"}),t=await fetch(e,{headers:{"Content-Type":"application/json; charset=UTF-8"}}),{authors:s}=await t.json();this.authors=s.map(a=>({id:a.id,name:a.name,bio:a.bio,location:a.location,profileImage:a.profile_image,slug:a.slug,url:a.url,twitter:a.twitter}))},async select(e){let t;return typeof e=="string"?t=[e]:t=e,this.allBlogs.filter(s=>t.every(a=>s.title.toLowerCase().includes(a.toLowerCase())))}},persist:!0});export{F as A,O as Q,R as u};
