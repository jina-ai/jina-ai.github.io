import{Q as Ne,a as Xe}from"./QLinearProgress-nBI1WtTO.js";import{s as $e,au as ea,v as aa,aw as ta,C as na,m as V,p as me,T as ia,J as la,as as sa,aB as ra,e as de,aC as Y,aD as ye,j as ge,a0 as pe,k as A,a2 as he,a3 as m,a4 as w,a5 as t,a6 as n,a7 as _e,ad as le,ae as S,aq as C,af as v,ag as u,a8 as q,aE as je,q as Z,aF as Qe,ap as Te,aa as D,ah as oe,ai as ue,aG as oa,aH as da,aI as Me,aJ as ca,aK as ua,aL as ma,aM as we,ao as ya,aN as fa,aO as Ve,ab as I,aP as Re,aQ as De,n as ze,u as He,am as fe,aR as Ue,aS as _a,aT as ga,W as pa,aU as ha,aV as ba,aj as W,ac as va,a9 as ke,aA as wa}from"./index-D5tq4U3B.js";import{Q as B}from"./QItemLabel-BsomCr16.js";import{Q as O}from"./QTooltip-CHLKJ2TN.js";import{a as Fe,Q as ka,b as Ye}from"./QChip-BMpgJw9G.js";import{Q as Be}from"./QList-BMs1rLPx.js";import{Q as Pa}from"./QExpansionItem-CIdelIMJ.js";import{c as Sa}from"./copy-to-clipboard-azrQe1tl.js";import{u as $,a as qa,T as X,Q as Ta}from"./use-dialog-plugin-component-BLjcy06C.js";import{d as Pe,f as qe,Q as Ze,a as ee,b as Se,c as xa,e as Ka}from"./date-BZPr2mfE.js";import{C as Aa}from"./ClosePopup-D3U_V0Mo.js";const Oe=$e({name:"QInnerLoading",props:{...ea,...aa,showing:Boolean,color:String,size:{type:[String,Number],default:"42px"},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(i,{slots:l}){const s=la(),e=ta(i,s.proxy.$q),{transitionProps:y,transitionStyle:p}=na(i),a=V(()=>"q-inner-loading q--avoid-card-border absolute-full column flex-center"+(e.value===!0?" q-inner-loading--dark":"")),d=V(()=>"q-inner-loading__label"+(i.labelClass!==void 0?` ${i.labelClass}`:""));function _(){const M=[me(sa,{size:i.size,color:i.color})];return i.label!==void 0&&M.push(me("div",{class:d.value,style:i.labelStyle},[i.label])),M}function h(){return i.showing===!0?me("div",{class:a.value,style:p.value},l.default!==void 0?l.default():_()):null}return()=>me(ia,y.value,h)}}),xe=ra("apiKey",{state:()=>({keys:[],isLoading:!1,keysInfoCache:{},isBusyState:new Set,isChecking:!1}),getters:{primaryKey:i=>{var l;return(l=i.keys.find(s=>s.isPrimary))==null?void 0:l.key},primaryKeyInfo:i=>{var l;return i.keysInfoCache[((l=i.keys.find(s=>s.isPrimary))==null?void 0:l.key)||""]}},actions:{async addKey(i,l){var s;if(!(!((s=de.currentUser)!=null&&s.uid)||!i))try{const{data:e}=await Y.request("apiKey","addKey",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await Y.getIdToken()}`},body:JSON.stringify({key:i,metadata:l})});return e&&(this.keys.unshift(e),this.getKeyInfo(i)),e}catch(e){console.error(e),ye.create({message:e instanceof Error?e.message:String(e),color:"negative",icon:"error"})}},async updateKey(i,l){var s;if(!(!((s=de.currentUser)!=null&&s.uid)||!i)){this.isBusyState.add(i);try{const{data:e}=await Y.request("apiKey","updateKey",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await Y.getIdToken()}`},body:JSON.stringify({key:i,metadata:l})}),y=this.keys.find(p=>p.key===i);return y&&(y.metadata=l),e}catch(e){console.error(e),ye.create({message:e instanceof Error?e.message:String(e),color:"negative",icon:"error"})}finally{this.isBusyState.delete(i)}}},async setPrimaryKey(i){var l;if((l=de.currentUser)!=null&&l.uid){this.isBusyState.add(i);try{const{data:s}=await Y.request("apiKey","setPrimaryKey",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await Y.getIdToken()}`},body:JSON.stringify({key:i,isPrimary:!0})});return s&&(this.keys.forEach(e=>(e.key===i?e.isPrimary=!0:e.isPrimary=!1,e)),$().apiKey=i),s}catch(s){console.error(s),ye.create({message:s instanceof Error?s.message:String(s),color:"negative",icon:"error"})}finally{this.isBusyState.delete(i)}}},async checkPrimaryKey(){var i;if((i=de.currentUser)!=null&&i.uid&&!this.isChecking)try{this.isChecking=!0;const l=$();this.primaryKey&&this.primaryKey!==l.apiKey?l.isPaidUser?(this.keys.find(e=>e.key===l.apiKey)||await this.addKey(l.apiKey),await this.setPrimaryKey(l.apiKey)):l.apiKey=this.primaryKey:await this.getKeyInfo(l.apiKey)}finally{this.isChecking=!1}},async removeKey(i){var l;if((l=de.currentUser)!=null&&l.uid){this.isBusyState.add(i);try{const{data:s}=await Y.request("apiKey","removeKey",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await Y.getIdToken()}`},body:JSON.stringify({key:i})});s&&(this.keys.splice(this.keys.findIndex(e=>e.key===i),1),delete this.keysInfoCache[i])}catch(s){console.error(s),ye.create({message:s instanceof Error?s.message:String(s),color:"negative",icon:"error"})}finally{this.isBusyState.delete(i)}}},async fetchKeys(i=!0){var l;if(!(!((l=de.currentUser)!=null&&l.uid)||this.isLoading)){this.isLoading=!0;try{const{data:s}=await Y.request("apiKey","keyList",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await Y.getIdToken()}`}});if(this.keys=s,i)for(const e of this.keys)this.getKeyInfo(e.key)}catch(s){console.error(s)}finally{this.isLoading=!1}}},async getKeyInfo(i,l=!1){var s,e,y;if(i&&!this.isBusyState.has(i))try{this.isBusyState.add(i);const p=await $().getKeyInfo(i);if(i===$().apiKey&&($().apiKeyInfo=p),l){this.keysInfoCache[i]={...p,usage:((s=this.keysInfoCache[i])==null?void 0:s.usage)||[],last_used_at:(e=this.keysInfoCache[i])==null?void 0:e.last_used_at};return}const a=await $().getUsage(i);this.keysInfoCache[i]={...p,usage:a,last_used_at:(y=a==null?void 0:a[0])==null?void 0:y.updated_at}}finally{this.isBusyState.delete(i)}},isFreeKey(i){var l,s;return i?!((s=(l=this.keysInfoCache[i])==null?void 0:l.metadata)!=null&&s.speed_level):!1},isPaidKey(i){var l,s;return i?((s=(l=this.keysInfoCache[i])==null?void 0:l.metadata)==null?void 0:s.speed_level)===1:!1},isPremiumPaidKey(i){var l,s;return i?((s=(l=this.keysInfoCache[i])==null?void 0:l.metadata)==null?void 0:s.speed_level)===2:!1}}});function Ee(i){setTimeout(()=>{window.URL.revokeObjectURL(i.href)},1e4),i.remove()}function Ia(i,l,s={}){const{mimeType:e,byteOrderMark:y,encoding:p}=typeof s=="string"?{mimeType:s}:s,a=p!==void 0?new TextEncoder(p).encode([l]):l,d=y!==void 0?[y,a]:[a],_=new Blob(d,{type:e||"application/octet-stream"}),h=document.createElement("a");h.href=window.URL.createObjectURL(_),h.setAttribute("download",i),typeof h.download=="undefined"&&h.setAttribute("target","_blank"),h.classList.add("hidden"),h.style.position="fixed",document.body.appendChild(h);try{return h.click(),Ee(h),!0}catch(M){return Ee(h),M}}const Ca=ge({__name:"UsageHistoryDialog",props:{apiKey:{}},setup(i,{expose:l}){l();const s=i,{t:e}=pe({useScope:"global"}),y=xe(),p=$(),{dialogRef:a}=qa(),d=A(!1),_=A({avg:0,p50:0,p90:0,p99:0,min:0,max:0,last7DaysTotal:0}),h=A({quantity:0,request:0}),M=()=>{var r;(r=N.value)==null||r.requestServerInteraction(),T(),J()},E=()=>{R.value=[]},L=()=>{var r;(r=N.value)==null||r.requestServerInteraction(),T()},b=r=>{var o,x,g;if(!((o=r.request_path)==null?void 0:o.toLowerCase()))return"";switch((x=r.request_path)==null?void 0:x.toLowerCase()){case"/encode":case"/checkfact":return H((g=r.metadata)==null?void 0:g.model_name);case"/embeddings":case"/rerank":case"/classify":case"/train":return`api.jina.ai/v1${r.request_path}`;case"/multi-embeddings":return"api.jina.ai/v1/multi-vector";case"/segment":return"api.jina.ai/v1/segment";default:return r.request_path}},k=[{query:"reader-crawl",formatted:"r.jina.ai"},{query:"reader-search",formatted:"s.jina.ai"},{query:"grounding-checkfact",formatted:"g.jina.ai"},{query:"reader-deepresearch",formatted:"deepsearch.jina.ai"}],H=r=>{if(!r)return"";const c=r.toLowerCase(),o=k.find(x=>c.startsWith(x.query));return o?o.formatted:r},N=A(null),R=A([]),z=A([{name:"icon",label:"",field:"amount",sortable:!1,align:"right"},{name:"createdAt",label:e("embedding.usage_time"),field:"createdAt",sortable:!1,align:"left",format:r=>Pe.formatDate(r,d.value?"YYYY-MM-DD":"YYYY-MM-DD-HH:mm:ss")},{name:"amount",label:e("embedding.tokens"),field:"amount",sortable:!1,align:"right",format:r=>r>0?`+${r}`:`${r}`},{name:"requestNumber",label:e("embedding.request_number"),field:"request_number",sortable:!1,align:"right",format:r=>r?qe(r):""},{name:"requestPath",label:e("embedding.request_path"),field:"request_path",sortable:!1,align:"left"},{name:"reason",label:e("embedding.usage_reason"),field:"reason",sortable:!1,align:"left"}]),ae=async()=>{var o,x;await y.getKeyInfo(s.apiKey);const r=(x=(o=y.keysInfoCache)==null?void 0:o[s.apiKey])==null?void 0:x.usage;if(!r||r.length===0)return;const c=d.value?se(r):ce(r);R.value=c,T()},ce=r=>r.map(c=>{const o=new Date(c.updated_at);let x=c.quantity,g=e(`embedding.usage_reason_${c.type.replaceAll(" ","_")}`);return c.type===X.CONSUME||c.type===X.TRANSFER_OUT?(x=-x,c.metadata.model_name&&(g=g+": "+H(c.metadata.model_name))):(c.metadata.product_name&&(g=g+": "+c.metadata.product_name),c.metadata.order_quantity&&c.metadata.order_quantity>1&&(g=g+` (x ${c.metadata.order_quantity})`)),{createdAt:o,amount:x,reason:g,request_path:b(c),request_number:c.request_number,type:c.type}}),se=r=>{const c=new Map;return r.forEach(o=>{const g=new Date(o.updated_at).toISOString().split("T")[0];c.has(g)||c.set(g,{createdAt:new Date(g),amount:0,request_number:0,request_paths:new Set,reasons:new Set});const K=c.get(g);let Q=o.quantity;(o.type===X.CONSUME||o.type===X.TRANSFER_OUT)&&(Q=-Q),K.amount+=Q,o.request_number&&(K.request_number+=o.request_number);const ne=b(o);ne&&K.request_paths.add(ne);let ie=e(`embedding.usage_reason_${o.type.replaceAll(" ","_")}`);o.metadata.model_name?ie+=": "+H(o.metadata.model_name):o.metadata.product_name&&(ie+=": "+o.metadata.product_name),K.reasons.add(ie)}),Array.from(c.values()).map(o=>({createdAt:o.createdAt,amount:o.amount,request_number:o.request_number,request_path:Array.from(o.request_paths).join(", "),reason:Array.from(o.reasons).join(", "),type:o.amount>0?X.TRANSFER_IN:X.CONSUME}))},T=()=>{const r=R.value.filter(P=>P.type===X.CONSUME&&P.request_number>0&&P.createdAt);if(r.length===0){_.value={avg:0,p50:0,p90:0,p99:0,min:0,max:0,last7DaysTotal:0};return}const c=r.map(P=>{const G=d.value?1440:60;return P.request_number/G}),o=Math.min(...c),x=Math.max(...c),g=c.reduce((P,G)=>P+G,0)/c.length,K=[...c].sort((P,G)=>P-G),Q=Math.floor(K.length*.5),ne=Math.floor(K.length*.9),ie=Math.floor(K.length*.99),f=new Date;f.setDate(f.getDate()-7);const F=R.value.filter(P=>P.type===X.CONSUME&&P.request_number>0&&new Date(P.createdAt)>=f).reduce((P,G)=>P+G.request_number,0);_.value={avg:Math.round(g),p50:Math.round(K[Q])||0,p90:Math.round(K[ne])||0,p99:Math.round(K[ie])||0,min:Math.round(o),max:Math.round(x),last7DaysTotal:F}},J=async()=>{var c,o;const r=await p.getTotalUsage(s.apiKey);h.value={quantity:(c=r==null?void 0:r.total_quantity)!=null?c:0,request:(o=r==null?void 0:r.total_request)!=null?o:0}};function U(r,c){let o=c!==void 0?c(r):r;return o=o==null?"":String(o),o=o.split('"').join('""'),`"${o}"`}const te={props:s,t:e,apiKeyStore:y,embeddingStore:p,dialogRef:a,isDailyView:d,rpmStats:_,totalStats:h,onUsageHistoryDialogShow:M,onUsageHistoryDialogHide:E,onViewChange:L,getEndpoint:b,formattedNames:k,formatModelName:H,usageTableRef:N,usageRows:R,usageColumns:z,getUsageHistory:ae,processHourlyData:ce,aggregateDataByDay:se,calculateRpmStats:T,getTotalUsage:J,wrapCsvValue:U,exportTable:()=>{const r=d.value?g=>Pe.formatDate(g,"YYYY-MM-DD"):g=>Pe.formatDate(g,"YYYY-MM-DD-HH:mm:ss"),c=[z.value.map(g=>U(g.label))].concat(R.value.map(g=>z.value.map(K=>K.name==="createdAt"?U(r(g[K.field]),void 0):U(g[K.field],K.format)).join(","))).join(`\r
`),o=d.value?"usage-history-daily.csv":"usage-history-hourly.csv";Ia(o,c,"text/csv")!==!0&&console.error("Browser denied file download...")},get QTable(){return Ze},get TRANSACTION_TYPE(){return X},get formatNumber(){return qe}};return Object.defineProperty(te,"__isScriptSetup",{enumerable:!1,value:!0}),te}}),La={class:"row q-gutter-x-sm"},Ma={key:0,class:"text-positive"},Ra={key:1,class:"text-negative"},Da={class:"row full-width q-col-gutter-md q-py-sm"},Ua={class:"text-caption text-dim"},Ba={class:"text-bold"},Oa={class:"text-caption text-dim"},Ea={class:"text-bold"};function Na(i,l,s,e,y,p){return m(),w(oa,{ref:"dialogRef",onShow:e.onUsageHistoryDialogShow,onHide:e.onUsageHistoryDialogHide},{default:t(()=>[n(_e,{style:{width:"1000px","max-width":"80vw"}},{default:t(()=>[n(le,{class:"q-pa-md"},{default:t(()=>[n(S,{avatar:""},{default:t(()=>[n(C,{name:"history"})]),_:1}),n(S,null,{default:t(()=>[n(B,null,{default:t(()=>[v(u(e.t("embedding.usage_history")),1)]),_:1}),n(B,{caption:""},{default:t(()=>[v(u(e.t("embedding.usage_history_explain")),1)]),_:1})]),_:1}),n(S,{side:""},{default:t(()=>[q("div",La,[n(je,{modelValue:e.isDailyView,"onUpdate:modelValue":[l[0]||(l[0]=a=>e.isDailyView=a),e.onViewChange],label:e.isDailyView?e.t("embedding.daily_view"):e.t("embedding.hourly_view")},null,8,["modelValue","label"]),n(Z,{flat:"",square:"",stretch:"",icon:"download",label:e.t("embedding.export_csv"),onClick:e.exportTable},null,8,["label"]),Qe(n(Z,{icon:"close",flat:"",round:""},null,512),[[Aa]])])]),_:1})]),_:1}),n(Te),n(e.QTable,{ref:"usageTableRef",flat:"",class:"bg-transparent","row-key":"createdAt",rows:e.usageRows,columns:e.usageColumns,loading:e.apiKeyStore.isBusyState.has(e.props.apiKey),onRequest:e.getUsageHistory,pagination:{rowsPerPage:10}},{"body-cell-icon":t(a=>[n(ee,{key:"icon",props:a},{default:t(()=>[a.row.amount>0||a.row.type===e.TRANSACTION_TYPE.TRANSFER_IN&&a.row.amount==0?(m(),D("span",Ma,"▲")):(m(),D("span",Ra,"▼"))]),_:2},1032,["props"])]),"body-cell-amount":t(a=>[n(ee,{key:"amount",props:a},{default:t(()=>[v(u((a.row.amount>0||a.row.type===e.TRANSACTION_TYPE.TRANSFER_IN&&a.row.amount==0?"+":"")+e.formatNumber(a.row.amount)),1)]),_:2},1032,["props"])]),"body-cell-requestPath":t(a=>[n(ee,{key:"request_path",props:a},{default:t(()=>[q("code",null,u(a.row.request_path),1)]),_:2},1032,["props"])]),top:t(()=>[q("div",Da,[(m(!0),D(oe,null,ue(e.rpmStats,(a,d)=>(m(),D("div",{key:d,class:"col-auto text-right q-mr-xs"},[q("div",Ua,u(e.t(`embedding.rpm_${d}`)),1),q("div",Ba,u(e.formatNumber(a)),1)]))),128)),(m(!0),D(oe,null,ue(e.totalStats,(a,d)=>(m(),D("div",{key:d,class:"col-auto text-right q-mr-xs"},[q("div",Oa,u(e.t(`embedding.total_${d}`)),1),q("div",Ea,u(e.formatNumber(a)),1)]))),128))])]),_:1},8,["rows","columns","loading"])]),_:1})]),_:1},512)}const ja=he(Ca,[["render",Na],["__file","UsageHistoryDialog.vue"]]),Qa=ge({__name:"RateLimitComponent",props:{showActionButtons:Boolean,maximizedWindow:{type:Boolean,default:!1}},setup(i,{expose:l}){l();const s=i,{t:e}=pe({useScope:"global"}),y=ya(),p=A(""),a=A([{icon:da,endpoint:"https://deepsearch.jina.ai/v1/chat/completions",name:e("deepsearch.title"),description:e("rate_limit.deepsearch"),requestType:"POST",woAPIkey:"1 RPM",wAPIkey:"10 RPM",wPremium:"100 RPM",tokenCounting:e("rate_limit.total_token_counting"),latency:"56.7s",weight:(y.name==="deepsearch",99)},{icon:Me,endpoint:"https://r.jina.ai",name:e("reader.title"),description:e("rate_limit.rjinaai"),requestType:"GET/POST",woAPIkey:"20 RPM",wAPIkey:"200 RPM",wPremium:"2000 RPM",boostPossible:!0,tokenCounting:e("rate_limit.output_token_counting"),latency:"4.6s",weight:(y.name==="reader",100)},{icon:Me,endpoint:"https://s.jina.ai",name:e("reader.title"),description:e("rate_limit.sjinaai"),requestType:"GET/POST",woAPIkey:null,wAPIkey:"40 RPM",wPremium:"400 RPM",boostPossible:!0,tokenCounting:e("rate_limit.flat_rate_per_request",{_number:1e4}),latency:"5.7s",weight:y.name==="reader"?99:100},{icon:ca,endpoint:"https://api.jina.ai/v1/segment",name:e("tokenizer.title"),description:e("rate_limit.tokenizer"),requestType:"GET/POST",woAPIkey:"20 RPM",wAPIkey:"200 RPM",wPremium:"1,000 RPM",tokenCounting:e("rate_limit.no_token_counting"),latency:"0.3s",weight:y.name==="segmenter"?100:-1},{icon:ua,endpoint:"https://api.jina.ai/v1/embeddings",name:e("embedding.title"),description:e("rate_limit.embeddings"),requestType:"POST",woAPIkey:null,wAPIkey:"500 RPM & 1,000,000 TPM",wPremium:"2,000 RPM & 5,000,000 TPM",boostPossible:!0,tokenCounting:e("rate_limit.input_token_counting"),latency:null,latencyDepends:e("rate_limit.depends"),latencyExplain:e("rate_limit.batch_explain"),weight:y.name==="embeddings"?100:1},{icon:ma,endpoint:"https://api.jina.ai/v1/rerank",name:e("reranker.title"),description:e("rate_limit.reranker"),requestType:"POST",woAPIkey:null,wAPIkey:"500 RPM & 1,000,000 TPM",wPremium:"2,000 RPM & 5,000,000 TPM",boostPossible:!0,tokenCounting:e("rate_limit.input_token_counting"),latency:null,latencyDepends:e("rate_limit.depends"),latencyExplain:e("rate_limit.batch_explain"),weight:y.name==="reranker"?100:1},{icon:we,endpoint:"https://api.jina.ai/v1/classify",name:`${e("classifier.title")} (${e("classifier.compare_table.zero_shot")})`,description:e("rate_limit.classifier_zero_shot"),requestType:"POST",woAPIkey:null,wAPIkey:"200 RPM & 500,000 TPM",wPremium:"1,000 RPM & 3,000,000 TPM",tokenCounting:e("rate_limit.classifier_zero_shot_token_counting"),latency:null,latencyDepends:e("rate_limit.depends"),weight:y.name==="classifier"?100:0},{icon:we,endpoint:"https://api.jina.ai/v1/classify",name:`${e("classifier.title")} (${e("classifier.compare_table.few_shot")})`,description:e("rate_limit.classifier_few_shot"),requestType:"POST",woAPIkey:null,wAPIkey:"20 RPM & 200,000 TPM",wPremium:"60 RPM & 1,000,000 TPM",tokenCounting:e("rate_limit.classifier_few_shot_token_counting"),latency:null,latencyDepends:e("rate_limit.depends"),weight:y.name==="classifier"?98:0},{icon:we,endpoint:"https://api.jina.ai/v1/train",name:e("classifier.title"),description:e("rate_limit.classifier"),requestType:"POST",woAPIkey:null,wAPIkey:"20 RPM & 200,000 TPM",wPremium:"60 RPM & 1,000,000 TPM",tokenCounting:e("rate_limit.classifier_token_counting"),latency:null,latencyDepends:e("rate_limit.depends"),weight:y.name==="classifier"?99:0}]),d=A([{name:"icon",field:"icon",label:"",align:"left"},{name:"name",field:"name",label:e("rate_limit.product"),align:"left"},{name:"endpoint",field:"endpoint",label:e("rate_limit.endpoint"),align:"left"},{name:"description",field:"description",label:e("rate_limit.description"),align:"left",sortable:!0},{name:"woAPIkey",field:"woAPIkey",label:e("rate_limit.woAPIkey"),align:"right"},{name:"wAPIkey",field:"wAPIkey",label:e("rate_limit.wAPIkey"),align:"right"},{name:"wPremium",field:"wPremium",label:e("rate_limit.wPremium"),align:"right"},{name:"latency",field:"latency",label:e("rate_limit.latency"),align:"right"},{name:"tokenCounting",field:"tokenCounting",label:e("rate_limit.tokenCounting"),align:"left"},{name:"requestType",field:"requestType",label:e("rate_limit.requestType"),align:"left"}]),_=A(d.value.map(L=>L.name)),h=V(()=>a.value.sort((L,b)=>L.experimental&&!b.experimental?1:!L.experimental&&b.experimental?-1:L.weight===b.weight?L.name.localeCompare(b.name):b.weight-L.weight)),M=A({rowsPerPage:12}),E={props:s,t:e,route:y,filter:p,rows:a,columns:d,visibleColumns:_,sortedRows:h,initialPagination:M};return Object.defineProperty(E,"__isScriptSetup",{enumerable:!1,value:!0}),E}}),Va=["innerHTML"],za={class:"text-bold silver-foil"},Ha={class:"text-bold golden-foil"},Fa={class:"row q-pa-md justify-center full-width"},Ya={key:1},Za={class:"silver-foil text-bold"},Ja={class:"golden-foil text-bold"},Ga={key:1};function Wa(i,l,s,e,y,p){return m(),w(_e,{flat:"",class:"column no-wrap full-height"},{default:t(()=>[n(Ze,{class:"my-sticky-column-table",flat:"",square:"","title-class":"q-pa-md",title:e.t("rate_limit.title"),rows:e.sortedRows,columns:e.columns,"row-key":"endpoint",pagination:e.initialPagination,"hide-pagination":"",filter:e.filter,"visible-columns":e.visibleColumns},fa({top:t(a=>[n(le,{class:"full-width q-pa-lg"},{default:t(()=>[n(S,null,{default:t(()=>[n(B,{class:"text-weight-bold"},{default:t(()=>[v(u(e.t("rate_limit.title")),1)]),_:1}),n(B,{caption:"",lines:"3"},{default:t(()=>[q("span",{innerHTML:e.t("rate_limit.explain")},null,8,Va)]),_:1})]),_:1}),n(Ta),n(S,{side:""},{default:t(()=>[n(Ve,{modelValue:e.filter,"onUpdate:modelValue":l[0]||(l[0]=d=>e.filter=d),outlined:"",square:"",dense:"",placeholder:e.t("rate_limit.search")},null,8,["modelValue","placeholder"])]),_:1}),n(S,{side:""},{default:t(()=>[n(Ne,{modelValue:e.visibleColumns,"onUpdate:modelValue":l[1]||(l[1]=d=>e.visibleColumns=d),multiple:"",outlined:"",square:"",dense:"","options-dense":"","display-value":i.$q.lang.table.columns,"emit-value":"","map-options":"",options:e.columns.map(d=>d.name==="icon"?{...d,label:e.t("rate_limit.icon")}:d),"option-value":"name","options-cover":"",style:{"min-width":"150px"}},null,8,["modelValue","display-value","options"])]),_:1}),s.maximizedWindow?I("",!0):(m(),w(S,{key:0,side:""},{default:t(()=>[n(Z,{flat:"",square:"",icon:a.inFullscreen?"fullscreen_exit":"fullscreen",onClick:a.toggleFullscreen},null,8,["icon","onClick"])]),_:2},1024))]),_:2},1024)]),"header-cell-woAPIkey":t(a=>[n(Se,{props:a},{default:t(()=>[q("span",null,u(a.col.label),1),n(C,{name:"key_off",class:"cursor-pointer q-ml-sm"},{default:t(()=>[n(O,{"max-width":"300px"},{default:t(()=>[v(u(e.t("rate_limit.no_key_explain")),1)]),_:1})]),_:1})]),_:2},1032,["props"])]),"header-cell-wAPIkey":t(a=>[n(Se,{props:a},{default:t(()=>[q("span",za,u(a.col.label),1),n(C,{name:"o_key",class:"cursor-pointer silver-foil q-ml-sm"},{default:t(()=>[n(O,{"max-width":"300px"},{default:t(()=>[v(u(e.t("rate_limit.key_explain")),1)]),_:1})]),_:1})]),_:2},1032,["props"])]),"header-cell-wPremium":t(a=>[n(Se,{props:a},{default:t(()=>[q("span",Ha,u(a.col.label),1),n(C,{name:"o_key",class:"cursor-pointer golden-foil q-ml-sm"},{default:t(()=>[n(O,{"max-width":"300px"},{default:t(()=>[v(u(e.t("rate_limit.premium_key_explain")),1)]),_:1})]),_:1})]),_:2},1032,["props"])]),"body-cell-icon":t(a=>[n(ee,{props:a},{default:t(()=>[n(ka,{src:a.value,width:"36px",class:"relative-position"},{default:t(()=>[a.row.experimental?(m(),w(C,{key:0,name:"o_warning",color:"warning",class:"absolute-bottom-right"})):I("",!0)]),_:2},1032,["src"])]),_:2},1032,["props"])]),"body-cell-endpoint":t(a=>[n(ee,{props:a},{default:t(()=>[q("code",null,u(a.value),1)]),_:2},1032,["props"])]),"body-cell-woAPIkey":t(a=>[n(ee,{props:a},{default:t(()=>[a.value?(m(),D("span",Ya,u(a.value),1)):(m(),w(C,{key:0,name:"block",color:"negative"}))]),_:2},1032,["props"])]),"body-cell-wAPIkey":t(a=>[n(ee,{props:a},{default:t(()=>[q("span",Za,u(a.value),1),String(a.value).includes("X")?(m(),w(C,{key:0,name:"keyboard_double_arrow_up",color:"primary",class:"cursor-pointer"},{default:t(()=>[n(O,{"max-width":"300px"},{default:t(()=>[v(u(e.t("rate_limit.batch_explain")),1)]),_:1})]),_:1})):I("",!0)]),_:2},1032,["props"])]),"body-cell-wPremium":t(a=>[n(ee,{props:a},{default:t(()=>[a.row.boostPossible?(m(),w(C,{key:0,name:"trending_up",class:"golden-foil q-mr-xs"},{default:t(()=>[n(O,null,{default:t(()=>[v(u(e.t("rate_limit.further_boost")),1)]),_:1})]),_:1})):I("",!0),q("span",Ja,u(a.value),1)]),_:2},1032,["props"])]),"body-cell-latency":t(a=>[n(ee,{props:a},{default:t(()=>[a.value?(m(),D("span",Ga,u(a.value),1)):(m(),w(Ye,{key:0,icon:"ssid_chart",label:a.row.latencyDepends,size:"sm"},{default:t(()=>[v(u(a.value)+" ",1),a.row.latencyExplain?(m(),w(C,{key:0,name:"help",class:"cursor-pointer q-ml-sm"},{default:t(()=>[n(O,{"max-width":"300px"},{default:t(()=>[v(u(a.row.latencyExplain),1)]),_:2},1024)]),_:2},1024)):I("",!0)]),_:2},1032,["label"]))]),_:2},1032,["props"])]),_:2},[s.showActionButtons?{name:"bottom",fn:t(()=>[q("div",Fa,[n(Fe,{outline:"",square:""},{default:t(()=>[n(Z,{outline:"",label:e.t("get_new_key"),square:"",icon:"o_key",href:"/?sui=apikey",padding:"md",target:"_blank"},null,8,["label"]),n(Te),n(Z,{outline:"",label:e.t("header.contact_us"),square:"",icon:"handshake",to:"/contact-sales",padding:"md"},null,8,["label"])]),_:1})])]),key:"0"}:void 0]),1032,["title","rows","columns","pagination","filter","visible-columns"])]),_:1})}const Xa=he(Qa,[["render",Wa],["__file","RateLimitComponent.vue"]]),$a=ge({__name:"AutoRechargeItem",props:Re({apiKey:{},disable:{type:Boolean},isAutoCharge:{type:Boolean},isPaidKey:{type:Boolean},navigateToPurchase:{type:Boolean},mode:{}},{autoRecharge:{type:Boolean},autoRechargeModifiers:{},rechargeThreshold:{type:Number},rechargeThresholdModifiers:{}}),emits:Re(["update"],["update:autoRecharge","update:rechargeThreshold"]),setup(i,{expose:l,emit:s}){l();const e=i,y=s,p=De(i,"autoRecharge"),a=De(i,"rechargeThreshold"),{t:d}=pe({useScope:"global"}),_=ze(),h=He(),{user:M}=fe(h),E=$(),{products:L}=fe(E),b=xe(),{isBusyState:k}=fe(b),H=[{label:"10K",value:1e4},{label:"1M",value:1e6},{label:"1B",value:1e9}],N=A(!1),R=V(()=>L.value.filter(T=>T.price>0).map(T=>({label:`$${T.price} / `+d(`embedding.${T.product_name.replace(".","_")}`),value:T.price_id}))),z=V(()=>{var T;return e.mode==="dashboard"||e.mode==="home"&&!((T=M.value)!=null&&T.uid)||e.disable}),se={props:e,emit:y,autoRecharge:p,rechargeThreshold:a,t:d,$q:_,userStore:h,user:M,embeddingStore:E,products:L,apiKeyStore:b,isBusyState:k,rechargeThresholdOptions:H,hideSelected:N,productOptions:R,invokeApi:z,updateAutoRecharge:async T=>{var J;z.value&&(!e.isAutoCharge&&T?_.dialog({title:d("embedding.auto_recharge_enable_title"),message:d("embedding.auto_recharge_enable_message2"),options:{type:"radio",model:R.value[0].value,items:R.value},cancel:(J=e.navigateToPurchase)!=null?J:!1}).onOk(async U=>{var o,x,g,K;k.value.delete(e.apiKey);const j=new URL(window.location.href),te=Date.now().toString();j.searchParams.set("price_id",U),j.searchParams.set("session_id",te),j.searchParams.set("register_status","success"),j.searchParams.set("api_key",xa(e.apiKey));const r=j.toString();j.searchParams.set("register_status","cancel");const c=j.toString();if(a.value)try{k.value.add(e.apiKey);const Q={successUrl:r,cancelUrl:c,priceId:U,threshold:a.value,email:(x=(o=M.value)==null?void 0:o.email)!=null?x:void 0,currency:(g=navigator.language)!=null&&g.includes("zh")||(K=h.language)!=null&&K.includes("zh")?"eur":void 0},ne=await E.setAutoRecharge(e.apiKey,Q);ne&&(window.location.href=ne)}finally{k.value.delete(e.apiKey)}}).onCancel(()=>{p.value=!1}):e.isAutoCharge&&!T&&_.dialog({title:d("embedding.auto_recharge_confirm_title"),message:d("embedding.auto_recharge_confirm_message"),cancel:!0}).onOk(async()=>{k.value.add(e.apiKey);try{await E.cancelAutoRecharge(e.apiKey)||(p.value=!0)}finally{k.value.delete(e.apiKey)}y("update")}).onCancel(()=>{p.value=!0}))},updateThreshold:async T=>{if(!z.value)return;const J=a.value;p.value&&e.isAutoCharge&&(N.value=!0,_.dialog({title:d("key_manager.recharge_threshold_confirm_title"),message:d("key_manager.recharge_threshold_confirm_message",{_threshold:Ka(T)}),cancel:!0}).onOk(async()=>{k.value.add(e.apiKey),N.value=!1;try{await E.updateAutoRecharge(e.apiKey,T)}finally{k.value.delete(e.apiKey)}}).onCancel(()=>{N.value=!1,a.value=J}))}};return Object.defineProperty(se,"__isScriptSetup",{enumerable:!1,value:!0}),se}});function et(i,l,s,e,y,p){return m(),w(le,{tag:"label",disable:s.disable,onClick:l[3]||(l[3]=Ue(()=>{},["stop"]))},{default:t(()=>[e.$q.screen.gt.sm?(m(),w(S,{key:0,avatar:""},{default:t(()=>[n(C,{name:"currency_exchange"})]),_:1})):I("",!0),n(S,null,{default:t(()=>[n(B,{class:"text-bold"},{default:t(()=>[v(u(e.t("embedding.auto_recharge")),1)]),_:1}),n(B,{caption:"",lines:"2"},{default:t(()=>[v(u(s.isAutoCharge?e.t("embedding.auto_recharge_enable"):e.t("embedding.auto_recharge_description"))+" ",1),n(O,{"max-width":"40rem"},{default:t(()=>[v(u(s.isAutoCharge?e.t("embedding.auto_recharge_enable"):e.t("embedding.auto_recharge_description")),1)]),_:1})]),_:1})]),_:1}),n(S,{side:""},{default:t(()=>[n(je,{modelValue:e.autoRecharge,"onUpdate:modelValue":[l[0]||(l[0]=a=>e.autoRecharge=a),e.updateAutoRecharge],color:"primary",disable:s.disable||e.isBusyState.has(s.apiKey),"checked-icon":"check"},null,8,["modelValue","disable"])]),_:1}),n(S,{side:""},{default:t(()=>[n(Ne,{modelValue:e.rechargeThreshold,"onUpdate:modelValue":[l[1]||(l[1]=a=>e.rechargeThreshold=a),e.updateThreshold],options:e.rechargeThresholdOptions,"hide-selected":e.hideSelected,disable:s.disable||e.isBusyState.has(s.apiKey),label:e.t("embedding.recharge_threshold"),style:{"min-width":"160px"},"option-label":a=>`< ${a.label} ${e.t("embedding.tokens")}`,onClick:l[2]||(l[2]=Ue(()=>{},["prevent"])),"emit-value":"","map-options":""},null,8,["modelValue","hide-selected","disable","label","option-label"])]),_:1})]),_:1},8,["disable"])}const at=he($a,[["render",et],["__file","AutoRechargeItem.vue"]]),tt=ge({__name:"PurchaseComponent",props:{purchaseKey:{default:""},hideUsage:{type:Boolean,default:!1},hideKey:{type:Boolean,default:!1},hideStripeInfo:{type:Boolean,default:!1},hideFreePlan:{type:Boolean,default:!1},autoCharge:{type:Boolean},threshold:{},mode:{default:"home"}},setup(i,{expose:l}){l();const s=i,{t:e}=pe({useScope:"global"}),y=ze(),p=He(),a=xe(),d=$(),{apiKey:_,products:h,isApiKeyInfoLoading:M,isPremiumPaidUser:E,apiKeyInfo:L}=fe(d),b=A(s.purchaseKey||_.value),k=A(L==null?void 0:L.value),H=A(!1);_a(async()=>{H.value=!0;try{k.value=await d.getKeyInfo(b.value)}catch(f){console.log("Error getting key info",f)}R.value=s.autoCharge||!U.value||j.value,z.value=s.threshold||1e6,H.value=!1});const N=A(0),R=A(!0),z=A(1e6),ae=A(""),ce=A(!0),se={"1M tokens":["paywall.no_commercial"],"1B tokens":["paywall.standard_key","paywall.full_commercial","paywall.key_manager"],"11B tokens":["paywall.premium_key","paywall.full_commercial","paywall.premium_key_manager","paywall.priority_support"]},T=V(()=>h.value.map(f=>({...f,isActive:()=>ae.value===f.price_id,tag:()=>e(`embedding.${f.product_name}_targetUser`),title:()=>e(`embedding.${f.product_name.replace(".","_")}`),description:()=>e(`embedding.${f.product_name.replace(".","_")}_intuition1`),isFree:f.price===0,priceLabel:()=>f.price>0?`$${f.price}`:e("embedding.free"),priceDescription:()=>f.price>0?`${(f.price/f.token_quantity*1e6).toFixed(3)} ${e("embedding.per_m")}`:e("embedding.1M_free_description"),handler:()=>f.price>0?o(f.price_id):void 0}))),J=V(()=>{var f,F;return(F=(f=k.value)==null?void 0:f.wallet.total_balance)!=null?F:0}),U=V(()=>{var f;return!!((f=k.value)!=null&&f.email)}),j=V(()=>{var f;return U.value&&!!((f=k.value)!=null&&f.metadata.auto_recharge)}),te=V(()=>!!b.value&&(k==null?void 0:k.value)!==void 0),r=V(()=>!te.value||M.value),c=V(()=>{var f;return((f=k.value)==null?void 0:f.metadata.disable_self_purchase)||!1}),o=async f=>{var Ie,Ce,Le;if(r.value||ae.value)return;const F=h.value.find(ve=>ve.price_id===f),P=new URL(window.location.href),G=Date.now().toString();P.searchParams.set("price_id",f),P.searchParams.set("session_id",G),P.searchParams.set("purchase_status","cancel");const Je=P.toString();P.searchParams.set("purchase_status","success");const Ge=P.toString();ae.value=f;const re={price_id:f,success_url:Ge,cancel_url:Je};(Ie=p.user)!=null&&Ie.email&&(re.email=p.user.email);const Ke=localStorage.getItem(ga);Ke&&(re.metadata={sales_key:Ke}),R.value&&(re.metadata={...re.metadata,auto_recharge:!0,threshold:z.value});const be=navigator.language,We=(Ce=p.language)!=null?Ce:"";(be!=null&&be.includes("zh")||We.includes("zh"))&&(re.metadata={...re.metadata,currency:"eur"}),F&&gtag("event","begin_checkout",{currency:F.currency,value:F.price,items:[{id:F.product_id,name:F.product_name}]});const Ae=await d.checkoutWithStripe(b.value,re);if(ae.value="",!Ae)return;d.apiKey=b.value,((Le=a.keys)==null?void 0:Le.some(ve=>ve.key===b.value))||await a.addKey(b.value),await a.setPrimaryKey(d.apiKey),d.getCurrentKeyInfo(),window.location.href=Ae.url},x=async()=>{k.value=await d.getKeyInfo(b.value),R.value=!U.value||j.value,_.value===b.value&&d.setApiKeyInfo(k.value)},g=async()=>{te.value&&b.value!==_.value&&y.dialog({title:e("embedding.api_key_update_title"),message:e("embedding.api_key_update_message"),cancel:!0}).onOk(async()=>{_.value=b.value,x(),await a.addKey(b.value),a.setPrimaryKey(b.value)})},K=()=>{r.value||y.dialog({component:ja,componentProps:{apiKey:b.value}})};pa(async()=>{await d.getProducts(),setInterval(()=>{N.value=(N.value+1)%ha.length},3e3)});const Q=A(!1),ie={props:s,t:e,$q:y,userStore:p,apiKeyStore:a,embeddingStore:d,apiKey:_,products:h,isApiKeyInfoLoading:M,isPremiumPaidUser:E,apiKeyInfo:L,inputApiKey:b,inputApiKeyInfo:k,isBusy:H,currentIndex:N,autoRecharge:R,rechargeThreshold:z,currentPriceID:ae,isPwd:ce,tierFeatures:se,productCards:T,apiKeyTokens:J,isPaidUser:U,isAutoRecharge:j,isInputApiKeyValid:te,isInputApiKeyDisabled:r,isSelfPurchaseDisabled:c,checkoutProduct:o,getKeyInfo:x,updateApiKey:g,openUsageHistoryDialog:K,isApiKeyCopyDone:Q,copyApiKey:()=>{!_.value||Q.value||(Sa(_.value).then(()=>{y.notify({message:e("copy_to_clipboard_success"),icon:"done"}),Q.value=!0,gtag==null||gtag("event","embedding_copy_api_key",{location:document.location.href})}),setTimeout(()=>{Q.value=!1},1800))},get flatEnterprises(){return ba},get formatNumber(){return qe},RateLimitComponent:Xa,AutoRechargeItem:at};return Object.defineProperty(ie,"__isScriptSetup",{enumerable:!1,value:!0}),ie}}),nt=["innerHTML"],it=["innerHTML","data-text"],lt={class:"row justify-center text-caption text-dim q-pt-md q-pb-sm"},st={class:"row justify-center q-gutter-x-sm"};function rt(i,l,s,e,y,p){return m(),D(oe,null,[e.isBusy?(m(),w(Xe,{key:0,indeterminate:"",size:"1px"})):I("",!0),n(Be,{class:"q-pa-md q-gutter-y-sm"},{default:t(()=>[!s.hideUsage&&e.isInputApiKeyValid?(m(),w(le,{key:0},{default:t(()=>[e.$q.screen.gt.sm?(m(),w(S,{key:0,avatar:""},{default:t(()=>[n(C,{name:"data_usage"})]),_:1})):I("",!0),n(S,null,{default:t(()=>[n(B,{class:"text-bold"},{default:t(()=>[v(u(e.t("embedding.remaining")),1)]),_:1}),n(B,{class:W({"text-negative":e.apiKeyTokens<0})},{default:t(()=>[q("span",{innerHTML:e.t("embedding.remaining_left",{_leftTokens:e.formatNumber(e.apiKeyTokens)})},null,8,nt)]),_:1},8,["class"])]),_:1}),n(S,{side:""},{default:t(()=>[n(Fe,{square:"",outline:""},{default:t(()=>[n(Z,{outline:"",square:"",icon:"refresh",disable:e.isInputApiKeyDisabled,onClick:e.getKeyInfo,loading:e.isApiKeyInfoLoading},{default:t(()=>[n(O,null,{default:t(()=>[v(u(e.t("embedding.refresh_token_count1")),1)]),_:1})]),_:1},8,["disable","loading"]),n(Te),n(Z,{square:"",outline:"","no-caps":"",label:e.t("embedding.last_7_days"),disable:e.isInputApiKeyDisabled,onClick:e.openUsageHistoryDialog},null,8,["label","disable"])]),_:1})]),_:1})]),_:1})):I("",!0),s.hideKey?I("",!0):(m(),w(le,{key:1},{default:t(()=>[e.$q.screen.gt.sm?(m(),w(S,{key:0,avatar:""},{default:t(()=>[n(C,{name:"o_key",class:W({"golden-foil":e.isPremiumPaidUser,"silver-foil":!e.isPremiumPaidUser&&e.isPaidUser})},null,8,["class"])]),_:1})):I("",!0),n(S,null,{default:t(()=>[n(Ve,{"input-style":"font-family: monospace",modelValue:e.inputApiKey,"onUpdate:modelValue":l[1]||(l[1]=a=>e.inputApiKey=a),"hide-bottom-space":"",type:e.isPwd?"password":"text",hint:e.t("embedding.key_to_top_up"),filled:"",square:"",label:e.inputApiKey?`${e.t("embedding.key_warn_v2")}`:e.t("embedding.key_enter_placeholder_to_topup"),error:!e.isInputApiKeyValid,"error-message":e.inputApiKey?e.t("embedding.input_api_key_error1"):"","input-class":"ellipsis"},{append:t(()=>[n(C,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:l[0]||(l[0]=a=>e.isPwd=!e.isPwd)},null,8,["name"])]),prepend:t(()=>[n(Z,{flat:"",square:"",icon:e.isApiKeyCopyDone?"done":"content_copy",color:e.isApiKeyCopyDone?"primary":"",onClick:e.copyApiKey,stretch:""},{default:t(()=>[n(O,null,{default:t(()=>[v(u(e.t("copy")),1)]),_:1})]),_:1},8,["icon","color"])]),after:t(()=>[e.isInputApiKeyValid&&e.inputApiKey!==e.apiKey?(m(),w(Z,{key:0,icon:"save",onClick:e.updateApiKey,stretch:"",square:"",flat:""})):I("",!0)]),_:1},8,["modelValue","type","hint","label","error","error-message"])]),_:1})]),_:1})),e.isSelfPurchaseDisabled?I("",!0):(m(),D(oe,{key:2},[s.hideStripeInfo?I("",!0):(m(),w(le,{key:0},{default:t(()=>[e.$q.screen.gt.sm?(m(),w(S,{key:0,avatar:"",side:"",class:"relative-position"},{default:t(()=>[n(C,{name:"fab fa-stripe"}),n(C,{name:"o_verified_user",size:"xs",class:"absolute-bottom-right q-mr-sm q-mb-xs text-positive"})]),_:1})):I("",!0),n(S,null,{default:t(()=>[n(B,{class:"text-bold"},{default:t(()=>[v(u(e.t("embedding.buy_more_quota")),1)]),_:1}),n(B,{caption:"",lines:"2"},{default:t(()=>[v(u(e.t("embedding.tax_may_apply")),1)]),_:1})]),_:1}),e.isPaidUser?(m(),w(S,{key:1,side:"",class:"q-pa-none"},{default:t(()=>[n(Z,{outline:"","icon-right":"open_in_new",label:e.t("embedding.manage_billing"),stretch:"",href:"https://stripe.jina.ai",target:"_blank","no-caps":""},{default:t(()=>[n(O,null,{default:t(()=>[v(u(e.t("embedding.manage_billing_tip")),1)]),_:1})]),_:1},8,["label"])]),_:1})):I("",!0)]),_:1})),n(_e,{class:"row q-pa-md q-py-none bg-transparent",flat:""},{default:t(()=>[(m(!0),D(oe,null,ue(e.productCards.filter(a=>!s.hideFreePlan||!a.isFree),(a,d)=>(m(),D("div",{key:d,class:W(["col-12 col-sm-6 q-pa-sm cursor-pointer",{"col-lg-4":!s.hideFreePlan}])},[Qe((m(),w(_e,{bordered:"",flat:"",class:W(["full-width full-height column justify-between",!e.isInputApiKeyDisabled&&!e.currentPriceID&&!a.isFree?"q-hoverable bg-mixed-200":"cursor-not-allowed"]),square:"",style:va(a.isActive()?"cursor: wait !important;":""),onClick:a.handler},{default:t(()=>[l[5]||(l[5]=q("span",{class:"q-focus-helper"},null,-1)),n(ke,{class:"column items-center non-selectable text-h2 q-pt-xl"},{default:t(()=>[n(Ye,{label:a.tag(),outline:"",square:"",style:{"border-radius":"0"},size:"sm",class:W(["q-my-xl",{"silver-border":a.product_name==="1B tokens","gold-border":a.product_name==="11B tokens"}])},null,8,["label","class"]),q("span",{innerHTML:a.title(),"data-text":a.title(),class:W(["text-weight-bold",{"text-dim":a.product_name==="1M tokens","silver-foil":a.product_name==="1B tokens","golden-foil":a.product_name==="11B tokens"}])},null,10,it),q("div",lt,[v(u(e.t("embedding.includes"))+" ",1),n(O,{"max-width":"300px"},{default:t(()=>[v(u(a.description()),1)]),_:2},1024)]),q("div",st,[(m(!0),D(oe,null,ue(e.flatEnterprises,_=>(m(),w(C,{key:_.label,name:`img:${_.icon}`,size:"sm"},{default:t(()=>[n(O,null,{default:t(()=>[q("b",null,u(e.t(_.label)),1),l[4]||(l[4]=q("br",null,null,-1)),v(" "+u(e.t(_.caption)),1)]),_:2},1024)]),_:2},1032,["name"]))),128))])]),_:2},1024),n(ke,{class:"column items-center non-selectable"},{default:t(()=>[n(Be,{dense:""},{default:t(()=>[(m(!0),D(oe,null,ue(e.tierFeatures[a.product_name],(_,h)=>(m(),w(le,{key:_},{default:t(()=>[n(S,null,{default:t(()=>[n(B,{caption:""},{default:t(()=>[a.product_name!=="1M tokens"?(m(),w(C,{key:0,name:h===0?"key":"task_alt",class:W({"golden-foil":a.product_name==="11B tokens","silver-foil":a.product_name==="1B tokens"})},null,8,["name","class"])):I("",!0),v(" "+u(e.t(_)),1)]),_:2},1024),n(O,{"max-width":"300px"},{default:t(()=>[v(u(e.t(`${_}_description`)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),n(ke,{class:W({"bg-mixed-300":!a.isFree})},{default:t(()=>[n(le,null,{default:t(()=>[n(S,null,{default:t(()=>[n(B,{class:W({"text-bold":!a.isFree})},{default:t(()=>[v(u(a.priceLabel()),1)]),_:2},1032,["class"]),n(B,{caption:""},{default:t(()=>[v(u(a.priceDescription()),1)]),_:2},1024)]),_:2},1024),a.isFree?I("",!0):(m(),w(S,{key:0,side:""},{default:t(()=>[n(C,{name:"add_shopping_cart"})]),_:1}))]),_:2},1024)]),_:2},1032,["class"]),n(Oe,{showing:e.currentPriceID===a.price_id,label:e.t("embedding.wait_stripe"),"label-style":"font-size: 0.8em",size:"sm",class:"non-selectable lock-blur"},null,8,["showing","label"])]),_:2},1032,["class","style","onClick"])),[[wa,!a.isFree&&!e.isInputApiKeyDisabled&&!e.currentPriceID]])],2))),128)),n(Oe,{showing:!e.isInputApiKeyValid,class:"lock-small-blur",label:e.t("embedding.right_api_key_to_charge"),size:"0"},null,8,["showing","label"])]),_:1})],64)),n(Pa,{label:e.t("rate_limit.understanding"),icon:e.$q.screen.gt.sm?"speed":void 0,"header-class":"text-bold",caption:e.t("rate_limit.understanding_description")},{default:t(()=>[n(e.RateLimitComponent,{"show-action-buttons":!1})]),_:1},8,["label","icon","caption"]),e.isSelfPurchaseDisabled?I("",!0):(m(),w(e.AutoRechargeItem,{key:3,"api-key":e.inputApiKey,"api-key-info":e.inputApiKeyInfo,"is-paid-key":e.isPaidUser,"is-auto-charge":e.isAutoRecharge,"auto-recharge":e.autoRecharge,"onUpdate:autoRecharge":l[2]||(l[2]=a=>e.autoRecharge=a),"recharge-threshold":e.rechargeThreshold,"onUpdate:rechargeThreshold":l[3]||(l[3]=a=>e.rechargeThreshold=a),disable:e.isInputApiKeyDisabled,mode:s.mode,onUpdate:e.getKeyInfo},null,8,["api-key","api-key-info","is-paid-key","is-auto-charge","auto-recharge","recharge-threshold","disable","mode"]))]),_:1})],64)}const vt=he(tt,[["render",rt],["__scopeId","data-v-21086cce"],["__file","PurchaseComponent.vue"]]),wt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='320'%20zoomAndPan='magnify'%20viewBox='0%200%20240%20239.999995'%20height='320'%20preserveAspectRatio='xMidYMid%20meet'%20version='1.0'%3e%3cpath%20fill='%23ffffff'%20d='M%20164.820312%2048%20L%20195%2048%20L%20195%2078.179688%20L%20164.820312%2078.179688%20Z%20M%20164.820312%2085.726562%20L%20195%2085.726562%20L%20195%20115.90625%20L%20164.820312%20115.90625%20Z%20M%20195%20123.449219%20L%20164.820312%20123.449219%20L%20164.820312%20153.632812%20L%20195%20153.632812%20Z%20M%20164.820312%20161.175781%20L%20195%20161.175781%20L%20195%20191.359375%20L%20164.820312%20191.359375%20Z%20M%2076.792969%2053.28125%20L%2067.707031%2063.375%20L%2077.796875%2072.460938%20L%2086.886719%2062.367188%20Z%20M%2067.707031%20101.101562%20L%2076.792969%2091.007812%20L%2086.886719%20100.09375%20L%2077.796875%20110.1875%20Z%20M%2076.792969%20128.734375%20L%2067.707031%20138.824219%20L%2077.796875%20147.914062%20L%2086.886719%20137.820312%20Z%20M%2067.707031%20176.550781%20L%2076.792969%20166.460938%20L%2086.886719%20175.546875%20L%2077.796875%20185.640625%20Z%20M%2048.96875%2057.054688%20L%2045%2065.191406%20L%2053.136719%2069.160156%20L%2057.105469%2061.023438%20Z%20M%2045%20102.917969%20L%2048.96875%2094.78125%20L%2057.105469%2098.75%20L%2053.136719%20106.886719%20Z%20M%2048.96875%20132.507812%20L%2045%20140.644531%20L%2053.136719%20144.613281%20L%2057.105469%20136.476562%20Z%20M%2045%20178.371094%20L%2048.96875%20170.230469%20L%2057.105469%20174.199219%20L%2053.136719%20182.339844%20Z%20M%20113.113281%2050.261719%20L%2097.757812%2059.859375%20L%20107.355469%2075.214844%20L%20122.710938%2065.621094%20Z%20M%2097.757812%2097.585938%20L%20113.113281%2087.988281%20L%20122.710938%20103.347656%20L%20107.355469%20112.941406%20Z%20M%20113.113281%20125.714844%20L%2097.757812%20135.3125%20L%20107.355469%20150.667969%20L%20122.710938%20141.070312%20Z%20M%2097.757812%20173.035156%20L%20113.113281%20163.441406%20L%20122.710938%20178.796875%20L%20107.355469%20188.394531%20Z%20M%20152.050781%2048%20L%20128.839844%2054.65625%20L%20135.496094%2077.863281%20L%20158.703125%2071.210938%20Z%20M%20128.839844%2092.378906%20L%20152.050781%2085.726562%20L%20158.703125%20108.933594%20L%20135.496094%20115.589844%20Z%20M%20152.050781%20123.449219%20L%20128.839844%20130.105469%20L%20135.496094%20153.316406%20L%20158.703125%20146.660156%20Z%20M%20128.839844%20167.832031%20L%20152.050781%20161.175781%20L%20158.703125%20184.386719%20L%20135.496094%20191.042969%20Z%20M%20128.839844%20167.832031%20'%20fill-opacity='1'%20fill-rule='evenodd'/%3e%3c/svg%3e";export{at as A,vt as P,Oe as Q,Xa as R,ja as U,Ia as e,wt as t,xe as u};
