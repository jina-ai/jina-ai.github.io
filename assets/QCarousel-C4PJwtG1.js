import{bc as T,dt as V,s as F,m as c,p as i,K as W,aw as G,ax as H,w as B,W as J,F as K,aA as R,cq as U,q as _,a_ as X,J as Y}from"./index-DK55Z_Jx.js";import{j as Z}from"./orderBy-EEp98FjB.js";import{u as p,a as z,b as ee,c as ne}from"./use-panel-DsXeIyRb.js";import{u as te,c as ae,e as oe}from"./finetune-D8VRy5QP.js";var re=/\s/;function ie(e){for(var n=e.length;n--&&re.test(e.charAt(n)););return n}var le=/^\s+/;function ce(e){return e&&e.slice(0,ie(e)+1).replace(le,"")}var N=NaN,ue=/^[-+]0x[0-9a-f]+$/i,se=/^0b[01]+$/i,ve=/^0o[0-7]+$/i,fe=parseInt;function ge(e){if(typeof e=="number")return e;if(Z(e))return N;if(T(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=T(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=ce(e);var t=se.test(e);return t||ve.test(e)?fe(e.slice(2),t?2:8):ue.test(e)?N:+e}var A=1/0,me=17976931348623157e292;function de(e){if(!e)return e===0?e:0;if(e=ge(e),e===A||e===-A){var n=e<0?-1:1;return n*me}return e===e?e:0}function he(e){var n=de(e),t=n%1;return n===n?t?n-t:n:0}function _e(e,n,t){var l=-1,a=e.length;n<0&&(n=-n>a?0:a+n),t=t>a?a:t,t<0&&(t+=a),a=n>t?0:t-n>>>0,n>>>=0;for(var u=Array(a);++l<a;)u[l]=e[l+n];return u}var xe=Math.ceil,be=Math.max;function we(e,n,t){(t?V(e,n,t):n===void 0)?n=1:n=be(he(n),0);var l=e==null?0:e.length;if(!l||n<1)return[];for(var a=0,u=0,v=Array(xe(l/n));a<l;)v[u++]=_e(e,a,a+=n);return v}const ke=F({name:"QCarouselSlide",props:{...p,imgSrc:String},setup(e,{slots:n}){const t=c(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>i("div",{class:"q-carousel__slide",style:t.value},W(n.default))}}),qe=["top","right","bottom","left"],Ie=["regular","flat","outline","push","unelevated"],$e=F({name:"QCarousel",props:{...G,...z,...te,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>Ie.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>qe.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...ae,...ee],setup(e,{slots:n}){const{proxy:{$q:t}}=Y(),l=H(e,t);let a=null,u;const{updatePanelsList:v,getPanelContent:M,panelDirectives:E,goToPanel:x,previousPanel:b,nextPanel:q,getEnabledPanels:O,panelIndex:f}=ne(),{inFullscreen:I}=oe(),Q=c(()=>I.value!==!0&&e.height!==void 0?{height:e.height}:{}),g=c(()=>e.vertical===!0?"vertical":"horizontal"),C=c(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),D=c(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(I.value===!0?" fullscreen":"")+(l.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${g.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${C.value}`:"")),y=c(()=>{const o=[e.prevIcon||t.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||t.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&t.lang.rtl===!0?o.reverse():o}),S=c(()=>e.navigationIcon||t.iconSet.carousel.navigationIcon),j=c(()=>e.navigationActiveIcon||S.value),m=c(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));B(()=>e.modelValue,()=>{e.autoplay&&d()}),B(()=>e.autoplay,o=>{o?d():a!==null&&(clearTimeout(a),a=null)});function d(){const o=U(e.autoplay)===!0?Math.abs(e.autoplay):5e3;a!==null&&clearTimeout(a),a=setTimeout(()=>{a=null,o>=0?q():b()},o)}J(()=>{e.autoplay&&d()}),K(()=>{a!==null&&clearTimeout(a)});function P(o,s){return i("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${o} q-carousel__navigation--${C.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[i("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},O().map(s))])}function L(){const o=[];if(e.navigation===!0){const s=n["navigation-icon"]!==void 0?n["navigation-icon"]:r=>i(_,{key:"nav"+r.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${r.active===!0?"":"in"}active`,...r.btnProps,onClick:r.onClick}),h=u-1;o.push(P("buttons",(r,w)=>{const k=r.props.name,$=f.value===w;return s({index:w,maxIndex:h,name:k,active:$,btnProps:{icon:$===!0?j.value:S.value,size:"sm",...m.value},onClick:()=>{x(k)}})}))}else if(e.thumbnails===!0){const s=e.controlColor!==void 0?` text-${e.controlColor}`:"";o.push(P("thumbnails",h=>{const r=h.props;return i("img",{key:"tmb#"+r.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${r.name===e.modelValue?"":"in"}active`+s,src:r.imgSrc||r["img-src"],onClick:()=>{x(r.name)}})}))}return e.arrows===!0&&f.value>=0&&((e.infinite===!0||f.value>0)&&o.push(i("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${g.value} absolute flex flex-center`},[i(_,{icon:y.value[0],...m.value,onClick:b})])),(e.infinite===!0||f.value<u-1)&&o.push(i("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${g.value} absolute flex flex-center`},[i(_,{icon:y.value[1],...m.value,onClick:q})]))),X(n.control,o)}return()=>(u=v(n),i("div",{class:D.value,style:Q.value},[R("div",{class:"q-carousel__slides-container"},M(),"sl-cont",e.swipeable,()=>E.value)].concat(L())))}});export{$e as Q,ke as a,we as c};
