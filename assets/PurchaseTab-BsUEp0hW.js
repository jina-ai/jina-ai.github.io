import{b as ne}from"./QChip-C_W-CjK9.js";import{k as w,m as h,J as le,bn as ge,L as ie,Z as pe,p as k,s as he,cH as _e,c5 as ve,c2 as xe,c4 as be,c6 as ye,cI as Se,cq as Pe,c3 as Fe,c9 as Y,U as Ce,j as re,a0 as oe,cz as se,a$ as Ie,aG as ke,aF as ze,a2 as ue,a3 as _,a4 as P,a5 as d,aa as U,ah as $,ai as ee,ad as we,a6 as m,a7 as Oe,aj as te,ab as Q,a9 as ae,ao as N,af as q,ag as z,W as Ve,aO as Ae,ae as O,a8 as qe}from"./index-CZvfzvam.js";import{h as je}from"./QLinearProgress-CQoX3ZIG.js";import{Q as V}from"./QItemLabel-BYeBLtIp.js";import{Q as J}from"./QExpansionItem-B3RBhFO9.js";import{Q as de}from"./QList-rAlwSYOM.js";import{u as Be}from"./use-dialog-plugin-component-B8y_06E-.js";import{P as Ne}from"./finetune-hEGJ9l-j.js";function A(e,s,r,a){const o=[];return e.forEach(c=>{a(c)===!0?o.push(c):s.push({failedPropValidation:r,file:c})}),o}function R(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),ie(e)}const Qe={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Te=["rejected"];function De({editable:e,dnd:s,getFileInput:r,addFilesToQueue:a}){const{props:o,emit:c,proxy:l}=le(),b=w(null),y=h(()=>o.accept!==void 0?o.accept.split(",").map(t=>(t=t.trim(),t==="*"?"*/":(t.endsWith("/*")&&(t=t.slice(0,t.length-1)),t.toUpperCase()))):null),C=h(()=>parseInt(o.maxFiles,10)),I=h(()=>parseInt(o.maxTotalSize,10));function T(t){if(e.value)if(t!==Object(t)&&(t={target:null}),t.target!==null&&t.target.matches('input[type="file"]')===!0)t.clientX===0&&t.clientY===0&&ge(t);else{const x=r();x&&x!==t.target&&x.click(t)}}function D(t){e.value&&t&&a(null,t)}function M(t,x,j,B){let i=Array.from(x||t.target.files);const v=[],F=()=>{v.length!==0&&c("rejected",v)};if(o.accept!==void 0&&y.value.indexOf("*/")===-1&&(i=A(i,v,"accept",u=>y.value.some(g=>u.type.toUpperCase().startsWith(g)||u.name.toUpperCase().endsWith(g))),i.length===0))return F();if(o.maxFileSize!==void 0){const u=parseInt(o.maxFileSize,10);if(i=A(i,v,"max-file-size",g=>g.size<=u),i.length===0)return F()}if(o.multiple!==!0&&i.length!==0&&(i=[i[0]]),i.forEach(u=>{u.__key=u.webkitRelativePath+u.lastModified+u.name+u.size}),B===!0){const u=j.map(g=>g.__key);i=A(i,v,"duplicate",g=>u.includes(g.__key)===!1)}if(i.length===0)return F();if(o.maxTotalSize!==void 0){let u=B===!0?j.reduce((g,G)=>g+G.size,0):0;if(i=A(i,v,"max-total-size",g=>(u+=g.size,u<=I.value)),i.length===0)return F()}if(typeof o.filter=="function"){const u=o.filter(i);i=A(i,v,"filter",g=>u.includes(g))}if(o.maxFiles!==void 0){let u=B===!0?j.length:0;if(i=A(i,v,"max-files",()=>(u++,u<=C.value)),i.length===0)return F()}if(F(),i.length!==0)return i}function W(t){R(t),s.value!==!0&&(s.value=!0)}function f(t){ie(t),(t.relatedTarget!==null||pe.is.safari!==!0?t.relatedTarget!==b.value:document.elementsFromPoint(t.clientX,t.clientY).includes(b.value)===!1)===!0&&(s.value=!1)}function E(t){R(t);const x=t.dataTransfer.files;x.length!==0&&a(null,x),s.value=!1}function Z(t){if(s.value===!0)return k("div",{ref:b,class:`q-${t}__dnd absolute-full`,onDragenter:R,onDragover:R,onDragleave:f,onDrop:E})}return Object.assign(l,{pickFiles:T,addFiles:D}),{pickFiles:T,addFiles:D,onDragover:W,onDragleave:f,processFiles:M,getDndNode:Z,maxFilesNumber:C,maxTotalSizeNumber:I}}const at=he({name:"QFile",inheritAttrs:!1,props:{..._e,...ve,...Qe,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...xe,...Te],setup(e,{slots:s,emit:r,attrs:a}){const{proxy:o}=le(),c=be(),l=w(null),b=w(!1),y=ye(e),{pickFiles:C,onDragover:I,onDragleave:T,processFiles:D,getDndNode:M}=De({editable:c.editable,dnd:b,getFileInput:K,addFilesToQueue:X}),W=Se(e),f=h(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),E=h(()=>Y(f.value)),Z=h(()=>f.value.map(n=>n.name).join(", ")),t=h(()=>je(f.value.reduce((n,p)=>n+p.size,0))),x=h(()=>({totalSize:t.value,filesNumber:f.value.length,maxFiles:e.maxFiles})),j=h(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:y.value,...a,id:c.targetUid.value,disabled:c.editable.value!==!0})),B=h(()=>"q-file q-field--auto-height"+(b.value===!0?" q-file--dnd":"")),i=h(()=>e.multiple===!0&&e.append===!0);function v(n){const p=f.value.slice();p.splice(n,1),u(p)}function F(n){const p=f.value.indexOf(n);p!==-1&&v(p)}function u(n){r("update:modelValue",e.multiple===!0?n:n[0])}function g(n){n.keyCode===13&&Ce(n)}function G(n){(n.keyCode===13||n.keyCode===32)&&C(n)}function K(){return l.value}function X(n,p){const S=D(n,p,f.value,i.value),H=K();H!=null&&(H.value=""),S!==void 0&&((e.multiple===!0?e.modelValue&&S.every(me=>f.value.includes(me)):e.modelValue===S[0])||u(i.value===!0?f.value.concat(S):S))}function L(){return[k("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function ce(){if(s.file!==void 0)return f.value.length===0?L():f.value.map((p,S)=>s.file({index:S,file:p,ref:this}));if(s.selected!==void 0)return f.value.length===0?L():s.selected({files:f.value,ref:this});if(e.useChips===!0)return f.value.length===0?L():f.value.map((p,S)=>k(ne,{key:"file-"+S,removable:c.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{v(S)}},()=>k("span",{class:"ellipsis",textContent:p.name})));const n=e.displayValue!==void 0?e.displayValue:Z.value;return n.length!==0?[k("div",{class:e.inputClass,style:e.inputStyle,textContent:n})]:L()}function fe(){const n={ref:l,...j.value,...W.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:X};return e.multiple===!0&&(n.multiple=!0),k("input",n)}return Object.assign(c,{fieldClass:B,emitValue:u,hasValue:E,inputRef:l,innerValue:f,floatingLabel:h(()=>E.value===!0||Y(e.displayValue)),computedCounter:h(()=>{if(e.counterLabel!==void 0)return e.counterLabel(x.value);const n=e.maxFiles;return`${f.value.length}${n!==void 0?" / "+n:""} (${t.value})`}),getControlChild:()=>M("file"),getControl:()=>{const n={ref:c.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return c.editable.value===!0&&Object.assign(n,{onDragover:I,onDragleave:T,onKeydown:g,onKeyup:G}),k("div",n,[fe()].concat(ce()))}}),Object.assign(o,{removeAtIndex:v,removeFile:F,getNativeElement:()=>l.value}),Pe(o,"nativeEl",()=>l.value),Fe(c)}}),nt=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,lt=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,Ee=re({__name:"CSPButtons",props:{centered:{type:Boolean,default:!1},lighterBg:{type:Boolean,default:!1}},setup(e,{expose:s}){s();const{t:r}=oe({useScope:"global"}),a={t:r,get cloudPartners(){return se},get redirect(){return Ie},get rerankerIcon(){return ke},get embeddingIcon(){return ze}};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}),Le={key:0,class:"q-focus-helper"},Ue={key:0,class:"text-dim text-caption"};function Re(e,s,r,a,o,c){return _(),P(de,{class:te(["row q-pb-lg q-px-sm",{"justify-center":r.centered}])},{default:d(()=>[(_(!0),U($,null,ee(a.cloudPartners,(l,b)=>(_(),P(we,{key:b,class:"col-6 col-md-4 col-lg-3 col-xl-2 q-pa-sm q-py-md"},{default:d(()=>[m(Oe,{bordered:"",flat:"","v-ripple":!l.disabled,class:te(["full-width",{"q-hoverable cursor-pointer":!l.disabled,"bg-transparent":l.disabled,"bg-mixed-100":!l.disabled&&r.lighterBg,"bg-mixed-200":!l.disabled&&!r.lighterBg}]),square:"",onClick:y=>l.disabled?void 0:a.redirect(l.link)},{default:d(()=>[l.disabled?Q("",!0):(_(),U("span",Le)),m(ae,{class:"column items-center non-selectable q-py-xl"},{default:d(()=>[m(N,{name:l.icon,class:"q-py-lg",size:"xl"},null,8,["name"]),q(" "+z(l.label),1)]),_:2},1024),m(ae,{class:"text-center non-selectable q-pb-lg"},{default:d(()=>[(_(!0),U($,null,ee(l.products,(y,C)=>(_(),P(ne,{key:C,label:a.t(`integrations.${y}`),outline:"",size:"xs",square:"",style:{"border-radius":"0"},icon:y==="embedding"?`img:${a.embeddingIcon}`:`img:${a.rerankerIcon}`},null,8,["label","icon"]))),128)),l.disabled?(_(),U("span",Ue,z(a.t("landing_page.coming_soon")),1)):Q("",!0)]),_:2},1024)]),_:2},1032,["v-ripple","class","onClick"])]),_:2},1024))),128))]),_:1},8,["class"])}const Me=ue(Ee,[["render",Re],["__file","CSPButtons.vue"]]),We=re({__name:"PurchaseTab",props:{hideUsage:{type:Boolean,default:!1},defaultOpenedItem:{default:"api"},hideOthers:{type:Boolean,default:!1}},setup(e,{expose:s}){s();const{t:r}=oe({useScope:"global"}),a=Be(),o=e,c=w(0),l=w(o.defaultOpenedItem==="onprem"),b=w(o.defaultOpenedItem==="api"),y=w(o.defaultOpenedItem==="cloud");Ve(async()=>{await a.getProducts(),setInterval(()=>{c.value=(c.value+1)%Ae.length},3e3)});const I={t:r,embeddingStore:a,props:o,currentIndex:c,showOnPrem:l,showAPI:b,showCSP:y,licenseFeatures:["paywall.commercial_licence.feature_models","paywall.commercial_licence.feature_consulting"],get cloudPartners(){return se},PurchaseComponent:Ne,CSPButtons:Me};return Object.defineProperty(I,"__isScriptSetup",{enumerable:!1,value:!0}),I}}),Ze=["innerHTML"];function Ge(e,s,r,a,o,c){return _(),P(de,{separator:""},{default:d(()=>[!r.hideOthers||r.defaultOpenedItem==="onprem"?(_(),P(J,{key:0,group:"paywall","switch-toggle-side":"","hide-expand-icon":r.hideOthers,"expand-icon":"radio_button_unchecked","expanded-icon":"radio_button_checked",modelValue:a.showOnPrem,"onUpdate:modelValue":s[0]||(s[0]=l=>a.showOnPrem=l),"header-class":a.showOnPrem?"text-primary text-bold":void 0,to:"/api-dashboard/license-config?login=true"},{header:d(()=>[m(O,{avatar:""},{default:d(()=>[m(N,{name:"o_encrypted"})]),_:1}),m(O,null,{default:d(()=>[m(V,null,{default:d(()=>[q(z(a.t("paywall.on_prem")),1)]),_:1}),m(V,{caption:"",class:"text-dim"},{default:d(()=>[q(z(a.t("paywall.on_prem_explain")),1)]),_:1})]),_:1})]),_:1},8,["hide-expand-icon","modelValue","header-class"])):Q("",!0),!r.hideOthers||r.defaultOpenedItem==="cloud"?(_(),P(J,{key:1,group:"paywall",modelValue:a.showCSP,"onUpdate:modelValue":s[1]||(s[1]=l=>a.showCSP=l),"hide-expand-icon":r.hideOthers,"switch-toggle-side":"","expand-icon":"radio_button_unchecked","expanded-icon":"radio_button_checked","default-opened":r.defaultOpenedItem==="cloud","header-class":a.showCSP?"text-primary text-bold":void 0},{header:d(()=>[m(O,{avatar:""},{default:d(()=>[m(N,{name:"o_cloud"})]),_:1}),m(O,null,{default:d(()=>[m(V,null,{default:d(()=>[qe("span",{innerHTML:a.t("embedding.public_cloud_integration",{_numPartners:a.cloudPartners.length})},null,8,Ze)]),_:1}),m(V,{caption:"",class:"text-dim"},{default:d(()=>[q(z(a.t("embedding.public_cloud_integration_desc")),1)]),_:1})]),_:1})]),default:d(()=>[m(a.CSPButtons)]),_:1},8,["modelValue","hide-expand-icon","default-opened","header-class"])):Q("",!0),!r.hideOthers||r.defaultOpenedItem==="api"?(_(),P(J,{key:2,group:"paywall",modelValue:a.showAPI,"onUpdate:modelValue":s[2]||(s[2]=l=>a.showAPI=l),"switch-toggle-side":"","hide-expand-icon":r.hideOthers,"expand-icon":"radio_button_unchecked","expanded-icon":"radio_button_checked","default-opened":r.defaultOpenedItem==="api","header-class":a.showAPI?"text-primary text-bold":void 0},{header:d(()=>[m(O,{avatar:""},{default:d(()=>[a.showAPI?(_(),P(N,{key:0,name:"img:/J-active.svg"})):(_(),P(N,{key:1,name:"img:/J.svg"}))]),_:1}),m(O,null,{default:d(()=>[m(V,null,{default:d(()=>[q(z(a.t("paywall.via_api")),1)]),_:1}),m(V,{caption:"",class:"text-dim"},{default:d(()=>[q(z(a.t("paywall.via_api_explain")),1)]),_:1})]),_:1})]),default:d(()=>[m(a.PurchaseComponent,{"hide-usage":r.hideUsage},null,8,["hide-usage"])]),_:1},8,["modelValue","hide-expand-icon","default-opened","header-class"])):Q("",!0)]),_:1})}const it=ue(We,[["render",Ge],["__scopeId","data-v-e1b22076"],["__file","PurchaseTab.vue"]]);export{Me as C,it as P,at as Q,lt as R,nt as a};
