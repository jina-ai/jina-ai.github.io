import{s as Q,m as h,p as d,K as j,J as se,cw as pt,ao as je,as as Ve,au as Qe,x as xt,k as V,w as E,l as Ot,W as Yt,aT as kt,aS as Rt,F as $t,I as Ft,X as Le,b6 as Ht,cr as _e,cJ as oe,cD as Bt,V as ze,cK as Lt,ba as we,cq as I,q as te,an as Nt,cL as Ze,cM as At}from"./index-aGwOF4za.js";import{Q as Et}from"./QList-BaMl2pnO.js";import{u as It,c as jt,d as Ue,Q as Vt,a as Qt,p as q,e as zt}from"./QLinearProgress-BJUNWOsT.js";import{u as Zt,a as Ut,b as Xt}from"./use-fullscreen-ClQH-r-y.js";const Zn=Q({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:t}){const a=se(),n=h(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return d("td",{class:n.value},j(t.default));const r=a.vnode.key,o=(e.props.colsMap!==void 0?e.props.colsMap[r]:null)||e.props.col;if(o===void 0)return;const{row:c}=e.props;return d("td",{class:n.value+o.__tdClass(c),style:o.__tdStyle(c)},j(t.default))}}}),Wt=Q({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:t,emit:a}){const n=se(),{proxy:{$q:r}}=n,o=c=>{a("click",c)};return()=>{if(e.props===void 0)return d("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:o},j(t.default));let c,i;const u=n.vnode.key;if(u){if(c=e.props.colsMap[u],c===void 0)return}else c=e.props.col;if(c.sortable===!0){const s=c.align==="right"?"unshift":"push";i=pt(t.default,[]),i[s](d(je,{class:c.__iconClass,name:r.iconSet.table.arrowUp}))}else i=j(t.default);const b={class:c.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:c.headerStyle,onClick:s=>{c.sortable===!0&&e.props.sort(c),o(s)}};return d("th",b,i)}}}),Kt=["horizontal","vertical","cell","none"],Jt=Q({name:"QMarkupTable",props:{...Ve,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>Kt.includes(e)}},setup(e,{slots:t}){const a=se(),n=Qe(e,a.proxy.$q),r=h(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(n.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>d("div",{class:r.value},[d("table",{class:"q-table"},j(t.default))])}});function Xe(e,t){return d("div",e,[d("table",{class:"q-table"},t)])}const Gt={list:Et,table:Jt},en=["list","table","__qtable"],tn=Q({name:"QVirtualScroll",props:{...It,type:{type:String,default:"list",validator:e=>en.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:xt},setup(e,{slots:t,attrs:a}){let n;const r=V(null),o=h(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:c,localResetVirtualScroll:i,padVirtualScroll:u,onVirtualScrollEvt:b}=jt({virtualScrollLength:o,getVirtualScrollTarget:M,getVirtualScrollEl:S}),s=h(()=>{if(o.value===0)return[];const Y=(k,T)=>({index:c.value.from+T,item:k});return e.itemsFn===void 0?e.items.slice(c.value.from,c.value.to).map(Y):e.itemsFn(c.value.from,c.value.to-c.value.from).map(Y)}),v=h(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),D=h(()=>e.scrollTarget!==void 0?{}:{tabindex:0});E(o,()=>{i()}),E(()=>e.scrollTarget,()=>{w(),_()});function S(){return r.value.$el||r.value}function M(){return n}function _(){n=Ft(S(),e.scrollTarget),n.addEventListener("scroll",b,Le.passive)}function w(){n!==void 0&&(n.removeEventListener("scroll",b,Le.passive),n=void 0)}function O(){let Y=u(e.type==="list"?"div":"tbody",s.value.map(t.default));return t.before!==void 0&&(Y=t.before().concat(Y)),Ht(t.after,Y)}return Ot(()=>{i()}),Yt(()=>{_()}),kt(()=>{_()}),Rt(()=>{w()}),$t(()=>{w()}),()=>{if(t.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?Xe({ref:r,class:"q-table__middle "+v.value},O()):d(Gt[e.type],{...a,ref:r,class:[a.class,v.value],...D.value},O)}}});function nn(e,t){return new Date(e)-new Date(t)}const an={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function rn(e,t,a,n){const r=h(()=>{const{sortBy:i}=t.value;return i&&a.value.find(u=>u.name===i)||null}),o=h(()=>e.sortMethod!==void 0?e.sortMethod:(i,u,b)=>{const s=a.value.find(S=>S.name===u);if(s===void 0||s.field===void 0)return i;const v=b===!0?-1:1,D=typeof s.field=="function"?S=>s.field(S):S=>S[s.field];return i.sort((S,M)=>{let _=D(S),w=D(M);return s.rawSort!==void 0?s.rawSort(_,w,S,M)*v:_==null?-1*v:w==null?1*v:s.sort!==void 0?s.sort(_,w,S,M)*v:_e(_)===!0&&_e(w)===!0?(_-w)*v:oe(_)===!0&&oe(w)===!0?nn(_,w)*v:typeof _=="boolean"&&typeof w=="boolean"?(_-w)*v:([_,w]=[_,w].map(O=>(O+"").toLocaleString().toLowerCase()),_<w?-1*v:_===w?0:v)})});function c(i){let u=e.columnSortOrder;if(Bt(i)===!0)i.sortOrder&&(u=i.sortOrder),i=i.name;else{const v=a.value.find(D=>D.name===i);v!==void 0&&v.sortOrder&&(u=v.sortOrder)}let{sortBy:b,descending:s}=t.value;b!==i?(b=i,s=u==="da"):e.binaryStateSort===!0?s=!s:s===!0?u==="ad"?b=null:s=!1:u==="ad"?s=!0:b=null,n({sortBy:b,descending:s,page:1})}return{columnToSort:r,computedSortMethod:o,sort:c}}const ln={filter:[String,Object],filterMethod:Function};function on(e,t){const a=h(()=>e.filterMethod!==void 0?e.filterMethod:(n,r,o,c)=>{const i=r?r.toLowerCase():"";return n.filter(u=>o.some(b=>{const s=c(b,u)+"";return(s==="undefined"||s==="null"?"":s.toLowerCase()).indexOf(i)!==-1}))});return E(()=>e.filter,()=>{ze(()=>{t({page:1},!0)})},{deep:!0}),{computedFilterMethod:a}}function sn(e,t){for(const a in t)if(t[a]!==e[a])return!1;return!0}function Ne(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const un={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function cn(e,t){const{props:a,emit:n}=e,r=V(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:a.rowsPerPageOptions.length!==0?a.rowsPerPageOptions[0]:5},a.pagination)),o=h(()=>{const s=a["onUpdate:pagination"]!==void 0?{...r.value,...a.pagination}:r.value;return Ne(s)}),c=h(()=>o.value.rowsNumber!==void 0);function i(s){u({pagination:s,filter:a.filter})}function u(s={}){ze(()=>{n("request",{pagination:s.pagination||o.value,filter:s.filter||a.filter,getCellValue:t})})}function b(s,v){const D=Ne({...o.value,...s});if(sn(o.value,D)===!0){c.value===!0&&v===!0&&i(D);return}if(c.value===!0){i(D);return}a.pagination!==void 0&&a["onUpdate:pagination"]!==void 0?n("update:pagination",D):r.value=D}return{innerPagination:r,computedPagination:o,isServerSide:c,requestServerInteraction:u,setPagination:b}}function dn(e,t,a,n,r,o){const{props:c,emit:i,proxy:{$q:u}}=e,b=h(()=>n.value===!0?a.value.rowsNumber||0:o.value),s=h(()=>{const{page:T,rowsPerPage:p}=a.value;return(T-1)*p}),v=h(()=>{const{page:T,rowsPerPage:p}=a.value;return T*p}),D=h(()=>a.value.page===1),S=h(()=>a.value.rowsPerPage===0?1:Math.max(1,Math.ceil(b.value/a.value.rowsPerPage))),M=h(()=>v.value===0?!0:a.value.page>=S.value),_=h(()=>(c.rowsPerPageOptions.includes(t.value.rowsPerPage)?c.rowsPerPageOptions:[t.value.rowsPerPage].concat(c.rowsPerPageOptions)).map(p=>({label:p===0?u.lang.table.allRows:""+p,value:p})));E(S,(T,p)=>{if(T===p)return;const z=a.value.page;T&&!z?r({page:1}):T<z&&r({page:T})});function w(){r({page:1})}function O(){const{page:T}=a.value;T>1&&r({page:T-1})}function Y(){const{page:T,rowsPerPage:p}=a.value;v.value>0&&T*p<b.value&&r({page:T+1})}function k(){r({page:S.value})}return c["onUpdate:pagination"]!==void 0&&i("update:pagination",{...a.value}),{firstRowIndex:s,lastRowIndex:v,isFirstPage:D,isLastPage:M,pagesNumber:S,computedRowsPerPageOptions:_,computedRowsNumber:b,firstPage:w,prevPage:O,nextPage:Y,lastPage:k}}const fn={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},vn=["update:selected","selection"];function gn(e,t,a,n){const r=h(()=>{const M={};return e.selected.map(n.value).forEach(_=>{M[_]=!0}),M}),o=h(()=>e.selection!=="none"),c=h(()=>e.selection==="single"),i=h(()=>e.selection==="multiple"),u=h(()=>a.value.length!==0&&a.value.every(M=>r.value[n.value(M)]===!0)),b=h(()=>u.value!==!0&&a.value.some(M=>r.value[n.value(M)]===!0)),s=h(()=>e.selected.length);function v(M){return r.value[M]===!0}function D(){t("update:selected",[])}function S(M,_,w,O){t("selection",{rows:_,added:w,keys:M,evt:O});const Y=c.value===!0?w===!0?_:[]:w===!0?e.selected.concat(_):e.selected.filter(k=>M.includes(n.value(k))===!1);t("update:selected",Y)}return{hasSelectionMode:o,singleSelection:c,multipleSelection:i,allRowsSelected:u,someRowsSelected:b,rowsSelectedNumber:s,isRowSelected:v,clearSelection:D,updateSelection:S}}function Ae(e){return Array.isArray(e)?e.slice():[]}const hn={expanded:Array},mn=["update:expanded"];function bn(e,t){const a=V(Ae(e.expanded));E(()=>e.expanded,c=>{a.value=Ae(c)});function n(c){return a.value.includes(c)}function r(c){e.expanded!==void 0?t("update:expanded",c):a.value=c}function o(c,i){const u=a.value.slice(),b=u.indexOf(c);i===!0?b===-1&&(u.push(c),r(u)):b!==-1&&(u.splice(b,1),r(u))}return{isRowExpanded:n,setExpanded:r,updateExpanded:o}}const yn={visibleColumns:Array};function Sn(e,t,a){const n=h(()=>{if(e.columns!==void 0)return e.columns;const i=e.rows[0];return i!==void 0?Object.keys(i).map(u=>({name:u,label:u.toUpperCase(),field:u,align:_e(i[u])?"right":"left",sortable:!0})):[]}),r=h(()=>{const{sortBy:i,descending:u}=t.value;return(e.visibleColumns!==void 0?n.value.filter(s=>s.required===!0||e.visibleColumns.includes(s.name)===!0):n.value).map(s=>{const v=s.align||"right",D=`text-${v}`;return{...s,align:v,__iconClass:`q-table__sort-icon q-table__sort-icon--${v}`,__thClass:D+(s.headerClasses!==void 0?" "+s.headerClasses:"")+(s.sortable===!0?" sortable":"")+(s.name===i?` sorted ${u===!0?"sort-desc":""}`:""),__tdStyle:s.style!==void 0?typeof s.style!="function"?()=>s.style:s.style:()=>null,__tdClass:s.classes!==void 0?typeof s.classes!="function"?()=>D+" "+s.classes:S=>D+" "+s.classes(S):()=>D}})}),o=h(()=>{const i={};return r.value.forEach(u=>{i[u.name]=u}),i}),c=h(()=>e.tableColspan!==void 0?e.tableColspan:r.value.length+(a.value===!0?1:0));return{colList:n,computedCols:r,computedColsMap:o,computedColspan:c}}const ne="q-table__bottom row items-center",We={};Ue.forEach(e=>{We[e]={}});const Un=Q({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...We,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...Ve,...Zt,...yn,...ln,...un,...hn,...fn,...an},emits:["request","virtualScroll",...Ut,...mn,...vn],setup(e,{slots:t,emit:a}){const n=se(),{proxy:{$q:r}}=n,o=Qe(e,r),{inFullscreen:c,toggleFullscreen:i}=Xt(),u=h(()=>typeof e.rowKey=="function"?e.rowKey:l=>l[e.rowKey]),b=V(null),s=V(null),v=h(()=>e.grid!==!0&&e.virtualScroll===!0),D=h(()=>" q-table__card"+(o.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),S=h(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":D.value)+(o.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(c.value===!0?" fullscreen scroll":"")),M=h(()=>S.value+(e.loading===!0?" q-table--loading":""));E(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+S.value,()=>{v.value===!0&&s.value!==null&&s.value.reset()});const{innerPagination:_,computedPagination:w,isServerSide:O,requestServerInteraction:Y,setPagination:k}=cn(n,L),{computedFilterMethod:T}=on(e,k),{isRowExpanded:p,setExpanded:z,updateExpanded:at}=bn(e,a),ie=h(()=>{let l=e.rows;if(O.value===!0||l.length===0)return l;const{sortBy:f,descending:g}=w.value;return e.filter&&(l=T.value(l,e.filter,$.value,L)),it.value!==null&&(l=ut.value(e.rows===l?l.slice():l,f,g)),l}),Te=h(()=>ie.value.length),H=h(()=>{let l=ie.value;if(O.value===!0)return l;const{rowsPerPage:f}=w.value;return f!==0&&(U.value===0&&e.rows!==l?l.length>X.value&&(l=l.slice(0,X.value)):l=l.slice(U.value,X.value)),l}),{hasSelectionMode:B,singleSelection:rt,multipleSelection:pe,allRowsSelected:lt,someRowsSelected:xe,rowsSelectedNumber:ue,isRowSelected:ce,clearSelection:ot,updateSelection:Z}=gn(e,a,H,u),{colList:st,computedCols:$,computedColsMap:Oe,computedColspan:Ye}=Sn(e,w,B),{columnToSort:it,computedSortMethod:ut,sort:de}=rn(e,w,st,k),{firstRowIndex:U,lastRowIndex:X,isFirstPage:fe,isLastPage:ve,pagesNumber:W,computedRowsPerPageOptions:ct,computedRowsNumber:K,firstPage:ge,prevPage:he,nextPage:me,lastPage:be}=dn(n,_,w,O,k,Te),dt=h(()=>H.value.length===0),ft=h(()=>{const l={};return Ue.forEach(f=>{l[f]=e[f]}),l.virtualScrollItemSize===void 0&&(l.virtualScrollItemSize=e.dense===!0?28:48),l});function vt(){v.value===!0&&s.value.reset()}function gt(){if(e.grid===!0)return qt();const l=e.hideHeader!==!0?He:null;if(v.value===!0){const g=t["top-row"],m=t["bottom-row"],y={default:P=>Re(P.item,t.body,P.index)};if(g!==void 0){const P=d("tbody",g({cols:$.value}));y.before=l===null?()=>P:()=>[l()].concat(P)}else l!==null&&(y.before=l);return m!==void 0&&(y.after=()=>d("tbody",m({cols:$.value}))),d(tn,{ref:s,class:e.tableClass,style:e.tableStyle,...ft.value,scrollTarget:e.virtualScrollTarget,items:H.value,type:"__qtable",tableColspan:Ye.value,onVirtualScroll:mt},y)}const f=[bt()];return l!==null&&f.unshift(l()),Xe({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},f)}function ht(l,f){if(s.value!==null){s.value.scrollTo(l,f);return}l=parseInt(l,10);const g=b.value.querySelector(`tbody tr:nth-of-type(${l+1})`);if(g!==null){const m=b.value.querySelector(".q-table__middle.scroll"),y=g.offsetTop-e.virtualScrollStickySizeStart,P=y<m.scrollTop?"decrease":"increase";m.scrollTop=y,a("virtualScroll",{index:l,from:0,to:_.value.rowsPerPage-1,direction:P})}}function mt(l){a("virtualScroll",l)}function ke(){return[d(Qt,{class:"q-table__linear-progress",color:e.color,dark:o.value,indeterminate:!0,trackColor:"transparent"})]}function Re(l,f,g){const m=u.value(l),y=ce(m);if(f!==void 0)return f($e({key:m,row:l,pageIndex:g,__trClass:y?"selected":""}));const P=t["body-cell"],C=$.value.map(x=>{const G=t[`body-cell-${x.name}`],ee=G!==void 0?G:P;return ee!==void 0?ee(yt({key:m,row:l,pageIndex:g,col:x})):d("td",{class:x.__tdClass(l),style:x.__tdStyle(l)},L(x,l))});if(B.value===!0){const x=t["body-selection"],G=x!==void 0?x(St({key:m,row:l,pageIndex:g})):[d(we,{modelValue:y,color:e.color,dark:o.value,dense:e.dense,"onUpdate:modelValue":(ee,Tt)=>{Z([m],[l],ee,Tt)}})];C.unshift(d("td",{class:"q-table--col-auto-width"},G))}const F={key:m,class:{selected:y}};return e.onRowClick!==void 0&&(F.class["cursor-pointer"]=!0,F.onClick=x=>{a("rowClick",x,l,g)}),e.onRowDblclick!==void 0&&(F.class["cursor-pointer"]=!0,F.onDblclick=x=>{a("rowDblclick",x,l,g)}),e.onRowContextmenu!==void 0&&(F.class["cursor-pointer"]=!0,F.onContextmenu=x=>{a("rowContextmenu",x,l,g)}),d("tr",F,C)}function bt(){const l=t.body,f=t["top-row"],g=t["bottom-row"];let m=H.value.map((y,P)=>Re(y,l,P));return f!==void 0&&(m=f({cols:$.value}).concat(m)),g!==void 0&&(m=m.concat(g({cols:$.value}))),d("tbody",m)}function $e(l){return ye(l),l.cols=l.cols.map(f=>I({...f},"value",()=>L(f,l.row))),l}function yt(l){return ye(l),I(l,"value",()=>L(l.col,l.row)),l}function St(l){return ye(l),l}function ye(l){Object.assign(l,{cols:$.value,colsMap:Oe.value,sort:de,rowIndex:U.value+l.pageIndex,color:e.color,dark:o.value,dense:e.dense}),B.value===!0&&I(l,"selected",()=>ce(l.key),(f,g)=>{Z([l.key],[l.row],f,g)}),I(l,"expand",()=>p(l.key),f=>{at(l.key,f)})}function L(l,f){const g=typeof l.field=="function"?l.field(f):f[l.field];return l.format!==void 0?l.format(g,f):g}const N=h(()=>({pagination:w.value,pagesNumber:W.value,isFirstPage:fe.value,isLastPage:ve.value,firstPage:ge,prevPage:he,nextPage:me,lastPage:be,inFullscreen:c.value,toggleFullscreen:i}));function wt(){const l=t.top,f=t["top-left"],g=t["top-right"],m=t["top-selection"],y=B.value===!0&&m!==void 0&&ue.value>0,P="q-table__top relative-position row items-center";if(l!==void 0)return d("div",{class:P},[l(N.value)]);let C;if(y===!0?C=m(N.value).slice():(C=[],f!==void 0?C.push(d("div",{class:"q-table__control"},[f(N.value)])):e.title&&C.push(d("div",{class:"q-table__control"},[d("div",{class:["q-table__title",e.titleClass]},e.title)]))),g!==void 0&&(C.push(d("div",{class:"q-table__separator col"})),C.push(d("div",{class:"q-table__control"},[g(N.value)]))),C.length!==0)return d("div",{class:P},C)}const Fe=h(()=>xe.value===!0?null:lt.value);function He(){const l=Dt();return e.loading===!0&&t.loading===void 0&&l.push(d("tr",{class:"q-table__progress"},[d("th",{class:"relative-position",colspan:Ye.value},ke())])),d("thead",l)}function Dt(){const l=t.header,f=t["header-cell"];if(l!==void 0)return l(Se({header:!0})).slice();const g=$.value.map(m=>{const y=t[`header-cell-${m.name}`],P=y!==void 0?y:f,C=Se({col:m});return P!==void 0?P(C):d(Wt,{key:m.name,props:C},()=>m.label)});if(rt.value===!0&&e.grid!==!0)g.unshift(d("th",{class:"q-table--col-auto-width"}," "));else if(pe.value===!0){const m=t["header-selection"],y=m!==void 0?m(Se({})):[d(we,{color:e.color,modelValue:Fe.value,dark:o.value,dense:e.dense,"onUpdate:modelValue":Be})];g.unshift(d("th",{class:"q-table--col-auto-width"},y))}return[d("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},g)]}function Se(l){return Object.assign(l,{cols:$.value,sort:de,colsMap:Oe.value,color:e.color,dark:o.value,dense:e.dense}),pe.value===!0&&I(l,"selected",()=>Fe.value,Be),l}function Be(l){xe.value===!0&&(l=!1),Z(H.value.map(u.value),H.value,l)}const J=h(()=>{const l=[e.iconFirstPage||r.iconSet.table.firstPage,e.iconPrevPage||r.iconSet.table.prevPage,e.iconNextPage||r.iconSet.table.nextPage,e.iconLastPage||r.iconSet.table.lastPage];return r.lang.rtl===!0?l.reverse():l});function Mt(){if(e.hideBottom===!0)return;if(dt.value===!0){if(e.hideNoData===!0)return;const g=e.loading===!0?e.loadingLabel||r.lang.table.loading:e.filter?e.noResultsLabel||r.lang.table.noResults:e.noDataLabel||r.lang.table.noData,m=t["no-data"],y=m!==void 0?[m({message:g,icon:r.iconSet.table.warning,filter:e.filter})]:[d(je,{class:"q-table__bottom-nodata-icon",name:r.iconSet.table.warning}),g];return d("div",{class:ne+" q-table__bottom--nodata"},y)}const l=t.bottom;if(l!==void 0)return d("div",{class:ne},[l(N.value)]);const f=e.hideSelectedBanner!==!0&&B.value===!0&&ue.value>0?[d("div",{class:"q-table__control"},[d("div",[(e.selectedRowsLabel||r.lang.table.selectedRecords)(ue.value)])])]:[];if(e.hidePagination!==!0)return d("div",{class:ne+" justify-end"},Ct(f));if(f.length!==0)return d("div",{class:ne},f)}function _t(l){k({page:1,rowsPerPage:l.value})}function Ct(l){let f;const{rowsPerPage:g}=w.value,m=e.paginationLabel||r.lang.table.pagination,y=t.pagination,P=e.rowsPerPageOptions.length>1;if(l.push(d("div",{class:"q-table__separator col"})),P===!0&&l.push(d("div",{class:"q-table__control"},[d("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||r.lang.table.recordsPerPage]),d(Vt,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:g,options:ct.value,displayValue:g===0?r.lang.table.allRows:g,dark:o.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":_t})])),y!==void 0)f=y(N.value);else if(f=[d("span",g!==0?{class:"q-table__bottom-item"}:{},[g?m(U.value+1,Math.min(X.value,K.value),K.value):m(1,Te.value,K.value)])],g!==0&&W.value>1){const C={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(C.size="sm"),W.value>2&&f.push(d(te,{key:"pgFirst",...C,icon:J.value[0],disable:fe.value,onClick:ge})),f.push(d(te,{key:"pgPrev",...C,icon:J.value[1],disable:fe.value,onClick:he}),d(te,{key:"pgNext",...C,icon:J.value[2],disable:ve.value,onClick:me})),W.value>2&&f.push(d(te,{key:"pgLast",...C,icon:J.value[3],disable:ve.value,onClick:be}))}return l.push(d("div",{class:"q-table__control"},f)),l}function Pt(){const l=e.gridHeader===!0?[d("table",{class:"q-table"},[He()])]:e.loading===!0&&t.loading===void 0?ke():void 0;return d("div",{class:"q-table__middle"},l)}function qt(){const l=t.item!==void 0?t.item:f=>{const g=f.cols.map(y=>d("div",{class:"q-table__grid-item-row"},[d("div",{class:"q-table__grid-item-title"},[y.label]),d("div",{class:"q-table__grid-item-value"},[y.value])]));if(B.value===!0){const y=t["body-selection"],P=y!==void 0?y(f):[d(we,{modelValue:f.selected,color:e.color,dark:o.value,dense:e.dense,"onUpdate:modelValue":(C,F)=>{Z([f.key],[f.row],C,F)}})];g.unshift(d("div",{class:"q-table__grid-item-row"},P),d(Nt,{dark:o.value}))}const m={class:["q-table__grid-item-card"+D.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(m.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(m.onClick=y=>{a("RowClick",y,f.row,f.pageIndex)}),e.onRowDblclick!==void 0&&(m.onDblclick=y=>{a("RowDblclick",y,f.row,f.pageIndex)})),d("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(f.selected===!0?" q-table__grid-item--selected":"")},[d("div",m,g)])};return d("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},H.value.map((f,g)=>l($e({key:u.value(f),row:f,pageIndex:g}))))}return Object.assign(n.proxy,{requestServerInteraction:Y,setPagination:k,firstPage:ge,prevPage:he,nextPage:me,lastPage:be,isRowSelected:ce,clearSelection:ot,isRowExpanded:p,setExpanded:z,sort:de,resetVirtualScroll:vt,scrollTo:ht,getCellValue:L}),Lt(n.proxy,{filteredSortedRows:()=>ie.value,computedRows:()=>H.value,computedRowsNumber:()=>K.value}),()=>{const l=[wt()],f={ref:b,class:M.value};return e.grid===!0?l.push(Pt()):Object.assign(f,{class:[f.class,e.cardClass],style:e.cardStyle}),l.push(gt(),Mt()),e.loading===!0&&t.loading!==void 0&&l.push(t.loading()),d("div",f,l)}}}),Xn=e=>new Intl.NumberFormat("en").format(e),Wn=e=>new Intl.NumberFormat("en-GB",{notation:"compact",compactDisplay:"short"}).format(e),Kn=e=>e==="en"?"🇺🇸":e==="zh"?"🇨🇳":e==="de"?"🇩🇪":e==="es"?"🇪🇸":"🌍";function Jn(e,t=!1){return t?`\`\`\`json
{
${Object.entries(e).map(([n,r])=>{const o=JSON.stringify(r).replace(/\n/g,"\\n");return`  "${n}": ${o}`}).join(`,
`)}
}
\`\`\``:`\`\`\`json
${JSON.stringify(e,null,2).replaceAll('"..."',"...")}
\`\`\``}const Gn=(e,t)=>{const{maskChar:a="•",visibleChars:n=6,tailOnly:r=!1}=t!=null?t:{};if(!e)return"";if(typeof e!="string")throw new TypeError("Key must be a string");if(r)return e.length<=n?e:`${a}${a}${a}${e.slice(-n)}`;if(e.length<=n*2)return e;const o=e.slice(0,n),c=e.slice(-n),i=Math.min(n,e.length-n*2);return`${o}${a.repeat(i)}${c}`},Ke=864e5,wn=36e5,Ce=6e4,Je="YYYY-MM-DDTHH:mm:ss.SSSZ",Dn=/\[((?:[^\]\\]|\\]|\\)*)\]|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Mn=/(\[[^\]]*\])|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,De={};function _n(e,t){const a="("+t.days.join("|")+")",n=e+a;if(De[n]!==void 0)return De[n];const r="("+t.daysShort.join("|")+")",o="("+t.months.join("|")+")",c="("+t.monthsShort.join("|")+")",i={};let u=0;const b=e.replace(Mn,v=>{switch(u++,v){case"YY":return i.YY=u,"(-?\\d{1,2})";case"YYYY":return i.YYYY=u,"(-?\\d{1,4})";case"M":return i.M=u,"(\\d{1,2})";case"Mo":return i.M=u++,"(\\d{1,2}(st|nd|rd|th))";case"MM":return i.M=u,"(\\d{2})";case"MMM":return i.MMM=u,c;case"MMMM":return i.MMMM=u,o;case"D":return i.D=u,"(\\d{1,2})";case"Do":return i.D=u++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return i.D=u,"(\\d{2})";case"H":return i.H=u,"(\\d{1,2})";case"HH":return i.H=u,"(\\d{2})";case"h":return i.h=u,"(\\d{1,2})";case"hh":return i.h=u,"(\\d{2})";case"m":return i.m=u,"(\\d{1,2})";case"mm":return i.m=u,"(\\d{2})";case"s":return i.s=u,"(\\d{1,2})";case"ss":return i.s=u,"(\\d{2})";case"S":return i.S=u,"(\\d{1})";case"SS":return i.S=u,"(\\d{2})";case"SSS":return i.S=u,"(\\d{3})";case"A":return i.A=u,"(AM|PM)";case"a":return i.a=u,"(am|pm)";case"aa":return i.aa=u,"(a\\.m\\.|p\\.m\\.)";case"ddd":return r;case"dddd":return a;case"Q":case"d":case"E":return"(\\d{1})";case"do":return u++,"(\\d{1}(st|nd|rd|th))";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"DDDo":return u++,"(\\d{1,3}(st|nd|rd|th))";case"w":return"(\\d{1,2})";case"wo":return u++,"(\\d{1,2}(st|nd|rd|th))";case"ww":return"(\\d{2})";case"Z":return i.Z=u,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return i.ZZ=u,"(Z|[+-]\\d{2}\\d{2})";case"X":return i.X=u,"(-?\\d+)";case"x":return i.x=u,"(-?\\d{4,})";default:return u--,v[0]==="["&&(v=v.substring(1,v.length-1)),v.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),s={map:i,regex:new RegExp("^"+b)};return De[n]=s,s}function Ge(e,t){return e!==void 0?e:t!==void 0?t.date:At.date}function Ee(e,t=""){const a=e>0?"-":"+",n=Math.abs(e),r=Math.floor(n/60),o=n%60;return a+q(r)+t+q(o)}function Cn(e,t,a){let n=e.getFullYear(),r=e.getMonth();const o=e.getDate();return t.year!==void 0&&(n+=a*t.year,delete t.year),t.month!==void 0&&(r+=a*t.month,delete t.month),e.setDate(1),e.setMonth(2),e.setFullYear(n),e.setMonth(r),e.setDate(Math.min(o,qe(e))),t.date!==void 0&&(e.setDate(e.getDate()+a*t.date),delete t.date),e}function Pn(e,t,a){const n=t.year!==void 0?t.year:e[`get${a}FullYear`](),r=t.month!==void 0?t.month-1:e[`get${a}Month`](),o=new Date(n,r+1,0).getDate(),c=Math.min(o,t.date!==void 0?t.date:e[`get${a}Date`]());return e[`set${a}Date`](1),e[`set${a}Month`](2),e[`set${a}FullYear`](n),e[`set${a}Month`](r),e[`set${a}Date`](c),delete t.year,delete t.month,delete t.date,e}function Pe(e,t,a){const n=et(t),r=new Date(e),o=n.year!==void 0||n.month!==void 0||n.date!==void 0?Cn(r,n,a):r;for(const c in n){const i=zt(c);o[`set${i}`](o[`get${i}`]()+a*n[c])}return o}function et(e){const t={...e};return e.years!==void 0&&(t.year=e.years,delete t.years),e.months!==void 0&&(t.month=e.months,delete t.months),e.days!==void 0&&(t.date=e.days,delete t.days),e.day!==void 0&&(t.date=e.day,delete t.day),e.hour!==void 0&&(t.hours=e.hour,delete t.hour),e.minute!==void 0&&(t.minutes=e.minute,delete t.minute),e.second!==void 0&&(t.seconds=e.second,delete t.second),e.millisecond!==void 0&&(t.milliseconds=e.millisecond,delete t.millisecond),t}function tt(e,t,a){const n=et(t),r=a===!0?"UTC":"",o=new Date(e),c=n.year!==void 0||n.month!==void 0||n.date!==void 0?Pn(o,n,r):o;for(const i in n){const u=i.charAt(0).toUpperCase()+i.slice(1);c[`set${r}${u}`](n[i])}return c}function qn(e,t,a){const n=Tn(e,t,a),r=new Date(n.year,n.month===null?null:n.month-1,n.day===null?1:n.day,n.hour,n.minute,n.second,n.millisecond),o=r.getTimezoneOffset();return n.timezoneOffset===null||n.timezoneOffset===o?r:Pe(r,{minutes:n.timezoneOffset-o},1)}function Tn(e,t,a,n,r){const o={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(e==null||e===""||typeof e!="string")return o;t===void 0&&(t=Je);const c=Ge(a,Ze.props),i=c.months,u=c.monthsShort,{regex:b,map:s}=_n(t,c),v=e.match(b);if(v===null)return o;let D="";if(s.X!==void 0||s.x!==void 0){const S=parseInt(v[s.X!==void 0?s.X:s.x],10);if(isNaN(S)===!0||S<0)return o;const M=new Date(S*(s.X!==void 0?1e3:1));o.year=M.getFullYear(),o.month=M.getMonth()+1,o.day=M.getDate(),o.hour=M.getHours(),o.minute=M.getMinutes(),o.second=M.getSeconds(),o.millisecond=M.getMilliseconds()}else{if(s.YYYY!==void 0)o.year=parseInt(v[s.YYYY],10);else if(s.YY!==void 0){const S=parseInt(v[s.YY],10);o.year=S<0?S:2e3+S}if(s.M!==void 0){if(o.month=parseInt(v[s.M],10),o.month<1||o.month>12)return o}else s.MMM!==void 0?o.month=u.indexOf(v[s.MMM])+1:s.MMMM!==void 0&&(o.month=i.indexOf(v[s.MMMM])+1);if(s.D!==void 0){if(o.day=parseInt(v[s.D],10),o.year===null||o.month===null||o.day<1)return o;const S=new Date(o.year,o.month,0).getDate();if(o.day>S)return o}s.H!==void 0?o.hour=parseInt(v[s.H],10)%24:s.h!==void 0&&(o.hour=parseInt(v[s.h],10)%12,(s.A&&v[s.A]==="PM"||s.a&&v[s.a]==="pm"||s.aa&&v[s.aa]==="p.m.")&&(o.hour+=12),o.hour=o.hour%24),s.m!==void 0&&(o.minute=parseInt(v[s.m],10)%60),s.s!==void 0&&(o.second=parseInt(v[s.s],10)%60),s.S!==void 0&&(o.millisecond=parseInt(v[s.S],10)*10**(3-v[s.S].length)),(s.Z!==void 0||s.ZZ!==void 0)&&(D=s.Z!==void 0?v[s.Z].replace(":",""):v[s.ZZ],o.timezoneOffset=(D[0]==="+"?-1:1)*(60*D.slice(1,3)+1*D.slice(3,5)))}return o.dateHash=q(o.year,6)+"/"+q(o.month)+"/"+q(o.day),o.timeHash=q(o.hour)+":"+q(o.minute)+":"+q(o.second)+D,o}function pn(e){return typeof e=="number"?!0:isNaN(Date.parse(e))===!1}function xn(e,t){return tt(new Date,e,t)}function On(e){const t=new Date(e).getDay();return t===0?7:t}function re(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const a=new Date(t.getFullYear(),0,4);a.setDate(a.getDate()-(a.getDay()+6)%7+3);const n=t.getTimezoneOffset()-a.getTimezoneOffset();t.setHours(t.getHours()-n);const r=(t-a)/(Ke*7);return 1+Math.floor(r)}function Yn(e){return e.getFullYear()*1e4+e.getMonth()*100+e.getDate()}function Me(e,t){const a=new Date(e);return t===!0?Yn(a):a.getTime()}function kn(e,t,a,n={}){const r=Me(t,n.onlyDate),o=Me(a,n.onlyDate),c=Me(e,n.onlyDate);return(c>r||n.inclusiveFrom===!0&&c===r)&&(c<o||n.inclusiveTo===!0&&c===o)}function Rn(e,t){return Pe(e,t,1)}function $n(e,t){return Pe(e,t,-1)}function R(e,t,a){const n=new Date(e),r=`set${a===!0?"UTC":""}`;switch(t){case"year":case"years":n[`${r}Month`](0);case"month":case"months":n[`${r}Date`](1);case"day":case"days":case"date":n[`${r}Hours`](0);case"hour":case"hours":n[`${r}Minutes`](0);case"minute":case"minutes":n[`${r}Seconds`](0);case"second":case"seconds":n[`${r}Milliseconds`](0)}return n}function Fn(e,t,a){const n=new Date(e),r=`set${a===!0?"UTC":""}`;switch(t){case"year":case"years":n[`${r}Month`](11);case"month":case"months":n[`${r}Date`](qe(n));case"day":case"days":case"date":n[`${r}Hours`](23);case"hour":case"hours":n[`${r}Minutes`](59);case"minute":case"minutes":n[`${r}Seconds`](59);case"second":case"seconds":n[`${r}Milliseconds`](999)}return n}function Hn(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(a=>{t=Math.max(t,new Date(a))}),t}function Bn(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(a=>{t=Math.min(t,new Date(a))}),t}function ae(e,t,a){return(e.getTime()-e.getTimezoneOffset()*Ce-(t.getTime()-t.getTimezoneOffset()*Ce))/a}function nt(e,t,a="days"){const n=new Date(e),r=new Date(t);switch(a){case"years":case"year":return n.getFullYear()-r.getFullYear();case"months":case"month":return(n.getFullYear()-r.getFullYear())*12+n.getMonth()-r.getMonth();case"days":case"day":case"date":return ae(R(n,"day"),R(r,"day"),Ke);case"hours":case"hour":return ae(R(n,"hour"),R(r,"hour"),wn);case"minutes":case"minute":return ae(R(n,"minute"),R(r,"minute"),Ce);case"seconds":case"second":return ae(R(n,"second"),R(r,"second"),1e3)}}function le(e){return nt(e,R(e,"year"),"days")+1}function Ln(e){return oe(e)===!0?"date":typeof e=="number"?"number":"string"}function Nn(e,t,a){const n=new Date(e);if(t){const r=new Date(t);if(n<r)return r}if(a){const r=new Date(a);if(n>r)return r}return n}function An(e,t,a){const n=new Date(e),r=new Date(t);if(a===void 0)return n.getTime()===r.getTime();switch(a){case"second":case"seconds":if(n.getSeconds()!==r.getSeconds())return!1;case"minute":case"minutes":if(n.getMinutes()!==r.getMinutes())return!1;case"hour":case"hours":if(n.getHours()!==r.getHours())return!1;case"day":case"days":case"date":if(n.getDate()!==r.getDate())return!1;case"month":case"months":if(n.getMonth()!==r.getMonth())return!1;case"year":case"years":if(n.getFullYear()!==r.getFullYear())return!1;break;default:throw new Error(`date isSameDate unknown unit ${a}`)}return!0}function qe(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function A(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const Ie={YY(e,t,a){const n=this.YYYY(e,t,a)%100;return n>=0?q(n):"-"+q(Math.abs(n))},YYYY(e,t,a){return a!=null?a:e.getFullYear()},M(e){return e.getMonth()+1},Mo(e){return A(e.getMonth()+1)},MM(e){return q(e.getMonth()+1)},MMM(e,t){return t.monthsShort[e.getMonth()]},MMMM(e,t){return t.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return A(this.Q(e))},D(e){return e.getDate()},Do(e){return A(e.getDate())},DD(e){return q(e.getDate())},DDD(e){return le(e)},DDDo(e){return A(le(e))},DDDD(e){return q(le(e),3)},d(e){return e.getDay()},do(e){return A(e.getDay())},dd(e,t){return t.days[e.getDay()].slice(0,2)},ddd(e,t){return t.daysShort[e.getDay()]},dddd(e,t){return t.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return re(e)},wo(e){return A(re(e))},ww(e){return q(re(e))},H(e){return e.getHours()},HH(e){return q(e.getHours())},h(e){const t=e.getHours();return t===0?12:t>12?t%12:t},hh(e){return q(this.h(e))},m(e){return e.getMinutes()},mm(e){return q(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return q(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return q(Math.floor(e.getMilliseconds()/10))},SSS(e){return q(e.getMilliseconds(),3)},A(e){return e.getHours()<12?"AM":"PM"},a(e){return e.getHours()<12?"am":"pm"},aa(e){return e.getHours()<12?"a.m.":"p.m."},Z(e,t,a,n){const r=n==null?e.getTimezoneOffset():n;return Ee(r,":")},ZZ(e,t,a,n){const r=n==null?e.getTimezoneOffset():n;return Ee(r)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function En(e,t,a,n,r){if(e!==0&&!e||e===1/0||e===-1/0)return;const o=new Date(e);if(isNaN(o))return;t===void 0&&(t=Je);const c=Ge(a,Ze.props);return t.replace(Dn,(i,u)=>i in Ie?Ie[i](o,c,n,r):u===void 0?i:u.split("\\]").join("]"))}function In(e){return oe(e)===!0?new Date(e.getTime()):e}const ea={isValid:pn,extractDate:qn,buildDate:xn,getDayOfWeek:On,getWeekOfYear:re,isBetweenDates:kn,addToDate:Rn,subtractFromDate:$n,adjustDate:tt,startOfDate:R,endOfDate:Fn,getMaxDate:Hn,getMinDate:Bn,getDateDiff:nt,getDayOfYear:le,inferDateFormat:Ln,getDateBetween:Nn,isSameDate:An,daysInMonth:qe,formatDate:En,clone:In};export{Un as Q,Zn as a,Wt as b,Gn as c,ea as d,Wn as e,Xn as f,Jn as g,Jt as h,Kn as l};
