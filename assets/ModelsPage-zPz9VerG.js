import{bN as Bc,bP as C0,ct as I0,s as A0,bo as N0,bp as z0,p as rn,k as Pe,W as ht,h as P0,i as lr,dp as Ad,w as en,j as ln,dq as hn,m as Me,be as Nd,a3 as ie,aa as Re,cD as mi,dr as ze,aj as bt,J as Tr,r as O0,ds as R0,b1 as qi,a6 as ae,a5 as ne,dt as Ys,bn as D0,du as B0,V as Hn,b4 as Wi,l as zd,dv as Pd,a8 as $e,ag as Te,ab as Ye,ah as wn,ai as ot,ac as at,F as Od,dw as L0,a4 as Oe,dx as Rd,dy as Mo,dz as Qe,dA as Di,bf as Dd,dB as H0,dC as q0,cF as F0,af as Ze,cx as G0,ak as pr,u as Bd,a0 as Xs,n as js,aY as Ld,aP as zo,aQ as Po,aN as Oo,a2 as Ks,q as fr,ao as pn,a$ as Hd,aL as As,ad as Zt,ae as zn,ay as qd,cy as $0,cB as W0,cC as U0,bb as Fd,aX as Lc,am as V0,al as Y0,bh as X0,bi as j0,bj as K0,bq as Z0,an as J0,a7 as Hc,a9 as yo}from"./index-CyviIHDB.js";import{a as fi,c as jn}from"./QItemLabel-Dm0Ql-AI.js";import{Q as Gd}from"./QList-Dz_8EeY2.js";import{Q as Q0}from"./QBtnDropdown-CnhO3E3p.js";import{f as eb,t as nb,o as tb,Q as ib}from"./QBanner-DZfT0-yr.js";import{Q as En}from"./QTooltip-B1Yk-l39.js";import{Q as rb}from"./QPage-Bzc80vs9.js";import{d as ob,l as ab,e as sb}from"./date-BHk7NmK7.js";import{b as lb,Q as ub}from"./QLinearProgress-XuP-Xa9p.js";import{u as cb}from"./embedding-C-emHuqy.js";import{u as db}from"./search-BmJcc9Tm.js";import{H as fb}from"./H2TitleBlock-WIqQmEQP.js";import{R as hb}from"./ResearchersComponent-DEshZM2v.js";import{N as gb}from"./NewsFilterComponent-CC69Yaoa.js";import{u as mb}from"./blogs-CcQ2MVqQ.js";import"./QMenu-Dx83CQAn.js";import"./position-engine-DWtHRfM7.js";import"./isSymbol-BtT50hoA.js";import"./NewsVerticalCard-D9d3idG9.js";import"./SXTooltip-CH6MbWRB.js";function pb(n,i,r,o){if(!Bc(n))return n;i=eb(i,n);for(var s=-1,u=i.length,l=u-1,d=n;d!=null&&++s<u;){var f=nb(i[s]),m=r;if(f==="__proto__"||f==="constructor"||f==="prototype")return n;if(s!=l){var p=d[f];m=void 0,m===void 0&&(m=Bc(p)?p:C0(i[s+1])?[]:{})}I0(d,f,m),d=d[f]}return n}function vb(n,i,r){return n==null?n:pb(n,i,r)}const yb='<circle cx="15" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="60" cy="15" r="9" fill-opacity=".3"><animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from=".5" to=".5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle>',_b=A0({name:"QSpinnerDots",props:N0,setup(n){const{cSize:i,classes:r}=z0(n);return()=>rn("svg",{class:r.value,fill:"currentColor",width:i.value,height:i.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",innerHTML:yb})}}),bb=`---
model_name: "jina-clip-v1"
model_version: "v1"
model_type: "multimodal"
organization: "Jina AI"
license: "Apache-2.0"
parameter_size: "223M"
language:
  - en
token_length: 8192
image_size: 224x224
output_dimension: 768
release_date: "2024-06-05"
device: "cuda"
api_link: "/?sui&model=jina-clip-v1"
aws: "https://aws.amazon.com/marketplace/pp/prodview-clip-v1"
release_blog: "/news/jina-clip-v1-a-truly-multimodal-embeddings-model-for-text-and-image"
arxiv: "https://arxiv.org/abs/2405.20204"
deprecated_by:
  - jina-clip-v2
related_models:
  - jina-clip-v2
  - jina-embeddings-v3
  - jina-colbert-v2
availability:
  - api
  - huggingface
  - aws
  - azure
tags:
  - multimodal-embedding
  - image-text-alignment
  - english-only
  - zero-shot-classification
  - cross-modal-search
  - long-text-support
  - unified-embeddings
  - text-to-text
  - text-to-image
  - visual-semantic
endpoints:
  - embedding
  - train
  - classify
---

## Overview

Jina CLIP v1 revolutionizes multimodal AI by being the first model to excel equally in both text-to-text and text-to-image retrieval tasks. Unlike traditional CLIP models that struggle with text-only scenarios, this model achieves state-of-the-art performance across all retrieval combinations while maintaining a remarkably compact 223M parameter size. The model addresses a critical industry challenge by eliminating the need for separate models for text and image processing, reducing system complexity and computational overhead. For teams building search systems, recommendation engines, or content analysis tools, Jina CLIP v1 offers a single, efficient solution that handles both text and visual content with exceptional accuracy.

## Methods

The model's architecture represents a significant innovation in multimodal AI design, combining an adapted Jina BERT v2 text encoder with the cutting-edge EVA-02 image encoder from the Beijing Academy for Artificial Intelligence. The text encoder supports sequences up to 12,288 tokens - over 100 times longer than the original CLIP's 77-token limit - while the image encoder efficiently processes 16 patch tokens. The training process follows a novel three-step approach: first, aligning image-caption pairs while maintaining text understanding through interleaved text-pair training; second, incorporating AI-generated longer text descriptions of images; and finally, using hard negative text triplets to enhance semantic distinction capabilities. This unique training methodology enables the model to maintain high performance across both short captions and detailed textual descriptions while preserving strong visual understanding.

## Performance

Jina CLIP v1 demonstrates remarkable improvements over OpenAI's original CLIP across all benchmarks. In text-only retrieval, it achieves a 165% performance increase with a score of 0.429 compared to CLIP's 0.162. For image-related tasks, it shows consistent improvements: 2% better in text-to-image retrieval (0.899), 6% in image-to-text retrieval (0.803), and 12% in image-to-image retrieval (0.916). The model particularly shines in zero-shot visual classification tasks, successfully categorizing images without prior training on specific domains. When evaluated on standard benchmarks like MTEB for text retrieval, CIFAR-100 for image tasks, and Flickr8k/30k and MSCOCO Captions for cross-modal performance, it consistently outperforms specialized single-modality models while maintaining competitive performance in cross-modal tasks.

## Guidance

To effectively deploy Jina CLIP v1, teams should consider both its capabilities and resource requirements. The model processes images in 224x224 pixel tiles, with each tile consuming 1,000 tokens of processing capacity. For optimal performance, implement efficient image preprocessing to match these dimensions. While the model excels at both short and long text processing, it currently only supports English language input. Teams should carefully consider token usage: text requires approximately 1.1 tokens per word, while images are processed in tiles (e.g., a 750x500 pixel image requires 12 tiles, consuming 12,000 tokens). The model is available through both the Jina Embeddings API and as an open-source release on Hugging Face under the Apache 2.0 license, offering flexibility in deployment options. For production environments, consider using the AWS Marketplace or Azure deployment options, which provide optimized infrastructure setups.
`,wb=`---
model_name: "jina-clip-v2"
model_version: "v2"
model_type: "multimodal"
organization: "Jina AI"
license: "CC-BY-NC-4.0"
language:
  - multilingual
token_length: 8192
image_size: 512x512
output_dimension: 1024
release_date: "2024-11-05"
device: "cuda"
api_link: "/?sui&model=jina-clip-v2"
aws: "arn:aws:sagemaker:us-east-1:253352124568:model-package/jina-clip-v2"
arxiv: "https://arxiv.org/abs/2412.08802"
release_blog: "/news/jina-clip-v2-multilingual-multimodal-embeddings-for-text-and-images/"
related_models:
  - jina-clip-v1
parameter_size: "865M"
tags:
  - multimodal-embedding
  - image-text-alignment
  - multilingual
  - large-context
  - instruction-tuned
  - masked-region-learning
  - production
  - cross-lingual-retrieval
  - zero-shot-classification
  - modality-gap-aware
endpoints:
  - embedding
  - train
  - classify
features:
  - instruction_enabled: true
  - mrl_enabled: true
availability:
  - api
  - license
  - huggingface
  - aws
  - azure
  - gcp
---

## Overview

Jina CLIP v2 revolutionizes multimodal AI by bridging the gap between visual and textual understanding across 89 languages. This model solves critical challenges in global e-commerce, content management, and cross-cultural communication by enabling accurate image-text matching regardless of language barriers. For businesses expanding internationally or managing multilingual content, it eliminates the need for separate models per language or complex translation pipelines. The model particularly shines in scenarios requiring precise visual search across language boundaries, such as global marketplace product discovery or multilingual digital asset management.

## Methods

At its core, Jina CLIP v2 employs a sophisticated dual-encoder architecture that combines a Jina XLM-RoBERTa text encoder (561M parameters) with an EVA02-L14 vision encoder (304M parameters). The text encoder processes content in 89 languages with a massive context window of 696,320 tokens, while the vision encoder handles high-resolution images up to 512x512 pixels. The model introduces innovative Matryoshka representation learning, which enables dynamic embedding dimension adjustment from 1024 down to 64 dimensions while preserving performance. This architecture processes both text and images through their respective encoders, projecting them into a shared semantic space where similar concepts align regardless of their original modality or language.

## Performance

The model achieves state-of-the-art performance with 98.0% accuracy on Flickr30k image-to-text retrieval tasks, surpassing both its predecessor and NLLB-CLIP-SigLIP. In multilingual scenarios, it demonstrates up to 4% improvement over NLLB-CLIP-SigLIP in cross-lingual image retrieval tasks, despite having fewer parameters than its largest competitor. The model maintains strong performance even when embeddings are compressed - reducing dimensions by 75% still preserves over 99% of performance across text, image, and cross-modal tasks. On the comprehensive Multilingual MTEB benchmarks, it achieves 69.86% on retrieval and 67.77% on semantic similarity tasks, performing competitively with specialized text embedding models.

## Guidance

For optimal deployment, users should consider several key factors. The model requires CUDA-capable hardware for efficient processing, with memory requirements scaling based on batch size and image resolution. To optimize API costs and performance, resize images to 512x512 pixels before processing - larger images are automatically tiled, increasing token usage and processing time. The model excels at matching images with descriptive text across languages but may struggle with abstract concepts or highly specialized domain-specific content. It's particularly effective for e-commerce product search, content recommendation systems, and visual search applications, but may not be suitable for tasks requiring fine-grained visual detail analysis or highly specialized domain expertise. When using the Matryoshka representation feature, consider the trade-off between dimension reduction and performance - while 64-dimension embeddings maintain strong performance, critical applications may benefit from higher dimensions.
`,xb=`---
model_name: "jina-colbert-v1-en"
model_version: "v1"
model_type: "late-interaction"
organization: "Jina AI"
license: "Apache-2.0"
parameter_size: "137M"
language:
  - en
token_length: 8192
output_dimension: 128
release_date: "2024-02-17"
device: "cuda"
api_link: "/?sui&model=jina-colbert-v1-en"
release_blog: "/news/what-is-colbert-and-late-interaction-and-why-they-matter-in-search/"
deprecated_by:
  - jina-colbert-v2
tags:
  - english-only
  - late-interaction
  - token-level-matching
  - retrieval
  - reranking
  - multi-vector
endpoints:
  - rank
  - multi-embeddings
  - late-interaction
  - multi-vector
availability:
  - api
  - huggingface
  - aws
  - azure
---

## Overview

Jina-ColBERT-v1-en revolutionizes text search by solving a critical challenge in information retrieval: achieving high accuracy without sacrificing computational efficiency. Unlike traditional models that compress entire documents into single vectors, this model maintains precise token-level understanding while requiring only 137M parameters. For teams building search applications, recommendation systems, or content discovery platforms, Jina-ColBERT-v1-en eliminates the traditional trade-off between search quality and system performance. The model particularly shines in scenarios where nuanced text understanding is crucial, such as technical documentation search, academic paper retrieval, or any application where capturing subtle semantic relationships can make the difference between finding the right information and missing critical content.

## Methods

The model employs an innovative late interaction architecture that fundamentally changes how document retrieval works. Instead of comparing entire documents at once, it processes queries and documents independently until the final matching stage, using an adapted version of the ColBERT approach. The architecture combines two key components: a document encoder that processes text up to 8,192 tokens (over 16 times longer than standard transformers) and a query encoder that creates precise token-level representations. Each token in both query and document gets its own 128-dimensional embedding vector, preserving fine-grained semantic information that would be lost in single-vector models. The late interaction mechanism then enables efficient token-by-token matching between queries and documents, using max-pooling and summation operations to compute final relevance scores without requiring expensive all-to-all comparisons.

## Performance

Jina-ColBERT-v1-en demonstrates remarkable improvements over baseline models across various benchmarks. On the BEIR dataset collection, it achieves superior performance in multiple categories: 49.4% on Arguana (vs. 46.5% for ColBERTv2), 79.5% on FEVER (vs. 78.8%), and 75.0% on TREC-COVID (vs. 72.6%). Most impressively, it shows a dramatic improvement on the LoCo benchmark for long-context understanding, scoring 83.7% compared to ColBERTv2's 74.3%. The model particularly excels in scenarios requiring detailed semantic understanding, outperforming traditional embedding models while maintaining computational efficiency through its innovative late interaction approach. These improvements are achieved while keeping the model's parameter count at a modest 137M, making it both powerful and practical for production deployments.

## Guidance

To effectively deploy Jina-ColBERT-v1-en, teams should consider several practical aspects. The model requires a CUDA-capable GPU for optimal performance, though CPU inference is possible for development. For document processing, the 8,192 token limit translates to approximately 6,000 words, making it suitable for most document types including academic papers, technical documentation, and long-form content. Teams should implement efficient document preprocessing to handle token limits and consider batch processing for large-scale indexing. While the model excels at English language content, it's not designed for multilingual applications or cross-language retrieval. For production deployments, implement proper document chunking strategies and consider using vector similarity indexes (like FAISS) for efficient retrieval. The model is particularly effective when integrated into RAG pipelines using frameworks like RAGatouille, which simplifies the implementation of complex retrieval patterns.
`,kb=`---
model_name: "jina-colbert-v2"
model_version: "v2"
model_type: "colbert"
organization: "Jina AI"
license: "CC-BY-NC-4.0"
parameter_size: "560M"
language:
  - multilingual
token_length: 8192
output_dimension: 128
release_date: "2024-08-31"
device: "cuda"
huggingface: "https://huggingface.co/jinaai/jina-colbert-v2"
aws: "https://aws.amazon.com/marketplace/seller-profile/vendor/jinaai"
api_link: "/?sui&model=jina-colbert-v2"
arxiv: "https://arxiv.org/abs/2408.16672"
release_blog: "/news/jina-colbert-v2-multilingual-late-interaction-retriever-for-embedding-and-reranking"
related_models:
  - jina-colbert-v1-en
tags:
  - multilingual
  - late-interaction
  - long-context
  - high-performance
  - production-ready
  - retriever
  - token-level
  - 89-languages
  - cross-lingual
  - matryoshka
  - storage-efficient
endpoints:
  - rank
  - multi-embeddings
  - late-interaction
  - multi-vector
  - matryoshka-embeddings
supported_languages: 89
availability:
  - api
  - license
  - huggingface
  - aws
  - azure
  - gcp
---

## Overview

Jina-ColBERT-v2 is a groundbreaking multilingual information retrieval model that solves the critical challenge of efficient, high-quality search across multiple languages. As the first multilingual ColBERT-like model to generate compact embeddings, it addresses the growing need for scalable, cost-effective multilingual search solutions in global applications. Organizations dealing with multilingual content, from e-commerce platforms to content management systems, can leverage this model to provide accurate search results across 89 languages while significantly reducing storage and computational costs through its innovative dimension reduction capabilities.

## Methods

The model builds upon the ColBERT architecture, introducing a sophisticated late interaction mechanism that fundamentally changes how queries and documents are matched. At its core, it uses a modified XLM-RoBERTa backbone with 560M parameters, enhanced by rotary position embeddings and optimized with flash attention. The training process involves two key stages: initial pretraining with diverse weakly-supervised data from various languages, followed by fine-tuning with labeled triplet data and supervised distillation. What makes this approach unique is the implementation of Matryoshka representation learning, which enables the model to produce embeddings in multiple dimensions (128, 96, or 64) from a single training process, allowing for dynamic storage optimization without retraining.

## Performance


In real-world testing, Jina-ColBERT-v2 demonstrates exceptional capabilities across multiple benchmarks. It achieves a 6.5% improvement over the original ColBERT-v2 on English tasks, with an average score of 0.521 across 14 BEIR benchmarks. More impressively, it outperforms traditional BM25-based retrieval methods across all tested languages on MIRACL benchmarks, showing particular strength in cross-lingual scenarios. The model maintains this high performance even when using reduced embedding dimensions - dropping from 128 to 64 dimensions results in only a 1.5% performance decrease while halving storage requirements. This translates to significant cost savings in production: for example, storing 100 million documents with 64-dimension vectors costs $659.62 per month on AWS, compared to $1,319.24 for 128 dimensions.

## Guidance

To effectively deploy Jina-ColBERT-v2, teams should consider several practical aspects. The model requires CUDA-capable hardware for optimal performance and supports document lengths up to 8,192 tokens (extendable to 12,288) while limiting queries to 32 tokens. For production deployment, the model is available through the Jina Search Foundation API, AWS marketplace, and Azure, with a non-commercial version accessible via Hugging Face. When implementing, teams should specify whether they're embedding queries or documents, as the model uses asymmetric encoding. The model isn't designed for real-time processing of extremely large document collections without proper indexing, and while it excels at multilingual retrieval, it may show slightly lower performance on specialized domain-specific tasks compared to models fine-tuned for those specific domains.
`,Eb=`---
model_name: "jina-embedding-b-en-v1"
model_version: "v1"
model_type: "text-embeddings"
organization: "Jina AI"
license: "Apache-2.0"
parameter_size: "110M"
language:
  - en
token_length: 512
output_dimension: 768
release_date: "2023-06-17"
device: "cuda"
api_link: "/?sui&model=jina-embedding-b-en-v1"
huggingface: "https://huggingface.co/jinaai/jina-embedding-b-en-v1"
aws: "https://aws.amazon.com/marketplace/seller-profile/vendor/jinaai"
deprecated_by:
  - jina-embeddings-v3
related_models:
  - jina-embeddings-v2-base-en
  - jina-embeddings-v3
tags:
  - text-embedding
  - english
  - base-model
  - legacy
  - bert-based
  - production
availability:
  - huggingface
---

## Overview
Jina Embedding B v1 is a specialized text embedding model designed to transform English text into high-dimensional numerical representations while maintaining semantic meaning. The model addresses the critical need for efficient and accurate text embeddings in production environments, particularly valuable for organizations requiring a balance between computational efficiency and embedding quality. With its 110M parameters generating 768-dimensional embeddings, it serves as a practical solution for teams implementing semantic search, document clustering, or content recommendation systems without requiring extensive computational resources.

## Methods
The model employs a T5 encoder-based architecture enhanced with mean pooling to generate fixed-length representations. Trained on the carefully curated Linnaeus-Clean dataset, which contains 385 million high-quality sentence pairs filtered down from an initial 1.6 billion pairs, the model underwent a two-phase training process. The first phase utilized contrastive learning with InfoNCE loss on text pairs, while the second phase incorporated triplet training to refine the model's ability to distinguish between similar and dissimilar content. This innovative training approach, combined with rigorous data filtering including language detection and consistency checking, enables the model to capture nuanced semantic relationships effectively.

## Performance
In real-world evaluations, Jina Embedding B v1 demonstrates impressive capabilities, particularly in semantic textual similarity tasks. The model achieves state-of-the-art performance on STS12 with a score of 0.751, surpassing established models like all-mpnet-base-v2 and all-minilm-l6-v2. It shows strong performance across various benchmarks while maintaining efficient inference times. However, users should note that the model is specifically optimized for English language content and may not perform optimally on multilingual or code-specific tasks. The model has since been superseded by jina-embeddings-v2-base-en and jina-embeddings-v3, which offer enhanced performance across a broader range of use cases.

## Guidance
For optimal deployment, the model requires a CUDA-capable GPU, though its moderate size allows for efficient inference on standard hardware. The model accepts input sequences up to 512 tokens in length and is particularly well-suited for production environments where consistent, reliable embedding generation is crucial. It performs best on English language content and is ideal for applications like semantic search, document similarity comparison, and content recommendation systems. Teams should consider using the newer v2 or v3 versions for new projects, as they offer improved performance and broader language support. The model is not recommended for tasks requiring multilingual understanding or specialized domain knowledge outside of general English text.
`,Sb=`---
model_name: "jina-embeddings-v2-base-code"
model_version: "v2"
model_type: "text-embeddings"
organization: "Jina AI"
license: "Apache-2.0"
parameter_size: "137M"
language:
    - en
token_length: 8192
output_dimension: 768
release_date: "2024-02-05"
device: "cuda"
api_link: "/?sui&model=jina-embeddings-v2-base-code"
aws: "arn:aws:sagemaker:us-east-1:253352124568:model-package/jina-embeddings-v2-base-code"
release_blog: "/news/elevate-your-code-search-with-new-jina-code-embeddings"
related_models:
  - jina-embeddings-v2-base-en
tags:
  - code-embeddings
  - programming-languages
  - semantic-code-search
  - code-similarity
  - long-context
  - text-embeddings
  - multilingual-code
  - docstring-search
endpoints:
  - embedding
  - fine-tuning
availability:
  - api
  - huggingface
  - aws
  - azure
---

## Overview

Jina Embeddings v2 Base Code tackles a critical challenge in modern software development: efficiently navigating and understanding large codebases. For development teams struggling with code discovery and documentation, this model transforms how developers interact with code by enabling natural language search across 30 programming languages. Unlike traditional code search tools that rely on exact pattern matching, this model understands the semantic meaning behind code, allowing developers to find relevant code snippets using plain English descriptions. This capability is particularly valuable for teams maintaining large legacy codebases, developers onboarding to new projects, or organizations looking to improve code reuse and documentation practices.

## Methods

The model achieves its impressive performance through a specialized architecture designed specifically for code understanding. At its core, it uses a transformer-based neural network with 161 million parameters, trained on diverse programming language datasets with emphasis on six major languages: Python, JavaScript, Java, PHP, Go, and Ruby. What makes this architecture unique is its extended context window of 8,192 tokens, allowing it to process entire functions or multiple files at once while maintaining semantic understanding. The model generates dense 768-dimensional embeddings that capture both the syntactic structure and semantic meaning of code, enabling it to understand relationships between different code segments even when they use different programming patterns or syntax to achieve the same goal.

## Performance

In real-world testing, Jina Embeddings v2 Base Code demonstrates exceptional capabilities, leading the field in nine out of fifteen crucial CodeNetSearch benchmarks. When compared to models from industry giants like Microsoft and Salesforce, it achieves superior performance while maintaining a more efficient footprint. The model particularly excels in cross-language code understanding, successfully matching functionally equivalent code snippets across different programming languages. Its 8,192 token context window proves particularly valuable for large functions and complex code files, significantly outperforming traditional models that typically handle only a few hundred tokens. The model's efficiency is evident in its compact size of 307MB (unquantized), enabling fast inference while maintaining high accuracy in code similarity and search tasks.

## Guidance

To effectively deploy Jina Embeddings v2 Base Code, teams should consider several practical aspects. The model integrates seamlessly with popular vector databases like MongoDB, Qdrant, and Weaviate, making it easy to build scalable code search systems. For optimal performance, implement proper code preprocessing to handle the 8,192 token limit, which typically accommodates most function and class definitions. While the model supports 30 programming languages, it shows strongest performance in the six core languages: Python, JavaScript, Java, PHP, Go, and Ruby. Teams should consider using batch processing for large-scale code indexing to optimize performance. The model's RAG compatibility makes it particularly effective for automated documentation generation and code understanding tasks, though teams should implement appropriate chunking strategies for very large codebases. For production deployments, consider using the AWS SageMaker endpoint for managed inference, and implement appropriate caching strategies to optimize query performance.
`,Tb=`---
model_name: "jina-embeddings-v2-base-de"
model_version: "v2"
model_type: "text-embeddings"
organization: "Jina AI"
license: "Apache-2.0"
parameter_size: "161M"
language:
  - en
  - de
token_length: 8192
output_dimension: 768
release_date: "2024-01-15"
device: "cuda"
api_link: "/?sui&model=jina-embeddings-v2-base-de"
aws: "https://aws.amazon.com/marketplace/seller-profile/vendor/jinaai"
huggingface: "https://huggingface.co/jinaai/jina-embeddings-v2-base-de"
arxiv: "https://arxiv.org/abs/2310.19923"
release_blog: "/news/ich-bin-ein-berliner-german-english-bilingual-embeddings-with-8k-token-length"
related_models:
  - jina-embeddings-v2-base-en
deprecated_by:
  - jina-embeddings-v3
tags:
  - german-language
  - text-embedding
  - monolingual
  - large-context
  - production
  - semantic-search
  - document-retrieval
  - fine-tunable
endpoints:
  - embedding
  - fine-tuning
availability:
  - api
  - huggingface
  - aws
  - azure
---

## Overview

Jina Embeddings v2 Base German addresses a critical challenge in international business: bridging the language gap between German and English markets. For German companies expanding into English-speaking territories, where a third of businesses generate over 20% of their global sales, accurate bilingual understanding is essential. This model transforms how organizations handle cross-language content by enabling seamless text understanding and retrieval in both German and English, making it invaluable for companies implementing international documentation systems, customer support platforms, or content management solutions. Unlike traditional translation-based approaches, this model directly maps equivalent meanings in both languages to the same embedding space, enabling more accurate and efficient bilingual operations.

## Methods

The model achieves its impressive bilingual capabilities through an innovative architecture that processes both German and English text within a unified 768-dimensional embedding space. At its core, it employs a transformer-based neural network with 161 million parameters, carefully trained to understand semantic relationships across both languages. What makes this architecture particularly effective is its bias minimization approach, specifically designed to avoid the common pitfall of favoring English grammatical structures - a problem identified in recent research with multilingual models. The model's extended context window of 8,192 tokens allows it to process entire documents or multiple pages of text in a single pass, maintaining semantic coherence across long-form content in both languages.

## Performance

In real-world testing, Jina Embeddings v2 Base German demonstrates exceptional efficiency and accuracy, particularly in cross-language retrieval tasks. The model outperforms Microsoft's E5 base model while being less than a third of its size, and matches the performance of E5 large despite being seven times smaller. Across key benchmarks, including WikiCLIR for English-to-German retrieval, STS17 and STS22 for bidirectional language understanding, and BUCC for precise bilingual text alignment, the model consistently demonstrates superior capabilities. Its compact size of 322MB enables deployment on standard hardware while maintaining state-of-the-art performance, making it particularly efficient for production environments where computational resources are a consideration.

## Guidance

To effectively deploy Jina Embeddings v2 Base German, organizations should consider several practical aspects. The model integrates seamlessly with popular vector databases like MongoDB, Qdrant, and Weaviate, making it straightforward to build scalable bilingual search systems. For optimal performance, implement proper text preprocessing to handle the 8,192 token limit effectively - this typically accommodates about 15-20 pages of text. While the model excels at both German and English content, it's particularly effective when used for cross-language retrieval tasks where query and document languages may differ. Organizations should consider implementing caching strategies for frequently accessed content and use batch processing for large-scale document indexing. The model's AWS SageMaker integration provides a reliable path to production deployment, though teams should monitor token usage and implement appropriate rate limiting for high-traffic applications. When using the model for RAG applications, consider implementing language detection to optimize prompt construction based on the input language.
`,Mb=`---
model_name: "jina-embeddings-v2-base-en"
model_version: "v2"
model_type: "text-embeddings"
organization: "Jina AI"
license: "Apache-2.0"
parameter_size: "137M"
language:
  - en
token_length: 8192
output_dimension: 768
release_date: "2023-10-28"
device: "cuda"
api_link: "/?sui&model=jina-embeddings-v2-base-en"
aws: "https://aws.amazon.com/marketplace/pp/prodview-6h6n4oqbh4wnm"
huggingface: "https://huggingface.co/jinaai/jina-embeddings-v2-base-en"
arxiv: "https://arxiv.org/abs/2310.19923"
release_blog: "/news/jina-ai-launches-worlds-first-open-source-8k-text-embedding-rivaling-openai"
related_models:
  - jina-embedding-b-en-v1
  - jina-embeddings-v3
deprecated_by:
  - jina-embeddings-v3
tags:
  - text-embeddings
  - english
  - long-context
  - production-ready
  - multi-task-learning
  - semantic-search
  - document-retrieval
  - high-performance
  - bert-based
  - fine-tunable
  - rag-optimized
  - 8k-context
endpoints:
  - embedding
  - fine-tuning
availability:
  - api
  - huggingface
  - aws
  - azure
---

## Overview

Jina Embeddings v2 Base English is a groundbreaking open-source text embedding model that solves the critical challenge of processing long documents while maintaining high accuracy. Organizations struggling with analyzing extensive legal documents, research papers, or financial reports will find this model particularly valuable. It stands out by handling documents up to 8,192 tokens in length—16 times longer than traditional models—while matching the performance of OpenAI's proprietary solutions. With a compact size of 0.27GB and efficient resource usage, it offers an accessible solution for teams seeking to implement advanced document analysis without excessive computational overhead.

## Methods

The model's architecture combines a BERT Small backbone with an innovative symmetric bidirectional ALiBi (Attention with Linear Biases) mechanism, eliminating the need for traditional positional embeddings. This architectural choice enables the model to extrapolate far beyond its training length of 512 tokens, handling sequences up to 8,192 tokens without performance degradation. The training process involved two key phases: initial pretraining on the C4 dataset, followed by refinement on Jina AI's curated collection of over 40 specialized datasets. This diverse training data, including challenging negative examples and varied sentence pairs, ensures robust performance across different domains and use cases. The model produces 768-dimensional dense vectors that capture nuanced semantic relationships, achieved with a relatively modest 137M parameters.

## Performance

In real-world testing, Jina Embeddings v2 Base English demonstrates exceptional capabilities across multiple benchmarks. It outperforms OpenAI's text-embedding-ada-002 in several key metrics: classification (73.45% vs 70.93%), reranking (85.38% vs 84.89%), retrieval (56.98% vs 56.32%), and summarization (31.6% vs 30.8%). These numbers translate to practical advantages in tasks like document classification, where the model shows superior ability to categorize complex texts, and in search applications, where it better understands user queries and finds relevant documents. However, users should note that performance may vary when dealing with highly specialized domain-specific content not represented in the training data.

## Guidance


To effectively deploy Jina Embeddings v2 Base English, teams should consider several practical aspects. The model requires CUDA-capable hardware for optimal performance, though its efficient architecture means it can run on consumer-grade GPUs. It's available through multiple channels: direct download from Hugging Face, AWS Marketplace deployment, or the Jina AI API with 1M free tokens. For production deployments, AWS SageMaker in the us-east-1 region offers the most scalable solution. The model excels at general-purpose text analysis but may not be the best choice for highly specialized scientific terminology or domain-specific jargon without fine-tuning. When processing long documents, consider breaking them into meaningful semantic chunks rather than arbitrary splits to maintain context integrity. For optimal results, implement proper text preprocessing and ensure clean, well-formatted input data.
`,Cb=`---
model_name: "jina-embeddings-v2-base-es"
model_version: "v2"
model_type: "text-embeddings"
organization: "Jina AI"
license: "Apache-2.0"
parameter_size: "161M"
language:
  - en
  - es
token_length: 8192
output_dimension: 768
release_date: "2024-02-14"
device: "cuda"
huggingface: "https://huggingface.co/jinaai/jina-embeddings-v2-base-es"
aws: "https://aws.amazon.com/marketplace/seller-profile/vendor/jinaai"
arxiv: "https://arxiv.org/abs/2310.19923"
api_link: "/?sui&model=jina-embeddings-v2-base-es"
release_blog: "/news/aqui-se-habla-espanol-top-quality-spanish-english-embeddings-and-8k-context"
related_models:
  - jina-embeddings-v2-base-en
  - jina-embeddings-v2-base-de
  - jina-embeddings-v2-base-zh
deprecated_by:
  - jina-embeddings-v3
tags:
  - spanish
  - bilingual
  - long-context
  - 8k-context
  - bert-based
  - production-ready
  - semantic-search
  - cross-lingual
  - text-embeddings
  - fine-tunable
endpoints:
  - embedding
  - fine-tuning
availability:
  - api
  - huggingface
  - aws
  - azure
---

## Overview

Jina Embeddings v2 Base Spanish is a groundbreaking bilingual text embedding model that addresses the critical challenge of cross-lingual information retrieval and analysis between Spanish and English content. Unlike traditional multilingual models that often show bias towards specific languages, this model delivers truly balanced performance across both Spanish and English, making it indispensable for organizations operating in Spanish-speaking markets or handling bilingual content. The model's most remarkable feature is its ability to generate geometrically aligned embeddings - when texts in Spanish and English express the same meaning, their vector representations naturally cluster together in the embedding space, enabling seamless cross-language search and analysis.

## Methods

At the heart of this model lies an innovative architecture based on symmetric bidirectional ALiBi (Attention with Linear Biases), a sophisticated approach that enables processing of sequences up to 8,192 tokens without traditional positional embeddings. The model utilizes a modified BERT architecture with 161M parameters, incorporating Gated Linear Units (GLU) and specialized layer normalization techniques. Training follows a three-stage process: initial pre-training on a massive text corpus, followed by fine-tuning with carefully curated text pairs, and finally, hard-negative training to enhance discrimination between similar but semantically distinct content. This approach, combined with 768-dimensional embeddings, allows the model to capture nuanced semantic relationships while maintaining computational efficiency.

## Performance

In comprehensive benchmark evaluations, the model demonstrates exceptional capabilities, particularly in cross-language retrieval tasks where it outperforms significantly larger multilingual models like E5 and BGE-M3 despite being only 15-30% of their size. The model achieves superior performance in retrieval and clustering tasks, showing particular strength in matching semantically equivalent content across languages. When tested on the MTEB benchmark, it exhibits robust performance across various tasks including classification, clustering, and semantic similarity. The extended context window of 8,192 tokens proves especially valuable for long-document processing, showing consistent performance even with documents spanning multiple pages - a capability most competing models lack.

## Guidance

To effectively utilize this model, organizations should ensure access to CUDA-capable GPU infrastructure for optimal performance. The model integrates seamlessly with major vector databases and RAG frameworks including MongoDB, Qdrant, Weaviate, and Haystack, making it readily deployable in production environments. It excels in applications such as bilingual document search, content recommendation systems, and cross-language document analysis. While the model shows impressive versatility, it's particularly optimized for Spanish-English bilingual scenarios and may not be the best choice for monolingual applications or scenarios involving other language pairs. For optimal results, input texts should be properly formatted in either Spanish or English, though the model handles mixed-language content effectively. The model supports fine-tuning for domain-specific applications, but this should be approached with careful consideration of the training data quality and distribution.
`,Ib=`---
model_name: "jina-embeddings-v2-base-zh"
model_version: "v2"
model_type: "text-embeddings"
organization: "Jina AI"
license: "Apache-2.0"
parameter_size: "161M"
language:
  - en
  - zh
token_length: 8192
output_dimension: 768
release_date: "2024-01-09"
device: "cuda"
api_link: "/?sui&model=jina-embeddings-v2-base-zh"
huggingface: "https://huggingface.co/jinaai/jina-embeddings-v2-base-zh"
aws: "https://aws.amazon.com/marketplace/seller-profile/vendor/jinaai"
arxiv: "https://arxiv.org/abs/2310.19923"
release_blog: "/news/8k-token-length-bilingual-embeddings-break-language-barriers-in-chinese-and-english"
related_models:
  - jina-embeddings-v2-base-en
  - jina-embeddings-v3
deprecated_by:
  - jina-embeddings-v3
tags:
  - text-embedding
  - chinese
  - multilingual
  - base-model
  - production
  - long-context
  - high-dimension
endpoints:
  - embedding
  - fine-tuning
availability:
  - api
  - huggingface
  - aws
  - azure
---

## Overview

Jina Embeddings v2 Base Chinese breaks new ground as the first open-source model to seamlessly handle both Chinese and English text with an unprecedented 8,192 token context length. This bilingual powerhouse addresses a critical challenge in global business: the need for accurate, long-form document processing across Chinese and English content. Unlike traditional models that struggle with cross-lingual understanding or require separate models for each language, this model maps equivalent meanings in both languages to the same embedding space, making it invaluable for organizations expanding globally or managing multilingual content.

## Methods

The model's architecture combines a BERT-based backbone with symmetric bidirectional ALiBi (Attention with Linear Biases), enabling efficient processing of long sequences without the traditional 512-token limitation. The training process follows a carefully orchestrated three-phase approach: initial pre-training on high-quality bilingual data, followed by primary and secondary fine-tuning stages. This methodical training strategy, coupled with the model's 161M parameters and 768-dimensional output, achieves remarkable efficiency while maintaining balanced performance across both languages. The symmetric bidirectional ALiBi mechanism represents a significant innovation, allowing the model to handle documents up to 8,192 tokens in length—a capability previously limited to proprietary solutions.

## Performance

In benchmarks on the Chinese MTEB (C-MTEB) leaderboard, the model demonstrates exceptional performance among models under 0.5GB, particularly excelling in Chinese language tasks. It significantly outperforms OpenAI's text-embedding-ada-002 in Chinese-specific applications while maintaining competitive performance in English tasks. A notable improvement in this release is the refined similarity score distribution, addressing the score inflation issues present in the preview version. The model now provides more distinct and logical similarity scores, ensuring more accurate representation of semantic relationships between texts. This enhancement is particularly evident in comparative tests, where the model shows superior discrimination between related and unrelated content in both languages.

## Guidance


The model requires 322MB of storage and can be deployed through multiple channels including AWS SageMaker (us-east-1 region) and the Jina AI API. While GPU acceleration isn't mandatory, it can significantly improve processing speed for production workloads. The model excels in various applications including document analysis, multilingual search, and cross-lingual information retrieval, but users should note that it's specifically optimized for Chinese-English bilingual scenarios. For optimal results, input text should be properly segmented, and while the model can handle up to 8,192 tokens, breaking extremely long documents into semantically meaningful chunks is recommended for better performance. The model may not be suitable for tasks requiring real-time processing of very short texts where lower-latency, specialized models might be more appropriate.
`,Ab=`---
model_name: "jina-embeddings-v3"
model_version: "v3"
model_type: "text-embeddings"
organization: "Jina AI"
license: "CC-BY-NC-4.0"
parameter_size: "570M"
language:
  - multilingual
token_length: 262144
output_dimension: 1024
release_date: "2024-09-18"
device: "cuda"
api_link: "/?sui&model=jina-embeddings-v3"
huggingface: "https://huggingface.co/jinaai/jina-embeddings-v3"
arxiv: "https://arxiv.org/abs/2409.10173"
aws: "arn:aws:sagemaker:us-east-1:253352124568:model-package/jina-embeddings-v3"
azure: ""
gcp: ""
release_blog: "/news/jina-embeddings-v3-a-frontier-multilingual-embedding-model"
related_models:
  - jina-embeddings-v2-base-en
  - jina-embeddings-v2-base-zh
  - jina-embeddings-v2-base-de
  - jina-embeddings-v2-base-es
  - jina-embeddings-v2-base-code
tags:
  - text-embedding
  - multilingual
  - high-dimension
  - long-context
  - production
  - base-model
  - matryoshka
  - lora-adapters
endpoints:
  - embedding
  - fine-tuning
  - train
  - classify
  - late_chunking
availability:
  - api
  - license
  - huggingface
  - aws
  - azure
  - gcp
---

## Overview

Jina Embeddings v3 is a groundbreaking multilingual text embedding model that transforms how organizations handle text understanding and retrieval across languages. At its core, it solves the critical challenge of maintaining high performance across multiple languages and tasks while keeping computational requirements manageable. The model particularly shines in production environments where efficiency matters - it achieves state-of-the-art performance with just 570M parameters, making it accessible for teams that can't afford the computational overhead of larger models. Organizations needing to build scalable, multilingual search systems or analyze content across language barriers will find this model especially valuable.

## Methods

The model's architecture represents a significant innovation in embedding technology, built on a foundation of jina-XLM-RoBERTa with 24 layers and enhanced with task-specific Low-Rank Adaptation (LoRA) adapters. LoRA adapters are specialized neural network components that optimize the model for different tasks like retrieval, classification, or clustering without increasing the parameter count significantly - they add less than 3% to the total parameters. The model incorporates Matryoshka Representation Learning (MRL), allowing embeddings to be flexibly reduced from 1024 to as low as 32 dimensions while preserving performance. Training involved a three-stage process: initial pre-training on multilingual text from 89 languages, fine-tuning on paired texts for embedding quality, and specialized adapter training for task optimization. The model supports context lengths up to 8,192 tokens through Rotary Position Embeddings (RoPE), with an innovative base frequency adjustment technique that improves performance on both short and long texts.

## Performance

The model demonstrates exceptional efficiency-to-performance ratio in real-world testing, outperforming both open-source alternatives and proprietary solutions from OpenAI and Cohere on English tasks while excelling in multilingual scenarios. Most surprisingly, it achieves better results than e5-mistral-7b-instruct, which has 12 times more parameters, highlighting its remarkable efficiency. In MTEB benchmark evaluations, it achieves an average score of 65.52 across all tasks, with particularly strong performance in Classification Accuracy (82.58) and Sentence Similarity (85.80). The model maintains consistent performance across languages, scoring 64.44 on multilingual tasks. When using MRL for dimension reduction, it retains strong performance even at lower dimensions - for example, maintaining 92% of its retrieval performance at 64 dimensions compared to the full 1024 dimensions.

## Guidance

To effectively deploy Jina Embeddings v3, teams should consider their specific use case to select the appropriate task adapter: retrieval.query and retrieval.passage for search applications, separation for clustering tasks, classification for categorization, and text-matching for semantic similarity. The model requires CUDA-capable hardware for optimal performance, though its efficient architecture means it needs significantly less GPU memory than larger alternatives. For production deployment, AWS SageMaker integration provides a streamlined path to scalability. The model excels in multilingual applications but may require additional evaluation for low-resource languages. While it supports long documents up to 8,192 tokens, optimal performance is achieved with the late chunking feature for very long texts. Teams should avoid using the model for tasks requiring real-time generation or complex reasoning - it's designed for embedding and retrieval, not text generation or direct question answering.
`,Nb=`---
model_name: "jina-reranker-v1-base-en"
model_version: "v1"
model_type: "reranker"
organization: "Jina AI"
huggingface: "https://huggingface.co/jina-ai/jina-reranker-v1-base-en"
release_blog: "/news/maximizing-search-relevancy-and-rag-accuracy-with-jina-reranker"
api_link: "/?sui&model=jina-reranker-v1-base-en"
aws: "https://aws.amazon.com/marketplace/pp/prodview-6dmufr42yb2hi"
license: "Apache-2.0"
parameter_size: "137M"
release_date: "2024-02-29"
language:
  - en
token_length: 262144
device: "cuda"
related_models:
  - jina-reranker-v1-turbo-en
  - jina-reranker-v1-tiny-en
deprecated_by:
  - jina-reranker-v2-base-multilingual
tags:
  - reranker
  - english
  - base-model
  - high-precision
  - long-context
  - search-refinement
  - document-ranking
endpoints:
  - rank
availability:
  - api
  - huggingface
  - aws
  - azure
---

## Overview

Jina Reranker v1 Base English revolutionizes search result refinement by addressing a critical limitation in traditional vector search systems: the inability to capture nuanced relationships between queries and documents. While vector search with cosine similarity provides fast initial results, it often misses subtle relevance signals that human users intuitively understand. This reranker bridges that gap by performing sophisticated token-level analysis of both queries and documents, delivering a remarkable 20% improvement in search accuracy. For organizations struggling with search precision or implementing RAG systems, this model offers a powerful solution that significantly improves result quality without requiring a complete overhaul of existing search infrastructure.

## Methods

The model employs a BERT-based cross-attention architecture that fundamentally differs from traditional embedding-based approaches. Instead of comparing pre-computed document embeddings, it performs dynamic token-level interactions between queries and documents, enabling it to capture contextual nuances that simple similarity metrics miss. The architecture's 137M parameters are carefully structured to enable deep semantic understanding while maintaining computational efficiency. A standout innovation is its ability to handle sequences up to 262,144 tokens—far beyond typical model limitations—achieved through sophisticated optimization techniques that maintain fast inference speeds despite the increased context window.

## Performance


In comprehensive benchmarks, the model demonstrates exceptional improvements across key metrics, achieving an 8% increase in hit rate and a 33% boost in mean reciprocal rank compared to baseline vector search. On the BEIR benchmark, it achieves an average score of 0.5588, outperforming other rerankers from BGE (0.5032), BCE (0.4969), and Cohere (0.5141). Particularly impressive is its performance on the LoCo benchmark, where it scores 0.873 on average, significantly ahead of competitors in understanding local coherence and context-aware ranking. The model shows particular strength in technical content evaluation, achieving scores of 0.996 on qasper_abstract tasks and 0.962 on government report analysis, though it shows relatively lower performance (0.466) on meeting summarization tasks.

## Guidance

The model requires CUDA-capable hardware for optimal performance and is accessible through both API endpoints and AWS SageMaker deployment options. While it can process extremely long sequences, users should consider the trade-off between context length and processing time—the model's latency increases notably with longer documents, from 156ms for 256 tokens to 7068ms for 4096 tokens with a 512-token query. For production deployments, it's recommended to implement a two-stage pipeline where vector search provides initial candidates for reranking. The model is specifically optimized for English content and may not perform optimally on multilingual or code-heavy documents. When integrating with RAG systems, users should carefully tune the number of documents sent for reranking based on their latency requirements, with 100-200 documents typically providing a good balance between quality and performance.
`,zb=`---
model_name: "jina-reranker-v1-tiny-en"
model_version: "v1"
model_type: "reranker"
organization: "Jina AI"
license: "Apache-2.0"
parameter_size: "33M"
language:
  - en
token_length: 262144
device: "cuda"
release_date: "2024-04-18"
huggingface: "https://huggingface.co/jinaai/jina-reranker-v1-tiny-en"
aws: "https://aws.amazon.com/marketplace/seller-profile/vendor/jinaai"
api_link: "/?sui&model=jina-reranker-v1-tiny-en"
release_blog: "/news/smaller-faster-cheaper-jina-rerankers-turbo-and-tiny"
related_models:
  - jina-reranker-v1-base-en
  - jina-reranker-v1-turbo-en
deprecated_by:
  - jina-reranker-v2-base-multilingual
tags:
  - reranker
  - english
  - long-context
  - memory-efficient
  - high-throughput
  - edge-optimized
  - bert-based
  - production-ready
  - lightweight
  - fast-inference
endpoints:
  - rank
availability:
  - api
  - huggingface
  - aws
  - azure
---

## Overview

Jina Reranker v1 Tiny English represents a breakthrough in efficient search refinement, designed specifically for organizations requiring high-performance reranking in resource-constrained environments. This model addresses the critical challenge of maintaining search quality while significantly reducing computational overhead and deployment costs. With just 33M parameters - a fraction of typical reranker sizes - it delivers remarkably competitive performance through innovative knowledge distillation techniques. The model's most surprising feature is its ability to process documents nearly five times faster than base models while maintaining over 92% of their accuracy, making enterprise-grade search refinement accessible to applications where computational resources are at a premium.

## Methods

The model employs a streamlined four-layer architecture based on JinaBERT with symmetric bidirectional ALiBi (Attention with Linear Biases), enabling efficient processing of long sequences. Its development leverages an advanced knowledge distillation approach where a larger, high-performance teacher model (jina-reranker-v1-base-en) guides the training process, allowing the smaller model to learn optimal ranking behaviors without requiring extensive real-world training data. This innovative training methodology, combined with architectural optimizations like reduced hidden layers and efficient attention mechanisms, enables the model to maintain high-quality rankings while significantly reducing computational requirements. The result is a model that achieves remarkable efficiency without compromising its ability to understand complex document relationships.

## Performance

In comprehensive benchmark evaluations, the model demonstrates exceptional capabilities that challenge the conventional trade-off between size and performance. On the BEIR benchmark, it achieves an NDCG@10 score of 48.54, retaining 92.5% of the base model's performance while being just a quarter of its size. Even more impressively, in LlamaIndex RAG benchmarks, it maintains an 83.16% hit rate, nearly matching larger models while processing documents significantly faster. The model particularly excels in throughput, processing documents almost five times faster than the base model while using 13% less memory than even the turbo variant. These metrics translate to real-world performance that rivals or exceeds much larger models like mxbai-rerank-base-v1 (184M parameters) and bge-reranker-base (278M parameters).

## Guidance

To effectively deploy this model, organizations should prioritize scenarios where processing speed and resource efficiency are critical considerations. The model is particularly well-suited for edge computing deployments, mobile applications, and high-throughput search systems where latency requirements are strict. While it performs exceptionally well across most reranking tasks, it's important to note that for applications requiring the absolute highest level of ranking precision, the base model might still be preferable. The model requires CUDA-capable GPU infrastructure for optimal performance, though its efficient architecture means it can run effectively on less powerful hardware than its larger counterparts. For deployment, the model integrates seamlessly with major vector databases and RAG frameworks, and it's available through both the Reranker API and AWS SageMaker. When fine-tuning for specific domains, users should carefully balance the training data quality with the model's compact architecture to maintain its performance characteristics.
`,Pb=`---
model_name: "jina-reranker-v1-turbo-en"
model_version: "v1"
model_type: "reranker"
organization: "Jina AI"
license: "Apache-2.0"
parameter_size: "37.8M"
language:
  - en
token_length: 8192
device: "cuda"
release_date: "2024-04-18"
huggingface: "https://huggingface.co/jinaai/jina-reranker-v1-turbo-en"
aws: "https://aws.amazon.com/marketplace/seller-profile/vendor/jinaai"
api_link: "/?sui&model=jina-reranker-v1-turbo-en"
release_blog: "/news/smaller-faster-cheaper-jina-rerankers-turbo-and-tiny"
related_models:
  - jina-reranker-v1-base-en
  - jina-reranker-v1-tiny-en
deprecated_by:
  - jina-reranker-v2-base-multilingual
tags:
  - high-speed
  - memory-efficient
  - english
  - production-ready
  - reranker
  - rag-optimized
  - high-performance
  - cost-effective
endpoints:
  - rank
availability:
  - api
  - huggingface
  - aws
  - azure
---

## Overview

Jina Reranker v1 Turbo English addresses a critical challenge in production search systems: the trade-off between result quality and computational efficiency. While traditional rerankers offer improved search accuracy, their computational demands often make them impractical for real-time applications. This model breaks that barrier by delivering 95% of the base model's accuracy while processing documents three times faster and using 75% less memory. For organizations struggling with search latency or computational costs, this model offers a compelling solution that maintains high-quality search refinement while significantly reducing infrastructure requirements and operational costs.

## Methods

The model achieves its efficiency through an innovative six-layer architecture that compresses the sophisticated reranking capabilities of its larger counterpart into just 37.8 million parameters—a dramatic reduction from the base model's 137 million. This streamlined design employs knowledge distillation, where the larger base model acts as a teacher, training the turbo variant to match its behavior while using fewer resources. The architecture maintains the core BERT-based cross-attention mechanism for token-level interactions between queries and documents, but optimizes it for speed through reduced layer count and efficient parameter allocation. The model supports sequences up to 8,192 tokens, enabling comprehensive document analysis while maintaining fast inference speeds through sophisticated optimization techniques.

## Performance


In comprehensive benchmarks, the turbo variant demonstrates remarkable efficiency without significant accuracy trade-offs. On the BEIR benchmark, it achieves an NDCC@10 score of 49.60, retaining 95% of the base model's performance (52.45) while outperforming many larger competitors like bge-reranker-base (47.89, 278M parameters). In RAG applications, it maintains an impressive 83.51% hit rate and 0.6498 MRR, showing particular strength in practical retrieval tasks. The model's speed improvements are even more striking—it processes documents three times faster than the base model, with throughput scaling nearly linearly with reduced parameter count. However, users should note slightly lower performance on extremely nuanced ranking tasks where the full parameter count of larger models provides marginal advantages.

## Guidance

The model requires CUDA-capable hardware for optimal performance and can be deployed through AWS SageMaker or accessed via API endpoints. For production deployments, organizations should implement a two-stage pipeline where vector search provides initial candidates for reranking. While the model supports 8,192 tokens, users should consider the latency impact of longer sequences—processing time increases with document length. The sweet spot for most applications is reranking 100-200 candidates per query, which balances quality and speed. The model is specifically optimized for English content and may not perform optimally on multilingual documents. Memory requirements are significantly lower than the base model, typically requiring only 150MB of GPU memory compared to 550MB, making it suitable for deployment on smaller instances and enabling significant cost savings in cloud environments.
`,Ob=`---
model_name: "jina-reranker-v2-base-multilingual"
model_version: "v2"
model_type: "reranker"
organization: "Jina AI"
license: "CC-BY-NC-4.0"
parameter_size: "278M"
language:
  - multilingual
token_length: 524288
device: "cuda"
release_date: "2024-06-25"
huggingface: "https://huggingface.co/jinaai/jina-reranker-v2-base-multilingual"
aws: "https://aws.amazon.com/marketplace/seller-profile/vendor/jinaai"
api_link: "/?sui&model=jina-reranker-v2-base-multilingual"
release_blog: "/news/jina-reranker-v2-for-agentic-rag-ultra-fast-multilingual-function-calling-and-code-search"
related_models:
  - jina-reranker-v1-base-en
  - jina-reranker-v1-turbo-en
  - jina-reranker-v1-tiny-en
tags:
  - multilingual
  - cross-lingual
  - function-calling
  - code-search
  - long-context
  - production-ready
  - reranker
  - rag-optimized
  - high-performance
  - 100-languages
endpoints:
  - rank
availability:
  - api
  - license
  - huggingface
  - aws
  - azure
  - gcp
---

## Overview
Jina Reranker v2 Base Multilingual is a cross-encoder model designed to enhance search accuracy across language barriers and data types. This reranker addresses the critical challenge of precise information retrieval in multilingual environments, particularly valuable for global enterprises needing to refine search results across different languages and content types. With support for over 100 languages and unique capabilities in function calling and code search, it serves as a unified solution for teams requiring accurate search refinement across international content, API documentation, and multilingual codebases. The model's compact 278M parameter design makes it particularly appealing for organizations seeking to balance high performance with resource efficiency.

## Methods
The model employs a cross-encoder architecture enhanced with Flash Attention 2, enabling direct comparison between queries and documents for more accurate relevance assessment. Trained through a four-stage process, the model first establishes English language capabilities, then progressively incorporates cross-lingual and multilingual data, before final refinement with hard-negative examples. This innovative training approach, combined with the Flash Attention 2 implementation, allows the model to process sequences up to 524,288 tokens while maintaining exceptional speed. The architecture's efficiency enables it to handle complex reranking tasks across multiple languages with 6x higher throughput compared to its predecessor, while ensuring accurate relevance assessment through direct query-document interaction.

## Performance
In real-world evaluations, the model demonstrates exceptional capabilities across diverse benchmarks. It achieves state-of-the-art performance on the AirBench leaderboard for RAG systems and shows strong results in multilingual tasks, including the MKQA dataset covering 26 languages. The model excels particularly in structured data tasks, achieving high recall scores in both function calling (ToolBench benchmark) and SQL schema matching (NSText2SQL benchmark). Most impressively, it delivers these results while processing documents 15 times faster than comparable models like bge-reranker-v2-m3, making it practical for real-time applications. However, users should note that optimal performance requires a CUDA-capable GPU for inference.

## Guidance
For optimal deployment, the model requires a CUDA-capable GPU and can be accessed through multiple channels including the Reranker API, major RAG frameworks like Haystack and LangChain, or deployed privately via cloud marketplaces. The model excels in scenarios requiring precise understanding across language barriers and data types, making it ideal for global enterprises working with multilingual content, API documentation, or code repositories. Its extensive context window of 524,288 tokens enables processing of large documents or entire codebases in a single pass. Teams should consider using this model when they need to enhance search accuracy across languages, require function calling capabilities for agentic RAG systems, or want to improve code search functionality across multilingual codebases. The model is particularly effective when used in conjunction with vector search systems, where it can significantly improve the final ranking of retrieved documents.
`,Rb=`---
model_name: "reader-lm-0.5b"
model_version: "v1"
model_type: "reader"
organization: "Jina AI"
license: "CC-BY-NC-4.0"
parameter_size: "494M"
language:
  - multilingual
token_length: 262144
device: "cuda"
api_link: "/?sui&model=reader-lm-0.5b"
huggingface: "https://huggingface.co/jinaai/reader-lm-0.5b"
aws: "https://aws.amazon.com/marketplace/seller-profile/vendor/jinaai"
release_blog: "/news/reader-lm-small-language-models-for-cleaning-and-converting-html-to-markdown"
related_models:
  - reader-lm-1.5b
release_date: "2024-08-11"
tags:
  - text-understanding
  - multilingual
  - document-processing
  - resource-efficient
  - long-context
  - base-model
  - language-model
endpoints:
  - read
availability:
  - license
  - huggingface
  - aws
  - azure
---

## Overview

Reader LM 0.5B is a specialized language model designed to solve the complex challenge of converting HTML documents into clean, structured markdown text. This model addresses a critical need in modern data processing pipelines: efficiently transforming messy web content into a format that's ideal for LLMs and documentation systems. Unlike general-purpose language models that require massive computational resources, Reader LM 0.5B achieves professional-grade HTML processing with just 494M parameters, making it accessible to teams with limited computing resources. Organizations dealing with web content processing, documentation automation, or building LLM-powered applications will find this model particularly valuable for streamlining their content preparation workflows.

## Methods

The model employs an innovative "shallow-but-wide" architecture specifically optimized for selective-copy operations rather than creative text generation. Built on a decoder-only foundation with 24 layers and 896 hidden dimensions, the model uses specialized attention mechanisms with 14 query heads and 2 key-value heads to efficiently process input sequences. The training process involved two distinct stages: first with shorter, simpler HTML (32K tokens) to learn basic conversion patterns, then with complex, real-world HTML (128K tokens) to handle challenging cases. The model incorporates contrastive search during training and implements a repetition detection mechanism to prevent degeneration issues like token loops. A unique aspect of its architecture is the zigzag-ring-attention mechanism, which enables the model to handle extremely long sequences up to 256K tokens while maintaining stable performance.

## Performance

In real-world testing, Reader LM 0.5B demonstrates impressive efficiency-to-performance ratios across multiple metrics. The model achieves a ROUGE-L score of 0.56, indicating strong content preservation, and maintains a low token error rate of 0.34, showing minimal hallucination. In qualitative evaluations across 22 diverse HTML sources including news articles, blog posts, and e-commerce pages in multiple languages, it shows particular strength in structure preservation and markdown syntax usage. The model excels at handling complex modern web pages where inline CSS and scripts can expand to hundreds of thousands of tokens - a scenario where traditional rule-based approaches often fail. However, it's important to note that while the model performs exceptionally well on straightforward HTML-to-markdown conversion tasks, it may require additional processing for highly dynamic or JavaScript-heavy pages.

## Guidance

To effectively deploy Reader LM 0.5B, teams should ensure their infrastructure can handle the model's CUDA requirements, though its efficient architecture means it can run on consumer-grade GPUs. The model works best with raw HTML input and doesn't require special prefixes or instructions. For optimal performance, implement the provided repetition detection mechanism to prevent potential token loops in output generation. While the model supports multiple languages and various HTML structures, it's specifically designed for content extraction and markdown conversion - it shouldn't be used for tasks like text generation, summarization, or direct question answering. The model is available through AWS SageMaker for production deployment, and a Google Colab notebook is provided for testing and experimentation. Teams should be aware that while the model can handle extremely long documents up to 256K tokens, processing such large inputs may require additional memory management strategies.
`,Db=`---
model_name: "reader-lm-1.5b"
model_version: "v1"
model_type: "reader"
organization: "Jina AI"
license: "CC-BY-NC-4.0"
parameter_size: "1.54B"
language:
  - multilingual
token_length: 262144
device: "cuda"
release_date: "2024-08-11"
api_link: "/?sui&model=reader-lm-1.5b"
huggingface: "https://huggingface.co/jinaai/reader-lm-1.5b"
aws: "https://aws.amazon.com/marketplace/seller-profile/vendor/jinaai"
release_blog: "/news/reader-lm-small-language-models-for-cleaning-and-converting-html-to-markdown"
related_models:
  - reader-lm-0.5b
tags:
  - reader
  - language-model
  - multilingual
  - document-processing
  - long-context
  - text-understanding
  - content-extraction
  - cross-lingual
endpoints:
  - read
availability:
  - license
  - huggingface
  - aws
  - azure
---

## Overview

Reader LM 1.5B represents a breakthrough in efficient document processing, addressing the critical challenge of converting complex web content into clean, structured formats. This specialized language model tackles a fundamental problem in modern AI pipelines: the need to efficiently process and clean HTML content for downstream tasks without relying on brittle rule-based systems or resource-intensive large language models. What makes this model truly remarkable is its ability to outperform models 50 times its size while maintaining a surprisingly compact 1.54B parameter footprint. Organizations dealing with large-scale web content processing, documentation automation, or content management systems will find this model particularly valuable for its ability to handle extremely long documents while delivering superior accuracy in HTML-to-markdown conversion.

## Methods

The model employs an innovative "shallow-but-wide" architecture that challenges traditional scaling approaches in language model design. At its core are 28 transformer layers configured with 12 query heads and 2 key-value heads, creating a unique balance that optimizes for selective-copy operations while maintaining deep semantic understanding. The architecture features a hidden size of 1536 and an intermediate size of 8960, carefully tuned to handle sequences up to 256K tokens. The training process involved two distinct stages: first focusing on short-and-simple HTML with 32K token sequences, then advancing to long-and-hard HTML with 128K tokens, implementing zigzag-ring-attention for efficient processing. This approach, combined with contrastive search and specialized repetition detection mechanisms, enables the model to avoid common issues like degeneration and dull loops that typically plague smaller language models handling complex document processing tasks.

## Performance


In comprehensive benchmark evaluations, Reader LM 1.5B demonstrates exceptional capabilities that challenge industry standards. The model achieves a ROUGE-L score of 0.72 and a Token Error Rate of 0.19, significantly outperforming larger models like GPT-4 (0.43 ROUGE-L, 0.50 TER) and Gemini-1.5-Pro (0.42 ROUGE-L, 0.48 TER) in HTML-to-markdown conversion tasks. Its performance particularly shines in qualitative evaluations across four key dimensions: header extraction, main content extraction, rich structure preservation, and markdown syntax usage. The model consistently maintains high accuracy across diverse document types, from news articles and blog posts to landing pages and forum posts, in multiple languages including English, German, Japanese, and Chinese. This performance is achieved while processing documents up to 256K tokens in length, eliminating the need for expensive chunking operations that are typically required with larger models.

## Guidance

To effectively deploy Reader LM 1.5B, organizations should focus on scenarios involving complex HTML document processing where accuracy and efficiency are paramount. The model requires CUDA-capable GPU infrastructure for optimal performance, though its efficient architecture means it can run effectively on more modest hardware compared to larger alternatives. For production deployments, the model is available through both AWS SageMaker and Azure Marketplace, offering flexible integration options. While the model excels at HTML-to-markdown conversion, it's important to note that it's specifically optimized for this task and may not be suitable for general-purpose text generation or other NLP tasks. When processing extremely long documents (approaching 512K tokens), users should be aware that performance might degrade as this exceeds the model's training parameters. For optimal results, implement the provided repetition detection mechanisms and consider using contrastive search during inference to maintain output quality.
`;function Bb(){const n=Pe([]),i=(r,o)=>{const[s,u,...l]=r.split("---"),d={};let f=null,m=!1,p=!1,_={};if(u.split(`
`).forEach(k=>{const P=k.trim();if(!(!P||P.startsWith("#"))){if(P.startsWith("- ")){const T=P.substring(2);p&&f==="metrics"?T.startsWith("name:")?(Object.keys(_).length>0&&(d.metrics=d.metrics||[]).push(_),_={name:T.substring(5).trim()}):T.startsWith("value:")&&(_.value=parseFloat(T.substring(6).trim())||T.substring(6).trim()):f&&(Array.isArray(d[f])||(d[f]=[]),d[f].push(T));return}if(P.includes(":")){const[T,...A]=P.split(":"),z=T.trim(),x=A.join(":").trim();f=z,m=x==="",p=z==="metrics",!m&&!p?d[z]=x.replace(/^["'](.*)["']$/,"$1"):m&&(d[z]=[])}}}),p&&Object.keys(_).length>0&&(d.metrics=d.metrics||[]).push(_),!d.model_name||!d.model_version||!d.model_type||!d.organization||!d.license||!d.tags)throw new Error(`Missing required metadata fields in model ${o}`);const S={model_name:d.model_name,model_version:d.model_version,model_type:d.model_type,organization:d.organization,license:d.license,token_length:d.token_length,image_size:d.image_size,tags:d.tags||[],architecture:d.architecture,parameter_size:d.parameter_size,training_data:d.training_data,input_format:d.input_format,output_dimension:d.output_dimension,language:d.language||[],metrics:d.metrics,quantization:d.quantization,intended_use:d.intended_use,limitations:d.limitations,ethical_considerations:d.ethical_considerations,hardware_requirements:d.hardware_requirements,api_type:d.api_type,api_link:d.api_link,aws:d.aws,release_blog:d.release_blog,deprecated_by:d.deprecated_by,related_models:d.related_models,arxiv:d.arxiv,huggingface:d.huggingface,endpoints:d.endpoints||[],release_date:d.release_date,availability:d.availability||[]};return{slug:o,name:S.model_name,metadata:S,content:l.join("---").trim()}};return ht(async()=>{try{const r=Object.assign({"../content/models/jina-clip-v1.md":bb,"../content/models/jina-clip-v2.md":wb,"../content/models/jina-colbert-v1-en.md":xb,"../content/models/jina-colbert-v2.md":kb,"../content/models/jina-embedding-b-en-v1.md":Eb,"../content/models/jina-embeddings-v2-base-code.md":Sb,"../content/models/jina-embeddings-v2-base-de.md":Tb,"../content/models/jina-embeddings-v2-base-en.md":Mb,"../content/models/jina-embeddings-v2-base-es.md":Cb,"../content/models/jina-embeddings-v2-base-zh.md":Ib,"../content/models/jina-embeddings-v3.md":Ab,"../content/models/jina-reranker-v1-base-en.md":Nb,"../content/models/jina-reranker-v1-tiny-en.md":zb,"../content/models/jina-reranker-v1-turbo-en.md":Pb,"../content/models/jina-reranker-v2-base-multilingual.md":Ob,"../content/models/reader-lm-0.5b.md":Rb,"../content/models/reader-lm-1.5b.md":Db});n.value=Object.entries(r).map(([o,s])=>{var l;const u=((l=o.split("/").pop())==null?void 0:l.replace(".md",""))||"";return i(s,u)})}catch(r){console.error("Error loading model files:",r),n.value=[]}}),{models:n}}var Ro={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Ro.exports;(function(n,i){(function(){var r,o="4.17.21",s=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",d="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",m=500,p="__lodash_placeholder__",_=1,S=2,k=4,P=1,T=2,A=1,z=2,x=4,B=8,O=16,Q=32,ue=64,te=128,de=256,ye=512,J=30,M="...",be=800,Ne=16,I=1,F=2,R=3,V=1/0,Z=9007199254740991,re=17976931348623157e292,fe=NaN,ee=4294967295,Se=ee-1,ge=ee>>>1,ce=[["ary",te],["bind",A],["bindKey",z],["curry",B],["curryRight",O],["flip",ye],["partial",Q],["partialRight",ue],["rearg",de]],me="[object Arguments]",De="[object Array]",Be="[object AsyncFunction]",oe="[object Boolean]",se="[object Date]",W="[object DOMException]",G="[object Error]",X="[object Function]",j="[object GeneratorFunction]",v="[object Map]",w="[object Number]",D="[object Null]",q="[object Object]",le="[object Promise]",ke="[object Proxy]",H="[object RegExp]",ve="[object Set]",xe="[object String]",Fe="[object Symbol]",He="[object Undefined]",Ke="[object WeakMap]",Fn="[object WeakSet]",Pn="[object ArrayBuffer]",On="[object DataView]",Gn="[object Float32Array]",xt="[object Float64Array]",Ui="[object Int8Array]",Vi="[object Int16Array]",ia="[object Int32Array]",ra="[object Uint8Array]",oa="[object Uint8ClampedArray]",aa="[object Uint16Array]",sa="[object Uint32Array]",jf=/\b__p \+= '';/g,Kf=/\b(__p \+=) '' \+/g,Zf=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ll=/&(?:amp|lt|gt|quot|#39);/g,ul=/[&<>"']/g,Jf=RegExp(ll.source),Qf=RegExp(ul.source),eh=/<%-([\s\S]+?)%>/g,nh=/<%([\s\S]+?)%>/g,cl=/<%=([\s\S]+?)%>/g,th=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ih=/^\w*$/,rh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,la=/[\\^$.*+?()[\]{}|]/g,oh=RegExp(la.source),ua=/^\s+/,ah=/\s/,sh=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,lh=/\{\n\/\* \[wrapped with (.+)\] \*/,uh=/,? & /,ch=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dh=/[()=,{}\[\]\/\s]/,fh=/\\(\\)?/g,hh=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dl=/\w*$/,gh=/^[-+]0x[0-9a-f]+$/i,mh=/^0b[01]+$/i,ph=/^\[object .+?Constructor\]$/,vh=/^0o[0-7]+$/i,yh=/^(?:0|[1-9]\d*)$/,_h=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ir=/($^)/,bh=/['\n\r\u2028\u2029\\]/g,Ar="\\ud800-\\udfff",wh="\\u0300-\\u036f",xh="\\ufe20-\\ufe2f",kh="\\u20d0-\\u20ff",fl=wh+xh+kh,hl="\\u2700-\\u27bf",gl="a-z\\xdf-\\xf6\\xf8-\\xff",Eh="\\xac\\xb1\\xd7\\xf7",Sh="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Th="\\u2000-\\u206f",Mh=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ml="A-Z\\xc0-\\xd6\\xd8-\\xde",pl="\\ufe0e\\ufe0f",vl=Eh+Sh+Th+Mh,ca="['’]",Ch="["+Ar+"]",yl="["+vl+"]",Nr="["+fl+"]",_l="\\d+",Ih="["+hl+"]",bl="["+gl+"]",wl="[^"+Ar+vl+_l+hl+gl+ml+"]",da="\\ud83c[\\udffb-\\udfff]",Ah="(?:"+Nr+"|"+da+")",xl="[^"+Ar+"]",fa="(?:\\ud83c[\\udde6-\\uddff]){2}",ha="[\\ud800-\\udbff][\\udc00-\\udfff]",_i="["+ml+"]",kl="\\u200d",El="(?:"+bl+"|"+wl+")",Nh="(?:"+_i+"|"+wl+")",Sl="(?:"+ca+"(?:d|ll|m|re|s|t|ve))?",Tl="(?:"+ca+"(?:D|LL|M|RE|S|T|VE))?",Ml=Ah+"?",Cl="["+pl+"]?",zh="(?:"+kl+"(?:"+[xl,fa,ha].join("|")+")"+Cl+Ml+")*",Ph="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Oh="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Il=Cl+Ml+zh,Rh="(?:"+[Ih,fa,ha].join("|")+")"+Il,Dh="(?:"+[xl+Nr+"?",Nr,fa,ha,Ch].join("|")+")",Bh=RegExp(ca,"g"),Lh=RegExp(Nr,"g"),ga=RegExp(da+"(?="+da+")|"+Dh+Il,"g"),Hh=RegExp([_i+"?"+bl+"+"+Sl+"(?="+[yl,_i,"$"].join("|")+")",Nh+"+"+Tl+"(?="+[yl,_i+El,"$"].join("|")+")",_i+"?"+El+"+"+Sl,_i+"+"+Tl,Oh,Ph,_l,Rh].join("|"),"g"),qh=RegExp("["+kl+Ar+fl+pl+"]"),Fh=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Gh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],$h=-1,sn={};sn[Gn]=sn[xt]=sn[Ui]=sn[Vi]=sn[ia]=sn[ra]=sn[oa]=sn[aa]=sn[sa]=!0,sn[me]=sn[De]=sn[Pn]=sn[oe]=sn[On]=sn[se]=sn[G]=sn[X]=sn[v]=sn[w]=sn[q]=sn[H]=sn[ve]=sn[xe]=sn[Ke]=!1;var an={};an[me]=an[De]=an[Pn]=an[On]=an[oe]=an[se]=an[Gn]=an[xt]=an[Ui]=an[Vi]=an[ia]=an[v]=an[w]=an[q]=an[H]=an[ve]=an[xe]=an[Fe]=an[ra]=an[oa]=an[aa]=an[sa]=!0,an[G]=an[X]=an[Ke]=!1;var Wh={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Uh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Vh={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Yh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xh=parseFloat,jh=parseInt,Al=typeof lr=="object"&&lr&&lr.Object===Object&&lr,Kh=typeof self=="object"&&self&&self.Object===Object&&self,Sn=Al||Kh||Function("return this")(),ma=i&&!i.nodeType&&i,ei=ma&&!0&&n&&!n.nodeType&&n,Nl=ei&&ei.exports===ma,pa=Nl&&Al.process,Zn=function(){try{var C=ei&&ei.require&&ei.require("util").types;return C||pa&&pa.binding&&pa.binding("util")}catch{}}(),zl=Zn&&Zn.isArrayBuffer,Pl=Zn&&Zn.isDate,Ol=Zn&&Zn.isMap,Rl=Zn&&Zn.isRegExp,Dl=Zn&&Zn.isSet,Bl=Zn&&Zn.isTypedArray;function $n(C,$,L){switch(L.length){case 0:return C.call($);case 1:return C.call($,L[0]);case 2:return C.call($,L[0],L[1]);case 3:return C.call($,L[0],L[1],L[2])}return C.apply($,L)}function Zh(C,$,L,_e){for(var Le=-1,Je=C==null?0:C.length;++Le<Je;){var _n=C[Le];$(_e,_n,L(_n),C)}return _e}function Jn(C,$){for(var L=-1,_e=C==null?0:C.length;++L<_e&&$(C[L],L,C)!==!1;);return C}function Jh(C,$){for(var L=C==null?0:C.length;L--&&$(C[L],L,C)!==!1;);return C}function Ll(C,$){for(var L=-1,_e=C==null?0:C.length;++L<_e;)if(!$(C[L],L,C))return!1;return!0}function Lt(C,$){for(var L=-1,_e=C==null?0:C.length,Le=0,Je=[];++L<_e;){var _n=C[L];$(_n,L,C)&&(Je[Le++]=_n)}return Je}function zr(C,$){var L=C==null?0:C.length;return!!L&&bi(C,$,0)>-1}function va(C,$,L){for(var _e=-1,Le=C==null?0:C.length;++_e<Le;)if(L($,C[_e]))return!0;return!1}function un(C,$){for(var L=-1,_e=C==null?0:C.length,Le=Array(_e);++L<_e;)Le[L]=$(C[L],L,C);return Le}function Ht(C,$){for(var L=-1,_e=$.length,Le=C.length;++L<_e;)C[Le+L]=$[L];return C}function ya(C,$,L,_e){var Le=-1,Je=C==null?0:C.length;for(_e&&Je&&(L=C[++Le]);++Le<Je;)L=$(L,C[Le],Le,C);return L}function Qh(C,$,L,_e){var Le=C==null?0:C.length;for(_e&&Le&&(L=C[--Le]);Le--;)L=$(L,C[Le],Le,C);return L}function _a(C,$){for(var L=-1,_e=C==null?0:C.length;++L<_e;)if($(C[L],L,C))return!0;return!1}var eg=ba("length");function ng(C){return C.split("")}function tg(C){return C.match(ch)||[]}function Hl(C,$,L){var _e;return L(C,function(Le,Je,_n){if($(Le,Je,_n))return _e=Je,!1}),_e}function Pr(C,$,L,_e){for(var Le=C.length,Je=L+(_e?1:-1);_e?Je--:++Je<Le;)if($(C[Je],Je,C))return Je;return-1}function bi(C,$,L){return $===$?gg(C,$,L):Pr(C,ql,L)}function ig(C,$,L,_e){for(var Le=L-1,Je=C.length;++Le<Je;)if(_e(C[Le],$))return Le;return-1}function ql(C){return C!==C}function Fl(C,$){var L=C==null?0:C.length;return L?xa(C,$)/L:fe}function ba(C){return function($){return $==null?r:$[C]}}function wa(C){return function($){return C==null?r:C[$]}}function Gl(C,$,L,_e,Le){return Le(C,function(Je,_n,on){L=_e?(_e=!1,Je):$(L,Je,_n,on)}),L}function rg(C,$){var L=C.length;for(C.sort($);L--;)C[L]=C[L].value;return C}function xa(C,$){for(var L,_e=-1,Le=C.length;++_e<Le;){var Je=$(C[_e]);Je!==r&&(L=L===r?Je:L+Je)}return L}function ka(C,$){for(var L=-1,_e=Array(C);++L<C;)_e[L]=$(L);return _e}function og(C,$){return un($,function(L){return[L,C[L]]})}function $l(C){return C&&C.slice(0,Yl(C)+1).replace(ua,"")}function Wn(C){return function($){return C($)}}function Ea(C,$){return un($,function(L){return C[L]})}function Yi(C,$){return C.has($)}function Wl(C,$){for(var L=-1,_e=C.length;++L<_e&&bi($,C[L],0)>-1;);return L}function Ul(C,$){for(var L=C.length;L--&&bi($,C[L],0)>-1;);return L}function ag(C,$){for(var L=C.length,_e=0;L--;)C[L]===$&&++_e;return _e}var sg=wa(Wh),lg=wa(Uh);function ug(C){return"\\"+Yh[C]}function cg(C,$){return C==null?r:C[$]}function wi(C){return qh.test(C)}function dg(C){return Fh.test(C)}function fg(C){for(var $,L=[];!($=C.next()).done;)L.push($.value);return L}function Sa(C){var $=-1,L=Array(C.size);return C.forEach(function(_e,Le){L[++$]=[Le,_e]}),L}function Vl(C,$){return function(L){return C($(L))}}function qt(C,$){for(var L=-1,_e=C.length,Le=0,Je=[];++L<_e;){var _n=C[L];(_n===$||_n===p)&&(C[L]=p,Je[Le++]=L)}return Je}function Or(C){var $=-1,L=Array(C.size);return C.forEach(function(_e){L[++$]=_e}),L}function hg(C){var $=-1,L=Array(C.size);return C.forEach(function(_e){L[++$]=[_e,_e]}),L}function gg(C,$,L){for(var _e=L-1,Le=C.length;++_e<Le;)if(C[_e]===$)return _e;return-1}function mg(C,$,L){for(var _e=L+1;_e--;)if(C[_e]===$)return _e;return _e}function xi(C){return wi(C)?vg(C):eg(C)}function st(C){return wi(C)?yg(C):ng(C)}function Yl(C){for(var $=C.length;$--&&ah.test(C.charAt($)););return $}var pg=wa(Vh);function vg(C){for(var $=ga.lastIndex=0;ga.test(C);)++$;return $}function yg(C){return C.match(ga)||[]}function _g(C){return C.match(Hh)||[]}var bg=function C($){$=$==null?Sn:ki.defaults(Sn.Object(),$,ki.pick(Sn,Gh));var L=$.Array,_e=$.Date,Le=$.Error,Je=$.Function,_n=$.Math,on=$.Object,Ta=$.RegExp,wg=$.String,Qn=$.TypeError,Rr=L.prototype,xg=Je.prototype,Ei=on.prototype,Dr=$["__core-js_shared__"],Br=xg.toString,tn=Ei.hasOwnProperty,kg=0,Xl=function(){var e=/[^.]+$/.exec(Dr&&Dr.keys&&Dr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Lr=Ei.toString,Eg=Br.call(on),Sg=Sn._,Tg=Ta("^"+Br.call(tn).replace(la,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Hr=Nl?$.Buffer:r,Ft=$.Symbol,qr=$.Uint8Array,jl=Hr?Hr.allocUnsafe:r,Fr=Vl(on.getPrototypeOf,on),Kl=on.create,Zl=Ei.propertyIsEnumerable,Gr=Rr.splice,Jl=Ft?Ft.isConcatSpreadable:r,Xi=Ft?Ft.iterator:r,ni=Ft?Ft.toStringTag:r,$r=function(){try{var e=ai(on,"defineProperty");return e({},"",{}),e}catch{}}(),Mg=$.clearTimeout!==Sn.clearTimeout&&$.clearTimeout,Cg=_e&&_e.now!==Sn.Date.now&&_e.now,Ig=$.setTimeout!==Sn.setTimeout&&$.setTimeout,Wr=_n.ceil,Ur=_n.floor,Ma=on.getOwnPropertySymbols,Ag=Hr?Hr.isBuffer:r,Ql=$.isFinite,Ng=Rr.join,zg=Vl(on.keys,on),bn=_n.max,Mn=_n.min,Pg=_e.now,Og=$.parseInt,eu=_n.random,Rg=Rr.reverse,Ca=ai($,"DataView"),ji=ai($,"Map"),Ia=ai($,"Promise"),Si=ai($,"Set"),Ki=ai($,"WeakMap"),Zi=ai(on,"create"),Vr=Ki&&new Ki,Ti={},Dg=si(Ca),Bg=si(ji),Lg=si(Ia),Hg=si(Si),qg=si(Ki),Yr=Ft?Ft.prototype:r,Ji=Yr?Yr.valueOf:r,nu=Yr?Yr.toString:r;function g(e){if(fn(e)&&!qe(e)&&!(e instanceof Xe)){if(e instanceof et)return e;if(tn.call(e,"__wrapped__"))return tc(e)}return new et(e)}var Mi=function(){function e(){}return function(t){if(!cn(t))return{};if(Kl)return Kl(t);e.prototype=t;var a=new e;return e.prototype=r,a}}();function Xr(){}function et(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}g.templateSettings={escape:eh,evaluate:nh,interpolate:cl,variable:"",imports:{_:g}},g.prototype=Xr.prototype,g.prototype.constructor=g,et.prototype=Mi(Xr.prototype),et.prototype.constructor=et;function Xe(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ee,this.__views__=[]}function Fg(){var e=new Xe(this.__wrapped__);return e.__actions__=Rn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Rn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Rn(this.__views__),e}function Gg(){if(this.__filtered__){var e=new Xe(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function $g(){var e=this.__wrapped__.value(),t=this.__dir__,a=qe(e),c=t<0,h=a?e.length:0,y=np(0,h,this.__views__),b=y.start,E=y.end,N=E-b,U=c?E:b-1,Y=this.__iteratees__,K=Y.length,he=0,we=Mn(N,this.__takeCount__);if(!a||!c&&h==N&&we==N)return Su(e,this.__actions__);var Ie=[];e:for(;N--&&he<we;){U+=t;for(var We=-1,Ae=e[U];++We<K;){var Ve=Y[We],je=Ve.iteratee,Yn=Ve.type,Nn=je(Ae);if(Yn==F)Ae=Nn;else if(!Nn){if(Yn==I)continue e;break e}}Ie[he++]=Ae}return Ie}Xe.prototype=Mi(Xr.prototype),Xe.prototype.constructor=Xe;function ti(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var c=e[t];this.set(c[0],c[1])}}function Wg(){this.__data__=Zi?Zi(null):{},this.size=0}function Ug(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Vg(e){var t=this.__data__;if(Zi){var a=t[e];return a===f?r:a}return tn.call(t,e)?t[e]:r}function Yg(e){var t=this.__data__;return Zi?t[e]!==r:tn.call(t,e)}function Xg(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=Zi&&t===r?f:t,this}ti.prototype.clear=Wg,ti.prototype.delete=Ug,ti.prototype.get=Vg,ti.prototype.has=Yg,ti.prototype.set=Xg;function kt(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var c=e[t];this.set(c[0],c[1])}}function jg(){this.__data__=[],this.size=0}function Kg(e){var t=this.__data__,a=jr(t,e);if(a<0)return!1;var c=t.length-1;return a==c?t.pop():Gr.call(t,a,1),--this.size,!0}function Zg(e){var t=this.__data__,a=jr(t,e);return a<0?r:t[a][1]}function Jg(e){return jr(this.__data__,e)>-1}function Qg(e,t){var a=this.__data__,c=jr(a,e);return c<0?(++this.size,a.push([e,t])):a[c][1]=t,this}kt.prototype.clear=jg,kt.prototype.delete=Kg,kt.prototype.get=Zg,kt.prototype.has=Jg,kt.prototype.set=Qg;function Et(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var c=e[t];this.set(c[0],c[1])}}function em(){this.size=0,this.__data__={hash:new ti,map:new(ji||kt),string:new ti}}function nm(e){var t=so(this,e).delete(e);return this.size-=t?1:0,t}function tm(e){return so(this,e).get(e)}function im(e){return so(this,e).has(e)}function rm(e,t){var a=so(this,e),c=a.size;return a.set(e,t),this.size+=a.size==c?0:1,this}Et.prototype.clear=em,Et.prototype.delete=nm,Et.prototype.get=tm,Et.prototype.has=im,Et.prototype.set=rm;function ii(e){var t=-1,a=e==null?0:e.length;for(this.__data__=new Et;++t<a;)this.add(e[t])}function om(e){return this.__data__.set(e,f),this}function am(e){return this.__data__.has(e)}ii.prototype.add=ii.prototype.push=om,ii.prototype.has=am;function lt(e){var t=this.__data__=new kt(e);this.size=t.size}function sm(){this.__data__=new kt,this.size=0}function lm(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a}function um(e){return this.__data__.get(e)}function cm(e){return this.__data__.has(e)}function dm(e,t){var a=this.__data__;if(a instanceof kt){var c=a.__data__;if(!ji||c.length<s-1)return c.push([e,t]),this.size=++a.size,this;a=this.__data__=new Et(c)}return a.set(e,t),this.size=a.size,this}lt.prototype.clear=sm,lt.prototype.delete=lm,lt.prototype.get=um,lt.prototype.has=cm,lt.prototype.set=dm;function tu(e,t){var a=qe(e),c=!a&&li(e),h=!a&&!c&&Vt(e),y=!a&&!c&&!h&&Ni(e),b=a||c||h||y,E=b?ka(e.length,wg):[],N=E.length;for(var U in e)(t||tn.call(e,U))&&!(b&&(U=="length"||h&&(U=="offset"||U=="parent")||y&&(U=="buffer"||U=="byteLength"||U=="byteOffset")||Ct(U,N)))&&E.push(U);return E}function iu(e){var t=e.length;return t?e[qa(0,t-1)]:r}function fm(e,t){return lo(Rn(e),ri(t,0,e.length))}function hm(e){return lo(Rn(e))}function Aa(e,t,a){(a!==r&&!ut(e[t],a)||a===r&&!(t in e))&&St(e,t,a)}function Qi(e,t,a){var c=e[t];(!(tn.call(e,t)&&ut(c,a))||a===r&&!(t in e))&&St(e,t,a)}function jr(e,t){for(var a=e.length;a--;)if(ut(e[a][0],t))return a;return-1}function gm(e,t,a,c){return Gt(e,function(h,y,b){t(c,h,a(h),b)}),c}function ru(e,t){return e&&pt(t,kn(t),e)}function mm(e,t){return e&&pt(t,Bn(t),e)}function St(e,t,a){t=="__proto__"&&$r?$r(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}function Na(e,t){for(var a=-1,c=t.length,h=L(c),y=e==null;++a<c;)h[a]=y?r:ds(e,t[a]);return h}function ri(e,t,a){return e===e&&(a!==r&&(e=e<=a?e:a),t!==r&&(e=e>=t?e:t)),e}function nt(e,t,a,c,h,y){var b,E=t&_,N=t&S,U=t&k;if(a&&(b=h?a(e,c,h,y):a(e)),b!==r)return b;if(!cn(e))return e;var Y=qe(e);if(Y){if(b=ip(e),!E)return Rn(e,b)}else{var K=Cn(e),he=K==X||K==j;if(Vt(e))return Cu(e,E);if(K==q||K==me||he&&!h){if(b=N||he?{}:Yu(e),!E)return N?Vm(e,mm(b,e)):Um(e,ru(b,e))}else{if(!an[K])return h?e:{};b=rp(e,K,E)}}y||(y=new lt);var we=y.get(e);if(we)return we;y.set(e,b),xc(e)?e.forEach(function(Ae){b.add(nt(Ae,t,a,Ae,e,y))}):bc(e)&&e.forEach(function(Ae,Ve){b.set(Ve,nt(Ae,t,a,Ve,e,y))});var Ie=U?N?Za:Ka:N?Bn:kn,We=Y?r:Ie(e);return Jn(We||e,function(Ae,Ve){We&&(Ve=Ae,Ae=e[Ve]),Qi(b,Ve,nt(Ae,t,a,Ve,e,y))}),b}function pm(e){var t=kn(e);return function(a){return ou(a,e,t)}}function ou(e,t,a){var c=a.length;if(e==null)return!c;for(e=on(e);c--;){var h=a[c],y=t[h],b=e[h];if(b===r&&!(h in e)||!y(b))return!1}return!0}function au(e,t,a){if(typeof e!="function")throw new Qn(l);return ar(function(){e.apply(r,a)},t)}function er(e,t,a,c){var h=-1,y=zr,b=!0,E=e.length,N=[],U=t.length;if(!E)return N;a&&(t=un(t,Wn(a))),c?(y=va,b=!1):t.length>=s&&(y=Yi,b=!1,t=new ii(t));e:for(;++h<E;){var Y=e[h],K=a==null?Y:a(Y);if(Y=c||Y!==0?Y:0,b&&K===K){for(var he=U;he--;)if(t[he]===K)continue e;N.push(Y)}else y(t,K,c)||N.push(Y)}return N}var Gt=Pu(mt),su=Pu(Pa,!0);function vm(e,t){var a=!0;return Gt(e,function(c,h,y){return a=!!t(c,h,y),a}),a}function Kr(e,t,a){for(var c=-1,h=e.length;++c<h;){var y=e[c],b=t(y);if(b!=null&&(E===r?b===b&&!Vn(b):a(b,E)))var E=b,N=y}return N}function ym(e,t,a,c){var h=e.length;for(a=Ge(a),a<0&&(a=-a>h?0:h+a),c=c===r||c>h?h:Ge(c),c<0&&(c+=h),c=a>c?0:Ec(c);a<c;)e[a++]=t;return e}function lu(e,t){var a=[];return Gt(e,function(c,h,y){t(c,h,y)&&a.push(c)}),a}function Tn(e,t,a,c,h){var y=-1,b=e.length;for(a||(a=ap),h||(h=[]);++y<b;){var E=e[y];t>0&&a(E)?t>1?Tn(E,t-1,a,c,h):Ht(h,E):c||(h[h.length]=E)}return h}var za=Ou(),uu=Ou(!0);function mt(e,t){return e&&za(e,t,kn)}function Pa(e,t){return e&&uu(e,t,kn)}function Zr(e,t){return Lt(t,function(a){return It(e[a])})}function oi(e,t){t=Wt(t,e);for(var a=0,c=t.length;e!=null&&a<c;)e=e[vt(t[a++])];return a&&a==c?e:r}function cu(e,t,a){var c=t(e);return qe(e)?c:Ht(c,a(e))}function In(e){return e==null?e===r?He:D:ni&&ni in on(e)?ep(e):hp(e)}function Oa(e,t){return e>t}function _m(e,t){return e!=null&&tn.call(e,t)}function bm(e,t){return e!=null&&t in on(e)}function wm(e,t,a){return e>=Mn(t,a)&&e<bn(t,a)}function Ra(e,t,a){for(var c=a?va:zr,h=e[0].length,y=e.length,b=y,E=L(y),N=1/0,U=[];b--;){var Y=e[b];b&&t&&(Y=un(Y,Wn(t))),N=Mn(Y.length,N),E[b]=!a&&(t||h>=120&&Y.length>=120)?new ii(b&&Y):r}Y=e[0];var K=-1,he=E[0];e:for(;++K<h&&U.length<N;){var we=Y[K],Ie=t?t(we):we;if(we=a||we!==0?we:0,!(he?Yi(he,Ie):c(U,Ie,a))){for(b=y;--b;){var We=E[b];if(!(We?Yi(We,Ie):c(e[b],Ie,a)))continue e}he&&he.push(Ie),U.push(we)}}return U}function xm(e,t,a,c){return mt(e,function(h,y,b){t(c,a(h),y,b)}),c}function nr(e,t,a){t=Wt(t,e),e=Zu(e,t);var c=e==null?e:e[vt(it(t))];return c==null?r:$n(c,e,a)}function du(e){return fn(e)&&In(e)==me}function km(e){return fn(e)&&In(e)==Pn}function Em(e){return fn(e)&&In(e)==se}function tr(e,t,a,c,h){return e===t?!0:e==null||t==null||!fn(e)&&!fn(t)?e!==e&&t!==t:Sm(e,t,a,c,tr,h)}function Sm(e,t,a,c,h,y){var b=qe(e),E=qe(t),N=b?De:Cn(e),U=E?De:Cn(t);N=N==me?q:N,U=U==me?q:U;var Y=N==q,K=U==q,he=N==U;if(he&&Vt(e)){if(!Vt(t))return!1;b=!0,Y=!1}if(he&&!Y)return y||(y=new lt),b||Ni(e)?Wu(e,t,a,c,h,y):Jm(e,t,N,a,c,h,y);if(!(a&P)){var we=Y&&tn.call(e,"__wrapped__"),Ie=K&&tn.call(t,"__wrapped__");if(we||Ie){var We=we?e.value():e,Ae=Ie?t.value():t;return y||(y=new lt),h(We,Ae,a,c,y)}}return he?(y||(y=new lt),Qm(e,t,a,c,h,y)):!1}function Tm(e){return fn(e)&&Cn(e)==v}function Da(e,t,a,c){var h=a.length,y=h,b=!c;if(e==null)return!y;for(e=on(e);h--;){var E=a[h];if(b&&E[2]?E[1]!==e[E[0]]:!(E[0]in e))return!1}for(;++h<y;){E=a[h];var N=E[0],U=e[N],Y=E[1];if(b&&E[2]){if(U===r&&!(N in e))return!1}else{var K=new lt;if(c)var he=c(U,Y,N,e,t,K);if(!(he===r?tr(Y,U,P|T,c,K):he))return!1}}return!0}function fu(e){if(!cn(e)||lp(e))return!1;var t=It(e)?Tg:ph;return t.test(si(e))}function Mm(e){return fn(e)&&In(e)==H}function Cm(e){return fn(e)&&Cn(e)==ve}function Im(e){return fn(e)&&mo(e.length)&&!!sn[In(e)]}function hu(e){return typeof e=="function"?e:e==null?Ln:typeof e=="object"?qe(e)?pu(e[0],e[1]):mu(e):Rc(e)}function Ba(e){if(!or(e))return zg(e);var t=[];for(var a in on(e))tn.call(e,a)&&a!="constructor"&&t.push(a);return t}function Am(e){if(!cn(e))return fp(e);var t=or(e),a=[];for(var c in e)c=="constructor"&&(t||!tn.call(e,c))||a.push(c);return a}function La(e,t){return e<t}function gu(e,t){var a=-1,c=Dn(e)?L(e.length):[];return Gt(e,function(h,y,b){c[++a]=t(h,y,b)}),c}function mu(e){var t=Qa(e);return t.length==1&&t[0][2]?ju(t[0][0],t[0][1]):function(a){return a===e||Da(a,e,t)}}function pu(e,t){return ns(e)&&Xu(t)?ju(vt(e),t):function(a){var c=ds(a,e);return c===r&&c===t?fs(a,e):tr(t,c,P|T)}}function Jr(e,t,a,c,h){e!==t&&za(t,function(y,b){if(h||(h=new lt),cn(y))Nm(e,t,b,a,Jr,c,h);else{var E=c?c(is(e,b),y,b+"",e,t,h):r;E===r&&(E=y),Aa(e,b,E)}},Bn)}function Nm(e,t,a,c,h,y,b){var E=is(e,a),N=is(t,a),U=b.get(N);if(U){Aa(e,a,U);return}var Y=y?y(E,N,a+"",e,t,b):r,K=Y===r;if(K){var he=qe(N),we=!he&&Vt(N),Ie=!he&&!we&&Ni(N);Y=N,he||we||Ie?qe(E)?Y=E:gn(E)?Y=Rn(E):we?(K=!1,Y=Cu(N,!0)):Ie?(K=!1,Y=Iu(N,!0)):Y=[]:sr(N)||li(N)?(Y=E,li(E)?Y=Sc(E):(!cn(E)||It(E))&&(Y=Yu(N))):K=!1}K&&(b.set(N,Y),h(Y,N,c,y,b),b.delete(N)),Aa(e,a,Y)}function vu(e,t){var a=e.length;if(a)return t+=t<0?a:0,Ct(t,a)?e[t]:r}function yu(e,t,a){t.length?t=un(t,function(y){return qe(y)?function(b){return oi(b,y.length===1?y[0]:y)}:y}):t=[Ln];var c=-1;t=un(t,Wn(Ce()));var h=gu(e,function(y,b,E){var N=un(t,function(U){return U(y)});return{criteria:N,index:++c,value:y}});return rg(h,function(y,b){return Wm(y,b,a)})}function zm(e,t){return _u(e,t,function(a,c){return fs(e,c)})}function _u(e,t,a){for(var c=-1,h=t.length,y={};++c<h;){var b=t[c],E=oi(e,b);a(E,b)&&ir(y,Wt(b,e),E)}return y}function Pm(e){return function(t){return oi(t,e)}}function Ha(e,t,a,c){var h=c?ig:bi,y=-1,b=t.length,E=e;for(e===t&&(t=Rn(t)),a&&(E=un(e,Wn(a)));++y<b;)for(var N=0,U=t[y],Y=a?a(U):U;(N=h(E,Y,N,c))>-1;)E!==e&&Gr.call(E,N,1),Gr.call(e,N,1);return e}function bu(e,t){for(var a=e?t.length:0,c=a-1;a--;){var h=t[a];if(a==c||h!==y){var y=h;Ct(h)?Gr.call(e,h,1):$a(e,h)}}return e}function qa(e,t){return e+Ur(eu()*(t-e+1))}function Om(e,t,a,c){for(var h=-1,y=bn(Wr((t-e)/(a||1)),0),b=L(y);y--;)b[c?y:++h]=e,e+=a;return b}function Fa(e,t){var a="";if(!e||t<1||t>Z)return a;do t%2&&(a+=e),t=Ur(t/2),t&&(e+=e);while(t);return a}function Ue(e,t){return rs(Ku(e,t,Ln),e+"")}function Rm(e){return iu(zi(e))}function Dm(e,t){var a=zi(e);return lo(a,ri(t,0,a.length))}function ir(e,t,a,c){if(!cn(e))return e;t=Wt(t,e);for(var h=-1,y=t.length,b=y-1,E=e;E!=null&&++h<y;){var N=vt(t[h]),U=a;if(N==="__proto__"||N==="constructor"||N==="prototype")return e;if(h!=b){var Y=E[N];U=c?c(Y,N,E):r,U===r&&(U=cn(Y)?Y:Ct(t[h+1])?[]:{})}Qi(E,N,U),E=E[N]}return e}var wu=Vr?function(e,t){return Vr.set(e,t),e}:Ln,Bm=$r?function(e,t){return $r(e,"toString",{configurable:!0,enumerable:!1,value:gs(t),writable:!0})}:Ln;function Lm(e){return lo(zi(e))}function tt(e,t,a){var c=-1,h=e.length;t<0&&(t=-t>h?0:h+t),a=a>h?h:a,a<0&&(a+=h),h=t>a?0:a-t>>>0,t>>>=0;for(var y=L(h);++c<h;)y[c]=e[c+t];return y}function Hm(e,t){var a;return Gt(e,function(c,h,y){return a=t(c,h,y),!a}),!!a}function Qr(e,t,a){var c=0,h=e==null?c:e.length;if(typeof t=="number"&&t===t&&h<=ge){for(;c<h;){var y=c+h>>>1,b=e[y];b!==null&&!Vn(b)&&(a?b<=t:b<t)?c=y+1:h=y}return h}return Ga(e,t,Ln,a)}function Ga(e,t,a,c){var h=0,y=e==null?0:e.length;if(y===0)return 0;t=a(t);for(var b=t!==t,E=t===null,N=Vn(t),U=t===r;h<y;){var Y=Ur((h+y)/2),K=a(e[Y]),he=K!==r,we=K===null,Ie=K===K,We=Vn(K);if(b)var Ae=c||Ie;else U?Ae=Ie&&(c||he):E?Ae=Ie&&he&&(c||!we):N?Ae=Ie&&he&&!we&&(c||!We):we||We?Ae=!1:Ae=c?K<=t:K<t;Ae?h=Y+1:y=Y}return Mn(y,Se)}function xu(e,t){for(var a=-1,c=e.length,h=0,y=[];++a<c;){var b=e[a],E=t?t(b):b;if(!a||!ut(E,N)){var N=E;y[h++]=b===0?0:b}}return y}function ku(e){return typeof e=="number"?e:Vn(e)?fe:+e}function Un(e){if(typeof e=="string")return e;if(qe(e))return un(e,Un)+"";if(Vn(e))return nu?nu.call(e):"";var t=e+"";return t=="0"&&1/e==-V?"-0":t}function $t(e,t,a){var c=-1,h=zr,y=e.length,b=!0,E=[],N=E;if(a)b=!1,h=va;else if(y>=s){var U=t?null:Km(e);if(U)return Or(U);b=!1,h=Yi,N=new ii}else N=t?[]:E;e:for(;++c<y;){var Y=e[c],K=t?t(Y):Y;if(Y=a||Y!==0?Y:0,b&&K===K){for(var he=N.length;he--;)if(N[he]===K)continue e;t&&N.push(K),E.push(Y)}else h(N,K,a)||(N!==E&&N.push(K),E.push(Y))}return E}function $a(e,t){return t=Wt(t,e),e=Zu(e,t),e==null||delete e[vt(it(t))]}function Eu(e,t,a,c){return ir(e,t,a(oi(e,t)),c)}function eo(e,t,a,c){for(var h=e.length,y=c?h:-1;(c?y--:++y<h)&&t(e[y],y,e););return a?tt(e,c?0:y,c?y+1:h):tt(e,c?y+1:0,c?h:y)}function Su(e,t){var a=e;return a instanceof Xe&&(a=a.value()),ya(t,function(c,h){return h.func.apply(h.thisArg,Ht([c],h.args))},a)}function Wa(e,t,a){var c=e.length;if(c<2)return c?$t(e[0]):[];for(var h=-1,y=L(c);++h<c;)for(var b=e[h],E=-1;++E<c;)E!=h&&(y[h]=er(y[h]||b,e[E],t,a));return $t(Tn(y,1),t,a)}function Tu(e,t,a){for(var c=-1,h=e.length,y=t.length,b={};++c<h;){var E=c<y?t[c]:r;a(b,e[c],E)}return b}function Ua(e){return gn(e)?e:[]}function Va(e){return typeof e=="function"?e:Ln}function Wt(e,t){return qe(e)?e:ns(e,t)?[e]:nc(nn(e))}var qm=Ue;function Ut(e,t,a){var c=e.length;return a=a===r?c:a,!t&&a>=c?e:tt(e,t,a)}var Mu=Mg||function(e){return Sn.clearTimeout(e)};function Cu(e,t){if(t)return e.slice();var a=e.length,c=jl?jl(a):new e.constructor(a);return e.copy(c),c}function Ya(e){var t=new e.constructor(e.byteLength);return new qr(t).set(new qr(e)),t}function Fm(e,t){var a=t?Ya(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}function Gm(e){var t=new e.constructor(e.source,dl.exec(e));return t.lastIndex=e.lastIndex,t}function $m(e){return Ji?on(Ji.call(e)):{}}function Iu(e,t){var a=t?Ya(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}function Au(e,t){if(e!==t){var a=e!==r,c=e===null,h=e===e,y=Vn(e),b=t!==r,E=t===null,N=t===t,U=Vn(t);if(!E&&!U&&!y&&e>t||y&&b&&N&&!E&&!U||c&&b&&N||!a&&N||!h)return 1;if(!c&&!y&&!U&&e<t||U&&a&&h&&!c&&!y||E&&a&&h||!b&&h||!N)return-1}return 0}function Wm(e,t,a){for(var c=-1,h=e.criteria,y=t.criteria,b=h.length,E=a.length;++c<b;){var N=Au(h[c],y[c]);if(N){if(c>=E)return N;var U=a[c];return N*(U=="desc"?-1:1)}}return e.index-t.index}function Nu(e,t,a,c){for(var h=-1,y=e.length,b=a.length,E=-1,N=t.length,U=bn(y-b,0),Y=L(N+U),K=!c;++E<N;)Y[E]=t[E];for(;++h<b;)(K||h<y)&&(Y[a[h]]=e[h]);for(;U--;)Y[E++]=e[h++];return Y}function zu(e,t,a,c){for(var h=-1,y=e.length,b=-1,E=a.length,N=-1,U=t.length,Y=bn(y-E,0),K=L(Y+U),he=!c;++h<Y;)K[h]=e[h];for(var we=h;++N<U;)K[we+N]=t[N];for(;++b<E;)(he||h<y)&&(K[we+a[b]]=e[h++]);return K}function Rn(e,t){var a=-1,c=e.length;for(t||(t=L(c));++a<c;)t[a]=e[a];return t}function pt(e,t,a,c){var h=!a;a||(a={});for(var y=-1,b=t.length;++y<b;){var E=t[y],N=c?c(a[E],e[E],E,a,e):r;N===r&&(N=e[E]),h?St(a,E,N):Qi(a,E,N)}return a}function Um(e,t){return pt(e,es(e),t)}function Vm(e,t){return pt(e,Uu(e),t)}function no(e,t){return function(a,c){var h=qe(a)?Zh:gm,y=t?t():{};return h(a,e,Ce(c,2),y)}}function Ci(e){return Ue(function(t,a){var c=-1,h=a.length,y=h>1?a[h-1]:r,b=h>2?a[2]:r;for(y=e.length>3&&typeof y=="function"?(h--,y):r,b&&An(a[0],a[1],b)&&(y=h<3?r:y,h=1),t=on(t);++c<h;){var E=a[c];E&&e(t,E,c,y)}return t})}function Pu(e,t){return function(a,c){if(a==null)return a;if(!Dn(a))return e(a,c);for(var h=a.length,y=t?h:-1,b=on(a);(t?y--:++y<h)&&c(b[y],y,b)!==!1;);return a}}function Ou(e){return function(t,a,c){for(var h=-1,y=on(t),b=c(t),E=b.length;E--;){var N=b[e?E:++h];if(a(y[N],N,y)===!1)break}return t}}function Ym(e,t,a){var c=t&A,h=rr(e);function y(){var b=this&&this!==Sn&&this instanceof y?h:e;return b.apply(c?a:this,arguments)}return y}function Ru(e){return function(t){t=nn(t);var a=wi(t)?st(t):r,c=a?a[0]:t.charAt(0),h=a?Ut(a,1).join(""):t.slice(1);return c[e]()+h}}function Ii(e){return function(t){return ya(Pc(zc(t).replace(Bh,"")),e,"")}}function rr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var a=Mi(e.prototype),c=e.apply(a,t);return cn(c)?c:a}}function Xm(e,t,a){var c=rr(e);function h(){for(var y=arguments.length,b=L(y),E=y,N=Ai(h);E--;)b[E]=arguments[E];var U=y<3&&b[0]!==N&&b[y-1]!==N?[]:qt(b,N);if(y-=U.length,y<a)return qu(e,t,to,h.placeholder,r,b,U,r,r,a-y);var Y=this&&this!==Sn&&this instanceof h?c:e;return $n(Y,this,b)}return h}function Du(e){return function(t,a,c){var h=on(t);if(!Dn(t)){var y=Ce(a,3);t=kn(t),a=function(E){return y(h[E],E,h)}}var b=e(t,a,c);return b>-1?h[y?t[b]:b]:r}}function Bu(e){return Mt(function(t){var a=t.length,c=a,h=et.prototype.thru;for(e&&t.reverse();c--;){var y=t[c];if(typeof y!="function")throw new Qn(l);if(h&&!b&&ao(y)=="wrapper")var b=new et([],!0)}for(c=b?c:a;++c<a;){y=t[c];var E=ao(y),N=E=="wrapper"?Ja(y):r;N&&ts(N[0])&&N[1]==(te|B|Q|de)&&!N[4].length&&N[9]==1?b=b[ao(N[0])].apply(b,N[3]):b=y.length==1&&ts(y)?b[E]():b.thru(y)}return function(){var U=arguments,Y=U[0];if(b&&U.length==1&&qe(Y))return b.plant(Y).value();for(var K=0,he=a?t[K].apply(this,U):Y;++K<a;)he=t[K].call(this,he);return he}})}function to(e,t,a,c,h,y,b,E,N,U){var Y=t&te,K=t&A,he=t&z,we=t&(B|O),Ie=t&ye,We=he?r:rr(e);function Ae(){for(var Ve=arguments.length,je=L(Ve),Yn=Ve;Yn--;)je[Yn]=arguments[Yn];if(we)var Nn=Ai(Ae),Xn=ag(je,Nn);if(c&&(je=Nu(je,c,h,we)),y&&(je=zu(je,y,b,we)),Ve-=Xn,we&&Ve<U){var mn=qt(je,Nn);return qu(e,t,to,Ae.placeholder,a,je,mn,E,N,U-Ve)}var ct=K?a:this,Nt=he?ct[e]:e;return Ve=je.length,E?je=gp(je,E):Ie&&Ve>1&&je.reverse(),Y&&N<Ve&&(je.length=N),this&&this!==Sn&&this instanceof Ae&&(Nt=We||rr(Nt)),Nt.apply(ct,je)}return Ae}function Lu(e,t){return function(a,c){return xm(a,e,t(c),{})}}function io(e,t){return function(a,c){var h;if(a===r&&c===r)return t;if(a!==r&&(h=a),c!==r){if(h===r)return c;typeof a=="string"||typeof c=="string"?(a=Un(a),c=Un(c)):(a=ku(a),c=ku(c)),h=e(a,c)}return h}}function Xa(e){return Mt(function(t){return t=un(t,Wn(Ce())),Ue(function(a){var c=this;return e(t,function(h){return $n(h,c,a)})})})}function ro(e,t){t=t===r?" ":Un(t);var a=t.length;if(a<2)return a?Fa(t,e):t;var c=Fa(t,Wr(e/xi(t)));return wi(t)?Ut(st(c),0,e).join(""):c.slice(0,e)}function jm(e,t,a,c){var h=t&A,y=rr(e);function b(){for(var E=-1,N=arguments.length,U=-1,Y=c.length,K=L(Y+N),he=this&&this!==Sn&&this instanceof b?y:e;++U<Y;)K[U]=c[U];for(;N--;)K[U++]=arguments[++E];return $n(he,h?a:this,K)}return b}function Hu(e){return function(t,a,c){return c&&typeof c!="number"&&An(t,a,c)&&(a=c=r),t=At(t),a===r?(a=t,t=0):a=At(a),c=c===r?t<a?1:-1:At(c),Om(t,a,c,e)}}function oo(e){return function(t,a){return typeof t=="string"&&typeof a=="string"||(t=rt(t),a=rt(a)),e(t,a)}}function qu(e,t,a,c,h,y,b,E,N,U){var Y=t&B,K=Y?b:r,he=Y?r:b,we=Y?y:r,Ie=Y?r:y;t|=Y?Q:ue,t&=~(Y?ue:Q),t&x||(t&=~(A|z));var We=[e,t,h,we,K,Ie,he,E,N,U],Ae=a.apply(r,We);return ts(e)&&Ju(Ae,We),Ae.placeholder=c,Qu(Ae,e,t)}function ja(e){var t=_n[e];return function(a,c){if(a=rt(a),c=c==null?0:Mn(Ge(c),292),c&&Ql(a)){var h=(nn(a)+"e").split("e"),y=t(h[0]+"e"+(+h[1]+c));return h=(nn(y)+"e").split("e"),+(h[0]+"e"+(+h[1]-c))}return t(a)}}var Km=Si&&1/Or(new Si([,-0]))[1]==V?function(e){return new Si(e)}:vs;function Fu(e){return function(t){var a=Cn(t);return a==v?Sa(t):a==ve?hg(t):og(t,e(t))}}function Tt(e,t,a,c,h,y,b,E){var N=t&z;if(!N&&typeof e!="function")throw new Qn(l);var U=c?c.length:0;if(U||(t&=~(Q|ue),c=h=r),b=b===r?b:bn(Ge(b),0),E=E===r?E:Ge(E),U-=h?h.length:0,t&ue){var Y=c,K=h;c=h=r}var he=N?r:Ja(e),we=[e,t,a,c,h,Y,K,y,b,E];if(he&&dp(we,he),e=we[0],t=we[1],a=we[2],c=we[3],h=we[4],E=we[9]=we[9]===r?N?0:e.length:bn(we[9]-U,0),!E&&t&(B|O)&&(t&=~(B|O)),!t||t==A)var Ie=Ym(e,t,a);else t==B||t==O?Ie=Xm(e,t,E):(t==Q||t==(A|Q))&&!h.length?Ie=jm(e,t,a,c):Ie=to.apply(r,we);var We=he?wu:Ju;return Qu(We(Ie,we),e,t)}function Gu(e,t,a,c){return e===r||ut(e,Ei[a])&&!tn.call(c,a)?t:e}function $u(e,t,a,c,h,y){return cn(e)&&cn(t)&&(y.set(t,e),Jr(e,t,r,$u,y),y.delete(t)),e}function Zm(e){return sr(e)?r:e}function Wu(e,t,a,c,h,y){var b=a&P,E=e.length,N=t.length;if(E!=N&&!(b&&N>E))return!1;var U=y.get(e),Y=y.get(t);if(U&&Y)return U==t&&Y==e;var K=-1,he=!0,we=a&T?new ii:r;for(y.set(e,t),y.set(t,e);++K<E;){var Ie=e[K],We=t[K];if(c)var Ae=b?c(We,Ie,K,t,e,y):c(Ie,We,K,e,t,y);if(Ae!==r){if(Ae)continue;he=!1;break}if(we){if(!_a(t,function(Ve,je){if(!Yi(we,je)&&(Ie===Ve||h(Ie,Ve,a,c,y)))return we.push(je)})){he=!1;break}}else if(!(Ie===We||h(Ie,We,a,c,y))){he=!1;break}}return y.delete(e),y.delete(t),he}function Jm(e,t,a,c,h,y,b){switch(a){case On:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Pn:return!(e.byteLength!=t.byteLength||!y(new qr(e),new qr(t)));case oe:case se:case w:return ut(+e,+t);case G:return e.name==t.name&&e.message==t.message;case H:case xe:return e==t+"";case v:var E=Sa;case ve:var N=c&P;if(E||(E=Or),e.size!=t.size&&!N)return!1;var U=b.get(e);if(U)return U==t;c|=T,b.set(e,t);var Y=Wu(E(e),E(t),c,h,y,b);return b.delete(e),Y;case Fe:if(Ji)return Ji.call(e)==Ji.call(t)}return!1}function Qm(e,t,a,c,h,y){var b=a&P,E=Ka(e),N=E.length,U=Ka(t),Y=U.length;if(N!=Y&&!b)return!1;for(var K=N;K--;){var he=E[K];if(!(b?he in t:tn.call(t,he)))return!1}var we=y.get(e),Ie=y.get(t);if(we&&Ie)return we==t&&Ie==e;var We=!0;y.set(e,t),y.set(t,e);for(var Ae=b;++K<N;){he=E[K];var Ve=e[he],je=t[he];if(c)var Yn=b?c(je,Ve,he,t,e,y):c(Ve,je,he,e,t,y);if(!(Yn===r?Ve===je||h(Ve,je,a,c,y):Yn)){We=!1;break}Ae||(Ae=he=="constructor")}if(We&&!Ae){var Nn=e.constructor,Xn=t.constructor;Nn!=Xn&&"constructor"in e&&"constructor"in t&&!(typeof Nn=="function"&&Nn instanceof Nn&&typeof Xn=="function"&&Xn instanceof Xn)&&(We=!1)}return y.delete(e),y.delete(t),We}function Mt(e){return rs(Ku(e,r,oc),e+"")}function Ka(e){return cu(e,kn,es)}function Za(e){return cu(e,Bn,Uu)}var Ja=Vr?function(e){return Vr.get(e)}:vs;function ao(e){for(var t=e.name+"",a=Ti[t],c=tn.call(Ti,t)?a.length:0;c--;){var h=a[c],y=h.func;if(y==null||y==e)return h.name}return t}function Ai(e){var t=tn.call(g,"placeholder")?g:e;return t.placeholder}function Ce(){var e=g.iteratee||ms;return e=e===ms?hu:e,arguments.length?e(arguments[0],arguments[1]):e}function so(e,t){var a=e.__data__;return sp(t)?a[typeof t=="string"?"string":"hash"]:a.map}function Qa(e){for(var t=kn(e),a=t.length;a--;){var c=t[a],h=e[c];t[a]=[c,h,Xu(h)]}return t}function ai(e,t){var a=cg(e,t);return fu(a)?a:r}function ep(e){var t=tn.call(e,ni),a=e[ni];try{e[ni]=r;var c=!0}catch{}var h=Lr.call(e);return c&&(t?e[ni]=a:delete e[ni]),h}var es=Ma?function(e){return e==null?[]:(e=on(e),Lt(Ma(e),function(t){return Zl.call(e,t)}))}:ys,Uu=Ma?function(e){for(var t=[];e;)Ht(t,es(e)),e=Fr(e);return t}:ys,Cn=In;(Ca&&Cn(new Ca(new ArrayBuffer(1)))!=On||ji&&Cn(new ji)!=v||Ia&&Cn(Ia.resolve())!=le||Si&&Cn(new Si)!=ve||Ki&&Cn(new Ki)!=Ke)&&(Cn=function(e){var t=In(e),a=t==q?e.constructor:r,c=a?si(a):"";if(c)switch(c){case Dg:return On;case Bg:return v;case Lg:return le;case Hg:return ve;case qg:return Ke}return t});function np(e,t,a){for(var c=-1,h=a.length;++c<h;){var y=a[c],b=y.size;switch(y.type){case"drop":e+=b;break;case"dropRight":t-=b;break;case"take":t=Mn(t,e+b);break;case"takeRight":e=bn(e,t-b);break}}return{start:e,end:t}}function tp(e){var t=e.match(lh);return t?t[1].split(uh):[]}function Vu(e,t,a){t=Wt(t,e);for(var c=-1,h=t.length,y=!1;++c<h;){var b=vt(t[c]);if(!(y=e!=null&&a(e,b)))break;e=e[b]}return y||++c!=h?y:(h=e==null?0:e.length,!!h&&mo(h)&&Ct(b,h)&&(qe(e)||li(e)))}function ip(e){var t=e.length,a=new e.constructor(t);return t&&typeof e[0]=="string"&&tn.call(e,"index")&&(a.index=e.index,a.input=e.input),a}function Yu(e){return typeof e.constructor=="function"&&!or(e)?Mi(Fr(e)):{}}function rp(e,t,a){var c=e.constructor;switch(t){case Pn:return Ya(e);case oe:case se:return new c(+e);case On:return Fm(e,a);case Gn:case xt:case Ui:case Vi:case ia:case ra:case oa:case aa:case sa:return Iu(e,a);case v:return new c;case w:case xe:return new c(e);case H:return Gm(e);case ve:return new c;case Fe:return $m(e)}}function op(e,t){var a=t.length;if(!a)return e;var c=a-1;return t[c]=(a>1?"& ":"")+t[c],t=t.join(a>2?", ":" "),e.replace(sh,`{
/* [wrapped with `+t+`] */
`)}function ap(e){return qe(e)||li(e)||!!(Jl&&e&&e[Jl])}function Ct(e,t){var a=typeof e;return t=t==null?Z:t,!!t&&(a=="number"||a!="symbol"&&yh.test(e))&&e>-1&&e%1==0&&e<t}function An(e,t,a){if(!cn(a))return!1;var c=typeof t;return(c=="number"?Dn(a)&&Ct(t,a.length):c=="string"&&t in a)?ut(a[t],e):!1}function ns(e,t){if(qe(e))return!1;var a=typeof e;return a=="number"||a=="symbol"||a=="boolean"||e==null||Vn(e)?!0:ih.test(e)||!th.test(e)||t!=null&&e in on(t)}function sp(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function ts(e){var t=ao(e),a=g[t];if(typeof a!="function"||!(t in Xe.prototype))return!1;if(e===a)return!0;var c=Ja(a);return!!c&&e===c[0]}function lp(e){return!!Xl&&Xl in e}var up=Dr?It:_s;function or(e){var t=e&&e.constructor,a=typeof t=="function"&&t.prototype||Ei;return e===a}function Xu(e){return e===e&&!cn(e)}function ju(e,t){return function(a){return a==null?!1:a[e]===t&&(t!==r||e in on(a))}}function cp(e){var t=ho(e,function(c){return a.size===m&&a.clear(),c}),a=t.cache;return t}function dp(e,t){var a=e[1],c=t[1],h=a|c,y=h<(A|z|te),b=c==te&&a==B||c==te&&a==de&&e[7].length<=t[8]||c==(te|de)&&t[7].length<=t[8]&&a==B;if(!(y||b))return e;c&A&&(e[2]=t[2],h|=a&A?0:x);var E=t[3];if(E){var N=e[3];e[3]=N?Nu(N,E,t[4]):E,e[4]=N?qt(e[3],p):t[4]}return E=t[5],E&&(N=e[5],e[5]=N?zu(N,E,t[6]):E,e[6]=N?qt(e[5],p):t[6]),E=t[7],E&&(e[7]=E),c&te&&(e[8]=e[8]==null?t[8]:Mn(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=h,e}function fp(e){var t=[];if(e!=null)for(var a in on(e))t.push(a);return t}function hp(e){return Lr.call(e)}function Ku(e,t,a){return t=bn(t===r?e.length-1:t,0),function(){for(var c=arguments,h=-1,y=bn(c.length-t,0),b=L(y);++h<y;)b[h]=c[t+h];h=-1;for(var E=L(t+1);++h<t;)E[h]=c[h];return E[t]=a(b),$n(e,this,E)}}function Zu(e,t){return t.length<2?e:oi(e,tt(t,0,-1))}function gp(e,t){for(var a=e.length,c=Mn(t.length,a),h=Rn(e);c--;){var y=t[c];e[c]=Ct(y,a)?h[y]:r}return e}function is(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Ju=ec(wu),ar=Ig||function(e,t){return Sn.setTimeout(e,t)},rs=ec(Bm);function Qu(e,t,a){var c=t+"";return rs(e,op(c,mp(tp(c),a)))}function ec(e){var t=0,a=0;return function(){var c=Pg(),h=Ne-(c-a);if(a=c,h>0){if(++t>=be)return arguments[0]}else t=0;return e.apply(r,arguments)}}function lo(e,t){var a=-1,c=e.length,h=c-1;for(t=t===r?c:t;++a<t;){var y=qa(a,h),b=e[y];e[y]=e[a],e[a]=b}return e.length=t,e}var nc=cp(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(rh,function(a,c,h,y){t.push(h?y.replace(fh,"$1"):c||a)}),t});function vt(e){if(typeof e=="string"||Vn(e))return e;var t=e+"";return t=="0"&&1/e==-V?"-0":t}function si(e){if(e!=null){try{return Br.call(e)}catch{}try{return e+""}catch{}}return""}function mp(e,t){return Jn(ce,function(a){var c="_."+a[0];t&a[1]&&!zr(e,c)&&e.push(c)}),e.sort()}function tc(e){if(e instanceof Xe)return e.clone();var t=new et(e.__wrapped__,e.__chain__);return t.__actions__=Rn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function pp(e,t,a){(a?An(e,t,a):t===r)?t=1:t=bn(Ge(t),0);var c=e==null?0:e.length;if(!c||t<1)return[];for(var h=0,y=0,b=L(Wr(c/t));h<c;)b[y++]=tt(e,h,h+=t);return b}function vp(e){for(var t=-1,a=e==null?0:e.length,c=0,h=[];++t<a;){var y=e[t];y&&(h[c++]=y)}return h}function yp(){var e=arguments.length;if(!e)return[];for(var t=L(e-1),a=arguments[0],c=e;c--;)t[c-1]=arguments[c];return Ht(qe(a)?Rn(a):[a],Tn(t,1))}var _p=Ue(function(e,t){return gn(e)?er(e,Tn(t,1,gn,!0)):[]}),bp=Ue(function(e,t){var a=it(t);return gn(a)&&(a=r),gn(e)?er(e,Tn(t,1,gn,!0),Ce(a,2)):[]}),wp=Ue(function(e,t){var a=it(t);return gn(a)&&(a=r),gn(e)?er(e,Tn(t,1,gn,!0),r,a):[]});function xp(e,t,a){var c=e==null?0:e.length;return c?(t=a||t===r?1:Ge(t),tt(e,t<0?0:t,c)):[]}function kp(e,t,a){var c=e==null?0:e.length;return c?(t=a||t===r?1:Ge(t),t=c-t,tt(e,0,t<0?0:t)):[]}function Ep(e,t){return e&&e.length?eo(e,Ce(t,3),!0,!0):[]}function Sp(e,t){return e&&e.length?eo(e,Ce(t,3),!0):[]}function Tp(e,t,a,c){var h=e==null?0:e.length;return h?(a&&typeof a!="number"&&An(e,t,a)&&(a=0,c=h),ym(e,t,a,c)):[]}function ic(e,t,a){var c=e==null?0:e.length;if(!c)return-1;var h=a==null?0:Ge(a);return h<0&&(h=bn(c+h,0)),Pr(e,Ce(t,3),h)}function rc(e,t,a){var c=e==null?0:e.length;if(!c)return-1;var h=c-1;return a!==r&&(h=Ge(a),h=a<0?bn(c+h,0):Mn(h,c-1)),Pr(e,Ce(t,3),h,!0)}function oc(e){var t=e==null?0:e.length;return t?Tn(e,1):[]}function Mp(e){var t=e==null?0:e.length;return t?Tn(e,V):[]}function Cp(e,t){var a=e==null?0:e.length;return a?(t=t===r?1:Ge(t),Tn(e,t)):[]}function Ip(e){for(var t=-1,a=e==null?0:e.length,c={};++t<a;){var h=e[t];c[h[0]]=h[1]}return c}function ac(e){return e&&e.length?e[0]:r}function Ap(e,t,a){var c=e==null?0:e.length;if(!c)return-1;var h=a==null?0:Ge(a);return h<0&&(h=bn(c+h,0)),bi(e,t,h)}function Np(e){var t=e==null?0:e.length;return t?tt(e,0,-1):[]}var zp=Ue(function(e){var t=un(e,Ua);return t.length&&t[0]===e[0]?Ra(t):[]}),Pp=Ue(function(e){var t=it(e),a=un(e,Ua);return t===it(a)?t=r:a.pop(),a.length&&a[0]===e[0]?Ra(a,Ce(t,2)):[]}),Op=Ue(function(e){var t=it(e),a=un(e,Ua);return t=typeof t=="function"?t:r,t&&a.pop(),a.length&&a[0]===e[0]?Ra(a,r,t):[]});function Rp(e,t){return e==null?"":Ng.call(e,t)}function it(e){var t=e==null?0:e.length;return t?e[t-1]:r}function Dp(e,t,a){var c=e==null?0:e.length;if(!c)return-1;var h=c;return a!==r&&(h=Ge(a),h=h<0?bn(c+h,0):Mn(h,c-1)),t===t?mg(e,t,h):Pr(e,ql,h,!0)}function Bp(e,t){return e&&e.length?vu(e,Ge(t)):r}var Lp=Ue(sc);function sc(e,t){return e&&e.length&&t&&t.length?Ha(e,t):e}function Hp(e,t,a){return e&&e.length&&t&&t.length?Ha(e,t,Ce(a,2)):e}function qp(e,t,a){return e&&e.length&&t&&t.length?Ha(e,t,r,a):e}var Fp=Mt(function(e,t){var a=e==null?0:e.length,c=Na(e,t);return bu(e,un(t,function(h){return Ct(h,a)?+h:h}).sort(Au)),c});function Gp(e,t){var a=[];if(!(e&&e.length))return a;var c=-1,h=[],y=e.length;for(t=Ce(t,3);++c<y;){var b=e[c];t(b,c,e)&&(a.push(b),h.push(c))}return bu(e,h),a}function os(e){return e==null?e:Rg.call(e)}function $p(e,t,a){var c=e==null?0:e.length;return c?(a&&typeof a!="number"&&An(e,t,a)?(t=0,a=c):(t=t==null?0:Ge(t),a=a===r?c:Ge(a)),tt(e,t,a)):[]}function Wp(e,t){return Qr(e,t)}function Up(e,t,a){return Ga(e,t,Ce(a,2))}function Vp(e,t){var a=e==null?0:e.length;if(a){var c=Qr(e,t);if(c<a&&ut(e[c],t))return c}return-1}function Yp(e,t){return Qr(e,t,!0)}function Xp(e,t,a){return Ga(e,t,Ce(a,2),!0)}function jp(e,t){var a=e==null?0:e.length;if(a){var c=Qr(e,t,!0)-1;if(ut(e[c],t))return c}return-1}function Kp(e){return e&&e.length?xu(e):[]}function Zp(e,t){return e&&e.length?xu(e,Ce(t,2)):[]}function Jp(e){var t=e==null?0:e.length;return t?tt(e,1,t):[]}function Qp(e,t,a){return e&&e.length?(t=a||t===r?1:Ge(t),tt(e,0,t<0?0:t)):[]}function ev(e,t,a){var c=e==null?0:e.length;return c?(t=a||t===r?1:Ge(t),t=c-t,tt(e,t<0?0:t,c)):[]}function nv(e,t){return e&&e.length?eo(e,Ce(t,3),!1,!0):[]}function tv(e,t){return e&&e.length?eo(e,Ce(t,3)):[]}var iv=Ue(function(e){return $t(Tn(e,1,gn,!0))}),rv=Ue(function(e){var t=it(e);return gn(t)&&(t=r),$t(Tn(e,1,gn,!0),Ce(t,2))}),ov=Ue(function(e){var t=it(e);return t=typeof t=="function"?t:r,$t(Tn(e,1,gn,!0),r,t)});function av(e){return e&&e.length?$t(e):[]}function sv(e,t){return e&&e.length?$t(e,Ce(t,2)):[]}function lv(e,t){return t=typeof t=="function"?t:r,e&&e.length?$t(e,r,t):[]}function as(e){if(!(e&&e.length))return[];var t=0;return e=Lt(e,function(a){if(gn(a))return t=bn(a.length,t),!0}),ka(t,function(a){return un(e,ba(a))})}function lc(e,t){if(!(e&&e.length))return[];var a=as(e);return t==null?a:un(a,function(c){return $n(t,r,c)})}var uv=Ue(function(e,t){return gn(e)?er(e,t):[]}),cv=Ue(function(e){return Wa(Lt(e,gn))}),dv=Ue(function(e){var t=it(e);return gn(t)&&(t=r),Wa(Lt(e,gn),Ce(t,2))}),fv=Ue(function(e){var t=it(e);return t=typeof t=="function"?t:r,Wa(Lt(e,gn),r,t)}),hv=Ue(as);function gv(e,t){return Tu(e||[],t||[],Qi)}function mv(e,t){return Tu(e||[],t||[],ir)}var pv=Ue(function(e){var t=e.length,a=t>1?e[t-1]:r;return a=typeof a=="function"?(e.pop(),a):r,lc(e,a)});function uc(e){var t=g(e);return t.__chain__=!0,t}function vv(e,t){return t(e),e}function uo(e,t){return t(e)}var yv=Mt(function(e){var t=e.length,a=t?e[0]:0,c=this.__wrapped__,h=function(y){return Na(y,e)};return t>1||this.__actions__.length||!(c instanceof Xe)||!Ct(a)?this.thru(h):(c=c.slice(a,+a+(t?1:0)),c.__actions__.push({func:uo,args:[h],thisArg:r}),new et(c,this.__chain__).thru(function(y){return t&&!y.length&&y.push(r),y}))});function _v(){return uc(this)}function bv(){return new et(this.value(),this.__chain__)}function wv(){this.__values__===r&&(this.__values__=kc(this.value()));var e=this.__index__>=this.__values__.length,t=e?r:this.__values__[this.__index__++];return{done:e,value:t}}function xv(){return this}function kv(e){for(var t,a=this;a instanceof Xr;){var c=tc(a);c.__index__=0,c.__values__=r,t?h.__wrapped__=c:t=c;var h=c;a=a.__wrapped__}return h.__wrapped__=e,t}function Ev(){var e=this.__wrapped__;if(e instanceof Xe){var t=e;return this.__actions__.length&&(t=new Xe(this)),t=t.reverse(),t.__actions__.push({func:uo,args:[os],thisArg:r}),new et(t,this.__chain__)}return this.thru(os)}function Sv(){return Su(this.__wrapped__,this.__actions__)}var Tv=no(function(e,t,a){tn.call(e,a)?++e[a]:St(e,a,1)});function Mv(e,t,a){var c=qe(e)?Ll:vm;return a&&An(e,t,a)&&(t=r),c(e,Ce(t,3))}function Cv(e,t){var a=qe(e)?Lt:lu;return a(e,Ce(t,3))}var Iv=Du(ic),Av=Du(rc);function Nv(e,t){return Tn(co(e,t),1)}function zv(e,t){return Tn(co(e,t),V)}function Pv(e,t,a){return a=a===r?1:Ge(a),Tn(co(e,t),a)}function cc(e,t){var a=qe(e)?Jn:Gt;return a(e,Ce(t,3))}function dc(e,t){var a=qe(e)?Jh:su;return a(e,Ce(t,3))}var Ov=no(function(e,t,a){tn.call(e,a)?e[a].push(t):St(e,a,[t])});function Rv(e,t,a,c){e=Dn(e)?e:zi(e),a=a&&!c?Ge(a):0;var h=e.length;return a<0&&(a=bn(h+a,0)),po(e)?a<=h&&e.indexOf(t,a)>-1:!!h&&bi(e,t,a)>-1}var Dv=Ue(function(e,t,a){var c=-1,h=typeof t=="function",y=Dn(e)?L(e.length):[];return Gt(e,function(b){y[++c]=h?$n(t,b,a):nr(b,t,a)}),y}),Bv=no(function(e,t,a){St(e,a,t)});function co(e,t){var a=qe(e)?un:gu;return a(e,Ce(t,3))}function Lv(e,t,a,c){return e==null?[]:(qe(t)||(t=t==null?[]:[t]),a=c?r:a,qe(a)||(a=a==null?[]:[a]),yu(e,t,a))}var Hv=no(function(e,t,a){e[a?0:1].push(t)},function(){return[[],[]]});function qv(e,t,a){var c=qe(e)?ya:Gl,h=arguments.length<3;return c(e,Ce(t,4),a,h,Gt)}function Fv(e,t,a){var c=qe(e)?Qh:Gl,h=arguments.length<3;return c(e,Ce(t,4),a,h,su)}function Gv(e,t){var a=qe(e)?Lt:lu;return a(e,go(Ce(t,3)))}function $v(e){var t=qe(e)?iu:Rm;return t(e)}function Wv(e,t,a){(a?An(e,t,a):t===r)?t=1:t=Ge(t);var c=qe(e)?fm:Dm;return c(e,t)}function Uv(e){var t=qe(e)?hm:Lm;return t(e)}function Vv(e){if(e==null)return 0;if(Dn(e))return po(e)?xi(e):e.length;var t=Cn(e);return t==v||t==ve?e.size:Ba(e).length}function Yv(e,t,a){var c=qe(e)?_a:Hm;return a&&An(e,t,a)&&(t=r),c(e,Ce(t,3))}var Xv=Ue(function(e,t){if(e==null)return[];var a=t.length;return a>1&&An(e,t[0],t[1])?t=[]:a>2&&An(t[0],t[1],t[2])&&(t=[t[0]]),yu(e,Tn(t,1),[])}),fo=Cg||function(){return Sn.Date.now()};function jv(e,t){if(typeof t!="function")throw new Qn(l);return e=Ge(e),function(){if(--e<1)return t.apply(this,arguments)}}function fc(e,t,a){return t=a?r:t,t=e&&t==null?e.length:t,Tt(e,te,r,r,r,r,t)}function hc(e,t){var a;if(typeof t!="function")throw new Qn(l);return e=Ge(e),function(){return--e>0&&(a=t.apply(this,arguments)),e<=1&&(t=r),a}}var ss=Ue(function(e,t,a){var c=A;if(a.length){var h=qt(a,Ai(ss));c|=Q}return Tt(e,c,t,a,h)}),gc=Ue(function(e,t,a){var c=A|z;if(a.length){var h=qt(a,Ai(gc));c|=Q}return Tt(t,c,e,a,h)});function mc(e,t,a){t=a?r:t;var c=Tt(e,B,r,r,r,r,r,t);return c.placeholder=mc.placeholder,c}function pc(e,t,a){t=a?r:t;var c=Tt(e,O,r,r,r,r,r,t);return c.placeholder=pc.placeholder,c}function vc(e,t,a){var c,h,y,b,E,N,U=0,Y=!1,K=!1,he=!0;if(typeof e!="function")throw new Qn(l);t=rt(t)||0,cn(a)&&(Y=!!a.leading,K="maxWait"in a,y=K?bn(rt(a.maxWait)||0,t):y,he="trailing"in a?!!a.trailing:he);function we(mn){var ct=c,Nt=h;return c=h=r,U=mn,b=e.apply(Nt,ct),b}function Ie(mn){return U=mn,E=ar(Ve,t),Y?we(mn):b}function We(mn){var ct=mn-N,Nt=mn-U,Dc=t-ct;return K?Mn(Dc,y-Nt):Dc}function Ae(mn){var ct=mn-N,Nt=mn-U;return N===r||ct>=t||ct<0||K&&Nt>=y}function Ve(){var mn=fo();if(Ae(mn))return je(mn);E=ar(Ve,We(mn))}function je(mn){return E=r,he&&c?we(mn):(c=h=r,b)}function Yn(){E!==r&&Mu(E),U=0,c=N=h=E=r}function Nn(){return E===r?b:je(fo())}function Xn(){var mn=fo(),ct=Ae(mn);if(c=arguments,h=this,N=mn,ct){if(E===r)return Ie(N);if(K)return Mu(E),E=ar(Ve,t),we(N)}return E===r&&(E=ar(Ve,t)),b}return Xn.cancel=Yn,Xn.flush=Nn,Xn}var Kv=Ue(function(e,t){return au(e,1,t)}),Zv=Ue(function(e,t,a){return au(e,rt(t)||0,a)});function Jv(e){return Tt(e,ye)}function ho(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new Qn(l);var a=function(){var c=arguments,h=t?t.apply(this,c):c[0],y=a.cache;if(y.has(h))return y.get(h);var b=e.apply(this,c);return a.cache=y.set(h,b)||y,b};return a.cache=new(ho.Cache||Et),a}ho.Cache=Et;function go(e){if(typeof e!="function")throw new Qn(l);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Qv(e){return hc(2,e)}var ey=qm(function(e,t){t=t.length==1&&qe(t[0])?un(t[0],Wn(Ce())):un(Tn(t,1),Wn(Ce()));var a=t.length;return Ue(function(c){for(var h=-1,y=Mn(c.length,a);++h<y;)c[h]=t[h].call(this,c[h]);return $n(e,this,c)})}),ls=Ue(function(e,t){var a=qt(t,Ai(ls));return Tt(e,Q,r,t,a)}),yc=Ue(function(e,t){var a=qt(t,Ai(yc));return Tt(e,ue,r,t,a)}),ny=Mt(function(e,t){return Tt(e,de,r,r,r,t)});function ty(e,t){if(typeof e!="function")throw new Qn(l);return t=t===r?t:Ge(t),Ue(e,t)}function iy(e,t){if(typeof e!="function")throw new Qn(l);return t=t==null?0:bn(Ge(t),0),Ue(function(a){var c=a[t],h=Ut(a,0,t);return c&&Ht(h,c),$n(e,this,h)})}function ry(e,t,a){var c=!0,h=!0;if(typeof e!="function")throw new Qn(l);return cn(a)&&(c="leading"in a?!!a.leading:c,h="trailing"in a?!!a.trailing:h),vc(e,t,{leading:c,maxWait:t,trailing:h})}function oy(e){return fc(e,1)}function ay(e,t){return ls(Va(t),e)}function sy(){if(!arguments.length)return[];var e=arguments[0];return qe(e)?e:[e]}function ly(e){return nt(e,k)}function uy(e,t){return t=typeof t=="function"?t:r,nt(e,k,t)}function cy(e){return nt(e,_|k)}function dy(e,t){return t=typeof t=="function"?t:r,nt(e,_|k,t)}function fy(e,t){return t==null||ou(e,t,kn(t))}function ut(e,t){return e===t||e!==e&&t!==t}var hy=oo(Oa),gy=oo(function(e,t){return e>=t}),li=du(function(){return arguments}())?du:function(e){return fn(e)&&tn.call(e,"callee")&&!Zl.call(e,"callee")},qe=L.isArray,my=zl?Wn(zl):km;function Dn(e){return e!=null&&mo(e.length)&&!It(e)}function gn(e){return fn(e)&&Dn(e)}function py(e){return e===!0||e===!1||fn(e)&&In(e)==oe}var Vt=Ag||_s,vy=Pl?Wn(Pl):Em;function yy(e){return fn(e)&&e.nodeType===1&&!sr(e)}function _y(e){if(e==null)return!0;if(Dn(e)&&(qe(e)||typeof e=="string"||typeof e.splice=="function"||Vt(e)||Ni(e)||li(e)))return!e.length;var t=Cn(e);if(t==v||t==ve)return!e.size;if(or(e))return!Ba(e).length;for(var a in e)if(tn.call(e,a))return!1;return!0}function by(e,t){return tr(e,t)}function wy(e,t,a){a=typeof a=="function"?a:r;var c=a?a(e,t):r;return c===r?tr(e,t,r,a):!!c}function us(e){if(!fn(e))return!1;var t=In(e);return t==G||t==W||typeof e.message=="string"&&typeof e.name=="string"&&!sr(e)}function xy(e){return typeof e=="number"&&Ql(e)}function It(e){if(!cn(e))return!1;var t=In(e);return t==X||t==j||t==Be||t==ke}function _c(e){return typeof e=="number"&&e==Ge(e)}function mo(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Z}function cn(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function fn(e){return e!=null&&typeof e=="object"}var bc=Ol?Wn(Ol):Tm;function ky(e,t){return e===t||Da(e,t,Qa(t))}function Ey(e,t,a){return a=typeof a=="function"?a:r,Da(e,t,Qa(t),a)}function Sy(e){return wc(e)&&e!=+e}function Ty(e){if(up(e))throw new Le(u);return fu(e)}function My(e){return e===null}function Cy(e){return e==null}function wc(e){return typeof e=="number"||fn(e)&&In(e)==w}function sr(e){if(!fn(e)||In(e)!=q)return!1;var t=Fr(e);if(t===null)return!0;var a=tn.call(t,"constructor")&&t.constructor;return typeof a=="function"&&a instanceof a&&Br.call(a)==Eg}var cs=Rl?Wn(Rl):Mm;function Iy(e){return _c(e)&&e>=-Z&&e<=Z}var xc=Dl?Wn(Dl):Cm;function po(e){return typeof e=="string"||!qe(e)&&fn(e)&&In(e)==xe}function Vn(e){return typeof e=="symbol"||fn(e)&&In(e)==Fe}var Ni=Bl?Wn(Bl):Im;function Ay(e){return e===r}function Ny(e){return fn(e)&&Cn(e)==Ke}function zy(e){return fn(e)&&In(e)==Fn}var Py=oo(La),Oy=oo(function(e,t){return e<=t});function kc(e){if(!e)return[];if(Dn(e))return po(e)?st(e):Rn(e);if(Xi&&e[Xi])return fg(e[Xi]());var t=Cn(e),a=t==v?Sa:t==ve?Or:zi;return a(e)}function At(e){if(!e)return e===0?e:0;if(e=rt(e),e===V||e===-V){var t=e<0?-1:1;return t*re}return e===e?e:0}function Ge(e){var t=At(e),a=t%1;return t===t?a?t-a:t:0}function Ec(e){return e?ri(Ge(e),0,ee):0}function rt(e){if(typeof e=="number")return e;if(Vn(e))return fe;if(cn(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=cn(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=$l(e);var a=mh.test(e);return a||vh.test(e)?jh(e.slice(2),a?2:8):gh.test(e)?fe:+e}function Sc(e){return pt(e,Bn(e))}function Ry(e){return e?ri(Ge(e),-Z,Z):e===0?e:0}function nn(e){return e==null?"":Un(e)}var Dy=Ci(function(e,t){if(or(t)||Dn(t)){pt(t,kn(t),e);return}for(var a in t)tn.call(t,a)&&Qi(e,a,t[a])}),Tc=Ci(function(e,t){pt(t,Bn(t),e)}),vo=Ci(function(e,t,a,c){pt(t,Bn(t),e,c)}),By=Ci(function(e,t,a,c){pt(t,kn(t),e,c)}),Ly=Mt(Na);function Hy(e,t){var a=Mi(e);return t==null?a:ru(a,t)}var qy=Ue(function(e,t){e=on(e);var a=-1,c=t.length,h=c>2?t[2]:r;for(h&&An(t[0],t[1],h)&&(c=1);++a<c;)for(var y=t[a],b=Bn(y),E=-1,N=b.length;++E<N;){var U=b[E],Y=e[U];(Y===r||ut(Y,Ei[U])&&!tn.call(e,U))&&(e[U]=y[U])}return e}),Fy=Ue(function(e){return e.push(r,$u),$n(Mc,r,e)});function Gy(e,t){return Hl(e,Ce(t,3),mt)}function $y(e,t){return Hl(e,Ce(t,3),Pa)}function Wy(e,t){return e==null?e:za(e,Ce(t,3),Bn)}function Uy(e,t){return e==null?e:uu(e,Ce(t,3),Bn)}function Vy(e,t){return e&&mt(e,Ce(t,3))}function Yy(e,t){return e&&Pa(e,Ce(t,3))}function Xy(e){return e==null?[]:Zr(e,kn(e))}function jy(e){return e==null?[]:Zr(e,Bn(e))}function ds(e,t,a){var c=e==null?r:oi(e,t);return c===r?a:c}function Ky(e,t){return e!=null&&Vu(e,t,_m)}function fs(e,t){return e!=null&&Vu(e,t,bm)}var Zy=Lu(function(e,t,a){t!=null&&typeof t.toString!="function"&&(t=Lr.call(t)),e[t]=a},gs(Ln)),Jy=Lu(function(e,t,a){t!=null&&typeof t.toString!="function"&&(t=Lr.call(t)),tn.call(e,t)?e[t].push(a):e[t]=[a]},Ce),Qy=Ue(nr);function kn(e){return Dn(e)?tu(e):Ba(e)}function Bn(e){return Dn(e)?tu(e,!0):Am(e)}function e_(e,t){var a={};return t=Ce(t,3),mt(e,function(c,h,y){St(a,t(c,h,y),c)}),a}function n_(e,t){var a={};return t=Ce(t,3),mt(e,function(c,h,y){St(a,h,t(c,h,y))}),a}var t_=Ci(function(e,t,a){Jr(e,t,a)}),Mc=Ci(function(e,t,a,c){Jr(e,t,a,c)}),i_=Mt(function(e,t){var a={};if(e==null)return a;var c=!1;t=un(t,function(y){return y=Wt(y,e),c||(c=y.length>1),y}),pt(e,Za(e),a),c&&(a=nt(a,_|S|k,Zm));for(var h=t.length;h--;)$a(a,t[h]);return a});function r_(e,t){return Cc(e,go(Ce(t)))}var o_=Mt(function(e,t){return e==null?{}:zm(e,t)});function Cc(e,t){if(e==null)return{};var a=un(Za(e),function(c){return[c]});return t=Ce(t),_u(e,a,function(c,h){return t(c,h[0])})}function a_(e,t,a){t=Wt(t,e);var c=-1,h=t.length;for(h||(h=1,e=r);++c<h;){var y=e==null?r:e[vt(t[c])];y===r&&(c=h,y=a),e=It(y)?y.call(e):y}return e}function s_(e,t,a){return e==null?e:ir(e,t,a)}function l_(e,t,a,c){return c=typeof c=="function"?c:r,e==null?e:ir(e,t,a,c)}var Ic=Fu(kn),Ac=Fu(Bn);function u_(e,t,a){var c=qe(e),h=c||Vt(e)||Ni(e);if(t=Ce(t,4),a==null){var y=e&&e.constructor;h?a=c?new y:[]:cn(e)?a=It(y)?Mi(Fr(e)):{}:a={}}return(h?Jn:mt)(e,function(b,E,N){return t(a,b,E,N)}),a}function c_(e,t){return e==null?!0:$a(e,t)}function d_(e,t,a){return e==null?e:Eu(e,t,Va(a))}function f_(e,t,a,c){return c=typeof c=="function"?c:r,e==null?e:Eu(e,t,Va(a),c)}function zi(e){return e==null?[]:Ea(e,kn(e))}function h_(e){return e==null?[]:Ea(e,Bn(e))}function g_(e,t,a){return a===r&&(a=t,t=r),a!==r&&(a=rt(a),a=a===a?a:0),t!==r&&(t=rt(t),t=t===t?t:0),ri(rt(e),t,a)}function m_(e,t,a){return t=At(t),a===r?(a=t,t=0):a=At(a),e=rt(e),wm(e,t,a)}function p_(e,t,a){if(a&&typeof a!="boolean"&&An(e,t,a)&&(t=a=r),a===r&&(typeof t=="boolean"?(a=t,t=r):typeof e=="boolean"&&(a=e,e=r)),e===r&&t===r?(e=0,t=1):(e=At(e),t===r?(t=e,e=0):t=At(t)),e>t){var c=e;e=t,t=c}if(a||e%1||t%1){var h=eu();return Mn(e+h*(t-e+Xh("1e-"+((h+"").length-1))),t)}return qa(e,t)}var v_=Ii(function(e,t,a){return t=t.toLowerCase(),e+(a?Nc(t):t)});function Nc(e){return hs(nn(e).toLowerCase())}function zc(e){return e=nn(e),e&&e.replace(_h,sg).replace(Lh,"")}function y_(e,t,a){e=nn(e),t=Un(t);var c=e.length;a=a===r?c:ri(Ge(a),0,c);var h=a;return a-=t.length,a>=0&&e.slice(a,h)==t}function __(e){return e=nn(e),e&&Qf.test(e)?e.replace(ul,lg):e}function b_(e){return e=nn(e),e&&oh.test(e)?e.replace(la,"\\$&"):e}var w_=Ii(function(e,t,a){return e+(a?"-":"")+t.toLowerCase()}),x_=Ii(function(e,t,a){return e+(a?" ":"")+t.toLowerCase()}),k_=Ru("toLowerCase");function E_(e,t,a){e=nn(e),t=Ge(t);var c=t?xi(e):0;if(!t||c>=t)return e;var h=(t-c)/2;return ro(Ur(h),a)+e+ro(Wr(h),a)}function S_(e,t,a){e=nn(e),t=Ge(t);var c=t?xi(e):0;return t&&c<t?e+ro(t-c,a):e}function T_(e,t,a){e=nn(e),t=Ge(t);var c=t?xi(e):0;return t&&c<t?ro(t-c,a)+e:e}function M_(e,t,a){return a||t==null?t=0:t&&(t=+t),Og(nn(e).replace(ua,""),t||0)}function C_(e,t,a){return(a?An(e,t,a):t===r)?t=1:t=Ge(t),Fa(nn(e),t)}function I_(){var e=arguments,t=nn(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var A_=Ii(function(e,t,a){return e+(a?"_":"")+t.toLowerCase()});function N_(e,t,a){return a&&typeof a!="number"&&An(e,t,a)&&(t=a=r),a=a===r?ee:a>>>0,a?(e=nn(e),e&&(typeof t=="string"||t!=null&&!cs(t))&&(t=Un(t),!t&&wi(e))?Ut(st(e),0,a):e.split(t,a)):[]}var z_=Ii(function(e,t,a){return e+(a?" ":"")+hs(t)});function P_(e,t,a){return e=nn(e),a=a==null?0:ri(Ge(a),0,e.length),t=Un(t),e.slice(a,a+t.length)==t}function O_(e,t,a){var c=g.templateSettings;a&&An(e,t,a)&&(t=r),e=nn(e),t=vo({},t,c,Gu);var h=vo({},t.imports,c.imports,Gu),y=kn(h),b=Ea(h,y),E,N,U=0,Y=t.interpolate||Ir,K="__p += '",he=Ta((t.escape||Ir).source+"|"+Y.source+"|"+(Y===cl?hh:Ir).source+"|"+(t.evaluate||Ir).source+"|$","g"),we="//# sourceURL="+(tn.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++$h+"]")+`
`;e.replace(he,function(Ae,Ve,je,Yn,Nn,Xn){return je||(je=Yn),K+=e.slice(U,Xn).replace(bh,ug),Ve&&(E=!0,K+=`' +
__e(`+Ve+`) +
'`),Nn&&(N=!0,K+=`';
`+Nn+`;
__p += '`),je&&(K+=`' +
((__t = (`+je+`)) == null ? '' : __t) +
'`),U=Xn+Ae.length,Ae}),K+=`';
`;var Ie=tn.call(t,"variable")&&t.variable;if(!Ie)K=`with (obj) {
`+K+`
}
`;else if(dh.test(Ie))throw new Le(d);K=(N?K.replace(jf,""):K).replace(Kf,"$1").replace(Zf,"$1;"),K="function("+(Ie||"obj")+`) {
`+(Ie?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(E?", __e = _.escape":"")+(N?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+K+`return __p
}`;var We=Oc(function(){return Je(y,we+"return "+K).apply(r,b)});if(We.source=K,us(We))throw We;return We}function R_(e){return nn(e).toLowerCase()}function D_(e){return nn(e).toUpperCase()}function B_(e,t,a){if(e=nn(e),e&&(a||t===r))return $l(e);if(!e||!(t=Un(t)))return e;var c=st(e),h=st(t),y=Wl(c,h),b=Ul(c,h)+1;return Ut(c,y,b).join("")}function L_(e,t,a){if(e=nn(e),e&&(a||t===r))return e.slice(0,Yl(e)+1);if(!e||!(t=Un(t)))return e;var c=st(e),h=Ul(c,st(t))+1;return Ut(c,0,h).join("")}function H_(e,t,a){if(e=nn(e),e&&(a||t===r))return e.replace(ua,"");if(!e||!(t=Un(t)))return e;var c=st(e),h=Wl(c,st(t));return Ut(c,h).join("")}function q_(e,t){var a=J,c=M;if(cn(t)){var h="separator"in t?t.separator:h;a="length"in t?Ge(t.length):a,c="omission"in t?Un(t.omission):c}e=nn(e);var y=e.length;if(wi(e)){var b=st(e);y=b.length}if(a>=y)return e;var E=a-xi(c);if(E<1)return c;var N=b?Ut(b,0,E).join(""):e.slice(0,E);if(h===r)return N+c;if(b&&(E+=N.length-E),cs(h)){if(e.slice(E).search(h)){var U,Y=N;for(h.global||(h=Ta(h.source,nn(dl.exec(h))+"g")),h.lastIndex=0;U=h.exec(Y);)var K=U.index;N=N.slice(0,K===r?E:K)}}else if(e.indexOf(Un(h),E)!=E){var he=N.lastIndexOf(h);he>-1&&(N=N.slice(0,he))}return N+c}function F_(e){return e=nn(e),e&&Jf.test(e)?e.replace(ll,pg):e}var G_=Ii(function(e,t,a){return e+(a?" ":"")+t.toUpperCase()}),hs=Ru("toUpperCase");function Pc(e,t,a){return e=nn(e),t=a?r:t,t===r?dg(e)?_g(e):tg(e):e.match(t)||[]}var Oc=Ue(function(e,t){try{return $n(e,r,t)}catch(a){return us(a)?a:new Le(a)}}),$_=Mt(function(e,t){return Jn(t,function(a){a=vt(a),St(e,a,ss(e[a],e))}),e});function W_(e){var t=e==null?0:e.length,a=Ce();return e=t?un(e,function(c){if(typeof c[1]!="function")throw new Qn(l);return[a(c[0]),c[1]]}):[],Ue(function(c){for(var h=-1;++h<t;){var y=e[h];if($n(y[0],this,c))return $n(y[1],this,c)}})}function U_(e){return pm(nt(e,_))}function gs(e){return function(){return e}}function V_(e,t){return e==null||e!==e?t:e}var Y_=Bu(),X_=Bu(!0);function Ln(e){return e}function ms(e){return hu(typeof e=="function"?e:nt(e,_))}function j_(e){return mu(nt(e,_))}function K_(e,t){return pu(e,nt(t,_))}var Z_=Ue(function(e,t){return function(a){return nr(a,e,t)}}),J_=Ue(function(e,t){return function(a){return nr(e,a,t)}});function ps(e,t,a){var c=kn(t),h=Zr(t,c);a==null&&!(cn(t)&&(h.length||!c.length))&&(a=t,t=e,e=this,h=Zr(t,kn(t)));var y=!(cn(a)&&"chain"in a)||!!a.chain,b=It(e);return Jn(h,function(E){var N=t[E];e[E]=N,b&&(e.prototype[E]=function(){var U=this.__chain__;if(y||U){var Y=e(this.__wrapped__),K=Y.__actions__=Rn(this.__actions__);return K.push({func:N,args:arguments,thisArg:e}),Y.__chain__=U,Y}return N.apply(e,Ht([this.value()],arguments))})}),e}function Q_(){return Sn._===this&&(Sn._=Sg),this}function vs(){}function e0(e){return e=Ge(e),Ue(function(t){return vu(t,e)})}var n0=Xa(un),t0=Xa(Ll),i0=Xa(_a);function Rc(e){return ns(e)?ba(vt(e)):Pm(e)}function r0(e){return function(t){return e==null?r:oi(e,t)}}var o0=Hu(),a0=Hu(!0);function ys(){return[]}function _s(){return!1}function s0(){return{}}function l0(){return""}function u0(){return!0}function c0(e,t){if(e=Ge(e),e<1||e>Z)return[];var a=ee,c=Mn(e,ee);t=Ce(t),e-=ee;for(var h=ka(c,t);++a<e;)t(a);return h}function d0(e){return qe(e)?un(e,vt):Vn(e)?[e]:Rn(nc(nn(e)))}function f0(e){var t=++kg;return nn(e)+t}var h0=io(function(e,t){return e+t},0),g0=ja("ceil"),m0=io(function(e,t){return e/t},1),p0=ja("floor");function v0(e){return e&&e.length?Kr(e,Ln,Oa):r}function y0(e,t){return e&&e.length?Kr(e,Ce(t,2),Oa):r}function _0(e){return Fl(e,Ln)}function b0(e,t){return Fl(e,Ce(t,2))}function w0(e){return e&&e.length?Kr(e,Ln,La):r}function x0(e,t){return e&&e.length?Kr(e,Ce(t,2),La):r}var k0=io(function(e,t){return e*t},1),E0=ja("round"),S0=io(function(e,t){return e-t},0);function T0(e){return e&&e.length?xa(e,Ln):0}function M0(e,t){return e&&e.length?xa(e,Ce(t,2)):0}return g.after=jv,g.ary=fc,g.assign=Dy,g.assignIn=Tc,g.assignInWith=vo,g.assignWith=By,g.at=Ly,g.before=hc,g.bind=ss,g.bindAll=$_,g.bindKey=gc,g.castArray=sy,g.chain=uc,g.chunk=pp,g.compact=vp,g.concat=yp,g.cond=W_,g.conforms=U_,g.constant=gs,g.countBy=Tv,g.create=Hy,g.curry=mc,g.curryRight=pc,g.debounce=vc,g.defaults=qy,g.defaultsDeep=Fy,g.defer=Kv,g.delay=Zv,g.difference=_p,g.differenceBy=bp,g.differenceWith=wp,g.drop=xp,g.dropRight=kp,g.dropRightWhile=Ep,g.dropWhile=Sp,g.fill=Tp,g.filter=Cv,g.flatMap=Nv,g.flatMapDeep=zv,g.flatMapDepth=Pv,g.flatten=oc,g.flattenDeep=Mp,g.flattenDepth=Cp,g.flip=Jv,g.flow=Y_,g.flowRight=X_,g.fromPairs=Ip,g.functions=Xy,g.functionsIn=jy,g.groupBy=Ov,g.initial=Np,g.intersection=zp,g.intersectionBy=Pp,g.intersectionWith=Op,g.invert=Zy,g.invertBy=Jy,g.invokeMap=Dv,g.iteratee=ms,g.keyBy=Bv,g.keys=kn,g.keysIn=Bn,g.map=co,g.mapKeys=e_,g.mapValues=n_,g.matches=j_,g.matchesProperty=K_,g.memoize=ho,g.merge=t_,g.mergeWith=Mc,g.method=Z_,g.methodOf=J_,g.mixin=ps,g.negate=go,g.nthArg=e0,g.omit=i_,g.omitBy=r_,g.once=Qv,g.orderBy=Lv,g.over=n0,g.overArgs=ey,g.overEvery=t0,g.overSome=i0,g.partial=ls,g.partialRight=yc,g.partition=Hv,g.pick=o_,g.pickBy=Cc,g.property=Rc,g.propertyOf=r0,g.pull=Lp,g.pullAll=sc,g.pullAllBy=Hp,g.pullAllWith=qp,g.pullAt=Fp,g.range=o0,g.rangeRight=a0,g.rearg=ny,g.reject=Gv,g.remove=Gp,g.rest=ty,g.reverse=os,g.sampleSize=Wv,g.set=s_,g.setWith=l_,g.shuffle=Uv,g.slice=$p,g.sortBy=Xv,g.sortedUniq=Kp,g.sortedUniqBy=Zp,g.split=N_,g.spread=iy,g.tail=Jp,g.take=Qp,g.takeRight=ev,g.takeRightWhile=nv,g.takeWhile=tv,g.tap=vv,g.throttle=ry,g.thru=uo,g.toArray=kc,g.toPairs=Ic,g.toPairsIn=Ac,g.toPath=d0,g.toPlainObject=Sc,g.transform=u_,g.unary=oy,g.union=iv,g.unionBy=rv,g.unionWith=ov,g.uniq=av,g.uniqBy=sv,g.uniqWith=lv,g.unset=c_,g.unzip=as,g.unzipWith=lc,g.update=d_,g.updateWith=f_,g.values=zi,g.valuesIn=h_,g.without=uv,g.words=Pc,g.wrap=ay,g.xor=cv,g.xorBy=dv,g.xorWith=fv,g.zip=hv,g.zipObject=gv,g.zipObjectDeep=mv,g.zipWith=pv,g.entries=Ic,g.entriesIn=Ac,g.extend=Tc,g.extendWith=vo,ps(g,g),g.add=h0,g.attempt=Oc,g.camelCase=v_,g.capitalize=Nc,g.ceil=g0,g.clamp=g_,g.clone=ly,g.cloneDeep=cy,g.cloneDeepWith=dy,g.cloneWith=uy,g.conformsTo=fy,g.deburr=zc,g.defaultTo=V_,g.divide=m0,g.endsWith=y_,g.eq=ut,g.escape=__,g.escapeRegExp=b_,g.every=Mv,g.find=Iv,g.findIndex=ic,g.findKey=Gy,g.findLast=Av,g.findLastIndex=rc,g.findLastKey=$y,g.floor=p0,g.forEach=cc,g.forEachRight=dc,g.forIn=Wy,g.forInRight=Uy,g.forOwn=Vy,g.forOwnRight=Yy,g.get=ds,g.gt=hy,g.gte=gy,g.has=Ky,g.hasIn=fs,g.head=ac,g.identity=Ln,g.includes=Rv,g.indexOf=Ap,g.inRange=m_,g.invoke=Qy,g.isArguments=li,g.isArray=qe,g.isArrayBuffer=my,g.isArrayLike=Dn,g.isArrayLikeObject=gn,g.isBoolean=py,g.isBuffer=Vt,g.isDate=vy,g.isElement=yy,g.isEmpty=_y,g.isEqual=by,g.isEqualWith=wy,g.isError=us,g.isFinite=xy,g.isFunction=It,g.isInteger=_c,g.isLength=mo,g.isMap=bc,g.isMatch=ky,g.isMatchWith=Ey,g.isNaN=Sy,g.isNative=Ty,g.isNil=Cy,g.isNull=My,g.isNumber=wc,g.isObject=cn,g.isObjectLike=fn,g.isPlainObject=sr,g.isRegExp=cs,g.isSafeInteger=Iy,g.isSet=xc,g.isString=po,g.isSymbol=Vn,g.isTypedArray=Ni,g.isUndefined=Ay,g.isWeakMap=Ny,g.isWeakSet=zy,g.join=Rp,g.kebabCase=w_,g.last=it,g.lastIndexOf=Dp,g.lowerCase=x_,g.lowerFirst=k_,g.lt=Py,g.lte=Oy,g.max=v0,g.maxBy=y0,g.mean=_0,g.meanBy=b0,g.min=w0,g.minBy=x0,g.stubArray=ys,g.stubFalse=_s,g.stubObject=s0,g.stubString=l0,g.stubTrue=u0,g.multiply=k0,g.nth=Bp,g.noConflict=Q_,g.noop=vs,g.now=fo,g.pad=E_,g.padEnd=S_,g.padStart=T_,g.parseInt=M_,g.random=p_,g.reduce=qv,g.reduceRight=Fv,g.repeat=C_,g.replace=I_,g.result=a_,g.round=E0,g.runInContext=C,g.sample=$v,g.size=Vv,g.snakeCase=A_,g.some=Yv,g.sortedIndex=Wp,g.sortedIndexBy=Up,g.sortedIndexOf=Vp,g.sortedLastIndex=Yp,g.sortedLastIndexBy=Xp,g.sortedLastIndexOf=jp,g.startCase=z_,g.startsWith=P_,g.subtract=S0,g.sum=T0,g.sumBy=M0,g.template=O_,g.times=c0,g.toFinite=At,g.toInteger=Ge,g.toLength=Ec,g.toLower=R_,g.toNumber=rt,g.toSafeInteger=Ry,g.toString=nn,g.toUpper=D_,g.trim=B_,g.trimEnd=L_,g.trimStart=H_,g.truncate=q_,g.unescape=F_,g.uniqueId=f0,g.upperCase=G_,g.upperFirst=hs,g.each=cc,g.eachRight=dc,g.first=ac,ps(g,function(){var e={};return mt(g,function(t,a){tn.call(g.prototype,a)||(e[a]=t)}),e}(),{chain:!1}),g.VERSION=o,Jn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){g[e].placeholder=g}),Jn(["drop","take"],function(e,t){Xe.prototype[e]=function(a){a=a===r?1:bn(Ge(a),0);var c=this.__filtered__&&!t?new Xe(this):this.clone();return c.__filtered__?c.__takeCount__=Mn(a,c.__takeCount__):c.__views__.push({size:Mn(a,ee),type:e+(c.__dir__<0?"Right":"")}),c},Xe.prototype[e+"Right"]=function(a){return this.reverse()[e](a).reverse()}}),Jn(["filter","map","takeWhile"],function(e,t){var a=t+1,c=a==I||a==R;Xe.prototype[e]=function(h){var y=this.clone();return y.__iteratees__.push({iteratee:Ce(h,3),type:a}),y.__filtered__=y.__filtered__||c,y}}),Jn(["head","last"],function(e,t){var a="take"+(t?"Right":"");Xe.prototype[e]=function(){return this[a](1).value()[0]}}),Jn(["initial","tail"],function(e,t){var a="drop"+(t?"":"Right");Xe.prototype[e]=function(){return this.__filtered__?new Xe(this):this[a](1)}}),Xe.prototype.compact=function(){return this.filter(Ln)},Xe.prototype.find=function(e){return this.filter(e).head()},Xe.prototype.findLast=function(e){return this.reverse().find(e)},Xe.prototype.invokeMap=Ue(function(e,t){return typeof e=="function"?new Xe(this):this.map(function(a){return nr(a,e,t)})}),Xe.prototype.reject=function(e){return this.filter(go(Ce(e)))},Xe.prototype.slice=function(e,t){e=Ge(e);var a=this;return a.__filtered__&&(e>0||t<0)?new Xe(a):(e<0?a=a.takeRight(-e):e&&(a=a.drop(e)),t!==r&&(t=Ge(t),a=t<0?a.dropRight(-t):a.take(t-e)),a)},Xe.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Xe.prototype.toArray=function(){return this.take(ee)},mt(Xe.prototype,function(e,t){var a=/^(?:filter|find|map|reject)|While$/.test(t),c=/^(?:head|last)$/.test(t),h=g[c?"take"+(t=="last"?"Right":""):t],y=c||/^find/.test(t);h&&(g.prototype[t]=function(){var b=this.__wrapped__,E=c?[1]:arguments,N=b instanceof Xe,U=E[0],Y=N||qe(b),K=function(Ve){var je=h.apply(g,Ht([Ve],E));return c&&he?je[0]:je};Y&&a&&typeof U=="function"&&U.length!=1&&(N=Y=!1);var he=this.__chain__,we=!!this.__actions__.length,Ie=y&&!he,We=N&&!we;if(!y&&Y){b=We?b:new Xe(this);var Ae=e.apply(b,E);return Ae.__actions__.push({func:uo,args:[K],thisArg:r}),new et(Ae,he)}return Ie&&We?e.apply(this,E):(Ae=this.thru(K),Ie?c?Ae.value()[0]:Ae.value():Ae)})}),Jn(["pop","push","shift","sort","splice","unshift"],function(e){var t=Rr[e],a=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",c=/^(?:pop|shift)$/.test(e);g.prototype[e]=function(){var h=arguments;if(c&&!this.__chain__){var y=this.value();return t.apply(qe(y)?y:[],h)}return this[a](function(b){return t.apply(qe(b)?b:[],h)})}}),mt(Xe.prototype,function(e,t){var a=g[t];if(a){var c=a.name+"";tn.call(Ti,c)||(Ti[c]=[]),Ti[c].push({name:t,func:a})}}),Ti[to(r,z).name]=[{name:"wrapper",func:r}],Xe.prototype.clone=Fg,Xe.prototype.reverse=Gg,Xe.prototype.value=$g,g.prototype.at=yv,g.prototype.chain=_v,g.prototype.commit=bv,g.prototype.next=wv,g.prototype.plant=kv,g.prototype.reverse=Ev,g.prototype.toJSON=g.prototype.valueOf=g.prototype.value=Sv,g.prototype.first=g.prototype.head,Xi&&(g.prototype[Xi]=xv),g},ki=bg();ei?((ei.exports=ki)._=ki,ma._=ki):Sn._=ki}).call(lr)})(Ro,Ro.exports);var Lb=Ro.exports;const Hb=P0(Lb);function Uo(n){return Rd()?(Mo(n),!0):!1}function Rt(n){return typeof n=="function"?n():ze(n)}const qb=typeof window!="undefined"&&typeof document!="undefined",Fb=n=>typeof n!="undefined",Gb=Object.prototype.toString,$b=n=>Gb.call(n)==="[object Object]",Wb=()=>{};function Ub(n,i){function r(...o){return new Promise((s,u)=>{Promise.resolve(n(()=>i.apply(this,o),{fn:i,thisArg:this,args:o})).then(s).catch(u)})}return r}const $d=n=>n();function Vb(n=$d){const i=Pe(!0);function r(){i.value=!1}function o(){i.value=!0}const s=(...u)=>{i.value&&n(...u)};return{isActive:H0(i),pause:r,resume:o,eventFilter:s}}function qc(n,i=!1,r="Timeout"){return new Promise((o,s)=>{setTimeout(i?()=>s(r):o,n)})}function Yb(n,i,r={}){const{eventFilter:o=$d,...s}=r;return en(n,Ub(o,i),s)}function Pi(n,i,r={}){const{eventFilter:o,...s}=r,{eventFilter:u,pause:l,resume:d,isActive:f}=Vb(o);return{stop:Yb(n,i,{...s,eventFilter:u}),pause:l,resume:d,isActive:f}}function Xb(n,i={}){if(!Ys(n))return D0(n);const r=Array.isArray(n.value)?Array.from({length:n.value.length}):{};for(const o in n.value)r[o]=B0(()=>({get(){return n.value[o]},set(s){var u;if((u=Rt(i.replaceRef))!=null?u:!0)if(Array.isArray(n.value)){const d=[...n.value];d[o]=s,n.value=d}else{const d={...n.value,[o]:s};Object.setPrototypeOf(d,Object.getPrototypeOf(n.value)),n.value=d}else n.value[o]=s}}));return r}function Ns(n,i=!1){function r(_,{flush:S="sync",deep:k=!1,timeout:P,throwOnTimeout:T}={}){let A=null;const x=[new Promise(B=>{A=en(n,O=>{_(O)!==i&&(A==null||A(),B(O))},{flush:S,deep:k,immediate:!0})})];return P!=null&&x.push(qc(P,T).then(()=>Rt(n)).finally(()=>A==null?void 0:A())),Promise.race(x)}function o(_,S){if(!Ys(_))return r(O=>O===_,S);const{flush:k="sync",deep:P=!1,timeout:T,throwOnTimeout:A}=S!=null?S:{};let z=null;const B=[new Promise(O=>{z=en([n,_],([Q,ue])=>{i!==(Q===ue)&&(z==null||z(),O(Q))},{flush:k,deep:P,immediate:!0})})];return T!=null&&B.push(qc(T,A).then(()=>Rt(n)).finally(()=>(z==null||z(),Rt(n)))),Promise.race(B)}function s(_){return r(S=>!!S,_)}function u(_){return o(null,_)}function l(_){return o(void 0,_)}function d(_){return r(Number.isNaN,_)}function f(_,S){return r(k=>{const P=Array.from(k);return P.includes(_)||P.includes(Rt(_))},S)}function m(_){return p(1,_)}function p(_=1,S){let k=-1;return r(()=>(k+=1,k>=_),S)}return Array.isArray(Rt(n))?{toMatch:r,toContains:f,changed:m,changedTimes:p,get not(){return Ns(n,!i)}}:{toMatch:r,toBe:o,toBeTruthy:s,toBeNull:u,toBeNaN:d,toBeUndefined:l,changed:m,changedTimes:p,get not(){return Ns(n,!i)}}}function zs(n){return Ns(n)}function jb(n){var i;const r=Rt(n);return(i=r==null?void 0:r.$el)!=null?i:r}const Wd=qb?window:void 0;function Ud(...n){let i,r,o,s;if(typeof n[0]=="string"||Array.isArray(n[0])?([r,o,s]=n,i=Wd):[i,r,o,s]=n,!i)return Wb;Array.isArray(r)||(r=[r]),Array.isArray(o)||(o=[o]);const u=[],l=()=>{u.forEach(p=>p()),u.length=0},d=(p,_,S,k)=>(p.addEventListener(_,S,k),()=>p.removeEventListener(_,S,k)),f=en(()=>[jb(i),Rt(s)],([p,_])=>{if(l(),!p)return;const S=$b(_)?{..._}:_;u.push(...r.flatMap(k=>o.map(P=>d(p,k,P,S))))},{immediate:!0,flush:"post"}),m=()=>{f(),l()};return Uo(m),m}function Kb(n){return typeof n=="function"?n:typeof n=="string"?i=>i.key===n:Array.isArray(n)?i=>n.includes(i.key):()=>!0}function Fc(...n){let i,r,o={};n.length===3?(i=n[0],r=n[1],o=n[2]):n.length===2?typeof n[1]=="object"?(i=!0,r=n[0],o=n[1]):(i=n[0],r=n[1]):(i=!0,r=n[0]);const{target:s=Wd,eventName:u="keydown",passive:l=!1,dedupe:d=!1}=o,f=Kb(i);return Ud(s,u,p=>{p.repeat&&Rt(d)||f(p)&&r(p)},l)}function Zb(n){return JSON.parse(JSON.stringify(n))}function bs(n,i,r,o={}){var s,u,l;const{clone:d=!1,passive:f=!1,eventName:m,deep:p=!1,defaultValue:_,shouldEmit:S}=o,k=Tr(),P=r||(k==null?void 0:k.emit)||((s=k==null?void 0:k.$emit)==null?void 0:s.bind(k))||((l=(u=k==null?void 0:k.proxy)==null?void 0:u.$emit)==null?void 0:l.bind(k==null?void 0:k.proxy));let T=m;i||(i="modelValue"),T=T||`update:${i.toString()}`;const A=B=>d?typeof d=="function"?d(B):Zb(B):B,z=()=>Fb(n[i])?A(n[i]):_,x=B=>{S?S(B)&&P(T,B):P(T,B)};if(f){const B=z(),O=Pe(B);let Q=!1;return en(()=>n[i],ue=>{Q||(Q=!0,O.value=A(ue),Hn(()=>Q=!1))}),en(O,ue=>{!Q&&(ue!==n[i]||p)&&x(ue)},{deep:p}),O}else return Me({get(){return z()},set(B){x(B)}})}var Jb={value:()=>{}};function Vo(){for(var n=0,i=arguments.length,r={},o;n<i;++n){if(!(o=arguments[n]+"")||o in r||/[\s.]/.test(o))throw new Error("illegal type: "+o);r[o]=[]}return new Co(r)}function Co(n){this._=n}function Qb(n,i){return n.trim().split(/^|\s+/).map(function(r){var o="",s=r.indexOf(".");if(s>=0&&(o=r.slice(s+1),r=r.slice(0,s)),r&&!i.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:o}})}Co.prototype=Vo.prototype={constructor:Co,on:function(n,i){var r=this._,o=Qb(n+"",r),s,u=-1,l=o.length;if(arguments.length<2){for(;++u<l;)if((s=(n=o[u]).type)&&(s=ew(r[s],n.name)))return s;return}if(i!=null&&typeof i!="function")throw new Error("invalid callback: "+i);for(;++u<l;)if(s=(n=o[u]).type)r[s]=Gc(r[s],n.name,i);else if(i==null)for(s in r)r[s]=Gc(r[s],n.name,null);return this},copy:function(){var n={},i=this._;for(var r in i)n[r]=i[r].slice();return new Co(n)},call:function(n,i){if((s=arguments.length-2)>0)for(var r=new Array(s),o=0,s,u;o<s;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(u=this._[n],o=0,s=u.length;o<s;++o)u[o].value.apply(i,r)},apply:function(n,i,r){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var o=this._[n],s=0,u=o.length;s<u;++s)o[s].value.apply(i,r)}};function ew(n,i){for(var r=0,o=n.length,s;r<o;++r)if((s=n[r]).name===i)return s.value}function Gc(n,i,r){for(var o=0,s=n.length;o<s;++o)if(n[o].name===i){n[o]=Jb,n=n.slice(0,o).concat(n.slice(o+1));break}return r!=null&&n.push({name:i,value:r}),n}var Ps="http://www.w3.org/1999/xhtml";const $c={svg:"http://www.w3.org/2000/svg",xhtml:Ps,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Yo(n){var i=n+="",r=i.indexOf(":");return r>=0&&(i=n.slice(0,r))!=="xmlns"&&(n=n.slice(r+1)),$c.hasOwnProperty(i)?{space:$c[i],local:n}:n}function nw(n){return function(){var i=this.ownerDocument,r=this.namespaceURI;return r===Ps&&i.documentElement.namespaceURI===Ps?i.createElement(n):i.createElementNS(r,n)}}function tw(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Vd(n){var i=Yo(n);return(i.local?tw:nw)(i)}function iw(){}function Zs(n){return n==null?iw:function(){return this.querySelector(n)}}function rw(n){typeof n!="function"&&(n=Zs(n));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var u=i[s],l=u.length,d=o[s]=new Array(l),f,m,p=0;p<l;++p)(f=u[p])&&(m=n.call(f,f.__data__,p,u))&&("__data__"in f&&(m.__data__=f.__data__),d[p]=m);return new Kn(o,this._parents)}function ow(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function aw(){return[]}function Yd(n){return n==null?aw:function(){return this.querySelectorAll(n)}}function sw(n){return function(){return ow(n.apply(this,arguments))}}function lw(n){typeof n=="function"?n=sw(n):n=Yd(n);for(var i=this._groups,r=i.length,o=[],s=[],u=0;u<r;++u)for(var l=i[u],d=l.length,f,m=0;m<d;++m)(f=l[m])&&(o.push(n.call(f,f.__data__,m,l)),s.push(f));return new Kn(o,s)}function Xd(n){return function(){return this.matches(n)}}function jd(n){return function(i){return i.matches(n)}}var uw=Array.prototype.find;function cw(n){return function(){return uw.call(this.children,n)}}function dw(){return this.firstElementChild}function fw(n){return this.select(n==null?dw:cw(typeof n=="function"?n:jd(n)))}var hw=Array.prototype.filter;function gw(){return Array.from(this.children)}function mw(n){return function(){return hw.call(this.children,n)}}function pw(n){return this.selectAll(n==null?gw:mw(typeof n=="function"?n:jd(n)))}function vw(n){typeof n!="function"&&(n=Xd(n));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var u=i[s],l=u.length,d=o[s]=[],f,m=0;m<l;++m)(f=u[m])&&n.call(f,f.__data__,m,u)&&d.push(f);return new Kn(o,this._parents)}function Kd(n){return new Array(n.length)}function yw(){return new Kn(this._enter||this._groups.map(Kd),this._parents)}function Do(n,i){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=i}Do.prototype={constructor:Do,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,i){return this._parent.insertBefore(n,i)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function _w(n){return function(){return n}}function bw(n,i,r,o,s,u){for(var l=0,d,f=i.length,m=u.length;l<m;++l)(d=i[l])?(d.__data__=u[l],o[l]=d):r[l]=new Do(n,u[l]);for(;l<f;++l)(d=i[l])&&(s[l]=d)}function ww(n,i,r,o,s,u,l){var d,f,m=new Map,p=i.length,_=u.length,S=new Array(p),k;for(d=0;d<p;++d)(f=i[d])&&(S[d]=k=l.call(f,f.__data__,d,i)+"",m.has(k)?s[d]=f:m.set(k,f));for(d=0;d<_;++d)k=l.call(n,u[d],d,u)+"",(f=m.get(k))?(o[d]=f,f.__data__=u[d],m.delete(k)):r[d]=new Do(n,u[d]);for(d=0;d<p;++d)(f=i[d])&&m.get(S[d])===f&&(s[d]=f)}function xw(n){return n.__data__}function kw(n,i){if(!arguments.length)return Array.from(this,xw);var r=i?ww:bw,o=this._parents,s=this._groups;typeof n!="function"&&(n=_w(n));for(var u=s.length,l=new Array(u),d=new Array(u),f=new Array(u),m=0;m<u;++m){var p=o[m],_=s[m],S=_.length,k=Ew(n.call(p,p&&p.__data__,m,o)),P=k.length,T=d[m]=new Array(P),A=l[m]=new Array(P),z=f[m]=new Array(S);r(p,_,T,A,z,k,i);for(var x=0,B=0,O,Q;x<P;++x)if(O=T[x]){for(x>=B&&(B=x+1);!(Q=A[B])&&++B<P;);O._next=Q||null}}return l=new Kn(l,o),l._enter=d,l._exit=f,l}function Ew(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function Sw(){return new Kn(this._exit||this._groups.map(Kd),this._parents)}function Tw(n,i,r){var o=this.enter(),s=this,u=this.exit();return typeof n=="function"?(o=n(o),o&&(o=o.selection())):o=o.append(n+""),i!=null&&(s=i(s),s&&(s=s.selection())),r==null?u.remove():r(u),o&&s?o.merge(s).order():s}function Mw(n){for(var i=n.selection?n.selection():n,r=this._groups,o=i._groups,s=r.length,u=o.length,l=Math.min(s,u),d=new Array(s),f=0;f<l;++f)for(var m=r[f],p=o[f],_=m.length,S=d[f]=new Array(_),k,P=0;P<_;++P)(k=m[P]||p[P])&&(S[P]=k);for(;f<s;++f)d[f]=r[f];return new Kn(d,this._parents)}function Cw(){for(var n=this._groups,i=-1,r=n.length;++i<r;)for(var o=n[i],s=o.length-1,u=o[s],l;--s>=0;)(l=o[s])&&(u&&l.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(l,u),u=l);return this}function Iw(n){n||(n=Aw);function i(_,S){return _&&S?n(_.__data__,S.__data__):!_-!S}for(var r=this._groups,o=r.length,s=new Array(o),u=0;u<o;++u){for(var l=r[u],d=l.length,f=s[u]=new Array(d),m,p=0;p<d;++p)(m=l[p])&&(f[p]=m);f.sort(i)}return new Kn(s,this._parents).order()}function Aw(n,i){return n<i?-1:n>i?1:n>=i?0:NaN}function Nw(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function zw(){return Array.from(this)}function Pw(){for(var n=this._groups,i=0,r=n.length;i<r;++i)for(var o=n[i],s=0,u=o.length;s<u;++s){var l=o[s];if(l)return l}return null}function Ow(){let n=0;for(const i of this)++n;return n}function Rw(){return!this.node()}function Dw(n){for(var i=this._groups,r=0,o=i.length;r<o;++r)for(var s=i[r],u=0,l=s.length,d;u<l;++u)(d=s[u])&&n.call(d,d.__data__,u,s);return this}function Bw(n){return function(){this.removeAttribute(n)}}function Lw(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Hw(n,i){return function(){this.setAttribute(n,i)}}function qw(n,i){return function(){this.setAttributeNS(n.space,n.local,i)}}function Fw(n,i){return function(){var r=i.apply(this,arguments);r==null?this.removeAttribute(n):this.setAttribute(n,r)}}function Gw(n,i){return function(){var r=i.apply(this,arguments);r==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,r)}}function $w(n,i){var r=Yo(n);if(arguments.length<2){var o=this.node();return r.local?o.getAttributeNS(r.space,r.local):o.getAttribute(r)}return this.each((i==null?r.local?Lw:Bw:typeof i=="function"?r.local?Gw:Fw:r.local?qw:Hw)(r,i))}function Zd(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function Ww(n){return function(){this.style.removeProperty(n)}}function Uw(n,i,r){return function(){this.style.setProperty(n,i,r)}}function Vw(n,i,r){return function(){var o=i.apply(this,arguments);o==null?this.style.removeProperty(n):this.style.setProperty(n,o,r)}}function Yw(n,i,r){return arguments.length>1?this.each((i==null?Ww:typeof i=="function"?Vw:Uw)(n,i,r==null?"":r)):Fi(this.node(),n)}function Fi(n,i){return n.style.getPropertyValue(i)||Zd(n).getComputedStyle(n,null).getPropertyValue(i)}function Xw(n){return function(){delete this[n]}}function jw(n,i){return function(){this[n]=i}}function Kw(n,i){return function(){var r=i.apply(this,arguments);r==null?delete this[n]:this[n]=r}}function Zw(n,i){return arguments.length>1?this.each((i==null?Xw:typeof i=="function"?Kw:jw)(n,i)):this.node()[n]}function Jd(n){return n.trim().split(/^|\s+/)}function Js(n){return n.classList||new Qd(n)}function Qd(n){this._node=n,this._names=Jd(n.getAttribute("class")||"")}Qd.prototype={add:function(n){var i=this._names.indexOf(n);i<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var i=this._names.indexOf(n);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function ef(n,i){for(var r=Js(n),o=-1,s=i.length;++o<s;)r.add(i[o])}function nf(n,i){for(var r=Js(n),o=-1,s=i.length;++o<s;)r.remove(i[o])}function Jw(n){return function(){ef(this,n)}}function Qw(n){return function(){nf(this,n)}}function e1(n,i){return function(){(i.apply(this,arguments)?ef:nf)(this,n)}}function n1(n,i){var r=Jd(n+"");if(arguments.length<2){for(var o=Js(this.node()),s=-1,u=r.length;++s<u;)if(!o.contains(r[s]))return!1;return!0}return this.each((typeof i=="function"?e1:i?Jw:Qw)(r,i))}function t1(){this.textContent=""}function i1(n){return function(){this.textContent=n}}function r1(n){return function(){var i=n.apply(this,arguments);this.textContent=i==null?"":i}}function o1(n){return arguments.length?this.each(n==null?t1:(typeof n=="function"?r1:i1)(n)):this.node().textContent}function a1(){this.innerHTML=""}function s1(n){return function(){this.innerHTML=n}}function l1(n){return function(){var i=n.apply(this,arguments);this.innerHTML=i==null?"":i}}function u1(n){return arguments.length?this.each(n==null?a1:(typeof n=="function"?l1:s1)(n)):this.node().innerHTML}function c1(){this.nextSibling&&this.parentNode.appendChild(this)}function d1(){return this.each(c1)}function f1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function h1(){return this.each(f1)}function g1(n){var i=typeof n=="function"?n:Vd(n);return this.select(function(){return this.appendChild(i.apply(this,arguments))})}function m1(){return null}function p1(n,i){var r=typeof n=="function"?n:Vd(n),o=i==null?m1:typeof i=="function"?i:Zs(i);return this.select(function(){return this.insertBefore(r.apply(this,arguments),o.apply(this,arguments)||null)})}function v1(){var n=this.parentNode;n&&n.removeChild(this)}function y1(){return this.each(v1)}function _1(){var n=this.cloneNode(!1),i=this.parentNode;return i?i.insertBefore(n,this.nextSibling):n}function b1(){var n=this.cloneNode(!0),i=this.parentNode;return i?i.insertBefore(n,this.nextSibling):n}function w1(n){return this.select(n?b1:_1)}function x1(n){return arguments.length?this.property("__data__",n):this.node().__data__}function k1(n){return function(i){n.call(this,i,this.__data__)}}function E1(n){return n.trim().split(/^|\s+/).map(function(i){var r="",o=i.indexOf(".");return o>=0&&(r=i.slice(o+1),i=i.slice(0,o)),{type:i,name:r}})}function S1(n){return function(){var i=this.__on;if(i){for(var r=0,o=-1,s=i.length,u;r<s;++r)u=i[r],(!n.type||u.type===n.type)&&u.name===n.name?this.removeEventListener(u.type,u.listener,u.options):i[++o]=u;++o?i.length=o:delete this.__on}}}function T1(n,i,r){return function(){var o=this.__on,s,u=k1(i);if(o){for(var l=0,d=o.length;l<d;++l)if((s=o[l]).type===n.type&&s.name===n.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=u,s.options=r),s.value=i;return}}this.addEventListener(n.type,u,r),s={type:n.type,name:n.name,value:i,listener:u,options:r},o?o.push(s):this.__on=[s]}}function M1(n,i,r){var o=E1(n+""),s,u=o.length,l;if(arguments.length<2){var d=this.node().__on;if(d){for(var f=0,m=d.length,p;f<m;++f)for(s=0,p=d[f];s<u;++s)if((l=o[s]).type===p.type&&l.name===p.name)return p.value}return}for(d=i?T1:S1,s=0;s<u;++s)this.each(d(o[s],i,r));return this}function tf(n,i,r){var o=Zd(n),s=o.CustomEvent;typeof s=="function"?s=new s(i,r):(s=o.document.createEvent("Event"),r?(s.initEvent(i,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(i,!1,!1)),n.dispatchEvent(s)}function C1(n,i){return function(){return tf(this,n,i)}}function I1(n,i){return function(){return tf(this,n,i.apply(this,arguments))}}function A1(n,i){return this.each((typeof i=="function"?I1:C1)(n,i))}function*N1(){for(var n=this._groups,i=0,r=n.length;i<r;++i)for(var o=n[i],s=0,u=o.length,l;s<u;++s)(l=o[s])&&(yield l)}var rf=[null];function Kn(n,i){this._groups=n,this._parents=i}function Mr(){return new Kn([[document.documentElement]],rf)}function z1(){return this}Kn.prototype=Mr.prototype={constructor:Kn,select:rw,selectAll:lw,selectChild:fw,selectChildren:pw,filter:vw,data:kw,enter:yw,exit:Sw,join:Tw,merge:Mw,selection:z1,order:Cw,sort:Iw,call:Nw,nodes:zw,node:Pw,size:Ow,empty:Rw,each:Dw,attr:$w,style:Yw,property:Zw,classed:n1,text:o1,html:u1,raise:d1,lower:h1,append:g1,insert:p1,remove:y1,clone:w1,datum:x1,on:M1,dispatch:A1,[Symbol.iterator]:N1};function dt(n){return typeof n=="string"?new Kn([[document.querySelector(n)]],[document.documentElement]):new Kn([[n]],rf)}function P1(n){let i;for(;i=n.sourceEvent;)n=i;return n}function yt(n,i){if(n=P1(n),i===void 0&&(i=n.currentTarget),i){var r=i.ownerSVGElement||i;if(r.createSVGPoint){var o=r.createSVGPoint();return o.x=n.clientX,o.y=n.clientY,o=o.matrixTransform(i.getScreenCTM().inverse()),[o.x,o.y]}if(i.getBoundingClientRect){var s=i.getBoundingClientRect();return[n.clientX-s.left-i.clientLeft,n.clientY-s.top-i.clientTop]}}return[n.pageX,n.pageY]}const O1={passive:!1},_r={capture:!0,passive:!1};function ws(n){n.stopImmediatePropagation()}function Bi(n){n.preventDefault(),n.stopImmediatePropagation()}function of(n){var i=n.document.documentElement,r=dt(n).on("dragstart.drag",Bi,_r);"onselectstart"in i?r.on("selectstart.drag",Bi,_r):(i.__noselect=i.style.MozUserSelect,i.style.MozUserSelect="none")}function af(n,i){var r=n.document.documentElement,o=dt(n).on("dragstart.drag",null);i&&(o.on("click.drag",Bi,_r),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in r?o.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const _o=n=>()=>n;function Os(n,{sourceEvent:i,subject:r,target:o,identifier:s,active:u,x:l,y:d,dx:f,dy:m,dispatch:p}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:d,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:m,enumerable:!0,configurable:!0},_:{value:p}})}Os.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function R1(n){return!n.ctrlKey&&!n.button}function D1(){return this.parentNode}function B1(n,i){return i==null?{x:n.x,y:n.y}:i}function L1(){return navigator.maxTouchPoints||"ontouchstart"in this}function H1(){var n=R1,i=D1,r=B1,o=L1,s={},u=Vo("start","drag","end"),l=0,d,f,m,p,_=0;function S(O){O.on("mousedown.drag",k).filter(o).on("touchstart.drag",A).on("touchmove.drag",z,O1).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function k(O,Q){if(!(p||!n.call(this,O,Q))){var ue=B(this,i.call(this,O,Q),O,Q,"mouse");ue&&(dt(O.view).on("mousemove.drag",P,_r).on("mouseup.drag",T,_r),of(O.view),ws(O),m=!1,d=O.clientX,f=O.clientY,ue("start",O))}}function P(O){if(Bi(O),!m){var Q=O.clientX-d,ue=O.clientY-f;m=Q*Q+ue*ue>_}s.mouse("drag",O)}function T(O){dt(O.view).on("mousemove.drag mouseup.drag",null),af(O.view,m),Bi(O),s.mouse("end",O)}function A(O,Q){if(n.call(this,O,Q)){var ue=O.changedTouches,te=i.call(this,O,Q),de=ue.length,ye,J;for(ye=0;ye<de;++ye)(J=B(this,te,O,Q,ue[ye].identifier,ue[ye]))&&(ws(O),J("start",O,ue[ye]))}}function z(O){var Q=O.changedTouches,ue=Q.length,te,de;for(te=0;te<ue;++te)(de=s[Q[te].identifier])&&(Bi(O),de("drag",O,Q[te]))}function x(O){var Q=O.changedTouches,ue=Q.length,te,de;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),te=0;te<ue;++te)(de=s[Q[te].identifier])&&(ws(O),de("end",O,Q[te]))}function B(O,Q,ue,te,de,ye){var J=u.copy(),M=yt(ye||ue,Q),be,Ne,I;if((I=r.call(O,new Os("beforestart",{sourceEvent:ue,target:S,identifier:de,active:l,x:M[0],y:M[1],dx:0,dy:0,dispatch:J}),te))!=null)return be=I.x-M[0]||0,Ne=I.y-M[1]||0,function F(R,V,Z){var re=M,fe;switch(R){case"start":s[de]=F,fe=l++;break;case"end":delete s[de],--l;case"drag":M=yt(Z||V,Q),fe=l;break}J.call(R,O,new Os(R,{sourceEvent:V,subject:I,target:S,identifier:de,active:fe,x:M[0]+be,y:M[1]+Ne,dx:M[0]-re[0],dy:M[1]-re[1],dispatch:J}),te)}}return S.filter=function(O){return arguments.length?(n=typeof O=="function"?O:_o(!!O),S):n},S.container=function(O){return arguments.length?(i=typeof O=="function"?O:_o(O),S):i},S.subject=function(O){return arguments.length?(r=typeof O=="function"?O:_o(O),S):r},S.touchable=function(O){return arguments.length?(o=typeof O=="function"?O:_o(!!O),S):o},S.on=function(){var O=u.on.apply(u,arguments);return O===u?S:O},S.clickDistance=function(O){return arguments.length?(_=(O=+O)*O,S):Math.sqrt(_)},S}function Qs(n,i,r){n.prototype=i.prototype=r,r.constructor=n}function sf(n,i){var r=Object.create(n.prototype);for(var o in i)r[o]=i[o];return r}function Cr(){}var br=.7,Bo=1/br,Li="\\s*([+-]?\\d+)\\s*",wr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",q1=/^#([0-9a-f]{3,8})$/,F1=new RegExp(`^rgb\\(${Li},${Li},${Li}\\)$`),G1=new RegExp(`^rgb\\(${_t},${_t},${_t}\\)$`),$1=new RegExp(`^rgba\\(${Li},${Li},${Li},${wr}\\)$`),W1=new RegExp(`^rgba\\(${_t},${_t},${_t},${wr}\\)$`),U1=new RegExp(`^hsl\\(${wr},${_t},${_t}\\)$`),V1=new RegExp(`^hsla\\(${wr},${_t},${_t},${wr}\\)$`),Wc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qs(Cr,xr,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Uc,formatHex:Uc,formatHex8:Y1,formatHsl:X1,formatRgb:Vc,toString:Vc});function Uc(){return this.rgb().formatHex()}function Y1(){return this.rgb().formatHex8()}function X1(){return lf(this).formatHsl()}function Vc(){return this.rgb().formatRgb()}function xr(n){var i,r;return n=(n+"").trim().toLowerCase(),(i=q1.exec(n))?(r=i[1].length,i=parseInt(i[1],16),r===6?Yc(i):r===3?new qn(i>>8&15|i>>4&240,i>>4&15|i&240,(i&15)<<4|i&15,1):r===8?bo(i>>24&255,i>>16&255,i>>8&255,(i&255)/255):r===4?bo(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|i&240,((i&15)<<4|i&15)/255):null):(i=F1.exec(n))?new qn(i[1],i[2],i[3],1):(i=G1.exec(n))?new qn(i[1]*255/100,i[2]*255/100,i[3]*255/100,1):(i=$1.exec(n))?bo(i[1],i[2],i[3],i[4]):(i=W1.exec(n))?bo(i[1]*255/100,i[2]*255/100,i[3]*255/100,i[4]):(i=U1.exec(n))?Kc(i[1],i[2]/100,i[3]/100,1):(i=V1.exec(n))?Kc(i[1],i[2]/100,i[3]/100,i[4]):Wc.hasOwnProperty(n)?Yc(Wc[n]):n==="transparent"?new qn(NaN,NaN,NaN,0):null}function Yc(n){return new qn(n>>16&255,n>>8&255,n&255,1)}function bo(n,i,r,o){return o<=0&&(n=i=r=NaN),new qn(n,i,r,o)}function j1(n){return n instanceof Cr||(n=xr(n)),n?(n=n.rgb(),new qn(n.r,n.g,n.b,n.opacity)):new qn}function Rs(n,i,r,o){return arguments.length===1?j1(n):new qn(n,i,r,o==null?1:o)}function qn(n,i,r,o){this.r=+n,this.g=+i,this.b=+r,this.opacity=+o}Qs(qn,Rs,sf(Cr,{brighter(n){return n=n==null?Bo:Math.pow(Bo,n),new qn(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?br:Math.pow(br,n),new qn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new qn(hi(this.r),hi(this.g),hi(this.b),Lo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xc,formatHex:Xc,formatHex8:K1,formatRgb:jc,toString:jc}));function Xc(){return`#${di(this.r)}${di(this.g)}${di(this.b)}`}function K1(){return`#${di(this.r)}${di(this.g)}${di(this.b)}${di((isNaN(this.opacity)?1:this.opacity)*255)}`}function jc(){const n=Lo(this.opacity);return`${n===1?"rgb(":"rgba("}${hi(this.r)}, ${hi(this.g)}, ${hi(this.b)}${n===1?")":`, ${n})`}`}function Lo(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function hi(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function di(n){return n=hi(n),(n<16?"0":"")+n.toString(16)}function Kc(n,i,r,o){return o<=0?n=i=r=NaN:r<=0||r>=1?n=i=NaN:i<=0&&(n=NaN),new ft(n,i,r,o)}function lf(n){if(n instanceof ft)return new ft(n.h,n.s,n.l,n.opacity);if(n instanceof Cr||(n=xr(n)),!n)return new ft;if(n instanceof ft)return n;n=n.rgb();var i=n.r/255,r=n.g/255,o=n.b/255,s=Math.min(i,r,o),u=Math.max(i,r,o),l=NaN,d=u-s,f=(u+s)/2;return d?(i===u?l=(r-o)/d+(r<o)*6:r===u?l=(o-i)/d+2:l=(i-r)/d+4,d/=f<.5?u+s:2-u-s,l*=60):d=f>0&&f<1?0:l,new ft(l,d,f,n.opacity)}function Z1(n,i,r,o){return arguments.length===1?lf(n):new ft(n,i,r,o==null?1:o)}function ft(n,i,r,o){this.h=+n,this.s=+i,this.l=+r,this.opacity=+o}Qs(ft,Z1,sf(Cr,{brighter(n){return n=n==null?Bo:Math.pow(Bo,n),new ft(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?br:Math.pow(br,n),new ft(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,i=isNaN(n)||isNaN(this.s)?0:this.s,r=this.l,o=r+(r<.5?r:1-r)*i,s=2*r-o;return new qn(xs(n>=240?n-240:n+120,s,o),xs(n,s,o),xs(n<120?n+240:n-120,s,o),this.opacity)},clamp(){return new ft(Zc(this.h),wo(this.s),wo(this.l),Lo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Lo(this.opacity);return`${n===1?"hsl(":"hsla("}${Zc(this.h)}, ${wo(this.s)*100}%, ${wo(this.l)*100}%${n===1?")":`, ${n})`}`}}));function Zc(n){return n=(n||0)%360,n<0?n+360:n}function wo(n){return Math.max(0,Math.min(1,n||0))}function xs(n,i,r){return(n<60?i+(r-i)*n/60:n<180?r:n<240?i+(r-i)*(240-n)/60:i)*255}const uf=n=>()=>n;function J1(n,i){return function(r){return n+r*i}}function Q1(n,i,r){return n=Math.pow(n,r),i=Math.pow(i,r)-n,r=1/r,function(o){return Math.pow(n+o*i,r)}}function ex(n){return(n=+n)==1?cf:function(i,r){return r-i?Q1(i,r,n):uf(isNaN(i)?r:i)}}function cf(n,i){var r=i-n;return r?J1(n,r):uf(isNaN(n)?i:n)}const Jc=function n(i){var r=ex(i);function o(s,u){var l=r((s=Rs(s)).r,(u=Rs(u)).r),d=r(s.g,u.g),f=r(s.b,u.b),m=cf(s.opacity,u.opacity);return function(p){return s.r=l(p),s.g=d(p),s.b=f(p),s.opacity=m(p),s+""}}return o.gamma=n,o}(1);function jt(n,i){return n=+n,i=+i,function(r){return n*(1-r)+i*r}}var Ds=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ks=new RegExp(Ds.source,"g");function nx(n){return function(){return n}}function tx(n){return function(i){return n(i)+""}}function ix(n,i){var r=Ds.lastIndex=ks.lastIndex=0,o,s,u,l=-1,d=[],f=[];for(n=n+"",i=i+"";(o=Ds.exec(n))&&(s=ks.exec(i));)(u=s.index)>r&&(u=i.slice(r,u),d[l]?d[l]+=u:d[++l]=u),(o=o[0])===(s=s[0])?d[l]?d[l]+=s:d[++l]=s:(d[++l]=null,f.push({i:l,x:jt(o,s)})),r=ks.lastIndex;return r<i.length&&(u=i.slice(r),d[l]?d[l]+=u:d[++l]=u),d.length<2?f[0]?tx(f[0].x):nx(i):(i=f.length,function(m){for(var p=0,_;p<i;++p)d[(_=f[p]).i]=_.x(m);return d.join("")})}var Qc=180/Math.PI,Bs={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function df(n,i,r,o,s,u){var l,d,f;return(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l),(f=n*r+i*o)&&(r-=n*f,o-=i*f),(d=Math.sqrt(r*r+o*o))&&(r/=d,o/=d,f/=d),n*o<i*r&&(n=-n,i=-i,f=-f,l=-l),{translateX:s,translateY:u,rotate:Math.atan2(i,n)*Qc,skewX:Math.atan(f)*Qc,scaleX:l,scaleY:d}}var xo;function rx(n){const i=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return i.isIdentity?Bs:df(i.a,i.b,i.c,i.d,i.e,i.f)}function ox(n){return n==null||(xo||(xo=document.createElementNS("http://www.w3.org/2000/svg","g")),xo.setAttribute("transform",n),!(n=xo.transform.baseVal.consolidate()))?Bs:(n=n.matrix,df(n.a,n.b,n.c,n.d,n.e,n.f))}function ff(n,i,r,o){function s(m){return m.length?m.pop()+" ":""}function u(m,p,_,S,k,P){if(m!==_||p!==S){var T=k.push("translate(",null,i,null,r);P.push({i:T-4,x:jt(m,_)},{i:T-2,x:jt(p,S)})}else(_||S)&&k.push("translate("+_+i+S+r)}function l(m,p,_,S){m!==p?(m-p>180?p+=360:p-m>180&&(m+=360),S.push({i:_.push(s(_)+"rotate(",null,o)-2,x:jt(m,p)})):p&&_.push(s(_)+"rotate("+p+o)}function d(m,p,_,S){m!==p?S.push({i:_.push(s(_)+"skewX(",null,o)-2,x:jt(m,p)}):p&&_.push(s(_)+"skewX("+p+o)}function f(m,p,_,S,k,P){if(m!==_||p!==S){var T=k.push(s(k)+"scale(",null,",",null,")");P.push({i:T-4,x:jt(m,_)},{i:T-2,x:jt(p,S)})}else(_!==1||S!==1)&&k.push(s(k)+"scale("+_+","+S+")")}return function(m,p){var _=[],S=[];return m=n(m),p=n(p),u(m.translateX,m.translateY,p.translateX,p.translateY,_,S),l(m.rotate,p.rotate,_,S),d(m.skewX,p.skewX,_,S),f(m.scaleX,m.scaleY,p.scaleX,p.scaleY,_,S),m=p=null,function(k){for(var P=-1,T=S.length,A;++P<T;)_[(A=S[P]).i]=A.x(k);return _.join("")}}}var ax=ff(rx,"px, ","px)","deg)"),sx=ff(ox,", ",")",")"),lx=1e-12;function ed(n){return((n=Math.exp(n))+1/n)/2}function ux(n){return((n=Math.exp(n))-1/n)/2}function cx(n){return((n=Math.exp(2*n))-1)/(n+1)}const dx=function n(i,r,o){function s(u,l){var d=u[0],f=u[1],m=u[2],p=l[0],_=l[1],S=l[2],k=p-d,P=_-f,T=k*k+P*P,A,z;if(T<lx)z=Math.log(S/m)/i,A=function(te){return[d+te*k,f+te*P,m*Math.exp(i*te*z)]};else{var x=Math.sqrt(T),B=(S*S-m*m+o*T)/(2*m*r*x),O=(S*S-m*m-o*T)/(2*S*r*x),Q=Math.log(Math.sqrt(B*B+1)-B),ue=Math.log(Math.sqrt(O*O+1)-O);z=(ue-Q)/i,A=function(te){var de=te*z,ye=ed(Q),J=m/(r*x)*(ye*cx(i*de+Q)-ux(Q));return[d+J*k,f+J*P,m*ye/ed(i*de+Q)]}}return A.duration=z*1e3*i/Math.SQRT2,A}return s.rho=function(u){var l=Math.max(.001,+u),d=l*l,f=d*d;return n(l,d,f)},s}(Math.SQRT2,2,4);var Gi=0,hr=0,ur=0,hf=1e3,Ho,gr,qo=0,pi=0,Xo=0,kr=typeof performance=="object"&&performance.now?performance:Date,gf=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function el(){return pi||(gf(fx),pi=kr.now()+Xo)}function fx(){pi=0}function Fo(){this._call=this._time=this._next=null}Fo.prototype=mf.prototype={constructor:Fo,restart:function(n,i,r){if(typeof n!="function")throw new TypeError("callback is not a function");r=(r==null?el():+r)+(i==null?0:+i),!this._next&&gr!==this&&(gr?gr._next=this:Ho=this,gr=this),this._call=n,this._time=r,Ls()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ls())}};function mf(n,i,r){var o=new Fo;return o.restart(n,i,r),o}function hx(){el(),++Gi;for(var n=Ho,i;n;)(i=pi-n._time)>=0&&n._call.call(void 0,i),n=n._next;--Gi}function nd(){pi=(qo=kr.now())+Xo,Gi=hr=0;try{hx()}finally{Gi=0,mx(),pi=0}}function gx(){var n=kr.now(),i=n-qo;i>hf&&(Xo-=i,qo=n)}function mx(){for(var n,i=Ho,r,o=1/0;i;)i._call?(o>i._time&&(o=i._time),n=i,i=i._next):(r=i._next,i._next=null,i=n?n._next=r:Ho=r);gr=n,Ls(o)}function Ls(n){if(!Gi){hr&&(hr=clearTimeout(hr));var i=n-pi;i>24?(n<1/0&&(hr=setTimeout(nd,n-kr.now()-Xo)),ur&&(ur=clearInterval(ur))):(ur||(qo=kr.now(),ur=setInterval(gx,hf)),Gi=1,gf(nd))}}function td(n,i,r){var o=new Fo;return i=i==null?0:+i,o.restart(s=>{o.stop(),n(s+i)},i,r),o}var px=Vo("start","end","cancel","interrupt"),vx=[],pf=0,id=1,Hs=2,Io=3,rd=4,qs=5,Ao=6;function jo(n,i,r,o,s,u){var l=n.__transition;if(!l)n.__transition={};else if(r in l)return;yx(n,r,{name:i,index:o,group:s,on:px,tween:vx,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:pf})}function nl(n,i){var r=gt(n,i);if(r.state>pf)throw new Error("too late; already scheduled");return r}function wt(n,i){var r=gt(n,i);if(r.state>Io)throw new Error("too late; already running");return r}function gt(n,i){var r=n.__transition;if(!r||!(r=r[i]))throw new Error("transition not found");return r}function yx(n,i,r){var o=n.__transition,s;o[i]=r,r.timer=mf(u,0,r.time);function u(m){r.state=id,r.timer.restart(l,r.delay,r.time),r.delay<=m&&l(m-r.delay)}function l(m){var p,_,S,k;if(r.state!==id)return f();for(p in o)if(k=o[p],k.name===r.name){if(k.state===Io)return td(l);k.state===rd?(k.state=Ao,k.timer.stop(),k.on.call("interrupt",n,n.__data__,k.index,k.group),delete o[p]):+p<i&&(k.state=Ao,k.timer.stop(),k.on.call("cancel",n,n.__data__,k.index,k.group),delete o[p])}if(td(function(){r.state===Io&&(r.state=rd,r.timer.restart(d,r.delay,r.time),d(m))}),r.state=Hs,r.on.call("start",n,n.__data__,r.index,r.group),r.state===Hs){for(r.state=Io,s=new Array(S=r.tween.length),p=0,_=-1;p<S;++p)(k=r.tween[p].value.call(n,n.__data__,r.index,r.group))&&(s[++_]=k);s.length=_+1}}function d(m){for(var p=m<r.duration?r.ease.call(null,m/r.duration):(r.timer.restart(f),r.state=qs,1),_=-1,S=s.length;++_<S;)s[_].call(n,p);r.state===qs&&(r.on.call("end",n,n.__data__,r.index,r.group),f())}function f(){r.state=Ao,r.timer.stop(),delete o[i];for(var m in o)return;delete n.__transition}}function No(n,i){var r=n.__transition,o,s,u=!0,l;if(r){i=i==null?null:i+"";for(l in r){if((o=r[l]).name!==i){u=!1;continue}s=o.state>Hs&&o.state<qs,o.state=Ao,o.timer.stop(),o.on.call(s?"interrupt":"cancel",n,n.__data__,o.index,o.group),delete r[l]}u&&delete n.__transition}}function _x(n){return this.each(function(){No(this,n)})}function bx(n,i){var r,o;return function(){var s=wt(this,n),u=s.tween;if(u!==r){o=r=u;for(var l=0,d=o.length;l<d;++l)if(o[l].name===i){o=o.slice(),o.splice(l,1);break}}s.tween=o}}function wx(n,i,r){var o,s;if(typeof r!="function")throw new Error;return function(){var u=wt(this,n),l=u.tween;if(l!==o){s=(o=l).slice();for(var d={name:i,value:r},f=0,m=s.length;f<m;++f)if(s[f].name===i){s[f]=d;break}f===m&&s.push(d)}u.tween=s}}function xx(n,i){var r=this._id;if(n+="",arguments.length<2){for(var o=gt(this.node(),r).tween,s=0,u=o.length,l;s<u;++s)if((l=o[s]).name===n)return l.value;return null}return this.each((i==null?bx:wx)(r,n,i))}function tl(n,i,r){var o=n._id;return n.each(function(){var s=wt(this,o);(s.value||(s.value={}))[i]=r.apply(this,arguments)}),function(s){return gt(s,o).value[i]}}function vf(n,i){var r;return(typeof i=="number"?jt:i instanceof xr?Jc:(r=xr(i))?(i=r,Jc):ix)(n,i)}function kx(n){return function(){this.removeAttribute(n)}}function Ex(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Sx(n,i,r){var o,s=r+"",u;return function(){var l=this.getAttribute(n);return l===s?null:l===o?u:u=i(o=l,r)}}function Tx(n,i,r){var o,s=r+"",u;return function(){var l=this.getAttributeNS(n.space,n.local);return l===s?null:l===o?u:u=i(o=l,r)}}function Mx(n,i,r){var o,s,u;return function(){var l,d=r(this),f;return d==null?void this.removeAttribute(n):(l=this.getAttribute(n),f=d+"",l===f?null:l===o&&f===s?u:(s=f,u=i(o=l,d)))}}function Cx(n,i,r){var o,s,u;return function(){var l,d=r(this),f;return d==null?void this.removeAttributeNS(n.space,n.local):(l=this.getAttributeNS(n.space,n.local),f=d+"",l===f?null:l===o&&f===s?u:(s=f,u=i(o=l,d)))}}function Ix(n,i){var r=Yo(n),o=r==="transform"?sx:vf;return this.attrTween(n,typeof i=="function"?(r.local?Cx:Mx)(r,o,tl(this,"attr."+n,i)):i==null?(r.local?Ex:kx)(r):(r.local?Tx:Sx)(r,o,i))}function Ax(n,i){return function(r){this.setAttribute(n,i.call(this,r))}}function Nx(n,i){return function(r){this.setAttributeNS(n.space,n.local,i.call(this,r))}}function zx(n,i){var r,o;function s(){var u=i.apply(this,arguments);return u!==o&&(r=(o=u)&&Nx(n,u)),r}return s._value=i,s}function Px(n,i){var r,o;function s(){var u=i.apply(this,arguments);return u!==o&&(r=(o=u)&&Ax(n,u)),r}return s._value=i,s}function Ox(n,i){var r="attr."+n;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(i==null)return this.tween(r,null);if(typeof i!="function")throw new Error;var o=Yo(n);return this.tween(r,(o.local?zx:Px)(o,i))}function Rx(n,i){return function(){nl(this,n).delay=+i.apply(this,arguments)}}function Dx(n,i){return i=+i,function(){nl(this,n).delay=i}}function Bx(n){var i=this._id;return arguments.length?this.each((typeof n=="function"?Rx:Dx)(i,n)):gt(this.node(),i).delay}function Lx(n,i){return function(){wt(this,n).duration=+i.apply(this,arguments)}}function Hx(n,i){return i=+i,function(){wt(this,n).duration=i}}function qx(n){var i=this._id;return arguments.length?this.each((typeof n=="function"?Lx:Hx)(i,n)):gt(this.node(),i).duration}function Fx(n,i){if(typeof i!="function")throw new Error;return function(){wt(this,n).ease=i}}function Gx(n){var i=this._id;return arguments.length?this.each(Fx(i,n)):gt(this.node(),i).ease}function $x(n,i){return function(){var r=i.apply(this,arguments);if(typeof r!="function")throw new Error;wt(this,n).ease=r}}function Wx(n){if(typeof n!="function")throw new Error;return this.each($x(this._id,n))}function Ux(n){typeof n!="function"&&(n=Xd(n));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var u=i[s],l=u.length,d=o[s]=[],f,m=0;m<l;++m)(f=u[m])&&n.call(f,f.__data__,m,u)&&d.push(f);return new Bt(o,this._parents,this._name,this._id)}function Vx(n){if(n._id!==this._id)throw new Error;for(var i=this._groups,r=n._groups,o=i.length,s=r.length,u=Math.min(o,s),l=new Array(o),d=0;d<u;++d)for(var f=i[d],m=r[d],p=f.length,_=l[d]=new Array(p),S,k=0;k<p;++k)(S=f[k]||m[k])&&(_[k]=S);for(;d<o;++d)l[d]=i[d];return new Bt(l,this._parents,this._name,this._id)}function Yx(n){return(n+"").trim().split(/^|\s+/).every(function(i){var r=i.indexOf(".");return r>=0&&(i=i.slice(0,r)),!i||i==="start"})}function Xx(n,i,r){var o,s,u=Yx(i)?nl:wt;return function(){var l=u(this,n),d=l.on;d!==o&&(s=(o=d).copy()).on(i,r),l.on=s}}function jx(n,i){var r=this._id;return arguments.length<2?gt(this.node(),r).on.on(n):this.each(Xx(r,n,i))}function Kx(n){return function(){var i=this.parentNode;for(var r in this.__transition)if(+r!==n)return;i&&i.removeChild(this)}}function Zx(){return this.on("end.remove",Kx(this._id))}function Jx(n){var i=this._name,r=this._id;typeof n!="function"&&(n=Zs(n));for(var o=this._groups,s=o.length,u=new Array(s),l=0;l<s;++l)for(var d=o[l],f=d.length,m=u[l]=new Array(f),p,_,S=0;S<f;++S)(p=d[S])&&(_=n.call(p,p.__data__,S,d))&&("__data__"in p&&(_.__data__=p.__data__),m[S]=_,jo(m[S],i,r,S,m,gt(p,r)));return new Bt(u,this._parents,i,r)}function Qx(n){var i=this._name,r=this._id;typeof n!="function"&&(n=Yd(n));for(var o=this._groups,s=o.length,u=[],l=[],d=0;d<s;++d)for(var f=o[d],m=f.length,p,_=0;_<m;++_)if(p=f[_]){for(var S=n.call(p,p.__data__,_,f),k,P=gt(p,r),T=0,A=S.length;T<A;++T)(k=S[T])&&jo(k,i,r,T,S,P);u.push(S),l.push(p)}return new Bt(u,l,i,r)}var ek=Mr.prototype.constructor;function nk(){return new ek(this._groups,this._parents)}function tk(n,i){var r,o,s;return function(){var u=Fi(this,n),l=(this.style.removeProperty(n),Fi(this,n));return u===l?null:u===r&&l===o?s:s=i(r=u,o=l)}}function yf(n){return function(){this.style.removeProperty(n)}}function ik(n,i,r){var o,s=r+"",u;return function(){var l=Fi(this,n);return l===s?null:l===o?u:u=i(o=l,r)}}function rk(n,i,r){var o,s,u;return function(){var l=Fi(this,n),d=r(this),f=d+"";return d==null&&(f=d=(this.style.removeProperty(n),Fi(this,n))),l===f?null:l===o&&f===s?u:(s=f,u=i(o=l,d))}}function ok(n,i){var r,o,s,u="style."+i,l="end."+u,d;return function(){var f=wt(this,n),m=f.on,p=f.value[u]==null?d||(d=yf(i)):void 0;(m!==r||s!==p)&&(o=(r=m).copy()).on(l,s=p),f.on=o}}function ak(n,i,r){var o=(n+="")=="transform"?ax:vf;return i==null?this.styleTween(n,tk(n,o)).on("end.style."+n,yf(n)):typeof i=="function"?this.styleTween(n,rk(n,o,tl(this,"style."+n,i))).each(ok(this._id,n)):this.styleTween(n,ik(n,o,i),r).on("end.style."+n,null)}function sk(n,i,r){return function(o){this.style.setProperty(n,i.call(this,o),r)}}function lk(n,i,r){var o,s;function u(){var l=i.apply(this,arguments);return l!==s&&(o=(s=l)&&sk(n,l,r)),o}return u._value=i,u}function uk(n,i,r){var o="style."+(n+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(i==null)return this.tween(o,null);if(typeof i!="function")throw new Error;return this.tween(o,lk(n,i,r==null?"":r))}function ck(n){return function(){this.textContent=n}}function dk(n){return function(){var i=n(this);this.textContent=i==null?"":i}}function fk(n){return this.tween("text",typeof n=="function"?dk(tl(this,"text",n)):ck(n==null?"":n+""))}function hk(n){return function(i){this.textContent=n.call(this,i)}}function gk(n){var i,r;function o(){var s=n.apply(this,arguments);return s!==r&&(i=(r=s)&&hk(s)),i}return o._value=n,o}function mk(n){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,gk(n))}function pk(){for(var n=this._name,i=this._id,r=_f(),o=this._groups,s=o.length,u=0;u<s;++u)for(var l=o[u],d=l.length,f,m=0;m<d;++m)if(f=l[m]){var p=gt(f,i);jo(f,n,r,m,l,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Bt(o,this._parents,n,r)}function vk(){var n,i,r=this,o=r._id,s=r.size();return new Promise(function(u,l){var d={value:l},f={value:function(){--s===0&&u()}};r.each(function(){var m=wt(this,o),p=m.on;p!==n&&(i=(n=p).copy(),i._.cancel.push(d),i._.interrupt.push(d),i._.end.push(f)),m.on=i}),s===0&&u()})}var yk=0;function Bt(n,i,r,o){this._groups=n,this._parents=i,this._name=r,this._id=o}function _f(){return++yk}var zt=Mr.prototype;Bt.prototype={constructor:Bt,select:Jx,selectAll:Qx,selectChild:zt.selectChild,selectChildren:zt.selectChildren,filter:Ux,merge:Vx,selection:nk,transition:pk,call:zt.call,nodes:zt.nodes,node:zt.node,size:zt.size,empty:zt.empty,each:zt.each,on:jx,attr:Ix,attrTween:Ox,style:ak,styleTween:uk,text:fk,textTween:mk,remove:Zx,tween:xx,delay:Bx,duration:qx,ease:Gx,easeVarying:Wx,end:vk,[Symbol.iterator]:zt[Symbol.iterator]};function _k(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var bk={time:null,delay:0,duration:250,ease:_k};function wk(n,i){for(var r;!(r=n.__transition)||!(r=r[i]);)if(!(n=n.parentNode))throw new Error(`transition ${i} not found`);return r}function xk(n){var i,r;n instanceof Bt?(i=n._id,n=n._name):(i=_f(),(r=bk).time=el(),n=n==null?null:n+"");for(var o=this._groups,s=o.length,u=0;u<s;++u)for(var l=o[u],d=l.length,f,m=0;m<d;++m)(f=l[m])&&jo(f,n,i,m,l,r||wk(f,i));return new Bt(o,this._parents,n,i)}Mr.prototype.interrupt=_x;Mr.prototype.transition=xk;const ko=n=>()=>n;function kk(n,{sourceEvent:i,target:r,transform:o,dispatch:s}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:s}})}function Dt(n,i,r){this.k=n,this.x=i,this.y=r}Dt.prototype={constructor:Dt,scale:function(n){return n===1?this:new Dt(this.k*n,this.x,this.y)},translate:function(n,i){return n===0&i===0?this:new Dt(this.k,this.x+this.k*n,this.y+this.k*i)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var $i=new Dt(1,0,0);Dt.prototype;function Es(n){n.stopImmediatePropagation()}function cr(n){n.preventDefault(),n.stopImmediatePropagation()}function Ek(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function Sk(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function od(){return this.__zoom||$i}function Tk(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function Mk(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ck(n,i,r){var o=n.invertX(i[0][0])-r[0][0],s=n.invertX(i[1][0])-r[1][0],u=n.invertY(i[0][1])-r[0][1],l=n.invertY(i[1][1])-r[1][1];return n.translate(s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s),l>u?(u+l)/2:Math.min(0,u)||Math.max(0,l))}function Ik(){var n=Ek,i=Sk,r=Ck,o=Tk,s=Mk,u=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],d=250,f=dx,m=Vo("start","zoom","end"),p,_,S,k=500,P=150,T=0,A=10;function z(I){I.property("__zoom",od).on("wheel.zoom",de,{passive:!1}).on("mousedown.zoom",ye).on("dblclick.zoom",J).filter(s).on("touchstart.zoom",M).on("touchmove.zoom",be).on("touchend.zoom touchcancel.zoom",Ne).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}z.transform=function(I,F,R,V){var Z=I.selection?I.selection():I;Z.property("__zoom",od),I!==Z?Q(I,F,R,V):Z.interrupt().each(function(){ue(this,arguments).event(V).start().zoom(null,typeof F=="function"?F.apply(this,arguments):F).end()})},z.scaleBy=function(I,F,R,V){z.scaleTo(I,function(){var Z=this.__zoom.k,re=typeof F=="function"?F.apply(this,arguments):F;return Z*re},R,V)},z.scaleTo=function(I,F,R,V){z.transform(I,function(){var Z=i.apply(this,arguments),re=this.__zoom,fe=R==null?O(Z):typeof R=="function"?R.apply(this,arguments):R,ee=re.invert(fe),Se=typeof F=="function"?F.apply(this,arguments):F;return r(B(x(re,Se),fe,ee),Z,l)},R,V)},z.translateBy=function(I,F,R,V){z.transform(I,function(){return r(this.__zoom.translate(typeof F=="function"?F.apply(this,arguments):F,typeof R=="function"?R.apply(this,arguments):R),i.apply(this,arguments),l)},null,V)},z.translateTo=function(I,F,R,V,Z){z.transform(I,function(){var re=i.apply(this,arguments),fe=this.__zoom,ee=V==null?O(re):typeof V=="function"?V.apply(this,arguments):V;return r($i.translate(ee[0],ee[1]).scale(fe.k).translate(typeof F=="function"?-F.apply(this,arguments):-F,typeof R=="function"?-R.apply(this,arguments):-R),re,l)},V,Z)};function x(I,F){return F=Math.max(u[0],Math.min(u[1],F)),F===I.k?I:new Dt(F,I.x,I.y)}function B(I,F,R){var V=F[0]-R[0]*I.k,Z=F[1]-R[1]*I.k;return V===I.x&&Z===I.y?I:new Dt(I.k,V,Z)}function O(I){return[(+I[0][0]+ +I[1][0])/2,(+I[0][1]+ +I[1][1])/2]}function Q(I,F,R,V){I.on("start.zoom",function(){ue(this,arguments).event(V).start()}).on("interrupt.zoom end.zoom",function(){ue(this,arguments).event(V).end()}).tween("zoom",function(){var Z=this,re=arguments,fe=ue(Z,re).event(V),ee=i.apply(Z,re),Se=R==null?O(ee):typeof R=="function"?R.apply(Z,re):R,ge=Math.max(ee[1][0]-ee[0][0],ee[1][1]-ee[0][1]),ce=Z.__zoom,me=typeof F=="function"?F.apply(Z,re):F,De=f(ce.invert(Se).concat(ge/ce.k),me.invert(Se).concat(ge/me.k));return function(Be){if(Be===1)Be=me;else{var oe=De(Be),se=ge/oe[2];Be=new Dt(se,Se[0]-oe[0]*se,Se[1]-oe[1]*se)}fe.zoom(null,Be)}})}function ue(I,F,R){return!R&&I.__zooming||new te(I,F)}function te(I,F){this.that=I,this.args=F,this.active=0,this.sourceEvent=null,this.extent=i.apply(I,F),this.taps=0}te.prototype={event:function(I){return I&&(this.sourceEvent=I),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(I,F){return this.mouse&&I!=="mouse"&&(this.mouse[1]=F.invert(this.mouse[0])),this.touch0&&I!=="touch"&&(this.touch0[1]=F.invert(this.touch0[0])),this.touch1&&I!=="touch"&&(this.touch1[1]=F.invert(this.touch1[0])),this.that.__zoom=F,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(I){var F=dt(this.that).datum();m.call(I,this.that,new kk(I,{sourceEvent:this.sourceEvent,target:z,type:I,transform:this.that.__zoom,dispatch:m}),F)}};function de(I,...F){if(!n.apply(this,arguments))return;var R=ue(this,F).event(I),V=this.__zoom,Z=Math.max(u[0],Math.min(u[1],V.k*Math.pow(2,o.apply(this,arguments)))),re=yt(I);if(R.wheel)(R.mouse[0][0]!==re[0]||R.mouse[0][1]!==re[1])&&(R.mouse[1]=V.invert(R.mouse[0]=re)),clearTimeout(R.wheel);else{if(V.k===Z)return;R.mouse=[re,V.invert(re)],No(this),R.start()}cr(I),R.wheel=setTimeout(fe,P),R.zoom("mouse",r(B(x(V,Z),R.mouse[0],R.mouse[1]),R.extent,l));function fe(){R.wheel=null,R.end()}}function ye(I,...F){if(S||!n.apply(this,arguments))return;var R=I.currentTarget,V=ue(this,F,!0).event(I),Z=dt(I.view).on("mousemove.zoom",Se,!0).on("mouseup.zoom",ge,!0),re=yt(I,R),fe=I.clientX,ee=I.clientY;of(I.view),Es(I),V.mouse=[re,this.__zoom.invert(re)],No(this),V.start();function Se(ce){if(cr(ce),!V.moved){var me=ce.clientX-fe,De=ce.clientY-ee;V.moved=me*me+De*De>T}V.event(ce).zoom("mouse",r(B(V.that.__zoom,V.mouse[0]=yt(ce,R),V.mouse[1]),V.extent,l))}function ge(ce){Z.on("mousemove.zoom mouseup.zoom",null),af(ce.view,V.moved),cr(ce),V.event(ce).end()}}function J(I,...F){if(n.apply(this,arguments)){var R=this.__zoom,V=yt(I.changedTouches?I.changedTouches[0]:I,this),Z=R.invert(V),re=R.k*(I.shiftKey?.5:2),fe=r(B(x(R,re),V,Z),i.apply(this,F),l);cr(I),d>0?dt(this).transition().duration(d).call(Q,fe,V,I):dt(this).call(z.transform,fe,V,I)}}function M(I,...F){if(n.apply(this,arguments)){var R=I.touches,V=R.length,Z=ue(this,F,I.changedTouches.length===V).event(I),re,fe,ee,Se;for(Es(I),fe=0;fe<V;++fe)ee=R[fe],Se=yt(ee,this),Se=[Se,this.__zoom.invert(Se),ee.identifier],Z.touch0?!Z.touch1&&Z.touch0[2]!==Se[2]&&(Z.touch1=Se,Z.taps=0):(Z.touch0=Se,re=!0,Z.taps=1+!!p);p&&(p=clearTimeout(p)),re&&(Z.taps<2&&(_=Se[0],p=setTimeout(function(){p=null},k)),No(this),Z.start())}}function be(I,...F){if(this.__zooming){var R=ue(this,F).event(I),V=I.changedTouches,Z=V.length,re,fe,ee,Se;for(cr(I),re=0;re<Z;++re)fe=V[re],ee=yt(fe,this),R.touch0&&R.touch0[2]===fe.identifier?R.touch0[0]=ee:R.touch1&&R.touch1[2]===fe.identifier&&(R.touch1[0]=ee);if(fe=R.that.__zoom,R.touch1){var ge=R.touch0[0],ce=R.touch0[1],me=R.touch1[0],De=R.touch1[1],Be=(Be=me[0]-ge[0])*Be+(Be=me[1]-ge[1])*Be,oe=(oe=De[0]-ce[0])*oe+(oe=De[1]-ce[1])*oe;fe=x(fe,Math.sqrt(Be/oe)),ee=[(ge[0]+me[0])/2,(ge[1]+me[1])/2],Se=[(ce[0]+De[0])/2,(ce[1]+De[1])/2]}else if(R.touch0)ee=R.touch0[0],Se=R.touch0[1];else return;R.zoom("touch",r(B(fe,ee,Se),R.extent,l))}}function Ne(I,...F){if(this.__zooming){var R=ue(this,F).event(I),V=I.changedTouches,Z=V.length,re,fe;for(Es(I),S&&clearTimeout(S),S=setTimeout(function(){S=null},k),re=0;re<Z;++re)fe=V[re],R.touch0&&R.touch0[2]===fe.identifier?delete R.touch0:R.touch1&&R.touch1[2]===fe.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),R.taps===2&&(fe=yt(fe,this),Math.hypot(_[0]-fe[0],_[1]-fe[1])<A)){var ee=dt(this).on("dblclick.zoom");ee&&ee.apply(this,arguments)}}}return z.wheelDelta=function(I){return arguments.length?(o=typeof I=="function"?I:ko(+I),z):o},z.filter=function(I){return arguments.length?(n=typeof I=="function"?I:ko(!!I),z):n},z.touchable=function(I){return arguments.length?(s=typeof I=="function"?I:ko(!!I),z):s},z.extent=function(I){return arguments.length?(i=typeof I=="function"?I:ko([[+I[0][0],+I[0][1]],[+I[1][0],+I[1][1]]]),z):i},z.scaleExtent=function(I){return arguments.length?(u[0]=+I[0],u[1]=+I[1],z):[u[0],u[1]]},z.translateExtent=function(I){return arguments.length?(l[0][0]=+I[0][0],l[1][0]=+I[1][0],l[0][1]=+I[0][1],l[1][1]=+I[1][1],z):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},z.constrain=function(I){return arguments.length?(r=I,z):r},z.duration=function(I){return arguments.length?(d=+I,z):d},z.interpolate=function(I){return arguments.length?(f=I,z):f},z.on=function(){var I=m.on.apply(m,arguments);return I===m?z:I},z.clickDistance=function(I){return arguments.length?(T=(I=+I)*I,z):Math.sqrt(T)},z.tapDistance=function(I){return arguments.length?(A=+I,z):A},z}var Ee=(n=>(n.Left="left",n.Top="top",n.Right="right",n.Bottom="bottom",n))(Ee||{}),il=(n=>(n.Partial="partial",n.Full="full",n))(il||{}),ui=(n=>(n.Bezier="default",n.SimpleBezier="simple-bezier",n.Straight="straight",n.Step="step",n.SmoothStep="smoothstep",n))(ui||{}),vi=(n=>(n.Strict="strict",n.Loose="loose",n))(vi||{}),Fs=(n=>(n.Arrow="arrow",n.ArrowClosed="arrowclosed",n))(Fs||{}),vr=(n=>(n.Free="free",n.Vertical="vertical",n.Horizontal="horizontal",n))(vr||{});function Gs(n){var i,r;const o=((r=(i=n.composedPath)==null?void 0:i.call(n))==null?void 0:r[0])||n.target,s=typeof(o==null?void 0:o.hasAttribute)=="function"?o.hasAttribute("contenteditable"):!1,u=typeof(o==null?void 0:o.closest)=="function"?o.closest(".nokey"):null;return["INPUT","SELECT","TEXTAREA"].includes(o==null?void 0:o.nodeName)||s||!!u}function Ak(n){return n.ctrlKey||n.metaKey||n.shiftKey}function ad(n,i,r,o){const s=i.split("+").map(u=>u.trim().toLowerCase());return s.length===1?n.toLowerCase()===i.toLowerCase():(o?r.delete(n.toLowerCase()):r.add(n.toLowerCase()),s.every((u,l)=>r.has(u)&&Array.from(r.values())[l]===s[l]))}function Nk(n,i){return r=>{if(!r.code&&!r.key)return!1;const o=zk(r.code,n);return Array.isArray(n)?n.some(s=>ad(r[o],s,i,r.type==="keyup")):ad(r[o],n,i,r.type==="keyup")}}function zk(n,i){return typeof i=="string"?n===i?"code":"key":i.includes(n)?"code":"key"}function yr(n,i){const r=hn(()=>{var p;return(p=Qe(i==null?void 0:i.actInsideInputWithModifier))!=null?p:!1}),o=hn(()=>{var p;return(p=Qe(i==null?void 0:i.target))!=null?p:window}),s=Pe(Qe(n)===!0);let u=!1;const l=new Set;let d=m(Qe(n));en(()=>Qe(n),(p,_)=>{typeof _=="boolean"&&typeof p!="boolean"&&f(),d=m(p)},{immediate:!0}),ht(()=>{Ud(window,["blur","contextmenu"],f)}),Fc((...p)=>d(...p),p=>{u=Ak(p),!((!u||u&&!r.value)&&Gs(p))&&(p.preventDefault(),s.value=!0)},{eventName:"keydown",target:o}),Fc((...p)=>d(...p),p=>{if(s.value){if((!u||u&&!r.value)&&Gs(p))return;f()}},{eventName:"keyup",target:o});function f(){u=!1,l.clear(),s.value=!1}function m(p){return p===null?(f(),()=>!1):typeof p=="boolean"?(f(),s.value=p,()=>!1):Array.isArray(p)||typeof p=="string"?Nk(p,l):p}return s}const bf="vue-flow__node-desc",wf="vue-flow__edge-desc",Pk="vue-flow__aria-live",xf=["Enter"," ","Escape"],Hi={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function $s(n){return{...n.computedPosition||{x:0,y:0},width:n.dimensions.width||0,height:n.dimensions.height||0}}function Ws(n,i){const r=Math.max(0,Math.min(n.x+n.width,i.x+i.width)-Math.max(n.x,i.x)),o=Math.max(0,Math.min(n.y+n.height,i.y+i.height)-Math.max(n.y,i.y));return Math.ceil(r*o)}function Ko(n){return{width:n.offsetWidth,height:n.offsetHeight}}function yi(n,i=0,r=1){return Math.min(Math.max(n,i),r)}function kf(n,i){return{x:yi(n.x,i[0][0],i[1][0]),y:yi(n.y,i[0][1],i[1][1])}}function sd(n){const i=n.getRootNode();return"elementFromPoint"in i?i:window.document}function Qt(n){return n&&typeof n=="object"&&"id"in n&&"source"in n&&"target"in n}function gi(n){return n&&typeof n=="object"&&"id"in n&&"position"in n&&!Qt(n)}function mr(n){return gi(n)&&"computedPosition"in n}function Eo(n){return!Number.isNaN(n)&&Number.isFinite(n)}function Ok(n){return Eo(n.width)&&Eo(n.height)&&Eo(n.x)&&Eo(n.y)}function Rk(n,i,r){var s;const o={id:n.id.toString(),type:(s=n.type)!=null?s:"default",dimensions:Di({width:0,height:0}),computedPosition:Di({z:0,...n.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:vn(n.data)?n.data:{},events:Di(vn(n.events)?n.events:{})};return Object.assign(i!=null?i:o,n,{id:n.id.toString(),parentNode:r})}function Ef(n,i,r){var l,d,f,m,p,_,S;var o,s;const u={id:n.id.toString(),type:(d=(l=n.type)!=null?l:i==null?void 0:i.type)!=null?d:"default",source:n.source.toString(),target:n.target.toString(),sourceHandle:(o=n.sourceHandle)==null?void 0:o.toString(),targetHandle:(s=n.targetHandle)==null?void 0:s.toString(),updatable:(f=n.updatable)!=null?f:r==null?void 0:r.updatable,selectable:(m=n.selectable)!=null?m:r==null?void 0:r.selectable,focusable:(p=n.focusable)!=null?p:r==null?void 0:r.focusable,data:vn(n.data)?n.data:{},events:Di(vn(n.events)?n.events:{}),label:(_=n.label)!=null?_:"",interactionWidth:(S=n.interactionWidth)!=null?S:r==null?void 0:r.interactionWidth,...r!=null?r:{}};return Object.assign(i!=null?i:u,n,{id:n.id.toString()})}function Sf(n,i,r,o){const s=typeof n=="string"?n:n.id,u=new Set,l=o==="source"?"target":"source";for(const d of r)d[l]===s&&u.add(d[o]);return i.filter(d=>u.has(d.id))}function Dk(...n){if(n.length===3){const[u,l,d]=n;return Sf(u,l,d,"target")}const[i,r]=n,o=typeof i=="string"?i:i.id;return r.filter(u=>Qt(u)&&u.source===o).map(u=>r.find(l=>gi(l)&&l.id===u.target))}function Bk(...n){if(n.length===3){const[u,l,d]=n;return Sf(u,l,d,"source")}const[i,r]=n,o=typeof i=="string"?i:i.id;return r.filter(u=>Qt(u)&&u.target===o).map(u=>r.find(l=>gi(l)&&l.id===u.source))}function Tf({source:n,sourceHandle:i,target:r,targetHandle:o}){return`vueflow__edge-${n}${i!=null?i:""}-${r}${o!=null?o:""}`}function Lk(n,i){return i.some(r=>Qt(r)&&r.source===n.source&&r.target===n.target&&(r.sourceHandle===n.sourceHandle||!r.sourceHandle&&!n.sourceHandle)&&(r.targetHandle===n.targetHandle||!r.targetHandle&&!n.targetHandle))}function Mf({x:n,y:i},{x:r,y:o,zoom:s}){return{x:n*s+r,y:i*s+o}}function Go({x:n,y:i},{x:r,y:o,zoom:s},u=!1,[l,d]=[1,1]){const f={x:(n-r)/s,y:(i-o)/s};return u?{x:l*Math.round(f.x/l),y:d*Math.round(f.y/d)}:f}function Hk(n,i){return{x:Math.min(n.x,i.x),y:Math.min(n.y,i.y),x2:Math.max(n.x2,i.x2),y2:Math.max(n.y2,i.y2)}}function Cf({x:n,y:i,width:r,height:o}){return{x:n,y:i,x2:n+r,y2:i+o}}function qk({x:n,y:i,x2:r,y2:o}){return{x:n,y:i,width:r-n,height:o-i}}function If(n){let i={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let r=0;r<n.length;r++){const o=n[r];i=Hk(i,Cf({...o.computedPosition,...o.dimensions}))}return qk(i)}function Af(n,i,r={x:0,y:0,zoom:1},o=!1,s=!1){var d,f,m,p;const u={...Go(i,r),width:i.width/r.zoom,height:i.height/r.zoom},l=[];for(const _ of n){const{dimensions:S,selectable:k=!0,hidden:P=!1}=_,T=(f=(d=S.width)!=null?d:_.width)!=null?f:null,A=(p=(m=S.height)!=null?m:_.height)!=null?p:null;if(s&&!k||P)continue;const z=Ws(u,$s(_)),x=T===null||A===null,B=o&&z>0,O=(T!=null?T:0)*(A!=null?A:0);(x||B||z>=O||_.dragging)&&l.push(_)}return l}function Nf(n,i){const r=new Set;if(typeof n=="string")r.add(n);else if(n.length>=1)for(const o of n)r.add(o.id);return i.filter(o=>r.has(o.source)||r.has(o.target))}function ld(n,i,r,o,s,u=.1,l={x:0,y:0}){var T,A;const d=i/(n.width*(1+u)),f=r/(n.height*(1+u)),m=Math.min(d,f),p=yi(m,o,s),_=n.x+n.width/2,S=n.y+n.height/2,k=i/2-_*p+((T=l.x)!=null?T:0),P=r/2-S*p+((A=l.y)!=null?A:0);return{x:k,y:P,zoom:p}}function Fk(n,i){return{x:i.x+n.x,y:i.y+n.y,z:(n.z>i.z?n.z:i.z)+1}}function zf(n,i){if(!n.parentNode)return!1;const r=i(n.parentNode);return r?r.selected?!0:zf(r,i):!1}function Er(n,i){return typeof n=="undefined"?"":typeof n=="string"?n:`${i?`${i}__`:""}${Object.keys(n).sort().map(o=>`${o}=${n[o]}`).join("&")}`}function ud(n,i,r){return n<i?yi(Math.abs(n-i),1,i)/i:n>r?-yi(Math.abs(n-r),1,i)/i:0}function Pf(n,i,r=15,o=40){const s=ud(n.x,o,i.width-o)*r,u=ud(n.y,o,i.height-o)*r;return[s,u]}function Ss(n,i){var r,o;if(i){const s=n.position.x+n.dimensions.width-i.dimensions.width,u=n.position.y+n.dimensions.height-i.dimensions.height;if(s>0||u>0||n.position.x<0||n.position.y<0){let l={};if(typeof i.style=="function"?l={...i.style(i)}:i.style&&(l={...i.style}),l.width=(r=l.width)!=null?r:`${i.dimensions.width}px`,l.height=(o=l.height)!=null?o:`${i.dimensions.height}px`,s>0)if(typeof l.width=="string"){const d=Number(l.width.replace("px",""));l.width=`${d+s}px`}else l.width+=s;if(u>0)if(typeof l.height=="string"){const d=Number(l.height.replace("px",""));l.height=`${d+u}px`}else l.height+=u;if(n.position.x<0){const d=Math.abs(n.position.x);if(i.position.x=i.position.x-d,typeof l.width=="string"){const f=Number(l.width.replace("px",""));l.width=`${f+d}px`}else l.width+=d;n.position.x=0}if(n.position.y<0){const d=Math.abs(n.position.y);if(i.position.y=i.position.y-d,typeof l.height=="string"){const f=Number(l.height.replace("px",""));l.height=`${f+d}px`}else l.height+=d;n.position.y=0}i.dimensions.width=Number(l.width.toString().replace("px","")),i.dimensions.height=Number(l.height.toString().replace("px","")),typeof i.style=="function"?i.style=d=>{const f=i.style;return{...f(d),...l}}:i.style={...i.style,...l}}}}function cd(n,i){var r,o;const s=n.filter(l=>l.type==="add"||l.type==="remove");for(const l of s)if(l.type==="add")i.findIndex(f=>f.id===l.item.id)===-1&&i.push(l.item);else if(l.type==="remove"){const d=i.findIndex(f=>f.id===l.id);d!==-1&&i.splice(d,1)}const u=i.map(l=>l.id);for(const l of i)for(const d of n)if(d.id===l.id)switch(d.type){case"select":l.selected=d.selected;break;case"position":if(mr(l)&&(typeof d.position!="undefined"&&(l.position=d.position),typeof d.dragging!="undefined"&&(l.dragging=d.dragging),l.expandParent&&l.parentNode)){const f=i[u.indexOf(l.parentNode)];f&&mr(f)&&Ss(l,f)}break;case"dimensions":if(mr(l)&&(typeof d.dimensions!="undefined"&&(l.dimensions=d.dimensions),typeof d.updateStyle!="undefined"&&d.updateStyle&&(l.style={...l.style||{},width:`${(r=d.dimensions)==null?void 0:r.width}px`,height:`${(o=d.dimensions)==null?void 0:o.height}px`}),typeof d.resizing!="undefined"&&(l.resizing=d.resizing),l.expandParent&&l.parentNode)){const f=i[u.indexOf(l.parentNode)];f&&mr(f)&&(!!f.dimensions.width&&!!f.dimensions.height?Ss(l,f):Hn(()=>{Ss(l,f)}))}break}return i}function Xt(n,i){return{id:n,type:"select",selected:i}}function dd(n){return{item:n,type:"add"}}function fd(n){return{id:n,type:"remove"}}function hd(n,i,r,o,s){return{id:n,source:i,target:r,sourceHandle:o||null,targetHandle:s||null,type:"remove"}}function Kt(n,i=new Set,r=!1){const o=[];for(const[s,u]of n){const l=i.has(s);!(u.selected===void 0&&!l)&&u.selected!==l&&(r&&(u.selected=l),o.push(Xt(u.id,l)))}return o}function pe(n){const i=new Set;let r=!1;const o=()=>i.size>0;n&&(r=!0,i.add(n));const s=d=>{i.delete(d)};return{on:d=>{n&&r&&i.delete(n),i.add(d);const f=()=>{s(d),n&&r&&i.add(n)};return Uo(f),{off:f}},off:s,trigger:d=>Promise.all(Array.from(i).map(f=>f(d))),hasListeners:o,fns:i}}function gd(n,i,r){let o=n;do{if(o&&o.matches(i))return!0;if(o===r)return!1;o=o.parentElement}while(o);return!1}function Gk(n,i,r,o,s){var u,l;const d=[];for(const f of n)(f.selected||f.id===s)&&(!f.parentNode||!zf(f,o))&&(f.draggable||i&&typeof f.draggable=="undefined")&&d.push(Di({id:f.id,position:f.position||{x:0,y:0},distance:{x:r.x-((u=f.computedPosition)==null?void 0:u.x)||0,y:r.y-((l=f.computedPosition)==null?void 0:l.y)||0},from:f.computedPosition,extent:f.extent,parentNode:f.parentNode,dimensions:f.dimensions,expandParent:f.expandParent}));return d}function Ts({id:n,dragItems:i,findNode:r}){const o=[];for(const s of i){const u=r(s.id);u&&o.push(u)}return[n?o.find(s=>s.id===n):o[0],o]}function Of(n){if(Array.isArray(n))switch(n.length){case 1:return[n[0],n[0],n[0],n[0]];case 2:return[n[0],n[1],n[0],n[1]];case 3:return[n[0],n[1],n[2],n[1]];case 4:return n;default:return[0,0,0,0]}return[n,n,n,n]}function $k(n,i,r){const[o,s,u,l]=typeof n!="string"?Of(n.padding):[0,0,0,0];return r&&typeof r.computedPosition.x!="undefined"&&typeof r.computedPosition.y!="undefined"&&typeof r.dimensions.width!="undefined"&&typeof r.dimensions.height!="undefined"?[[r.computedPosition.x+l,r.computedPosition.y+o],[r.computedPosition.x+r.dimensions.width-s,r.computedPosition.y+r.dimensions.height-u]]:!1}function Wk(n,i,r,o){let s=n.extent||r;if((s==="parent"||!Array.isArray(s)&&(s==null?void 0:s.range)==="parent")&&!n.expandParent)if(n.parentNode&&o&&n.dimensions.width&&n.dimensions.height){const u=$k(s,n,o);u&&(s=u)}else i(new xn(yn.NODE_EXTENT_INVALID,n.id)),s=r;else if(Array.isArray(s)){const u=(o==null?void 0:o.computedPosition.x)||0,l=(o==null?void 0:o.computedPosition.y)||0;s=[[s[0][0]+u,s[0][1]+l],[s[1][0]+u,s[1][1]+l]]}else if(s!=="parent"&&(s!=null&&s.range)&&Array.isArray(s.range)){const[u,l,d,f]=Of(s.padding),m=(o==null?void 0:o.computedPosition.x)||0,p=(o==null?void 0:o.computedPosition.y)||0;s=[[s.range[0][0]+m+f,s.range[0][1]+p+u],[s.range[1][0]+m-l,s.range[1][1]+p-d]]}return s==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:s}function Uk({width:n,height:i},r){return[r[0],[r[1][0]-(n||0),r[1][1]-(i||0)]]}function rl(n,i,r,o,s){const u=Uk(n.dimensions,Wk(n,r,o,s)),l=kf(i,u);return{position:{x:l.x-((s==null?void 0:s.computedPosition.x)||0),y:l.y-((s==null?void 0:s.computedPosition.y)||0)},computedPosition:l}}function $o(n,i,r=Ee.Left){var f,m,p;const o=((f=i==null?void 0:i.x)!=null?f:0)+n.computedPosition.x,s=((m=i==null?void 0:i.y)!=null?m:0)+n.computedPosition.y,{width:u,height:l}=i!=null?i:Xk(n);switch((p=i==null?void 0:i.position)!=null?p:r){case Ee.Top:return{x:o+u/2,y:s};case Ee.Right:return{x:o+u,y:s+l/2};case Ee.Bottom:return{x:o+u/2,y:s+l};case Ee.Left:return{x:o,y:s+l/2}}}function md(n=[],i){return n.length&&(i?n.find(r=>r.id===i):n[0])||null}function Vk({sourcePos:n,targetPos:i,sourceWidth:r,sourceHeight:o,targetWidth:s,targetHeight:u,width:l,height:d,viewport:f}){const m={x:Math.min(n.x,i.x),y:Math.min(n.y,i.y),x2:Math.max(n.x+r,i.x+s),y2:Math.max(n.y+o,i.y+u)};m.x===m.x2&&(m.x2+=1),m.y===m.y2&&(m.y2+=1);const p=Cf({x:(0-f.x)/f.zoom,y:(0-f.y)/f.zoom,width:l/f.zoom,height:d/f.zoom}),_=Math.max(0,Math.min(p.x2,m.x2)-Math.max(p.x,m.x)),S=Math.max(0,Math.min(p.y2,m.y2)-Math.max(p.y,m.y));return Math.ceil(_*S)>0}function Yk(n,i,r=!1){const o=typeof n.zIndex=="number";let s=o?n.zIndex:0;const u=i(n.source),l=i(n.target);return!u||!l?0:(r&&(s=o?n.zIndex:Math.max(u.computedPosition.z||0,l.computedPosition.z||0)),s)}var yn=(n=>(n.MISSING_STYLES="MISSING_STYLES",n.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",n.NODE_INVALID="NODE_INVALID",n.NODE_NOT_FOUND="NODE_NOT_FOUND",n.NODE_MISSING_PARENT="NODE_MISSING_PARENT",n.NODE_TYPE_MISSING="NODE_TYPE_MISSING",n.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",n.EDGE_INVALID="EDGE_INVALID",n.EDGE_NOT_FOUND="EDGE_NOT_FOUND",n.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",n.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",n.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",n.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",n.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",n.EDGE_ORPHANED="EDGE_ORPHANED",n.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",n))(yn||{});const pd={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:n=>`Node is invalid
Node: ${n}`,NODE_NOT_FOUND:n=>`Node not found
Node: ${n}`,NODE_MISSING_PARENT:(n,i)=>`Node is missing a parent
Node: ${n}
Parent: ${i}`,NODE_TYPE_MISSING:n=>`Node type is missing
Type: ${n}`,NODE_EXTENT_INVALID:n=>`Only child nodes can use a parent extent
Node: ${n}`,EDGE_INVALID:n=>`An edge needs a source and a target
Edge: ${n}`,EDGE_SOURCE_MISSING:(n,i)=>`Edge source is missing
Edge: ${n} 
Source: ${i}`,EDGE_TARGET_MISSING:(n,i)=>`Edge target is missing
Edge: ${n} 
Target: ${i}`,EDGE_TYPE_MISSING:n=>`Edge type is missing
Type: ${n}`,EDGE_SOURCE_TARGET_SAME:(n,i,r)=>`Edge source and target are the same
Edge: ${n} 
Source: ${i} 
Target: ${r}`,EDGE_SOURCE_TARGET_MISSING:(n,i,r)=>`Edge source or target is missing
Edge: ${n} 
Source: ${i} 
Target: ${r}`,EDGE_ORPHANED:n=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${n}`,EDGE_NOT_FOUND:n=>`Edge not found
Edge: ${n}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class xn extends Error{constructor(i,...r){var o;super((o=pd[i])==null?void 0:o.call(pd,...r)),this.name="VueFlowError",this.code=i,this.args=r}}function ol(n){return"clientX"in n}function Jt(n,i){var d,f;var r,o;const s=ol(n),u=s?n.clientX:(r=n.touches)==null?void 0:r[0].clientX,l=s?n.clientY:(o=n.touches)==null?void 0:o[0].clientY;return{x:u-((d=i==null?void 0:i.left)!=null?d:0),y:l-((f=i==null?void 0:i.top)!=null?f:0)}}const Wo=()=>{var n;return typeof navigator!="undefined"&&((n=navigator==null?void 0:navigator.userAgent)==null?void 0:n.indexOf("Mac"))>=0};function Xk(n){var o,s,u,l;var i,r;return{width:(s=(o=(i=n.dimensions)==null?void 0:i.width)!=null?o:n.width)!=null?s:0,height:(l=(u=(r=n.dimensions)==null?void 0:r.height)!=null?u:n.height)!=null?l:0}}function Rf(){return{handleDomNode:null,isValid:!1,connection:{source:"",target:"",sourceHandle:null,targetHandle:null},endHandle:null}}function Ms(n){n==null||n.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function vd(n,i,r,o){const s=[];for(const u of i[r]||[])if(`${n.id}-${u.id}-${r}`!==o){const{x:l,y:d}=$o(n,u);s.push({id:u.id||null,type:r,nodeId:n.id,x:l,y:d})}return s}function jk(n,i,r,o,s,u){const{x:l,y:d}=Jt(n),m=i.elementsFromPoint(l,d).find(P=>P.classList.contains("vue-flow__handle"));if(m){const P=m.getAttribute("data-nodeid");if(P){const T=al(void 0,m),A=m.getAttribute("data-handleid"),z=u({nodeId:P,id:A,type:T});if(z){const x=s.find(B=>B.nodeId===P&&B.type===T&&B.id===A);return{handle:{id:A,type:T,nodeId:P,x:(x==null?void 0:x.x)||r.x,y:(x==null?void 0:x.y)||r.y},validHandleResult:z}}}}let p=[],_=Number.POSITIVE_INFINITY;for(const P of s){const T=Math.sqrt((P.x-r.x)**2+(P.y-r.y)**2);if(T<=o){const A=u(P);T<=_&&(T<_?p=[{handle:P,validHandleResult:A}]:T===_&&p.push({handle:P,validHandleResult:A}),_=T)}}if(!p.length)return{handle:null,validHandleResult:Rf()};if(p.length===1)return p[0];const S=p.some(({validHandleResult:P})=>P.isValid),k=p.some(({handle:P})=>P.type==="target");return p.find(({handle:P,validHandleResult:T})=>k?P.type==="target":S?T.isValid:!0)||p[0]}function yd(n,i,r,o,s,u,l,d,f,m,p){const _=u==="target",S=d.querySelector(`.vue-flow__handle[data-id="${i==null?void 0:i.nodeId}-${i==null?void 0:i.id}-${i==null?void 0:i.type}"]`),{x:k,y:P}=Jt(n),T=d.elementFromPoint(k,P),A=T!=null&&T.classList.contains("vue-flow__handle")?T:S,z=Rf();if(A){z.handleDomNode=A;const x=al(void 0,A),B=A.getAttribute("data-nodeid"),O=A.getAttribute("data-handleid"),Q=A.classList.contains("connectable"),ue=A.classList.contains("connectableend"),te={source:_?B:o,sourceHandle:_?O:s,target:_?o:B,targetHandle:_?s:O};z.connection=te,Q&&ue&&(r===vi.Strict?_&&x==="source"||!_&&x==="target":B!==o||O!==s)&&(z.isValid=l(te,{edges:f,nodes:m,sourceNode:p(te.source),targetNode:p(te.target)}),z.endHandle={nodeId:B,handleId:O,type:x,position:z.isValid?A.getAttribute("data-handlepos"):null})}return z}function Kk({nodes:n,nodeId:i,handleId:r,handleType:o}){const s=[];for(let u=0;u<n.length;u++){const l=n[u],{handleBounds:d}=l;let f=[],m=[];d&&(f=vd(l,d,"source",`${i}-${r}-${o}`),m=vd(l,d,"target",`${i}-${r}-${o}`)),s.push(...f,...m)}return s}function al(n,i){return n||(i!=null&&i.classList.contains("target")?"target":i!=null&&i.classList.contains("source")?"source":null)}function Zk(n,i){let r=null;return i?r="valid":n&&!i&&(r="invalid"),r}const Jk=["production","prod"];function Zo(n,...i){Df()&&console.warn(`[Vue Flow]: ${n}`,...i)}function Df(){return!Jk.includes("production")}function _d(n,i,r,o){const s=i.querySelectorAll(`.vue-flow__handle${n}`);return Array.from(s).map(l=>{const d=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(d.left-r.left)/o,y:(d.top-r.top)/o,...Ko(l)}})}function Us(n,i,r,o,s,u=!1,l){s.value=!1,n.selected?(u||n.selected&&i)&&(o([n]),Hn(()=>{l.blur()})):r([n])}function vn(n){return typeof ze(n)!="undefined"}function Qk(n,i,r,o){var u;if(!n||!n.source||!n.target)return r(new xn(yn.EDGE_INVALID,(u=n==null?void 0:n.id)!=null?u:"[ID UNKNOWN]")),!1;let s;return Qt(n)?s=n:s={...n,id:Tf(n)},s=Ef(s,void 0,o),Lk(s,i)?!1:s}function e2(n,i,r,o,s,u){if(!i.source||!i.target)return u(new xn(yn.EDGE_INVALID,n.id)),!1;const l=o(n.id);if(!l)return u(new xn(yn.EDGE_NOT_FOUND,n.id)),!1;const{id:d,...f}=n,m={...f,id:s?Tf(i):d,source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle};return r.splice(r.indexOf(l),1,m),m}function bd(n,i,r){const o={},s=[];for(let u=0;u<n.length;++u){const l=n[u];if(!gi(l)){r(new xn(yn.NODE_INVALID,l==null?void 0:l.id)||`[ID UNKNOWN|INDEX ${u}]`);continue}const d=Rk(l,i(l.id),l.parentNode);l.parentNode&&(o[l.parentNode]=!0),s[u]=d}for(const u of s){const l=i(u.parentNode)||s.find(d=>d.id===u.parentNode);u.parentNode&&!l&&r(new xn(yn.NODE_MISSING_PARENT,u.id,u.parentNode)),(u.parentNode||o[u.id])&&(o[u.id]&&(u.isParent=!0),l&&(l.isParent=!0))}return s}function wd(n,i){n.clear();for(const r of i){const{id:o,source:s,target:u,sourceHandle:l=null,targetHandle:d=null}=r,f=`${s}-source-${l}`,m=`${u}-target-${d}`,p=n.get(f)||new Map,_=n.get(m)||new Map,S=Di({edgeId:o,source:s,target:u,sourceHandle:l,targetHandle:d});n.set(f,p.set(`${u}-${d}`,S)),n.set(m,_.set(`${s}-${l}`,S))}}function xd(n,i,r,o,s,u,l,d){const f=[];for(const m of n){const p=Qt(m)?m:Qk(m,d,s,u);if(!p)continue;const _=r(p.source),S=r(p.target);if(!_||!S){s(new xn(yn.EDGE_SOURCE_TARGET_MISSING,p.id,p.source,p.target));continue}if(!_){s(new xn(yn.EDGE_SOURCE_MISSING,p.id,p.source));continue}if(!S){s(new xn(yn.EDGE_TARGET_MISSING,p.id,p.target));continue}if(i&&!i(p,{edges:d,nodes:l,sourceNode:_,targetNode:S})){s(new xn(yn.EDGE_INVALID,p.id));continue}const k=o(p.id);f.push({...Ef(p,k,u),sourceNode:_,targetNode:S})}return f}const kd=Symbol("vueFlow"),Bf=Symbol("nodeId"),Lf=Symbol("nodeRef"),n2=Symbol("edgeId"),t2=Symbol("edgeRef"),Jo=Symbol("slots");function Hf(n){const{vueFlowRef:i,snapToGrid:r,snapGrid:o,noDragClassName:s,nodes:u,nodeExtent:l,nodeDragThreshold:d,viewport:f,autoPanOnNodeDrag:m,autoPanSpeed:p,nodesDraggable:_,panBy:S,findNode:k,multiSelectionActive:P,nodesSelectionActive:T,selectNodesOnDrag:A,removeSelectedElements:z,addSelectedNodes:x,updateNodePositions:B,emits:O}=dn(),{onStart:Q,onDrag:ue,onStop:te,onClick:de,el:ye,disabled:J,id:M,selectable:be,dragHandle:Ne}=n,I=Pe(!1);let F=[],R,V=null,Z={x:void 0,y:void 0},re={x:0,y:0},fe=null,ee=!1,Se=0,ge=!1;const ce=o2(),me=({x:G,y:X})=>{Z={x:G,y:X};let j=!1;if(F=F.map(v=>{const w={x:G-v.distance.x,y:X-v.distance.y};r.value&&(w.x=o.value[0]*Math.round(w.x/o.value[0]),w.y=o.value[1]*Math.round(w.y/o.value[1]));const{computedPosition:D}=rl(v,w,O.error,l.value,v.parentNode?k(v.parentNode):void 0);return j=j||v.position.x!==D.x||v.position.y!==D.y,v.position=D,v}),!!j&&(B(F,!0,!0),I.value=!0,fe)){const[v,w]=Ts({id:M,dragItems:F,findNode:k});ue({event:fe,node:v,nodes:w})}},De=()=>{var j,v;if(!V)return;const[G,X]=Pf(re,V,p.value);if(G!==0||X!==0){const w={x:((j=Z.x)!=null?j:0)-G/f.value.zoom,y:((v=Z.y)!=null?v:0)-X/f.value.zoom};S({x:G,y:X})&&me(w)}Se=requestAnimationFrame(De)},Be=(G,X)=>{ee=!0;const j=k(M);!A.value&&!P.value&&j&&(j.selected||z()),j&&Qe(be)&&A.value&&Us(j,P.value,x,z,T,!1,X);const v=ce(G);if(Z=v,F=Gk(u.value,_.value,v,k,M),F.length){const[w,D]=Ts({id:M,dragItems:F,findNode:k});Q({event:G.sourceEvent,node:w,nodes:D})}},oe=(G,X)=>{var j;G.sourceEvent.type==="touchmove"&&G.sourceEvent.touches.length>1||(d.value===0&&Be(G,X),Z=ce(G),V=((j=i.value)==null?void 0:j.getBoundingClientRect())||null,re=Jt(G.sourceEvent,V))},se=(G,X)=>{var v,w;const j=ce(G);if(!ge&&ee&&m.value&&(ge=!0,De()),!ee){const D=j.xSnapped-((v=Z.x)!=null?v:0),q=j.ySnapped-((w=Z.y)!=null?w:0);Math.sqrt(D*D+q*q)>d.value&&Be(G,X)}(Z.x!==j.xSnapped||Z.y!==j.ySnapped)&&F.length&&ee&&(fe=G.sourceEvent,re=Jt(G.sourceEvent,V),me(j))},W=G=>{if(!I.value&&!P.value&&(de==null||de(G.sourceEvent)),I.value=!1,ge=!1,ee=!1,Z={x:void 0,y:void 0},cancelAnimationFrame(Se),F.length){B(F,!1,!1);const[X,j]=Ts({id:M,dragItems:F,findNode:k});te({event:G.sourceEvent,node:X,nodes:j})}};return en([()=>Qe(J),ye],([G,X],j,v)=>{if(X){const w=dt(X);G||(R=H1().on("start",D=>oe(D,X)).on("drag",D=>se(D,X)).on("end",D=>W(D)).filter(D=>{const q=D.target,le=Qe(Ne);return!D.button&&(!s.value||!gd(q,`.${s.value}`,X)&&(!le||gd(q,le,X)))}),w.call(R)),v(()=>{w.on(".drag",null),R&&(R.on("start",null),R.on("drag",null),R.on("end",null))})}}),I}function i2(){return{doubleClick:pe(),click:pe(),mouseEnter:pe(),mouseMove:pe(),mouseLeave:pe(),contextMenu:pe(),updateStart:pe(),update:pe(),updateEnd:pe()}}function r2(n,i){const r=i2();return r.doubleClick.on(o=>{var s,u;i.edgeDoubleClick(o),(u=(s=n.events)==null?void 0:s.doubleClick)==null||u.call(s,o)}),r.click.on(o=>{var s,u;i.edgeClick(o),(u=(s=n.events)==null?void 0:s.click)==null||u.call(s,o)}),r.mouseEnter.on(o=>{var s,u;i.edgeMouseEnter(o),(u=(s=n.events)==null?void 0:s.mouseEnter)==null||u.call(s,o)}),r.mouseMove.on(o=>{var s,u;i.edgeMouseMove(o),(u=(s=n.events)==null?void 0:s.mouseMove)==null||u.call(s,o)}),r.mouseLeave.on(o=>{var s,u;i.edgeMouseLeave(o),(u=(s=n.events)==null?void 0:s.mouseLeave)==null||u.call(s,o)}),r.contextMenu.on(o=>{var s,u;i.edgeContextMenu(o),(u=(s=n.events)==null?void 0:s.contextMenu)==null||u.call(s,o)}),r.updateStart.on(o=>{var s,u;i.edgeUpdateStart(o),(u=(s=n.events)==null?void 0:s.updateStart)==null||u.call(s,o)}),r.update.on(o=>{var s,u;i.edgeUpdate(o),(u=(s=n.events)==null?void 0:s.update)==null||u.call(s,o)}),r.updateEnd.on(o=>{var s,u;i.edgeUpdateEnd(o),(u=(s=n.events)==null?void 0:s.updateEnd)==null||u.call(s,o)}),Object.entries(r).reduce((o,[s,u])=>(o.emit[s]=u.trigger,o.on[s]=u.on,o),{emit:{},on:{}})}function o2(){const{viewport:n,snapGrid:i,snapToGrid:r}=dn();return({sourceEvent:o})=>{const s=o.touches?o.touches[0].clientX:o.clientX,u=o.touches?o.touches[0].clientY:o.clientY,l={x:(s-n.value.x)/n.value.zoom,y:(u-n.value.y)/n.value.zoom};return{xSnapped:r.value?i.value[0]*Math.round(l.x/i.value[0]):l.x,ySnapped:r.value?i.value[1]*Math.round(l.y/i.value[1]):l.y,...l}}}function So(){return!0}function qf({handleId:n,nodeId:i,type:r,isValidConnection:o,edgeUpdaterType:s,onEdgeUpdate:u,onEdgeUpdateEnd:l}){const{vueFlowRef:d,connectionMode:f,connectionRadius:m,connectOnClick:p,connectionClickStartHandle:_,nodesConnectable:S,autoPanOnConnect:k,autoPanSpeed:P,findNode:T,panBy:A,startConnection:z,updateConnection:x,endConnection:B,emits:O,viewport:Q,edges:ue,nodes:te,isValidConnection:de}=dn();let ye=null,J=!1,M=null,be=null;function Ne(F){var R;const V=Qe(r)==="target",Z=ol(F),re=sd(F.target);if(Z&&F.button===0||!Z){let fe=function(D){X=Jt(D,W);const{handle:q,validHandleResult:le}=jk(D,re,Go(X,Q.value,!1,[1,1]),m.value,v,ke=>yd(D,ke,f.value,Qe(i),Qe(n),V?"target":"source",ge,re,ue.value,te.value,T));if(ce=q,j||(w(),j=!0),ye=le.connection,J=le.isValid,M=le.handleDomNode,!(J&&ce&&(be!=null&&be.endHandle)&&le.endHandle&&be.endHandle.type===le.endHandle.type&&be.endHandle.nodeId===le.endHandle.nodeId&&be.endHandle.handleId===le.endHandle.handleId)){if(x(ce&&J?Mf({x:ce.x,y:ce.y},Q.value):X,le.endHandle,Zk(!!ce,J)),be=le,!ce&&!J&&!M)return Ms(G);ye&&ye.source!==ye.target&&M&&(Ms(G),G=M,M.classList.add("connecting","vue-flow__handle-connecting"),M.classList.toggle("valid",J),M.classList.toggle("vue-flow__handle-valid",J))}},ee=function(D){(ce||M)&&ye&&J&&(u?u(D,ye):O.connect(ye)),O.connectEnd(D),s&&(l==null||l(D)),Ms(G),cancelAnimationFrame(me),B(D),j=!1,J=!1,ye=null,M=null,re.removeEventListener("mousemove",fe),re.removeEventListener("mouseup",ee),re.removeEventListener("touchmove",fe),re.removeEventListener("touchend",ee)};const Se=T(Qe(i));let ge=Qe(o)||de.value||So;!ge&&Se&&(ge=(V?Se.isValidSourcePos:Se.isValidTargetPos)||So);let ce,me=0;const{x:De,y:Be}=Jt(F),oe=re==null?void 0:re.elementFromPoint(De,Be),se=al(Qe(s),oe),W=(R=d.value)==null?void 0:R.getBoundingClientRect();if(!W||!se)return;let G,X=Jt(F,W),j=!1;const v=Kk({nodes:te.value,nodeId:Qe(i),handleId:Qe(n),handleType:se}),w=()=>{if(!k.value)return;const[D,q]=Pf(X,W,P.value);A({x:D,y:q}),me=requestAnimationFrame(w)};z({nodeId:Qe(i),handleId:Qe(n),type:se,position:(oe==null?void 0:oe.getAttribute("data-handlepos"))||Ee.Top},{x:De-W.left,y:Be-W.top}),O.connectStart({event:F,nodeId:Qe(i),handleId:Qe(n),handleType:se}),re.addEventListener("mousemove",fe),re.addEventListener("mouseup",ee),re.addEventListener("touchmove",fe),re.addEventListener("touchend",ee)}}function I(F){if(!p.value)return;const R=Qe(r)==="target";if(!_.value)O.clickConnectStart({event:F,nodeId:Qe(i),handleId:Qe(n)}),z({nodeId:Qe(i),type:Qe(r),handleId:Qe(n)},void 0,!0);else{let V=Qe(o)||de.value||So;const Z=T(Qe(i));if(!V&&Z&&(V=(R?Z.isValidSourcePos:Z.isValidTargetPos)||So),Z&&(typeof Z.connectable=="undefined"?S.value:Z.connectable)===!1)return;const re=sd(F.target),{connection:fe,isValid:ee}=yd(F,{nodeId:Qe(i),id:Qe(n),type:Qe(r)},f.value,_.value.nodeId,_.value.handleId||null,_.value.type,V,re,ue.value,te.value,T),Se=fe.source===fe.target;ee&&!Se&&O.connect(fe),O.clickConnectEnd(F),B(F,!0)}}return{handlePointerDown:Ne,handleClick:I}}function a2(){return Wi(Bf,"")}function Ff(n){var d;const i=(d=n!=null?n:a2())!=null?d:"",r=Wi(Lf,Pe(null)),{findNode:o,edges:s,emits:u}=dn(),l=o(i);return l||u.error(new xn(yn.NODE_NOT_FOUND,i)),{id:i,nodeEl:r,node:l,parentNode:Me(()=>o(l.parentNode)),connectedEdges:Me(()=>Nf([l],s.value))}}function s2(){return{doubleClick:pe(),click:pe(),mouseEnter:pe(),mouseMove:pe(),mouseLeave:pe(),contextMenu:pe(),dragStart:pe(),drag:pe(),dragStop:pe()}}function l2(n,i){const r=s2();return r.doubleClick.on(o=>{var s,u;i.nodeDoubleClick(o),(u=(s=n.events)==null?void 0:s.doubleClick)==null||u.call(s,o)}),r.click.on(o=>{var s,u;i.nodeClick(o),(u=(s=n.events)==null?void 0:s.click)==null||u.call(s,o)}),r.mouseEnter.on(o=>{var s,u;i.nodeMouseEnter(o),(u=(s=n.events)==null?void 0:s.mouseEnter)==null||u.call(s,o)}),r.mouseMove.on(o=>{var s,u;i.nodeMouseMove(o),(u=(s=n.events)==null?void 0:s.mouseMove)==null||u.call(s,o)}),r.mouseLeave.on(o=>{var s,u;i.nodeMouseLeave(o),(u=(s=n.events)==null?void 0:s.mouseLeave)==null||u.call(s,o)}),r.contextMenu.on(o=>{var s,u;i.nodeContextMenu(o),(u=(s=n.events)==null?void 0:s.contextMenu)==null||u.call(s,o)}),r.dragStart.on(o=>{var s,u;i.nodeDragStart(o),(u=(s=n.events)==null?void 0:s.dragStart)==null||u.call(s,o)}),r.drag.on(o=>{var s,u;i.nodeDrag(o),(u=(s=n.events)==null?void 0:s.drag)==null||u.call(s,o)}),r.dragStop.on(o=>{var s,u;i.nodeDragStop(o),(u=(s=n.events)==null?void 0:s.dragStop)==null||u.call(s,o)}),Object.entries(r).reduce((o,[s,u])=>(o.emit[s]=u.trigger,o.on[s]=u.on,o),{emit:{},on:{}})}function Gf(){const{getSelectedNodes:n,nodeExtent:i,updateNodePositions:r,findNode:o,snapGrid:s,snapToGrid:u,nodesDraggable:l,emits:d}=dn();return(f,m=!1)=>{const p=u.value?s.value[0]:5,_=u.value?s.value[1]:5,S=m?4:1,k=f.x*p*S,P=f.y*_*S,T=[];for(const A of n.value)if(A.draggable||l&&typeof A.draggable=="undefined"){const z={x:A.computedPosition.x+k,y:A.computedPosition.y+P},{computedPosition:x}=rl(A,z,d.error,i.value,A.parentNode?o(A.parentNode):void 0);T.push({id:A.id,position:x,from:A.position,distance:{x:f.x,y:f.y},dimensions:A.dimensions})}r(T,!0,!1)}}const Cs=.1;function Yt(){return Zo("Viewport not initialized yet."),Promise.resolve(!1)}const u2={zoomIn:Yt,zoomOut:Yt,zoomTo:Yt,fitView:Yt,setCenter:Yt,fitBounds:Yt,project:n=>n,screenToFlowCoordinate:n=>n,flowToScreenCoordinate:n=>n,setViewport:Yt,setTransform:Yt,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function c2(n){function i(o,s){return new Promise(u=>{n.d3Selection&&n.d3Zoom?n.d3Zoom.scaleBy(Is(n.d3Selection,s,()=>{u(!0)}),o):u(!1)})}function r(o,s,u,l){return new Promise(d=>{const{x:f,y:m}=kf({x:-o,y:-s},n.translateExtent),p=$i.translate(-f,-m).scale(u);n.d3Selection&&n.d3Zoom?n.d3Zoom.transform(Is(n.d3Selection,l,()=>{d(!0)}),p):d(!1)})}return Me(()=>n.d3Zoom&&n.d3Selection&&n.dimensions.width&&n.dimensions.height?{viewportInitialized:!0,zoomIn:s=>i(1.2,s==null?void 0:s.duration),zoomOut:s=>i(1/1.2,s==null?void 0:s.duration),zoomTo:(s,u)=>new Promise(l=>{n.d3Selection&&n.d3Zoom?n.d3Zoom.scaleTo(Is(n.d3Selection,u==null?void 0:u.duration,()=>{l(!0)}),s):l(!1)}),setViewport:(s,u)=>r(s.x,s.y,s.zoom,u==null?void 0:u.duration),setTransform:(s,u)=>r(s.x,s.y,s.zoom,u==null?void 0:u.duration),getViewport:()=>({x:n.viewport.x,y:n.viewport.y,zoom:n.viewport.zoom}),getTransform:()=>({x:n.viewport.x,y:n.viewport.y,zoom:n.viewport.zoom}),fitView:(s={padding:Cs,includeHiddenNodes:!1,duration:0})=>{var S,k,P;var u,l;const d=[];for(const T of n.nodes)T.dimensions.width&&T.dimensions.height&&((s==null?void 0:s.includeHiddenNodes)||!T.hidden)&&(!((u=s.nodes)!=null&&u.length)||(l=s.nodes)!=null&&l.length&&s.nodes.includes(T.id))&&d.push(T);if(!d.length)return Promise.resolve(!1);const f=If(d),{x:m,y:p,zoom:_}=ld(f,n.dimensions.width,n.dimensions.height,(S=s.minZoom)!=null?S:n.minZoom,(k=s.maxZoom)!=null?k:n.maxZoom,(P=s.padding)!=null?P:Cs,s.offset);return r(m,p,_,s==null?void 0:s.duration)},setCenter:(s,u,l)=>{const d=typeof(l==null?void 0:l.zoom)!="undefined"?l.zoom:n.maxZoom,f=n.dimensions.width/2-s*d,m=n.dimensions.height/2-u*d;return r(f,m,d,l==null?void 0:l.duration)},fitBounds:(s,u={padding:Cs})=>{const{x:l,y:d,zoom:f}=ld(s,n.dimensions.width,n.dimensions.height,n.minZoom,n.maxZoom,u.padding);return r(l,d,f,u==null?void 0:u.duration)},project:s=>Go(s,n.viewport,n.snapToGrid,n.snapGrid),screenToFlowCoordinate:s=>{if(n.vueFlowRef){const{x:u,y:l}=n.vueFlowRef.getBoundingClientRect(),d={x:s.x-u,y:s.y-l};return Go(d,n.viewport,n.snapToGrid,n.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:s=>{if(n.vueFlowRef){const{x:u,y:l}=n.vueFlowRef.getBoundingClientRect(),d={x:s.x+u,y:s.y+l};return Mf(d,n.viewport)}return{x:0,y:0}}}:u2)}function Is(n,i=0,r){return n.transition().duration(i).on("end",r)}function d2(n,i,r){const o=Ad(!0);return o.run(()=>{const s=()=>{o.run(()=>{let T,A,z=!!(r.nodes.value.length||r.edges.value.length);T=Pi([n.modelValue,()=>{var x,B;return(B=(x=n.modelValue)==null?void 0:x.value)==null?void 0:B.length}],([x])=>{x&&Array.isArray(x)&&(A==null||A.pause(),r.setElements(x),!A&&!z&&x.length?z=!0:A==null||A.resume())}),A=Pi([r.nodes,r.edges,()=>r.edges.value.length,()=>r.nodes.value.length],([x,B])=>{var O;(O=n.modelValue)!=null&&O.value&&Array.isArray(n.modelValue.value)&&(T==null||T.pause(),n.modelValue.value=[...x,...B],Hn(()=>{T==null||T.resume()}))},{immediate:z}),Mo(()=>{T==null||T.stop(),A==null||A.stop()})})},u=()=>{o.run(()=>{let T,A,z=!!r.nodes.value.length;T=Pi([n.nodes,()=>{var x,B;return(B=(x=n.nodes)==null?void 0:x.value)==null?void 0:B.length}],([x])=>{x&&Array.isArray(x)&&(A==null||A.pause(),r.setNodes(x),!A&&!z&&x.length?z=!0:A==null||A.resume())}),A=Pi([r.nodes,()=>r.nodes.value.length],([x])=>{var B;(B=n.nodes)!=null&&B.value&&Array.isArray(n.nodes.value)&&(T==null||T.pause(),n.nodes.value=[...x],Hn(()=>{T==null||T.resume()}))},{immediate:z}),Mo(()=>{T==null||T.stop(),A==null||A.stop()})})},l=()=>{o.run(()=>{let T,A,z=!!r.edges.value.length;T=Pi([n.edges,()=>{var x,B;return(B=(x=n.edges)==null?void 0:x.value)==null?void 0:B.length}],([x])=>{x&&Array.isArray(x)&&(A==null||A.pause(),r.setEdges(x),!A&&!z&&x.length?z=!0:A==null||A.resume())}),A=Pi([r.edges,()=>r.edges.value.length],([x])=>{var B;(B=n.edges)!=null&&B.value&&Array.isArray(n.edges.value)&&(T==null||T.pause(),n.edges.value=[...x],Hn(()=>{T==null||T.resume()}))},{immediate:z}),Mo(()=>{T==null||T.stop(),A==null||A.stop()})})},d=()=>{o.run(()=>{en(()=>i.maxZoom,()=>{i.maxZoom&&vn(i.maxZoom)&&r.setMaxZoom(i.maxZoom)},{immediate:!0})})},f=()=>{o.run(()=>{en(()=>i.minZoom,()=>{i.minZoom&&vn(i.minZoom)&&r.setMinZoom(i.minZoom)},{immediate:!0})})},m=()=>{o.run(()=>{en(()=>i.translateExtent,()=>{i.translateExtent&&vn(i.translateExtent)&&r.setTranslateExtent(i.translateExtent)},{immediate:!0})})},p=()=>{o.run(()=>{en(()=>i.nodeExtent,()=>{i.nodeExtent&&vn(i.nodeExtent)&&r.setNodeExtent(i.nodeExtent)},{immediate:!0})})},_=()=>{o.run(()=>{en(()=>i.applyDefault,()=>{vn(i.applyDefault)&&(r.applyDefault.value=i.applyDefault)},{immediate:!0})})},S=()=>{o.run(()=>{const T=async A=>{let z=A;typeof i.autoConnect=="function"&&(z=await i.autoConnect(A)),z!==!1&&r.addEdges([z])};en(()=>i.autoConnect,()=>{vn(i.autoConnect)&&(r.autoConnect.value=i.autoConnect)},{immediate:!0}),en(r.autoConnect,(A,z,x)=>{A?r.onConnect(T):r.hooks.value.connect.off(T),x(()=>{r.hooks.value.connect.off(T)})},{immediate:!0})})},k=()=>{const T=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const A of Object.keys(i)){const z=A;if(!T.includes(z)){const x=hn(()=>i[z]),B=r[z];Ys(B)&&o.run(()=>{en(x,O=>{vn(O)&&(B.value=O)},{immediate:!0})})}}};(()=>{s(),u(),l(),f(),d(),m(),p(),_(),S(),k()})()}),()=>o.stop()}function f2(){return{edgesChange:pe(),nodesChange:pe(),nodeDoubleClick:pe(),nodeClick:pe(),nodeMouseEnter:pe(),nodeMouseMove:pe(),nodeMouseLeave:pe(),nodeContextMenu:pe(),nodeDragStart:pe(),nodeDrag:pe(),nodeDragStop:pe(),nodesInitialized:pe(),miniMapNodeClick:pe(),miniMapNodeDoubleClick:pe(),miniMapNodeMouseEnter:pe(),miniMapNodeMouseMove:pe(),miniMapNodeMouseLeave:pe(),connect:pe(),connectStart:pe(),connectEnd:pe(),clickConnectStart:pe(),clickConnectEnd:pe(),paneReady:pe(),init:pe(),move:pe(),moveStart:pe(),moveEnd:pe(),selectionDragStart:pe(),selectionDrag:pe(),selectionDragStop:pe(),selectionContextMenu:pe(),selectionStart:pe(),selectionEnd:pe(),viewportChangeStart:pe(),viewportChange:pe(),viewportChangeEnd:pe(),paneScroll:pe(),paneClick:pe(),paneContextMenu:pe(),paneMouseEnter:pe(),paneMouseMove:pe(),paneMouseLeave:pe(),edgeContextMenu:pe(),edgeMouseEnter:pe(),edgeMouseMove:pe(),edgeMouseLeave:pe(),edgeDoubleClick:pe(),edgeClick:pe(),edgeUpdateStart:pe(),edgeUpdate:pe(),edgeUpdateEnd:pe(),updateNodeInternals:pe(),error:pe(n=>Zo(n.message))}}function h2(n,i){zd(()=>{for(const[r,o]of Object.entries(i.value)){const s=u=>{n(r,u)};o.fns.add(s),Uo(()=>{o.off(s)})}})}function $f(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:il.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:vr.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:ui.Bezier,style:{}},connectionMode:vi.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:Wo()?"Meta":"Control",zoomActivationKeyCode:Wo()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:f2(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const g2=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function m2(n,i,r){const o=c2(n),s=v=>{const w=v!=null?v:[];n.hooks.updateNodeInternals.trigger(w)},u=v=>Bk(v,n.nodes,n.edges),l=v=>Dk(v,n.nodes,n.edges),d=v=>Nf(v,n.edges),f=({id:v,type:w,nodeId:D})=>{var le;var q;return Array.from((le=(q=n.connectionLookup.get(`${D}-${w}-${v!=null?v:null}`))==null?void 0:q.values())!=null?le:[])},m=v=>{if(v)return i.value.get(v)},p=v=>{if(v)return r.value.get(v)},_=(v,w,D)=>{var H,ve;var q,le;const ke=[];for(const xe of v){const Fe={id:xe.id,type:"position",dragging:D,from:xe.from};if(w&&(Fe.position=xe.position,xe.parentNode)){const He=m(xe.parentNode);Fe.position={x:Fe.position.x-((H=(q=He==null?void 0:He.computedPosition)==null?void 0:q.x)!=null?H:0),y:Fe.position.y-((ve=(le=He==null?void 0:He.computedPosition)==null?void 0:le.y)!=null?ve:0)}}ke.push(Fe)}ke!=null&&ke.length&&n.hooks.nodesChange.trigger(ke)},S=v=>{if(!n.vueFlowRef)return;const w=n.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!w)return;const D=window.getComputedStyle(w),{m22:q}=new window.DOMMatrixReadOnly(D.transform),le=[];for(let ke=0;ke<v.length;++ke){const H=v[ke],ve=m(H.id);if(ve){const xe=Ko(H.nodeElement);if(!!(xe.width&&xe.height&&(ve.dimensions.width!==xe.width||ve.dimensions.height!==xe.height||H.forceUpdate))){const He=H.nodeElement.getBoundingClientRect();ve.dimensions=xe,ve.handleBounds.source=_d(".source",H.nodeElement,He,q),ve.handleBounds.target=_d(".target",H.nodeElement,He,q),le.push({id:ve.id,type:"dimensions",dimensions:xe})}}}!n.fitViewOnInitDone&&n.fitViewOnInit&&o.value.fitView().then(()=>{n.fitViewOnInitDone=!0}),le.length&&n.hooks.nodesChange.trigger(le)},k=(v,w)=>{const D=new Set,q=new Set;for(const H of v)gi(H)?D.add(H.id):Qt(H)&&q.add(H.id);const le=Kt(i.value,D,!0),ke=Kt(r.value,q);if(n.multiSelectionActive){for(const H of D)le.push(Xt(H,w));for(const H of q)ke.push(Xt(H,w))}le.length&&n.hooks.nodesChange.trigger(le),ke.length&&n.hooks.edgesChange.trigger(ke)},P=v=>{if(n.multiSelectionActive){const w=v.map(D=>Xt(D.id,!0));n.hooks.nodesChange.trigger(w);return}n.hooks.nodesChange.trigger(Kt(i.value,new Set(v.map(w=>w.id)),!0)),n.hooks.edgesChange.trigger(Kt(r.value))},T=v=>{if(n.multiSelectionActive){const w=v.map(D=>Xt(D.id,!0));n.hooks.edgesChange.trigger(w);return}n.hooks.edgesChange.trigger(Kt(r.value,new Set(v.map(w=>w.id)))),n.hooks.nodesChange.trigger(Kt(i.value,new Set,!0))},A=v=>{k(v,!0)},z=v=>{const D=(v||n.nodes).map(q=>(q.selected=!1,Xt(q.id,!1)));n.hooks.nodesChange.trigger(D)},x=v=>{const D=(v||n.edges).map(q=>(q.selected=!1,Xt(q.id,!1)));n.hooks.edgesChange.trigger(D)},B=v=>{if(!v||!v.length)return k([],!1);const w=v.reduce((D,q)=>{const le=Xt(q.id,!1);return gi(q)?D.nodes.push(le):D.edges.push(le),D},{nodes:[],edges:[]});w.nodes.length&&n.hooks.nodesChange.trigger(w.nodes),w.edges.length&&n.hooks.edgesChange.trigger(w.edges)},O=v=>{var w;(w=n.d3Zoom)==null||w.scaleExtent([v,n.maxZoom]),n.minZoom=v},Q=v=>{var w;(w=n.d3Zoom)==null||w.scaleExtent([n.minZoom,v]),n.maxZoom=v},ue=v=>{var w;(w=n.d3Zoom)==null||w.translateExtent(v),n.translateExtent=v},te=v=>{n.nodeExtent=v,s()},de=v=>{var w;(w=n.d3Zoom)==null||w.clickDistance(v)},ye=v=>{n.nodesDraggable=v,n.nodesConnectable=v,n.elementsSelectable=v},J=v=>{const w=v instanceof Function?v(n.nodes):v;!n.initialized&&!w.length||(n.nodes=bd(w,m,n.hooks.error.trigger))},M=v=>{const w=v instanceof Function?v(n.edges):v;if(!n.initialized&&!w.length)return;const D=xd(w,n.isValidConnection,m,p,n.hooks.error.trigger,n.defaultEdgeOptions,n.nodes,n.edges);wd(n.connectionLookup,D),n.edges=D},be=v=>{const w=v instanceof Function?v([...n.nodes,...n.edges]):v;!n.initialized&&!w.length||(J(w.filter(gi)),M(w.filter(Qt)))},Ne=v=>{let w=v instanceof Function?v(n.nodes):v;w=Array.isArray(w)?w:[w];const D=bd(w,m,n.hooks.error.trigger),q=[];for(const le of D)q.push(dd(le));q.length&&n.hooks.nodesChange.trigger(q)},I=v=>{let w=v instanceof Function?v(n.edges):v;w=Array.isArray(w)?w:[w];const D=xd(w,n.isValidConnection,m,p,n.hooks.error.trigger,n.defaultEdgeOptions,n.nodes,n.edges),q=[];for(const le of D)q.push(dd(le));q.length&&n.hooks.edgesChange.trigger(q)},F=(v,w=!0,D=!1)=>{const q=v instanceof Function?v(n.nodes):v,le=Array.isArray(q)?q:[q],ke=[],H=[];function ve(Fe){const He=d(Fe);for(const Ke of He)(!vn(Ke.deletable)||Ke.deletable)&&H.push(hd(Ke.id,Ke.source,Ke.target,Ke.sourceHandle,Ke.targetHandle))}function xe(Fe){const He=[];for(const Ke of n.nodes)Ke.parentNode===Fe&&He.push(Ke);if(He.length){for(const Ke of He)ke.push(fd(Ke.id));w&&ve(He);for(const Ke of He)xe(Ke.id)}}for(const Fe of le){const He=typeof Fe=="string"?m(Fe):Fe;He&&(vn(He.deletable)&&!He.deletable||(ke.push(fd(He.id)),w&&ve([He]),D&&xe(He.id)))}H.length&&n.hooks.edgesChange.trigger(H),ke.length&&n.hooks.nodesChange.trigger(ke)},R=v=>{const w=v instanceof Function?v(n.edges):v,D=Array.isArray(w)?w:[w],q=[];for(const le of D){const ke=typeof le=="string"?p(le):le;ke&&(vn(ke.deletable)&&!ke.deletable||q.push(hd(typeof le=="string"?le:le.id,ke.source,ke.target,ke.sourceHandle,ke.targetHandle)))}n.hooks.edgesChange.trigger(q)},V=(v,w,D=!0)=>e2(v,w,n.edges,p,D,n.hooks.error.trigger),Z=(v,w,D={replace:!1})=>{const q=p(v);if(!q)return;const le=typeof w=="function"?w(q):w;q.data=D.replace?le:{...q.data,...le}},re=v=>cd(v,n.nodes),fe=v=>{const w=cd(v,n.edges);return wd(n.connectionLookup,w),w},ee=(v,w,D={replace:!1})=>{const q=m(v);if(!q)return;const le=typeof w=="function"?w(q):w;D.replace?n.nodes.splice(n.nodes.indexOf(q),1,le):Object.assign(q,le)},Se=(v,w,D={replace:!1})=>{const q=m(v);if(!q)return;const le=typeof w=="function"?w(q):w;q.data=D.replace?le:{...q.data,...le}},ge=(v,w,D=!1)=>{D?n.connectionClickStartHandle=v:n.connectionStartHandle=v,n.connectionEndHandle=null,n.connectionStatus=null,w&&(n.connectionPosition=w)},ce=(v,w=null,D=null)=>{n.connectionStartHandle&&(n.connectionPosition=v,n.connectionEndHandle=w,n.connectionStatus=D)},me=(v,w)=>{n.connectionPosition={x:Number.NaN,y:Number.NaN},n.connectionEndHandle=null,n.connectionStatus=null,w?n.connectionClickStartHandle=null:n.connectionStartHandle=null},De=v=>{const w=Ok(v),D=w?null:mr(v)?v:m(v.id);return!w&&!D?[null,null,w]:[w?v:$s(D),D,w]},Be=(v,w=!0,D=n.nodes)=>{const[q,le,ke]=De(v);if(!q)return[];const H=[];for(const ve of D||n.nodes){if(!ke&&(ve.id===le.id||!ve.computedPosition))continue;const xe=$s(ve),Fe=Ws(xe,q);(w&&Fe>0||Fe>=Number(q.width)*Number(q.height))&&H.push(ve)}return H},oe=(v,w,D=!0)=>{const[q]=De(v);if(!q)return!1;const le=Ws(q,w);return D&&le>0||le>=Number(q.width)*Number(q.height)},se=v=>{const{viewport:w,dimensions:D,d3Zoom:q,d3Selection:le,translateExtent:ke}=n;if(!q||!le||!v.x&&!v.y)return!1;const H=$i.translate(w.x+v.x,w.y+v.y).scale(w.zoom),ve=[[0,0],[D.width,D.height]],xe=q.constrain()(H,ve,ke),Fe=n.viewport.x!==xe.x||n.viewport.y!==xe.y||n.viewport.zoom!==xe.k;return q.transform(le,xe),Fe},W=v=>{const w=v instanceof Function?v(n):v,D=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];vn(w.defaultEdgeOptions)&&(n.defaultEdgeOptions=w.defaultEdgeOptions);const q=w.modelValue||w.nodes||w.edges?[]:void 0;q&&(w.modelValue&&q.push(...w.modelValue),w.nodes&&q.push(...w.nodes),w.edges&&q.push(...w.edges),be(q));const le=()=>{vn(w.maxZoom)&&Q(w.maxZoom),vn(w.minZoom)&&O(w.minZoom),vn(w.translateExtent)&&ue(w.translateExtent)};for(const ke of Object.keys(w)){const H=ke,ve=w[H];![...g2,...D].includes(H)&&vn(ve)&&(n[H]=ve)}zs(()=>n.d3Zoom).not.toBeNull().then(le),n.initialized||(n.initialized=!0)};return{updateNodePositions:_,updateNodeDimensions:S,setElements:be,setNodes:J,setEdges:M,addNodes:Ne,addEdges:I,removeNodes:F,removeEdges:R,findNode:m,findEdge:p,updateEdge:V,updateEdgeData:Z,updateNode:ee,updateNodeData:Se,applyEdgeChanges:fe,applyNodeChanges:re,addSelectedElements:A,addSelectedNodes:P,addSelectedEdges:T,setMinZoom:O,setMaxZoom:Q,setTranslateExtent:ue,setNodeExtent:te,setPaneClickDistance:de,removeSelectedElements:B,removeSelectedNodes:z,removeSelectedEdges:x,startConnection:ge,updateConnection:ce,endConnection:me,setInteractive:ye,setState:W,getIntersectingNodes:Be,getIncomers:u,getOutgoers:l,getConnectedEdges:d,getHandleConnections:f,isNodeIntersecting:oe,panBy:se,fitView:v=>o.value.fitView(v),zoomIn:v=>o.value.zoomIn(v),zoomOut:v=>o.value.zoomOut(v),zoomTo:(v,w)=>o.value.zoomTo(v,w),setViewport:(v,w)=>o.value.setViewport(v,w),setTransform:(v,w)=>o.value.setTransform(v,w),getViewport:()=>o.value.getViewport(),getTransform:()=>o.value.getTransform(),setCenter:(v,w,D)=>o.value.setCenter(v,w,D),fitBounds:(v,w)=>o.value.fitBounds(v,w),project:v=>o.value.project(v),screenToFlowCoordinate:v=>o.value.screenToFlowCoordinate(v),flowToScreenCoordinate:v=>o.value.flowToScreenCoordinate(v),toObject:()=>{const v=[],w=[];for(const D of n.nodes){const{computedPosition:q,handleBounds:le,selected:ke,dimensions:H,isParent:ve,resizing:xe,dragging:Fe,events:He,...Ke}=D;v.push(Ke)}for(const D of n.edges){const{selected:q,sourceNode:le,targetNode:ke,events:H,...ve}=D;w.push(ve)}return JSON.parse(JSON.stringify({nodes:v,edges:w,position:[n.viewport.x,n.viewport.y],zoom:n.viewport.zoom,viewport:n.viewport}))},fromObject:v=>new Promise(w=>{const{nodes:D,edges:q,position:le,zoom:ke,viewport:H}=v;if(D&&J(D),q&&M(q),H!=null&&H.x&&(H!=null&&H.y)||le){const ve=(H==null?void 0:H.x)||le[0],xe=(H==null?void 0:H.y)||le[1],Fe=(H==null?void 0:H.zoom)||ke||n.viewport.zoom;return zs(()=>o.value.viewportInitialized).toBe(!0).then(()=>{o.value.setViewport({x:ve,y:xe,zoom:Fe}).then(()=>{w(!0)})})}else w(!0)}),updateNodeInternals:s,viewportHelper:o,$reset:()=>{var w,D,q;const v=$f();if(n.edges=[],n.nodes=[],n.d3Zoom&&n.d3Selection){const le=$i.translate((w=v.defaultViewport.x)!=null?w:0,(D=v.defaultViewport.y)!=null?D:0).scale(yi((q=v.defaultViewport.zoom)!=null?q:1,v.minZoom,v.maxZoom)),ke=n.viewportRef.getBoundingClientRect(),H=[[0,0],[ke.width,ke.height]],ve=n.d3Zoom.constrain()(le,H,v.translateExtent);n.d3Zoom.transform(n.d3Selection,ve)}W(v)},$destroy:()=>{}}}const p2=["data-id","data-handleid","data-nodeid","data-handlepos"],v2={name:"Handle",compatConfig:{MODE:3}},Sr=ln({...v2,props:{id:{default:null},type:{},position:{default:()=>Ee.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(n,{expose:i}){const r=Pd(n,["position","connectable","connectableStart","connectableEnd","id"]),o=hn(()=>{var J;return(J=r.type)!=null?J:"source"}),s=hn(()=>{var J;return(J=r.isValidConnection)!=null?J:null}),{connectionStartHandle:u,connectionClickStartHandle:l,connectionEndHandle:d,vueFlowRef:f,nodesConnectable:m,noDragClassName:p,noPanClassName:_}=dn(),{id:S,node:k,nodeEl:P,connectedEdges:T}=Ff(),A=Pe(),z=hn(()=>typeof n.connectableStart!="undefined"?n.connectableStart:!0),x=hn(()=>typeof n.connectableEnd!="undefined"?n.connectableEnd:!0),B=hn(()=>{var J,M,be,Ne,I,F;return((J=u.value)==null?void 0:J.nodeId)===S&&((M=u.value)==null?void 0:M.handleId)===n.id&&((be=u.value)==null?void 0:be.type)===o.value||((Ne=d.value)==null?void 0:Ne.nodeId)===S&&((I=d.value)==null?void 0:I.handleId)===n.id&&((F=d.value)==null?void 0:F.type)===o.value}),O=hn(()=>{var J,M,be;return((J=l.value)==null?void 0:J.nodeId)===S&&((M=l.value)==null?void 0:M.handleId)===n.id&&((be=l.value)==null?void 0:be.type)===o.value}),{handlePointerDown:Q,handleClick:ue}=qf({nodeId:S,handleId:n.id,isValidConnection:s,type:o}),te=Me(()=>typeof n.connectable=="string"&&n.connectable==="single"?!T.value.some(J=>{const M=J[`${o.value}Handle`];return J[o.value]!==S?!1:M?M===n.id:!0}):typeof n.connectable=="number"?T.value.filter(J=>{const M=J[`${o.value}Handle`];return J[o.value]!==S?!1:M?M===n.id:!0}).length<n.connectable:typeof n.connectable=="function"?n.connectable(k,T.value):vn(n.connectable)?n.connectable:m.value);ht(()=>{var Z;var J;if(!k.dimensions.width||!k.dimensions.height)return;const M=(J=k.handleBounds[o.value])==null?void 0:J.find(re=>re.id===n.id);if(!f.value||M)return;const be=f.value.querySelector(".vue-flow__transformationpane");if(!P.value||!A.value||!be||!n.id)return;const Ne=P.value.getBoundingClientRect(),I=A.value.getBoundingClientRect(),F=window.getComputedStyle(be),{m22:R}=new window.DOMMatrixReadOnly(F.transform),V={id:n.id,position:n.position,x:(I.left-Ne.left)/R,y:(I.top-Ne.top)/R,...Ko(A.value)};k.handleBounds[o.value]=[...(Z=k.handleBounds[o.value])!=null?Z:[],V]}),Nd(()=>{const J=k.handleBounds[o.value];J&&(k.handleBounds[o.value]=J.filter(M=>M.id!==n.id))});function de(J){const M=ol(J);te.value&&z.value&&(M&&J.button===0||!M)&&Q(J)}function ye(J){!S||!l.value&&!z.value||te.value&&ue(J)}return i({handleClick:ue,handlePointerDown:Q,onClick:ye,onPointerDown:de}),(J,M)=>(ie(),Re("div",{ref_key:"handle",ref:A,"data-id":`${ze(S)}-${n.id}-${o.value}`,"data-handleid":n.id,"data-nodeid":ze(S),"data-handlepos":J.position,class:bt(["vue-flow__handle",[`vue-flow__handle-${J.position}`,`vue-flow__handle-${n.id}`,ze(p),ze(_),o.value,{connectable:te.value,connecting:O.value,connectablestart:z.value,connectableend:x.value,connectionindicator:te.value&&(z.value&&!B.value||x.value&&B.value)}]]),onMousedown:de,onTouchstartPassive:de,onClick:ye},[mi(J.$slots,"default",{id:J.id})],42,p2))}}),Qo=function({sourcePosition:n=Ee.Bottom,targetPosition:i=Ee.Top,label:r,connectable:o=!0,isValidTargetPos:s,isValidSourcePos:u,data:l}){const d=l.label||r;return[rn(Sr,{type:"target",position:i,connectable:o,isValidConnection:s}),typeof d!="string"&&d?rn(d):rn("div",{innerHTML:d}),rn(Sr,{type:"source",position:n,connectable:o,isValidConnection:u})]};Qo.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];Qo.inheritAttrs=!1;Qo.compatConfig={MODE:3};const y2=Qo,ea=function({targetPosition:n=Ee.Top,label:i,connectable:r=!0,isValidTargetPos:o,data:s}){const u=s.label||i;return[rn(Sr,{type:"target",position:n,connectable:r,isValidConnection:o}),typeof u!="string"&&u?rn(u):rn("div",{innerHTML:u})]};ea.props=["targetPosition","label","isValidTargetPos","connectable","data"];ea.inheritAttrs=!1;ea.compatConfig={MODE:3};const _2=ea,na=function({sourcePosition:n=Ee.Bottom,label:i,connectable:r=!0,isValidSourcePos:o,data:s}){const u=s.label||i;return[typeof u!="string"&&u?rn(u):rn("div",{innerHTML:u}),rn(Sr,{type:"source",position:n,connectable:r,isValidConnection:o})]};na.props=["sourcePosition","label","isValidSourcePos","connectable","data"];na.inheritAttrs=!1;na.compatConfig={MODE:3};const b2=na,w2=["transform"],x2=["width","height","x","y","rx","ry"],k2=["y"],E2={name:"EdgeText",compatConfig:{MODE:3}},S2=ln({...E2,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(n){const i=Pe({x:0,y:0,width:0,height:0}),r=Pe(null),o=Me(()=>`translate(${n.x-i.value.width/2} ${n.y-i.value.height/2})`);ht(s),en([()=>n.x,()=>n.y,r,()=>n.label],s);function s(){if(!r.value)return;const u=r.value.getBBox();(u.width!==i.value.width||u.height!==i.value.height)&&(i.value=u)}return(u,l)=>(ie(),Re("g",{transform:o.value,class:"vue-flow__edge-textwrapper"},[u.labelShowBg?(ie(),Re("rect",{key:0,class:"vue-flow__edge-textbg",width:`${i.value.width+2*u.labelBgPadding[0]}px`,height:`${i.value.height+2*u.labelBgPadding[1]}px`,x:-u.labelBgPadding[0],y:-u.labelBgPadding[1],style:at(u.labelBgStyle),rx:u.labelBgBorderRadius,ry:u.labelBgBorderRadius},null,12,x2)):Ye("",!0),$e("text",G0(u.$attrs,{ref_key:"el",ref:r,class:"vue-flow__edge-text",y:i.value.height/2,dy:"0.3em",style:u.labelStyle}),[mi(u.$slots,"default",{},()=>[typeof u.label!="string"?(ie(),Oe(F0(u.label),{key:0})):(ie(),Re(wn,{key:1},[Ze(Te(u.label),1)],64))])],16,k2)],8,w2))}}),T2=["id","d","marker-end","marker-start"],M2=["d","stroke-width"],C2={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},ta=ln({...C2,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},style:{},labelStyle:{},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(n,{expose:i}){const r=Pd(n,["interactionWidth","labelShowBg"]),o=Pe(null),s=Pe(null),u=Pe(null),l=q0();return i({pathEl:o,interactionEl:s,labelEl:u}),(d,f)=>(ie(),Re(wn,null,[$e("path",{id:d.id,ref_key:"pathEl",ref:o,d:d.path,style:at(r.style),class:bt(["vue-flow__edge-path",ze(l).class]),"marker-end":d.markerEnd,"marker-start":d.markerStart},null,14,T2),d.interactionWidth?(ie(),Re("path",{key:0,ref_key:"interactionEl",ref:s,fill:"none",d:d.path,"stroke-width":d.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,M2)):Ye("",!0),d.label&&d.labelX&&d.labelY?(ie(),Oe(S2,{key:1,ref_key:"labelEl",ref:u,x:d.labelX,y:d.labelY,label:d.label,"label-show-bg":d.labelShowBg,"label-bg-style":d.labelBgStyle,"label-bg-padding":d.labelBgPadding,"label-bg-border-radius":d.labelBgBorderRadius,"label-style":d.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):Ye("",!0)],64))}});function Wf({sourceX:n,sourceY:i,targetX:r,targetY:o}){const s=Math.abs(r-n)/2,u=r<n?r+s:r-s,l=Math.abs(o-i)/2,d=o<i?o+l:o-l;return[u,d,s,l]}function Uf({sourceX:n,sourceY:i,targetX:r,targetY:o,sourceControlX:s,sourceControlY:u,targetControlX:l,targetControlY:d}){const f=n*.125+s*.375+l*.375+r*.125,m=i*.125+u*.375+d*.375+o*.125,p=Math.abs(f-n),_=Math.abs(m-i);return[f,m,p,_]}function To(n,i){return n>=0?.5*n:i*25*Math.sqrt(-n)}function Ed({pos:n,x1:i,y1:r,x2:o,y2:s,c:u}){let l,d;switch(n){case Ee.Left:l=i-To(i-o,u),d=r;break;case Ee.Right:l=i+To(o-i,u),d=r;break;case Ee.Top:l=i,d=r-To(r-s,u);break;case Ee.Bottom:l=i,d=r+To(s-r,u);break}return[l,d]}function Vf(n){const{sourceX:i,sourceY:r,sourcePosition:o=Ee.Bottom,targetX:s,targetY:u,targetPosition:l=Ee.Top,curvature:d=.25}=n,[f,m]=Ed({pos:o,x1:i,y1:r,x2:s,y2:u,c:d}),[p,_]=Ed({pos:l,x1:s,y1:u,x2:i,y2:r,c:d}),[S,k,P,T]=Uf({sourceX:i,sourceY:r,targetX:s,targetY:u,sourceControlX:f,sourceControlY:m,targetControlX:p,targetControlY:_});return[`M${i},${r} C${f},${m} ${p},${_} ${s},${u}`,S,k,P,T]}function Sd({pos:n,x1:i,y1:r,x2:o,y2:s}){let u,l;switch(n){case Ee.Left:case Ee.Right:u=.5*(i+o),l=r;break;case Ee.Top:case Ee.Bottom:u=i,l=.5*(r+s);break}return[u,l]}function Yf(n){const{sourceX:i,sourceY:r,sourcePosition:o=Ee.Bottom,targetX:s,targetY:u,targetPosition:l=Ee.Top}=n,[d,f]=Sd({pos:o,x1:i,y1:r,x2:s,y2:u}),[m,p]=Sd({pos:l,x1:s,y1:u,x2:i,y2:r}),[_,S,k,P]=Uf({sourceX:i,sourceY:r,targetX:s,targetY:u,sourceControlX:d,sourceControlY:f,targetControlX:m,targetControlY:p});return[`M${i},${r} C${d},${f} ${m},${p} ${s},${u}`,_,S,k,P]}const Td={[Ee.Left]:{x:-1,y:0},[Ee.Right]:{x:1,y:0},[Ee.Top]:{x:0,y:-1},[Ee.Bottom]:{x:0,y:1}};function I2({source:n,sourcePosition:i=Ee.Bottom,target:r}){return i===Ee.Left||i===Ee.Right?n.x<r.x?{x:1,y:0}:{x:-1,y:0}:n.y<r.y?{x:0,y:1}:{x:0,y:-1}}function Md(n,i){return Math.sqrt((i.x-n.x)**2+(i.y-n.y)**2)}function A2({source:n,sourcePosition:i=Ee.Bottom,target:r,targetPosition:o=Ee.Top,center:s,offset:u}){var te,de;const l=Td[i],d=Td[o],f={x:n.x+l.x*u,y:n.y+l.y*u},m={x:r.x+d.x*u,y:r.y+d.y*u},p=I2({source:f,sourcePosition:i,target:m}),_=p.x!==0?"x":"y",S=p[_];let k,P,T;const A={x:0,y:0},z={x:0,y:0},[x,B,O,Q]=Wf({sourceX:n.x,sourceY:n.y,targetX:r.x,targetY:r.y});if(l[_]*d[_]===-1){P=(te=s.x)!=null?te:x,T=(de=s.y)!=null?de:B;const ye=[{x:P,y:f.y},{x:P,y:m.y}],J=[{x:f.x,y:T},{x:m.x,y:T}];l[_]===S?k=_==="x"?ye:J:k=_==="x"?J:ye}else{const ye=[{x:f.x,y:m.y}],J=[{x:m.x,y:f.y}];if(_==="x"?k=l.x===S?J:ye:k=l.y===S?ye:J,i===o){const F=Math.abs(n[_]-r[_]);if(F<=u){const R=Math.min(u-1,u-F);l[_]===S?A[_]=(f[_]>n[_]?-1:1)*R:z[_]=(m[_]>r[_]?-1:1)*R}}if(i!==o){const F=_==="x"?"y":"x",R=l[_]===d[F],V=f[F]>m[F],Z=f[F]<m[F];(l[_]===1&&(!R&&V||R&&Z)||l[_]!==1&&(!R&&Z||R&&V))&&(k=_==="x"?ye:J)}const M={x:f.x+A.x,y:f.y+A.y},be={x:m.x+z.x,y:m.y+z.y},Ne=Math.max(Math.abs(M.x-k[0].x),Math.abs(be.x-k[0].x)),I=Math.max(Math.abs(M.y-k[0].y),Math.abs(be.y-k[0].y));Ne>=I?(P=(M.x+be.x)/2,T=k[0].y):(P=k[0].x,T=(M.y+be.y)/2)}return[[n,{x:f.x+A.x,y:f.y+A.y},...k,{x:m.x+z.x,y:m.y+z.y},r],P,T,O,Q]}function N2(n,i,r,o){const s=Math.min(Md(n,i)/2,Md(i,r)/2,o),{x:u,y:l}=i;if(n.x===u&&u===r.x||n.y===l&&l===r.y)return`L${u} ${l}`;if(n.y===l){const m=n.x<r.x?-1:1,p=n.y<r.y?1:-1;return`L ${u+s*m},${l}Q ${u},${l} ${u},${l+s*p}`}const d=n.x<r.x?1:-1,f=n.y<r.y?-1:1;return`L ${u},${l+s*f}Q ${u},${l} ${u+s*d},${l}`}function Vs(n){const{sourceX:i,sourceY:r,sourcePosition:o=Ee.Bottom,targetX:s,targetY:u,targetPosition:l=Ee.Top,borderRadius:d=5,centerX:f,centerY:m,offset:p=20}=n,[_,S,k,P,T]=A2({source:{x:i,y:r},sourcePosition:o,target:{x:s,y:u},targetPosition:l,center:{x:f,y:m},offset:p});return[_.reduce((z,x,B)=>{let O;return B>0&&B<_.length-1?O=N2(_[B-1],x,_[B+1],d):O=`${B===0?"M":"L"}${x.x} ${x.y}`,z+=O,z},""),S,k,P,T]}function z2(n){const{sourceX:i,sourceY:r,targetX:o,targetY:s}=n,[u,l,d,f]=Wf({sourceX:i,sourceY:r,targetX:o,targetY:s});return[`M ${i},${r}L ${o},${s}`,u,l,d,f]}const P2=ln({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(n,{attrs:i}){return()=>{const[r,o,s]=z2(n);return rn(ta,{path:r,labelX:o,labelY:s,...i,...n})}}}),O2=P2,R2=ln({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(n,{attrs:i}){return()=>{var u,l;const[r,o,s]=Vs({...n,sourcePosition:(u=n.sourcePosition)!=null?u:Ee.Bottom,targetPosition:(l=n.targetPosition)!=null?l:Ee.Top});return rn(ta,{path:r,labelX:o,labelY:s,...i,...n})}}}),Xf=R2,D2=ln({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(n,{attrs:i}){return()=>rn(Xf,{...n,...i,borderRadius:0})}}),B2=D2,L2=ln({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(n,{attrs:i}){return()=>{var u,l;const[r,o,s]=Vf({...n,sourcePosition:(u=n.sourcePosition)!=null?u:Ee.Bottom,targetPosition:(l=n.targetPosition)!=null?l:Ee.Top});return rn(ta,{path:r,labelX:o,labelY:s,...i,...n})}}}),H2=L2,q2=ln({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(n,{attrs:i}){return()=>{var u,l;const[r,o,s]=Yf({...n,sourcePosition:(u=n.sourcePosition)!=null?u:Ee.Bottom,targetPosition:(l=n.targetPosition)!=null?l:Ee.Top});return rn(ta,{path:r,labelX:o,labelY:s,...i,...n})}}}),F2=q2,G2={input:b2,default:y2,output:_2},$2={default:H2,straight:O2,step:B2,smoothstep:Xf,simplebezier:F2};function W2(n,i,r){const o=Me(()=>T=>i.value.get(T)),s=Me(()=>T=>r.value.get(T)),u=Me(()=>{const T={...$2,...n.edgeTypes},A=Object.keys(T);for(const z of n.edges)z.type&&!A.includes(z.type)&&(T[z.type]=z.type);return T}),l=Me(()=>{const T={...G2,...n.nodeTypes},A=Object.keys(T);for(const z of n.nodes)z.type&&!A.includes(z.type)&&(T[z.type]=z.type);return T}),d=Me(()=>n.onlyRenderVisibleElements?Af(n.nodes,{x:0,y:0,width:n.dimensions.width,height:n.dimensions.height},n.viewport,!0):n.nodes),f=Me(()=>{if(n.onlyRenderVisibleElements){const T=[];for(const A of n.edges){const z=i.value.get(A.source),x=i.value.get(A.target);Vk({sourcePos:z.computedPosition||{x:0,y:0},targetPos:x.computedPosition||{x:0,y:0},sourceWidth:z.dimensions.width,sourceHeight:z.dimensions.height,targetWidth:x.dimensions.width,targetHeight:x.dimensions.height,width:n.dimensions.width,height:n.dimensions.height,viewport:n.viewport})&&T.push(A)}return T}return n.edges}),m=Me(()=>[...d.value,...f.value]),p=Me(()=>{const T=[];for(const A of n.nodes)A.selected&&T.push(A);return T}),_=Me(()=>{const T=[];for(const A of n.edges)A.selected&&T.push(A);return T}),S=Me(()=>[...p.value,..._.value]),k=Me(()=>{const T=[];for(const A of n.nodes)A.dimensions.width&&A.dimensions.height&&A.handleBounds!==void 0&&T.push(A);return T}),P=Me(()=>d.value.length>0&&k.value.length===d.value.length);return{getNode:o,getEdge:s,getElements:m,getEdgeTypes:u,getNodeTypes:l,getEdges:f,getNodes:d,getSelectedElements:S,getSelectedNodes:p,getSelectedEdges:_,getNodesInitialized:k,areNodesInitialized:P}}class ci{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var s;var i;const r=(i=Tr())==null?void 0:i.appContext.app,o=(s=r==null?void 0:r.config.globalProperties.$vueFlowStorage)!=null?s:ci.instance;return ci.instance=o!=null?o:new ci,r&&(r.config.globalProperties.$vueFlowStorage=ci.instance),ci.instance}set(i,r){return this.flows.set(i,r)}get(i){return this.flows.get(i)}remove(i){return this.flows.delete(i)}create(i,r){const o=$f(),s=O0(o),u={};for(const[S,k]of Object.entries(s.hooks)){const P=`on${S.charAt(0).toUpperCase()+S.slice(1)}`;u[P]=k.on}const l={};for(const[S,k]of Object.entries(s.hooks))l[S]=k.trigger;const d=Me(()=>{const S=new Map;for(const k of s.nodes)S.set(k.id,k);return S}),f=Me(()=>{const S=new Map;for(const k of s.edges)S.set(k.id,k);return S}),m=W2(s,d,f),p=m2(s,d,f);p.setState({...s,...r});const _={...u,...m,...p,...Xb(s),nodeLookup:d,edgeLookup:f,emits:l,id:i,vueFlowVersion:"1.41.1",$destroy:()=>{this.remove(i)}};return this.set(i,_),_}getId(){return`vue-flow-${this.currentId++}`}}function dn(n){const i=ci.getInstance(),r=Rd(),o=typeof n=="object",s=o?n:{id:n},u=s.id,l=u!=null?u:r==null?void 0:r.vueFlowId;let d;if(r){const f=Wi(kd,null);typeof f!="undefined"&&f!==null&&(!l||f.id===l)&&(d=f)}if(d||l&&(d=i.get(l)),!d||l&&d.id!==l){const f=u!=null?u:i.getId(),m=i.create(f,s);d=m,(r!=null?r:Ad(!0)).run(()=>{en(m.applyDefault,(_,S,k)=>{const P=A=>{m.applyNodeChanges(A)},T=A=>{m.applyEdgeChanges(A)};_?(m.onNodesChange(P),m.onEdgesChange(T)):(m.hooks.value.nodesChange.off(P),m.hooks.value.edgesChange.off(T)),k(()=>{m.hooks.value.nodesChange.off(P),m.hooks.value.edgesChange.off(T)})},{immediate:!0}),Uo(()=>{if(d){const _=i.get(d.id);_?_.$destroy():Zo(`No store instance found for id ${d.id} in storage.`)}})})}else o&&d.setState(s);if(r&&(qi(kd,d),r.vueFlowId=d.id),o){const f=Tr();(f==null?void 0:f.type.name)!=="VueFlow"&&d.emits.error(new xn(yn.USEVUEFLOW_OPTIONS))}return d}function U2(n){const{emits:i,dimensions:r}=dn();let o;ht(()=>{const s=n.value,u=()=>{if(!s)return;const l=Ko(s);(l.width===0||l.height===0)&&i.error(new xn(yn.MISSING_VIEWPORT_DIMENSIONS)),r.value={width:l.width||500,height:l.height||500}};u(),window.addEventListener("resize",u),s&&(o=new ResizeObserver(()=>u()),o.observe(s)),Od(()=>{window.removeEventListener("resize",u),o&&s&&o.unobserve(s)})})}const V2={name:"UserSelection",compatConfig:{MODE:3}},Y2=ln({...V2,props:{userSelectionRect:{}},setup(n){return(i,r)=>(ie(),Re("div",{class:"vue-flow__selection vue-flow__container",style:at({width:`${i.userSelectionRect.width}px`,height:`${i.userSelectionRect.height}px`,transform:`translate(${i.userSelectionRect.x}px, ${i.userSelectionRect.y}px)`})},null,4))}}),X2=["tabIndex"],j2={name:"NodesSelection",compatConfig:{MODE:3}},K2=ln({...j2,setup(n){const{emits:i,viewport:r,getSelectedNodes:o,noPanClassName:s,disableKeyboardA11y:u,userSelectionActive:l}=dn(),d=Gf(),f=Pe(null),m=Hf({el:f,onStart(P){i.selectionDragStart(P)},onDrag(P){i.selectionDrag(P)},onStop(P){i.selectionDragStop(P)}});ht(()=>{var P;u.value||(P=f.value)==null||P.focus({preventScroll:!0})});const p=Me(()=>If(o.value)),_=Me(()=>({width:`${p.value.width}px`,height:`${p.value.height}px`,top:`${p.value.y}px`,left:`${p.value.x}px`}));function S(P){i.selectionContextMenu({event:P,nodes:o.value})}function k(P){u||Hi[P.key]&&d({x:Hi[P.key].x,y:Hi[P.key].y},P.shiftKey)}return(P,T)=>!ze(l)&&p.value.width&&p.value.height?(ie(),Re("div",{key:0,class:bt(["vue-flow__nodesselection vue-flow__container",ze(s)]),style:at({transform:`translate(${ze(r).x}px,${ze(r).y}px) scale(${ze(r).zoom})`})},[$e("div",{ref_key:"el",ref:f,class:bt([{dragging:ze(m)},"vue-flow__nodesselection-rect"]),style:at(_.value),tabIndex:ze(u)?void 0:-1,onContextmenu:S,onKeydown:k},null,46,X2)],6)):Ye("",!0)}});function Z2(n,i){return{x:n.clientX-i.left,y:n.clientY-i.top}}const J2={name:"Pane",compatConfig:{MODE:3}},Q2=ln({...J2,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(n){const{vueFlowRef:i,nodes:r,viewport:o,emits:s,userSelectionActive:u,removeSelectedElements:l,panOnDrag:d,userSelectionRect:f,elementsSelectable:m,nodesSelectionActive:p,getSelectedEdges:_,getSelectedNodes:S,removeNodes:k,removeEdges:P,selectionMode:T,deleteKeyCode:A,multiSelectionKeyCode:z,multiSelectionActive:x,edgeLookup:B,nodeLookup:O}=dn(),Q=Pe(null),ue=Pe(0),te=Pe(0),de=Pe(),ye=Pe(new Map),J=hn(()=>m.value&&(n.isSelecting||u.value));let M=!1,be=!1;const Ne=yr(A,{actInsideInputWithModifier:!1}),I=yr(z);en(Ne,ge=>{ge&&(k(S.value),P(_.value),p.value=!1)}),en(I,ge=>{x.value=ge});function F(ge,ce){return me=>{me.target===ce&&(ge==null||ge(me))}}function R(){u.value=!1,f.value=null,ue.value=0,te.value=0}function V(ge){if(M){M=!1;return}s.paneClick(ge),l(),p.value=!1}function Z(ge){var ce;if(Array.isArray(d.value)&&((ce=d.value)!=null&&ce.includes(2))){ge.preventDefault();return}s.paneContextMenu(ge)}function re(ge){s.paneScroll(ge)}function fe(ge){var ce,me,De,Be,oe;if(de.value=(ce=i.value)==null?void 0:ce.getBoundingClientRect(),!m.value||!n.isSelecting||ge.button!==0||ge.target!==Q.value||!de.value)return;(De=(me=ge.target)==null?void 0:me.setPointerCapture)==null||De.call(me,ge.pointerId);const{x:se,y:W}=Z2(ge,de.value);be=!0,M=!1,ye.value=new Map;for(const[G,X]of B.value)ye.value.set(X.source,((Be=ye.value.get(X.source))==null?void 0:Be.add(G))||new Set([G])),ye.value.set(X.target,((oe=ye.value.get(X.target))==null?void 0:oe.add(G))||new Set([G]));l(),f.value={width:0,height:0,startX:se,startY:W,x:se,y:W},s.selectionStart(ge)}function ee(ge){if(!de.value||!f.value)return;M=!0;const{x:ce,y:me}=Jt(ge,de.value),{startX:De=0,startY:Be=0}=f.value,oe={startX:De,startY:Be,x:ce<De?ce:De,y:me<Be?me:Be,width:Math.abs(ce-De),height:Math.abs(me-Be)},se=Af(r.value,oe,o.value,T.value===il.Partial,!0),W=new Set,G=new Set;for(const X of se){G.add(X.id);const j=ye.value.get(X.id);if(j)for(const v of j)W.add(v)}if(ue.value!==G.size){ue.value=G.size;const X=Kt(O.value,G,!0);s.nodesChange(X)}if(te.value!==W.size){te.value=W.size;const X=Kt(B.value,W);s.edgesChange(X)}f.value=oe,u.value=!0,p.value=!1}function Se(ge){var ce;ge.button!==0||!be||((ce=ge.target)==null||ce.releasePointerCapture(ge.pointerId),!u.value&&f.value&&ge.target===Q.value&&V(ge),ue.value>0&&(p.value=!0),R(),s.selectionEnd(ge),n.selectionKeyPressed&&(M=!1),be=!1)}return(ge,ce)=>(ie(),Re("div",{ref_key:"container",ref:Q,class:bt(["vue-flow__pane vue-flow__container",{selection:ge.isSelecting}]),onClick:ce[0]||(ce[0]=me=>J.value?void 0:F(V,Q.value)(me)),onContextmenu:ce[1]||(ce[1]=me=>F(Z,Q.value)(me)),onWheelPassive:ce[2]||(ce[2]=me=>F(re,Q.value)(me)),onPointerenter:ce[3]||(ce[3]=me=>J.value?void 0:ze(s).paneMouseEnter(me)),onPointerdown:ce[4]||(ce[4]=me=>J.value?fe(me):ze(s).paneMouseMove(me)),onPointermove:ce[5]||(ce[5]=me=>J.value?ee(me):ze(s).paneMouseMove(me)),onPointerup:ce[6]||(ce[6]=me=>J.value?Se(me):void 0),onPointerleave:ce[7]||(ce[7]=me=>ze(s).paneMouseLeave(me))},[mi(ge.$slots,"default"),ze(u)&&ze(f)?(ie(),Oe(Y2,{key:0,"user-selection-rect":ze(f)},null,8,["user-selection-rect"])):Ye("",!0),ze(p)&&ze(S).length?(ie(),Oe(K2,{key:1})):Ye("",!0)],34))}}),eE={name:"Transform",compatConfig:{MODE:3}},nE=ln({...eE,setup(n){const{viewport:i,fitViewOnInit:r,fitViewOnInitDone:o}=dn(),s=Me(()=>r.value?!o.value:!1),u=Me(()=>`translate(${i.value.x}px,${i.value.y}px) scale(${i.value.zoom})`);return(l,d)=>(ie(),Re("div",{class:"vue-flow__transformationpane vue-flow__container",style:at({transform:u.value,opacity:s.value?0:void 0})},[mi(l.$slots,"default")],4))}}),tE={name:"Viewport",compatConfig:{MODE:3}},iE=ln({...tE,setup(n){const{minZoom:i,maxZoom:r,defaultViewport:o,translateExtent:s,zoomActivationKeyCode:u,selectionKeyCode:l,panActivationKeyCode:d,panOnScroll:f,panOnScrollMode:m,panOnScrollSpeed:p,panOnDrag:_,zoomOnDoubleClick:S,zoomOnPinch:k,zoomOnScroll:P,preventScrolling:T,noWheelClassName:A,noPanClassName:z,emits:x,connectionStartHandle:B,userSelectionActive:O,paneDragging:Q,d3Zoom:ue,d3Selection:te,d3ZoomHandler:de,viewport:ye,viewportRef:J,paneClickDistance:M}=dn();U2(J);const be=Pe(!1),Ne=Pe(!1);let I=null,F=!1,R=0,V={x:0,y:0,zoom:0};const Z=yr(d),re=yr(l),fe=yr(u),ee=hn(()=>!re.value&&(Z.value||_.value)),Se=hn(()=>Z.value||f.value),ge=hn(()=>re.value||l.value===!0&&ee.value!==!0);ht(()=>{var q,le,ke;if(!J.value){Zo("Viewport element is missing");return}const se=J.value,W=se.getBoundingClientRect(),G=Ik().clickDistance(M.value).scaleExtent([i.value,r.value]).translateExtent(s.value),X=dt(se).call(G),j=X.on("wheel.zoom"),v=$i.translate((q=o.value.x)!=null?q:0,(le=o.value.y)!=null?le:0).scale(yi((ke=o.value.zoom)!=null?ke:1,i.value,r.value)),w=[[0,0],[W.width,W.height]],D=G.constrain()(v,w,s.value);G.transform(X,D),G.wheelDelta(me),ue.value=G,te.value=X,de.value=j,ye.value={x:D.x,y:D.y,zoom:D.k},G.on("start",H=>{var ve;if(!H.sourceEvent)return null;R=H.sourceEvent.button,be.value=!0;const xe=Be(H.transform);((ve=H.sourceEvent)==null?void 0:ve.type)==="mousedown"&&(Q.value=!0),V=xe,x.viewportChangeStart(xe),x.moveStart({event:H,flowTransform:xe})}),G.on("end",H=>{if(!H.sourceEvent)return null;if(be.value=!1,Q.value=!1,ce(ee.value,R!=null?R:0)&&!F&&x.paneContextMenu(H.sourceEvent),F=!1,De(V,H.transform)){const ve=Be(H.transform);V=ve,x.viewportChangeEnd(ve),x.moveEnd({event:H,flowTransform:ve})}}),G.filter(H=>{var ve,xe,Fe;const He=fe.value||P.value,Ke=k.value&&H.ctrlKey,Fn=H.button;if((ee.value===!0||Array.isArray(ee.value)&&ee.value.includes(1))&&Fn===1&&H.type==="mousedown"&&((ve=H.target)!=null&&ve.closest(".vue-flow__node")||(xe=H.target)!=null&&xe.closest(".vue-flow__edge")))return!0;if(!ee.value&&!He&&!Se.value&&!S.value&&!k.value||O.value||!S.value&&H.type==="dblclick"||oe(H,A.value)&&H.type==="wheel"||oe(H,z.value)&&(H.type!=="wheel"||Se.value&&H.type==="wheel"&&!fe.value)||!k.value&&H.ctrlKey&&H.type==="wheel"||!He&&!Se.value&&!Ke&&H.type==="wheel")return!1;if(!k&&H.type==="touchstart"&&((Fe=H.touches)==null?void 0:Fe.length)>1)return H.preventDefault(),!1;if(!ee.value&&(H.type==="mousedown"||H.type==="touchstart")||Array.isArray(ee.value)&&!ee.value.includes(Fn)&&(H.type==="mousedown"||H.type==="touchstart"))return!1;const Pn=Array.isArray(ee.value)&&ee.value.includes(Fn)||!Fn||Fn<=1;return(!H.ctrlKey||H.type==="wheel")&&Pn}),en([O,ee],()=>{O.value&&!be.value?G.on("zoom",null):O.value||G.on("zoom",H=>{ye.value={x:H.transform.x,y:H.transform.y,zoom:H.transform.k};const ve=Be(H.transform);F=ce(ee.value,R!=null?R:0),x.viewportChange(ve),x.move({event:H,flowTransform:ve})})},{immediate:!0}),en([O,Se,m,fe,k,T,A],()=>{Se.value&&!fe.value&&!O.value?X.on("wheel.zoom",H=>{if(oe(H,A.value))return!1;const ve=fe.value||P.value,xe=k.value&&H.ctrlKey;if(!(!T.value||Se.value||ve||xe))return!1;H.preventDefault(),H.stopImmediatePropagation();const He=X.property("__zoom").k||1,Ke=Wo();if(H.ctrlKey&&k.value&&Ke){const xt=yt(H),Ui=me(H),Vi=He*2**Ui;G.scaleTo(X,Vi,xt,H);return}const Fn=H.deltaMode===1?20:1;let Pn=m.value===vr.Vertical?0:H.deltaX*Fn,On=m.value===vr.Horizontal?0:H.deltaY*Fn;!Ke&&H.shiftKey&&m.value!==vr.Vertical&&!Pn&&On&&(Pn=On,On=0),G.translateBy(X,-(Pn/He)*p.value,-(On/He)*p.value);const Gn=Be(X.property("__zoom"));I&&clearTimeout(I),Ne.value?(x.move({event:H,flowTransform:Gn}),x.viewportChange(Gn),I=setTimeout(()=>{x.moveEnd({event:H,flowTransform:Gn}),x.viewportChangeEnd(Gn),Ne.value=!1},150)):(Ne.value=!0,x.moveStart({event:H,flowTransform:Gn}),x.viewportChangeStart(Gn))},{passive:!1}):typeof j!="undefined"&&X.on("wheel.zoom",function(H,ve){const xe=!T.value&&H.type==="wheel"&&!H.ctrlKey,Fe=fe.value||P.value,He=k.value&&H.ctrlKey;if(!Fe&&!f.value&&!He&&H.type==="wheel"||xe||oe(H,A.value))return null;H.preventDefault(),j.call(this,H,ve)},{passive:!1})},{immediate:!0})});function ce(se,W){return W===2&&Array.isArray(se)&&se.includes(2)}function me(se){const W=se.ctrlKey&&Wo()?10:1;return-se.deltaY*(se.deltaMode===1?.05:se.deltaMode?1:.002)*W}function De(se,W){return se.x!==W.x&&!Number.isNaN(W.x)||se.y!==W.y&&!Number.isNaN(W.y)||se.zoom!==W.k&&!Number.isNaN(W.k)}function Be(se){return{x:se.x,y:se.y,zoom:se.k}}function oe(se,W){return se.target.closest(`.${W}`)}return(se,W)=>(ie(),Re("div",{ref_key:"viewportRef",ref:J,class:"vue-flow__viewport vue-flow__container"},[ae(Q2,{"is-selecting":ge.value,"selection-key-pressed":ze(re),class:bt({connecting:!!ze(B),dragging:ze(Q),draggable:ze(_)===!0||Array.isArray(ze(_))&&ze(_).includes(0)})},{default:ne(()=>[ae(nE,null,{default:ne(()=>[mi(se.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),rE=["id"],oE=["id"],aE=["id"],sE={name:"A11yDescriptions",compatConfig:{MODE:3}},lE=ln({...sE,setup(n){const{id:i,disableKeyboardA11y:r,ariaLiveMessage:o}=dn();return(s,u)=>(ie(),Re(wn,null,[$e("div",{id:`${ze(bf)}-${ze(i)}`,style:{display:"none"}}," Press enter or space to select a node. "+Te(ze(r)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,rE),$e("div",{id:`${ze(wf)}-${ze(i)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,oE),ze(r)?Ye("",!0):(ie(),Re("div",{key:0,id:`${ze(Pk)}-${ze(i)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},Te(ze(o)),9,aE))],64))}});function uE(){const n=dn();en(()=>n.viewportHelper.value.viewportInitialized,i=>{i&&setTimeout(()=>{n.emits.init(n),n.emits.paneReady(n)},1)})}function cE(n,i,r){return r===Ee.Left?n-i:r===Ee.Right?n+i:n}function dE(n,i,r){return r===Ee.Top?n-i:r===Ee.Bottom?n+i:n}const sl=function({radius:n=10,centerX:i=0,centerY:r=0,position:o=Ee.Top,type:s}){return rn("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${s}`,cx:cE(i,n,o),cy:dE(r,n,o),r:n,stroke:"transparent",fill:"transparent"})};sl.props=["radius","centerX","centerY","position","type"];sl.compatConfig={MODE:3};const Cd=sl,fE=ln({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(n){const{id:i,addSelectedEdges:r,connectionMode:o,edgeUpdaterRadius:s,emits:u,nodesSelectionActive:l,noPanClassName:d,getEdgeTypes:f,removeSelectedEdges:m,findEdge:p,findNode:_,isValidConnection:S,multiSelectionActive:k,disableKeyboardA11y:P,elementsSelectable:T,edgesUpdatable:A,edgesFocusable:z}=dn(),x=Me(()=>p(n.id)),B=r2(x.value,u),O=Wi(Jo),Q=Tr(),ue=Pe(!1),te=Pe(!1),de=Pe(""),ye=Pe(null),J=Pe("source"),M=Pe(null),be=hn(()=>typeof x.value.selectable=="undefined"?T.value:x.value.selectable),Ne=hn(()=>typeof x.value.updatable=="undefined"?A.value:x.value.updatable),I=hn(()=>typeof x.value.focusable=="undefined"?z.value:x.value.focusable);qi(n2,n.id),qi(t2,M);const F=Me(()=>x.value.class instanceof Function?x.value.class(x.value):x.value.class),R=Me(()=>x.value.style instanceof Function?x.value.style(x.value):x.value.style),V=Me(()=>{var D;const j=x.value.type||"default",v=O==null?void 0:O[`edge-${j}`];if(v)return v;let w=(D=x.value.template)!=null?D:f.value[j];if(typeof w=="string"&&Q){const q=Object.keys(Q.appContext.components);q&&q.includes(j)&&(w=Dd(j,!1))}return w&&typeof w!="string"?w:(u.error(new xn(yn.EDGE_TYPE_MISSING,w)),!1)}),{handlePointerDown:Z}=qf({nodeId:de,handleId:ye,type:J,isValidConnection:S,edgeUpdaterType:J,onEdgeUpdate:ee,onEdgeUpdateEnd:Se});return()=>{const j=_(x.value.source),v=_(x.value.target),w="pathOptions"in x.value?x.value.pathOptions:{};if(!j&&!v)return u.error(new xn(yn.EDGE_SOURCE_TARGET_MISSING,x.value.id,x.value.source,x.value.target)),null;if(!j)return u.error(new xn(yn.EDGE_SOURCE_MISSING,x.value.id,x.value.source)),null;if(!v)return u.error(new xn(yn.EDGE_TARGET_MISSING,x.value.id,x.value.target)),null;if(!x.value||x.value.hidden||j.hidden||v.hidden)return null;let D;o.value===vi.Strict?D=j.handleBounds.source:D=[...j.handleBounds.source||[],...j.handleBounds.target||[]];const q=md(D,x.value.sourceHandle);let le;o.value===vi.Strict?le=v.handleBounds.target:le=[...v.handleBounds.target||[],...v.handleBounds.source||[]];const ke=md(le,x.value.targetHandle),H=(q==null?void 0:q.position)||Ee.Bottom,ve=(ke==null?void 0:ke.position)||Ee.Top,{x:xe,y:Fe}=$o(j,q,H),{x:He,y:Ke}=$o(v,ke,ve);return x.value.sourceX=xe,x.value.sourceY=Fe,x.value.targetX=He,x.value.targetY=Ke,rn("g",{ref:M,key:n.id,"data-id":n.id,class:["vue-flow__edge",`vue-flow__edge-${V.value===!1?"default":x.value.type||"default"}`,d.value,F.value,{updating:ue.value,selected:x.value.selected,animated:x.value.animated,inactive:!be.value}],onClick:ce,onContextmenu:me,onDblclick:De,onMouseenter:Be,onMousemove:oe,onMouseleave:se,onKeyDown:I.value?X:void 0,tabIndex:I.value?0:void 0,"aria-label":x.value.ariaLabel===null?void 0:x.value.ariaLabel||`Edge from ${x.value.source} to ${x.value.target}`,"aria-describedby":I.value?`${wf}-${i}`:void 0,role:I.value?"button":"img"},[te.value?null:rn(V.value===!1?f.value.default:V.value,{id:n.id,sourceNode:j,targetNode:v,source:x.value.source,target:x.value.target,type:x.value.type,updatable:Ne.value,selected:x.value.selected,animated:x.value.animated,label:x.value.label,labelStyle:x.value.labelStyle,labelShowBg:x.value.labelShowBg,labelBgStyle:x.value.labelBgStyle,labelBgPadding:x.value.labelBgPadding,labelBgBorderRadius:x.value.labelBgBorderRadius,data:x.value.data,events:{...x.value.events,...B.on},style:R.value,markerStart:`url('#${Er(x.value.markerStart,i)}')`,markerEnd:`url('#${Er(x.value.markerEnd,i)}')`,sourcePosition:H,targetPosition:ve,sourceX:xe,sourceY:Fe,targetX:He,targetY:Ke,sourceHandleId:x.value.sourceHandle,targetHandleId:x.value.targetHandle,interactionWidth:x.value.interactionWidth,...w}),[Ne.value==="source"||Ne.value===!0?[rn("g",{onMousedown:W,onMouseenter:re,onMouseout:fe},rn(Cd,{position:H,centerX:xe,centerY:Fe,radius:s.value,type:"source","data-type":"source"}))]:null,Ne.value==="target"||Ne.value===!0?[rn("g",{onMousedown:G,onMouseenter:re,onMouseout:fe},rn(Cd,{position:ve,centerX:He,centerY:Ke,radius:s.value,type:"target","data-type":"target"}))]:null]])};function re(){ue.value=!0}function fe(){ue.value=!1}function ee(j,v){B.emit.update({event:j,edge:x.value,connection:v})}function Se(j){B.emit.updateEnd({event:j,edge:x.value}),te.value=!1}function ge(j,v){var w;j.button===0&&(te.value=!0,de.value=v?x.value.target:x.value.source,ye.value=(w=v?x.value.targetHandle:x.value.sourceHandle)!=null?w:"",J.value=v?"target":"source",B.emit.updateStart({event:j,edge:x.value}),Z(j))}function ce(j){var v;const w={event:j,edge:x.value};be.value&&(l.value=!1,x.value.selected&&k.value?(m([x.value]),(v=M.value)==null||v.blur()):r([x.value])),B.emit.click(w)}function me(j){B.emit.contextMenu({event:j,edge:x.value})}function De(j){B.emit.doubleClick({event:j,edge:x.value})}function Be(j){B.emit.mouseEnter({event:j,edge:x.value})}function oe(j){B.emit.mouseMove({event:j,edge:x.value})}function se(j){B.emit.mouseLeave({event:j,edge:x.value})}function W(j){ge(j,!0)}function G(j){ge(j,!1)}function X(j){var v;!P.value&&xf.includes(j.key)&&be.value&&(j.key==="Escape"?((v=M.value)==null||v.blur(),m([p(n.id)])):r([p(n.id)]))}}}),hE=fE,gE={[Ee.Left]:Ee.Right,[Ee.Right]:Ee.Left,[Ee.Top]:Ee.Bottom,[Ee.Bottom]:Ee.Top},mE=ln({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var n;const{id:i,connectionMode:r,connectionStartHandle:o,connectionEndHandle:s,connectionPosition:u,connectionLineType:l,connectionLineStyle:d,connectionLineOptions:f,connectionStatus:m,viewport:p,findNode:_}=dn(),S=(n=Wi(Jo))==null?void 0:n["connection-line"],k=Me(()=>{var x;return _((x=o.value)==null?void 0:x.nodeId)}),P=Me(()=>{var B;var x;return(B=_((x=s.value)==null?void 0:x.nodeId))!=null?B:null}),T=Me(()=>({x:(u.value.x-p.value.x)/p.value.zoom,y:(u.value.y-p.value.y)/p.value.zoom})),A=Me(()=>f.value.markerStart?`url(#${Er(f.value.markerStart,i)})`:""),z=Me(()=>f.value.markerEnd?`url(#${Er(f.value.markerEnd,i)})`:"");return()=>{var re,fe,ee,Se;var x,B,O,Q;if(!k.value||!o.value)return null;const ue=o.value.handleId,te=o.value.type,de=k.value.handleBounds;let ye=de==null?void 0:de[te];if(r.value===vi.Loose&&(ye=ye||(de==null?void 0:de[te==="source"?"target":"source"])),!ye)return null;const J=(re=ue?ye.find(ge=>ge.id===ue):ye[0])!=null?re:null,M=(J==null?void 0:J.position)||Ee.Top,{x:be,y:Ne}=$o(k.value,J,M);let I=null;P.value&&((x=s.value)!=null&&x.handleId)&&(r.value===vi.Strict?I=((B=P.value.handleBounds[te==="source"?"target":"source"])==null?void 0:B.find(ge=>{var ce;return ge.id===((ce=s.value)==null?void 0:ce.handleId)}))||null:I=((O=[...P.value.handleBounds.source||[],...P.value.handleBounds.target||[]])==null?void 0:O.find(ge=>{var ce;return ge.id===((ce=s.value)==null?void 0:ce.handleId)}))||null);const F=(fe=(Q=s.value)==null?void 0:Q.position)!=null?fe:M?gE[M]:null;if(!M||!F)return null;const R=(Se=(ee=l.value)!=null?ee:f.value.type)!=null?Se:ui.Bezier;let V="";const Z={sourceX:be,sourceY:Ne,sourcePosition:M,targetX:T.value.x,targetY:T.value.y,targetPosition:F};return R===ui.Bezier?[V]=Vf(Z):R===ui.Step?[V]=Vs({...Z,borderRadius:0}):R===ui.SmoothStep?[V]=Vs(Z):R===ui.SimpleBezier?[V]=Yf(Z):V=`M${be},${Ne} ${T.value.x},${T.value.y}`,rn("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},rn("g",{class:"vue-flow__connection"},S?rn(S,{sourceX:be,sourceY:Ne,sourcePosition:M,targetX:T.value.x,targetY:T.value.y,targetPosition:F,sourceNode:k.value,sourceHandle:J,targetNode:P.value,targetHandle:I,markerEnd:z.value,markerStart:A.value,connectionStatus:m.value}):rn("path",{d:V,class:[f.value.class,m,"vue-flow__connection-path"],style:{...d.value,...f.value.style},"marker-end":z.value,"marker-start":A.value})))}}}),pE=mE,vE=["id","markerWidth","markerHeight","markerUnits","orient"],yE={name:"MarkerType",compatConfig:{MODE:3}},_E=ln({...yE,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(n){return(i,r)=>(ie(),Re("marker",{id:i.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${i.width}`,markerHeight:`${i.height}`,markerUnits:i.markerUnits,orient:i.orient},[i.type===ze(Fs).ArrowClosed?(ie(),Re("polyline",{key:0,style:at({stroke:i.color,fill:i.color,strokeWidth:i.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):Ye("",!0),i.type===ze(Fs).Arrow?(ie(),Re("polyline",{key:1,style:at({stroke:i.color,strokeWidth:i.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):Ye("",!0)],8,vE))}}),bE={class:"vue-flow__marker vue-flow__container"},wE={name:"MarkerDefinitions",compatConfig:{MODE:3}},xE=ln({...wE,setup(n){const{id:i,edges:r,connectionLineOptions:o,defaultMarkerColor:s}=dn(),u=Me(()=>{const l=new Set,d=[],f=m=>{if(m){const p=Er(m,i);l.has(p)||(typeof m=="object"?d.push({...m,id:p,color:m.color||s.value}):d.push({id:p,color:s.value,type:m}),l.add(p))}};for(const m of[o.value.markerEnd,o.value.markerStart])f(m);for(const m of r.value)for(const p of[m.markerStart,m.markerEnd])f(p);return d.sort((m,p)=>m.id.localeCompare(p.id))});return(l,d)=>(ie(),Re("svg",bE,[$e("defs",null,[(ie(!0),Re(wn,null,ot(u.value,f=>(ie(),Oe(_E,{id:f.id,key:f.id,type:f.type,color:f.color,width:f.width,height:f.height,markerUnits:f.markerUnits,"stroke-width":f.strokeWidth,orient:f.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),kE={name:"Edges",compatConfig:{MODE:3}},EE=ln({...kE,setup(n){const{findNode:i,getEdges:r,elevateEdgesOnSelect:o}=dn();return(s,u)=>(ie(),Re(wn,null,[ae(xE),(ie(!0),Re(wn,null,ot(ze(r),l=>(ie(),Re("svg",{key:l.id,class:"vue-flow__edges vue-flow__container",style:at({zIndex:ze(Yk)(l,ze(i),ze(o))})},[ae(ze(hE),{id:l.id},null,8,["id"])],4))),128)),ae(ze(pE))],64))}}),SE=ln({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(n){const{id:i,noPanClassName:r,selectNodesOnDrag:o,nodesSelectionActive:s,multiSelectionActive:u,emits:l,removeSelectedNodes:d,addSelectedNodes:f,updateNodeDimensions:m,onUpdateNodeInternals:p,getNodeTypes:_,nodeExtent:S,elevateNodesOnSelect:k,disableKeyboardA11y:P,ariaLiveMessage:T,snapToGrid:A,snapGrid:z,nodeDragThreshold:x,nodesDraggable:B,elementsSelectable:O,nodesConnectable:Q,nodesFocusable:ue}=dn(),te=Pe(null);qi(Lf,te),qi(Bf,n.id);const de=Wi(Jo),ye=Tr(),J=Gf(),{node:M,parentNode:be}=Ff(n.id),Ne=hn(()=>typeof M.draggable=="undefined"?B.value:M.draggable),I=hn(()=>typeof M.selectable=="undefined"?O.value:M.selectable),F=hn(()=>typeof M.connectable=="undefined"?Q.value:M.connectable),R=hn(()=>typeof M.focusable=="undefined"?ue.value:M.focusable),V=hn(()=>!!M.dimensions.width&&!!M.dimensions.height),Z=Me(()=>{const v=M.type||"default",w=de==null?void 0:de[`node-${v}`];if(w)return w;let D=M.template||_.value[v];if(typeof D=="string"&&ye){const q=Object.keys(ye.appContext.components);q&&q.includes(v)&&(D=Dd(v,!1))}return D&&typeof D!="string"?D:(l.error(new xn(yn.NODE_TYPE_MISSING,D)),!1)}),{emit:re,on:fe}=l2(M,l),ee=Hf({id:n.id,el:te,disabled:()=>!Ne.value,selectable:I,dragHandle:()=>M.dragHandle,onStart(v){re.dragStart(v)},onDrag(v){re.drag(v)},onStop(v){re.dragStop(v)},onClick(v){X(v)}}),Se=Me(()=>M.class instanceof Function?M.class(M):M.class),ge=Me(()=>{const v=(M.style instanceof Function?M.style(M):M.style)||{},w=M.width instanceof Function?M.width(M):M.width,D=M.height instanceof Function?M.height(M):M.height;return!v.width&&w&&(v.width=typeof w=="string"?w:`${w}px`),!v.height&&D&&(v.height=typeof D=="string"?D:`${D}px`),v}),ce=hn(()=>{var v,w;return Number((w=(v=M.zIndex)!=null?v:ge.value.zIndex)!=null?w:0)});return p(v=>{(v.includes(n.id)||!v.length)&&De()}),ht(()=>{en(()=>M.hidden,(v=!1,w,D)=>{!v&&te.value&&(n.resizeObserver.observe(te.value),D(()=>{te.value&&n.resizeObserver.unobserve(te.value)}))},{immediate:!0,flush:"post"})}),en([()=>M.type,()=>M.sourcePosition,()=>M.targetPosition],()=>{Hn(()=>{m([{id:n.id,nodeElement:te.value,forceUpdate:!0}])})}),en([()=>M.position.x,()=>M.position.y,()=>{var v;return(v=be.value)==null?void 0:v.computedPosition.x},()=>{var v;return(v=be.value)==null?void 0:v.computedPosition.y},()=>{var v;return(v=be.value)==null?void 0:v.computedPosition.z},ce,()=>M.selected,()=>M.dimensions.height,()=>M.dimensions.width,()=>{var v;return(v=be.value)==null?void 0:v.dimensions.height},()=>{var v;return(v=be.value)==null?void 0:v.dimensions.width}],([v,w,D,q,le,ke])=>{const H={x:v,y:w,z:ke+(k.value&&M.selected?1e3:0)};typeof D!="undefined"&&typeof q!="undefined"?M.computedPosition=Fk({x:D,y:q,z:le},H):M.computedPosition=H},{flush:"post",immediate:!0}),en([()=>M.extent,S],([v,w],[D,q])=>{(v!==D||w!==q)&&me()}),M.extent==="parent"||typeof M.extent=="object"&&"range"in M.extent&&M.extent.range==="parent"?zs(()=>V).toBe(!0).then(me):me(),()=>{var v,w;return M.hidden?null:rn("div",{ref:te,"data-id":M.id,class:["vue-flow__node",`vue-flow__node-${Z.value===!1?"default":M.type||"default"}`,{[r.value]:Ne.value,dragging:ee==null?void 0:ee.value,draggable:Ne.value,selected:M.selected,selectable:I.value,parent:M.isParent},Se.value],style:{visibility:V.value?"visible":"hidden",zIndex:(v=M.computedPosition.z)!=null?v:ce.value,transform:`translate(${M.computedPosition.x}px,${M.computedPosition.y}px)`,pointerEvents:I.value||Ne.value?"all":"none",...ge.value},tabIndex:R.value?0:void 0,role:R.value?"button":void 0,"aria-describedby":P.value?void 0:`${bf}-${i}`,"aria-label":M.ariaLabel,onMouseenter:Be,onMousemove:oe,onMouseleave:se,onContextmenu:W,onClick:X,onDblclick:G,onKeydown:j},[rn(Z.value===!1?_.value.default:Z.value,{id:M.id,type:M.type,data:M.data,events:{...M.events,...fe},selected:M.selected,resizing:M.resizing,dragging:ee.value,connectable:F.value,position:M.computedPosition,dimensions:M.dimensions,isValidTargetPos:M.isValidTargetPos,isValidSourcePos:M.isValidSourcePos,parent:M.parentNode,parentNodeId:M.parentNode,zIndex:(w=M.computedPosition.z)!=null?w:ce.value,targetPosition:M.targetPosition,sourcePosition:M.sourcePosition,label:M.label,dragHandle:M.dragHandle,onUpdateNodeInternals:De})])};function me(){const v=M.computedPosition;A.value&&(v.x=z.value[0]*Math.round(v.x/z.value[0]),v.y=z.value[1]*Math.round(v.y/z.value[1]));const{computedPosition:w,position:D}=rl(M,v,l.error,S.value,be.value);(M.computedPosition.x!==w.x||M.computedPosition.y!==w.y)&&(M.computedPosition={...M.computedPosition,...w}),(M.position.x!==D.x||M.position.y!==D.y)&&(M.position=D)}function De(){te.value&&m([{id:n.id,nodeElement:te.value,forceUpdate:!0}])}function Be(v){ee!=null&&ee.value||re.mouseEnter({event:v,node:M})}function oe(v){ee!=null&&ee.value||re.mouseMove({event:v,node:M})}function se(v){ee!=null&&ee.value||re.mouseLeave({event:v,node:M})}function W(v){return re.contextMenu({event:v,node:M})}function G(v){return re.doubleClick({event:v,node:M})}function X(v){I.value&&(!o.value||!Ne.value||x.value>0)&&Us(M,u.value,f,d,s,!1,te.value),re.click({event:v,node:M})}function j(v){if(!(Gs(v)||P.value))if(xf.includes(v.key)&&I.value){const w=v.key==="Escape";Us(M,u.value,f,d,s,w,te.value)}else Ne.value&&M.selected&&Hi[v.key]&&(T.value=`Moved selected node ${v.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~M.position.x}, y: ${~~M.position.y}`,J({x:Hi[v.key].x,y:Hi[v.key].y},v.shiftKey))}}}),TE=SE;function ME(n={includeHiddenNodes:!1}){const{nodes:i}=dn();return Me(()=>{if(i.value.length===0)return!1;for(const r of i.value)if((n.includeHiddenNodes||!r.hidden)&&((r==null?void 0:r.handleBounds)===void 0||r.dimensions.width===0||r.dimensions.height===0))return!1;return!0})}const CE={class:"vue-flow__nodes vue-flow__container"},IE={name:"Nodes",compatConfig:{MODE:3}},AE=ln({...IE,setup(n){const{getNodes:i,updateNodeDimensions:r,emits:o}=dn(),s=ME(),u=Pe();return en(s,l=>{l&&Hn(()=>{o.nodesInitialized(i.value)})},{immediate:!0}),ht(()=>{u.value=new ResizeObserver(l=>{const d=l.map(f=>({id:f.target.getAttribute("data-id"),nodeElement:f.target,forceUpdate:!0}));Hn(()=>r(d))})}),Od(()=>{var l;return(l=u.value)==null?void 0:l.disconnect()}),(l,d)=>(ie(),Re("div",CE,[u.value?(ie(!0),Re(wn,{key:0},ot(ze(i),(f,m,p,_)=>{const S=[f.id];if(_&&_.key===f.id&&L0(_,S))return _;const k=(ie(),Oe(ze(TE),{id:f.id,key:f.id,"resize-observer":u.value},null,8,["id","resize-observer"]));return k.memo=S,k},d,0),128)):Ye("",!0)]))}});function NE(){const{emits:n}=dn();ht(()=>{if(Df()){const i=document.querySelector(".vue-flow__pane");i&&window.getComputedStyle(i).zIndex!=="1"&&n.error(new xn(yn.MISSING_STYLES))}})}const zE=$e("div",{class:"vue-flow__edge-labels"},null,-1),PE={name:"VueFlow",compatConfig:{MODE:3}},OE=ln({...PE,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(n,{expose:i,emit:r}){const o=n,s=R0(),u=bs(o,"modelValue",r),l=bs(o,"nodes",r),d=bs(o,"edges",r),f=dn(o),m=d2({modelValue:u,nodes:l,edges:d},o,f);return h2(r,f.hooks),uE(),NE(),qi(Jo,s),Nd(()=>{m()}),i(f),(p,_)=>(ie(),Re("div",{ref:ze(f).vueFlowRef,class:"vue-flow"},[ae(iE,null,{default:ne(()=>[ae(EE),zE,ae(AE),mi(p.$slots,"zoom-pane")]),_:3}),mi(p.$slots,"default"),ae(lE)],512))}}),Oi=["jina-colbert-v2","jina-reranker-v2-base-multilingual","jina-embeddings-v3","jina-clip-v2"],Id=[{id:"E1-2",source:"jina-embedding-b-en-v1",target:"jina-embeddings-v2-base-en",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-3",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-zh",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-4",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-de",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-5",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-code",sourceHandle:"source-right",targetHandle:"target-left",markerEnd:"arrow",type:"smoothstep",style:{stroke:"#323838"}},{id:"E2-6",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-es",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-7",source:"jina-embeddings-v2-base-en",target:"jina-colbert-v1-en",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-9",source:"jina-embeddings-v2-base-en",target:"jina-clip-v1",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E7-8",source:"jina-colbert-v1-en",target:"jina-colbert-v2",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E10-11",source:"jina-reranker-v1-base-en",target:"jina-reranker-v1-tiny-en",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E10-12",source:"jina-reranker-v1-base-en",target:"jina-reranker-v1-turbo-en",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E10-13",source:"jina-reranker-v1-base-en",target:"jina-reranker-v2-base-multilingual",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-14",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v3",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E15-16",source:"reader-lm-0.5b",target:"reader-lm-1.5b",sourceHandle:"source-top",targetHandle:"target-bottom",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E9-17",source:"jina-clip-v1",target:"jina-clip-v2",sourceHandle:"source-bottom",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}}],RE=[{id:"E1-2",source:"jina-embedding-b-en-v1",target:"jina-embeddings-v2-base-en",sourceHandle:"source-left",targetHandle:"target-bottom",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-3",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-zh",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-4",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-de",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-5",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-code",sourceHandle:"source-right",targetHandle:"target-left",markerEnd:"arrow",type:"smoothstep",style:{stroke:"#323838"}},{id:"E2-6",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-es",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-7",source:"jina-embeddings-v2-base-en",target:"jina-colbert-v1-en",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-9",source:"jina-embeddings-v2-base-en",target:"jina-clip-v1",sourceHandle:"source-top",targetHandle:"target-bottom",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E7-8",source:"jina-colbert-v1-en",target:"jina-colbert-v2",sourceHandle:"source-left",targetHandle:"target-right",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E10-11",source:"jina-reranker-v1-base-en",target:"jina-reranker-v1-tiny-en",sourceHandle:"source-right",targetHandle:"target-right",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E10-12",source:"jina-reranker-v1-base-en",target:"jina-reranker-v1-turbo-en",sourceHandle:"source-right",targetHandle:"target-right",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E10-13",source:"jina-reranker-v1-base-en",target:"jina-reranker-v2-base-multilingual",sourceHandle:"source-left",targetHandle:"target-right",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-14",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v3",sourceHandle:"source-top",targetHandle:"target-bottom",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E15-16",source:"reader-lm-0.5b",target:"reader-lm-1.5b",sourceHandle:"source-bottom",targetHandle:"target-top",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E9-17",source:"jina-clip-v1",target:"jina-clip-v2",sourceHandle:"source-left",targetHandle:"target-right",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}}],Pt=100,Ri=340,Ot=36,dr=50,DE=ln({__name:"EmbeddingGraph",setup(n,{expose:i}){i();const r=js(),o=cb(),{allModels:s}=pr(o),u=db(),{searchImmediate:l}=pr(u),d=Bd(),{settings:f}=pr(d),m=Pe(!1),{t:p}=Xs({useScope:"global"}),{onNodesInitialized:_,onNodeMouseEnter:S,onNodeMouseLeave:k,onEdgeMouseEnter:P,onEdgeMouseLeave:T,onNodeClick:A,getNodes:z,getEdges:x}=dn(),B=Pe(),O=Pe([]),Q=Pe(Id),ue=Pe(null),te=Pe(""),de=Me(()=>r.screen.lt.md),ye=Me(()=>tb(s.value,["release_date"],["asc"])),J=Me(()=>{const W=Object.keys(B.value||{});return de.value?W.reverse():W}),M=Me(()=>te.value?z.value.filter(W=>W.id.toLowerCase().includes(te.value.toLowerCase())):[]),be=Me(()=>te.value||ue.value),Ne=W=>{var G;return!be.value||M.value.some(X=>X.id===W)||((G=ue.value)==null?void 0:G.name)===W},I=()=>{if(ue.value=null,!te.value){V();return}F(M.value),M.value.length&&Hn(()=>{var X,j;const W=me((j=(X=M.value[M.value.length-1])==null?void 0:X.data)==null?void 0:j.release_date),G=document.getElementById(`${W}`);G&&G.scrollIntoView({behavior:"smooth",block:"start"})})},F=W=>{z.value.forEach(G=>{W.some(X=>X.id===G.id)?G.style={opacity:1,border:"1px solid #787d7d"}:G.style={opacity:.3}}),x.value.forEach(G=>{var j;const X=(j=document.querySelector(`.vue-flow__edge[data-id="${G.id}"]`))==null?void 0:j.parentElement;W.some(v=>v.id===G.source||v.id===G.target)?(G.style={stroke:"#929595"},X==null||X.setAttribute("style","z-index: 100"),G.sourceNode.style={opacity:1,border:"1px solid #787d7d"},G.targetNode.style={opacity:1,border:"1px solid #787d7d"}):X==null||X.setAttribute("style","z-index: 0")})},R=W=>{x.value.forEach(G=>{var j;const X=(j=document.querySelector(`.vue-flow__edge[data-id="${G.id}"]`))==null?void 0:j.parentElement;W.some(v=>v.id===G.id)?(G.style={stroke:"#929595"},X==null||X.setAttribute("style","z-index: 100")):X==null||X.setAttribute("style","z-index: 0")}),z.value.forEach(G=>{W.some(X=>X.source===G.id||X.target===G.id)?G.style={opacity:1}:G.style={opacity:.3}})},V=()=>{z.value.forEach(W=>{W.style={opacity:1}}),x.value.forEach(W=>{var X;const G=(X=document.querySelector(`.vue-flow__edge[data-id="${W.id}"]`))==null?void 0:X.parentElement;W.style={opacity:1,stroke:"#323838"},G==null||G.setAttribute("style","z-index: 0")})},Z=async W=>{document.querySelector("header.q-header--hidden")&&window.scrollBy(0,-10),l.value=!0,f.value.lastQuestion=W,f.value.showSearchBar=!0},re=W=>W.split("-").slice(0,3).join(" "),fe=()=>{ue.value=null,be.value||V()},ee=Pe({}),Se=Me(()=>{const W=Object.keys(B.value||{});let G=0;if(de.value)return W.forEach(j=>{var q,le,ke,H;const v=(le=(q=B.value)==null?void 0:q[j])==null?void 0:le.filter(ve=>Oi.includes(ve.name)),w=(H=(ke=B.value)==null?void 0:ke[j])==null?void 0:H.filter(ve=>!Oi.includes(ve.name)),D=Math.max((v==null?void 0:v.length)||0,(w==null?void 0:w.length)||0);vb(ee.value,j,`${D}fr`),D>1&&(G+=D-1)}),{height:`${W.length*(Pt+Ot*2)+G*(Pt+Ot)}px`,width:Ri*2+200+"px"};const X=Math.max(...W.map(j=>{var v,w;return((w=(v=B.value)==null?void 0:v[j])==null?void 0:w.length)||0}));return{width:`${W.length*(Ri+dr)}px`,height:X*(Pt+Ot)+160+"px"}}),ge=Me(()=>({"grid-template-columns":de.value?"1fr":`repeat(auto-fill, ${Ri+dr}px)`,"grid-template-rows":de.value?Object.values(ee.value).reverse().join(" "):"unset"})),ce=Me(()=>({minHeight:de.value?`${Pt+Ot*2}px`:"unset"})),me=W=>{const G=new Date(W).getFullYear(),X=new Date(W).getMonth()+1;return`${G}Q${Math.ceil(X/3)}`},De=(W,G)=>{var H,ve;const X=me(W.release_date),j=de.value?Object.keys(B.value||{}).reverse():Object.keys(B.value||{}),v=j.indexOf(X),w=[],D=[];(ve=(H=B.value)==null?void 0:H[X])==null||ve.forEach(xe=>{Oi.includes(xe.name)?w.unshift(xe):D.unshift(xe)});let q=0;de.value?G?q=w.findIndex(xe=>xe.name===W.name):q=D.findIndex(xe=>xe.name===W.name):q=w.concat(D).findIndex(xe=>xe.name===W.name),q===-1&&(q=0);const le=j.slice(0,v);let ke=0;return le.forEach(xe=>{var Fn,Pn,On,Gn;const Fe=(Pn=(Fn=B.value)==null?void 0:Fn[xe])==null?void 0:Pn.filter(xt=>Oi.includes(xt.name)),He=(Gn=(On=B.value)==null?void 0:On[xe])==null?void 0:Gn.filter(xt=>!Oi.includes(xt.name)),Ke=Math.max((Fe==null?void 0:Fe.length)||0,(He==null?void 0:He.length)||0);ke+=Ke-1}),de.value?{x:G?100:100+Ri+dr,y:(Pt+Ot)*(q+ke)+(Pt+Ot*2)*v+Ot}:{x:25+v*(Ri+dr),y:parseInt(Se.value.height)-(100+Pt)-q*(Pt+Ot)}},Be=async()=>{var W;m.value=!0,(W=s.value)!=null&&W.length||await o.getModels(),B.value={},ye.value.forEach(G=>{var j;const X=me(G.release_date);(j=B.value)!=null&&j[X]?B.value[X].push(G):B.value={...B.value,[X]:[G]}}),O.value=ye.value.map(G=>{const X=Oi.includes(G.name);return{id:G.name,data:{...G,isFrontier:X},position:De(G,X),type:"custom",class:`node ${X?"is-frontier":"is-variant"}`}}),m.value=!1},oe=async()=>{Q.value=de.value?RE:Id,await Be()};en(de,()=>{oe()}),zd(()=>{oe()}),_(()=>{const W=document.querySelector(".models-graph-wrapper");W&&!de.value&&(W.scrollLeft=parseInt(Se.value.width))}),A(W=>{te.value?M.value.some(G=>G.id===W.node.id)?ue.value=W.node.data:(W.event.stopImmediatePropagation(),W.event.preventDefault()):(F([W.node]),ue.value=W.node.data)}),S(W=>{be.value||F([W.node])}),k(()=>{be.value||V()}),P(W=>{be.value||R([W.edge])}),T(()=>{be.value||V()});const se={$q:r,embeddingStore:o,allModels:s,searchStore:u,searchImmediate:l,userStore:d,settings:f,isModelsLoading:m,t:p,onNodesInitialized:_,onNodeMouseEnter:S,onNodeMouseLeave:k,onEdgeMouseEnter:P,onEdgeMouseLeave:T,onNodeClick:A,getNodes:z,getEdges:x,NODE_HEIGHT:Pt,NODE_WIDTH:Ri,OFFSET_Y:Ot,OFFSET_X:dr,modelsByQuarter:B,modelNodes:O,edges:Q,activeModel:ue,query:te,vertical:de,sortedModels:ye,quarters:J,filteredNodes:M,isHighlighting:be,isNodeHoverable:Ne,onFilter:I,highlightNode:F,highlightEdge:R,removeHighlight:V,onSearch:Z,getDefaultQuery:re,beforeHideDetails:fe,verticalRows:ee,containerStyle:Se,timelineStyle:ge,quarterStyle:ce,getQuarter:me,getPosition:De,getModels:Be,initialize:oe,get date(){return ob},get VueFlow(){return OE},get Position(){return Ee},get Handle(){return Sr},get langcode2emojis(){return ab},get ccncOptions(){return Ld},get embeddingIcon(){return zo},get rerankerIcon(){return Po},get readerIcon(){return Oo}};return Object.defineProperty(se,"__isScriptSetup",{enumerable:!1,value:!0}),se}}),BE={class:"row justify-center"},LE={class:"models-graph-wrapper"},HE=["id"],qE={class:"label bg-grey-8 text-black"};function FE(n,i,r,o,s,u){return ie(),Re(wn,null,[$e("div",BE,[ae(Hd,{modelValue:o.query,"onUpdate:modelValue":[i[0]||(i[0]=l=>o.query=l),o.onFilter],filled:"",square:"",debounce:"300",label:o.t("model_graph.search_models"),class:"q-my-xl search-box col-10 col-md-8 col-lg-6",clearable:""},{after:ne(()=>[ae(fr,{outline:"",stretch:"",square:"","icon-right":"arrow_forward",label:o.t("model_graph.browse_catalog"),to:"/models#catalog"},null,8,["label"])]),prepend:ne(()=>[ae(pn,{name:"search",class:"cursor-pointer"})]),_:1},8,["modelValue","label"])]),$e("div",{class:bt(["models-graph",{"is-vertical":o.vertical}])},[o.isModelsLoading?(ie(),Oe(lb,{key:0,indeterminate:"",size:"1px"})):Ye("",!0),$e("div",LE,[$e("div",{class:"models-graph-inner",style:at(o.containerStyle)},[$e("div",{class:"timeline",style:at(o.timelineStyle)},[(ie(!0),Re(wn,null,ot(o.quarters,l=>(ie(),Re("div",{key:l,class:"section",style:at(o.quarterStyle),id:l},[$e("span",qE,Te(l),1)],12,HE))),128))],4),o.isModelsLoading?Ye("",!0):(ie(),Oe(o.VueFlow,{key:0,nodes:o.modelNodes,edges:o.edges,"zoom-on-scroll":!1,"zoom-on-double-click":!1,"zoom-on-pinch":!1,"nodes-draggable":!1,"pan-on-drag":!1,"fit-view-on-init":!1},{"node-custom":ne(({data:l})=>[As((ie(),Oe(Zt,{class:"full-width full-height cursor-pointer",style:{"flex-direction":"column"},clickable:"",to:`/models/${l.name}`},{default:ne(()=>[ae(fi,{caption:"",class:"justify-between row full-width items-center q-mb-xs"},{default:ne(()=>{var d,f,m;return[$e("div",null,[(d=l.request_path)!=null&&d.includes("embedding")?(ie(),Oe(pn,{key:0,name:"img:"+o.embeddingIcon},{default:ne(()=>[ae(En,null,{default:ne(()=>[Ze(Te(o.t("landing_page.embeddings")),1)]),_:1})]),_:1},8,["name"])):(f=l.request_path)!=null&&f.includes("rank")?(ie(),Oe(pn,{key:1,name:"img:"+o.rerankerIcon},{default:ne(()=>[ae(En,null,{default:ne(()=>[Ze(Te(o.t("landing_page.reranker")),1)]),_:1})]),_:1},8,["name"])):(m=l.tags)!=null&&m.includes("reader")?(ie(),Oe(pn,{key:2,name:"img:"+o.readerIcon},{default:ne(()=>[ae(En,null,{default:ne(()=>[Ze(Te(o.t("landing_page.reader")),1)]),_:1})]),_:1},8,["name"])):Ye("",!0),o.ccncOptions.includes(l.name)?(ie(),Oe(pn,{key:3,name:"copyright"},{default:ne(()=>[ae(En,null,{default:ne(()=>[Ze(Te(o.t("landing_page.ccbync")),1)]),_:1})]),_:1})):Ye("",!0)]),ae(jn,{icon:"calendar_month",size:"xs",square:"",dense:"",class:"text-dim",color:"transparent",label:o.date.formatDate(l.release_date,"YYYY-MM-DD")},null,8,["label"])]}),_:2},1024),ae(zn,{class:"no-wrap"},{default:ne(()=>[ae(fi,{class:"text-weight-bold",style:{"font-size":"14px"}},{default:ne(()=>[$e("code",null,Te(l.name),1)]),_:2},1024),ae(fi,{caption:"",class:"row q-py-sm no-wrap"},{default:ne(()=>{var d,f,m,p,_,S;return[l.tags&&l.tags.includes("multimodal")?(ie(),Oe(jn,{key:0,square:"",size:"xs",outline:"",style:{"border-radius":"0"},class:"text-dim",label:o.t("embedding.multimodal"),icon:"mms"},{default:ne(()=>[o.isNodeHoverable(l.name)?(ie(),Oe(En,{key:0},{default:ne(()=>[Ze(Te(o.t("embedding.multimodal_explain")),1)]),_:1})):Ye("",!0)]),_:2},1032,["label"])):Ye("",!0),(d=l.request_path)!=null&&d.includes("multi-embeddings")?(ie(),Oe(jn,{key:1,class:"text-dim",style:{"border-radius":"0"},icon:"grid_4x4",label:o.t("embedding.multi_embedding"),square:"",size:"xs",outline:""},{default:ne(()=>[ae(En,null,{default:ne(()=>[Ze(Te(o.t("embedding.multi_embedding_explain")),1)]),_:1})]),_:1},8,["label"])):Ye("",!0),ae(jn,{label:(f=l.meta_data)==null?void 0:f.token_length,square:"",size:"xs",outline:"",icon:"notes",class:"text-dim",style:{"border-radius":"0"}},{default:ne(()=>[o.isNodeHoverable(l.name)?(ie(),Oe(En,{key:0},{default:ne(()=>{var k;return[Ze(Te(o.t("embedding.token_length_explain",{_tokenLength:(k=l.meta_data)==null?void 0:k.token_length})),1)]}),_:2},1024)):Ye("",!0)]),_:2},1032,["label"]),(m=l.request_path)!=null&&m.includes("embedding")?(ie(),Oe(jn,{key:2,label:(p=l.meta_data)==null?void 0:p.output_dim,square:"",class:"text-dim",size:"xs",outline:"",icon:"background_dot_small",style:{"border-radius":"0"}},{default:ne(()=>[o.isNodeHoverable(l.name)?(ie(),Oe(En,{key:0},{default:ne(()=>{var k;return[Ze(Te(o.t("embedding.output_dim_explain",{_outputDim:(k=l.meta_data)==null?void 0:k.output_dim})),1)]}),_:2},1024)):Ye("",!0)]),_:2},1032,["label"])):Ye("",!0),ae(jn,{label:(_=l.meta_data)==null?void 0:_.size,square:"",size:"xs",class:"text-dim",outline:"",icon:"data_array",style:{"border-radius":"0"}},{default:ne(()=>[o.isNodeHoverable(l.name)?(ie(),Oe(En,{key:0},{default:ne(()=>{var k;return[Ze(Te(o.t("embedding.size_explain",{_size:(k=l.meta_data)==null?void 0:k.size})),1)]}),_:2},1024)):Ye("",!0)]),_:2},1032,["label"]),ae(jn,{label:o.langcode2emojis((S=l.meta_data)==null?void 0:S.language),square:"",class:"text-dim",size:"xs",outline:"",style:{"border-radius":"0"}},{default:ne(()=>[o.isNodeHoverable(l.name)?(ie(),Oe(En,{key:0},{default:ne(()=>{var k;return[Ze(Te(o.t("embedding.language_explain",{_language:o.langcode2emojis((k=l.meta_data)==null?void 0:k.language)})),1)]}),_:2},1024)):Ye("",!0)]),_:2},1032,["label"])]}),_:2},1024)]),_:2},1024)]),_:2},1032,["to"])),[[qd]]),ae(o.Handle,{id:"source-top",type:"source",position:o.Position.Top},null,8,["position"]),ae(o.Handle,{id:"target-top",type:"target",position:o.Position.Top},null,8,["position"]),ae(o.Handle,{id:"source-bottom",type:"source",position:o.Position.Bottom},null,8,["position"]),ae(o.Handle,{id:"target-bottom",type:"target",position:o.Position.Bottom},null,8,["position"]),ae(o.Handle,{id:"source-left",type:"source",position:o.Position.Left},null,8,["position"]),ae(o.Handle,{id:"target-left",type:"target",position:o.Position.Left},null,8,["position"]),ae(o.Handle,{id:"source-right",type:"source",position:o.Position.Right},null,8,["position"]),ae(o.Handle,{id:"target-right",type:"target",position:o.Position.Right},null,8,["position"])]),_:1},8,["nodes","edges"]))],4)])],2)],64)}const GE=Ks(DE,[["render",FE],["__file","EmbeddingGraph.vue"]]),$E=ln({__name:"ModelSelectorComponent",props:{filteredModels:{},currentSlug:{},searchQuery:{}},emits:["select-model"],setup(n,{expose:i}){i();const r=js(),{t:o}=Xs(),s=n,u=Me(()=>s.filteredModels.map(f=>({label:f.name,value:f.slug,icon:l(f),deprecated:!!f.metadata.deprecated_by}))),l=f=>{var m,p,_;return(m=f.metadata.endpoints)!=null&&m.includes("embedding")?zo:(p=f.metadata.endpoints)!=null&&p.includes("rank")?Po:(_=f.metadata.endpoints)!=null&&_.includes("read")?Oo:null},d={$q:r,t:o,props:s,modelOptions:u,getModelIcon:l,get embeddingIcon(){return zo},get rerankerIcon(){return Po},get readerIcon(){return Oo}};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}}),WE={key:0,class:"text-center q-pa-md text-grey-7"},UE={key:1,class:"text-center q-pa-md text-grey-7"};function VE(n,i,r,o,s,u){return ie(),Re("div",null,[o.$q.screen.lt.md?(ie(),Re(wn,{key:0},[As(ae(ub,{"model-value":r.currentSlug,options:o.modelOptions,"emit-value":"","map-options":"",filled:"",square:"",class:"q-mb-md","option-value":"value","option-label":"label",clearable:!1,"onUpdate:modelValue":i[0]||(i[0]=l=>n.$emit("select-model",l))},{option:ne(({itemProps:l,opt:d,selected:f,toggleOption:m})=>[ae(Zt,W0(U0(l)),{default:ne(()=>[ae(zn,null,{default:ne(()=>[ae(fi,{class:bt(d.deprecated?"text-dim":void 0)},{default:ne(()=>[Ze(Te(d.label),1)]),_:2},1032,["class"])]),_:2},1024),d.icon?(ie(),Oe(zn,{key:0,side:""},{default:ne(()=>[ae(pn,{class:"info-icon",name:`img:${d.icon}`},null,8,["name"])]),_:2},1024)):Ye("",!0)]),_:2},1040)]),_:1},8,["model-value","options"]),[[$0,r.filteredModels.length]]),r.filteredModels.length?Ye("",!0):(ie(),Re("div",WE,Te(o.t("models.search.no_results",{query:r.searchQuery})),1))],64)):(ie(),Oe(Gd,{key:1,class:"overflow-auto models-list"},{default:ne(()=>[r.filteredModels.length?(ie(),Oe(Fd,{key:0,name:"list2"},{default:ne(()=>[(ie(!0),Re(wn,null,ot(r.filteredModels,l=>As((ie(),Oe(Zt,{key:l.slug,clickable:"",active:r.currentSlug===l.slug,class:bt(["card-details",r.currentSlug===l.slug?"text-primary":l.metadata.deprecated_by?"text-dim":void 0]),onClick:d=>n.$emit("select-model",l.slug)},{default:ne(()=>[ae(zn,null,{default:ne(()=>[ae(fi,null,{default:ne(()=>[Ze(Te(l.name),1)]),_:2},1024)]),_:2},1024),ae(zn,{side:"",class:"read-more-btn"},{default:ne(()=>{var d,f,m;return[(d=l.metadata.endpoints)!=null&&d.includes("embedding")?(ie(),Oe(pn,{key:0,class:"info-icon",name:"img:"+o.embeddingIcon},{default:ne(()=>[ae(En,null,{default:ne(()=>[Ze(Te(o.t("landing_page.embeddings")),1)]),_:1})]),_:1},8,["name"])):(f=l.metadata.endpoints)!=null&&f.includes("rank")?(ie(),Oe(pn,{key:1,class:"info-icon",name:"img:"+o.rerankerIcon},{default:ne(()=>[ae(En,null,{default:ne(()=>[Ze(Te(o.t("landing_page.reranker")),1)]),_:1})]),_:1},8,["name"])):(m=l.metadata.endpoints)!=null&&m.includes("read")?(ie(),Oe(pn,{key:2,class:"info-icon",name:"img:"+o.readerIcon},{default:ne(()=>[ae(En,null,{default:ne(()=>[Ze(Te(o.t("landing_page.reader")),1)]),_:1})]),_:1},8,["name"])):Ye("",!0)]}),_:2},1024)]),_:2},1032,["active","class","onClick"])),[[qd]])),128))]),_:1})):(ie(),Re("div",UE,Te(o.t("models.search.no_results",{query:r.searchQuery})),1))]),_:1}))])}const YE=Ks($E,[["render",VE],["__scopeId","data-v-f4a31de5"],["__file","ModelSelectorComponent.vue"]]),XE=ln({__name:"ModelsPage",setup(n,{expose:i}){i();const r=Bd(),o=mb(),{settings:s}=pr(r),{featuredBlogs:u,authors:l,translatedAllBlogs:d,accessedAt:f,lastAccessedAt:m,initiating:p}=pr(o),_=Pe(""),S=Pe(""),k=Pe(!1),P=Pe(null),T=Pe(!1),A=Pe("release_date"),z=Pe("desc"),x=Pe(null),{models:B}=Bb(),O=Pe([]),Q=Pe(!1),ue=V0(),te=Y0(),{t:de}=Xs({useScope:"global"}),ye=js(),J=Pe(!1),M=Pe(!0),be=Me(()=>M.value),Ne=()=>{const oe=B.value.slice();if(!_.value)O.value=oe;else{const se=_.value.toLowerCase().trim();T.value=!0,O.value=oe.filter(W=>{const G=W.name.toLowerCase(),X=W.metadata.tags||[],j=(W.metadata.model_type||"").toLowerCase(),v=(W.metadata.organization||"").toLowerCase();return G.includes(se)||X.some(w=>w.toLowerCase().includes(se))||j.includes(se)||v.includes(se)}),T.value=!1}O.value.sort((se,W)=>{let G=0;switch(A.value){case"name":G=se.name.localeCompare(W.name);break;case"release_date":G=new Date(se.metadata.release_date||"0").valueOf()-new Date(W.metadata.release_date||"0").valueOf();break;case"parameter_size":G=F(se.metadata.parameter_size||"0")-F(W.metadata.parameter_size||"0");break}return z.value==="asc"?G:-G})},I=Hb.debounce(()=>{Ne()},300);en(B,oe=>{oe&&oe.length>0&&!Q.value&&(O.value=oe.slice(),Q.value=!0,Hn(()=>{Ne()}))},{immediate:!0}),en([A,z],()=>{Q.value&&O.value.length>0&&Hn(()=>{I()})},{deep:!0});const F=oe=>{if(!oe)return 0;const se=oe.toUpperCase(),W=parseFloat(se);return isNaN(W)?0:se.endsWith("B")?W*1e9:se.endsWith("M")?W*1e6:W},R=Me(()=>ge.value.filter(oe=>{var se,W;return(W=(se=x.value)==null?void 0:se.metadata.availability)==null?void 0:W.includes(oe.key)})),V=["parameter_size","token_length","image_size","output_dimension"],Z=Me(()=>{var oe;return(oe=x.value)!=null&&oe.metadata?V.filter(se=>x.value.metadata[se]).map(se=>({key:se,value:x.value.metadata[se]})):[]}),re=oe=>{var se;return oe==="en"?de("tokenizer.english"):oe==="zh"?de("tokenizer.chinese"):oe==="multilingual"?de("embedding.multilingual"):(se=s.value.localeOptions.find(W=>W.value===oe))==null?void 0:se.label},fe=oe=>{A.value=oe,I()},ee=Me(()=>{var oe;return(oe=x.value)==null?void 0:oe.metadata.model_name}),Se=Me(()=>{var oe;return(oe=ee.value)==null?void 0:oe.replace(/\./g,"")}),ge=Me(()=>[{type:"api_link",icon:"img:/J.svg",key:"api",link:`/?sui&model=${ee.value}`},{type:"license_link",icon:"img:/J.svg",key:"license",link:"/api-dashboard/license-config?login=true"},{type:"aws_link",icon:`img:${X0}`,key:"aws",link:"https://aws.amazon.com/marketplace/seller-profile?id=seller-stch2ludm6vgy"},{type:"azure_link",icon:`img:${j0}`,key:"azure",link:"https://azuremarketplace.microsoft.com/en-US/marketplace/apps?page=1&search=jina"},{type:"gcp_link",icon:`img:${K0}`,key:"gcp",link:"https://console.cloud.google.com/marketplace/browse?q=jina"},{type:"huggingface_link",icon:"img:/huggingface_logo.svg",key:"huggingface",link:`https://huggingface.co/jinaai/${ee.value}`}]),ce=async oe=>{if(!(S.value===oe&&x.value))try{k.value=!0,P.value=null,S.value=oe;const se=B.value.find(W=>W.slug===oe);if(!se)throw new Error(`Model "${oe}" not found`);await Hn(),x.value=se,ue.params.slug!==oe&&te.push(`/models/${oe}`)}catch(se){P.value=se instanceof Error?se.message:"Failed to load model",x.value=null}finally{k.value=!1}},me=oe=>({"margin-top":`${oe}px`});Lc(()=>{const oe=ue.params.slug!==void 0;oe&&M.value?(J.value=!0,setTimeout(()=>{M.value=!1,J.value=!1},500)):!oe&&!M.value&&(M.value=!0)});const De=()=>{let oe=de("model_graph.title"),se=de("model_graph.description"),W="https://jina.ai/banner-models.png",G="Jina AI",X="https://jina.ai/models";x.value&&(oe=de("models.title",{_modelName:ee.value}),se=de(`embedding.${ee.value.replace(".","")}_description`),W=`https://jina.ai/models-banner/${ee.value}.png`,G=x.value.metadata.organization,X=`https://jina.ai/models/${x.value.slug}`),Z0({title:oe,meta:[{name:"title",content:oe},{name:"description",content:se},{name:"author",content:G},{property:"og:title",content:oe},{property:"og:url",content:X},{property:"og:image",content:W},{property:"og:description",content:se},{property:"twitter:title",content:oe},{property:"twitter:url",content:X},{property:"twitter:image",content:W},{property:"twitter:description",content:se},{property:"twitter:label1",content:"Created by"},{property:"twitter:data1",content:G}]})};Lc(async()=>{const oe=ue.params.slug;oe&&await ce(oe),await Hn(),De()}),ht(()=>{O.value=B.value.slice()});const Be={userStore:r,newsStore:o,settings:s,featuredBlogs:u,authors:l,translatedAllBlogs:d,accessedAt:f,lastAccessedAt:m,initiating:p,searchQuery:_,currentSlug:S,isLoading:k,error:P,isSearching:T,sortOption:A,sortDirection:z,selectedModel:x,models:B,filteredModels:O,isInitialized:Q,route:ue,router:te,t:de,$q:ye,isTransitioning:J,shouldShowGraph:M,showModelGraph:be,applySearchAndSort:Ne,debouncedApplySearchAndSort:I,parseParameterSize:F,availableExternalLinks:R,MODEL_DETAIL_KEYS:V,modelDetails:Z,mapLangCodeToLanguageName:re,setSortOption:fe,selectModelName:ee,selectModelNameNormalized:Se,externalLinks:ge,selectModel:ce,getStyle:me,initHead:De,get langcode2SingleEmoji(){return sb},get ccncOptions(){return Ld},get embeddingIcon(){return zo},get rerankerIcon(){return Po},get readerIcon(){return Oo},EmbeddingGraph:GE,H2TitleBlock:fb,ResearchersComponent:hb,NewsFilterComponent:gb,ModelSelectorComponent:YE};return Object.defineProperty(Be,"__isScriptSetup",{enumerable:!1,value:!0}),Be}}),jE={key:"graph",class:"q-pa-xl row justify-center overflow-hidden q-mb-xl"},KE={class:"col-12 col-sm-11 col-md-10",style:{"z-index":"1"}},ZE={class:"col-11 col-md-3 col-lg-2 col-xl-2 model-list bg-dark-transparent lock-blur"},JE={class:"row items-center q-mb-md"},QE={class:"col-11 col-md-8 col-lg-7 col-xl-6"},eS={key:0,class:"text-center q-pa-xl"},nS={class:"text-dim q-mt-sm"},tS={key:1,class:"text-center q-pa-xl"},iS={class:"text-negative q-mt-sm"},rS={class:"row justify-between"},oS={class:"model-title"},aS={class:"row justify-between items-center"},sS={class:"col q-mr-md"},lS={class:"row items-center"},uS={class:"text-caption text-dim q-mr-sm"},cS={class:"row items-center"},dS={class:"text-caption text-dim q-mr-sm"},fS={class:"row items-center"},hS={class:"text-caption text-dim q-mr-sm"},gS={key:0,class:"row items-center"},mS={class:"text-caption text-dim q-mr-sm"},pS={key:1,class:"row items-center"},vS={class:"text-caption text-dim q-mr-sm"},yS={class:"row items-center"},_S={class:"text-caption text-dim q-mr-sm"},bS=["id"],wS={class:"text-r-h4 q-mt-xl q-mb-md"},xS={key:3,class:"text-center q-pa-xl q-ma-xl text-dim"};function kS(n,i,r,o,s,u){return ie(),Oe(rb,{class:"no-wrap","style-fn":o.getStyle},{default:ne(()=>[ae(Fd,{appear:"",mode:"out-in",name:"page-transition"},{default:ne(()=>[o.showModelGraph&&!o.isTransitioning?(ie(),Re("div",jE,[$e("div",KE,[ae(o.H2TitleBlock,{title:"model_graph.title",anchor:"models",subtitle:"model_graph.description"}),ae(o.EmbeddingGraph)])])):Ye("",!0),$e("div",{key:"catalog",class:bt(["row justify-center relative-position",{"q-gutter-x-lg":o.$q.screen.gt.md,"q-gutter-x-md":o.$q.screen.gt.sm}]),id:"catalog"},[$e("div",ZE,[$e("div",JE,[ae(Hd,{modelValue:o.searchQuery,"onUpdate:modelValue":[i[5]||(i[5]=l=>o.searchQuery=l),o.applySearchAndSort],filled:"",square:"",loading:o.isSearching,placeholder:o.t("models.search.placeholder"),class:"col model-selector full-width",clearable:"",debounce:"300"},{prepend:ne(()=>[ae(pn,{name:"search"})]),after:ne(()=>[ae(Q0,{icon:"sort",dense:"",stretch:"",flat:"",square:"",label:o.t(`models.sort.${o.sortOption}`),"no-caps":"","no-wrap":""},{default:ne(()=>[ae(Gd,null,{default:ne(()=>[ae(fi,{header:""},{default:ne(()=>[Ze(Te(o.t("models.sort.label")),1)]),_:1}),ae(Zt,{clickable:"",onClick:i[0]||(i[0]=l=>o.setSortOption("name")),active:o.sortOption==="name"},{default:ne(()=>[ae(zn,null,{default:ne(()=>[Ze(Te(o.t("models.sort.name")),1)]),_:1}),o.sortOption==="name"?(ie(),Oe(zn,{key:0,side:""},{default:ne(()=>[ae(pn,{name:"check"})]),_:1})):Ye("",!0)]),_:1},8,["active"]),ae(Zt,{clickable:"",onClick:i[1]||(i[1]=l=>o.setSortOption("release_date")),active:o.sortOption==="release_date"},{default:ne(()=>[ae(zn,null,{default:ne(()=>[Ze(Te(o.t("models.sort.release_date")),1)]),_:1}),o.sortOption==="release_date"?(ie(),Oe(zn,{key:0,side:""},{default:ne(()=>[ae(pn,{name:"check"})]),_:1})):Ye("",!0)]),_:1},8,["active"]),ae(Zt,{clickable:"",onClick:i[2]||(i[2]=l=>o.setSortOption("parameter_size")),active:o.sortOption==="parameter_size"},{default:ne(()=>[ae(zn,null,{default:ne(()=>[Ze(Te(o.t("models.sort.parameter_size")),1)]),_:1}),o.sortOption==="parameter_size"?(ie(),Oe(zn,{key:0,side:""},{default:ne(()=>[ae(pn,{name:"check"})]),_:1})):Ye("",!0)]),_:1},8,["active"]),ae(J0),ae(fi,{header:""},{default:ne(()=>[Ze(Te(o.t("models.sort.direction.name")),1)]),_:1}),ae(Zt,{clickable:"",onClick:i[3]||(i[3]=l=>o.sortDirection="asc"),active:o.sortDirection==="asc"},{default:ne(()=>[ae(zn,null,{default:ne(()=>[Ze(Te(o.t("models.sort.direction.asc")),1)]),_:1}),o.sortDirection==="asc"?(ie(),Oe(zn,{key:0,side:""},{default:ne(()=>[ae(pn,{name:"check"})]),_:1})):Ye("",!0)]),_:1},8,["active"]),ae(Zt,{clickable:"",onClick:i[4]||(i[4]=l=>o.sortDirection="desc"),active:o.sortDirection==="desc"},{default:ne(()=>[ae(zn,null,{default:ne(()=>[Ze(Te(o.t("models.sort.direction.desc")),1)]),_:1}),o.sortDirection==="desc"?(ie(),Oe(zn,{key:0,side:""},{default:ne(()=>[ae(pn,{name:"check"})]),_:1})):Ye("",!0)]),_:1},8,["active"])]),_:1})]),_:1},8,["label"])]),_:1},8,["modelValue","loading","placeholder"])]),ae(o.ModelSelectorComponent,{"filtered-models":o.filteredModels,"current-slug":o.currentSlug,"search-query":o.searchQuery,onSelectModel:o.selectModel},null,8,["filtered-models","current-slug","search-query"])]),$e("div",QE,[o.isLoading?(ie(),Re("div",eS,[ae(_b,{color:"primary",size:"40"}),$e("div",nS,Te(o.t("models.loading")),1)])):o.error?(ie(),Re("div",tS,[ae(pn,{name:"error_outline",color:"negative",size:"40px"}),$e("div",iS,Te(o.error),1),ae(fr,{flat:"",color:"primary",label:o.t("models.back_to_models"),class:"q-mt-md",onClick:i[6]||(i[6]=l=>o.router.push("/models"))},null,8,["label"])])):o.selectedModel?(ie(),Re(wn,{key:2},[o.selectedModel.metadata.deprecated_by?(ie(),Oe(ib,{key:0,dense:"",class:"bg-warning text-black ellipsis","inline-actions":o.$q.screen.gt.md},{avatar:ne(()=>[ae(pn,{name:"warning"})]),action:ne(()=>[(ie(!0),Re(wn,null,ot(o.selectedModel.metadata.deprecated_by,l=>(ie(),Oe(fr,{flat:"","text-color":"black",size:"sm",square:"","no-caps":"",key:l,color:"white",label:l,icon:"link",onClick:d=>o.selectModel(l)},null,8,["label","onClick"]))),128))]),default:ne(()=>[Ze(" "+Te(o.t("models.warnings.deprecated"))+" ",1)]),_:1},8,["inline-actions"])):Ye("",!0),ae(Hc,{flat:"",square:"",class:"metadata-section bg-mixed-100 q-mb-md q-pa-md"},{default:ne(()=>[ae(yo,null,{default:ne(()=>{var l,d,f;return[$e("div",rS,[$e("div",null,[(l=o.selectedModel.metadata.endpoints)!=null&&l.includes("embedding")?(ie(),Oe(pn,{key:0,class:"info-icon",name:"img:"+o.embeddingIcon},{default:ne(()=>[ae(En,null,{default:ne(()=>[Ze(Te(o.t("landing_page.embeddings")),1)]),_:1})]),_:1},8,["name"])):(d=o.selectedModel.metadata.endpoints)!=null&&d.includes("rank")?(ie(),Oe(pn,{key:1,class:"info-icon",name:"img:"+o.rerankerIcon},{default:ne(()=>[ae(En,null,{default:ne(()=>[Ze(Te(o.t("landing_page.reranker")),1)]),_:1})]),_:1},8,["name"])):(f=o.selectedModel.metadata.endpoints)!=null&&f.includes("read")?(ie(),Oe(pn,{key:2,class:"info-icon",name:"img:"+o.readerIcon},{default:ne(()=>[ae(En,null,{default:ne(()=>[Ze(Te(o.t("landing_page.reader")),1)]),_:1})]),_:1},8,["name"])):Ye("",!0),o.ccncOptions.includes(o.selectModelName)?(ie(),Oe(pn,{key:3,class:"info-icon",name:"copyright"},{default:ne(()=>[ae(En,null,{default:ne(()=>[Ze(Te(o.t("landing_page.ccbync")),1)]),_:1})]),_:1})):Ye("",!0)])]),$e("h1",oS,Te(o.selectModelName),1),$e("div",aS,[$e("div",sS,Te(o.t(`embedding.${o.selectModelName.replace(".","")}_description`)),1),o.selectedModel.metadata.release_blog?(ie(),Oe(fr,{key:0,flat:"",label:o.t("models.metadata.release_blog"),square:"",to:o.selectedModel.metadata.release_blog,"icon-right":"arrow_forward",class:"col-auto bg-mixed-200",target:"_blank"},null,8,["label","to"])):Ye("",!0)])]}),_:1}),ae(yo,null,{default:ne(()=>{var l;return[$e("div",lS,[$e("div",uS,Te(o.t("models.metadata.license")),1),ae(jn,{icon:o.ccncOptions.includes(o.selectModelName)?"copyright":"license",style:{"border-radius":"0"},size:"sm",class:"bg-mixed-200",color:"transparent",label:o.selectedModel.metadata.license},null,8,["icon","label"])]),$e("div",cS,[$e("div",dS,Te(o.t("models.metadata.release_date")),1),ae(jn,{icon:"calendar_month",style:{"border-radius":"0"},size:"sm",class:"bg-mixed-200",color:"transparent",label:o.selectedModel.metadata.release_date},{default:ne(()=>[ae(En,null,{default:ne(()=>[Ze(Te(o.t("models.metadata.release_date")),1)]),_:1})]),_:1},8,["label"])]),$e("div",fS,[$e("div",hS,Te(o.t("models.sections.model_details")),1),(ie(!0),Re(wn,null,ot(o.modelDetails,d=>(ie(),Oe(jn,{key:d.key,style:{"border-radius":"0"},size:"sm",class:"bg-mixed-200"},{default:ne(()=>[Ze(Te(o.t(`models.sections.${d.key}`))+": "+Te(d.value),1)]),_:2},1024))),128))]),(l=o.selectedModel.metadata.language)!=null&&l.length?(ie(),Re("div",gS,[$e("div",mS,Te(o.t("models.sections.language_support")),1),(ie(!0),Re(wn,null,ot(o.selectedModel.metadata.language,d=>(ie(),Oe(jn,{square:"",style:{"border-radius":"0"},size:"sm",key:d,class:"bg-mixed-200"},{default:ne(()=>[Ze(Te(`${o.langcode2SingleEmoji(d)} ${o.mapLangCodeToLanguageName(d)}`),1)]),_:2},1024))),128))])):Ye("",!0),o.selectedModel.metadata.related_models&&o.selectedModel.metadata.related_models.length?(ie(),Re("div",pS,[$e("div",vS,Te(o.t("models.metadata.related_models")),1),(ie(!0),Re(wn,null,ot(o.selectedModel.metadata.related_models,d=>(ie(),Oe(jn,{clickable:"",square:"",key:d,class:"bg-mixed-200",size:"sm",style:{"border-radius":"0"},onClick:f=>o.selectModel(d),icon:"link"},{default:ne(()=>[Ze(Te(d),1)]),_:2},1032,["onClick"]))),128))])):Ye("",!0),$e("div",yS,[$e("div",_S,Te(o.t("models.sections.tags")),1),(ie(!0),Re(wn,null,ot(o.selectedModel.metadata.tags,d=>(ie(),Oe(jn,{size:"sm",style:{"border-radius":"0"},key:d,class:"bg-mixed-200"},{default:ne(()=>[Ze(Te(d),1)]),_:2},1024))),128))])]}),_:1})]),_:1}),ae(Hc,{flat:"",square:"",class:"bg-mixed-100 q-mb-xl q-pa-md"},{default:ne(()=>[ae(yo,{class:"text-caption text-dim q-py-none"},{default:ne(()=>[Ze(Te(o.t("models.sections.using_model")),1)]),_:1}),ae(yo,{class:"row q-col-gutter-sm q-pb-none"},{default:ne(()=>[(ie(!0),Re(wn,null,ot(o.availableExternalLinks,l=>(ie(),Oe(fr,{"no-caps":"",flat:"",icon:l.icon,label:o.t(`models.metadata.${l.key}_link`),key:l.key,square:"",class:"ellipsis",href:l.link.startsWith("http")?l.link:void 0,to:l.link.startsWith("http")?void 0:l.link,target:"_blank"},null,8,["icon","label","href","to"]))),128))]),_:1})]),_:1}),ae(o.ResearchersComponent,{"model-name":o.selectModelName},null,8,["model-name"]),(ie(),Re(wn,null,ot(["overview","methods","performance","guidance"],l=>$e("div",{key:l,class:"q-py-lg"},[$e("h4",{class:"text-r-h4",id:l},Te(o.t(`models.sections.${l}.title`)),9,bS),$e("div",null,Te(o.t(`models.sections.${l}.${o.selectModelNameNormalized}`)),1)])),64)),$e("div",wS,Te(o.t("models.sections.blogs")),1),ae(o.NewsFilterComponent,{initiating:o.initiating,"translated-all-blogs":o.translatedAllBlogs,"search-by-title":o.selectModelName,"per-page":5},null,8,["initiating","translated-all-blogs","search-by-title"])],64)):(ie(),Re("div",xS,Te(o.t("models.select_model")),1))])],2)]),_:1})]),_:1})}const WS=Ks(XE,[["render",kS],["__file","ModelsPage.vue"]]);export{WS as default};
