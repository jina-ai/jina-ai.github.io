import{bS as ta,c1 as _a,cT as fa,cE as wa,bX as Ea,dv as Ta,dw as ra,cJ as Sa,bZ as Pa,cQ as Ra,cI as Da,bU as Ka,cM as Va,j as ue,a2 as ce,a3 as f,a4 as K,a5 as t,a6 as a,a7 as ie,n as Te,a0 as ye,k,m as F,a9 as te,af as y,ag as _,aM as De,aq as ae,aP as he,aQ as ke,aa as Z,ah as oe,ai as me,bp as ga,q as J,aD as Oe,aE as Je,w as Ue,W as Ae,a8 as W,ac as xa,ab as B,aN as oa,aO as Fe,am as _e,ae as V,du as Ye,ad as H,c6 as Ne,b9 as La,aL as Ze,aj as Ve,u as Me,ap as se,V as va,b8 as ya,_ as d,av as Aa,s as Ia,ax as Ca,p as Ke,az as Oa,J as qa,b6 as Ma,b1 as $e,aR as Ba,dx as Ge,aA as Ua,b7 as Na,ao as ja,an as Fa,cf as Ga}from"./index-Vgn11mYe.js";import{Q as Ha}from"./QBanner-CVsqEL4Y.js";import{Q as Qa}from"./QPage-2Dz5Bkfd.js";import{K as we,E as Y,g as la}from"./se-fo-DU8C6fEY.js";import{d as za,a as ea,u as Se,Q as pa,b as Ya}from"./use-dialog-plugin-component-BHhbBFhh.js";import{j as Xa,u as Wa,c as Ja,M as Za,k as $a,L as et,U as at,A as tt,i as rt,E as ot,a as lt,R as nt,C as st,b as it,I as dt,T as ut,S as na,B as ct,D as mt,e as _t}from"./BrowserInfoDialog-DaD_Av4N.js";import{P as ft,Q as gt}from"./PurchaseTab-kU92GfJE.js";import{Q as re}from"./QTooltip-Bq8fzSeY.js";import{c as ge,d as xe,e as Ce,f as aa,Q as vt}from"./date-BW91LZ05.js";import{u as Ie,A as yt,U as pt,R as ht}from"./finetune-DMx3HIhE.js";import{b as ve,a as ha,Q as bt}from"./QChip-AeiYZxkt.js";import{Q as Ee,a as Le,b as kt}from"./QLinearProgress-CNr-_0OY.js";import{C as Be}from"./ClosePopup-CAiKRfJ7.js";import{Q as A}from"./QItemLabel-DtnpbpTE.js";import{c as Xe}from"./copy-to-clipboard-B7zsm2Lh.js";import{P as wt}from"./PurchaseDialog-8C5MDkFl.js";import{Q as qe}from"./QList-B8kukOz-.js";import{t as sa,c as Et,L as Tt}from"./LoginDialog-pDmeLKRv.js";import{t as ia}from"./toNumber-DTB7v8l7.js";import{a as St,c as Pt}from"./_setToArray-CiZV4BxF.js";import{a as Rt,c as Dt,f as Kt,o as Vt}from"./orderBy-DW07C2dD.js";import{_ as xt}from"./dynamic-import-helper-BheWnx7M.js";import{Q as Lt}from"./QForm-H6ZO1f-A.js";import{C as At}from"./ChatComponent-G3ZD1brK.js";import{u as da}from"./useMetaTags-HXhM7NSO.js";import{u as It}from"./useModels-CrnGlWgK.js";import{C as Ct}from"./ContactSalesForm-Cadfn_i-.js";import{Q as ua}from"./QBadge-DjR-5bv2.js";import{Q as Ot}from"./QSpinnerRings-hR95xfhg.js";import"./QMenu-DUdLM9or.js";import"./position-engine-Y88n8Qn3.js";import"./blogs-C0q7z1Oe.js";import"./VideoDialog-KBArf-YB.js";import"./TouchPan-Cw2NrNyJ.js";import"./touch-BjYP5sR0.js";import"./QTab-DbFJAoOo.js";import"./QTabs-D1zL3gWh.js";import"./QResizeObserver-xH7k8M6g.js";import"./QBtnDropdown-DpFDhfSP.js";import"./QExpansionItem-CErDIT4x.js";import"./use-fullscreen-BoGsC44s.js";import"./package-D9JPNs5w.js";import"./isSymbol-CbWR9nRG.js";import"./QScrollObserver-BoxaxeCt.js";import"./QSpinnerDots-CLRNZzAF.js";var ca=ta?ta.isConcatSpreadable:void 0;function qt(c){return _a(c)||fa(c)||!!(ca&&c&&c[ca])}function Mt(c,l,n,e,g){var p=-1,r=c.length;for(n||(n=qt),g||(g=[]);++p<r;){var o=c[p];n(o)&&Rt(g,o)}return g}var He=function(){return wa.Date.now()},Bt="Expected a function",Ut=Math.max,Nt=Math.min;function jt(c,l,n){var e,g,p,r,o,u,h=0,T=!1,v=!1,w=!0;if(typeof c!="function")throw new TypeError(Bt);l=ia(l)||0,Ea(n)&&(T=!!n.leading,v="maxWait"in n,p=v?Ut(ia(n.maxWait)||0,l):p,w="trailing"in n?!!n.trailing:w);function m(L){var b=e,S=g;return e=g=void 0,h=L,r=c.apply(S,b),r}function P(L){return h=L,o=setTimeout(E,l),T?m(L):r}function I(L){var b=L-u,S=L-h,s=l-b;return v?Nt(s,p-S):s}function R(L){var b=L-u,S=L-h;return u===void 0||b>=l||b<0||v&&S>=p}function E(){var L=He();if(R(L))return C(L);o=setTimeout(E,I(L))}function C(L){return o=void 0,w&&e?m(L):(e=g=void 0,r)}function x(){o!==void 0&&clearTimeout(o),h=0,e=u=g=o=void 0}function q(){return o===void 0?r:C(He())}function M(){var L=He(),b=R(L);if(e=arguments,g=this,u=L,b){if(o===void 0)return P(u);if(v)return clearTimeout(o),o=setTimeout(E,l),m(u)}return o===void 0&&(o=setTimeout(E,l)),r}return M.cancel=x,M.flush=q,M}var Ft=200;function Gt(c,l,n,e){var g=-1,p=za,r=!0,o=c.length,u=[],h=l.length;if(!o)return u;l.length>=Ft&&(p=Pt,r=!1,l=new St(l));e:for(;++g<o;){var T=c[g],v=T;if(T=T!==0?T:0,r&&v===v){for(var w=h;w--;)if(l[w]===v)continue e;u.push(T)}else p(l,v,e)||u.push(T)}return u}var Ht=Ta(function(c,l){return ra(c)?Gt(c,Mt(l,1,ra)):[]}),Qt="[object Map]",zt="[object Set]",Yt=Object.prototype,Xt=Yt.hasOwnProperty;function Wt(c){if(c==null)return!0;if(Sa(c)&&(_a(c)||typeof c=="string"||typeof c.splice=="function"||Pa(c)||Ra(c)||fa(c)))return!c.length;var l=Dt(c);if(l==Qt||l==zt)return!c.size;if(Da(c))return!Kt(c).length;for(var n in c)if(Xt.call(c,n))return!1;return!0}var Jt="[object Number]";function Zt(c){return typeof c=="number"||Ka(c)&&Va(c)==Jt}function $t(c){return Zt(c)&&c!=+c}const er=ue({__name:"ContainedPurchaseTab",setup(c,{expose:l}){l();const n={PurchaseTab:ft};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}});function ar(c,l,n,e,g,p){return f(),K(ie,{flat:"",class:"column no-wrap full-height"},{default:t(()=>[a(e.PurchaseTab)]),_:1})}const tr=ce(er,[["render",ar],["__file","ContainedPurchaseTab.vue"]]),rr=ue({__name:"AddKeyDialog",setup(c,{expose:l}){l();const n=Te(),{t:e}=ye({useScope:"global"}),{dialogRef:g,onDialogOK:p}=ea(),r=Se(),o=Ie(),u=k(""),h=k(!1),T=k(!0),v=k(""),w=k(!0),m=k(["poc","test"]),P=k({readonly:!1}),I=F(()=>Object.entries(P.value).filter(([q,M])=>M).reduce((q,[M])=>q.concat(M),[])),x={$q:n,t:e,dialogRef:g,onDialogOK:p,embeddingStore:r,apiKeyStore:o,apiKey:u,isBusy:h,isKeyValid:T,errorMsg:v,isPwd:w,labels:m,roles:P,parsedRoles:I,onCreateKey:()=>{p({action:we.GENERATE,metadata:{labels:m,roles:I.value}})},onAdd:async()=>{if(u.value.trim()===""){T.value=!1,v.value=e("key_manager.invalid_key");return}try{h.value=!0,await r.getKeyInfo(u.value)?await o.addKey(u.value,{labels:m.value,roles:I.value})?(n.notify({message:e("key_manager.add_success",{_key:ge(u.value)}),icon:"done"}),p()):(T.value=!1,v.value=e("key_manager.existing_key")):(T.value=!1,v.value=e("key_manager.invalid_key"))}catch(q){T.value=!1,v.value=q instanceof Error?q.message:String(q)}finally{h.value=!1}},onLabelsBlur:q=>{var b,S;const M=q.target,L=(S=(b=M.value)==null?void 0:b.trim())!=null?S:"";M&&L&&(M.value="",m.value.push(L))}};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}});function or(c,l,n,e,g,p){return f(),K(Je,{ref:"dialogRef",persistent:""},{default:t(()=>[a(ie,{flat:"",square:"",class:"bg-mixed-200 q-pa-md"},{default:t(()=>[a(te,{class:"q-pb-none"},{default:t(()=>[y(_(e.t("key_manager.add_key_explain")),1)]),_:1}),a(te,{class:"flex"},{default:t(()=>[a(De,{modelValue:e.apiKey,"onUpdate:modelValue":l[1]||(l[1]=r=>e.apiKey=r),autofocus:"",filled:"",square:"",clearable:"",class:"full-width","input-class":"ellipsis",label:e.t("key_manager.add"),error:!e.isKeyValid,"error-message":e.errorMsg,type:e.isPwd?"password":"text",style:{width:"400px"}},{prepend:t(()=>[a(ae,{name:"o_key"})]),append:t(()=>[a(ae,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:l[0]||(l[0]=r=>e.isPwd=!e.isPwd)},null,8,["name"])]),_:1},8,["modelValue","label","error","error-message","type"]),a(he,{modelValue:e.roles.readonly,"onUpdate:modelValue":l[2]||(l[2]=r=>e.roles.readonly=r),label:e.t("key_manager.readonly")},null,8,["modelValue","label"])]),_:1}),a(te,{class:"q-pb-none"},{default:t(()=>[y(_(e.t("key_manager.add_key_labels_explain")),1)]),_:1}),a(te,{class:"flex"},{default:t(()=>[a(Ee,{modelValue:e.labels,"onUpdate:modelValue":l[3]||(l[3]=r=>e.labels=r),label:e.t("key_manager.customized_tags"),square:"",filled:"",multiple:"","use-input":"","use-chips":"","dense-chips":"","hide-dropdown-icon":"","input-debounce":"0","new-value-mode":"add-unique",style:{width:"100%"},hint:e.t("key_manager.add_key_labels_input_explain"),onBlurCapture:ke(e.onLabelsBlur,["stop"])},{prepend:t(()=>[a(ae,{name:"rate_review"})]),selected:t(()=>[(f(!0),Z(oe,null,me(e.labels,r=>(f(),K(ve,{key:r,square:"",dense:"",style:{"border-radius":"0"},class:"bg-mixed-400"},{default:t(()=>[y(_(r),1)]),_:2},1024))),128))]),_:1},8,["modelValue","label","hint"])]),_:1}),a(ga,{align:"left"},{default:t(()=>[a(J,{padding:"md",flat:"",square:"",label:e.t("key_manager.generate_new_key"),disable:e.isBusy,icon:"casino",onClick:e.onCreateKey},{default:t(()=>[a(re,null,{default:t(()=>[y(_(e.t("key_manager.generate_new_key_tooltip")),1)]),_:1})]),_:1},8,["label","disable"]),a(pa),Oe(a(J,{padding:"md",flat:"",square:"",label:e.t("key_manager.cancel")},null,8,["label"]),[[Be]]),Oe(a(J,{padding:"md",flat:"",square:"",color:"primary",label:e.t("key_manager.save"),loading:e.isBusy,onClick:e.onAdd},null,8,["label","loading"]),[[Be]])]),_:1})]),_:1})]),_:1},512)}const lr=ce(rr,[["render",or],["__file","AddKeyDialog.vue"]]),nr=ue({__name:"UsageChart",props:{apiKey:{},usage:{}},setup(c,{expose:l}){const n=c,e=k(!1),g=k({left:"0px",top:"0px"}),p=k(""),r=k([]),o=()=>{if(!n.usage||n.usage.length===0)return;const w=document.getElementById(`usage_${n.apiKey._id}`);if(!w)return;const m=w.getContext("2d");if(!m)return;const P=window.devicePixelRatio||1,I=w.clientWidth||300,R=w.clientHeight||100;w.width=I*P,w.height=R*P,m.scale(P,P);const E=new Date,C=Array.from({length:168},(S,s)=>{const i=new Date(E);return i.setHours(i.getHours()-s),xe.formatDate(i,"YYYY-MM-DD HH")}).reverse(),x=n.usage.reduce((S,s)=>{if(s.type==="consume"){const i=xe.formatDate(new Date(s.created_at),"YYYY-MM-DD HH");S[i]=(S[i]||0)+s.quantity}return S},{}),q=C.map(S=>x[S]||0);let M=Math.max(...q);M===0&&(M=1);const L=Math.max(1,I/q.length*.8),b=Math.max(0,I/q.length*.2);m.clearRect(0,0,I,R),r.value=[],q.forEach((S,s)=>{const i=S/M*R*.9,D=.1,O=S>0?Math.max(i,D):D,U=s*(L+b)+b/2,N=R-O;r.value.push({x:U,y:N,width:L,height:O,hour:C[s],usage:S}),m.shadowColor="rgba(129, 227, 238, 0.5)",m.shadowBlur=5,m.shadowOffsetX=0,m.shadowOffsetY=0;const $=S>0?.7:.3;m.fillStyle=`rgba(129, 227, 238, ${$})`,m.fillRect(U,N,L,O),m.strokeStyle="#81E3EE",m.lineWidth=S>0?1:.5,m.strokeRect(U,N,L,O)}),m.shadowColor="transparent",m.shadowBlur=0,u(m,q,I,R,L,b)},u=(w,m,P,I,R,E)=>{if(m.length<2)return;const C=m.map(($,ee)=>({value:$,index:ee})).filter($=>$.value>0),x=C.length>=2?C:m.map(($,ee)=>({value:$,index:ee}));if(x.length<2)return;const q=x.length;let M=0,L=0,b=0,S=0;for(const $ of x){const ee=$.index,z=$.value;M+=ee,L+=z,b+=ee*z,S+=ee*ee}const s=q*S-M*M;if(s===0)return;const i=(q*b-M*L)/s,D=(L-i*M)/q;let O=Math.max(...m);O===0&&(O=1),w.beginPath();const U=$=>$*(R+E)+E/2+R/2;let N=!0;m.forEach(($,ee)=>{const z=U(ee),Q=i*ee+D,X=I-Q/O*I*.9;N?(w.moveTo(z,X),N=!1):w.lineTo(z,X)}),w.strokeStyle="rgba(129, 227, 238, 0.8)",w.lineWidth=1,w.setLineDash([5,3]),w.stroke(),w.setLineDash([])},h=w=>{const m=document.getElementById(`usage_${n.apiKey._id}`);if(!m)return;const P=m.getBoundingClientRect(),I=w.clientX-P.left,R=w.clientY-P.top;let E=!1;for(const C of r.value)if(I>=C.x&&I<=C.x+C.width&&R>=C.y&&R<=C.y+C.height)try{const x=C.hour.split(" "),q=x[0],M=x[1]||"00",L=new Date(`${q}T${M}:00:00`),b=xe.formatDate(L,"MMM D, h:mm A");p.value=`${b}: ${C.usage>0?C.usage.toLocaleString():"0"} units`,g.value={left:`${I+10}px`,top:`${R-30}px`},e.value=!0,E=!0;break}catch(x){console.error("Error formatting date:",x)}E||T()},T=()=>{e.value=!1};Ue(()=>n.usage,()=>{setTimeout(()=>{o()},50)},{deep:!0}),l({initChart:o}),Ae(()=>{setTimeout(()=>{o()},100)});const v={props:n,showTooltip:e,tooltipStyle:g,tooltipText:p,barData:r,initChart:o,drawTrendline:u,handleMouseMove:h,hideTooltip:T};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}}),sr=["id"];function ir(c,l,n,e,g,p){return f(),K(ie,{flat:"",square:"",class:"bg-transparent",style:{"max-height":"100px",width:"100%",height:"100%",position:"relative"}},{default:t(()=>[W("canvas",{id:`usage_${n.apiKey._id}`,style:{width:"100%",height:"100%"},onMousemove:e.handleMouseMove,onMouseleave:e.hideTooltip},null,40,sr),e.showTooltip?(f(),Z("div",{key:0,class:"tooltip",style:xa(e.tooltipStyle)},[W("div",null,_(e.tooltipText),1)],4)):B("",!0)]),_:1})}const dr=ce(nr,[["render",ir],["__scopeId","data-v-0d1093f9"],["__file","UsageChart.vue"]]),ur=ue({__name:"UsageReminderItem",props:oa({apiKey:{},isPaidKey:{type:Boolean}},{email:{type:String},emailModifiers:{},autoReminder:{type:Boolean},autoReminderModifiers:{},thresholds:{type:Array},thresholdsModifiers:{}}),emits:oa(["update"],["update:email","update:autoReminder","update:thresholds"]),setup(c,{expose:l,emit:n}){l();const e=c,g=n,p=Fe(c,"email"),r=Fe(c,"autoReminder"),o=Fe(c,"thresholds"),{t:u}=ye({useScope:"global"}),h=Te(),T=Se(),v=Ie(),{isBusyState:w}=_e(v),m=k([{label:"10M",value:1e7},{label:"100M",value:1e8},{label:"1B",value:1e9}]),P=k(m.value),I=k(!1),R=(s,i)=>{const D=Number(s);if(s.length>0&&!$t(D)&&o.value.length<3){if(D<0||D>1e12){I.value=!0;return}I.value=!1;const O={label:Ce(D),value:D};m.value.some(U=>U.value===D)||m.value.push(O),i(O,"toggle")}},E=s=>{s===""?P.value=m.value:P.value=m.value.filter(i=>i.value===Number(s)||i.label===s).concat()},C=(s,i)=>{i(()=>E(s))},x=async s=>{var D,O;const i=s||p.value;if((D=o.value)!=null&&D.length&&i){w.value.add(e.apiKey);try{await T.setBalanceNotification(e.apiKey,{email:i,thresholds:((O=o.value)==null?void 0:O.slice(0,3))||[]})}finally{w.value.delete(e.apiKey)}g("update")}},q=async s=>{!s||!sa(s)||s===p.value||x(s)},M=jt(()=>{x()},1e3),L=s=>{var D,O,U;const i=(D=o.value)==null?void 0:D.indexOf(s);i===void 0||i<0||((O=o.value)==null||O.splice(i,1),(U=o.value)!=null&&U.length&&x())},b=s=>{var i;!s&&((i=o.value)!=null&&i.length)&&p.value&&h.dialog({title:u("key_manager.auto_reminder_cancel_title"),message:u("key_manager.auto_reminder_cancel_message"),cancel:!0}).onOk(async()=>{r.value=s,w.value.add(e.apiKey);try{await T.cancelBalanceNotification(e.apiKey)?o.value=[]:r.value=!s}finally{w.value.delete(e.apiKey)}g("update")}).onCancel(()=>{r.value=!0})};Ae(()=>{const s=Ht(o.value,m.value.map(i=>i.value));s.length&&(m.value.push(...s.map(i=>({label:Ce(i),value:i}))),m.value=Vt(m.value,"value","asc"))});const S={props:e,emit:g,email:p,autoReminder:r,thresholds:o,t:u,$q:h,embeddingStore:T,apiKeyStore:v,isBusyState:w,allOptions:m,filterOptions:P,hasError:I,createValue:R,updateFilterOptions:E,filterFn:C,saveConfig:x,saveEmail:q,saveThresholds:M,removeThreshold:L,updateAutoReminder:b,get QPopupEdit(){return Xa},get QSelect(){return Ee},get testEmail(){return sa},get formatNumberShort(){return Ce}};return Object.defineProperty(S,"__isScriptSetup",{enumerable:!1,value:!0}),S}}),cr={class:"ellipsis"};function mr(c,l,n,e,g,p){return f(),K(H,{clickable:"","click.stop":""},{default:t(()=>[e.$q.screen.gt.sm?(f(),K(V,{key:0,avatar:""},{default:t(()=>[a(ae,{name:"alarm_smart_wake"})]),_:1})):B("",!0),a(V,null,{default:t(()=>[a(A,{class:"text-bold"},{default:t(()=>[y(_(e.t("key_manager.auto_reminder"))+" ",1),a(ae,{name:n.isPaidKey?"verified":"lock"},{default:t(()=>[a(re,null,{default:t(()=>[y(_(e.t("key_manager.advanced_feature")),1)]),_:1})]),_:1},8,["name"])]),_:1}),a(A,{caption:"",lines:"2"},{default:t(()=>[y(_(e.t("key_manager.auto_reminder_description"))+" ",1),a(re,{"max-width":"40rem"},{default:t(()=>[y(_(e.t("key_manager.auto_reminder_description")),1)]),_:1})]),_:1}),e.autoReminder?(f(),K(A,{key:0,class:"cursor-pointer"},{default:t(()=>[y(_(e.t("key_manager.auto_reminder_email"))+": ",1),W("b",null,_(e.email),1),n.isPaidKey&&e.autoReminder?(f(),K(ae,{key:0,name:"edit",size:"20px",class:"on-right",color:"primary"})):B("",!0),a(e.QPopupEdit,{modelValue:e.email,"onUpdate:modelValue":l[0]||(l[0]=r=>e.email=r),buttons:"","label-set":e.t("key_manager.save"),"label-cancel":e.t("key_manager.cancel"),validate:e.testEmail,disable:!e.autoReminder,onSave:e.saveEmail},{default:t(r=>[a(De,{modelValue:r.value,"onUpdate:modelValue":o=>r.value=o,dense:"",autofocus:"",rules:[o=>e.testEmail(o)||e.t("key_manager.invalid_email")],label:e.t("key_manager.auto_reminder_email"),onKeyup:Ye(ke(r.set,["stop"]),["enter"])},null,8,["modelValue","onUpdate:modelValue","rules","label","onKeyup"])]),_:1},8,["modelValue","label-set","label-cancel","validate","disable"])]),_:1})):B("",!0)]),_:1}),a(V,{side:""},{default:t(()=>[a(he,{modelValue:e.autoReminder,"onUpdate:modelValue":[l[1]||(l[1]=r=>e.autoReminder=r),e.updateAutoReminder],color:"primary",disable:!n.isPaidKey,"checked-icon":"check","unchecked-icon":"close"},{default:t(()=>[a(re,null,{default:t(()=>[y(_(e.t("key_manager.auto_reminder_toggle")),1)]),_:1})]),_:1},8,["modelValue","disable"])]),_:1}),a(V,{side:""},{default:t(()=>[a(e.QSelect,{square:"",outline:"","use-input":"","use-chips":"",multiple:"","emit-value":"","map-options":"","new-value-mode":"add",style:{"max-width":"160px"},modelValue:e.thresholds,"onUpdate:modelValue":[l[2]||(l[2]=r=>e.thresholds=r),e.saveThresholds],"max-values":3,error:e.hasError,"error-message":e.t("key_manager.auto_reminder_threshold_error"),label:e.t("key_manager.auto_reminder_threshold"),disable:!e.autoReminder,options:e.filterOptions,onNewValue:e.createValue,onFilter:e.filterFn,onKeyup:l[3]||(l[3]=Ye(ke(()=>{},["stop"]),["enter"]))},{selected:t(()=>[(f(!0),Z(oe,null,me(e.thresholds,r=>(f(),K(ve,{dense:"",key:r,square:"",removable:"","text-color":"primary",class:"bg-mixed-300",onRemove:o=>e.removeThreshold(r)},{default:t(()=>{var o;return[W("div",cr,_(`< ${((o=e.allOptions.find(u=>u.value===r))==null?void 0:o.label)||e.formatNumberShort(r)} ${e.t("embedding.tokens")}`),1),a(re,null,{default:t(()=>[y(_(r),1)]),_:2},1024)]}),_:2},1032,["onRemove"]))),128))]),option:t(r=>[a(H,Ne(r.itemProps,{clickable:""}),{default:t(()=>[a(V,null,{default:t(()=>[a(A,null,{default:t(()=>[y(_(`< ${r.opt.label} ${e.t("embedding.tokens")}`)+" ",1),a(re,null,{default:t(()=>[y(_(r.opt.value),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","error","error-message","label","disable","options","onUpdate:modelValue"])]),_:1})]),_:1})}const _r=ce(ur,[["render",mr],["__file","UsageReminderItem.vue"]]),fr=ue({__name:"RevokeKeyDialog",props:{apiKey:{},isPremiumKey:{type:Boolean}},setup(c,{expose:l}){l();const{t:n}=ye({useScope:"global"}),{dialogRef:e,onDialogOK:g}=ea(),p=Ie(),{keys:r,keysInfoCache:o}=_e(p),u=k(""),h=k(!1),T=k(""),w={t:n,dialogRef:e,onDialogOK:g,apiKeyStore:p,keys:r,keysInfoCache:o,confirmKey:u,withTransfer:h,transferKey:T,onConfirm:async()=>{h.value&&T.value?g(T.value):g()},get formatKey(){return ge}};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}});function gr(c,l,n,e,g,p){return f(),K(Je,{ref:"dialogRef"},{default:t(()=>[a(ie,{flat:"",square:"",class:"bg-mixed-200 q-pa-md"},{default:t(()=>[a(te,{class:"text-h6"},{default:t(()=>[y(_(e.t("key_manager.revoke")),1)]),_:1}),a(te,null,{default:t(()=>[W("div",null,_(e.t("key_manager.revoke_message")),1),a(De,{autofocus:"",filled:"",square:"",class:"q-mt-md",modelValue:e.confirmKey,"onUpdate:modelValue":l[0]||(l[0]=r=>e.confirmKey=r),rules:[r=>r===n.apiKey||e.t("key_manager.revoke_error")],label:e.t("key_manager.revoke_label")},{prepend:t(()=>[a(ae,{name:"o_key"})]),_:1},8,["modelValue","rules","label"]),n.isPremiumKey?(f(),K(La,{key:0,modelValue:e.withTransfer,"onUpdate:modelValue":l[1]||(l[1]=r=>e.withTransfer=r),label:e.t("key_manager.transfer_before_revoke")},null,8,["modelValue","label"])):B("",!0),n.isPremiumKey&&e.withTransfer?(f(),K(Ee,{key:1,square:"",filled:"","emit-value":"",clearable:"",modelValue:e.transferKey,"onUpdate:modelValue":l[2]||(l[2]=r=>e.transferKey=r),options:e.keys.filter(r=>r.key!==n.apiKey&&e.keysInfoCache[r.key].user_id),"option-value":r=>r.key,label:e.t("key_manager.transfer_label")},Ze({"no-option":t(()=>[a(H,null,{default:t(()=>[a(V,null,{default:t(()=>[a(A,null,{default:t(()=>[y(_(e.t("key_manager.no_transferable_keys")),1)]),_:1})]),_:1})]),_:1})]),option:t(r=>[a(H,Ne(r.itemProps,{clickable:""}),{default:t(()=>[a(V,{side:""},{default:t(()=>[a(ae,{name:"o_key",class:Ve({"golden-foil":e.apiKeyStore.isPremiumPaidKey(r.opt.key),"silver-foil":e.apiKeyStore.isPaidKey(r.opt.key)})},null,8,["class"])]),_:2},1024),a(V,null,{default:t(()=>[a(A,null,{default:t(()=>[W("code",null,_(e.formatKey(r.opt.key)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},[e.transferKey?{name:"selected",fn:t(()=>[a(ve,{label:e.formatKey(e.transferKey),dense:"","text-color":"primary",class:"bg-mixed-300"},null,8,["label"])]),key:"0"}:void 0]),1032,["modelValue","options","option-value","label"])):B("",!0)]),_:1}),a(ga,{align:"right"},{default:t(()=>[Oe(a(J,{flat:"",label:e.t("key_manager.cancel")},null,8,["label"]),[[Be]]),a(J,{flat:"",label:e.t("key_manager.ok"),color:"primary",disable:e.confirmKey!==n.apiKey,onClick:e.onConfirm},null,8,["label","disable"])]),_:1})]),_:1})]),_:1},512)}const vr=ce(fr,[["render",gr],["__file","RevokeKeyDialog.vue"]]),yr=ue({__name:"SettingsDialog",props:{apiKey:{},metadata:{}},setup(c,{expose:l}){l();const n=c,e=Te(),{t:g}=ye({useScope:"global"}),{dialogRef:p,onDialogOK:r}=ea(),o=Me(),{user:u}=_e(o),h=Ie(),{isBusyState:T,keys:v,primaryKey:w,keysInfoCache:m}=_e(h),P=k(),I=k(!1),R=k(""),E=k([]),C=k(!0),x=k(1e6),q=k(""),M=F(()=>!h.isFreeKey(n.apiKey)),L=F(()=>h.isPremiumPaidKey(n.apiKey)),b=F(()=>{var X;return M.value&&!!((X=P.value)!=null&&X.metadata.auto_recharge)}),S=F(()=>{var X;return!!((X=P==null?void 0:P.value)!=null&&X.user_id)}),s=F(()=>!S.value||T.value.has(n.apiKey)),i=F(()=>{var X,ne;return((ne=(X=n.metadata)==null?void 0:X.roles)==null?void 0:ne.includes("readonly"))||!1}),D=async()=>{await h.getKeyInfo(n.apiKey,!0),O()},O=async()=>{var X,ne,Pe,be,Re,j,G,le,pe,fe,de;P.value=m.value[n.apiKey],I.value=!Wt((ne=(X=P.value)==null?void 0:X.wallet)==null?void 0:ne.metadata),R.value=((Re=(be=(Pe=P.value)==null?void 0:Pe.wallet)==null?void 0:be.metadata)==null?void 0:Re.notification_email)||u.value.email||"",E.value=((le=(G=(j=P.value)==null?void 0:j.wallet)==null?void 0:G.metadata)==null?void 0:le.notification_thresholds)||[],C.value=((pe=P.value)==null?void 0:pe.metadata.auto_recharge)||!1,x.value=((de=(fe=P.value)==null?void 0:fe.metadata)==null?void 0:de.threshold)||1e6};O();const U=()=>{if(w.value===n.apiKey&&v.value.length===1){e.notify({message:g("key_manager.remove_primary_key"),color:"negative",icon:"error"});return}e.dialog({title:g("key_manager.remove_title"),message:g("key_manager.remove_message"),cancel:!0,persistent:!0}).onOk(async()=>{var X;await h.removeKey(n.apiKey),e.notify({message:g("key_manager.remove_success",{_key:ge(n.apiKey)}),icon:"done"}),w.value===n.apiKey&&h.setPrimaryKey(v.value[0].key),(X=p.value)==null||X.hide()})},N=()=>{if(w.value===n.apiKey&&v.value.length===1){e.notify({message:g("key_manager.remove_primary_key"),color:"negative",icon:"error"});return}e.dialog({component:vr,componentProps:{apiKey:n.apiKey,isPremiumKey:L.value}}).onOk(X=>{r({action:we.REVOKE,key:n.apiKey,transferTo:X})})},$=X=>{var ne;X&&e.dialog({title:g("key_manager.transfer_title"),message:`<div>
    ${g("key_manager.transfer_message",{_tokens:"<b>"+aa(((ne=P.value)==null?void 0:ne.wallet.regular_balance)||0)+"</b>",_source:'<code class="bg-mixed-300">'+ge(n.apiKey)+"</code>",_target:'<code class="bg-mixed-300">'+ge(q.value)+" </code>"})}
      <div>`,html:!0,cancel:!0,persistent:!0}).onOk(async()=>{r({action:we.TRANSFER,source:n.apiKey,target:q.value})})},ee=k(!1),z=()=>{!n.apiKey||i.value||ee.value||(Xe(n.apiKey).then(()=>{e.notify({message:g("copy_to_clipboard_success"),icon:"done"}),ee.value=!0,gtag==null||gtag("event","embedding_copy_api_key",{location:document.location.href})}),setTimeout(()=>{ee.value=!1},1800))};Ue(()=>m.value[n.apiKey],()=>{O()});const Q={props:n,$q:e,t:g,dialogRef:p,onDialogOK:r,userStore:o,user:u,apiKeyStore:h,isBusyState:T,keys:v,primaryKey:w,keysInfoCache:m,apiKeyInfo:P,autoReminder:I,email:R,reminderThresholds:E,autoRecharge:C,rechargeThreshold:x,transferKey:q,isPaidKey:M,isPremiumPaidKey:L,isAutoCharge:b,isInputApiKeyValid:S,isInputApiKeyDisabled:s,readonlyKey:i,getKeyInfo:D,init:O,onRemove:U,onRevoke:N,onTransfer:$,isApiKeyCopyDone:ee,copyApiKey:z,get formatKey(){return ge},AutoRechargeItem:yt,UsageReminderItem:_r};return Object.defineProperty(Q,"__isScriptSetup",{enumerable:!1,value:!0}),Q}});function pr(c,l,n,e,g,p){return f(),K(Je,{ref:"dialogRef",onBeforeShow:e.getKeyInfo},{default:t(()=>[a(ie,{class:"bg-mixed-200",flat:"",square:"",style:{width:"900px","max-width":"80vw"}},{default:t(()=>[a(te,null,{default:t(()=>[a(H,null,{default:t(()=>[e.$q.screen.gt.sm?(f(),K(V,{key:0,avatar:""},{default:t(()=>[a(ae,{name:"settings"})]),_:1})):B("",!0),a(V,null,{default:t(()=>[a(A,{class:"text-bold"},{default:t(()=>[y(_(e.t("key_manager.settings")),1)]),_:1}),a(A,{caption:"",style:{"font-family":"monospace"},lines:"1",class:"text-primary cursor-pointer",onClick:e.copyApiKey},{default:t(()=>[a(ve,{icon:"o_key",label:e.formatKey(e.props.apiKey),square:"",size:"sm",class:"bg-mixed-300",ripple:!e.readonlyKey},null,8,["label","ripple"])]),_:1})]),_:1}),a(V,{side:""},{default:t(()=>[Oe(a(J,{icon:"close",flat:"",round:"",dense:""},null,512),[[Be]])]),_:1})]),_:1})]),_:1}),a(se),e.isBusyState.has(n.apiKey)?(f(),K(Le,{key:0,indeterminate:"",size:"1px"})):B("",!0),a(te,null,{default:t(()=>[a(qe,{class:"q-gutter-y-sm"},{default:t(()=>[e.readonlyKey?B("",!0):(f(),K(e.AutoRechargeItem,{key:0,"api-key":n.apiKey,"api-key-info":e.apiKeyInfo,"is-paid-key":e.isPaidKey,"is-auto-charge":e.isAutoCharge,mode:"dashboard","auto-recharge":e.autoRecharge,"onUpdate:autoRecharge":l[0]||(l[0]=r=>e.autoRecharge=r),"recharge-threshold":e.rechargeThreshold,"onUpdate:rechargeThreshold":l[1]||(l[1]=r=>e.rechargeThreshold=r),disable:e.isInputApiKeyDisabled,"navigate-to-purchase":!0,onUpdate:e.getKeyInfo},null,8,["api-key","api-key-info","is-paid-key","is-auto-charge","auto-recharge","recharge-threshold","disable"])),a(e.UsageReminderItem,{"api-key":n.apiKey,"api-key-info":e.apiKeyInfo,"is-paid-key":e.isPremiumPaidKey,"auto-reminder":e.autoReminder,"onUpdate:autoReminder":l[2]||(l[2]=r=>e.autoReminder=r),email:e.email,"onUpdate:email":l[3]||(l[3]=r=>e.email=r),thresholds:e.reminderThresholds,"onUpdate:thresholds":l[4]||(l[4]=r=>e.reminderThresholds=r),onUpdate:e.getKeyInfo},null,8,["api-key","api-key-info","is-paid-key","auto-reminder","email","thresholds"]),e.readonlyKey?B("",!0):(f(),K(H,{key:1,tag:"label"},{default:t(()=>[e.$q.screen.gt.sm?(f(),K(V,{key:0,avatar:""},{default:t(()=>[a(ae,{name:"sync"})]),_:1})):B("",!0),a(V,null,{default:t(()=>[a(A,{class:"text-bold"},{default:t(()=>[y(_(e.t("key_manager.transfer_title"))+" ",1),a(ae,{name:e.isPremiumPaidKey?"verified":"lock"},{default:t(()=>[a(re,null,{default:t(()=>[y(_(e.t("key_manager.advanced_feature")),1)]),_:1})]),_:1},8,["name"])]),_:1}),a(A,{caption:"",lines:"2"},{default:t(()=>[y(_(e.t("key_manager.transfer_explain")),1)]),_:1})]),_:1}),a(V,{side:""},{default:t(()=>[a(Ee,{square:"",outline:"","emit-value":"",clearable:"",style:{width:"220px"},modelValue:e.transferKey,"onUpdate:modelValue":[l[5]||(l[5]=r=>e.transferKey=r),e.onTransfer],options:e.keys.filter(r=>{var o;return r.key!==n.apiKey&&((o=e.keysInfoCache[r.key])==null?void 0:o.user_id)}),"option-value":r=>r.key,label:e.t("key_manager.transfer_label"),disable:!e.isPremiumPaidKey},Ze({"no-option":t(()=>[a(H,null,{default:t(()=>[a(V,null,{default:t(()=>[a(A,null,{default:t(()=>[y(_(e.t("key_manager.no_transferable_keys")),1)]),_:1})]),_:1})]),_:1})]),option:t(r=>[a(H,Ne(r.itemProps,{clickable:""}),{default:t(()=>[a(V,{side:""},{default:t(()=>[a(ae,{name:"o_key",class:Ve({"golden-foil":e.apiKeyStore.isPremiumPaidKey(r.opt.key),"silver-foil":e.apiKeyStore.isPaidKey(r.opt.key)})},null,8,["class"])]),_:2},1024),a(V,null,{default:t(()=>[a(A,null,{default:t(()=>[W("code",null,_(e.formatKey(r.opt.key)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},[e.transferKey?{name:"selected",fn:t(()=>[a(ve,{label:e.formatKey(e.transferKey),dense:"","text-color":"primary",class:"bg-mixed-300"},null,8,["label"])]),key:"0"}:void 0]),1032,["modelValue","options","option-value","label","disable"])]),_:1})]),_:1})),a(H,{tag:"label"},{default:t(()=>[e.$q.screen.gt.sm?(f(),K(V,{key:0,avatar:""},{default:t(()=>[a(ae,{name:"delete",color:"negative"})]),_:1})):B("",!0),a(V,null,{default:t(()=>[a(A,{class:"text-bold text-negative"},{default:t(()=>[y(_(e.t("key_manager.remove_title")),1)]),_:1}),a(A,{caption:"",lines:"2"},{default:t(()=>[y(_(e.t("key_manager.remove_explain")),1)]),_:1})]),_:1}),a(V,{side:""},{default:t(()=>[a(J,{flat:"",square:"",color:"negative",label:e.t("key_manager.remove"),onClick:e.onRemove,disable:e.isBusyState.has(n.apiKey)},null,8,["label","disable"])]),_:1})]),_:1}),e.readonlyKey?B("",!0):(f(),K(H,{key:2,tag:"label"},{default:t(()=>[e.$q.screen.gt.sm?(f(),K(V,{key:0,avatar:""},{default:t(()=>[a(ae,{name:"delete_forever",color:"negative"})]),_:1})):B("",!0),a(V,null,{default:t(()=>[a(A,{class:"text-bold text-negative"},{default:t(()=>[y(_(e.t("key_manager.revoke_title")),1)]),_:1}),a(A,{caption:"",lines:"2"},{default:t(()=>[y(_(e.t("key_manager.revoke_explain")),1)]),_:1})]),_:1}),a(V,{side:""},{default:t(()=>[a(J,{flat:"",square:"",color:"negative",label:e.t("key_manager.revoke"),onClick:e.onRevoke,disable:e.isBusyState.has(n.apiKey)||!e.isInputApiKeyValid},null,8,["label","disable"])]),_:1})]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1},512)}const hr=ce(yr,[["render",pr],["__file","SettingsDialog.vue"]]),br=ue({__name:"KeyItem",props:{apiKey:{}},emits:["execute"],setup(c,{expose:l,emit:n}){var be,Re;l();const e=c,g=n,{t:p}=ye({useScope:"global"}),r=Te(),o=Ie(),u=Se(),{keysInfoCache:h,isBusyState:T}=_e(o),v=Me(),{user:w}=_e(v),m=k(""),P=F(()=>r.screen.lt.lg),I=F(()=>{var j,G,le;return(le=(G=(j=e.apiKey.metadata)==null?void 0:j.roles)==null?void 0:G.includes("readonly"))!=null?le:!1}),R=F({get:()=>e.apiKey.isPrimary?e.apiKey.key:"",set:async j=>{var G;if(j){if(await o.getKeyInfo(e.apiKey.key,!0),!((G=h.value[e.apiKey.key])!=null&&G.user_id)){r.notify({message:p("key_manager.invalid_key"),icon:"warning"});return}await o.setPrimaryKey(e.apiKey.key),u.apiKey=e.apiKey.key,r.notify({caption:p("key_manager.primary_key_set_caption"),message:p("key_manager.primary_key_set",{_apiKey:ge(e.apiKey.key)}),icon:"done"})}}}),E=k(!0),C=k(((Re=(be=e.apiKey.metadata)==null?void 0:be.labels)!=null?Re:[]).slice()),x=k(null),q=F(()=>{var j,G;return C.value.join("").trim()!==((G=(j=e.apiKey.metadata)==null?void 0:j.labels)!=null?G:[]).join("").trim()}),M=()=>{var j,G;C.value=((G=(j=e.apiKey.metadata)==null?void 0:j.labels)!=null?G:[]).slice()},L=async()=>{var j;if(E.value)E.value=!1,await va(),(j=x.value)==null||j.focus();else if(q.value)try{await o.updateKey(e.apiKey.key,{...e.apiKey.metadata,labels:C.value}),r.notify({message:p("key_manager.labels_updated"),icon:"done"}),E.value=!0}catch(G){r.notify({message:G instanceof Error?G.message:String(G),icon:"warning"}),M()}else E.value=!0},b=F(()=>o.isPremiumPaidKey(e.apiKey.key)),S=F(()=>o.isPaidKey(e.apiKey.key)),s=F(()=>o.isFreeKey(e.apiKey.key)),i=F(()=>{var j;return!((j=h.value[e.apiKey.key])!=null&&j.user_id)}),D=F(()=>{var j,G,le;return(le=(G=(j=h.value[e.apiKey.key])==null?void 0:j.wallet)==null?void 0:G.metadata)==null?void 0:le.notification_email}),O=F(()=>{var j,G,le;return(le=(G=(j=h.value[e.apiKey.key])==null?void 0:j.wallet)==null?void 0:G.metadata)==null?void 0:le.notification_thresholds}),U=F(()=>{var G,le,pe;const j=Array.from({length:7},(fe,de)=>{const je=new Date(Date.now());return je.setDate(je.getDate()-de),xe.formatDate(je,"YYYY-MM-DD")});return Ce((pe=(le=(G=h.value[e.apiKey.key])==null?void 0:G.usage)==null?void 0:le.reduce((fe,de)=>de.type==="consume"&&j.includes(xe.formatDate(de.created_at,"YYYY-MM-DD"))?fe+de.quantity:fe,0))!=null?pe:0)}),N=()=>{I.value||r.dialog({component:wt,componentProps:{purchaseKey:e.apiKey.key}})},$=j=>{!j||m.value||I.value||(Xe(j).then(()=>{r.notify({message:p("copy_to_clipboard_success"),icon:"done"}),m.value=j,gtag==null||gtag("event","embedding_copy_api_key",{location:document.location.href,subLocation:"sefo-api-key-manager"})}),setTimeout(()=>{m.value=""},1800))},ee=j=>{r.dialog({component:pt,componentProps:{apiKey:j}})},z=j=>{r.dialog({component:hr,componentProps:{apiKey:j,metadata:e.apiKey.metadata}}).onOk(G=>{g("execute",G.action,G)})},Q=k(!1),Pe={props:e,emit:g,t:p,$q:r,apiKeyStore:o,embeddingStore:u,keysInfoCache:h,isBusyState:T,userStore:v,user:w,isApiKeyCopyDone:m,lessThanLg:P,readonlyKey:I,primaryKey:R,isReadOnly:E,labels:C,labelsRef:x,isLabelsDirty:q,resetLabels:M,updateLabels:L,isPremiumPaidKey:b,isPaidKey:S,isFreeKey:s,isInvalidKey:i,notifyEmail:D,notifyThresholds:O,totalUsage:U,onBuy:N,onCopy:$,openUsageHistoryDialog:ee,openSettingsDialog:z,isShareBusy:Q,onShare:async()=>{Q.value||I.value||r.dialog({message:p("key_manager.share_key_confirm_message"),title:p("key_manager.share_key_confirm_title"),ok:{flat:!0,icon:"content_copy",padding:"md",square:!0,label:p("key_manager.copy_share_link"),textColor:"primary"}}).onOk(async()=>{var pe,fe;Q.value=!0;const j=window.location.origin+"/api-dashboard",G=e.apiKey.key,le=w.value.displayName||((fe=(pe=w.value.email)==null?void 0:pe.split("@"))==null?void 0:fe[0])||"";try{const de=await Et(j,le,G);Xe(de).then(()=>{r.notify({message:p("key_manager.share_link_copied"),icon:"done"})})}catch(de){console.error(de),r.notify({message:de instanceof Error?de.message:String(de),icon:"warning"})}finally{Q.value=!1}})},onLabelsBlur:j=>{var pe,fe;const G=j.target;if(!G)return;const le=(fe=(pe=G.value)==null?void 0:pe.trim())!=null?fe:"";le&&(G.value="",C.value.push(le))},get date(){return xe},get QSelect(){return Ee},UsageChart:dr,get formatNumber(){return aa},get formatNumberShort(){return Ce},get formatKey(){return ge}};return Object.defineProperty(Pe,"__isScriptSetup",{enumerable:!1,value:!0}),Pe}}),kr={class:"column full-width"},wr={style:{"font-family":"monospace"}};function Er(c,l,n,e,g,p){return f(),Z("div",kr,[e.isBusyState.has(n.apiKey.key)?(f(),K(Le,{key:0,indeterminate:"",size:"1px"})):B("",!0),a(H,{class:Ve(["full-width key-item q-py-md",{"column q-gutter-y-lg":e.$q.screen.lt.md,"text-dim":e.isInvalidKey}]),tag:"label",clickable:!e.readonlyKey},{default:t(()=>[a(V,{class:"col-md-2"},{default:t(()=>[a(H,null,{default:t(()=>[e.readonlyKey?B("",!0):(f(),K(V,{key:0,side:""},{default:t(()=>[a(ya,{disable:e.isInvalidKey||e.readonlyKey,modelValue:e.primaryKey,"onUpdate:modelValue":l[0]||(l[0]=r=>e.primaryKey=r),val:n.apiKey.key},null,8,["disable","modelValue","val"]),a(re,null,{default:t(()=>[y(_(e.primaryKey===n.apiKey.key?e.t("key_manager.primary_key_set_caption"):e.t("key_manager.primary_key")),1)]),_:1})]),_:1})),a(V,{side:""},{default:t(()=>[a(ae,{name:"o_key",class:Ve({"golden-foil":e.isPremiumPaidKey,"silver-foil":!e.isPremiumPaidKey&&e.isPaidKey})},{default:t(()=>[a(re,null,{default:t(()=>[y(_(e.isInvalidKey?e.t("key_manager.invalid_key"):e.isFreeKey?e.t("key_manager.free_key"):e.isPaidKey?e.t("paywall.standard_key"):e.t("key_manager.subscribed_key")),1)]),_:1})]),_:1},8,["class"])]),_:1}),a(V,null,{default:t(()=>{var r,o,u;return[(r=n.apiKey.metadata)!=null&&r.sharedFrom?(f(),K(A,{key:0,caption:""},{default:t(()=>[y(_(e.t("key_manager.shared_from",{_user:n.apiKey.metadata.sharedFrom})),1)]),_:1})):B("",!0),a(A,{class:"row items-center q-gutter-x-sm no-wrap"},{default:t(()=>{var h;return[W("span",wr,_(e.formatKey(n.apiKey.key)),1),e.notifyEmail&&((h=e.notifyThresholds)!=null&&h.length)?(f(),K(ae,{key:0,name:"alarm_smart_wake"},{default:t(()=>[a(re,null,{default:t(()=>[y(_(e.t("key_manager.auto_reminder_info",{_email:e.notifyEmail,_threshold:e.notifyThresholds.map(T=>e.formatNumberShort(T)).join(", ")})),1)]),_:1})]),_:1})):B("",!0),e.readonlyKey?B("",!0):(f(),K(J,{key:1,flat:"",square:"",size:"sm",icon:e.isApiKeyCopyDone===n.apiKey.key?"check":"content_copy",color:e.isApiKeyCopyDone===n.apiKey.key?"primary":"",onClick:l[1]||(l[1]=ke(T=>e.onCopy(n.apiKey.key),["stop"]))},{default:t(()=>[a(re,null,{default:t(()=>[y(_(e.t("key_manager.copy")),1)]),_:1})]),_:1},8,["icon","color"]))]}),_:1}),e.isInvalidKey?B("",!0):(f(),K(A,{key:1,caption:"",class:Ve(((u=(o=e.keysInfoCache[n.apiKey.key])==null?void 0:o.wallet)==null?void 0:u.total_balance)<0?"text-negative":"")},{default:t(()=>{var h,T,v;return[y(_(e.formatNumber((v=(T=(h=e.keysInfoCache[n.apiKey.key])==null?void 0:h.wallet)==null?void 0:T.total_balance)!=null?v:0)+" "+e.t("embedding.tokens")),1)]}),_:1},8,["class"])),e.isInvalidKey&&!e.isBusyState.has(n.apiKey.key)?(f(),K(A,{key:2,caption:"",class:"text-negative"},{default:t(()=>[a(ae,{name:"warning"}),y(" "+_(e.t("key_manager.invalid_key")),1)]),_:1})):B("",!0)]}),_:1})]),_:1})]),_:1}),e.$q.screen.gt.sm?(f(),K(pa,{key:0})):B("",!0),a(V,{class:"col-md-2"},{default:t(()=>[a(e.QSelect,{ref:"labelsRef",modelValue:e.labels,"onUpdate:modelValue":l[3]||(l[3]=r=>e.labels=r),square:"",multiple:"","use-input":"","use-chips":"",readonly:e.isReadOnly,outlined:!e.isReadOnly,borderless:e.isReadOnly,"hide-dropdown-icon":"","input-debounce":"0","new-value-mode":"add-unique","input-class":"cursor-pointer",disable:e.isInvalidKey||e.isBusyState.has(n.apiKey.key),onKeyupCapture:l[4]||(l[4]=Ye(ke(()=>{},["stop"]),["enter"])),onBlurCapture:ke(e.onLabelsBlur,["stop"])},{selected:t(()=>[(f(!0),Z(oe,null,me(e.labels,r=>(f(),K(ve,{key:r,square:"",dense:"",style:{"border-radius":"0"},class:"bg-mixed-200",label:r},null,8,["label"]))),128))]),append:t(()=>[e.isLabelsDirty?(f(),Z(oe,{key:0},[a(J,{dense:"",square:"",flat:"",icon:"close",onClick:l[2]||(l[2]=r=>e.resetLabels())},{default:t(()=>[a(re,null,{default:t(()=>[y(_(e.t("key_manager.revert_changes")),1)]),_:1})]),_:1}),a(J,{dense:"",square:"",flat:"",icon:"check",color:"primary",onClick:e.updateLabels},{default:t(()=>[a(re,null,{default:t(()=>[y(_(e.t("key_manager.update_label")),1)]),_:1})]),_:1})],64)):B("",!0)]),_:1},8,["modelValue","readonly","outlined","borderless","disable"])]),_:1}),a(V,{class:"col-md-2 no-wrap"},{default:t(()=>{var r,o;return[(r=e.keysInfoCache[n.apiKey.key])!=null&&r.last_used_at?(f(),K(A,{key:0,caption:""},{default:t(()=>{var u;return[y(_(e.t("key_manager.last_used")+": "+e.date.formatDate((u=e.keysInfoCache[n.apiKey.key])==null?void 0:u.last_used_at,"YYYY-MM-DD HH:mm")),1)]}),_:1})):B("",!0),(o=e.keysInfoCache[n.apiKey.key])!=null&&o.usage&&!e.isInvalidKey?(f(),K(A,{key:1},{default:t(()=>{var u;return[a(e.UsageChart,{"api-key":n.apiKey,usage:(u=e.keysInfoCache[n.apiKey.key])==null?void 0:u.usage},null,8,["api-key","usage"]),a(re,null,{default:t(()=>[y(_(e.t("key_manager.usage_summary",{_usage:e.totalUsage})),1)]),_:1})]}),_:1})):B("",!0)]}),_:1}),a(V,{side:"",class:Ve(["actions-section",{"always-show":e.primaryKey===n.apiKey.key}])},{default:t(()=>[a(ha,{flat:"",square:"",class:"full-height"},{default:t(()=>[e.readonlyKey?B("",!0):(f(),K(J,{key:0,flat:"",square:"",disable:e.isInvalidKey,padding:"md",icon:"add_shopping_cart",onClick:ke(e.onBuy,["stop"]),"no-wrap":"",label:e.t("key_manager.top_up")},{default:t(()=>[a(re,null,{default:t(()=>[y(_(e.t("key_manager.purchase")),1)]),_:1})]),_:1},8,["disable","label"])),a(J,{flat:"",square:"",disable:e.isInvalidKey,padding:"md",icon:"history",onClick:l[5]||(l[5]=ke(r=>e.openUsageHistoryDialog(n.apiKey.key),["stop"]))},{default:t(()=>[a(re,null,{default:t(()=>[y(_(e.t("key_manager.usage_history")),1)]),_:1})]),_:1},8,["disable"]),a(J,{square:"",flat:"",icon:"rate_review",padding:"md",onClick:e.updateLabels,color:e.isReadOnly?void 0:"primary"},{default:t(()=>[a(re,{"max-width":"300px"},{default:t(()=>[y(_(e.t("key_manager.add_key_labels_explain")),1)]),_:1})]),_:1},8,["color"]),e.readonlyKey?B("",!0):(f(),K(J,{key:1,flat:"",square:"",disable:e.isInvalidKey,padding:"md",icon:"share",loading:e.isShareBusy,onClick:ke(e.onShare,["stop"])},{default:t(()=>[a(re,null,{default:t(()=>[y(_(e.t("key_manager.share")),1)]),_:1})]),_:1},8,["disable","loading"])),a(J,{flat:"",square:"",padding:"md",icon:"more_horiz",onClick:l[6]||(l[6]=ke(r=>e.openSettingsDialog(n.apiKey.key),["stop"]))},{default:t(()=>[a(re,null,{default:t(()=>[y(_(e.t("key_manager.advance_settings")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["class"])]),_:1},8,["class","clickable"]),a(se)])}const Tr=ce(br,[["render",Er],["__scopeId","data-v-66269f96"],["__file","KeyItem.vue"]]),Sr=ue({__name:"KeysTable",setup(c,{expose:l}){l();const{t:n}=ye({useScope:"global"}),e=Te(),g=Ie(),p=Me(),r=Se(),{keys:o,isLoading:u,primaryKey:h}=_e(g),{user:T}=_e(p),{products:v}=_e(r),w=k(null),m=k(void 0),P={[we.GENERATE]:async z=>{u.value=!0;try{const Q=await r.generate0TokenApiKey(z);Q&&(await g.addKey(Q,m.value),e.notify({message:n("key_manager.generate_success",{_key:ge(Q)}),icon:"done"}))}finally{m.value=void 0,u.value=!1}},[we.REVOKE]:async z=>{var Q;u.value=!0;try{let X;if(s.value?X=await r.transferToken({source:S.value,target:s.value,withRevoke:!0},z):X=await r.revokeApiKey(S.value,z),X){e.notify({message:n("key_manager.revoke_success",{_key:ge(S.value)}),icon:"done"}),s.value&&g.getKeyInfo(s.value,!0);const ne=h.value===S.value;await g.removeKey(S.value),ne&&await g.setPrimaryKey((Q=o.value[0])==null?void 0:Q.key)}}finally{S.value="",s.value="",u.value=!1}},[we.TRANSFER]:async z=>{u.value=!0;try{await r.transferToken({source:D.value,target:i.value},z)&&(e.notify({message:n("key_manager.transfer_success",{_source:ge(D.value),_target:ge(i.value)}),icon:"done"}),g.getKeyInfo(D.value,!0),g.getKeyInfo(i.value,!0))}finally{u.value=!1,D.value="",i.value=""}}},I=async z=>{var Q;console.log("handle key in callback"),w.value&&await((Q=P[w.value])==null?void 0:Q.call(P,z))},{turnstileToken:R,turnstileRef:E,turnstileVisible:C,proceeding:x,onUpdateToken:q,checkReady:M,resetVariables:L}=Wa(I),b=k(""),S=k(""),s=k(""),i=k(""),D=k(""),O=F(()=>o.value.some(z=>!g.isFreeKey(z.key))),U=F(()=>{const z=b.value.toLowerCase();return o.value.filter(Q=>{var ne;const X=((ne=Q.metadata)==null?void 0:ne.labels)||[];return X.length>0&&X.some(be=>be.toLowerCase().includes(z))?!0:Q.key.toLowerCase().includes(z)}).sort((Q,X)=>{var be,Re,j,G;const ne=((Re=(be=Q.metadata)==null?void 0:be.roles)==null?void 0:Re.includes("readonly"))||!1,Pe=((G=(j=X.metadata)==null?void 0:j.roles)==null?void 0:G.includes("readonly"))||!1;return ne?1:Pe?-1:0})}),N=()=>{e.dialog({component:lr}).onOk(async({action:z,metadata:Q})=>{m.value=Q,z===we.GENERATE&&(w.value=we.GENERATE,M()&&(await I(R.value),L(),gtag==null||gtag("event","add_new_key",{location:document.location.href})))})},$=(z,Q)=>{z===we.REVOKE?(S.value=Q.key,s.value=Q.transferTo):z===we.TRANSFER&&(i.value=Q.target,D.value=Q.source),w.value=z,M()&&(I(R.value),L())};Ae(async()=>{await g.fetchKeys(),g.checkPrimaryKey(),v.value.length===0&&await r.getProducts()});const ee={t:n,$q:e,apiKeyStore:g,userStore:p,embeddingStore:r,keys:o,isLoading:u,primaryKey:h,user:T,products:v,currentAction:w,currentMetadata:m,actionCallback:P,handleTurnstileCb:I,turnstileToken:R,turnstileRef:E,turnstileVisible:C,proceeding:x,onUpdateToken:q,checkReady:M,resetVariables:L,filterQuery:b,revokeKey:S,revokeWithTransferKey:s,transferTarget:i,transferSource:D,hasPaidKey:O,visibleKeys:U,openApiKeyDialog:N,onExecute:$,KeyItem:Tr,TurnstileComponent:Ja};return Object.defineProperty(ee,"__isScriptSetup",{enumerable:!1,value:!0}),ee}});function Pr(c,l,n,e,g,p){return f(),K(ie,{class:"fit"},{default:t(()=>[a(vt,{ref:"decisionTable",grid:"",rows:e.visibleKeys,flat:"","row-key":"_id","hide-header":"",loading:e.isLoading||e.proceeding,pagination:{rowsPerPage:10},"card-container-class":"tour-optimizer-result-table"},{top:t(()=>[a(ie,{class:"full-width",flat:"",square:""},{default:t(()=>[a(te,{class:"row q-pa-none"},{default:t(()=>[a(J,{disable:!e.user.uid||e.isLoading,flat:"",square:"","no-caps":"",padding:"md",icon:"add",label:e.t("key_manager.add"),onClick:e.openApiKeyDialog},null,8,["disable","label"]),a(J,{disable:!e.hasPaidKey,flat:"",square:"",padding:"md",icon:"receipt_long",label:e.t("embedding.manage_billing"),stretch:"",href:"https://stripe.jina.ai",target:"_blank","no-caps":""},{default:t(()=>[a(re,null,{default:t(()=>[y(_(e.t("embedding.manage_billing_tip")),1)]),_:1})]),_:1},8,["disable","label"]),a(J,{flat:"",label:e.t("header.contact_us"),square:"",icon:"handshake",to:"/api-dashboard/contact-sales",padding:"md","no-caps":""},null,8,["label"]),a(De,{filled:"",square:"",class:"full-width",debounce:"300",modelValue:e.filterQuery,"onUpdate:modelValue":l[0]||(l[0]=r=>e.filterQuery=r),placeholder:e.t("key_manager.filter_by")},{prepend:t(()=>[a(ae,{name:"filter_alt"})]),_:1},8,["modelValue","placeholder"])]),_:1}),a(se)]),_:1})]),item:t(r=>[(f(),K(e.KeyItem,{key:r.row.key,"api-key":r.row,onExecute:e.onExecute},null,8,["api-key"]))]),_:1},8,["rows","loading"]),e.turnstileVisible?(f(),K(e.TurnstileComponent,{key:0,ref:"turnstileRef",modelValue:e.turnstileToken,"onUpdate:modelValue":[l[1]||(l[1]=r=>e.turnstileToken=r),e.onUpdateToken]},null,8,["modelValue","onUpdate:modelValue"])):B("",!0)]),_:1})}const Rr=ce(Sr,[["render",Pr],["__file","KeysTable.vue"]]),ma="https://api.jina.ai/v1/classify",Qe=6,Dr=ue({__name:"AvatarTab",setup(c,{expose:l}){l();const{t:n}=ye({useScope:"global"}),e=Te(),g=k(!1),p=k([]),r=k(null),o=k(!1),u=k(""),h=k(""),T=Se(),v=k(null),w=b=>{v.value=b},m={accessories:{Eyepatch:"person wearing a mysterious black eye patch",Glasses:"person wearing modern round glasses with clear lenses","Glasses 2":"person wearing thin-framed contemporary glasses","Glasses 3":"person wearing classic rectangular glasses","Glasses 4":"person wearing vintage round glasses","Glasses 5":"person wearing designer wire-frame glasses",None:"person without any eyewear or accessories",Sunglasses:"person wearing fashionable dark sunglasses","Sunglasses 2":"person wearing sporty aviator sunglasses"},body:{"Blazer Black Tee":"person wearing a black t-shirt under a professional blazer","Button Shirt 1":"person in a crisp button-up dress shirt","Button Shirt 2":"person in a light colored button-up shirt",Coffee:"person holding a coffee cup in casual attire",Device:"person using a mobile device in casual wear",Dress:"person wearing an elegant flowing dress",Explaining:"person gesturing while explaining in business attire","Fur Jacket":"person wearing a luxurious fur jacket",Gaming:"person in gaming attire with controller","Gym Shirt":"person wearing athletic workout clothes",Hoodie:"person in a comfortable casual hoodie",Killer:"person in dark mysterious attire",Macbook:"person working on laptop in casual clothes",Paper:"person holding papers in professional attire","Pointing Up":"person gesturing upward in business wear","Polka Dot Jacket":"person in playful polka dot jacket","Polo and Sweater":"person wearing polo shirt under sweater","Shirt and Coat":"person in formal shirt and coat combination","Sporty Tee":"person in athletic sports t-shirt","Striped Pocket Tee":"person in casual striped t-shirt with pocket","Striped Tee":"person wearing horizontal striped t-shirt",Sweater:"person in cozy knit sweater","Sweater Dots":"person wearing sweater with polka dot pattern","Tee 1":"person in basic solid t-shirt","Tee 2":"person in casual graphic t-shirt","Tee Arms Crossed":"person with crossed arms in t-shirt","Tee Selena":"person in fitted casual t-shirt","Thunder T-Shirt":"person wearing t-shirt with thunder design",Turtleneck:"person in sophisticated black turtleneck",Whatever:"person in casual wear with relaxed pose"},face:{"Angry with Fang":"person with an intense angry expression showing fangs",Awe:"person with an expression of wonder and amazement",Blank:"person with a neutral blank expression",Calm:"person with serene peaceful expression",Cheeky:"person with a playful mischievous expression",Concerned:"person with a worried concerned expression","Concerned Fear":"person with a worried fearful expression",Contempt:"person with a disdainful contemptuous expression",Cute:"person with adorable cheerful expression",Cyclops:"person has only one one-eye",Driven:"person with determined focused expression","Eating Happy":"person with a joyful expression while eating",Explaining:"person with an animated expression while explaining","Eyes Closed":"person with a peaceful expression and closed eyes",Fear:"person with a frightened fearful expression",Hectic:"person with a frantic overwhelmed expression","Loving Grin 1":"person with gentle loving smile","Loving Grin 2":"person with bright heartfelt smile",Monster:"person with a playful monster-like expression",Old:"person with an aged wise expression",Rage:"person with an intense angry expression",Serious:"person with professional serious expression",Smile:"person with friendly welcoming smile","Smile Big":"person with broad enthusiastic smile","Smile LOL":"person with joyful laughing expression","Smile Teeth Gap":"person with charming gap-toothed smile",Solemn:"person with a deeply serious thoughtful expression",Suspicious:"person with a skeptical suspicious expression",Tired:"person with an exhausted weary expression","Very Angry":"person with an extremely angry expression"},head:{Afro:"person with natural afro hairstyle",Bangs:"person with straight front bangs","Bangs 2":"person with side-swept bangs","Bantu Knots":"person with traditional bantu knots hairstyle",Bear:"person with bear-themed hairstyle",Bun:"person with hair styled in neat bun","Bun 2":"person with messy top bun",Buns:"person with double hair buns",Cornrows:"person with cornrow braided hairstyle","Cornrows 2":"person with intricate cornrow design","Flat Top":"person with classic flat top haircut","Flat Top Long":"person with long flat top haircut","Gray Bun":"person with gray hair in bun","Gray Medium":"person with medium-length gray hair","Gray Short":"person with short gray hair",Long:"person with long flowing hair","Long Afro":"person with long voluminous afro","Long Bangs":"person with long layered bangs","Long Curly":"person with long curly hair","Medium 1":"person with shoulder-length hair","Medium 2":"person with wavy medium hair","Medium 3":"person with textured medium hair","Medium Bangs":"person with medium hair and bangs","Medium Bangs 2":"person with feathered medium bangs","Medium Bangs 3":"person with side-parted medium bangs","Medium Straight":"person with straight medium-length hair",Mohawk:"person with classic mohawk style","Mohawk 2":"person with longer mohawk variation","No Hair 1":"person with smooth bald head","No Hair 2":"person with polished bald style","No Hair 3":"person with completely shaved head",Pomp:"person with pompadour hairstyle","Shaved 1":"person with partially shaved head style","Shaved 2":"person with modern shaved haircut","Shaved 3":"person with artistic shaved design","Short 1":"person with short textured cut","Short 2":"person with short faded haircut","Short 3":"person with short spiky style","Short 4":"person with short layered cut","Short 5":"person with short tapered haircut",Twists:"person with twisted loc hairstyle","Twists 2":"person with longer twisted locs","hat-beanie":"person wearing a casual beanie hat","hat-hip":"person wearing a trendy hip-hop style hat"}};async function P(b){var S;try{const s=b.includes("base64,")?b.split("base64,")[1]:b,i=await fetch(ma,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T.apiKey}`},body:JSON.stringify({model:(S=v==null?void 0:v.value)==null?void 0:S.name,input:[{image:s}],labels:{accessories:Object.values(m.accessories),body:Object.values(m.body),face:Object.values(m.face),head:Object.values(m.head)}})});if(!i.ok)throw new Error(`Classification failed: ${i.status}`);return await i.json()}catch(s){throw console.error("Classification error:",s),s}}async function I(b,S){try{return(await xt(Object.assign({"../../assets/avatar/accessories/Eyepatch.svg":()=>d(()=>import("./Eyepatch-CPtCE8NI.js"),[]),"../../assets/avatar/accessories/Glasses 2.svg":()=>d(()=>import("./Glasses 2-CisVqvW9.js"),[]),"../../assets/avatar/accessories/Glasses 3.svg":()=>d(()=>import("./Glasses 3--AGI-_U5.js"),[]),"../../assets/avatar/accessories/Glasses 4.svg":()=>d(()=>import("./Glasses 4-CkCSLu0z.js"),[]),"../../assets/avatar/accessories/Glasses 5.svg":()=>d(()=>import("./Glasses 5-BnBdJIiD.js"),[]),"../../assets/avatar/accessories/Glasses.svg":()=>d(()=>import("./Glasses-bHTDfG2F.js"),[]),"../../assets/avatar/accessories/None.svg":()=>d(()=>import("./None-CBIsyCCu.js"),[]),"../../assets/avatar/accessories/Sunglasses 2.svg":()=>d(()=>import("./Sunglasses 2-Bm0kyZv8.js"),[]),"../../assets/avatar/accessories/Sunglasses.svg":()=>d(()=>import("./Sunglasses-CCXW1Ow2.js"),[]),"../../assets/avatar/body/Blazer Black Tee.svg":()=>d(()=>import("./Blazer Black Tee-CCvV2dgG.js"),[]),"../../assets/avatar/body/Button Shirt 1.svg":()=>d(()=>import("./Button Shirt 1-CmLXOUNx.js"),[]),"../../assets/avatar/body/Button Shirt 2.svg":()=>d(()=>import("./Button Shirt 2-s_x7_Ujv.js"),[]),"../../assets/avatar/body/Coffee.svg":()=>d(()=>import("./Coffee-BWgpJV-A.js"),[]),"../../assets/avatar/body/Device.svg":()=>d(()=>import("./Device-DEcjonbR.js"),[]),"../../assets/avatar/body/Dress.svg":()=>d(()=>import("./Dress-_6EnLKsY.js"),[]),"../../assets/avatar/body/Explaining.svg":()=>d(()=>import("./Explaining-DadwYvu0.js"),[]),"../../assets/avatar/body/Fur Jacket.svg":()=>d(()=>import("./Fur Jacket-CdWbrdPB.js"),[]),"../../assets/avatar/body/Gaming.svg":()=>d(()=>import("./Gaming-BDiAmtUY.js"),[]),"../../assets/avatar/body/Gym Shirt.svg":()=>d(()=>import("./Gym Shirt-DQCaFZ3f.js"),[]),"../../assets/avatar/body/Hoodie.svg":()=>d(()=>import("./Hoodie-B07UN-Nl.js"),[]),"../../assets/avatar/body/Killer.svg":()=>d(()=>import("./Killer-DTtnEXXI.js"),[]),"../../assets/avatar/body/Macbook.svg":()=>d(()=>import("./Macbook-CZ7Tiuu8.js"),[]),"../../assets/avatar/body/Paper.svg":()=>d(()=>import("./Paper-DK__jVLJ.js"),[]),"../../assets/avatar/body/Pointing Up.svg":()=>d(()=>import("./Pointing Up-DMSWjUIR.js"),[]),"../../assets/avatar/body/Polka Dot Jacket.svg":()=>d(()=>import("./Polka Dot Jacket-Ccaxzz07.js"),[]),"../../assets/avatar/body/Polo and Sweater.svg":()=>d(()=>import("./Polo and Sweater-DtFh9BfC.js"),[]),"../../assets/avatar/body/Shirt and Coat.svg":()=>d(()=>import("./Shirt and Coat-CUM3_bbN.js"),[]),"../../assets/avatar/body/Sporty Tee.svg":()=>d(()=>import("./Sporty Tee-DC-mJGrt.js"),[]),"../../assets/avatar/body/Striped Pocket Tee.svg":()=>d(()=>import("./Striped Pocket Tee-CIvIqxDn.js"),[]),"../../assets/avatar/body/Striped Tee.svg":()=>d(()=>import("./Striped Tee-DNfZDSQM.js"),[]),"../../assets/avatar/body/Sweater Dots.svg":()=>d(()=>import("./Sweater Dots-BlH7xuFs.js"),[]),"../../assets/avatar/body/Sweater.svg":()=>d(()=>import("./Sweater-CuOBOSOz.js"),[]),"../../assets/avatar/body/Tee 1.svg":()=>d(()=>import("./Tee 1-BAomRkw9.js"),[]),"../../assets/avatar/body/Tee 2.svg":()=>d(()=>import("./Tee 2-C4UUC6VK.js"),[]),"../../assets/avatar/body/Tee Arms Crossed.svg":()=>d(()=>import("./Tee Arms Crossed-Cd7ErYZG.js"),[]),"../../assets/avatar/body/Tee Selena.svg":()=>d(()=>import("./Tee Selena-BuBczbrL.js"),[]),"../../assets/avatar/body/Thunder T-Shirt.svg":()=>d(()=>import("./Thunder T-Shirt-R3FQYUZD.js"),[]),"../../assets/avatar/body/Turtleneck.svg":()=>d(()=>import("./Turtleneck-CBu5E31v.js"),[]),"../../assets/avatar/body/Whatever.svg":()=>d(()=>import("./Whatever-C_L7o4PD.js"),[]),"../../assets/avatar/face/Angry with Fang.svg":()=>d(()=>import("./Angry with Fang-Cz56tpGA.js"),[]),"../../assets/avatar/face/Awe.svg":()=>d(()=>import("./Awe-BZkmV47x.js"),[]),"../../assets/avatar/face/Blank.svg":()=>d(()=>import("./Blank-NsmhZSM1.js"),[]),"../../assets/avatar/face/Calm.svg":()=>d(()=>import("./Calm-CPd4QvYU.js"),[]),"../../assets/avatar/face/Cheeky.svg":()=>d(()=>import("./Cheeky-CiEXIAta.js"),[]),"../../assets/avatar/face/Concerned Fear.svg":()=>d(()=>import("./Concerned Fear-DW5JY4CD.js"),[]),"../../assets/avatar/face/Concerned.svg":()=>d(()=>import("./Concerned-BgtD4Mod.js"),[]),"../../assets/avatar/face/Contempt.svg":()=>d(()=>import("./Contempt-CvrrLjDN.js"),[]),"../../assets/avatar/face/Cute.svg":()=>d(()=>import("./Cute-BwsaONwn.js"),[]),"../../assets/avatar/face/Cyclops.svg":()=>d(()=>import("./Cyclops-DTp1IdXY.js"),[]),"../../assets/avatar/face/Driven.svg":()=>d(()=>import("./Driven-De_O7WVZ.js"),[]),"../../assets/avatar/face/Eating Happy.svg":()=>d(()=>import("./Eating Happy-BgMnwg9g.js"),[]),"../../assets/avatar/face/Explaining.svg":()=>d(()=>import("./Explaining-THnIdgyB.js"),[]),"../../assets/avatar/face/Eyes Closed.svg":()=>d(()=>import("./Eyes Closed-CdI1KQdq.js"),[]),"../../assets/avatar/face/Fear.svg":()=>d(()=>import("./Fear-BexFCH5R.js"),[]),"../../assets/avatar/face/Hectic.svg":()=>d(()=>import("./Hectic-AExjuXjY.js"),[]),"../../assets/avatar/face/Loving Grin 1.svg":()=>d(()=>import("./Loving Grin 1-B_w88qcc.js"),[]),"../../assets/avatar/face/Loving Grin 2.svg":()=>d(()=>import("./Loving Grin 2-zoGieaDF.js"),[]),"../../assets/avatar/face/Monster.svg":()=>d(()=>import("./Monster-C1lwNnn2.js"),[]),"../../assets/avatar/face/Old.svg":()=>d(()=>import("./Old-D4BSyuLE.js"),[]),"../../assets/avatar/face/Rage.svg":()=>d(()=>import("./Rage-B2uNaaGQ.js"),[]),"../../assets/avatar/face/Serious.svg":()=>d(()=>import("./Serious-DI3hxq-4.js"),[]),"../../assets/avatar/face/Smile Big.svg":()=>d(()=>import("./Smile Big-aT5CkwfB.js"),[]),"../../assets/avatar/face/Smile LOL.svg":()=>d(()=>import("./Smile LOL-DC93Zyi_.js"),[]),"../../assets/avatar/face/Smile Teeth Gap.svg":()=>d(()=>import("./Smile Teeth Gap-DBZFawB0.js"),[]),"../../assets/avatar/face/Smile.svg":()=>d(()=>import("./Smile-0Wibgfy8.js"),[]),"../../assets/avatar/face/Solemn.svg":()=>d(()=>import("./Solemn-CxgWcI-i.js"),[]),"../../assets/avatar/face/Suspicious.svg":()=>d(()=>import("./Suspicious-D7j672A1.js"),[]),"../../assets/avatar/face/Tired.svg":()=>d(()=>import("./Tired-D_AtxcGW.js"),[]),"../../assets/avatar/face/Very Angry.svg":()=>d(()=>import("./Very Angry-D5F4ua3s.js"),[]),"../../assets/avatar/facialHair/Chin.svg":()=>d(()=>import("./Chin-DUNkMTkI.js"),[]),"../../assets/avatar/facialHair/Full 2.svg":()=>d(()=>import("./Full 2-gHgrzbn6.js"),[]),"../../assets/avatar/facialHair/Full 3.svg":()=>d(()=>import("./Full 3-Ds9Mi2Pn.js"),[]),"../../assets/avatar/facialHair/Full 4.svg":()=>d(()=>import("./Full 4-CpyHDOKi.js"),[]),"../../assets/avatar/facialHair/Full.svg":()=>d(()=>import("./Full--tLCytme.js"),[]),"../../assets/avatar/facialHair/Goatee 1.svg":()=>d(()=>import("./Goatee 1-CjxWNkM4.js"),[]),"../../assets/avatar/facialHair/Goatee 2.svg":()=>d(()=>import("./Goatee 2-DX91ea6G.js"),[]),"../../assets/avatar/facialHair/Moustache 1.svg":()=>d(()=>import("./Moustache 1-DCfFyVoz.js"),[]),"../../assets/avatar/facialHair/Moustache 2.svg":()=>d(()=>import("./Moustache 2-DvTVVVR4.js"),[]),"../../assets/avatar/facialHair/Moustache 3.svg":()=>d(()=>import("./Moustache 3-7DebNHil.js"),[]),"../../assets/avatar/facialHair/Moustache 4.svg":()=>d(()=>import("./Moustache 4-SJn7FG3B.js"),[]),"../../assets/avatar/facialHair/Moustache 5.svg":()=>d(()=>import("./Moustache 5-44Xj2EZF.js"),[]),"../../assets/avatar/facialHair/Moustache 6.svg":()=>d(()=>import("./Moustache 6-CEr5yFL1.js"),[]),"../../assets/avatar/facialHair/Moustache 7.svg":()=>d(()=>import("./Moustache 7-Bq0VvETl.js"),[]),"../../assets/avatar/facialHair/Moustache 8.svg":()=>d(()=>import("./Moustache 8-mUxMyGGc.js"),[]),"../../assets/avatar/facialHair/Moustache 9.svg":()=>d(()=>import("./Moustache 9-DOisYSjS.js"),[]),"../../assets/avatar/facialHair/None.svg":()=>d(()=>import("./None-DgNcDPcG.js"),[]),"../../assets/avatar/head/Afro.svg":()=>d(()=>import("./Afro-BcTe8cjZ.js"),[]),"../../assets/avatar/head/Bangs 2.svg":()=>d(()=>import("./Bangs 2-8gDxCaJT.js"),[]),"../../assets/avatar/head/Bangs.svg":()=>d(()=>import("./Bangs-VMnv_1Bg.js"),[]),"../../assets/avatar/head/Bantu Knots.svg":()=>d(()=>import("./Bantu Knots-FkG8IqlL.js"),[]),"../../assets/avatar/head/Bear.svg":()=>d(()=>import("./Bear-B_wppsaW.js"),[]),"../../assets/avatar/head/Bun 2.svg":()=>d(()=>import("./Bun 2-EtBMU_d9.js"),[]),"../../assets/avatar/head/Bun.svg":()=>d(()=>import("./Bun-B7Kj-Cx2.js"),[]),"../../assets/avatar/head/Buns.svg":()=>d(()=>import("./Buns-0MUj_y-O.js"),[]),"../../assets/avatar/head/Cornrows 2.svg":()=>d(()=>import("./Cornrows 2-m36CFRMN.js"),[]),"../../assets/avatar/head/Cornrows.svg":()=>d(()=>import("./Cornrows-D_tFOLo2.js"),[]),"../../assets/avatar/head/Flat Top Long.svg":()=>d(()=>import("./Flat Top Long-BYSVHErS.js"),[]),"../../assets/avatar/head/Flat Top.svg":()=>d(()=>import("./Flat Top-3MNwLsIB.js"),[]),"../../assets/avatar/head/Gray Bun.svg":()=>d(()=>import("./Gray Bun-6Dorz2Bf.js"),[]),"../../assets/avatar/head/Gray Medium.svg":()=>d(()=>import("./Gray Medium-lrleAuub.js"),[]),"../../assets/avatar/head/Gray Short.svg":()=>d(()=>import("./Gray Short-DEP2bB8l.js"),[]),"../../assets/avatar/head/Long Afro.svg":()=>d(()=>import("./Long Afro-CZArt9o6.js"),[]),"../../assets/avatar/head/Long Bangs.svg":()=>d(()=>import("./Long Bangs-CEgFEE8r.js"),[]),"../../assets/avatar/head/Long Curly.svg":()=>d(()=>import("./Long Curly-CzVOPxU6.js"),[]),"../../assets/avatar/head/Long.svg":()=>d(()=>import("./Long-mD9BOv0I.js"),[]),"../../assets/avatar/head/Medium 1.svg":()=>d(()=>import("./Medium 1-BIbsz7Fr.js"),[]),"../../assets/avatar/head/Medium 2.svg":()=>d(()=>import("./Medium 2-CnPtrhj9.js"),[]),"../../assets/avatar/head/Medium 3.svg":()=>d(()=>import("./Medium 3-B-FK1tKj.js"),[]),"../../assets/avatar/head/Medium Bangs 2.svg":()=>d(()=>import("./Medium Bangs 2-Cr7FTMco.js"),[]),"../../assets/avatar/head/Medium Bangs 3.svg":()=>d(()=>import("./Medium Bangs 3-CN81QHc8.js"),[]),"../../assets/avatar/head/Medium Bangs.svg":()=>d(()=>import("./Medium Bangs-DvU1aw27.js"),[]),"../../assets/avatar/head/Medium Straight.svg":()=>d(()=>import("./Medium Straight-C1jK9Qgd.js"),[]),"../../assets/avatar/head/Mohawk 2.svg":()=>d(()=>import("./Mohawk 2-BPHaakiH.js"),[]),"../../assets/avatar/head/Mohawk.svg":()=>d(()=>import("./Mohawk-BtkBrxTU.js"),[]),"../../assets/avatar/head/No Hair 1.svg":()=>d(()=>import("./No Hair 1-BM-4_kmR.js"),[]),"../../assets/avatar/head/No Hair 2.svg":()=>d(()=>import("./No Hair 2-DjnYbtaT.js"),[]),"../../assets/avatar/head/No Hair 3.svg":()=>d(()=>import("./No Hair 3-CDiHEwX9.js"),[]),"../../assets/avatar/head/Pomp.svg":()=>d(()=>import("./Pomp-Di6BypHV.js"),[]),"../../assets/avatar/head/Shaved 1.svg":()=>d(()=>import("./Shaved 1-DUFavbik.js"),[]),"../../assets/avatar/head/Shaved 2.svg":()=>d(()=>import("./Shaved 2-BIYv1-1_.js"),[]),"../../assets/avatar/head/Shaved 3.svg":()=>d(()=>import("./Shaved 3-DX966IJI.js"),[]),"../../assets/avatar/head/Short 1.svg":()=>d(()=>import("./Short 1-B-el4prz.js"),[]),"../../assets/avatar/head/Short 2.svg":()=>d(()=>import("./Short 2-YawmDo8u.js"),[]),"../../assets/avatar/head/Short 3.svg":()=>d(()=>import("./Short 3-Bq0t9n5E.js"),[]),"../../assets/avatar/head/Short 4.svg":()=>d(()=>import("./Short 4-B1nPxZXu.js"),[]),"../../assets/avatar/head/Short 5.svg":()=>d(()=>import("./Short 5-xc1sa6I2.js"),[]),"../../assets/avatar/head/Twists 2.svg":()=>d(()=>import("./Twists 2-1XiLWkyn.js"),[]),"../../assets/avatar/head/Twists.svg":()=>d(()=>import("./Twists-DxjfQDSj.js"),[]),"../../assets/avatar/head/hat-beanie.svg":()=>d(()=>import("./hat-beanie-3it8Xmnp.js"),[]),"../../assets/avatar/head/hat-hip.svg":()=>d(()=>import("./hat-hip-CbkFXWiS.js"),[])}),`../../assets/avatar/${b}/${S}.svg`,6)).default}catch(s){throw console.error("Error loading SVG:",s),e.notify({type:"negative",message:n("avatar.error_loading")}),s}}function R(b,S){return Object.entries(b).map(([s,i])=>({category:s,items:i.sort((D,O)=>O.score-D.score).slice(0,S).map(D=>{var O;return{label:D.label,score:D.score,feature:((O=Object.entries(m[s]).find(([U,N])=>N===D.label))==null?void 0:O[0])||Object.keys(m[s])[0]}})}))}function E(b,S){const s={};return b.forEach(({category:i,items:D})=>{const O=D[S%D.length];s[i]=O.feature}),s}async function C(){if(!h.value){e.notify({type:"warning",message:n("avatar.noImageSelected")});return}g.value=!0,p.value=[];try{const b=await P(h.value),S=R(b.data[0].predictions,Qe);for(let s=0;s<Qe;s++){const i=E(S,s),D=await Promise.all([I("body",i.body),I("head",i.head),I("face",i.face),I("accessories",i.accessories)]),O=["translate(0, 550)","translate(200, 50)","translate(320, 250)","translate(210, 310)"],N=`
        <svg
          width="380"
          height="380"
          viewBox="0 0 900 900"
          fill="none"
          stroke="black"
          stroke-width="0.8"
          stroke-linecap="round"
          stroke-linejoin="round"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g>
            ${D.map(($,ee)=>{const z=$.slice($.indexOf(">",$.indexOf("<svg"))+1).replace("</svg>","");return`<g transform="${O[ee]}">${z}</g>`}).join("")}
          </g>
        </svg>
      `;p.value.push(N)}}catch(b){console.error("Error generating avatars:",b),p.value=[],e.notify({type:"negative",message:n("avatar.classificationError")})}finally{g.value=!1}}async function x(b){return new Promise((S,s)=>{const i=new Image,D=document.createElement("canvas"),O=D.getContext("2d");D.width=256,D.height=256,i.onload=()=>{const N=Math.max(D.width/i.width,D.height/i.height),$=(D.width-i.width*N)/2,ee=(D.height-i.height*N)/2;O.fillStyle="white",O.fillRect(0,0,D.width,D.height),O.drawImage(i,$,ee,i.width*N,i.height*N);const z=D.toDataURL(b.type),Q=z.split(",")[1];u.value=z,h.value=Q,S(Q)},i.onerror=()=>{s(new Error(n("avatar.error_processing")))};const U=new FileReader;U.onload=N=>{i.src=N.target.result},U.onerror=()=>{s(new Error(n("avatar.error_processing")))},U.readAsDataURL(b)})}async function q(){if(r.value){o.value=!0;try{await x(r.value)}catch(b){console.error("Error processing image:",b),e.notify({type:"negative",message:n("avatar.error_processing")})}finally{o.value=!1}}else u.value=""}function M(b,S){const s=new Blob([b],{type:"image/svg+xml"}),i=window.URL.createObjectURL(s),D=document.createElement("a");D.href=i,D.download=`avatar-${S+1}.svg`,document.body.appendChild(D),D.click(),document.body.removeChild(D),window.URL.revokeObjectURL(i),e.notify({message:n("avatar.download_success",{index:S+1})})}const L={API_URL:ma,t:n,$q:e,isLoading:g,svgContents:p,TOP_N:Qe,selectedFile:r,isProcessing:o,processedImage:u,imageBase64:h,embeddingStore:T,currentModel:v,onModelItemClick:w,featureMapping:m,classifyImage:P,importSVG:I,getTopNPredictions:R,generateFeatureCombination:E,generateAvatar:C,processImage:x,handleFileSelect:q,downloadSVG:M,ModelDropDown:Za};return Object.defineProperty(L,"__isScriptSetup",{enumerable:!1,value:!0}),L}}),Kr={class:"row full-width"},Vr={class:"row q-col-gutter-md"},xr=["innerHTML"];function Lr(c,l,n,e,g,p){return f(),K(ie,{flat:"",class:"column no-wrap full-height"},{default:t(()=>[W("div",Kr,[a(gt,{class:"col",square:"",filled:"","input-class":"text-no-wrap ellipsis",modelValue:e.selectedFile,"onUpdate:modelValue":[l[0]||(l[0]=r=>e.selectedFile=r),e.handleFileSelect],label:e.t("avatar.select_file"),accept:".jpg,.jpeg,.png,.gif,.webp",loading:e.isProcessing},{prepend:t(()=>[e.processedImage?(f(),K(bt,{key:1,src:e.processedImage,width:"24px",height:"24px"},null,8,["src"])):(f(),K(ae,{key:0,name:"attach_file"}))]),_:1},8,["modelValue","label","loading"]),a(e.ModelDropDown,{currentModel:e.currentModel,indicator:!1,category:"clip",onChooseModel:e.onModelItemClick},null,8,["currentModel"]),a(J,{square:"",flat:"","no-caps":"",padding:"md",label:e.t("avatar.generate"),onClick:e.generateAvatar,icon:"play_arrow",loading:e.isLoading,disable:!e.currentModel||!e.selectedFile},null,8,["label","loading","disable"]),a(J,{square:"",flat:"",padding:"md","no-caps":"",label:e.t("avatar.how_does_it_work"),to:"/news/scaling-test-time-compute-for-embedding-models",icon:"help"},null,8,["label"])]),e.isProcessing||e.isLoading?(f(),K(Le,{key:0,indeterminate:"",size:"1px"})):B("",!0),a(se),a(te,null,{default:t(()=>[W("div",Vr,[(f(!0),Z(oe,null,me(e.svgContents,(r,o)=>(f(),Z("div",{key:o,class:"col-auto"},[a(ie,{flat:"",bordered:"",class:"cursor-pointer q-hoverable",onClick:u=>e.downloadSVG(r,o)},{default:t(()=>[l[1]||(l[1]=W("span",{class:"q-focus-helper"},null,-1)),a(te,null,{default:t(()=>[W("div",{class:"text-center",innerHTML:r},null,8,xr)]),_:2},1024)]),_:2},1032,["onClick"])]))),128))])]),_:1})]),_:1})}const Ar=ce(Dr,[["render",Lr],["__file","AvatarTab.vue"]]),Ir={...Aa,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:c=>c>=0&&c<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},We=50,ba=2*We,ka=ba*Math.PI,Cr=Math.round(ka*1e3)/1e3,Or=Ia({name:"QCircularProgress",props:{...Ir,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(c,{slots:l}){const{proxy:{$q:n}}=qa(),e=Ca(c),g=F(()=>{const m=(n.lang.rtl===!0?-1:1)*c.angle;return{transform:c.reverse!==(n.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-m}deg)`:`rotate3d(0, 0, 1, ${m-90}deg)`}}),p=F(()=>c.instantFeedback!==!0&&c.indeterminate!==!0?{transition:`stroke-dashoffset ${c.animationSpeed}ms ease 0s, stroke ${c.animationSpeed}ms ease`}:""),r=F(()=>ba/(1-c.thickness/2)),o=F(()=>`${r.value/2} ${r.value/2} ${r.value} ${r.value}`),u=F(()=>kt(c.value,c.min,c.max)),h=F(()=>c.max-c.min),T=F(()=>c.thickness/2*r.value),v=F(()=>{const m=(c.max-u.value)/h.value,P=c.rounded===!0&&u.value<c.max&&m<.25?T.value/2*(1-m/.25):0;return ka*m+P});function w({thickness:m,offset:P,color:I,cls:R,rounded:E}){return Ke("circle",{class:"q-circular-progress__"+R+(I!==void 0?` text-${I}`:""),style:p.value,fill:"transparent",stroke:"currentColor","stroke-width":m,"stroke-dasharray":Cr,"stroke-dashoffset":P,"stroke-linecap":E,cx:r.value,cy:r.value,r:We})}return()=>{const m=[];c.centerColor!==void 0&&c.centerColor!=="transparent"&&m.push(Ke("circle",{class:`q-circular-progress__center text-${c.centerColor}`,fill:"currentColor",r:We-T.value/2,cx:r.value,cy:r.value})),c.trackColor!==void 0&&c.trackColor!=="transparent"&&m.push(w({cls:"track",thickness:T.value,offset:0,color:c.trackColor})),m.push(w({cls:"circle",thickness:T.value,offset:v.value,color:c.color,rounded:c.rounded===!0?"round":void 0}));const P=[Ke("svg",{class:"q-circular-progress__svg",style:g.value,viewBox:o.value,"aria-hidden":"true"},m)];return c.showValue===!0&&P.push(Ke("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:c.fontSize}},l.default!==void 0?l.default():[Ke("div",u.value)])),Ke("div",{class:`q-circular-progress q-circular-progress--${c.indeterminate===!0?"in":""}determinate`,style:e.value,role:"progressbar","aria-valuemin":c.min,"aria-valuemax":c.max,"aria-valuenow":c.indeterminate===!0?void 0:u.value},Oa(l.internal,P))}}}),qr=ue({__name:"GroundingDemoComponent",props:{useLazyLoading:{type:Boolean,default:!0}},setup(c,{expose:l}){l();const n=c,e=Se(),{apiKey:g}=_e(e),{t:p}=ye({useScope:"global"}),r=k("In 2012, President Barack Hussein Obama repealed the Smith-Mundt act, which had been in place in 1948. The law prevented the government from putting its propaganda on TV and Radio."),o=k(!1),u=k(!0),h=k(0),T=k(null),v=k(null),w=k(null);let m=null;const P=F(()=>{var b;return(b=T.value)==null?void 0:b.data}),I=F(()=>{var b;return(b=P.value)!=null&&b.factuality?P.value.factuality*100:0}),R=F(()=>{var b;return((b=P.value)==null?void 0:b.references.filter(S=>S.isSupportive))||[]}),E=F(()=>{const b=Math.floor(h.value/1e3),S=Math.floor(h.value%1e3/100);return`${b}.${S} s`}),C=F(()=>{var b,S;return v.value!==null?((b=P.value)==null?void 0:b.references.filter(s=>s.isSupportive===v.value))||[]:((S=P.value)==null?void 0:S.references)||[]}),x=b=>{v.value===b?v.value=null:v.value=b},q=async()=>{if(!r.value)return;u.value=!0,T.value=null;const b=Date.now(),S=`https://g.jina.ai/${encodeURIComponent(r.value)}${o.value?"?deepdive=true":""}`;try{const s=await fetch(S,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${g.value}`}});h.value=Date.now()-b,T.value=await s.json()}catch(s){T.value={message:s instanceof Error?s.message:String(s)}}finally{u.value=!1}},M=()=>{var S;const b=((S=w.value)==null?void 0:S.$el)||w.value;b instanceof HTMLElement?(m=new IntersectionObserver(s=>{s[0].isIntersecting&&(q(),m==null||m.disconnect())},{root:null,threshold:.1}),m.observe(b)):console.error("Element is not an HTMLElement:",b)};Ae(()=>{n.useLazyLoading?va(()=>{setTimeout(()=>{M()},100)}):q()}),Ma(()=>{m&&m.disconnect()});const L={props:n,embeddingStore:e,apiKey:g,t:p,query:r,isDeepDive:o,isBusy:u,responseTime:h,response:T,filters:v,componentRef:w,get observer(){return m},set observer(b){m=b},responseData:P,factuality:I,supportiveNum:R,responseTimeString:E,references:C,onFilter:x,sendQuery:q,initIntersectionObserver:M,ref:k,get formatNumber(){return aa}};return Object.defineProperty(L,"__isScriptSetup",{enumerable:!1,value:!0}),L}}),Mr={class:"text-negative"};function Br(c,l,n,e,g,p){return f(),K(ie,{ref:"componentRef",flat:"",square:"",bordered:"",class:"col-12 col-md-10"},{default:t(()=>{var r;return[a(te,{class:"q-pa-none"},{default:t(()=>[a(Lt,{onSubmit:e.sendQuery,ref:"formRef"},{default:t(()=>{var o,u;return[a(De,{square:"",filled:"","bottom-slots":!!e.response,modelValue:e.query,"onUpdate:modelValue":l[1]||(l[1]=h=>e.query=h),disable:e.isBusy,clearable:"",label:e.t("reader.demo.your_statement")},Ze({prepend:t(()=>[a(he,{modelValue:e.isDeepDive,"onUpdate:modelValue":l[0]||(l[0]=h=>e.isDeepDive=h),disable:e.isBusy,"checked-icon":"biotech","icon-color":"black","unchecked-icon":"bolt"},{default:t(()=>[a(re,null,{default:t(()=>[y(_(e.t("reader.demo.headers.deepdive")),1)]),_:1})]),_:1},8,["modelValue","disable"])]),append:t(()=>[a(J,{square:"",flat:"",icon:"send",padding:"md",loading:e.isBusy,onClick:e.sendQuery,type:"submit"},null,8,["loading"])]),_:2},[(o=e.response)!=null&&o.name||(u=e.response)!=null&&u.message?{name:"hint",fn:t(()=>[W("span",Mr,[y(_(e.response.name||e.response.message)+" ",1),e.response.readableMessage?(f(),K(re,{key:0},{default:t(()=>[y(_(e.response.readableMessage),1)]),_:1})):B("",!0)])]),key:"0"}:e.response?{name:"hint",fn:t(()=>{var h;return[a(ve,{icon:"timer",label:`${e.responseTimeString}`,size:"sm",class:"text-dim bg-transparent"},null,8,["label"]),a(ve,{icon:"straighten",label:`${e.formatNumber(((h=e.responseData)==null?void 0:h.usage.tokens)||0)} ${e.t("embedding.tokens")}`,size:"sm",class:"text-dim bg-transparent"},null,8,["label"])]}),key:"1"}:void 0]),1032,["bottom-slots","modelValue","disable","label"])]}),_:1},512)]),_:1}),e.isBusy?(f(),K(Le,{key:0,indeterminate:"",size:"1px"})):B("",!0),e.responseData?(f(),K(te,{key:1,class:"q-mt-lg"},{default:t(()=>[a(H,null,{default:t(()=>[a(V,{side:""},{default:t(()=>[a(Or,{"show-value":"",value:e.factuality,size:"60px",thickness:.1,color:e.factuality>50?"positive":"negative","track-color":"surface-mixed-200"},{default:t(()=>{var o,u;return[a(ae,{name:(o=e.responseData)!=null&&o.result?"check":"close",color:(u=e.responseData)!=null&&u.result?"accent":"negative",size:"30px"},null,8,["name","color"])]}),_:1},8,["value","color"])]),_:1}),a(V,null,{default:t(()=>[a(A,{class:"text-bold"},{default:t(()=>[y(_(e.responseData.result?e.t("reader.demo.grounding_result_true"):e.t("reader.demo.grounding_result_false")),1)]),_:1}),a(A,{caption:""},{default:t(()=>{var o;return[y(_((o=e.responseData)==null?void 0:o.reason),1)]}),_:1})]),_:1}),a(V,{side:""},{default:t(()=>[a(ha,{outline:"",square:""},{default:t(()=>{var o,u,h;return[a(J,{label:(o=e.supportiveNum)==null?void 0:o.length,icon:"thumb_up",square:"",onClick:l[2]||(l[2]=T=>e.onFilter(!0)),outline:""},null,8,["label"]),a(se),a(J,{label:(((u=e.responseData)==null?void 0:u.references.length)||0)-((h=e.supportiveNum)==null?void 0:h.length),icon:"thumb_down",square:"",onClick:l[3]||(l[3]=T=>e.onFilter(!1)),outline:""},null,8,["label"])]}),_:1})]),_:1})]),_:1})]),_:1})):B("",!0),(r=e.responseData)!=null&&r.references.length?(f(),K(te,{key:2},{default:t(()=>[a(qe,null,{default:t(()=>[a($e,{name:"list2"},{default:t(()=>[(f(!0),Z(oe,null,me(e.references,o=>(f(),K(H,{clickable:"",key:o.url,href:o.url,target:"_blank",class:"card-details"},{default:t(()=>[a(V,{avatar:""},{default:t(()=>[a(ae,{name:o.isSupportive?"thumb_up":"thumb_down",color:o.isSupportive?"positive":"negative"},null,8,["name","color"])]),_:2},1024),a(V,null,{default:t(()=>[a(A,{lines:"1",class:"text-italic"},{default:t(()=>[y("... "+_(o.keyQuote)+" ...",1)]),_:2},1024),a(A,{caption:""},{default:t(()=>[a(ve,{square:"",size:"sm",icon:`img:https://www.google.com/s2/favicons?sz=32&domain_url=${o.url}`,label:o.url,class:"text-caption q-mx-none bg-mixed-200",style:{"max-width":"60%"}},null,8,["icon","label"])]),_:2},1024)]),_:2},1024),a(V,{side:""},{default:t(()=>[a(ae,{name:"open_in_new",size:"xs",class:"read-more-btn"})]),_:1})]),_:2},1032,["href"]))),128))]),_:1})]),_:1})]),_:1})):B("",!0)]}),_:1},512)}const Ur=ce(qr,[["render",Br],["__file","GroundingDemoComponent.vue"]]),Nr=ue({__name:"GroundingTab",setup(c,{expose:l}){l();const n={GroundingDemoComponent:Ur};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}});function jr(c,l,n,e,g,p){return f(),K(ie,{flat:"",class:"column no-wrap full-height"},{default:t(()=>[a(e.GroundingDemoComponent,{"use-lazy-loading":!1})]),_:1})}const Fr=ce(Nr,[["render",jr],["__scopeId","data-v-0622c9bb"],["__file","GroundingTab.vue"]]),ze="https://llm-serp.jina.ai",Gr=ue({__name:"UsageComponent",setup(c,{expose:l}){l();const{t:n}=ye({useScope:"global"}),e=Te(),g=Se(),{apiKey:p}=_e(g),r=k(!1),o=k({}),u=k({q:"jina ai",location:""}),h=F(()=>{const R={};for(const[E,C]of Object.entries(u.value))C&&(R[E]=C);return R}),T=k({}),v=k([{header:"Authorization",value:`Bearer ${p.value}`,label:"auth_token",type:"toggle",url:"/api-dashboard/rate-limit",get disabled(){return!p.value},get indicator(){return!!T.value[this.header]},set(R){R?T.value[this.header]=this.value:delete T.value[this.header]}},{label:"country",type:"select",value:u.value.gl,options:[{value:"Default"},...$a],indicator:!0,set(R){if(this.value=R,R==="Default"){delete u.value.gl;return}u.value.gl=R},init(){this.value="Default"}},{label:"location",type:"text",value:u.value.location,indicator:!0,set(R){this.value=R,u.value.location=R}},{label:"language",type:"select",value:u.value.hl,indicator:!0,options:[{value:"Default"},...et],set(R){if(this.value=R,R==="Default"){delete u.value.hl;return}u.value.hl=R},init(){this.value="Default"}},{label:"number",type:"select",options:[{value:10},{value:20},{value:30}],value:u.value.num,set(R){this.value=R||null;const E=Number(this.value);if(E===10){delete u.value.num;return}u.value.num=E},init(){this.set(10)}},{label:"page",type:"number",min:1,indicator:!0,value:u.value.page,set(R){this.value=R||null;const E=Number(this.value);if(E===1){delete u.value.page;return}u.value.page=E},init(){this.set(1)}}]),w=F(()=>{for(const x of v.value)x.disabled&&x.set(!1);const R=["Content-Type: application/json"];for(const[x,q]of Object.entries(T.value))if(q){if(typeof q=="string")R.push(`${x}: ${q}`);else if(Array.isArray(q))for(const M of q)R.push(`${x}: ${M}`)}const E=R.map(x=>`  -H "${x}"`).join(`\\
`);return`
\`\`\`bash
${[`curl ${ze}`,`${E}`,`  -d @- <<EOFEOF
  {
    ${JSON.stringify(h.value,null,4).slice(1,-1).trim()}
  }
EOFEOF`].join(` \\
`)}
\`\`\`
  `}),m=k(!1),P=async()=>{if(!p.value||!h.value.q)return;o.value={};const R={"Content-Type":"application/json"};for(const E of v.value)E.indicator&&E.header&&(R[E.header]=E.value);r.value=!0,fetch(ze,{method:"POST",headers:R,body:JSON.stringify(h.value)}).then(async E=>{var C;if((C=E.headers.get("content-type"))!=null&&C.includes("text/event-stream")){if(E.body){o.value={status:E.status,statusText:E.statusText,eventStream:!0,data:[]};const x=E.body.getReader(),q=new TextDecoder;for(;;){const{done:M,value:L}=await x.read();if(M){m.value=!1,r.value=!1;break}L&&(m.value=!0,q.decode(L).split(`

`).forEach(s=>{const D=s.split(`
`).find(U=>U.startsWith("data: "));if(!D)return;const O=D.replace(/data: /g,"");try{O&&o.value.data.push(O)}catch(U){console.error("Error:",U)}}))}}}else{o.value={status:E.status,statusText:E.statusText};const x=await E.json();o.value.data={status:E.status,type:"json",content:x}}}).catch(E=>{console.error("Error:",E),o.value={status:500,data:E.message}}).finally(()=>{r.value=!1,m.value=!1})};Ae(()=>{v.value.forEach(R=>{R.init&&R.init()})});const I={t:n,$q:e,embeddingStore:g,apiKey:p,isBusy:r,response:o,payload:u,BASE_URL:ze,adaptablePayload:h,headers:T,availableParameters:v,adaptableCode:w,isStreaming:m,onExecute:P,UsageHeader:at,APIPanel:tt};return Object.defineProperty(I,"__isScriptSetup",{enumerable:!1,value:!0}),I}});function Hr(c,l,n,e,g,p){return f(),K(ie,{flat:"",square:"",class:"column no-wrap full-height"},{default:t(()=>[a(e.UsageHeader,{"home-link":"/llm-serp-demo","issue-link":"https://github.com/jina-ai/node-serp/issues","is-support-c-s-p":!1,"api-link":""}),a(se),a(te,{horizontal:e.$q.screen.gt.sm,class:"q-pa-none",style:{"flex-grow":"1"}},{default:t(()=>[a(te,{class:"col-md-6 col-lg-5 col-xl-4 q-pa-none"},{default:t(()=>[a(qe,{class:"full-width"},{default:t(()=>[a($e,{name:"list2"},{default:t(()=>[a(H,{key:"query",class:"q-pa-none"},{default:t(()=>[a(V,null,{default:t(()=>[a(De,{type:"textarea",rows:"1",modelValue:e.payload.q,"onUpdate:modelValue":l[0]||(l[0]=r=>e.payload.q=r),class:"full-width text-caption",filled:"",square:"","hide-bottom-space":"",label:e.t("llm_serp.query_label"),rules:[r=>!!r]},{prepend:t(()=>[a(ae,{name:"search"})]),_:1},8,["modelValue","label","rules"])]),_:1})]),_:1}),(f(!0),Z(oe,null,me(e.availableParameters,r=>(f(),Z(oe,{key:r.label},[r.disabled?B("",!0):(f(),K(H,{tag:"label",key:r.label},{default:t(()=>[a(V,null,{default:t(()=>[a(A,null,{default:t(()=>[y(_(e.t(`llm_serp.parameters.${r.label}`)),1)]),_:2},1024),a(A,{caption:"",innerHTML:e.t(`llm_serp.parameters.${r.label}_explain`)},null,8,["innerHTML"]),r.url?(f(),K(A,{key:0,caption:"",class:"q-pt-sm"},{default:t(()=>[a(J,{href:r.url,label:e.t("deepsearch.learn_more"),size:"xs",outline:"",square:"",icon:"open_in_new",target:"_blank"},null,8,["href","label"])]),_:2},1024)):B("",!0)]),_:2},1024),r.type==="toggle"?(f(),K(V,{key:0,side:""},{default:t(()=>[a(he,{disable:r.disabled,"model-value":r.indicator,"onUpdate:modelValue":o=>r.set(o)},null,8,["disable","model-value","onUpdate:modelValue"])]),_:2},1024)):r.type==="text"||r.type==="number"?(f(),K(V,{key:1,side:""},{default:t(()=>[a(De,{"model-value":r.value,"onUpdate:modelValue":o=>r.set(o),filled:"",square:"",type:r.type,min:r.min,style:{"max-width":"100px"},disable:!r.indicator},null,8,["model-value","onUpdate:modelValue","type","min","disable"])]),_:2},1024)):r.type==="select"?(f(),K(V,{key:2,side:""},{default:t(()=>[a(Ee,{modelValue:r.value,"onUpdate:modelValue":[o=>r.value=o,o=>r.set(o)],options:r.options,style:{"min-width":"100px"},filled:"",square:"","hide-bottom-space":"","emit-value":"","map-options":""},{option:t(({opt:o,itemProps:u})=>[a(H,Ne({ref_for:!0},u),{default:t(()=>[a(V,null,{default:t(()=>[a(A,null,{default:t(()=>[W("code",null,_(o.value),1)]),_:2},1024),a(A,{caption:""},{default:t(()=>[y(_(o.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),selected:t(()=>[a(V,null,{default:t(()=>[a(A,null,{default:t(()=>[W("code",null,_(r.value),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue","options"])]),_:2},1024)):B("",!0)]),_:2},1024))],64))),128))]),_:1})]),_:1})]),_:1}),a(se,{vertical:e.$q.screen.gt.sm},null,8,["vertical"]),a(e.APIPanel,{code:e.adaptableCode,onExecute:e.onExecute,loading:e.isBusy,"is-streaming":e.isStreaming,response:e.response,disabled:!e.apiKey},null,8,["code","loading","is-streaming","response","disabled"])]),_:1},8,["horizontal"])]),_:1})}const Qr=ce(Gr,[["render",Hr],["__file","UsageComponent.vue"]]),zr=ue({__name:"CostEstimator",setup(c,{expose:l}){l();const{t:n}=ye({useScope:"global",inheritLocale:!0}),e=Me(),g=k("quarterly"),p=k(!1),r=k("business"),o=k(5);Ue(r,i=>{o.value=i==="business"?5:1e4});const u=k("standard"),h=k(3),T=k(!1),v=k("steady"),w=k({"jina-embeddings":!0,"jina-clip":!1,"jina-colbert":!1,"jina-reranker":!1,ReaderLM:!1}),m=k("standard"),P=k(!1),I=k(!1),R=k(!1),E={usageTiers:{business:[{limit:5,price:0},{limit:10,price:2e3},{limit:25,price:5e3},{limit:50,price:1e4},{limit:100,price:2e4}],consumer:[{limit:1e4,price:0},{limit:5e4,price:2e3},{limit:1e5,price:5e3},{limit:5e5,price:1e4},{limit:1e6,price:2e4}]},modelPrices:{"jina-embeddings":0,"jina-clip":5e3,"jina-colbert":3e3,"jina-reranker":4e3,ReaderLM:2e3},supportTiers:{standard:0,premium:5e3,enterprise:15e3},features:{priorityResponse:2e3,dedicatedCSM:8e3,customModelTraining:1e4},basePrice:5e3},C=F(()=>{let i=E.basePrice;const D=E.usageTiers[r.value],O=D.find((U,N)=>o.value<=U.limit||N===D.length-1);if(i+=(O==null?void 0:O.price)||0,Object.entries(w.value).forEach(([U,N])=>{N&&E.modelPrices[U]>0&&(i+=E.modelPrices[U])}),i+=E.supportTiers[m.value],P.value&&(i+=E.features.priorityResponse),I.value&&(i+=E.features.dedicatedCSM),R.value&&(i+=E.features.customModelTraining),u.value==="poc")i=i*.4;else if(u.value==="department"){let U=.15;const N={limited:1,steady:.95,high:.9};T.value&&(i=i*1.1,U=.25),i=i*(1-U)*N[v.value]}return{monthly:i/3,quarterly:i,annual:i*4*.9,final:p.value?i*4*.9:i}}),x=[{label:n("estimator.labels.upTo",{count:5}),value:5},{label:n("estimator.labels.upTo",{count:10}),value:10},{label:n("estimator.labels.upTo",{count:25}),value:25},{label:n("estimator.labels.upTo",{count:50}),value:50},{label:n("estimator.labels.upTo",{count:100}),value:100}],q=[{label:n("estimator.labels.upTo",{count:1e4}),value:1e4},{label:n("estimator.labels.upTo",{count:5e4}),value:5e4},{label:n("estimator.labels.upTo",{count:1e5}),value:1e5},{label:n("estimator.labels.upTo",{count:5e5}),value:5e5},{label:n("estimator.labels.upTo",{count:1e6}),value:1e6}],M=F(()=>r.value==="business"&&o.value>100||r.value==="consumer"&&o.value>1e6),L=F({get(){return Object.entries(w.value).filter(([,i])=>i).map(([i])=>i)},set(i){for(let D of Object.keys(w.value))w.value[D]=!1;i.forEach(D=>{w.value[D]=!0})}}),b=["jina-embeddings","jina-clip","jina-colbert","jina-reranker","ReaderLM"],S=F(()=>[u.value==="standard"&&{title:n("estimator.messaging.standardFeatures"),icon:null,items:[{label:n("estimator.messaging.baseModelIncluded"),hasCheckmark:!0},{label:n("estimator.messaging.supportTierIncluded",{tier:n(`estimator.support.${m.value}`),hours:n("estimator.support.hoursQuarter",{hours:m.value==="standard"?10:m.value==="premium"?25:40})}),hasCheckmark:!0},{label:n(r.value==="business"?"estimator.messaging.usageTierBusiness":"estimator.messaging.usageTierConsumer",{count:o.value.toLocaleString()}),hasCheckmark:!0}]},L.value.length>1&&{title:n("estimator.messaging.selectedModels"),icon:"info",items:L.value.map(i=>({label:i}))},(P.value||I.value||R.value)&&{title:n("estimator.messaging.additionalFeatures"),icon:"info",items:[P.value&&{label:n("estimator.features.priority")},I.value&&{label:n("estimator.features.csm")},R.value&&{label:n("estimator.features.training")}].filter(Boolean)},u.value==="poc"&&{title:n("estimator.messaging.pocIncludes"),icon:"info",items:[{label:n("estimator.messaging.pocMetrics")},{label:n("estimator.messaging.pocCheckins")},{label:n("estimator.messaging.pocMigration")}]},u.value==="department"&&{title:n("estimator.messaging.deptIncludes"),icon:"info",items:[{label:n("estimator.messaging.deptReviews")},{label:n("estimator.messaging.deptRoadmap")},T.value&&{label:n("estimator.messaging.deptSponsor")},v.value==="high"&&{label:n("estimator.messaging.deptWorkshops")}].filter(Boolean)},M.value&&{title:n("estimator.messaging.enterpriseAlert"),icon:"warning",isAlert:!0,items:[]}].filter(Boolean));Ba(()=>{e.setLicenseConfig({contractType:u.value,pocDuration:h.value,hasBusinessSponsor:u.value==="department"?T.value:void 0,expectedGrowth:u.value==="department"?v.value:void 0,selectedModels:L.value,supportTier:m.value,priorityResponse:P.value,dedicatedCSM:I.value,customModelTraining:R.value,usageType:r.value,usageCount:o.value,paymentFrequency:p.value?"annual":"quarterly",price:C.value.final})});const s={t:n,userStore:e,paymentFrequency:g,isAnnual:p,usageType:r,usageCount:o,contractType:u,pocDuration:h,hasBusinessSponsor:T,expectedGrowth:v,selectedModels:w,supportTier:m,priorityResponse:P,dedicatedCSM:I,customModelTraining:R,prices:E,calculateTotalPrice:C,businessUsageOptions:x,consumerUsageOptions:q,showEnterpriseAlert:M,selectedModelsArray:L,allModelOptions:b,featuresSections:S};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}});function Yr(c,l,n,e,g,p){return f(),K(ie,{flat:"",class:"column no-wrap full-height"},{default:t(()=>[a(te,{horizontal:c.$q.screen.gt.sm,class:"full-height"},{default:t(()=>[a(qe,{class:"col"},{default:t(()=>[a(H,null,{default:t(()=>[a(V,null,{default:t(()=>[a(A,{class:"text-bold"},{default:t(()=>[y(_(e.t("estimator.models.title")),1)]),_:1}),a(A,{caption:""},{default:t(()=>[y(_(e.t("estimator.models.description")),1)]),_:1})]),_:1}),a(V,null,{default:t(()=>[a(Ee,{square:"",modelValue:e.selectedModelsArray,"onUpdate:modelValue":l[0]||(l[0]=r=>e.selectedModelsArray=r),multiple:"",options:e.allModelOptions,"use-chips":"","emit-value":"",filled:"",label:e.t("estimator.labels.selectAll")},null,8,["modelValue","label"])]),_:1})]),_:1}),a(H,null,{default:t(()=>[a(V,null,{default:t(()=>[a(A,{class:"text-bold"},{default:t(()=>[y(_(e.t("estimator.contractType.title")),1)]),_:1}),a(A,{caption:""},{default:t(()=>[y(_(e.t(`estimator.descriptions.contractType.${e.contractType}`)),1)]),_:1})]),_:1})]),_:1}),a(H,null,{default:t(()=>[a(Ge,{modelValue:e.contractType,"onUpdate:modelValue":l[1]||(l[1]=r=>e.contractType=r),options:[{label:e.t("estimator.contractType.standard"),value:"standard"},{label:e.t("estimator.contractType.department"),value:"department"}],type:"radio"},null,8,["modelValue","options"])]),_:1}),e.contractType==="poc"?(f(),K(H,{key:0},{default:t(()=>[a(V,null,{default:t(()=>[a(A,null,{default:t(()=>[y(_(e.t("estimator.poc.duration")),1)]),_:1}),a(A,{caption:""},{default:t(()=>[y(_(e.t("estimator.poc.description")),1)]),_:1})]),_:1}),a(V,null,{default:t(()=>[a(rt,{modelValue:e.pocDuration,"onUpdate:modelValue":l[2]||(l[2]=r=>e.pocDuration=r),min:3,max:6,step:1,label:"","label-always":""},null,8,["modelValue"])]),_:1})]),_:1})):B("",!0),e.contractType==="department"?(f(),Z(oe,{key:1},[a(H,{tag:"label"},{default:t(()=>[a(V,null,{default:t(()=>[a(A,{class:"text-bold"},{default:t(()=>[y(_(e.t("estimator.department.executionModel")),1)]),_:1}),a(A,{caption:""},{default:t(()=>[y(_(e.t("estimator.department.sponsorDescription")),1)]),_:1})]),_:1}),a(V,{side:""},{default:t(()=>[a(he,{modelValue:e.hasBusinessSponsor,"onUpdate:modelValue":l[3]||(l[3]=r=>e.hasBusinessSponsor=r),label:e.t("estimator.department.businessSponsor")},null,8,["modelValue","label"])]),_:1})]),_:1}),a(H,null,{default:t(()=>[a(V,null,{default:t(()=>[a(A,{class:"text-bold"},{default:t(()=>[y(_(e.t("estimator.department.growthTitle")),1)]),_:1})]),_:1})]),_:1}),a(H,null,{default:t(()=>[a(Ge,{modelValue:e.expectedGrowth,"onUpdate:modelValue":l[5]||(l[5]=r=>e.expectedGrowth=r),options:[{label:e.t("estimator.department.growth.limited"),value:"limited",caption:e.t("estimator.department.growth.limitedDesc")},{label:e.t("estimator.department.growth.steady"),value:"steady",caption:e.t("estimator.department.growth.steadyDesc")},{label:e.t("estimator.department.growth.high"),value:"high",caption:e.t("estimator.department.growth.highDesc")}],type:"radio"},{item:t(({opt:r,index:o})=>[Oe((f(),K(H,{tag:"label"},{default:t(()=>[a(V,{avatar:""},{default:t(()=>[a(ya,{modelValue:e.expectedGrowth,"onUpdate:modelValue":l[4]||(l[4]=u=>e.expectedGrowth=u),val:r.value},null,8,["modelValue","val"])]),_:2},1024),a(V,null,{default:t(()=>[a(A,null,{default:t(()=>[y(_(r.label),1)]),_:2},1024),a(A,{caption:""},{default:t(()=>[y(_(r.caption),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[Ua]])]),_:1},8,["modelValue","options"])]),_:1})],64)):B("",!0),a(H,null,{default:t(()=>[a(V,null,{default:t(()=>[a(A,{class:"text-bold"},{default:t(()=>[y(_(e.t("estimator.usage.title")),1)]),_:1}),a(A,{caption:""},{default:t(()=>[y(_(e.t(`estimator.descriptions.usage.${e.usageType}`)),1)]),_:1})]),_:1}),a(V,null,{default:t(()=>[a(Ee,{class:"full-width",square:"",modelValue:e.usageCount,"onUpdate:modelValue":l[6]||(l[6]=r=>e.usageCount=r),options:e.usageType==="business"?e.businessUsageOptions:e.consumerUsageOptions,label:e.usageType==="business"?e.t("estimator.usage.businessCount"):e.t("estimator.usage.consumerCount"),filled:"","emit-value":"","map-options":"","option-label":"label","option-value":"value"},null,8,["modelValue","options","label"])]),_:1})]),_:1}),a(H,null,{default:t(()=>[a(Ge,{modelValue:e.usageType,"onUpdate:modelValue":l[7]||(l[7]=r=>e.usageType=r),options:[{label:e.t("estimator.usage.business"),value:"business"},{label:e.t("estimator.usage.consumer"),value:"consumer"}],type:"radio"},null,8,["modelValue","options"])]),_:1}),a(H,null,{default:t(()=>[a(V,null,{default:t(()=>[a(A,{class:"text-bold"},{default:t(()=>[y(_(e.t("estimator.support.title")),1)]),_:1}),a(A,{caption:""},{default:t(()=>[y(_(e.t(`estimator.descriptions.support.${e.supportTier}`)),1)]),_:1})]),_:1}),a(V,null,{default:t(()=>[a(Ee,{modelValue:e.supportTier,"onUpdate:modelValue":l[8]||(l[8]=r=>e.supportTier=r),options:[{label:e.t("estimator.support.hoursQuarter",{hours:10}),value:"standard"},{label:e.t("estimator.support.hoursQuarter",{hours:25}),value:"premium"},{label:e.t("estimator.support.hoursQuarter",{hours:40}),value:"enterprise"}],filled:"",square:"","emit-value":"","map-options":"","option-label":"label","option-value":"value",label:e.t("estimator.labels.selectSupport")},null,8,["modelValue","options","label"])]),_:1})]),_:1}),e.contractType!=="poc"?(f(),Z(oe,{key:2},[a(H,null,{default:t(()=>[a(A,{class:"text-bold"},{default:t(()=>[y(_(e.t("estimator.features.title")),1)]),_:1})]),_:1}),a(H,{tag:"label"},{default:t(()=>[a(V,null,{default:t(()=>[a(A,null,{default:t(()=>[y(_(e.t("estimator.features.priority")),1)]),_:1}),a(A,{caption:""},{default:t(()=>[y(_(e.t("estimator.descriptions.features.priority")),1)]),_:1})]),_:1}),a(V,{side:""},{default:t(()=>[a(he,{modelValue:e.priorityResponse,"onUpdate:modelValue":l[9]||(l[9]=r=>e.priorityResponse=r)},null,8,["modelValue"])]),_:1})]),_:1}),a(H,{tag:"label"},{default:t(()=>[a(V,null,{default:t(()=>[a(A,null,{default:t(()=>[y(_(e.t("estimator.features.csm")),1)]),_:1}),a(A,{caption:""},{default:t(()=>[y(_(e.t("estimator.descriptions.features.csm")),1)]),_:1})]),_:1}),a(V,{side:""},{default:t(()=>[a(he,{modelValue:e.dedicatedCSM,"onUpdate:modelValue":l[10]||(l[10]=r=>e.dedicatedCSM=r)},null,8,["modelValue"])]),_:1})]),_:1}),a(H,{tag:"label"},{default:t(()=>[a(V,null,{default:t(()=>[a(A,null,{default:t(()=>[y(_(e.t("estimator.features.training")),1)]),_:1}),a(A,{caption:""},{default:t(()=>[y(_(e.t("estimator.descriptions.features.training")),1)]),_:1})]),_:1}),a(V,{side:""},{default:t(()=>[a(he,{modelValue:e.customModelTraining,"onUpdate:modelValue":l[11]||(l[11]=r=>e.customModelTraining=r)},null,8,["modelValue"])]),_:1})]),_:1})],64)):B("",!0)]),_:1}),a(se,{vertical:c.$q.screen.gt.sm},null,8,["vertical"]),a(ie,{class:"col-4 bg-mixed-200",flat:"",square:""},{default:t(()=>[a(te,{class:"q-pa-none"},{default:t(()=>[a(qe,{dense:""},{default:t(()=>[a(H,{class:"q-my-lg"},{default:t(()=>[a(V,null,{default:t(()=>[a(A,{overline:""},{default:t(()=>[y(_(e.t("estimator.pricing.title")),1)]),_:1}),a($e,{name:"list2"},{default:t(()=>[(f(),K(A,{key:e.calculateTotalPrice.final,class:"text-h5 q-py-md"},{default:t(()=>[y(_(e.contractType==="poc"?e.t("estimator.pricing.oneTime",{price:Math.round(e.calculateTotalPrice.monthly*e.pocDuration).toLocaleString()}):e.t("estimator.pricing.frequency",{price:e.calculateTotalPrice[e.isAnnual?"final":"quarterly"].toLocaleString(),frequency:e.t(`estimator.pricing.${e.isAnnual?"annual":"quarterly"}`)})),1)]),_:1}))]),_:1}),a(A,{caption:"",class:"text-dim"},{default:t(()=>[y(_(e.t("estimator.pricing.disclaimer")),1)]),_:1})]),_:1})]),_:1}),a(H,{tag:"label"},{default:t(()=>[a(V,null,{default:t(()=>[a(A,{class:"text-bold"},{default:t(()=>[y(_(e.t("estimator.payment.title")),1)]),_:1}),a(A,{caption:""},{default:t(()=>[y(_(e.t(`estimator.descriptions.payment.${e.isAnnual?"annual":"quarterly"}`)),1)]),_:1})]),_:1}),a(V,{side:""},{default:t(()=>[a(he,{modelValue:e.isAnnual,"onUpdate:modelValue":l[12]||(l[12]=r=>e.isAnnual=r),label:e.t("estimator.payment.annual"),"checked-icon":"percent"},null,8,["modelValue","label"])]),_:1})]),_:1}),a(H,null,{default:t(()=>[a(J,{square:"",outline:"",icon:"handshake",label:e.t("estimator.pricing.cta"),padding:"lg",class:"full-width q-my-lg",to:"/contact-sales?license-config=true"},null,8,["label"])]),_:1}),a(se),(f(!0),Z(oe,null,me(e.featuresSections,r=>(f(),Z(oe,{key:r.title},[a(A,{header:""},{default:t(()=>[y(_(r.title),1)]),_:2},1024),(f(!0),Z(oe,null,me(r.items,(o,u)=>(f(),K(H,{key:u},{default:t(()=>[a(V,{side:""},{default:t(()=>[a(ae,{name:"task_alt",size:"xs"})]),_:1}),a(V,null,{default:t(()=>[a(A,null,{default:t(()=>[y(_(o.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))],64))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["horizontal"])]),_:1})}const Xr=ce(zr,[["render",Yr],["__file","CostEstimator.vue"]]),Wr=ue({__name:"ReaderDecideComponent",props:{originalURL:{type:String,default:""},disableQA:{type:Boolean,default:!1},disableOriginalURL:{type:Boolean,default:!1}},setup(c,{expose:l}){l();const{t:n}=ye({useScope:"global"}),e=Se(),g=Te(),p=k(!0),r=k(!0),o=k(!1),u=c,h=k(u.originalURL||"https://jina.ai/news/a-practical-guide-to-implementing-deepsearch-deepresearch"),T=k(["engine_default","engine_default_timeout","engine_default_markdown","engine_default_html","browser","direct","cf_browser"]),v=k(T.value.reduce((s,i)=>(s[i]={content:"",timing:null,contentLength:null,isLoading:!1},s),{})),w=k(!1),m=s=>{const i=`https://r.jina.ai/${h.value}`,D=p.value?`"Authorization: Bearer ${e.apiKey}"`:"",O=r.value?'"X-No-Cache: true"':"";let U=`\`\`\`bash
curl ${i}`,N=!1;return s==="engine_default_markdown"?(U+=` \\
  -H "X-Return-Format: markdown"`,N=!0):s==="engine_default_html"?(U+=` \\
  -H "X-Return-Format: html"`,N=!0):s==="engine_default_timeout"?(U+=` \\
  -H "X-Timeout: 5"`,N=!0):s==="browser"?(U+=` \\
  -H "X-Engine: browser"`,N=!0):s==="cf_browser"?(U+=` \\
  -H "X-Engine: cf-browser-rendering"`,N=!0):s==="direct"&&(U+=` \\
  -H "X-Engine: direct"`,N=!0),r.value&&(U+=`${N?"":" \\"}
  -H ${O}`,N=!0),p.value&&(U+=`${N?"":" \\"}
  -H ${D}`),U+="\n```",U},P=s=>{const i={};return p.value&&(i.Authorization=`Bearer ${e.apiKey}`),r.value&&(i["X-No-Cache"]="true"),s==="engine_default_timeout"?i["X-Timeout"]="5":s==="engine_default_html"?i["X-Return-Format"]="html":s==="engine_default_markdown"?i["X-Return-Format"]="markdown":s==="browser"?i["X-Engine"]="browser":s==="cf_browser"?i["X-Engine"]="cf-browser-rendering":s==="direct"&&(i["X-Engine"]="direct"),i},I=async s=>{const i=`https://r.jina.ai/${h.value}`;v.value[s].isLoading=!0;const D=performance.now();try{const O=await fetch(i,{headers:P(s)}),U=performance.now();if(v.value[s].timing=Math.round(U-D),!O.ok){v.value[s].content=await O.json();return}const N=await O.text();v.value[s].contentLength=N.length,v.value[s].content=N}catch(O){v.value[s].content=O instanceof Error?O.message:String(O),v.value[s].contentLength=0,v.value[s].timing=0}finally{v.value[s].isLoading=!1}},R=async()=>{o.value=!0,w.value=!0,T.value.forEach(s=>{v.value[s]={content:"",timing:null,contentLength:null,isLoading:!0}});try{await Promise.all(T.value.map(s=>I(s)))}finally{w.value=!1}},E=F(()=>Object.values(v.value).some(s=>s.timing!==null)),C=F(()=>{let s=0;for(const i of T.value)v.value[i].timing!==null&&v.value[i].timing>s&&(s=v.value[i].timing);return s>0?s:1}),x=F(()=>{let s=0;for(const i of T.value)v.value[i].contentLength!==null&&v.value[i].contentLength>s&&(s=v.value[i].contentLength);return s>0?s:1}),S={t:n,embeddingStore:e,$q:g,useAuth:p,useNoCache:r,fetchWasClicked:o,props:u,originalURL:h,paramsGroup:T,results:v,isLoading:w,getReaderCode:m,getHeaders:P,fetchForParam:I,fetchAllURLs:R,hasResults:E,maxTiming:C,maxContentLength:x,getTimingPercentage:s=>v.value[s].timing===null?0:v.value[s].timing/C.value,getLengthPercentage:s=>v.value[s].contentLength===null?0:v.value[s].contentLength/x.value,getBarColor:s=>({engine_default:"primary",engine_default_timeout:"info",engine_default_markdown:"warning",engine_default_html:"negative",browser:"secondary",direct:"accent",cf_browser:"positive"})[s]||"primary",formatBytes:s=>{if(s===0)return"0 Bytes";const i=1024,D=["Bytes","KB","MB","GB"],O=Math.floor(Math.log(s)/Math.log(i));return parseFloat((s/Math.pow(i,O)).toFixed(2))+" "+D[O]},get QInput(){return De}};return Object.defineProperty(S,"__isScriptSetup",{enumerable:!1,value:!0}),S}}),Jr={class:"row q-mt-sm"},Zr={class:"text-h6 q-mb-md"},$r={class:"q-mb-lg"},eo={class:"text-subtitle2 q-mb-sm"},ao={class:"col-3 text-right q-pr-md"},to={class:"col-8"},ro={class:"absolute-full flex flex-center"},oo={class:"text-subtitle2 q-mb-sm"},lo={class:"col-3 text-right q-pr-md"},no={class:"col-8"},so={class:"absolute-full flex flex-center"},io={class:"row items-center"},uo={class:"overflow-auto q-px-xs"};function co(c,l,n,e,g,p){const r=Na("q-markdown");return f(),K(ie,{square:"",flat:"",class:"column no-wrap full-height"},{default:t(()=>[a(te,{class:"q-pa-none"},{default:t(()=>[a(e.QInput,{filled:"",modelValue:e.originalURL,"onUpdate:modelValue":l[0]||(l[0]=o=>e.originalURL=o),label:e.t("reader.demo.your_url"),type:"url",loading:e.isLoading},null,8,["modelValue","label","loading"]),W("div",Jr,[a(he,{modelValue:e.useAuth,"onUpdate:modelValue":l[1]||(l[1]=o=>e.useAuth=o),label:e.t("reader.demo.headers.auth_token"),size:"sm",icon:"o_key",class:"q-mr-md"},null,8,["modelValue","label"]),a(he,{modelValue:e.useNoCache,"onUpdate:modelValue":l[2]||(l[2]=o=>e.useNoCache=o),label:e.t("reader.demo.headers.no_cache"),size:"sm",icon:"o_cached"},null,8,["modelValue","label"])])]),_:1}),a(se),a(te,{horizontal:e.$q.screen.gt.sm,class:"q-pa-none"},{default:t(()=>[(f(!0),Z(oe,null,me(e.paramsGroup,(o,u)=>(f(),Z(oe,{key:o},[a(ie,{class:"col q-pa-none",flat:"",square:""},{default:t(()=>[a(H,null,{default:t(()=>[a(V,null,{default:t(()=>[a(A,{lines:"1"},{default:t(()=>[y(_(e.t(`reader.demo.headers.${o}`)),1)]),_:2},1024),a(A,{caption:"",class:"text-dim",lines:"2"},{default:t(()=>[y(_(e.t(`reader.demo.headers.${o}_explain`)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),a(r,{src:e.getReaderCode(o),"no-line-numbers":"","show-copy":"","copy-icon":"content_copy",class:"overflow-auto"},null,8,["src"])]),_:2},1024),u<e.paramsGroup.length-1?(f(),K(se,{key:0,vertical:e.$q.screen.gt.sm},null,8,["vertical"])):B("",!0)],64))),128))]),_:1},8,["horizontal"]),a(se),a(J,{square:"",label:e.t("reader.demo.fetch"),class:"full-width",icon:"download",onClick:e.fetchAllURLs,flat:"",padding:"md",loading:e.isLoading},null,8,["label","loading"]),e.fetchWasClicked?(f(),Z(oe,{key:0},[a(se),e.hasResults?(f(),K(te,{key:0},{default:t(()=>[W("div",Zr,_(e.t("reader.demo.performance_compare")),1),W("div",$r,[W("div",eo,_(e.t("reader.demo.response_time")),1),(f(!0),Z(oe,null,me(e.paramsGroup,o=>(f(),Z("div",{class:"row items-center",key:o+"-time"},[W("div",ao,_(e.t(`reader.demo.headers.${o}`)),1),W("div",to,[a(Le,{value:e.getTimingPercentage(o),size:"25px",color:e.getBarColor(o),class:"q-mb-xs"},{default:t(()=>[W("div",ro,[e.results[o].timing!==null?(f(),K(ua,{key:0,color:"white","text-color":"black"},{default:t(()=>[y(_(e.results[o].timing)+"ms ",1)]),_:2},1024)):B("",!0)])]),_:2},1032,["value","color"])])]))),128))]),W("div",null,[W("div",oo,_(e.t("reader.demo.content_length")),1),(f(!0),Z(oe,null,me(e.paramsGroup,o=>(f(),Z("div",{class:"row items-center",key:o+"-length"},[W("div",lo,_(e.t(`reader.demo.headers.${o}`)),1),W("div",no,[a(Le,{value:e.getLengthPercentage(o),size:"25px",color:e.getBarColor(o),class:"q-mb-xs"},{default:t(()=>[W("div",so,[e.results[o].contentLength!==null?(f(),K(ua,{key:0,color:"white","text-color":"black"},{default:t(()=>[y(_(e.formatBytes(e.results[o].contentLength)),1)]),_:2},1024)):B("",!0)])]),_:2},1032,["value","color"])])]))),128))])]),_:1})):B("",!0),e.hasResults?(f(),K(se,{key:1})):B("",!0),a(te,{horizontal:e.$q.screen.gt.sm,class:"q-pa-none overflow-auto"},{default:t(()=>[(f(!0),Z(oe,null,me(e.paramsGroup,(o,u)=>(f(),Z(oe,{key:o},[a(te,{class:"col column overflow-auto no-wrap q-pa-none"},{default:t(()=>[W("div",io,[a(ve,{label:e.t(`reader.demo.headers.${o}`),size:"xs",outline:"",style:{"border-radius":"0"},class:"text-dim"},null,8,["label"]),e.results[o].timing!==null?(f(),K(ve,{key:0,size:"xs",outline:"",style:{"border-radius":"0"},class:"text-dim",icon:"timer"},{default:t(()=>[y(_(e.results[o].timing)+"ms ",1)]),_:2},1024)):B("",!0),e.results[o].contentLength!==null?(f(),K(ve,{key:1,size:"xs",outline:"",style:{"border-radius":"0"},class:"text-dim",icon:"straighten"},{default:t(()=>[y(_(e.formatBytes(e.results[o].contentLength)),1)]),_:2},1024)):B("",!0)]),e.isLoading&&!e.results[o].content?(f(),Z(oe,{key:0},me([100,300,200,200],h=>a(Ot,{type:"text",width:`${h}px`,key:h},null,8,["width"])),64)):B("",!0),W("pre",uo,""+_(e.results[o].content)+`
          `,1)]),_:2},1024),u<e.paramsGroup.length-1?(f(),K(se,{key:0,vertical:e.$q.screen.gt.sm},null,8,["vertical"])):B("",!0)],64))),128))]),_:1},8,["horizontal"]),a(se)],64)):B("",!0)]),_:1})}const mo=ce(Wr,[["render",co],["__file","ReaderDecideComponent.vue"]]),_o=ue({__name:"SeFoPage",setup(c,{expose:l}){l();const n={[Y.PRICING]:tr,[Y.CODE]:ot,[Y.RERANK_CODE]:lt,[Y.READER_CODE]:nt,[Y.CLASSIFY]:st,[Y.TOKENIZER]:it,[Y.INTEGRATIONS]:dt,[Y.TEST]:ut,[Y.SEARCH]:na,[Y.VISUALIZE]:na,[Y.BULK]:ct,[Y.ONPREM]:null,[Y.KEY_MANAGER]:Rr,[Y.AVATAR]:Ar,[Y.GROUNDING]:Fr,[Y.DEEPSEARCH]:mt,[Y.LICENSE_CONFIG]:Xr,[Y.CHAT]:At,[Y.RATE_LIMIT]:ht,[Y.CONTACT_SALES]:Ct,[Y.LLM_SERP]:Qr,[Y.ENGINE_SPEED_TEST]:mo},e=Te(),g=ja(),p=Fa(),{t:r}=ye({useScope:"global"}),o=Se(),{apiKey:u,classifiers:h,turnstileState:T}=_e(o),v=Me(),{user:w}=_e(v),{models:m}=It();g.params.tab===Y.CHAT?da({page:"deepsearch.chat_ui",banner:"banner-deepsearch.png",url:"api-dashboard/deepsearch-chat"}):da({page:"key_manager",banner:"banner-api.png",url:"api-dashboard"});const P=k(la(g.params.tab instanceof Array?g.params.tab[0]:g.params.tab));Ue(()=>g.params.tab,C=>{const x=C instanceof Array?C[0]:C;!w.value.uid&&x===Y.KEY_MANAGER&&p.push({params:{tab:Y.READER_CODE},query:g.query}),P.value=x}),Ae(()=>{navigator.userAgent.toLowerCase().includes("headless")||I()});async function I(){console.log("checkURLForParam");const C=new URLSearchParams(window.location.search);if(C.has("login")&&!w.value.uid){const x=new URL(window.location.href);x.searchParams.delete("login"),window.history.pushState({},"",x),e.dialog({component:Tt,persistent:!0})}if(C.has("sui")){const x=la(C.get("sui")||"embedding");if(P.value!==x)p.replace({params:{tab:x},query:{...g.query,sui:void 0}});else{const q=new URL(window.location.href);q.searchParams.delete("sui"),window.history.pushState({},"",q)}}if(C.has("task")){o.task=C.get("task")||"";const x=new URL(window.location.href);x.searchParams.delete("task"),window.history.pushState({},"",x)}if(C.has("model")){const x=C.get("model"),q=x&&m.value.find(M=>M.name===x);if(q&&P.value!==Y.CLASSIFY){const M=q.metadata.endpoints||[];[Y.CODE,Y.RERANK_CODE].includes(P.value)||(M.some(L=>["embedding","multi-vector"].includes(L))?P.value=Y.CODE:M.includes("rank")&&(P.value=Y.RERANK_CODE))}else h.value.length===0&&await o.getClassifiers(u.value),h.value.find(L=>L.classifier_id===x)&&(P.value=Y.CLASSIFY)}}const E={COMPONENTS:n,$q:e,route:g,router:p,t:r,embeddingStore:o,apiKey:u,classifiers:h,turnstileState:T,userStore:v,user:w,allModels:m,currentTab:P,checkURLForParam:I,openBrowserInfoDialog:()=>{e.dialog({component:_t,componentProps:{state:T.value}})},get EMBEDDING_TABS(){return Y},get TurnstileState(){return Ya}};return Object.defineProperty(E,"__isScriptSetup",{enumerable:!1,value:!0}),E}}),fo={key:0},go={key:1},vo={class:"column no-wrap full-width",style:{"flex-grow":"1"}};function yo(c,l,n,e,g,p){return f(),K(Qa,{class:"row"},{default:t(()=>[e.turnstileState===e.TurnstileState.ERROR||e.turnstileState===e.TurnstileState.UNSUPPORTED?(f(),K(Ha,{key:0,"inline-actions":"",class:"text-white bg-negative full-width"},{action:t(()=>[a(J,{square:"",outline:"",class:"q-mr-sm",label:e.t("landing_page.view_browser_info"),onClick:e.openBrowserInfoDialog},null,8,["label"]),a(J,{square:"",outline:"",to:"/contact-sales",label:e.t("landing_page.contact_sales")},null,8,["label"])]),default:t(()=>[a(ae,{name:"report_problem",size:"sm",class:"q-mr-sm"}),e.turnstileState===e.TurnstileState.ERROR?(f(),Z("span",fo,_(e.t("embedding.turnstile_error")),1)):e.turnstileState===e.TurnstileState.UNSUPPORTED?(f(),Z("span",go,_(e.t("embedding.turnstile_unsupported")),1)):B("",!0),y(" "+_(e.t("embedding.mistake_contact"))+" ",1)]),_:1})):B("",!0),W("div",vo,[(f(),K(Ga(e.COMPONENTS[e.currentTab]),{asVisualizer:e.currentTab===e.EMBEDDING_TABS.VISUALIZE,maximizedWindow:!0},null,8,["asVisualizer"]))])]),_:1})}const dl=ce(_o,[["render",yo],["__file","SeFoPage.vue"]]);export{dl as default};
