import{cY as L,s as B,m as u,p as i,K as O,au as V,aw as J,w as T,W as K,F as U,ay as W,c5 as Y,q as _,b6 as j,J as G}from"./index-Esfjfd_6.js";import{t as H}from"./toInteger-L7RUAku6.js";import{u as R,a as X,b as Z,c as z}from"./use-panel-CRK9e-_h.js";import{u as p,a as ee,b as ne}from"./use-fullscreen-B9ct3RBh.js";function ae(e,n,t){var r=-1,a=e.length;n<0&&(n=-n>a?0:a+n),t=t>a?a:t,t<0&&(t+=a),a=n>t?0:t-n>>>0,n>>>=0;for(var c=Array(a);++r<a;)c[r]=e[r+n];return c}var te=Math.ceil,oe=Math.max;function ve(e,n,t){(t?L(e,n,t):n===void 0)?n=1:n=oe(H(n),0);var r=e==null?0:e.length;if(!r||n<1)return[];for(var a=0,c=0,v=Array(te(r/n));a<r;)v[c++]=ae(e,a,a+=n);return v}const ge=B({name:"QCarouselSlide",props:{...R,imgSrc:String},setup(e,{slots:n}){const t=u(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>i("div",{class:"q-carousel__slide",style:t.value},O(n.default))}}),le=["top","right","bottom","left"],ie=["regular","flat","outline","push","unelevated"],me=B({name:"QCarousel",props:{...V,...X,...p,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>ie.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>le.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...ee,...Z],setup(e,{slots:n}){const{proxy:{$q:t}}=G(),r=J(e,t);let a=null,c;const{updatePanelsList:v,getPanelContent:M,panelDirectives:Q,goToPanel:q,previousPanel:x,nextPanel:C,getEnabledPanels:A,panelIndex:g}=z(),{inFullscreen:b}=ne(),D=u(()=>b.value!==!0&&e.height!==void 0?{height:e.height}:{}),m=u(()=>e.vertical===!0?"vertical":"horizontal"),S=u(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),F=u(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(b.value===!0?" fullscreen":"")+(r.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${m.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${S.value}`:"")),P=u(()=>{const o=[e.prevIcon||t.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||t.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&t.lang.rtl===!0?o.reverse():o}),w=u(()=>e.navigationIcon||t.iconSet.carousel.navigationIcon),N=u(()=>e.navigationActiveIcon||w.value),d=u(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));T(()=>e.modelValue,()=>{e.autoplay&&f()}),T(()=>e.autoplay,o=>{o?f():a!==null&&(clearTimeout(a),a=null)});function f(){const o=Y(e.autoplay)===!0?Math.abs(e.autoplay):5e3;a!==null&&clearTimeout(a),a=setTimeout(()=>{a=null,o>=0?C():x()},o)}K(()=>{e.autoplay&&f()}),U(()=>{a!==null&&clearTimeout(a)});function y(o,s){return i("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${o} q-carousel__navigation--${S.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[i("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},A().map(s))])}function E(){const o=[];if(e.navigation===!0){const s=n["navigation-icon"]!==void 0?n["navigation-icon"]:l=>i(_,{key:"nav"+l.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${l.active===!0?"":"in"}active`,...l.btnProps,onClick:l.onClick}),h=c-1;o.push(y("buttons",(l,I)=>{const k=l.props.name,$=g.value===I;return s({index:I,maxIndex:h,name:k,active:$,btnProps:{icon:$===!0?N.value:w.value,size:"sm",...d.value},onClick:()=>{q(k)}})}))}else if(e.thumbnails===!0){const s=e.controlColor!==void 0?` text-${e.controlColor}`:"";o.push(y("thumbnails",h=>{const l=h.props;return i("img",{key:"tmb#"+l.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${l.name===e.modelValue?"":"in"}active`+s,src:l.imgSrc||l["img-src"],onClick:()=>{q(l.name)}})}))}return e.arrows===!0&&g.value>=0&&((e.infinite===!0||g.value>0)&&o.push(i("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${m.value} absolute flex flex-center`},[i(_,{icon:P.value[0],...d.value,onClick:x})])),(e.infinite===!0||g.value<c-1)&&o.push(i("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${m.value} absolute flex flex-center`},[i(_,{icon:P.value[1],...d.value,onClick:C})]))),j(n.control,o)}return()=>(c=v(n),i("div",{class:F.value,style:D.value},[W("div",{class:"q-carousel__slides-container"},M(),"sl-cont",e.swipeable,()=>Q.value)].concat(E())))}});export{me as Q,ge as a,ve as c};
