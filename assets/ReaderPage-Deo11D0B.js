import{Q as T,a as oe}from"./QBtnGroup-D1BNgGdy.js";import{h as de,ab as ce,i as c,j as me,O as ge,N as ye,ah as we,u as _e,aZ as ve,aA as xe,X as ue,ba as qe,Y as l,Z as h,$ as r,a0 as t,a1 as w,a4 as d,l as _,am as g,a3 as v,aa as C,ag as q,a9 as m,a8 as a,a7 as O,a2 as F,a5 as be,aH as ne,a6 as A,an as ke,aF as se,aG as le}from"./index-ClBFMjZH.js";import{Q as Se}from"./QPage-C8BP5ChY.js";import{u as Te}from"./useMetaTags-47qNEdL9.js";import{T as Ce}from"./TitleBlock-DCaZnKt0.js";import{F as Re}from"./FAQComponent-DDdXYzz8.js";import{T as Be,b as N,R as je,S as Le}from"./SeFoComponent-dOjcmDfL.js";import{Q as I}from"./QTooltip-DC5dJ6cF.js";import{a as ie}from"./QLinearProgress-DcQujPA8.js";import{Q as Ae}from"./finetune-BvQidcIW.js";import{c as Ie}from"./copy-to-clipboard-C6VBLmyp.js";import{u as Qe}from"./embedding-DDZWx5lU.js";import{P as He}from"./PricingComponent-B4tbG8lE.js";import{H as Ue}from"./H2TitleBlock-B-ovJiDb.js";import{c as ze}from"./QForm-C2wW4OWD.js";import"./QBadge-DYp1qKxR.js";import"./QItemLabel-vXQvrdVi.js";import"./QList-WiKkhMpm.js";import"./QTable-C0t6jAku.js";import"./use-fullscreen-Cl-yTz8x.js";import"./QExpansionItem-MGtNQdMj.js";import"./QTabs-B0GkM0ZN.js";import"./QResizeObserver-Cz5SIqWw.js";import"./format-DA6KW1LA.js";import"./position-engine-CqraWon5.js";import"./QSpace-CcvYydkM.js";import"./orderBy-Bq9YKWFM.js";import"./use-meta-DCU5JKYr.js";import"./blogs-BysQG5p8.js";const De=de({__name:"ReaderSearchDemoComponent",props:{originalURL:{type:String,default:""},disableQA:{type:Boolean,default:!1},disableOriginalURL:{type:Boolean,default:!1}},setup(R,{expose:o}){o();const{t:y}=ce({useScope:"global"}),e=Qe(),u=c(""),b=c(!1),i=c(!1),n=_e(),x=["When was Jina AI founded?","What did Elon Musk say about Open AI recently?","When will the next SpaceX launch be?","What is the market cap of Apple today?","Who will win 2024 US presidential election?","Who is playing in the US Open final?"],B=()=>x[Math.floor(Math.random()*x.length)],Q=c(null);let p=null;const W=R,H=c(W.originalURL||B()),G=me(()=>`https://s.jina.ai/${encodeURIComponent(H.value)}`),K=c(null),j=c(""),k=c(""),U=c(!1),z=c(!1),D=c(!1),P=c(!1),E=async s=>{var ee,te,ae;if(!await((ee=K.value)==null?void 0:ee.validate()))return Promise.reject();const M={parameters:{question:H.value,context:s?"":u.value.slice(0,3e3)}};s?(j.value="",U.value=!0,D.value=!0):(k.value="",z.value=!0,P.value=!0);const $="https://api.promptperfect.jina.ai/ERK3nqviaFRyfGbkBsXD";try{const f=await fetch($,{headers:{"content-type":"application/json"},body:JSON.stringify(M),method:"POST"});if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);if((te=f.headers.get("content-type"))!=null&&te.includes("text/event-stream")){if(f.body){const L=f.body.getReader(),pe=new TextDecoder;for(;;){const{done:fe,value:re}=await L.read();if(fe){s?D.value=!1:P.value=!1;break}re&&pe.decode(re).split(`

`).forEach(he=>{const V=he.replace(/data: /g,"");V&&(s?j.value+=V:k.value+=V)})}}}else if((ae=f.headers.get("content-type"))!=null&&ae.includes("application/json")){const L=(await f.json()).data;s?j.value=L:k.value=L}else throw new Error("Unknown response type")}catch(f){n.notify({color:"negative",message:y("landing_page.error",{message:f}),icon:"report_problem"})}finally{s?U.value=!1:z.value=!1}},X=async()=>{i.value=!0,k.value="";try{const s=await fetch(G.value,{method:"GET",headers:{Authorization:`Bearer ${e.apiKey}`}});if(!s.ok)throw u.value=`\`\`\`json
${await s.json()}
\`\`\``,new Error(`Request failed with status ${s.status}`);const S=await s.text();u.value=`\`\`\`plaintext
${S}
\`\`\``}catch(s){n.notify({message:s.message,color:"negative"})}finally{i.value=!1}},J=async()=>{await Promise.all([X(),E(!0)]),await E(!1)},Y=()=>{var S;const s=((S=Q.value)==null?void 0:S.$el)||Q.value;s instanceof HTMLElement?(p=new IntersectionObserver(M=>{M[0].isIntersecting&&(J().then(()=>{}),p==null||p.disconnect())},{root:null,threshold:.1}),p.observe(s)):console.error("Element is not an HTMLElement:",s)};ge(()=>{ye(()=>{setTimeout(()=>{Y()},100)})}),we(()=>{p&&p.disconnect()});const Z={t:y,embeddingStore:e,readerResult:u,isRawBusy:b,isReaderBusy:i,$q:n,randomURLs:x,randomURL:B,componentRef:Q,get observer(){return p},set observer(s){p=s},props:W,originalURL:H,readerURL:G,questionRef:K,rawAnswerChunks:j,readerAnswerChunks:k,rawAnswerIsBusy:U,readerAnswerIsBusy:z,rawAnswerIsStreaming:D,readerAnswerIsStreaming:P,askQuestion:E,fetchReaderURL:X,fetchBothURL:J,initIntersectionObserver:Y,get copyToClipboard(){return Ie},get QInput(){return ve},TypingText:Be,get redirect(){return xe}};return Object.defineProperty(Z,"__isScriptSetup",{enumerable:!1,value:!0}),Z}}),Pe={class:"text-caption text-bold text-dim"},Ee={class:"text-caption text-bold text-dim"},Me={class:"text-caption text-bold text-dim"};function Ve(R,o,y,e,u,b){const i=qe("q-markdown");return l(),h(be,{bordered:"",flat:"",square:"",class:"col-12 col-md-10",ref:"componentRef"},{default:r(()=>[t(d,{horizontal:e.$q.screen.gt.sm},{default:r(()=>[y.disableOriginalURL?C("",!0):(l(),w(v,{key:0},[t(d,{class:"col"},{default:r(()=>[t(e.QInput,{modelValue:e.originalURL,"onUpdate:modelValue":o[1]||(o[1]=n=>e.originalURL=n),label:e.t("reader.demo.your_query"),type:"url",loading:e.isRawBusy,hint:e.t("reader.demo.your_query_hint"),ref:"questionRef"},{prepend:r(()=>[t(_,{dense:"",square:"",flat:"",icon:"casino",onClick:o[0]||(o[0]=n=>e.originalURL=e.randomURL())})]),_:1},8,["modelValue","label","loading","hint"])]),_:1}),t(g,{vertical:e.$q.screen.gt.sm},null,8,["vertical"])],64)),t(d,{class:"col"},{default:r(()=>[t(e.QInput,{"model-value":`https://s.jina.ai/${e.originalURL}`,label:e.t("reader.demo.reader_url"),readonly:"",loading:e.isReaderBusy,"bottom-slots":""},{append:r(()=>[t(_,{flat:"",dense:"",square:"",icon:"content_copy",onClick:o[2]||(o[2]=n=>e.copyToClipboard(e.readerURL))},{default:r(()=>[t(I,null,{default:r(()=>[q(m(e.t("copy")),1)]),_:1})]),_:1}),t(_,{flat:"",dense:"",square:"",icon:"open_in_new",onClick:o[3]||(o[3]=n=>e.redirect(e.readerURL))},{default:r(()=>[t(I,null,{default:r(()=>[q(m(e.t("demo.open")),1)]),_:1})]),_:1})]),hint:r(()=>[q(m(e.t("reader.demo.reader_search_hint")),1)]),_:1},8,["model-value","label","loading"])]),_:1})]),_:1},8,["horizontal"]),t(g),t(_,{square:"",label:e.t("reader.demo.ask_llm"),class:"full-width",icon:"contact_support",onClick:e.fetchBothURL,padding:"md"},null,8,["label"]),e.readerAnswerIsBusy||e.rawAnswerIsBusy||e.isReaderBusy||e.readerAnswerChunks||e.rawAnswerChunks?(l(),w(v,{key:0},[t(g),t(d,{horizontal:e.$q.screen.gt.sm,class:"q-pa-none"},{default:r(()=>[t(d,{class:"col answer-panel overflow-auto"},{default:r(()=>[a("span",Pe,m(e.t("reader.demo.ask_llm_directly")),1),e.rawAnswerIsBusy&&!e.rawAnswerChunks?(l(),h(d,{key:0},{default:r(()=>[t(O,{name:"img:https://promptperfect.jina.ai/PromptPerfect-dark.svg",class:"q-mr-sm"},{default:r(()=>[t(I,null,{default:r(()=>[q(m(e.t("landing_page.powered_by_promptperfect")),1)]),_:1})]),_:1}),(l(),w(v,null,F([0,1,2,3],n=>t(N,{key:n,class:"q-my-xs",width:n>0?"":"100px",type:"text"},null,8,["width"])),64))]),_:1})):(l(),w(v,{key:1},[t(d,{class:"q-pa-lg"},{default:r(()=>[t(e.TypingText,{text:e.rawAnswerChunks,loading:e.rawAnswerIsStreaming,"show-copy":!1},null,8,["text","loading"])]),_:1}),e.rawAnswerIsStreaming?(l(),h(ie,{key:0,class:"absolute-bottom",indeterminate:""})):C("",!0)],64))]),_:1}),t(g,{vertical:e.$q.screen.gt.sm},null,8,["vertical"]),t(d,{class:"col answer-panel overflow-auto"},{default:r(()=>[a("span",Ee,m(e.t("reader.demo.reader_response")),1),e.isReaderBusy?(l(),h(d,{key:0},{default:r(()=>[(l(),w(v,null,F([100,300,200,200],n=>t(N,{type:"text",width:`${n}px`,key:n},null,8,["width"])),64))]),_:1})):(l(),h(i,{key:1,src:e.readerResult,"copy-icon":"content_copy","no-line-numbers":""},null,8,["src"]))]),_:1}),t(g,{vertical:e.$q.screen.gt.sm},null,8,["vertical"]),t(d,{class:"col relative-position answer-panel overflow-auto"},{default:r(()=>[a("span",Me,m(e.t("reader.demo.ask_llm_with_search_grounding")),1),t(Ae,{label:e.t("reader.demo.waiting_for_reader"),showing:e.isReaderBusy},null,8,["label","showing"]),e.readerAnswerIsBusy&&!e.readerAnswerChunks?(l(),h(d,{key:0},{default:r(()=>[t(O,{name:"img:https://promptperfect.jina.ai/PromptPerfect-dark.svg",class:"q-mr-sm"},{default:r(()=>[t(I,null,{default:r(()=>[q(m(e.t("landing_page.powered_by_promptperfect")),1)]),_:1})]),_:1}),(l(),w(v,null,F([0,1,2,3],n=>t(N,{key:n,class:"q-my-xs",width:n>0?"":"100px",type:"text"},null,8,["width"])),64))]),_:1})):(l(),w(v,{key:1},[e.readerAnswerChunks?(l(),h(d,{key:0,class:"q-pa-lg"},{default:r(()=>[t(e.TypingText,{text:e.readerAnswerChunks,loading:e.readerAnswerIsStreaming,"show-copy":!1},null,8,["text","loading"])]),_:1})):C("",!0),e.readerAnswerIsStreaming?(l(),h(ie,{key:1,class:"absolute-bottom",indeterminate:""})):C("",!0)],64))]),_:1})]),_:1},8,["horizontal"])],64)):C("",!0),t(g),t(d,{class:"text-dim"},{default:r(()=>[t(O,{name:"info"}),q(" "+m(e.t("reader.demo.search_query_rewrite")),1)]),_:1})]),_:1},512)}const Oe=ue(De,[["render",Ve],["__scopeId","data-v-4c2e4c35"],["__file","ReaderSearchDemoComponent.vue"]]),Fe=de({__name:"ReaderPage",setup(R,{expose:o}){o();const{t:y}=ce({useScope:"global"}),e=c(!1);Te({page:"reader",banner:"banner-reader-api.png",url:"reader"});const u=_e(),b=[{label:"landing_page.get_api_now",icon:"code",anchor:"#apiform"},{label:"reader.demo.try_demo",icon:"play_arrow",anchor:"#demo"},{label:"landing_page.pricing",anchor:"#pricing",icon:"attach_money"}];function i(B){e.value=B,ne("#demo")}const n=me(()=>{switch(u.screen.name){case"xl":return"lg";case"lg":return"lg";case"md":return"md";case"sm":return"md";case"xs":return"md";default:return"sm"}}),x={t:y,showSearchDemo:e,$q:u,titleButtons:b,moveToDemo:i,adaptiveSize:n,get locateByHash(){return ne},TitleBlock:Ce,FAQComponent:Re,ReaderDemoComponent:je,ReaderSearchDemoComponent:Oe,PricingComponent:He,SeFoComponent:Le,H2TitleBlock:Ue,RateLimitComponent:ze};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}}),Ne="/assets/explain-EQrFe5k3.svg",We="/assets/explain3-CqNg2V0h.svg",Ge="/assets/explain5-CKbWV5a5.svg",Ke="/assets/explain2-BYDhf_rF.svg",Xe="/assets/explain4-CPLfQrjf.png",Je={class:"col-12 col-md-11 q-py-xl q-mx-xs-xs q-mx-sm-sm q-mx-md-md q-mx-lg-lg q-mx-xl-xl q-ma-xl relative-position"},Ye={class:"row justify-center"},Ze={class:"col-12 col-sm-11 col-md-10 q-pb-xl"},$e={class:"row justify-center items-center"},et={class:"col-11 col-md-8"},tt={class:"q-my-xl row justify-center items-center"},at={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},rt={class:"q-my-xl row justify-center items-center"},ot={class:"row justify-center items-center"},nt={class:"col-11 col-md-8"},st={class:"q-my-xl row justify-center items-center"},lt={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},it=["innerHTML"],dt={class:"q-my-xl row justify-center items-center"},ct={class:"row justify-center items-center"},mt={class:"col-11 col-md-8"},_t={class:"q-my-xl row justify-center items-center"},ut={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},pt=["innerHTML"],ft={class:"q-my-xl row justify-center items-center"},ht={class:"row justify-center items-center"},gt={class:"col-11 col-md-8"},yt={class:"q-my-xl row justify-center items-center"},wt={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},vt={class:"row q-py-xl justify-center items-center"},xt={class:"col-11 col-md-8"},qt={class:"q-my-xl row justify-center items-center"},bt={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},kt=["innerHTML"],St={class:"q-my-xl row justify-center"},Tt={class:"q-my-xl row justify-center items-center",id:"rate-limit"},Ct={class:"col-11 col-md-8 text-subtitle1 q-my-lg",style:{"white-space":"pre-line"}},Rt={class:"q-my-xl row justify-center items-center text-subtitle1"},Bt={class:"q-my-xl row justify-center items-center text-subtitle1"},jt={class:"q-my-xl row justify-center items-center"},Lt={class:"q-my-xl row justify-center items-center"};function At(R,o,y,e,u,b){return l(),h(Se,null,{default:r(()=>[a("div",{class:A(["row justify-center items-center img-bg q-py-xl",e.$q.screen.lt.sm?"q-px-md":"q-px-xl"])},[a("div",Je,[t(e.TitleBlock,{title:e.t("landing_page.reader"),tagline:e.t("reader.reader_description"),"large-title":!0,buttons:e.titleButtons},null,8,["title","tagline"])])],2),a("div",{class:A(e.$q.screen.lt.sm?"q-pa-md":"q-pa-xl"),id:"apiform"},[t(e.H2TitleBlock,{title:"reader.title",subtitle:"reader.reader_description",anchor:"apiform"}),a("div",Ye,[a("div",Ze,[t(e.SeFoComponent,{"show-function":"reader","hide-others":!0})])])],2),a("div",{class:A(e.$q.screen.lt.sm?"q-pa-md":"q-pa-xl"),id:"what_reader"},[t(e.H2TitleBlock,{title:"reader.what_is1",anchor:"what_reader"}),a("div",$e,[a("div",et,[t(T,{src:Ne})])]),a("div",tt,[a("div",at,m(e.t("reader.what_is_answer_long")),1)]),a("div",rt,[t(_,{label:e.t("reader.demo.show_read_demo"),icon:"play_arrow",outline:"",padding:"lg",square:"",onClick:o[0]||(o[0]=i=>e.moveToDemo(!1))},null,8,["label"])]),t(e.H2TitleBlock,{title:"reader.reader_do_search"}),a("div",ot,[a("div",nt,[t(T,{src:We})])]),a("div",st,[a("div",lt,[a("span",{innerHTML:e.t("reader.reader_do_search_explain")},null,8,it)])]),a("div",dt,[t(_,{label:e.t("reader.demo.show_search_demo"),icon:"play_arrow",outline:"",padding:"lg",square:"",onClick:o[1]||(o[1]=i=>e.moveToDemo(!0))},null,8,["label"])]),t(e.H2TitleBlock,{title:"reader.reader_do_grounding"}),a("div",ct,[a("div",mt,[t(T,{src:Ge})])]),a("div",_t,[a("div",ut,[a("span",{innerHTML:e.t("reader.reader_do_grounding_explain")},null,8,pt)])]),a("div",ft,[t(_,{label:e.t("reader.read_grounding_release_note"),outline:"",padding:"lg",square:"",to:"/news/fact-checking-with-new-grounding-api-in-jina-reader"},null,8,["label"])]),t(e.H2TitleBlock,{title:"reader.reader_reads_images"}),a("div",ht,[a("div",gt,[t(T,{src:Ke})])]),a("div",yt,[a("div",wt,m(e.t("reader.reader_also_read_images")),1)]),t(e.H2TitleBlock,{title:"reader.reader_reads_pdf"}),a("div",vt,[a("div",xt,[t(T,{src:Xe})])]),a("div",qt,[a("div",bt,[a("span",{innerHTML:e.t("reader.reader_do_pdf_explain")},null,8,kt)])]),a("div",St,[t(oe,{flat:"",outline:"",square:""},{default:r(()=>[t(_,{label:e.t("reader.original_pdf"),href:"https://www.nasa.gov/wp-content/uploads/2023/01/55583main_vision_space_exploration2.pdf",outline:"",size:e.adaptiveSize,padding:e.adaptiveSize,square:"",target:"_blank",icon:"open_in_new"},null,8,["label","size","padding"]),t(g),t(_,{label:e.t("reader.reader_result"),href:"https://r.jina.ai/https://www.nasa.gov/wp-content/uploads/2023/01/55583main_vision_space_exploration2.pdf",outline:"",size:e.adaptiveSize,padding:e.adaptiveSize,square:"",target:"_blank",icon:"open_in_new"},null,8,["label","size","padding"])]),_:1})]),t(e.H2TitleBlock,{title:"reader.is_free",subtitle:"reader.is_free_description"}),a("div",Tt,[a("div",Ct,[t(e.RateLimitComponent)])]),a("div",Rt,m(e.t("reader.dont_panic_api_key_is_free")),1),a("div",Bt,[t(oe,{outline:"",square:""},{default:r(()=>[t(_,{label:e.t("get_new_key"),onClick:o[2]||(o[2]=i=>e.locateByHash("#apiform")),outline:"",size:e.adaptiveSize,padding:e.adaptiveSize,square:"",icon:"key"},null,8,["label","size","padding"]),t(g),t(_,{label:e.t("reader.check_price_table"),onClick:o[3]||(o[3]=i=>e.locateByHash("#pricing")),outline:"",size:e.adaptiveSize,padding:e.adaptiveSize,square:"",icon:"attach_money"},null,8,["label","size","padding"])]),_:1})])],2),a("div",{class:A(e.$q.screen.lt.sm?"q-pa-md":"q-pa-xl"),id:"demo"},[t(e.H2TitleBlock,{title:"reader.demo.tagline",anchor:"demo"}),a("div",jt,[t(ke,{modelValue:e.showSearchDemo,"onUpdate:modelValue":o[4]||(o[4]=i=>e.showSearchDemo=i),size:"xl",label:e.showSearchDemo?e.t("reader.demo.show_read_demo"):e.t("reader.demo.show_search_demo"),"checked-icon":"search","unchecked-icon":"double_arrow"},null,8,["modelValue","label"])]),a("div",Lt,[se(t(e.ReaderSearchDemoComponent,null,null,512),[[le,e.showSearchDemo]]),se(t(e.ReaderDemoComponent,null,null,512),[[le,!e.showSearchDemo]])])],2),t(e.PricingComponent,{"hide-others":!0}),t(e.FAQComponent,{"faq-sources":["reader.faq_v1","api_general_faq","billing_general_faq"]})]),_:1})}const ca=ue(Fe,[["render",At],["__scopeId","data-v-d2630754"],["__file","ReaderPage.vue"]]);export{ca as default};
