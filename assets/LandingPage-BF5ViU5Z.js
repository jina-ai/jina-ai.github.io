import{f as Ee,h as he,ch as rs,u as jo,ai as vn,aj as K,ak as ye,al as B,aq as I,am as ve,ao as mt,an as Be,aD as gt,aF as rn,aw as He,ax as Ve,au as re,at as fe,av as Se,ag as Wn,cb as kn,bx as Oe,ap as ze,ar as Ae,as as Ne,i as ie,ci as Ii,w as be,cj as Ie,M as We,af as Pi,ck as It,cl as se,E as yn,r as is,cm as as,ac as qt,cn as Zo,co as ss,cp as ls,L as Ze,W as jt,o as Ti,cq as ki,z as Ai,cr as us,cs as Oi,ct as An,cu as _e,cv as Vt,j as xe,aP as Di,cw as cs,cx as ds,bJ as fs,az as hs,aB as On,aG as gs,cy as ps,bK as ms,b8 as vs,b9 as ys,bB as _s,bf as ws,Y as zt,bc as $t,aI as bs,ah as xs,cz as Es,k as wt,ay as mr}from"./index-D2VKP4Ne.js";import{Q as Nt,a as Ss}from"./QImg-ByEQg33x.js";import{f as Ns,g as Cs,h as Ms,l as Is,i as zi,S as Ps,U as Ts}from"./EmbeddingDialog-Bk9fs5O-.js";import{Q as ks}from"./QPage-C9zeWnDX.js";import{R as As}from"./ResearchersComponent-C6_b2TOQ.js";import{u as Os}from"./blogs-ME1Ug7R6.js";import{L as Ds}from"./LabeledPanel-BTUwv6W_.js";import{u as zs,T as $s}from"./useMetaTags-CEq9Xc1a.js";import{a as Bs,b as Hs,Q as Rs}from"./QTabs-amwtdHYd.js";import{Q as De,a as bt}from"./QChip-9qyjc49X.js";import{Q as $i}from"./QList-CLekT69U.js";import{N as Bi}from"./NewsBadge-B1FdUdb_.js";import{H as Vs}from"./H2TitleBlock-Dtp1XH7G.js";import{L as Ls}from"./LogoWall-Av5uy13F.js";import{Q as Ue}from"./QTooltip-DBBwnQTr.js";import{Q as Fs}from"./QLinearProgress-nXkW4ypW.js";import{u as Gs}from"./embedding-BxXiGGjX.js";import{u as qs,V as Ys}from"./VideoDialog-BDK1oPPy.js";import{S as Rn,i as an,r as yt,a as Vn,b as Xs,e as Ko,c as sn,d as Qn,f as Hi,g as Us,h as Wo,j as Qo}from"./isArrayLike-wVYOLuq6.js";import"./QSpace-CIE8wPSR.js";import"./use-panel-BR6F4EZ7.js";import"./position-engine-CW7F0Qdm.js";import"./copy-to-clipboard-BjEuHWOR.js";import"./QTable-C9jZa-6o.js";import"./use-fullscreen-LDWVSt7n.js";import"./QForm-ZapT_L4c.js";import"./QExpansionItem-0ZVHfMwz.js";import"./finetune-CFmmJ5pS.js";import"./PublicationCardComponent-CdNUK4UL.js";import"./QBadge-Cs4uiPrI.js";const js=Ee({__name:"PPFeatureComponent",props:{items:{},horizontal:{type:Boolean,default:!1},showCaption:{type:Boolean,default:!1},color:{},imageRatio:{default:37/25}},setup(e,{expose:t}){t(),rs(a=>({"51f8d335":a.color}));const n=he(0),o=e,r=jo(),i={tab:n,props:o,$q:r};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),Zs={class:"description sub-title"};function Ks(e,t,n,o,r,i){return K(),ye(rn,{square:"",flat:"",class:"bg-transparent"},{default:B(()=>[I(gt,null,{default:B(()=>[I(Bs,{shrink:"",modelValue:o.tab,"onUpdate:modelValue":t[0]||(t[0]=a=>o.tab=a),align:"center","active-class":"text-primary","no-caps":""},{default:B(()=>[(K(!0),ve(Be,null,mt(n.items,(a,s)=>(K(),ye(Hs,{name:s,label:a.name,key:s},null,8,["name","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),I(gt,null,{default:B(()=>[I(Ns,{animated:"",modelValue:o.tab,"onUpdate:modelValue":t[1]||(t[1]=a=>o.tab=a),class:"bg-transparent lock-blur"},{default:B(()=>[(K(!0),ve(Be,null,mt(n.items,(a,s)=>(K(),ye(Cs,{key:s,name:s},{default:B(()=>[I(gt,{class:He(["feature-content no-wrap row",{"col-8":n.horizontal,"full-width q-mt-lg q-mt-md-xl":!n.horizontal,column:o.$q.screen.lt.md}])},{default:B(()=>[n.showCaption?(K(),ye(gt,{class:He(["q-pa-none q-pt-md-xl",{"col-4":!o.$q.screen.lt.md}]),key:"text"},{default:B(()=>[I(Ve,{name:a.icon,class:"dynamic-text",size:"96px"},null,8,["name"]),re("h4",null,fe(a.title),1),re("p",Zs,fe(a.description),1)]),_:2},1032,["class"])):Se("",!0),I(Nt,{class:He(["col full-height",{"q-ml-lg":n.horizontal||n.showCaption&&!o.$q.screen.lt.md,"feature-item-image":n.showCaption}]),"img-class":"rounded-borders",key:"image",ratio:n.imageRatio,fit:"cover",src:a.image},null,8,["class","ratio","src"])]),_:2},1032,["class"])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})}const Ws=vn(js,[["render",Ks],["__scopeId","data-v-405cb770"],["__file","PPFeatureComponent.vue"]]),Qs=Ee({__name:"NewsVerticalCardLandingPage",props:{item:{}},setup(e,{expose:t}){t();const{t:n}=Wn({useScope:"global"}),o={t:n,get dayjs(){return kn},NewsBadge:Bi};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),Js={key:0,class:"col"},el={key:1,class:"col-4 overflow-hidden"};function tl(e,t,n,o,r,i){return K(),ye(ze,{to:`/news/${n.item.slug}`,class:"q-pa-none"},{default:B(()=>[I(rn,{flat:"",square:"",class:"cursor-pointer q-hoverable non-selectable full-width card-details"},{default:B(()=>[t[0]||(t[0]=re("span",{class:"q-focus-helper"},null,-1)),I(gt,{horizontal:e.$q.screen.gt.xs,class:"justify-between full-height q-pa-none overflow-hidden"},{default:B(()=>[e.$q.screen.lt.sm?(K(),ve("div",Js,[I(Nt,{src:n.item.featureImage,class:"hoverOnImage",loading:"lazy",alt:n.item.featureImageAlt},null,8,["src","alt"])])):Se("",!0),I(gt,{class:"col column justify-between q-pa-none no-wrap full-height",style:Oe({"background-image":`url(${n.item.featureImage})`})},{default:B(()=>[I($i,{class:"bg-dark-transparent lock-blur q-pa-sm-sm q-pa-xs-sm q-pa-md-md q-pa-lg",style:{"flex-grow":"1"}},{default:B(()=>[I(ze,null,{default:B(()=>[I(o.NewsBadge,{news:n.item},null,8,["news"])]),_:1}),I(ze,{class:"q-pt-xl"},{default:B(()=>[I(Ae,null,{default:B(()=>[I(De,{class:"text-h6 text-weight-light q-mb-xl",lines:"2"},{default:B(()=>[Ne(fe(n.item.title),1)]),_:1})]),_:1})]),_:1}),I(ze,null,{default:B(()=>[I(Ae,null,{default:B(()=>[I(De,{caption:""},{default:B(()=>[Ne(fe(o.dayjs(n.item.publishedAt).format("MMMM DD, YYYY"))+" • "+fe(n.item.readingTime)+" "+fe(o.t("newsroom_page.minutes_read")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["style"]),e.$q.screen.gt.xs?(K(),ve("div",el,[I(Nt,{src:n.item.featureImage,class:"full-height hoverOnImage",loading:"lazy",alt:n.item.featureImageAlt},null,8,["src","alt"])])):Se("",!0)]),_:1},8,["horizontal"])]),_:1})]),_:1},8,["to"])}const nl=vn(Qs,[["render",tl],["__file","NewsVerticalCardLandingPage.vue"]]),ol=Ee({__name:"NewsFeatureJumbo",props:{featured:{},latest:{}},setup(e,{expose:t}){t();const{t:n,te:o}=Wn({useScope:"global"}),r=e,i=ie(()=>r.latest.filter(l=>l.slug!==r.featured.slug).slice(0,2)),a=ie(()=>kn(r.latest[0].publishedAt).isAfter(kn(r.featured.publishedAt))),s={t:n,te:o,props:r,latest2ButNotFeatured:i,isFirstLatestNewerThanFeatured:a,NewsVerticalCardLandingPage:nl,get dayjs(){return kn},NewsBadge:Bi};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),rl={class:"col-12 col-md-6 cursor-pointer self-stretch"},il={class:"q-pa-sm full-height no-wrap column"},al={class:"col overflow-hidden",style:{"min-height":"200px"}},sl={class:"col-12 col-md-6 column self-stretch no-wrap"};function ll(e,t,n,o,r,i){return K(),ve("div",{class:He(["row justify-between items-center q-mb-xl",{reverse:o.isFirstLatestNewerThanFeatured}])},[re("div",rl,[re("div",il,[I(ze,{to:`/news/${n.featured.slug}`,class:"q-pa-none",style:{"flex-grow":"1"}},{default:B(()=>[I(rn,{flat:"",square:"",class:"full-height full-width non-selectable column card-details"},{default:B(()=>[re("div",al,[I(Nt,{src:n.featured.featureImage,loading:"lazy",alt:n.featured.featureImageAlt,class:"hoverOnImage full-height"},null,8,["src","alt"])]),I(gt,{style:Oe({"background-image":`url(${n.featured.featureImage})`}),class:"q-pa-none no-wrap col-auto"},{default:B(()=>[I($i,{class:"bg-dark-transparent lock-blur q-pa-sm-sm q-pa-xs-sm q-pa-md-md q-pa-lg"},{default:B(()=>[I(ze,null,{default:B(()=>[I(o.NewsBadge,{news:n.featured},null,8,["news"])]),_:1}),I(ze,{class:"q-pt-xl"},{default:B(()=>[I(Ae,null,{default:B(()=>[I(De,{class:"text-h5 text-weight-light q-mb-lg",lines:"3"},{default:B(()=>[Ne(fe(n.featured.title),1)]),_:1})]),_:1})]),_:1}),I(ze,null,{default:B(()=>[I(Ae,null,{default:B(()=>[I(De,{caption:""},{default:B(()=>[Ne(fe(o.dayjs(n.featured.publishedAt).format("MMMM DD, YYYY"))+" • "+fe(n.featured.readingTime)+" "+fe(o.t("newsroom_page.minutes_read")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["style"])]),_:1})]),_:1},8,["to"])])]),re("div",sl,[(K(!0),ve(Be,null,mt(o.latest2ButNotFeatured,(a,s)=>(K(),ve("div",{class:"col-6 q-pa-sm",key:s},[I(o.NewsVerticalCardLandingPage,{item:a,class:"full-height"},null,8,["item"])]))),128))])],2)}const ul=vn(ol,[["render",ll],["__file","NewsFeatureJumbo.vue"]]);function Jn(e){return Oi()?(An(e),!0):!1}function nt(e){return typeof e=="function"?e():se(e)}const cl=typeof window!="undefined"&&typeof document!="undefined",dl=e=>typeof e!="undefined",fl=Object.prototype.toString,hl=e=>fl.call(e)==="[object Object]",gl=()=>{};function pl(e,t){function n(...o){return new Promise((r,i)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(r).catch(i)})}return n}const Ri=e=>e();function ml(e=Ri){const t=he(!0);function n(){t.value=!1}function o(){t.value=!0}const r=(...i)=>{t.value&&e(...i)};return{isActive:cs(t),pause:n,resume:o,eventFilter:r}}function vr(e,t=!1,n="Timeout"){return new Promise((o,r)=>{setTimeout(t?()=>r(n):o,e)})}function vl(e,t,n={}){const{eventFilter:o=Ri,...r}=n;return be(e,pl(o,t),r)}function Bt(e,t,n={}){const{eventFilter:o,...r}=n,{eventFilter:i,pause:a,resume:s,isActive:l}=ml(o);return{stop:vl(e,t,{...r,eventFilter:i}),pause:a,resume:s,isActive:l}}function yl(e,t={}){if(!Zo(e))return ss(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const o in e.value)n[o]=ls(()=>({get(){return e.value[o]},set(r){var i;if((i=nt(t.replaceRef))!=null?i:!0)if(Array.isArray(e.value)){const s=[...e.value];s[o]=r,e.value=s}else{const s={...e.value,[o]:r};Object.setPrototypeOf(s,Object.getPrototypeOf(e.value)),e.value=s}else e.value[o]=r}}));return n}function Mo(e,t=!1){function n(f,{flush:h="sync",deep:m=!1,timeout:x,throwOnTimeout:v}={}){let w=null;const p=[new Promise(C=>{w=be(e,E=>{f(E)!==t&&(w==null||w(),C(E))},{flush:h,deep:m,immediate:!0})})];return x!=null&&p.push(vr(x,v).then(()=>nt(e)).finally(()=>w==null?void 0:w())),Promise.race(p)}function o(f,h){if(!Zo(f))return n(E=>E===f,h);const{flush:m="sync",deep:x=!1,timeout:v,throwOnTimeout:w}=h!=null?h:{};let b=null;const C=[new Promise(E=>{b=be([e,f],([$,X])=>{t!==($===X)&&(b==null||b(),E($))},{flush:m,deep:x,immediate:!0})})];return v!=null&&C.push(vr(v,w).then(()=>nt(e)).finally(()=>(b==null||b(),nt(e)))),Promise.race(C)}function r(f){return n(h=>!!h,f)}function i(f){return o(null,f)}function a(f){return o(void 0,f)}function s(f){return n(Number.isNaN,f)}function l(f,h){return n(m=>{const x=Array.from(m);return x.includes(f)||x.includes(nt(f))},h)}function u(f){return c(1,f)}function c(f=1,h){let m=-1;return n(()=>(m+=1,m>=f),h)}return Array.isArray(nt(e))?{toMatch:n,toContains:l,changed:u,changedTimes:c,get not(){return Mo(e,!t)}}:{toMatch:n,toBe:o,toBeTruthy:r,toBeNull:i,toBeNaN:s,toBeUndefined:a,changed:u,changedTimes:c,get not(){return Mo(e,!t)}}}function Io(e){return Mo(e)}function _l(e){var t;const n=nt(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Vi=cl?window:void 0;function Li(...e){let t,n,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,r]=e,t=Vi):[t,n,o,r]=e,!t)return gl;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const i=[],a=()=>{i.forEach(c=>c()),i.length=0},s=(c,f,h,m)=>(c.addEventListener(f,h,m),()=>c.removeEventListener(f,h,m)),l=be(()=>[_l(t),nt(r)],([c,f])=>{if(a(),!c)return;const h=hl(f)?{...f}:f;i.push(...n.flatMap(m=>o.map(x=>s(c,m,x,h))))},{immediate:!0,flush:"post"}),u=()=>{l(),a()};return Jn(u),u}function wl(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function yr(...e){let t,n,o={};e.length===3?(t=e[0],n=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],o=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:r=Vi,eventName:i="keydown",passive:a=!1,dedupe:s=!1}=o,l=wl(t);return Li(r,i,c=>{c.repeat&&nt(s)||l(c)&&n(c)},a)}function bl(e){return JSON.parse(JSON.stringify(e))}function go(e,t,n,o={}){var r,i,a;const{clone:s=!1,passive:l=!1,eventName:u,deep:c=!1,defaultValue:f,shouldEmit:h}=o,m=yn(),x=n||(m==null?void 0:m.emit)||((r=m==null?void 0:m.$emit)==null?void 0:r.bind(m))||((a=(i=m==null?void 0:m.proxy)==null?void 0:i.$emit)==null?void 0:a.bind(m==null?void 0:m.proxy));let v=u;t||(t="modelValue"),v=v||`update:${t.toString()}`;const w=C=>s?typeof s=="function"?s(C):bl(C):C,b=()=>dl(e[t])?w(e[t]):f,p=C=>{h?h(C)&&x(v,C):x(v,C)};if(l){const C=b(),E=he(C);let $=!1;return be(()=>e[t],X=>{$||($=!0,E.value=w(X),Ze(()=>$=!1))}),be(E,X=>{!$&&(X!==e[t]||c)&&p(X)},{deep:c}),E}else return ie({get(){return b()},set(C){p(C)}})}var xl={value:()=>{}};function eo(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Dn(n)}function Dn(e){this._=e}function El(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",r=n.indexOf(".");if(r>=0&&(o=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Dn.prototype=eo.prototype={constructor:Dn,on:function(e,t){var n=this._,o=El(e+"",n),r,i=-1,a=o.length;if(arguments.length<2){for(;++i<a;)if((r=(e=o[i]).type)&&(r=Sl(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<a;)if(r=(e=o[i]).type)n[r]=_r(n[r],e.name,t);else if(t==null)for(r in n)n[r]=_r(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Dn(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),o=0,r,i;o<r;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],o=0,r=i.length;o<r;++o)i[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)}};function Sl(e,t){for(var n=0,o=e.length,r;n<o;++n)if((r=e[n]).name===t)return r.value}function _r(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=xl,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var Po="http://www.w3.org/1999/xhtml";const wr={svg:"http://www.w3.org/2000/svg",xhtml:Po,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function to(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),wr.hasOwnProperty(t)?{space:wr[t],local:e}:e}function Nl(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Po&&t.documentElement.namespaceURI===Po?t.createElement(e):t.createElementNS(n,e)}}function Cl(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Fi(e){var t=to(e);return(t.local?Cl:Nl)(t)}function Ml(){}function Jo(e){return e==null?Ml:function(){return this.querySelector(e)}}function Il(e){typeof e!="function"&&(e=Jo(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],a=i.length,s=o[r]=new Array(a),l,u,c=0;c<a;++c)(l=i[c])&&(u=e.call(l,l.__data__,c,i))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new Re(o,this._parents)}function Pl(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Tl(){return[]}function Gi(e){return e==null?Tl:function(){return this.querySelectorAll(e)}}function kl(e){return function(){return Pl(e.apply(this,arguments))}}function Al(e){typeof e=="function"?e=kl(e):e=Gi(e);for(var t=this._groups,n=t.length,o=[],r=[],i=0;i<n;++i)for(var a=t[i],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(o.push(e.call(l,l.__data__,u,a)),r.push(l));return new Re(o,r)}function qi(e){return function(){return this.matches(e)}}function Yi(e){return function(t){return t.matches(e)}}var Ol=Array.prototype.find;function Dl(e){return function(){return Ol.call(this.children,e)}}function zl(){return this.firstElementChild}function $l(e){return this.select(e==null?zl:Dl(typeof e=="function"?e:Yi(e)))}var Bl=Array.prototype.filter;function Hl(){return Array.from(this.children)}function Rl(e){return function(){return Bl.call(this.children,e)}}function Vl(e){return this.selectAll(e==null?Hl:Rl(typeof e=="function"?e:Yi(e)))}function Ll(e){typeof e!="function"&&(e=qi(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],a=i.length,s=o[r]=[],l,u=0;u<a;++u)(l=i[u])&&e.call(l,l.__data__,u,i)&&s.push(l);return new Re(o,this._parents)}function Xi(e){return new Array(e.length)}function Fl(){return new Re(this._enter||this._groups.map(Xi),this._parents)}function Ln(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ln.prototype={constructor:Ln,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Gl(e){return function(){return e}}function ql(e,t,n,o,r,i){for(var a=0,s,l=t.length,u=i.length;a<u;++a)(s=t[a])?(s.__data__=i[a],o[a]=s):n[a]=new Ln(e,i[a]);for(;a<l;++a)(s=t[a])&&(r[a]=s)}function Yl(e,t,n,o,r,i,a){var s,l,u=new Map,c=t.length,f=i.length,h=new Array(c),m;for(s=0;s<c;++s)(l=t[s])&&(h[s]=m=a.call(l,l.__data__,s,t)+"",u.has(m)?r[s]=l:u.set(m,l));for(s=0;s<f;++s)m=a.call(e,i[s],s,i)+"",(l=u.get(m))?(o[s]=l,l.__data__=i[s],u.delete(m)):n[s]=new Ln(e,i[s]);for(s=0;s<c;++s)(l=t[s])&&u.get(h[s])===l&&(r[s]=l)}function Xl(e){return e.__data__}function Ul(e,t){if(!arguments.length)return Array.from(this,Xl);var n=t?Yl:ql,o=this._parents,r=this._groups;typeof e!="function"&&(e=Gl(e));for(var i=r.length,a=new Array(i),s=new Array(i),l=new Array(i),u=0;u<i;++u){var c=o[u],f=r[u],h=f.length,m=jl(e.call(c,c&&c.__data__,u,o)),x=m.length,v=s[u]=new Array(x),w=a[u]=new Array(x),b=l[u]=new Array(h);n(c,f,v,w,b,m,t);for(var p=0,C=0,E,$;p<x;++p)if(E=v[p]){for(p>=C&&(C=p+1);!($=w[C])&&++C<x;);E._next=$||null}}return a=new Re(a,o),a._enter=s,a._exit=l,a}function jl(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Zl(){return new Re(this._exit||this._groups.map(Xi),this._parents)}function Kl(e,t,n){var o=this.enter(),r=this,i=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?i.remove():n(i),o&&r?o.merge(r).order():r}function Wl(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,i=o.length,a=Math.min(r,i),s=new Array(r),l=0;l<a;++l)for(var u=n[l],c=o[l],f=u.length,h=s[l]=new Array(f),m,x=0;x<f;++x)(m=u[x]||c[x])&&(h[x]=m);for(;l<r;++l)s[l]=n[l];return new Re(s,this._parents)}function Ql(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],r=o.length-1,i=o[r],a;--r>=0;)(a=o[r])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function Jl(e){e||(e=eu);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,o=n.length,r=new Array(o),i=0;i<o;++i){for(var a=n[i],s=a.length,l=r[i]=new Array(s),u,c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(t)}return new Re(r,this._parents).order()}function eu(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function tu(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function nu(){return Array.from(this)}function ou(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length;r<i;++r){var a=o[r];if(a)return a}return null}function ru(){let e=0;for(const t of this)++e;return e}function iu(){return!this.node()}function au(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r=t[n],i=0,a=r.length,s;i<a;++i)(s=r[i])&&e.call(s,s.__data__,i,r);return this}function su(e){return function(){this.removeAttribute(e)}}function lu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function uu(e,t){return function(){this.setAttribute(e,t)}}function cu(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function du(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function fu(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function hu(e,t){var n=to(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?lu:su:typeof t=="function"?n.local?fu:du:n.local?cu:uu)(n,t))}function Ui(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function gu(e){return function(){this.style.removeProperty(e)}}function pu(e,t,n){return function(){this.style.setProperty(e,t,n)}}function mu(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function vu(e,t,n){return arguments.length>1?this.each((t==null?gu:typeof t=="function"?mu:pu)(e,t,n==null?"":n)):Yt(this.node(),e)}function Yt(e,t){return e.style.getPropertyValue(t)||Ui(e).getComputedStyle(e,null).getPropertyValue(t)}function yu(e){return function(){delete this[e]}}function _u(e,t){return function(){this[e]=t}}function wu(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function bu(e,t){return arguments.length>1?this.each((t==null?yu:typeof t=="function"?wu:_u)(e,t)):this.node()[e]}function ji(e){return e.trim().split(/^|\s+/)}function er(e){return e.classList||new Zi(e)}function Zi(e){this._node=e,this._names=ji(e.getAttribute("class")||"")}Zi.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ki(e,t){for(var n=er(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function Wi(e,t){for(var n=er(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function xu(e){return function(){Ki(this,e)}}function Eu(e){return function(){Wi(this,e)}}function Su(e,t){return function(){(t.apply(this,arguments)?Ki:Wi)(this,e)}}function Nu(e,t){var n=ji(e+"");if(arguments.length<2){for(var o=er(this.node()),r=-1,i=n.length;++r<i;)if(!o.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?Su:t?xu:Eu)(n,t))}function Cu(){this.textContent=""}function Mu(e){return function(){this.textContent=e}}function Iu(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function Pu(e){return arguments.length?this.each(e==null?Cu:(typeof e=="function"?Iu:Mu)(e)):this.node().textContent}function Tu(){this.innerHTML=""}function ku(e){return function(){this.innerHTML=e}}function Au(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function Ou(e){return arguments.length?this.each(e==null?Tu:(typeof e=="function"?Au:ku)(e)):this.node().innerHTML}function Du(){this.nextSibling&&this.parentNode.appendChild(this)}function zu(){return this.each(Du)}function $u(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Bu(){return this.each($u)}function Hu(e){var t=typeof e=="function"?e:Fi(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Ru(){return null}function Vu(e,t){var n=typeof e=="function"?e:Fi(e),o=t==null?Ru:typeof t=="function"?t:Jo(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function Lu(){var e=this.parentNode;e&&e.removeChild(this)}function Fu(){return this.each(Lu)}function Gu(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function qu(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Yu(e){return this.select(e?qu:Gu)}function Xu(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Uu(e){return function(t){e.call(this,t,this.__data__)}}function ju(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function Zu(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,r=t.length,i;n<r;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++o]=i;++o?t.length=o:delete this.__on}}}function Ku(e,t,n){return function(){var o=this.__on,r,i=Uu(t);if(o){for(var a=0,s=o.length;a<s;++a)if((r=o[a]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),r.value=t;return}}this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function Wu(e,t,n){var o=ju(e+""),r,i=o.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(r=0,c=s[l];r<i;++r)if((a=o[r]).type===c.type&&a.name===c.name)return c.value}return}for(s=t?Ku:Zu,r=0;r<i;++r)this.each(s(o[r],t,n));return this}function Qi(e,t,n){var o=Ui(e),r=o.CustomEvent;typeof r=="function"?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function Qu(e,t){return function(){return Qi(this,e,t)}}function Ju(e,t){return function(){return Qi(this,e,t.apply(this,arguments))}}function ec(e,t){return this.each((typeof t=="function"?Ju:Qu)(e,t))}function*tc(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length,a;r<i;++r)(a=o[r])&&(yield a)}var Ji=[null];function Re(e,t){this._groups=e,this._parents=t}function _n(){return new Re([[document.documentElement]],Ji)}function nc(){return this}Re.prototype=_n.prototype={constructor:Re,select:Il,selectAll:Al,selectChild:$l,selectChildren:Vl,filter:Ll,data:Ul,enter:Fl,exit:Zl,join:Kl,merge:Wl,selection:nc,order:Ql,sort:Jl,call:tu,nodes:nu,node:ou,size:ru,empty:iu,each:au,attr:hu,style:vu,property:bu,classed:Nu,text:Pu,html:Ou,raise:zu,lower:Bu,append:Hu,insert:Vu,remove:Fu,clone:Yu,datum:Xu,on:Wu,dispatch:ec,[Symbol.iterator]:tc};function Ge(e){return typeof e=="string"?new Re([[document.querySelector(e)]],[document.documentElement]):new Re([[e]],Ji)}function oc(e){let t;for(;t=e.sourceEvent;)e=t;return e}function je(e,t){if(e=oc(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const rc={passive:!1},ln={capture:!0,passive:!1};function po(e){e.stopImmediatePropagation()}function Lt(e){e.preventDefault(),e.stopImmediatePropagation()}function ea(e){var t=e.document.documentElement,n=Ge(e).on("dragstart.drag",Lt,ln);"onselectstart"in t?n.on("selectstart.drag",Lt,ln):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function ta(e,t){var n=e.document.documentElement,o=Ge(e).on("dragstart.drag",null);t&&(o.on("click.drag",Lt,ln),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const xn=e=>()=>e;function To(e,{sourceEvent:t,subject:n,target:o,identifier:r,active:i,x:a,y:s,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}To.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function ic(e){return!e.ctrlKey&&!e.button}function ac(){return this.parentNode}function sc(e,t){return t==null?{x:e.x,y:e.y}:t}function lc(){return navigator.maxTouchPoints||"ontouchstart"in this}function uc(){var e=ic,t=ac,n=sc,o=lc,r={},i=eo("start","drag","end"),a=0,s,l,u,c,f=0;function h(E){E.on("mousedown.drag",m).filter(o).on("touchstart.drag",w).on("touchmove.drag",b,rc).on("touchend.drag touchcancel.drag",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(E,$){if(!(c||!e.call(this,E,$))){var X=C(this,t.call(this,E,$),E,$,"mouse");X&&(Ge(E.view).on("mousemove.drag",x,ln).on("mouseup.drag",v,ln),ea(E.view),po(E),u=!1,s=E.clientX,l=E.clientY,X("start",E))}}function x(E){if(Lt(E),!u){var $=E.clientX-s,X=E.clientY-l;u=$*$+X*X>f}r.mouse("drag",E)}function v(E){Ge(E.view).on("mousemove.drag mouseup.drag",null),ta(E.view,u),Lt(E),r.mouse("end",E)}function w(E,$){if(e.call(this,E,$)){var X=E.changedTouches,G=t.call(this,E,$),W=X.length,J,z;for(J=0;J<W;++J)(z=C(this,G,E,$,X[J].identifier,X[J]))&&(po(E),z("start",E,X[J]))}}function b(E){var $=E.changedTouches,X=$.length,G,W;for(G=0;G<X;++G)(W=r[$[G].identifier])&&(Lt(E),W("drag",E,$[G]))}function p(E){var $=E.changedTouches,X=$.length,G,W;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),G=0;G<X;++G)(W=r[$[G].identifier])&&(po(E),W("end",E,$[G]))}function C(E,$,X,G,W,J){var z=i.copy(),y=je(J||X,$),ee,ue,_;if((_=n.call(E,new To("beforestart",{sourceEvent:X,target:h,identifier:W,active:a,x:y[0],y:y[1],dx:0,dy:0,dispatch:z}),G))!=null)return ee=_.x-y[0]||0,ue=_.y-y[1]||0,function P(N,A,H){var V=y,Y;switch(N){case"start":r[W]=P,Y=a++;break;case"end":delete r[W],--a;case"drag":y=je(H||A,$),Y=a;break}z.call(N,E,new To(N,{sourceEvent:A,subject:_,target:h,identifier:W,active:Y,x:y[0]+ee,y:y[1]+ue,dx:y[0]-V[0],dy:y[1]-V[1],dispatch:z}),G)}}return h.filter=function(E){return arguments.length?(e=typeof E=="function"?E:xn(!!E),h):e},h.container=function(E){return arguments.length?(t=typeof E=="function"?E:xn(E),h):t},h.subject=function(E){return arguments.length?(n=typeof E=="function"?E:xn(E),h):n},h.touchable=function(E){return arguments.length?(o=typeof E=="function"?E:xn(!!E),h):o},h.on=function(){var E=i.on.apply(i,arguments);return E===i?h:E},h.clickDistance=function(E){return arguments.length?(f=(E=+E)*E,h):Math.sqrt(f)},h}function tr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function na(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function wn(){}var un=.7,Fn=1/un,Ft="\\s*([+-]?\\d+)\\s*",cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ke="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cc=/^#([0-9a-f]{3,8})$/,dc=new RegExp(`^rgb\\(${Ft},${Ft},${Ft}\\)$`),fc=new RegExp(`^rgb\\(${Ke},${Ke},${Ke}\\)$`),hc=new RegExp(`^rgba\\(${Ft},${Ft},${Ft},${cn}\\)$`),gc=new RegExp(`^rgba\\(${Ke},${Ke},${Ke},${cn}\\)$`),pc=new RegExp(`^hsl\\(${cn},${Ke},${Ke}\\)$`),mc=new RegExp(`^hsla\\(${cn},${Ke},${Ke},${cn}\\)$`),br={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tr(wn,dn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xr,formatHex:xr,formatHex8:vc,formatHsl:yc,formatRgb:Er,toString:Er});function xr(){return this.rgb().formatHex()}function vc(){return this.rgb().formatHex8()}function yc(){return oa(this).formatHsl()}function Er(){return this.rgb().formatRgb()}function dn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=cc.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Sr(t):n===3?new $e(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?En(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?En(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=dc.exec(e))?new $e(t[1],t[2],t[3],1):(t=fc.exec(e))?new $e(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=hc.exec(e))?En(t[1],t[2],t[3],t[4]):(t=gc.exec(e))?En(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=pc.exec(e))?Mr(t[1],t[2]/100,t[3]/100,1):(t=mc.exec(e))?Mr(t[1],t[2]/100,t[3]/100,t[4]):br.hasOwnProperty(e)?Sr(br[e]):e==="transparent"?new $e(NaN,NaN,NaN,0):null}function Sr(e){return new $e(e>>16&255,e>>8&255,e&255,1)}function En(e,t,n,o){return o<=0&&(e=t=n=NaN),new $e(e,t,n,o)}function _c(e){return e instanceof wn||(e=dn(e)),e?(e=e.rgb(),new $e(e.r,e.g,e.b,e.opacity)):new $e}function ko(e,t,n,o){return arguments.length===1?_c(e):new $e(e,t,n,o==null?1:o)}function $e(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}tr($e,ko,na(wn,{brighter(e){return e=e==null?Fn:Math.pow(Fn,e),new $e(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?un:Math.pow(un,e),new $e(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $e(Ct(this.r),Ct(this.g),Ct(this.b),Gn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Nr,formatHex:Nr,formatHex8:wc,formatRgb:Cr,toString:Cr}));function Nr(){return`#${St(this.r)}${St(this.g)}${St(this.b)}`}function wc(){return`#${St(this.r)}${St(this.g)}${St(this.b)}${St((isNaN(this.opacity)?1:this.opacity)*255)}`}function Cr(){const e=Gn(this.opacity);return`${e===1?"rgb(":"rgba("}${Ct(this.r)}, ${Ct(this.g)}, ${Ct(this.b)}${e===1?")":`, ${e})`}`}function Gn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ct(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function St(e){return e=Ct(e),(e<16?"0":"")+e.toString(16)}function Mr(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new qe(e,t,n,o)}function oa(e){if(e instanceof qe)return new qe(e.h,e.s,e.l,e.opacity);if(e instanceof wn||(e=dn(e)),!e)return new qe;if(e instanceof qe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),i=Math.max(t,n,o),a=NaN,s=i-r,l=(i+r)/2;return s?(t===i?a=(n-o)/s+(n<o)*6:n===i?a=(o-t)/s+2:a=(t-n)/s+4,s/=l<.5?i+r:2-i-r,a*=60):s=l>0&&l<1?0:a,new qe(a,s,l,e.opacity)}function bc(e,t,n,o){return arguments.length===1?oa(e):new qe(e,t,n,o==null?1:o)}function qe(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}tr(qe,bc,na(wn,{brighter(e){return e=e==null?Fn:Math.pow(Fn,e),new qe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?un:Math.pow(un,e),new qe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new $e(mo(e>=240?e-240:e+120,r,o),mo(e,r,o),mo(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new qe(Ir(this.h),Sn(this.s),Sn(this.l),Gn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Gn(this.opacity);return`${e===1?"hsl(":"hsla("}${Ir(this.h)}, ${Sn(this.s)*100}%, ${Sn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ir(e){return e=(e||0)%360,e<0?e+360:e}function Sn(e){return Math.max(0,Math.min(1,e||0))}function mo(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ra=e=>()=>e;function xc(e,t){return function(n){return e+n*t}}function Ec(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function Sc(e){return(e=+e)==1?ia:function(t,n){return n-t?Ec(t,n,e):ra(isNaN(t)?n:t)}}function ia(e,t){var n=t-e;return n?xc(e,n):ra(isNaN(e)?t:e)}const Pr=function e(t){var n=Sc(t);function o(r,i){var a=n((r=ko(r)).r,(i=ko(i)).r),s=n(r.g,i.g),l=n(r.b,i.b),u=ia(r.opacity,i.opacity);return function(c){return r.r=a(c),r.g=s(c),r.b=l(c),r.opacity=u(c),r+""}}return o.gamma=e,o}(1);function dt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Ao=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vo=new RegExp(Ao.source,"g");function Nc(e){return function(){return e}}function Cc(e){return function(t){return e(t)+""}}function Mc(e,t){var n=Ao.lastIndex=vo.lastIndex=0,o,r,i,a=-1,s=[],l=[];for(e=e+"",t=t+"";(o=Ao.exec(e))&&(r=vo.exec(t));)(i=r.index)>n&&(i=t.slice(n,i),s[a]?s[a]+=i:s[++a]=i),(o=o[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:dt(o,r)})),n=vo.lastIndex;return n<t.length&&(i=t.slice(n),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?Cc(l[0].x):Nc(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}var Tr=180/Math.PI,Oo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function aa(e,t,n,o,r,i){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*o)&&(n-=e*l,o-=t*l),(s=Math.sqrt(n*n+o*o))&&(n/=s,o/=s,l/=s),e*o<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*Tr,skewX:Math.atan(l)*Tr,scaleX:a,scaleY:s}}var Nn;function Ic(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Oo:aa(t.a,t.b,t.c,t.d,t.e,t.f)}function Pc(e){return e==null||(Nn||(Nn=document.createElementNS("http://www.w3.org/2000/svg","g")),Nn.setAttribute("transform",e),!(e=Nn.transform.baseVal.consolidate()))?Oo:(e=e.matrix,aa(e.a,e.b,e.c,e.d,e.e,e.f))}function sa(e,t,n,o){function r(u){return u.length?u.pop()+" ":""}function i(u,c,f,h,m,x){if(u!==f||c!==h){var v=m.push("translate(",null,t,null,n);x.push({i:v-4,x:dt(u,f)},{i:v-2,x:dt(c,h)})}else(f||h)&&m.push("translate("+f+t+h+n)}function a(u,c,f,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:f.push(r(f)+"rotate(",null,o)-2,x:dt(u,c)})):c&&f.push(r(f)+"rotate("+c+o)}function s(u,c,f,h){u!==c?h.push({i:f.push(r(f)+"skewX(",null,o)-2,x:dt(u,c)}):c&&f.push(r(f)+"skewX("+c+o)}function l(u,c,f,h,m,x){if(u!==f||c!==h){var v=m.push(r(m)+"scale(",null,",",null,")");x.push({i:v-4,x:dt(u,f)},{i:v-2,x:dt(c,h)})}else(f!==1||h!==1)&&m.push(r(m)+"scale("+f+","+h+")")}return function(u,c){var f=[],h=[];return u=e(u),c=e(c),i(u.translateX,u.translateY,c.translateX,c.translateY,f,h),a(u.rotate,c.rotate,f,h),s(u.skewX,c.skewX,f,h),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,h),u=c=null,function(m){for(var x=-1,v=h.length,w;++x<v;)f[(w=h[x]).i]=w.x(m);return f.join("")}}}var Tc=sa(Ic,"px, ","px)","deg)"),kc=sa(Pc,", ",")",")"),Ac=1e-12;function kr(e){return((e=Math.exp(e))+1/e)/2}function Oc(e){return((e=Math.exp(e))-1/e)/2}function Dc(e){return((e=Math.exp(2*e))-1)/(e+1)}const zc=function e(t,n,o){function r(i,a){var s=i[0],l=i[1],u=i[2],c=a[0],f=a[1],h=a[2],m=c-s,x=f-l,v=m*m+x*x,w,b;if(v<Ac)b=Math.log(h/u)/t,w=function(G){return[s+G*m,l+G*x,u*Math.exp(t*G*b)]};else{var p=Math.sqrt(v),C=(h*h-u*u+o*v)/(2*u*n*p),E=(h*h-u*u-o*v)/(2*h*n*p),$=Math.log(Math.sqrt(C*C+1)-C),X=Math.log(Math.sqrt(E*E+1)-E);b=(X-$)/t,w=function(G){var W=G*b,J=kr($),z=u/(n*p)*(J*Dc(t*W+$)-Oc($));return[s+z*m,l+z*x,u*J/kr(t*W+$)]}}return w.duration=b*1e3*t/Math.SQRT2,w}return r.rho=function(i){var a=Math.max(.001,+i),s=a*a,l=s*s;return e(a,s,l)},r}(Math.SQRT2,2,4);var Xt=0,Qt=0,Zt=0,la=1e3,qn,Jt,Yn=0,Pt=0,no=0,fn=typeof performance=="object"&&performance.now?performance:Date,ua=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function nr(){return Pt||(ua($c),Pt=fn.now()+no)}function $c(){Pt=0}function Xn(){this._call=this._time=this._next=null}Xn.prototype=ca.prototype={constructor:Xn,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?nr():+n)+(t==null?0:+t),!this._next&&Jt!==this&&(Jt?Jt._next=this:qn=this,Jt=this),this._call=e,this._time=n,Do()},stop:function(){this._call&&(this._call=null,this._time=1/0,Do())}};function ca(e,t,n){var o=new Xn;return o.restart(e,t,n),o}function Bc(){nr(),++Xt;for(var e=qn,t;e;)(t=Pt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Xt}function Ar(){Pt=(Yn=fn.now())+no,Xt=Qt=0;try{Bc()}finally{Xt=0,Rc(),Pt=0}}function Hc(){var e=fn.now(),t=e-Yn;t>la&&(no-=t,Yn=e)}function Rc(){for(var e,t=qn,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:qn=n);Jt=e,Do(o)}function Do(e){if(!Xt){Qt&&(Qt=clearTimeout(Qt));var t=e-Pt;t>24?(e<1/0&&(Qt=setTimeout(Ar,e-fn.now()-no)),Zt&&(Zt=clearInterval(Zt))):(Zt||(Yn=fn.now(),Zt=setInterval(Hc,la)),Xt=1,ua(Ar))}}function Or(e,t,n){var o=new Xn;return t=t==null?0:+t,o.restart(r=>{o.stop(),e(r+t)},t,n),o}var Vc=eo("start","end","cancel","interrupt"),Lc=[],da=0,Dr=1,zo=2,zn=3,zr=4,$o=5,$n=6;function oo(e,t,n,o,r,i){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;Fc(e,n,{name:t,index:o,group:r,on:Vc,tween:Lc,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:da})}function or(e,t){var n=Ye(e,t);if(n.state>da)throw new Error("too late; already scheduled");return n}function Qe(e,t){var n=Ye(e,t);if(n.state>zn)throw new Error("too late; already running");return n}function Ye(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Fc(e,t,n){var o=e.__transition,r;o[t]=n,n.timer=ca(i,0,n.time);function i(u){n.state=Dr,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,f,h,m;if(n.state!==Dr)return l();for(c in o)if(m=o[c],m.name===n.name){if(m.state===zn)return Or(a);m.state===zr?(m.state=$n,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete o[c]):+c<t&&(m.state=$n,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete o[c])}if(Or(function(){n.state===zn&&(n.state=zr,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=zo,n.on.call("start",e,e.__data__,n.index,n.group),n.state===zo){for(n.state=zn,r=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(m=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++f]=m);r.length=f+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=$o,1),f=-1,h=r.length;++f<h;)r[f].call(e,c);n.state===$o&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=$n,n.timer.stop(),delete o[t];for(var u in o)return;delete e.__transition}}function Bn(e,t){var n=e.__transition,o,r,i=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((o=n[a]).name!==t){i=!1;continue}r=o.state>zo&&o.state<$o,o.state=$n,o.timer.stop(),o.on.call(r?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[a]}i&&delete e.__transition}}function Gc(e){return this.each(function(){Bn(this,e)})}function qc(e,t){var n,o;return function(){var r=Qe(this,e),i=r.tween;if(i!==n){o=n=i;for(var a=0,s=o.length;a<s;++a)if(o[a].name===t){o=o.slice(),o.splice(a,1);break}}r.tween=o}}function Yc(e,t,n){var o,r;if(typeof n!="function")throw new Error;return function(){var i=Qe(this,e),a=i.tween;if(a!==o){r=(o=a).slice();for(var s={name:t,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===t){r[l]=s;break}l===u&&r.push(s)}i.tween=r}}function Xc(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=Ye(this.node(),n).tween,r=0,i=o.length,a;r<i;++r)if((a=o[r]).name===e)return a.value;return null}return this.each((t==null?qc:Yc)(n,e,t))}function rr(e,t,n){var o=e._id;return e.each(function(){var r=Qe(this,o);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return Ye(r,o).value[t]}}function fa(e,t){var n;return(typeof t=="number"?dt:t instanceof dn?Pr:(n=dn(t))?(t=n,Pr):Mc)(e,t)}function Uc(e){return function(){this.removeAttribute(e)}}function jc(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Zc(e,t,n){var o,r=n+"",i;return function(){var a=this.getAttribute(e);return a===r?null:a===o?i:i=t(o=a,n)}}function Kc(e,t,n){var o,r=n+"",i;return function(){var a=this.getAttributeNS(e.space,e.local);return a===r?null:a===o?i:i=t(o=a,n)}}function Wc(e,t,n){var o,r,i;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=s+"",a===l?null:a===o&&l===r?i:(r=l,i=t(o=a,s)))}}function Qc(e,t,n){var o,r,i;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=s+"",a===l?null:a===o&&l===r?i:(r=l,i=t(o=a,s)))}}function Jc(e,t){var n=to(e),o=n==="transform"?kc:fa;return this.attrTween(e,typeof t=="function"?(n.local?Qc:Wc)(n,o,rr(this,"attr."+e,t)):t==null?(n.local?jc:Uc)(n):(n.local?Kc:Zc)(n,o,t))}function ed(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function td(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function nd(e,t){var n,o;function r(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&td(e,i)),n}return r._value=t,r}function od(e,t){var n,o;function r(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&ed(e,i)),n}return r._value=t,r}function rd(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=to(e);return this.tween(n,(o.local?nd:od)(o,t))}function id(e,t){return function(){or(this,e).delay=+t.apply(this,arguments)}}function ad(e,t){return t=+t,function(){or(this,e).delay=t}}function sd(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?id:ad)(t,e)):Ye(this.node(),t).delay}function ld(e,t){return function(){Qe(this,e).duration=+t.apply(this,arguments)}}function ud(e,t){return t=+t,function(){Qe(this,e).duration=t}}function cd(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ld:ud)(t,e)):Ye(this.node(),t).duration}function dd(e,t){if(typeof t!="function")throw new Error;return function(){Qe(this,e).ease=t}}function fd(e){var t=this._id;return arguments.length?this.each(dd(t,e)):Ye(this.node(),t).ease}function hd(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Qe(this,e).ease=n}}function gd(e){if(typeof e!="function")throw new Error;return this.each(hd(this._id,e))}function pd(e){typeof e!="function"&&(e=qi(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],a=i.length,s=o[r]=[],l,u=0;u<a;++u)(l=i[u])&&e.call(l,l.__data__,u,i)&&s.push(l);return new it(o,this._parents,this._name,this._id)}function md(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,i=Math.min(o,r),a=new Array(o),s=0;s<i;++s)for(var l=t[s],u=n[s],c=l.length,f=a[s]=new Array(c),h,m=0;m<c;++m)(h=l[m]||u[m])&&(f[m]=h);for(;s<o;++s)a[s]=t[s];return new it(a,this._parents,this._name,this._id)}function vd(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function yd(e,t,n){var o,r,i=vd(t)?or:Qe;return function(){var a=i(this,e),s=a.on;s!==o&&(r=(o=s).copy()).on(t,n),a.on=r}}function _d(e,t){var n=this._id;return arguments.length<2?Ye(this.node(),n).on.on(e):this.each(yd(n,e,t))}function wd(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function bd(){return this.on("end.remove",wd(this._id))}function xd(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Jo(e));for(var o=this._groups,r=o.length,i=new Array(r),a=0;a<r;++a)for(var s=o[a],l=s.length,u=i[a]=new Array(l),c,f,h=0;h<l;++h)(c=s[h])&&(f=e.call(c,c.__data__,h,s))&&("__data__"in c&&(f.__data__=c.__data__),u[h]=f,oo(u[h],t,n,h,u,Ye(c,n)));return new it(i,this._parents,t,n)}function Ed(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Gi(e));for(var o=this._groups,r=o.length,i=[],a=[],s=0;s<r;++s)for(var l=o[s],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var h=e.call(c,c.__data__,f,l),m,x=Ye(c,n),v=0,w=h.length;v<w;++v)(m=h[v])&&oo(m,t,n,v,h,x);i.push(h),a.push(c)}return new it(i,a,t,n)}var Sd=_n.prototype.constructor;function Nd(){return new Sd(this._groups,this._parents)}function Cd(e,t){var n,o,r;return function(){var i=Yt(this,e),a=(this.style.removeProperty(e),Yt(this,e));return i===a?null:i===n&&a===o?r:r=t(n=i,o=a)}}function ha(e){return function(){this.style.removeProperty(e)}}function Md(e,t,n){var o,r=n+"",i;return function(){var a=Yt(this,e);return a===r?null:a===o?i:i=t(o=a,n)}}function Id(e,t,n){var o,r,i;return function(){var a=Yt(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),Yt(this,e))),a===l?null:a===o&&l===r?i:(r=l,i=t(o=a,s))}}function Pd(e,t){var n,o,r,i="style."+t,a="end."+i,s;return function(){var l=Qe(this,e),u=l.on,c=l.value[i]==null?s||(s=ha(t)):void 0;(u!==n||r!==c)&&(o=(n=u).copy()).on(a,r=c),l.on=o}}function Td(e,t,n){var o=(e+="")=="transform"?Tc:fa;return t==null?this.styleTween(e,Cd(e,o)).on("end.style."+e,ha(e)):typeof t=="function"?this.styleTween(e,Id(e,o,rr(this,"style."+e,t))).each(Pd(this._id,e)):this.styleTween(e,Md(e,o,t),n).on("end.style."+e,null)}function kd(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function Ad(e,t,n){var o,r;function i(){var a=t.apply(this,arguments);return a!==r&&(o=(r=a)&&kd(e,a,n)),o}return i._value=t,i}function Od(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,Ad(e,t,n==null?"":n))}function Dd(e){return function(){this.textContent=e}}function zd(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function $d(e){return this.tween("text",typeof e=="function"?zd(rr(this,"text",e)):Dd(e==null?"":e+""))}function Bd(e){return function(t){this.textContent=e.call(this,t)}}function Hd(e){var t,n;function o(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&Bd(r)),t}return o._value=e,o}function Rd(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Hd(e))}function Vd(){for(var e=this._name,t=this._id,n=ga(),o=this._groups,r=o.length,i=0;i<r;++i)for(var a=o[i],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var c=Ye(l,t);oo(l,e,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new it(o,this._parents,e,n)}function Ld(){var e,t,n=this,o=n._id,r=n.size();return new Promise(function(i,a){var s={value:a},l={value:function(){--r===0&&i()}};n.each(function(){var u=Qe(this,o),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),u.on=t}),r===0&&i()})}var Fd=0;function it(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function ga(){return++Fd}var Je=_n.prototype;it.prototype={constructor:it,select:xd,selectAll:Ed,selectChild:Je.selectChild,selectChildren:Je.selectChildren,filter:pd,merge:md,selection:Nd,transition:Vd,call:Je.call,nodes:Je.nodes,node:Je.node,size:Je.size,empty:Je.empty,each:Je.each,on:_d,attr:Jc,attrTween:rd,style:Td,styleTween:Od,text:$d,textTween:Rd,remove:bd,tween:Xc,delay:sd,duration:cd,ease:fd,easeVarying:gd,end:Ld,[Symbol.iterator]:Je[Symbol.iterator]};function Gd(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var qd={time:null,delay:0,duration:250,ease:Gd};function Yd(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Xd(e){var t,n;e instanceof it?(t=e._id,e=e._name):(t=ga(),(n=qd).time=nr(),e=e==null?null:e+"");for(var o=this._groups,r=o.length,i=0;i<r;++i)for(var a=o[i],s=a.length,l,u=0;u<s;++u)(l=a[u])&&oo(l,e,t,u,a,n||Yd(l,t));return new it(o,this._parents,e,t)}_n.prototype.interrupt=Gc;_n.prototype.transition=Xd;const Cn=e=>()=>e;function Ud(e,{sourceEvent:t,target:n,transform:o,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function ot(e,t,n){this.k=e,this.x=t,this.y=n}ot.prototype={constructor:ot,scale:function(e){return e===1?this:new ot(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ot(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ut=new ot(1,0,0);ot.prototype;function yo(e){e.stopImmediatePropagation()}function Kt(e){e.preventDefault(),e.stopImmediatePropagation()}function jd(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Zd(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function $r(){return this.__zoom||Ut}function Kd(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Wd(){return navigator.maxTouchPoints||"ontouchstart"in this}function Qd(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function Jd(){var e=jd,t=Zd,n=Qd,o=Kd,r=Wd,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=zc,u=eo("start","zoom","end"),c,f,h,m=500,x=150,v=0,w=10;function b(_){_.property("__zoom",$r).on("wheel.zoom",W,{passive:!1}).on("mousedown.zoom",J).on("dblclick.zoom",z).filter(r).on("touchstart.zoom",y).on("touchmove.zoom",ee).on("touchend.zoom touchcancel.zoom",ue).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(_,P,N,A){var H=_.selection?_.selection():_;H.property("__zoom",$r),_!==H?$(_,P,N,A):H.interrupt().each(function(){X(this,arguments).event(A).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},b.scaleBy=function(_,P,N,A){b.scaleTo(_,function(){var H=this.__zoom.k,V=typeof P=="function"?P.apply(this,arguments):P;return H*V},N,A)},b.scaleTo=function(_,P,N,A){b.transform(_,function(){var H=t.apply(this,arguments),V=this.__zoom,Y=N==null?E(H):typeof N=="function"?N.apply(this,arguments):N,q=V.invert(Y),ae=typeof P=="function"?P.apply(this,arguments):P;return n(C(p(V,ae),Y,q),H,a)},N,A)},b.translateBy=function(_,P,N,A){b.transform(_,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof N=="function"?N.apply(this,arguments):N),t.apply(this,arguments),a)},null,A)},b.translateTo=function(_,P,N,A,H){b.transform(_,function(){var V=t.apply(this,arguments),Y=this.__zoom,q=A==null?E(V):typeof A=="function"?A.apply(this,arguments):A;return n(Ut.translate(q[0],q[1]).scale(Y.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof N=="function"?-N.apply(this,arguments):-N),V,a)},A,H)};function p(_,P){return P=Math.max(i[0],Math.min(i[1],P)),P===_.k?_:new ot(P,_.x,_.y)}function C(_,P,N){var A=P[0]-N[0]*_.k,H=P[1]-N[1]*_.k;return A===_.x&&H===_.y?_:new ot(_.k,A,H)}function E(_){return[(+_[0][0]+ +_[1][0])/2,(+_[0][1]+ +_[1][1])/2]}function $(_,P,N,A){_.on("start.zoom",function(){X(this,arguments).event(A).start()}).on("interrupt.zoom end.zoom",function(){X(this,arguments).event(A).end()}).tween("zoom",function(){var H=this,V=arguments,Y=X(H,V).event(A),q=t.apply(H,V),ae=N==null?E(q):typeof N=="function"?N.apply(H,V):N,Z=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),F=H.__zoom,te=typeof P=="function"?P.apply(H,V):P,ge=l(F.invert(ae).concat(Z/F.k),te.invert(ae).concat(Z/te.k));return function(ce){if(ce===1)ce=te;else{var me=ge(ce),O=Z/me[2];ce=new ot(O,ae[0]-me[0]*O,ae[1]-me[1]*O)}Y.zoom(null,ce)}})}function X(_,P,N){return!N&&_.__zooming||new G(_,P)}function G(_,P){this.that=_,this.args=P,this.active=0,this.sourceEvent=null,this.extent=t.apply(_,P),this.taps=0}G.prototype={event:function(_){return _&&(this.sourceEvent=_),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(_,P){return this.mouse&&_!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&_!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&_!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(_){var P=Ge(this.that).datum();u.call(_,this.that,new Ud(_,{sourceEvent:this.sourceEvent,target:b,type:_,transform:this.that.__zoom,dispatch:u}),P)}};function W(_,...P){if(!e.apply(this,arguments))return;var N=X(this,P).event(_),A=this.__zoom,H=Math.max(i[0],Math.min(i[1],A.k*Math.pow(2,o.apply(this,arguments)))),V=je(_);if(N.wheel)(N.mouse[0][0]!==V[0]||N.mouse[0][1]!==V[1])&&(N.mouse[1]=A.invert(N.mouse[0]=V)),clearTimeout(N.wheel);else{if(A.k===H)return;N.mouse=[V,A.invert(V)],Bn(this),N.start()}Kt(_),N.wheel=setTimeout(Y,x),N.zoom("mouse",n(C(p(A,H),N.mouse[0],N.mouse[1]),N.extent,a));function Y(){N.wheel=null,N.end()}}function J(_,...P){if(h||!e.apply(this,arguments))return;var N=_.currentTarget,A=X(this,P,!0).event(_),H=Ge(_.view).on("mousemove.zoom",ae,!0).on("mouseup.zoom",Z,!0),V=je(_,N),Y=_.clientX,q=_.clientY;ea(_.view),yo(_),A.mouse=[V,this.__zoom.invert(V)],Bn(this),A.start();function ae(F){if(Kt(F),!A.moved){var te=F.clientX-Y,ge=F.clientY-q;A.moved=te*te+ge*ge>v}A.event(F).zoom("mouse",n(C(A.that.__zoom,A.mouse[0]=je(F,N),A.mouse[1]),A.extent,a))}function Z(F){H.on("mousemove.zoom mouseup.zoom",null),ta(F.view,A.moved),Kt(F),A.event(F).end()}}function z(_,...P){if(e.apply(this,arguments)){var N=this.__zoom,A=je(_.changedTouches?_.changedTouches[0]:_,this),H=N.invert(A),V=N.k*(_.shiftKey?.5:2),Y=n(C(p(N,V),A,H),t.apply(this,P),a);Kt(_),s>0?Ge(this).transition().duration(s).call($,Y,A,_):Ge(this).call(b.transform,Y,A,_)}}function y(_,...P){if(e.apply(this,arguments)){var N=_.touches,A=N.length,H=X(this,P,_.changedTouches.length===A).event(_),V,Y,q,ae;for(yo(_),Y=0;Y<A;++Y)q=N[Y],ae=je(q,this),ae=[ae,this.__zoom.invert(ae),q.identifier],H.touch0?!H.touch1&&H.touch0[2]!==ae[2]&&(H.touch1=ae,H.taps=0):(H.touch0=ae,V=!0,H.taps=1+!!c);c&&(c=clearTimeout(c)),V&&(H.taps<2&&(f=ae[0],c=setTimeout(function(){c=null},m)),Bn(this),H.start())}}function ee(_,...P){if(this.__zooming){var N=X(this,P).event(_),A=_.changedTouches,H=A.length,V,Y,q,ae;for(Kt(_),V=0;V<H;++V)Y=A[V],q=je(Y,this),N.touch0&&N.touch0[2]===Y.identifier?N.touch0[0]=q:N.touch1&&N.touch1[2]===Y.identifier&&(N.touch1[0]=q);if(Y=N.that.__zoom,N.touch1){var Z=N.touch0[0],F=N.touch0[1],te=N.touch1[0],ge=N.touch1[1],ce=(ce=te[0]-Z[0])*ce+(ce=te[1]-Z[1])*ce,me=(me=ge[0]-F[0])*me+(me=ge[1]-F[1])*me;Y=p(Y,Math.sqrt(ce/me)),q=[(Z[0]+te[0])/2,(Z[1]+te[1])/2],ae=[(F[0]+ge[0])/2,(F[1]+ge[1])/2]}else if(N.touch0)q=N.touch0[0],ae=N.touch0[1];else return;N.zoom("touch",n(C(Y,q,ae),N.extent,a))}}function ue(_,...P){if(this.__zooming){var N=X(this,P).event(_),A=_.changedTouches,H=A.length,V,Y;for(yo(_),h&&clearTimeout(h),h=setTimeout(function(){h=null},m),V=0;V<H;++V)Y=A[V],N.touch0&&N.touch0[2]===Y.identifier?delete N.touch0:N.touch1&&N.touch1[2]===Y.identifier&&delete N.touch1;if(N.touch1&&!N.touch0&&(N.touch0=N.touch1,delete N.touch1),N.touch0)N.touch0[1]=this.__zoom.invert(N.touch0[0]);else if(N.end(),N.taps===2&&(Y=je(Y,this),Math.hypot(f[0]-Y[0],f[1]-Y[1])<w)){var q=Ge(this).on("dblclick.zoom");q&&q.apply(this,arguments)}}}return b.wheelDelta=function(_){return arguments.length?(o=typeof _=="function"?_:Cn(+_),b):o},b.filter=function(_){return arguments.length?(e=typeof _=="function"?_:Cn(!!_),b):e},b.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:Cn(!!_),b):r},b.extent=function(_){return arguments.length?(t=typeof _=="function"?_:Cn([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),b):t},b.scaleExtent=function(_){return arguments.length?(i[0]=+_[0],i[1]=+_[1],b):[i[0],i[1]]},b.translateExtent=function(_){return arguments.length?(a[0][0]=+_[0][0],a[1][0]=+_[1][0],a[0][1]=+_[0][1],a[1][1]=+_[1][1],b):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},b.constrain=function(_){return arguments.length?(n=_,b):n},b.duration=function(_){return arguments.length?(s=+_,b):s},b.interpolate=function(_){return arguments.length?(l=_,b):l},b.on=function(){var _=u.on.apply(u,arguments);return _===u?b:_},b.clickDistance=function(_){return arguments.length?(v=(_=+_)*_,b):Math.sqrt(v)},b.tapDistance=function(_){return arguments.length?(w=+_,b):w},b}var ne=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(ne||{}),ir=(e=>(e.Partial="partial",e.Full="full",e))(ir||{}),xt=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(xt||{}),Tt=(e=>(e.Strict="strict",e.Loose="loose",e))(Tt||{}),Bo=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(Bo||{}),tn=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(tn||{});function Ho(e){var t,n;const o=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,r=typeof(o==null?void 0:o.hasAttribute)=="function"?o.hasAttribute("contenteditable"):!1,i=typeof(o==null?void 0:o.closest)=="function"?o.closest(".nokey"):null;return["INPUT","SELECT","TEXTAREA"].includes(o==null?void 0:o.nodeName)||r||!!i}function ef(e){return e.ctrlKey||e.metaKey||e.shiftKey}function Br(e,t,n,o){const r=t.split("+").map(i=>i.trim().toLowerCase());return r.length===1?e.toLowerCase()===t.toLowerCase():(o?n.delete(e.toLowerCase()):n.add(e.toLowerCase()),r.every((i,a)=>n.has(i)&&Array.from(n.values())[a]===r[a]))}function tf(e,t){return n=>{if(!n.code&&!n.key)return!1;const o=nf(n.code,e);return Array.isArray(e)?e.some(r=>Br(n[o],r,t,n.type==="keyup")):Br(n[o],e,t,n.type==="keyup")}}function nf(e,t){return typeof t=="string"?e===t?"code":"key":t.includes(e)?"code":"key"}function nn(e,t){const n=Ie(()=>{var c;return(c=_e(t==null?void 0:t.actInsideInputWithModifier))!=null?c:!1}),o=Ie(()=>{var c;return(c=_e(t==null?void 0:t.target))!=null?c:window}),r=he(_e(e)===!0);let i=!1;const a=new Set;let s=u(_e(e));be(()=>_e(e),(c,f)=>{typeof f=="boolean"&&typeof c!="boolean"&&l(),s=u(c)},{immediate:!0}),We(()=>{Li(window,["blur","contextmenu"],l)}),yr((...c)=>s(...c),c=>{i=ef(c),!((!i||i&&!n.value)&&Ho(c))&&(c.preventDefault(),r.value=!0)},{eventName:"keydown",target:o}),yr((...c)=>s(...c),c=>{if(r.value){if((!i||i&&!n.value)&&Ho(c))return;l()}},{eventName:"keyup",target:o});function l(){i=!1,a.clear(),r.value=!1}function u(c){return c===null?(l(),()=>!1):typeof c=="boolean"?(l(),r.value=c,()=>!1):Array.isArray(c)||typeof c=="string"?tf(c,a):c}return r}const pa="vue-flow__node-desc",ma="vue-flow__edge-desc",of="vue-flow__aria-live",va=["Enter"," ","Escape"],Gt={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function Ro(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function Vo(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)}function ro(e){return{width:e.offsetWidth,height:e.offsetHeight}}function kt(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function ya(e,t){return{x:kt(e.x,t[0][0],t[1][0]),y:kt(e.y,t[0][1],t[1][1])}}function Hr(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function vt(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function Mt(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!vt(e)}function en(e){return Mt(e)&&"computedPosition"in e}function Mn(e){return!Number.isNaN(e)&&Number.isFinite(e)}function rf(e){return Mn(e.width)&&Mn(e.height)&&Mn(e.x)&&Mn(e.y)}function af(e,t,n){var r;const o={id:e.id.toString(),type:(r=e.type)!=null?r:"default",dimensions:Vt({width:0,height:0}),computedPosition:Vt({z:0,...e.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:Pe(e.data)?e.data:{},events:Vt(Pe(e.events)?e.events:{})};return Object.assign(t!=null?t:o,e,{id:e.id.toString(),parentNode:n})}function _a(e,t,n){var a,s,l,u,c,f,h;var o,r;const i={id:e.id.toString(),type:(s=(a=e.type)!=null?a:t==null?void 0:t.type)!=null?s:"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(o=e.sourceHandle)==null?void 0:o.toString(),targetHandle:(r=e.targetHandle)==null?void 0:r.toString(),updatable:(l=e.updatable)!=null?l:n==null?void 0:n.updatable,selectable:(u=e.selectable)!=null?u:n==null?void 0:n.selectable,focusable:(c=e.focusable)!=null?c:n==null?void 0:n.focusable,data:Pe(e.data)?e.data:{},events:Vt(Pe(e.events)?e.events:{}),label:(f=e.label)!=null?f:"",interactionWidth:(h=e.interactionWidth)!=null?h:n==null?void 0:n.interactionWidth,...n!=null?n:{}};return Object.assign(t!=null?t:i,e,{id:e.id.toString()})}function wa(e,t,n,o){const r=typeof e=="string"?e:e.id,i=new Set,a=o==="source"?"target":"source";for(const s of n)s[a]===r&&i.add(s[o]);return t.filter(s=>i.has(s.id))}function sf(...e){if(e.length===3){const[i,a,s]=e;return wa(i,a,s,"target")}const[t,n]=e,o=typeof t=="string"?t:t.id;return n.filter(i=>vt(i)&&i.source===o).map(i=>n.find(a=>Mt(a)&&a.id===i.target))}function lf(...e){if(e.length===3){const[i,a,s]=e;return wa(i,a,s,"source")}const[t,n]=e,o=typeof t=="string"?t:t.id;return n.filter(i=>vt(i)&&i.target===o).map(i=>n.find(a=>Mt(a)&&a.id===i.source))}function ba({source:e,sourceHandle:t,target:n,targetHandle:o}){return`vueflow__edge-${e}${t!=null?t:""}-${n}${o!=null?o:""}`}function uf(e,t){return t.some(n=>vt(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function xa({x:e,y:t},{x:n,y:o,zoom:r}){return{x:e*r+n,y:t*r+o}}function Un({x:e,y:t},{x:n,y:o,zoom:r},i=!1,[a,s]=[1,1]){const l={x:(e-n)/r,y:(t-o)/r};return i?{x:a*Math.round(l.x/a),y:s*Math.round(l.y/s)}:l}function cf(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function Ea({x:e,y:t,width:n,height:o}){return{x:e,y:t,x2:e+n,y2:t+o}}function df({x:e,y:t,x2:n,y2:o}){return{x:e,y:t,width:n-e,height:o-t}}function Sa(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<e.length;n++){const o=e[n];t=cf(t,Ea({...o.computedPosition,...o.dimensions}))}return df(t)}function Na(e,t,n={x:0,y:0,zoom:1},o=!1,r=!1){var s,l,u,c;const i={...Un(t,n),width:t.width/n.zoom,height:t.height/n.zoom},a=[];for(const f of e){const{dimensions:h,selectable:m=!0,hidden:x=!1}=f,v=(l=(s=h.width)!=null?s:f.width)!=null?l:null,w=(c=(u=h.height)!=null?u:f.height)!=null?c:null;if(r&&!m||x)continue;const b=Vo(i,Ro(f)),p=v===null||w===null,C=o&&b>0,E=(v!=null?v:0)*(w!=null?w:0);(p||C||b>=E||f.dragging)&&a.push(f)}return a}function Ca(e,t){const n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(const o of e)n.add(o.id);return t.filter(o=>n.has(o.source)||n.has(o.target))}function Rr(e,t,n,o,r,i=.1,a={x:0,y:0}){var v,w;const s=t/(e.width*(1+i)),l=n/(e.height*(1+i)),u=Math.min(s,l),c=kt(u,o,r),f=e.x+e.width/2,h=e.y+e.height/2,m=t/2-f*c+((v=a.x)!=null?v:0),x=n/2-h*c+((w=a.y)!=null?w:0);return{x:m,y:x,zoom:c}}function ff(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function Ma(e,t){if(!e.parentNode)return!1;const n=t(e.parentNode);return n?n.selected?!0:Ma(n,t):!1}function hn(e,t){return typeof e=="undefined"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`}function Vr(e,t,n){return e<t?kt(Math.abs(e-t),1,t)/t:e>n?-kt(Math.abs(e-n),1,t)/t:0}function Ia(e,t,n=15,o=40){const r=Vr(e.x,o,t.width-o)*n,i=Vr(e.y,o,t.height-o)*n;return[r,i]}function _o(e,t){var n,o;if(t){const r=e.position.x+e.dimensions.width-t.dimensions.width,i=e.position.y+e.dimensions.height-t.dimensions.height;if(r>0||i>0||e.position.x<0||e.position.y<0){let a={};if(typeof t.style=="function"?a={...t.style(t)}:t.style&&(a={...t.style}),a.width=(n=a.width)!=null?n:`${t.dimensions.width}px`,a.height=(o=a.height)!=null?o:`${t.dimensions.height}px`,r>0)if(typeof a.width=="string"){const s=Number(a.width.replace("px",""));a.width=`${s+r}px`}else a.width+=r;if(i>0)if(typeof a.height=="string"){const s=Number(a.height.replace("px",""));a.height=`${s+i}px`}else a.height+=i;if(e.position.x<0){const s=Math.abs(e.position.x);if(t.position.x=t.position.x-s,typeof a.width=="string"){const l=Number(a.width.replace("px",""));a.width=`${l+s}px`}else a.width+=s;e.position.x=0}if(e.position.y<0){const s=Math.abs(e.position.y);if(t.position.y=t.position.y-s,typeof a.height=="string"){const l=Number(a.height.replace("px",""));a.height=`${l+s}px`}else a.height+=s;e.position.y=0}t.dimensions.width=Number(a.width.toString().replace("px","")),t.dimensions.height=Number(a.height.toString().replace("px","")),typeof t.style=="function"?t.style=s=>{const l=t.style;return{...l(s),...a}}:t.style={...t.style,...a}}}}function Lr(e,t){var n,o;const r=e.filter(a=>a.type==="add"||a.type==="remove");for(const a of r)if(a.type==="add")t.findIndex(l=>l.id===a.item.id)===-1&&t.push(a.item);else if(a.type==="remove"){const s=t.findIndex(l=>l.id===a.id);s!==-1&&t.splice(s,1)}const i=t.map(a=>a.id);for(const a of t)for(const s of e)if(s.id===a.id)switch(s.type){case"select":a.selected=s.selected;break;case"position":if(en(a)&&(typeof s.position!="undefined"&&(a.position=s.position),typeof s.dragging!="undefined"&&(a.dragging=s.dragging),a.expandParent&&a.parentNode)){const l=t[i.indexOf(a.parentNode)];l&&en(l)&&_o(a,l)}break;case"dimensions":if(en(a)&&(typeof s.dimensions!="undefined"&&(a.dimensions=s.dimensions),typeof s.updateStyle!="undefined"&&s.updateStyle&&(a.style={...a.style||{},width:`${(n=s.dimensions)==null?void 0:n.width}px`,height:`${(o=s.dimensions)==null?void 0:o.height}px`}),typeof s.resizing!="undefined"&&(a.resizing=s.resizing),a.expandParent&&a.parentNode)){const l=t[i.indexOf(a.parentNode)];l&&en(l)&&(!!l.dimensions.width&&!!l.dimensions.height?_o(a,l):Ze(()=>{_o(a,l)}))}break}return t}function ct(e,t){return{id:e,type:"select",selected:t}}function Fr(e){return{item:e,type:"add"}}function Gr(e){return{id:e,type:"remove"}}function qr(e,t,n,o,r){return{id:e,source:t,target:n,sourceHandle:o||null,targetHandle:r||null,type:"remove"}}function ft(e,t=new Set,n=!1){const o=[];for(const[r,i]of e){const a=t.has(r);!(i.selected===void 0&&!a)&&i.selected!==a&&(n&&(i.selected=a),o.push(ct(i.id,a)))}return o}function j(e){const t=new Set;let n=!1;const o=()=>t.size>0;e&&(n=!0,t.add(e));const r=s=>{t.delete(s)};return{on:s=>{e&&n&&t.delete(e),t.add(s);const l=()=>{r(s),e&&n&&t.add(e)};return Jn(l),{off:l}},off:r,trigger:s=>Promise.all(Array.from(t).map(l=>l(s))),hasListeners:o,fns:t}}function Yr(e,t,n){let o=e;do{if(o&&o.matches(t))return!0;if(o===n)return!1;o=o.parentElement}while(o);return!1}function hf(e,t,n,o,r){var i,a;const s=[];for(const l of e)(l.selected||l.id===r)&&(!l.parentNode||!Ma(l,o))&&(l.draggable||t&&typeof l.draggable=="undefined")&&s.push(Vt({id:l.id,position:l.position||{x:0,y:0},distance:{x:n.x-((i=l.computedPosition)==null?void 0:i.x)||0,y:n.y-((a=l.computedPosition)==null?void 0:a.y)||0},from:l.computedPosition,extent:l.extent,parentNode:l.parentNode,dimensions:l.dimensions,expandParent:l.expandParent}));return s}function wo({id:e,dragItems:t,findNode:n}){const o=[];for(const r of t){const i=n(r.id);i&&o.push(i)}return[e?o.find(r=>r.id===e):o[0],o]}function Pa(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function gf(e,t,n){const[o,r,i,a]=typeof e!="string"?Pa(e.padding):[0,0,0,0];return n&&typeof n.computedPosition.x!="undefined"&&typeof n.computedPosition.y!="undefined"&&typeof n.dimensions.width!="undefined"&&typeof n.dimensions.height!="undefined"?[[n.computedPosition.x+a,n.computedPosition.y+o],[n.computedPosition.x+n.dimensions.width-r,n.computedPosition.y+n.dimensions.height-i]]:!1}function pf(e,t,n,o){let r=e.extent||n;if((r==="parent"||!Array.isArray(r)&&(r==null?void 0:r.range)==="parent")&&!e.expandParent)if(e.parentNode&&o&&e.dimensions.width&&e.dimensions.height){const i=gf(r,e,o);i&&(r=i)}else t(new ke(Te.NODE_EXTENT_INVALID,e.id)),r=n;else if(Array.isArray(r)){const i=(o==null?void 0:o.computedPosition.x)||0,a=(o==null?void 0:o.computedPosition.y)||0;r=[[r[0][0]+i,r[0][1]+a],[r[1][0]+i,r[1][1]+a]]}else if(r!=="parent"&&(r!=null&&r.range)&&Array.isArray(r.range)){const[i,a,s,l]=Pa(r.padding),u=(o==null?void 0:o.computedPosition.x)||0,c=(o==null?void 0:o.computedPosition.y)||0;r=[[r.range[0][0]+u+l,r.range[0][1]+c+i],[r.range[1][0]+u-a,r.range[1][1]+c-s]]}return r==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:r}function mf({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function ar(e,t,n,o,r){const i=mf(e.dimensions,pf(e,n,o,r)),a=ya(t,i);return{position:{x:a.x-((r==null?void 0:r.computedPosition.x)||0),y:a.y-((r==null?void 0:r.computedPosition.y)||0)},computedPosition:a}}function jn(e,t,n=ne.Left){var l,u,c;const o=((l=t==null?void 0:t.x)!=null?l:0)+e.computedPosition.x,r=((u=t==null?void 0:t.y)!=null?u:0)+e.computedPosition.y,{width:i,height:a}=t!=null?t:_f(e);switch((c=t==null?void 0:t.position)!=null?c:n){case ne.Top:return{x:o+i/2,y:r};case ne.Right:return{x:o+i,y:r+a/2};case ne.Bottom:return{x:o+i/2,y:r+a};case ne.Left:return{x:o,y:r+a/2}}}function Xr(e=[],t){return e.length&&(t?e.find(n=>n.id===t):e[0])||null}function vf({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:r,targetHeight:i,width:a,height:s,viewport:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+r),y2:Math.max(e.y+o,t.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=Ea({x:(0-l.x)/l.zoom,y:(0-l.y)/l.zoom,width:a/l.zoom,height:s/l.zoom}),f=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),h=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(f*h)>0}function yf(e,t,n=!1){const o=typeof e.zIndex=="number";let r=o?e.zIndex:0;const i=t(e.source),a=t(e.target);return!i||!a?0:(n&&(r=o?e.zIndex:Math.max(i.computedPosition.z||0,a.computedPosition.z||0)),r)}var Te=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(Te||{});const Ur={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class ke extends Error{constructor(t,...n){var o;super((o=Ur[t])==null?void 0:o.call(Ur,...n)),this.name="VueFlowError",this.code=t,this.args=n}}function sr(e){return"clientX"in e}function pt(e,t){var s,l;var n,o;const r=sr(e),i=r?e.clientX:(n=e.touches)==null?void 0:n[0].clientX,a=r?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:i-((s=t==null?void 0:t.left)!=null?s:0),y:a-((l=t==null?void 0:t.top)!=null?l:0)}}const Zn=()=>{var e;return typeof navigator!="undefined"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function _f(e){var o,r,i,a;var t,n;return{width:(r=(o=(t=e.dimensions)==null?void 0:t.width)!=null?o:e.width)!=null?r:0,height:(a=(i=(n=e.dimensions)==null?void 0:n.height)!=null?i:e.height)!=null?a:0}}function Ta(){return{handleDomNode:null,isValid:!1,connection:{source:"",target:"",sourceHandle:null,targetHandle:null},endHandle:null}}function bo(e){e==null||e.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function jr(e,t,n,o){const r=[];for(const i of t[n]||[])if(`${e.id}-${i.id}-${n}`!==o){const{x:a,y:s}=jn(e,i);r.push({id:i.id||null,type:n,nodeId:e.id,x:a,y:s})}return r}function wf(e,t,n,o,r,i){const{x:a,y:s}=pt(e),u=t.elementsFromPoint(a,s).find(x=>x.classList.contains("vue-flow__handle"));if(u){const x=u.getAttribute("data-nodeid");if(x){const v=lr(void 0,u),w=u.getAttribute("data-handleid"),b=i({nodeId:x,id:w,type:v});if(b){const p=r.find(C=>C.nodeId===x&&C.type===v&&C.id===w);return{handle:{id:w,type:v,nodeId:x,x:(p==null?void 0:p.x)||n.x,y:(p==null?void 0:p.y)||n.y},validHandleResult:b}}}}let c=[],f=Number.POSITIVE_INFINITY;for(const x of r){const v=Math.sqrt((x.x-n.x)**2+(x.y-n.y)**2);if(v<=o){const w=i(x);v<=f&&(v<f?c=[{handle:x,validHandleResult:w}]:v===f&&c.push({handle:x,validHandleResult:w}),f=v)}}if(!c.length)return{handle:null,validHandleResult:Ta()};if(c.length===1)return c[0];const h=c.some(({validHandleResult:x})=>x.isValid),m=c.some(({handle:x})=>x.type==="target");return c.find(({handle:x,validHandleResult:v})=>m?x.type==="target":h?v.isValid:!0)||c[0]}function Zr(e,t,n,o,r,i,a,s,l,u,c){const f=i==="target",h=s.querySelector(`.vue-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),{x:m,y:x}=pt(e),v=s.elementFromPoint(m,x),w=v!=null&&v.classList.contains("vue-flow__handle")?v:h,b=Ta();if(w){b.handleDomNode=w;const p=lr(void 0,w),C=w.getAttribute("data-nodeid"),E=w.getAttribute("data-handleid"),$=w.classList.contains("connectable"),X=w.classList.contains("connectableend"),G={source:f?C:o,sourceHandle:f?E:r,target:f?o:C,targetHandle:f?r:E};b.connection=G,$&&X&&(n===Tt.Strict?f&&p==="source"||!f&&p==="target":C!==o||E!==r)&&(b.isValid=a(G,{edges:l,nodes:u,sourceNode:c(G.source),targetNode:c(G.target)}),b.endHandle={nodeId:C,handleId:E,type:p,position:b.isValid?w.getAttribute("data-handlepos"):null})}return b}function bf({nodes:e,nodeId:t,handleId:n,handleType:o}){const r=[];for(let i=0;i<e.length;i++){const a=e[i],{handleBounds:s}=a;let l=[],u=[];s&&(l=jr(a,s,"source",`${t}-${n}-${o}`),u=jr(a,s,"target",`${t}-${n}-${o}`)),r.push(...l,...u)}return r}function lr(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function xf(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}const Ef=["production","prod"];function io(e,...t){ka()&&console.warn(`[Vue Flow]: ${e}`,...t)}function ka(){return!Ef.includes("production")}function Kr(e,t,n,o){const r=t.querySelectorAll(`.vue-flow__handle${e}`);return Array.from(r).map(a=>{const s=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(s.left-n.left)/o,y:(s.top-n.top)/o,...ro(a)}})}function Lo(e,t,n,o,r,i=!1,a){r.value=!1,e.selected?(i||e.selected&&t)&&(o([e]),Ze(()=>{a.blur()})):n([e])}function Pe(e){return typeof se(e)!="undefined"}function Sf(e,t,n,o){var i;if(!e||!e.source||!e.target)return n(new ke(Te.EDGE_INVALID,(i=e==null?void 0:e.id)!=null?i:"[ID UNKNOWN]")),!1;let r;return vt(e)?r=e:r={...e,id:ba(e)},r=_a(r,void 0,o),uf(r,t)?!1:r}function Nf(e,t,n,o,r,i){if(!t.source||!t.target)return i(new ke(Te.EDGE_INVALID,e.id)),!1;const a=o(e.id);if(!a)return i(new ke(Te.EDGE_NOT_FOUND,e.id)),!1;const{id:s,...l}=e,u={...l,id:r?ba(t):s,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle};return n.splice(n.indexOf(a),1,u),u}function Wr(e,t,n){const o={},r=[];for(let i=0;i<e.length;++i){const a=e[i];if(!Mt(a)){n(new ke(Te.NODE_INVALID,a==null?void 0:a.id)||`[ID UNKNOWN|INDEX ${i}]`);continue}const s=af(a,t(a.id),a.parentNode);a.parentNode&&(o[a.parentNode]=!0),r[i]=s}for(const i of r){const a=t(i.parentNode)||r.find(s=>s.id===i.parentNode);i.parentNode&&!a&&n(new ke(Te.NODE_MISSING_PARENT,i.id,i.parentNode)),(i.parentNode||o[i.id])&&(o[i.id]&&(i.isParent=!0),a&&(a.isParent=!0))}return r}function Qr(e,t){e.clear();for(const n of t){const{id:o,source:r,target:i,sourceHandle:a=null,targetHandle:s=null}=n,l=`${r}-source-${a}`,u=`${i}-target-${s}`,c=e.get(l)||new Map,f=e.get(u)||new Map,h=Vt({edgeId:o,source:r,target:i,sourceHandle:a,targetHandle:s});e.set(l,c.set(`${i}-${s}`,h)),e.set(u,f.set(`${r}-${a}`,h))}}function Jr(e,t,n,o,r,i,a,s){const l=[];for(const u of e){const c=vt(u)?u:Sf(u,s,r,i);if(!c)continue;const f=n(c.source),h=n(c.target);if(!f||!h){r(new ke(Te.EDGE_SOURCE_TARGET_MISSING,c.id,c.source,c.target));continue}if(!f){r(new ke(Te.EDGE_SOURCE_MISSING,c.id,c.source));continue}if(!h){r(new ke(Te.EDGE_TARGET_MISSING,c.id,c.target));continue}if(t&&!t(c,{edges:s,nodes:a,sourceNode:f,targetNode:h})){r(new ke(Te.EDGE_INVALID,c.id));continue}const m=o(c.id);l.push({..._a(c,m,i),sourceNode:f,targetNode:h})}return l}const ei=Symbol("vueFlow"),Aa=Symbol("nodeId"),Oa=Symbol("nodeRef"),Cf=Symbol("edgeId"),Mf=Symbol("edgeRef"),ao=Symbol("slots");function Da(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:o,noDragClassName:r,nodes:i,nodeExtent:a,nodeDragThreshold:s,viewport:l,autoPanOnNodeDrag:u,autoPanSpeed:c,nodesDraggable:f,panBy:h,findNode:m,multiSelectionActive:x,nodesSelectionActive:v,selectNodesOnDrag:w,removeSelectedElements:b,addSelectedNodes:p,updateNodePositions:C,emits:E}=Me(),{onStart:$,onDrag:X,onStop:G,onClick:W,el:J,disabled:z,id:y,selectable:ee,dragHandle:ue}=e,_=he(!1);let P=[],N,A=null,H={x:void 0,y:void 0},V={x:0,y:0},Y=null,q=!1,ae=0,Z=!1;const F=Tf(),te=({x:k,y:R})=>{H={x:k,y:R};let D=!1;if(P=P.map(d=>{const g={x:k-d.distance.x,y:R-d.distance.y};n.value&&(g.x=o.value[0]*Math.round(g.x/o.value[0]),g.y=o.value[1]*Math.round(g.y/o.value[1]));const{computedPosition:S}=ar(d,g,E.error,a.value,d.parentNode?m(d.parentNode):void 0);return D=D||d.position.x!==S.x||d.position.y!==S.y,d.position=S,d}),!!D&&(C(P,!0,!0),_.value=!0,Y)){const[d,g]=wo({id:y,dragItems:P,findNode:m});X({event:Y,node:d,nodes:g})}},ge=()=>{var D,d;if(!A)return;const[k,R]=Ia(V,A,c.value);if(k!==0||R!==0){const g={x:((D=H.x)!=null?D:0)-k/l.value.zoom,y:((d=H.y)!=null?d:0)-R/l.value.zoom};h({x:k,y:R})&&te(g)}ae=requestAnimationFrame(ge)},ce=(k,R)=>{q=!0;const D=m(y);!w.value&&!x.value&&D&&(D.selected||b()),D&&_e(ee)&&w.value&&Lo(D,x.value,p,b,v,!1,R);const d=F(k);if(H=d,P=hf(i.value,f.value,d,m,y),P.length){const[g,S]=wo({id:y,dragItems:P,findNode:m});$({event:k.sourceEvent,node:g,nodes:S})}},me=(k,R)=>{var D;k.sourceEvent.type==="touchmove"&&k.sourceEvent.touches.length>1||(s.value===0&&ce(k,R),H=F(k),A=((D=t.value)==null?void 0:D.getBoundingClientRect())||null,V=pt(k.sourceEvent,A))},O=(k,R)=>{var d,g;const D=F(k);if(!Z&&q&&u.value&&(Z=!0,ge()),!q){const S=D.xSnapped-((d=H.x)!=null?d:0),T=D.ySnapped-((g=H.y)!=null?g:0);Math.sqrt(S*S+T*T)>s.value&&ce(k,R)}(H.x!==D.xSnapped||H.y!==D.ySnapped)&&P.length&&q&&(Y=k.sourceEvent,V=pt(k.sourceEvent,A),te(D))},U=k=>{if(!_.value&&!x.value&&(W==null||W(k.sourceEvent)),_.value=!1,Z=!1,q=!1,H={x:void 0,y:void 0},cancelAnimationFrame(ae),P.length){C(P,!1,!1);const[R,D]=wo({id:y,dragItems:P,findNode:m});G({event:k.sourceEvent,node:R,nodes:D})}};return be([()=>_e(z),J],([k,R],D,d)=>{if(R){const g=Ge(R);k||(N=uc().on("start",S=>me(S,R)).on("drag",S=>O(S,R)).on("end",S=>U(S)).filter(S=>{const T=S.target,L=_e(ue);return!S.button&&(!r.value||!Yr(T,`.${r.value}`,R)&&(!L||Yr(T,L,R)))}),g.call(N)),d(()=>{g.on(".drag",null),N&&(N.on("start",null),N.on("drag",null),N.on("end",null))})}}),_}function If(){return{doubleClick:j(),click:j(),mouseEnter:j(),mouseMove:j(),mouseLeave:j(),contextMenu:j(),updateStart:j(),update:j(),updateEnd:j()}}function Pf(e,t){const n=If();return n.doubleClick.on(o=>{var r,i;t.edgeDoubleClick(o),(i=(r=e.events)==null?void 0:r.doubleClick)==null||i.call(r,o)}),n.click.on(o=>{var r,i;t.edgeClick(o),(i=(r=e.events)==null?void 0:r.click)==null||i.call(r,o)}),n.mouseEnter.on(o=>{var r,i;t.edgeMouseEnter(o),(i=(r=e.events)==null?void 0:r.mouseEnter)==null||i.call(r,o)}),n.mouseMove.on(o=>{var r,i;t.edgeMouseMove(o),(i=(r=e.events)==null?void 0:r.mouseMove)==null||i.call(r,o)}),n.mouseLeave.on(o=>{var r,i;t.edgeMouseLeave(o),(i=(r=e.events)==null?void 0:r.mouseLeave)==null||i.call(r,o)}),n.contextMenu.on(o=>{var r,i;t.edgeContextMenu(o),(i=(r=e.events)==null?void 0:r.contextMenu)==null||i.call(r,o)}),n.updateStart.on(o=>{var r,i;t.edgeUpdateStart(o),(i=(r=e.events)==null?void 0:r.updateStart)==null||i.call(r,o)}),n.update.on(o=>{var r,i;t.edgeUpdate(o),(i=(r=e.events)==null?void 0:r.update)==null||i.call(r,o)}),n.updateEnd.on(o=>{var r,i;t.edgeUpdateEnd(o),(i=(r=e.events)==null?void 0:r.updateEnd)==null||i.call(r,o)}),Object.entries(n).reduce((o,[r,i])=>(o.emit[r]=i.trigger,o.on[r]=i.on,o),{emit:{},on:{}})}function Tf(){const{viewport:e,snapGrid:t,snapToGrid:n}=Me();return({sourceEvent:o})=>{const r=o.touches?o.touches[0].clientX:o.clientX,i=o.touches?o.touches[0].clientY:o.clientY,a={x:(r-e.value.x)/e.value.zoom,y:(i-e.value.y)/e.value.zoom};return{xSnapped:n.value?t.value[0]*Math.round(a.x/t.value[0]):a.x,ySnapped:n.value?t.value[1]*Math.round(a.y/t.value[1]):a.y,...a}}}function In(){return!0}function za({handleId:e,nodeId:t,type:n,isValidConnection:o,edgeUpdaterType:r,onEdgeUpdate:i,onEdgeUpdateEnd:a}){const{vueFlowRef:s,connectionMode:l,connectionRadius:u,connectOnClick:c,connectionClickStartHandle:f,nodesConnectable:h,autoPanOnConnect:m,autoPanSpeed:x,findNode:v,panBy:w,startConnection:b,updateConnection:p,endConnection:C,emits:E,viewport:$,edges:X,nodes:G,isValidConnection:W}=Me();let J=null,z=!1,y=null,ee=null;function ue(P){var N;const A=_e(n)==="target",H=sr(P),V=Hr(P.target);if(H&&P.button===0||!H){let Y=function(S){R=pt(S,U);const{handle:T,validHandleResult:L}=wf(S,V,Un(R,$.value,!1,[1,1]),u.value,d,oe=>Zr(S,oe,l.value,_e(t),_e(e),A?"target":"source",Z,V,X.value,G.value,v));if(F=T,D||(g(),D=!0),J=L.connection,z=L.isValid,y=L.handleDomNode,!(z&&F&&(ee!=null&&ee.endHandle)&&L.endHandle&&ee.endHandle.type===L.endHandle.type&&ee.endHandle.nodeId===L.endHandle.nodeId&&ee.endHandle.handleId===L.endHandle.handleId)){if(p(F&&z?xa({x:F.x,y:F.y},$.value):R,L.endHandle,xf(!!F,z)),ee=L,!F&&!z&&!y)return bo(k);J&&J.source!==J.target&&y&&(bo(k),k=y,y.classList.add("connecting","vue-flow__handle-connecting"),y.classList.toggle("valid",z),y.classList.toggle("vue-flow__handle-valid",z))}},q=function(S){(F||y)&&J&&z&&(i?i(S,J):E.connect(J)),E.connectEnd(S),r&&(a==null||a(S)),bo(k),cancelAnimationFrame(te),C(S),D=!1,z=!1,J=null,y=null,V.removeEventListener("mousemove",Y),V.removeEventListener("mouseup",q),V.removeEventListener("touchmove",Y),V.removeEventListener("touchend",q)};const ae=v(_e(t));let Z=_e(o)||W.value||In;!Z&&ae&&(Z=(A?ae.isValidSourcePos:ae.isValidTargetPos)||In);let F,te=0;const{x:ge,y:ce}=pt(P),me=V==null?void 0:V.elementFromPoint(ge,ce),O=lr(_e(r),me),U=(N=s.value)==null?void 0:N.getBoundingClientRect();if(!U||!O)return;let k,R=pt(P,U),D=!1;const d=bf({nodes:G.value,nodeId:_e(t),handleId:_e(e),handleType:O}),g=()=>{if(!m.value)return;const[S,T]=Ia(R,U,x.value);w({x:S,y:T}),te=requestAnimationFrame(g)};b({nodeId:_e(t),handleId:_e(e),type:O,position:(me==null?void 0:me.getAttribute("data-handlepos"))||ne.Top},{x:ge-U.left,y:ce-U.top}),E.connectStart({event:P,nodeId:_e(t),handleId:_e(e),handleType:O}),V.addEventListener("mousemove",Y),V.addEventListener("mouseup",q),V.addEventListener("touchmove",Y),V.addEventListener("touchend",q)}}function _(P){if(!c.value)return;const N=_e(n)==="target";if(!f.value)E.clickConnectStart({event:P,nodeId:_e(t),handleId:_e(e)}),b({nodeId:_e(t),type:_e(n),handleId:_e(e)},void 0,!0);else{let A=_e(o)||W.value||In;const H=v(_e(t));if(!A&&H&&(A=(N?H.isValidSourcePos:H.isValidTargetPos)||In),H&&(typeof H.connectable=="undefined"?h.value:H.connectable)===!1)return;const V=Hr(P.target),{connection:Y,isValid:q}=Zr(P,{nodeId:_e(t),id:_e(e),type:_e(n)},l.value,f.value.nodeId,f.value.handleId||null,f.value.type,A,V,X.value,G.value,v),ae=Y.source===Y.target;q&&!ae&&E.connect(Y),E.clickConnectEnd(P),C(P,!0)}}return{handlePointerDown:ue,handleClick:_}}function kf(){return jt(Aa,"")}function $a(e){var s;const t=(s=e!=null?e:kf())!=null?s:"",n=jt(Oa,he(null)),{findNode:o,edges:r,emits:i}=Me(),a=o(t);return a||i.error(new ke(Te.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:a,parentNode:ie(()=>o(a.parentNode)),connectedEdges:ie(()=>Ca([a],r.value))}}function Af(){return{doubleClick:j(),click:j(),mouseEnter:j(),mouseMove:j(),mouseLeave:j(),contextMenu:j(),dragStart:j(),drag:j(),dragStop:j()}}function Of(e,t){const n=Af();return n.doubleClick.on(o=>{var r,i;t.nodeDoubleClick(o),(i=(r=e.events)==null?void 0:r.doubleClick)==null||i.call(r,o)}),n.click.on(o=>{var r,i;t.nodeClick(o),(i=(r=e.events)==null?void 0:r.click)==null||i.call(r,o)}),n.mouseEnter.on(o=>{var r,i;t.nodeMouseEnter(o),(i=(r=e.events)==null?void 0:r.mouseEnter)==null||i.call(r,o)}),n.mouseMove.on(o=>{var r,i;t.nodeMouseMove(o),(i=(r=e.events)==null?void 0:r.mouseMove)==null||i.call(r,o)}),n.mouseLeave.on(o=>{var r,i;t.nodeMouseLeave(o),(i=(r=e.events)==null?void 0:r.mouseLeave)==null||i.call(r,o)}),n.contextMenu.on(o=>{var r,i;t.nodeContextMenu(o),(i=(r=e.events)==null?void 0:r.contextMenu)==null||i.call(r,o)}),n.dragStart.on(o=>{var r,i;t.nodeDragStart(o),(i=(r=e.events)==null?void 0:r.dragStart)==null||i.call(r,o)}),n.drag.on(o=>{var r,i;t.nodeDrag(o),(i=(r=e.events)==null?void 0:r.drag)==null||i.call(r,o)}),n.dragStop.on(o=>{var r,i;t.nodeDragStop(o),(i=(r=e.events)==null?void 0:r.dragStop)==null||i.call(r,o)}),Object.entries(n).reduce((o,[r,i])=>(o.emit[r]=i.trigger,o.on[r]=i.on,o),{emit:{},on:{}})}function Ba(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:o,snapGrid:r,snapToGrid:i,nodesDraggable:a,emits:s}=Me();return(l,u=!1)=>{const c=i.value?r.value[0]:5,f=i.value?r.value[1]:5,h=u?4:1,m=l.x*c*h,x=l.y*f*h,v=[];for(const w of e.value)if(w.draggable||a&&typeof w.draggable=="undefined"){const b={x:w.computedPosition.x+m,y:w.computedPosition.y+x},{computedPosition:p}=ar(w,b,s.error,t.value,w.parentNode?o(w.parentNode):void 0);v.push({id:w.id,position:p,from:w.position,distance:{x:l.x,y:l.y},dimensions:w.dimensions})}n(v,!0,!1)}}const xo=.1;function ut(){return io("Viewport not initialized yet."),Promise.resolve(!1)}const Df={zoomIn:ut,zoomOut:ut,zoomTo:ut,fitView:ut,setCenter:ut,fitBounds:ut,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:ut,setTransform:ut,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function zf(e){function t(o,r){return new Promise(i=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.scaleBy(Eo(e.d3Selection,r,()=>{i(!0)}),o):i(!1)})}function n(o,r,i,a){return new Promise(s=>{const{x:l,y:u}=ya({x:-o,y:-r},e.translateExtent),c=Ut.translate(-l,-u).scale(i);e.d3Selection&&e.d3Zoom?e.d3Zoom.transform(Eo(e.d3Selection,a,()=>{s(!0)}),c):s(!1)})}return ie(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:r=>t(1.2,r==null?void 0:r.duration),zoomOut:r=>t(1/1.2,r==null?void 0:r.duration),zoomTo:(r,i)=>new Promise(a=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.scaleTo(Eo(e.d3Selection,i==null?void 0:i.duration,()=>{a(!0)}),r):a(!1)}),setViewport:(r,i)=>n(r.x,r.y,r.zoom,i==null?void 0:i.duration),setTransform:(r,i)=>n(r.x,r.y,r.zoom,i==null?void 0:i.duration),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(r={padding:xo,includeHiddenNodes:!1,duration:0})=>{var h,m,x;var i,a;const s=[];for(const v of e.nodes)v.dimensions.width&&v.dimensions.height&&((r==null?void 0:r.includeHiddenNodes)||!v.hidden)&&(!((i=r.nodes)!=null&&i.length)||(a=r.nodes)!=null&&a.length&&r.nodes.includes(v.id))&&s.push(v);if(!s.length)return Promise.resolve(!1);const l=Sa(s),{x:u,y:c,zoom:f}=Rr(l,e.dimensions.width,e.dimensions.height,(h=r.minZoom)!=null?h:e.minZoom,(m=r.maxZoom)!=null?m:e.maxZoom,(x=r.padding)!=null?x:xo,r.offset);return n(u,c,f,r==null?void 0:r.duration)},setCenter:(r,i,a)=>{const s=typeof(a==null?void 0:a.zoom)!="undefined"?a.zoom:e.maxZoom,l=e.dimensions.width/2-r*s,u=e.dimensions.height/2-i*s;return n(l,u,s,a==null?void 0:a.duration)},fitBounds:(r,i={padding:xo})=>{const{x:a,y:s,zoom:l}=Rr(r,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,i.padding);return n(a,s,l,i==null?void 0:i.duration)},project:r=>Un(r,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:r=>{if(e.vueFlowRef){const{x:i,y:a}=e.vueFlowRef.getBoundingClientRect(),s={x:r.x-i,y:r.y-a};return Un(s,e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:r=>{if(e.vueFlowRef){const{x:i,y:a}=e.vueFlowRef.getBoundingClientRect(),s={x:r.x+i,y:r.y+a};return xa(s,e.viewport)}return{x:0,y:0}}}:Df)}function Eo(e,t=0,n){return e.transition().duration(t).on("end",n)}function $f(e,t,n){const o=Ii(!0);return o.run(()=>{const r=()=>{o.run(()=>{let v,w,b=!!(n.nodes.value.length||n.edges.value.length);v=Bt([e.modelValue,()=>{var p,C;return(C=(p=e.modelValue)==null?void 0:p.value)==null?void 0:C.length}],([p])=>{p&&Array.isArray(p)&&(w==null||w.pause(),n.setElements(p),!w&&!b&&p.length?b=!0:w==null||w.resume())}),w=Bt([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([p,C])=>{var E;(E=e.modelValue)!=null&&E.value&&Array.isArray(e.modelValue.value)&&(v==null||v.pause(),e.modelValue.value=[...p,...C],Ze(()=>{v==null||v.resume()}))},{immediate:b}),An(()=>{v==null||v.stop(),w==null||w.stop()})})},i=()=>{o.run(()=>{let v,w,b=!!n.nodes.value.length;v=Bt([e.nodes,()=>{var p,C;return(C=(p=e.nodes)==null?void 0:p.value)==null?void 0:C.length}],([p])=>{p&&Array.isArray(p)&&(w==null||w.pause(),n.setNodes(p),!w&&!b&&p.length?b=!0:w==null||w.resume())}),w=Bt([n.nodes,()=>n.nodes.value.length],([p])=>{var C;(C=e.nodes)!=null&&C.value&&Array.isArray(e.nodes.value)&&(v==null||v.pause(),e.nodes.value=[...p],Ze(()=>{v==null||v.resume()}))},{immediate:b}),An(()=>{v==null||v.stop(),w==null||w.stop()})})},a=()=>{o.run(()=>{let v,w,b=!!n.edges.value.length;v=Bt([e.edges,()=>{var p,C;return(C=(p=e.edges)==null?void 0:p.value)==null?void 0:C.length}],([p])=>{p&&Array.isArray(p)&&(w==null||w.pause(),n.setEdges(p),!w&&!b&&p.length?b=!0:w==null||w.resume())}),w=Bt([n.edges,()=>n.edges.value.length],([p])=>{var C;(C=e.edges)!=null&&C.value&&Array.isArray(e.edges.value)&&(v==null||v.pause(),e.edges.value=[...p],Ze(()=>{v==null||v.resume()}))},{immediate:b}),An(()=>{v==null||v.stop(),w==null||w.stop()})})},s=()=>{o.run(()=>{be(()=>t.maxZoom,()=>{t.maxZoom&&Pe(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})})},l=()=>{o.run(()=>{be(()=>t.minZoom,()=>{t.minZoom&&Pe(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})})},u=()=>{o.run(()=>{be(()=>t.translateExtent,()=>{t.translateExtent&&Pe(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})})},c=()=>{o.run(()=>{be(()=>t.nodeExtent,()=>{t.nodeExtent&&Pe(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})})},f=()=>{o.run(()=>{be(()=>t.applyDefault,()=>{Pe(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})})},h=()=>{o.run(()=>{const v=async w=>{let b=w;typeof t.autoConnect=="function"&&(b=await t.autoConnect(w)),b!==!1&&n.addEdges([b])};be(()=>t.autoConnect,()=>{Pe(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),be(n.autoConnect,(w,b,p)=>{w?n.onConnect(v):n.hooks.value.connect.off(v),p(()=>{n.hooks.value.connect.off(v)})},{immediate:!0})})},m=()=>{const v=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const w of Object.keys(t)){const b=w;if(!v.includes(b)){const p=Ie(()=>t[b]),C=n[b];Zo(C)&&o.run(()=>{be(p,E=>{Pe(E)&&(C.value=E)},{immediate:!0})})}}};(()=>{r(),i(),a(),l(),s(),u(),c(),f(),h(),m()})()}),()=>o.stop()}function Bf(){return{edgesChange:j(),nodesChange:j(),nodeDoubleClick:j(),nodeClick:j(),nodeMouseEnter:j(),nodeMouseMove:j(),nodeMouseLeave:j(),nodeContextMenu:j(),nodeDragStart:j(),nodeDrag:j(),nodeDragStop:j(),nodesInitialized:j(),miniMapNodeClick:j(),miniMapNodeDoubleClick:j(),miniMapNodeMouseEnter:j(),miniMapNodeMouseMove:j(),miniMapNodeMouseLeave:j(),connect:j(),connectStart:j(),connectEnd:j(),clickConnectStart:j(),clickConnectEnd:j(),paneReady:j(),init:j(),move:j(),moveStart:j(),moveEnd:j(),selectionDragStart:j(),selectionDrag:j(),selectionDragStop:j(),selectionContextMenu:j(),selectionStart:j(),selectionEnd:j(),viewportChangeStart:j(),viewportChange:j(),viewportChangeEnd:j(),paneScroll:j(),paneClick:j(),paneContextMenu:j(),paneMouseEnter:j(),paneMouseMove:j(),paneMouseLeave:j(),edgeContextMenu:j(),edgeMouseEnter:j(),edgeMouseMove:j(),edgeMouseLeave:j(),edgeDoubleClick:j(),edgeClick:j(),edgeUpdateStart:j(),edgeUpdate:j(),edgeUpdateEnd:j(),updateNodeInternals:j(),error:j(e=>io(e.message))}}function Hf(e,t){Ti(()=>{for(const[n,o]of Object.entries(t.value)){const r=i=>{e(n,i)};o.fns.add(r),Jn(()=>{o.off(r)})}})}function Ha(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:ir.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:tn.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:xt.Bezier,style:{}},connectionMode:Tt.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:Zn()?"Meta":"Control",zoomActivationKeyCode:Zn()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:Bf(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const Rf=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function Vf(e,t,n){const o=zf(e),r=d=>{const g=d!=null?d:[];e.hooks.updateNodeInternals.trigger(g)},i=d=>lf(d,e.nodes,e.edges),a=d=>sf(d,e.nodes,e.edges),s=d=>Ca(d,e.edges),l=({id:d,type:g,nodeId:S})=>{var L;var T;return Array.from((L=(T=e.connectionLookup.get(`${S}-${g}-${d!=null?d:null}`))==null?void 0:T.values())!=null?L:[])},u=d=>{if(d)return t.value.get(d)},c=d=>{if(d)return n.value.get(d)},f=(d,g,S)=>{var M,Q;var T,L;const oe=[];for(const le of d){const pe={id:le.id,type:"position",dragging:S,from:le.from};if(g&&(pe.position=le.position,le.parentNode)){const de=u(le.parentNode);pe.position={x:pe.position.x-((M=(T=de==null?void 0:de.computedPosition)==null?void 0:T.x)!=null?M:0),y:pe.position.y-((Q=(L=de==null?void 0:de.computedPosition)==null?void 0:L.y)!=null?Q:0)}}oe.push(pe)}oe!=null&&oe.length&&e.hooks.nodesChange.trigger(oe)},h=d=>{if(!e.vueFlowRef)return;const g=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!g)return;const S=window.getComputedStyle(g),{m22:T}=new window.DOMMatrixReadOnly(S.transform),L=[];for(let oe=0;oe<d.length;++oe){const M=d[oe],Q=u(M.id);if(Q){const le=ro(M.nodeElement);if(!!(le.width&&le.height&&(Q.dimensions.width!==le.width||Q.dimensions.height!==le.height||M.forceUpdate))){const de=M.nodeElement.getBoundingClientRect();Q.dimensions=le,Q.handleBounds.source=Kr(".source",M.nodeElement,de,T),Q.handleBounds.target=Kr(".target",M.nodeElement,de,T),L.push({id:Q.id,type:"dimensions",dimensions:le})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&o.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),L.length&&e.hooks.nodesChange.trigger(L)},m=(d,g)=>{const S=new Set,T=new Set;for(const M of d)Mt(M)?S.add(M.id):vt(M)&&T.add(M.id);const L=ft(t.value,S,!0),oe=ft(n.value,T);if(e.multiSelectionActive){for(const M of S)L.push(ct(M,g));for(const M of T)oe.push(ct(M,g))}L.length&&e.hooks.nodesChange.trigger(L),oe.length&&e.hooks.edgesChange.trigger(oe)},x=d=>{if(e.multiSelectionActive){const g=d.map(S=>ct(S.id,!0));e.hooks.nodesChange.trigger(g);return}e.hooks.nodesChange.trigger(ft(t.value,new Set(d.map(g=>g.id)),!0)),e.hooks.edgesChange.trigger(ft(n.value))},v=d=>{if(e.multiSelectionActive){const g=d.map(S=>ct(S.id,!0));e.hooks.edgesChange.trigger(g);return}e.hooks.edgesChange.trigger(ft(n.value,new Set(d.map(g=>g.id)))),e.hooks.nodesChange.trigger(ft(t.value,new Set,!0))},w=d=>{m(d,!0)},b=d=>{const S=(d||e.nodes).map(T=>(T.selected=!1,ct(T.id,!1)));e.hooks.nodesChange.trigger(S)},p=d=>{const S=(d||e.edges).map(T=>(T.selected=!1,ct(T.id,!1)));e.hooks.edgesChange.trigger(S)},C=d=>{if(!d||!d.length)return m([],!1);const g=d.reduce((S,T)=>{const L=ct(T.id,!1);return Mt(T)?S.nodes.push(L):S.edges.push(L),S},{nodes:[],edges:[]});g.nodes.length&&e.hooks.nodesChange.trigger(g.nodes),g.edges.length&&e.hooks.edgesChange.trigger(g.edges)},E=d=>{var g;(g=e.d3Zoom)==null||g.scaleExtent([d,e.maxZoom]),e.minZoom=d},$=d=>{var g;(g=e.d3Zoom)==null||g.scaleExtent([e.minZoom,d]),e.maxZoom=d},X=d=>{var g;(g=e.d3Zoom)==null||g.translateExtent(d),e.translateExtent=d},G=d=>{e.nodeExtent=d,r()},W=d=>{var g;(g=e.d3Zoom)==null||g.clickDistance(d)},J=d=>{e.nodesDraggable=d,e.nodesConnectable=d,e.elementsSelectable=d},z=d=>{const g=d instanceof Function?d(e.nodes):d;!e.initialized&&!g.length||(e.nodes=Wr(g,u,e.hooks.error.trigger))},y=d=>{const g=d instanceof Function?d(e.edges):d;if(!e.initialized&&!g.length)return;const S=Jr(g,e.isValidConnection,u,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);Qr(e.connectionLookup,S),e.edges=S},ee=d=>{const g=d instanceof Function?d([...e.nodes,...e.edges]):d;!e.initialized&&!g.length||(z(g.filter(Mt)),y(g.filter(vt)))},ue=d=>{let g=d instanceof Function?d(e.nodes):d;g=Array.isArray(g)?g:[g];const S=Wr(g,u,e.hooks.error.trigger),T=[];for(const L of S)T.push(Fr(L));T.length&&e.hooks.nodesChange.trigger(T)},_=d=>{let g=d instanceof Function?d(e.edges):d;g=Array.isArray(g)?g:[g];const S=Jr(g,e.isValidConnection,u,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),T=[];for(const L of S)T.push(Fr(L));T.length&&e.hooks.edgesChange.trigger(T)},P=(d,g=!0,S=!1)=>{const T=d instanceof Function?d(e.nodes):d,L=Array.isArray(T)?T:[T],oe=[],M=[];function Q(pe){const de=s(pe);for(const we of de)(!Pe(we.deletable)||we.deletable)&&M.push(qr(we.id,we.source,we.target,we.sourceHandle,we.targetHandle))}function le(pe){const de=[];for(const we of e.nodes)we.parentNode===pe&&de.push(we);if(de.length){for(const we of de)oe.push(Gr(we.id));g&&Q(de);for(const we of de)le(we.id)}}for(const pe of L){const de=typeof pe=="string"?u(pe):pe;de&&(Pe(de.deletable)&&!de.deletable||(oe.push(Gr(de.id)),g&&Q([de]),S&&le(de.id)))}M.length&&e.hooks.edgesChange.trigger(M),oe.length&&e.hooks.nodesChange.trigger(oe)},N=d=>{const g=d instanceof Function?d(e.edges):d,S=Array.isArray(g)?g:[g],T=[];for(const L of S){const oe=typeof L=="string"?c(L):L;oe&&(Pe(oe.deletable)&&!oe.deletable||T.push(qr(typeof L=="string"?L:L.id,oe.source,oe.target,oe.sourceHandle,oe.targetHandle)))}e.hooks.edgesChange.trigger(T)},A=(d,g,S=!0)=>Nf(d,g,e.edges,c,S,e.hooks.error.trigger),H=(d,g,S={replace:!1})=>{const T=c(d);if(!T)return;const L=typeof g=="function"?g(T):g;T.data=S.replace?L:{...T.data,...L}},V=d=>Lr(d,e.nodes),Y=d=>{const g=Lr(d,e.edges);return Qr(e.connectionLookup,g),g},q=(d,g,S={replace:!1})=>{const T=u(d);if(!T)return;const L=typeof g=="function"?g(T):g;S.replace?e.nodes.splice(e.nodes.indexOf(T),1,L):Object.assign(T,L)},ae=(d,g,S={replace:!1})=>{const T=u(d);if(!T)return;const L=typeof g=="function"?g(T):g;T.data=S.replace?L:{...T.data,...L}},Z=(d,g,S=!1)=>{S?e.connectionClickStartHandle=d:e.connectionStartHandle=d,e.connectionEndHandle=null,e.connectionStatus=null,g&&(e.connectionPosition=g)},F=(d,g=null,S=null)=>{e.connectionStartHandle&&(e.connectionPosition=d,e.connectionEndHandle=g,e.connectionStatus=S)},te=(d,g)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,g?e.connectionClickStartHandle=null:e.connectionStartHandle=null},ge=d=>{const g=rf(d),S=g?null:en(d)?d:u(d.id);return!g&&!S?[null,null,g]:[g?d:Ro(S),S,g]},ce=(d,g=!0,S=e.nodes)=>{const[T,L,oe]=ge(d);if(!T)return[];const M=[];for(const Q of S||e.nodes){if(!oe&&(Q.id===L.id||!Q.computedPosition))continue;const le=Ro(Q),pe=Vo(le,T);(g&&pe>0||pe>=Number(T.width)*Number(T.height))&&M.push(Q)}return M},me=(d,g,S=!0)=>{const[T]=ge(d);if(!T)return!1;const L=Vo(T,g);return S&&L>0||L>=Number(T.width)*Number(T.height)},O=d=>{const{viewport:g,dimensions:S,d3Zoom:T,d3Selection:L,translateExtent:oe}=e;if(!T||!L||!d.x&&!d.y)return!1;const M=Ut.translate(g.x+d.x,g.y+d.y).scale(g.zoom),Q=[[0,0],[S.width,S.height]],le=T.constrain()(M,Q,oe),pe=e.viewport.x!==le.x||e.viewport.y!==le.y||e.viewport.zoom!==le.k;return T.transform(L,le),pe},U=d=>{const g=d instanceof Function?d(e):d,S=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];Pe(g.defaultEdgeOptions)&&(e.defaultEdgeOptions=g.defaultEdgeOptions);const T=g.modelValue||g.nodes||g.edges?[]:void 0;T&&(g.modelValue&&T.push(...g.modelValue),g.nodes&&T.push(...g.nodes),g.edges&&T.push(...g.edges),ee(T));const L=()=>{Pe(g.maxZoom)&&$(g.maxZoom),Pe(g.minZoom)&&E(g.minZoom),Pe(g.translateExtent)&&X(g.translateExtent)};for(const oe of Object.keys(g)){const M=oe,Q=g[M];![...Rf,...S].includes(M)&&Pe(Q)&&(e[M]=Q)}Io(()=>e.d3Zoom).not.toBeNull().then(L),e.initialized||(e.initialized=!0)};return{updateNodePositions:f,updateNodeDimensions:h,setElements:ee,setNodes:z,setEdges:y,addNodes:ue,addEdges:_,removeNodes:P,removeEdges:N,findNode:u,findEdge:c,updateEdge:A,updateEdgeData:H,updateNode:q,updateNodeData:ae,applyEdgeChanges:Y,applyNodeChanges:V,addSelectedElements:w,addSelectedNodes:x,addSelectedEdges:v,setMinZoom:E,setMaxZoom:$,setTranslateExtent:X,setNodeExtent:G,setPaneClickDistance:W,removeSelectedElements:C,removeSelectedNodes:b,removeSelectedEdges:p,startConnection:Z,updateConnection:F,endConnection:te,setInteractive:J,setState:U,getIntersectingNodes:ce,getIncomers:i,getOutgoers:a,getConnectedEdges:s,getHandleConnections:l,isNodeIntersecting:me,panBy:O,fitView:d=>o.value.fitView(d),zoomIn:d=>o.value.zoomIn(d),zoomOut:d=>o.value.zoomOut(d),zoomTo:(d,g)=>o.value.zoomTo(d,g),setViewport:(d,g)=>o.value.setViewport(d,g),setTransform:(d,g)=>o.value.setTransform(d,g),getViewport:()=>o.value.getViewport(),getTransform:()=>o.value.getTransform(),setCenter:(d,g,S)=>o.value.setCenter(d,g,S),fitBounds:(d,g)=>o.value.fitBounds(d,g),project:d=>o.value.project(d),screenToFlowCoordinate:d=>o.value.screenToFlowCoordinate(d),flowToScreenCoordinate:d=>o.value.flowToScreenCoordinate(d),toObject:()=>{const d=[],g=[];for(const S of e.nodes){const{computedPosition:T,handleBounds:L,selected:oe,dimensions:M,isParent:Q,resizing:le,dragging:pe,events:de,...we}=S;d.push(we)}for(const S of e.edges){const{selected:T,sourceNode:L,targetNode:oe,events:M,...Q}=S;g.push(Q)}return JSON.parse(JSON.stringify({nodes:d,edges:g,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:d=>new Promise(g=>{const{nodes:S,edges:T,position:L,zoom:oe,viewport:M}=d;if(S&&z(S),T&&y(T),M!=null&&M.x&&(M!=null&&M.y)||L){const Q=(M==null?void 0:M.x)||L[0],le=(M==null?void 0:M.y)||L[1],pe=(M==null?void 0:M.zoom)||oe||e.viewport.zoom;return Io(()=>o.value.viewportInitialized).toBe(!0).then(()=>{o.value.setViewport({x:Q,y:le,zoom:pe}).then(()=>{g(!0)})})}else g(!0)}),updateNodeInternals:r,viewportHelper:o,$reset:()=>{var g,S,T;const d=Ha();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const L=Ut.translate((g=d.defaultViewport.x)!=null?g:0,(S=d.defaultViewport.y)!=null?S:0).scale(kt((T=d.defaultViewport.zoom)!=null?T:1,d.minZoom,d.maxZoom)),oe=e.viewportRef.getBoundingClientRect(),M=[[0,0],[oe.width,oe.height]],Q=e.d3Zoom.constrain()(L,M,d.translateExtent);e.d3Zoom.transform(e.d3Selection,Q)}U(d)},$destroy:()=>{}}}const Lf=["data-id","data-handleid","data-nodeid","data-handlepos"],Ff={name:"Handle",compatConfig:{MODE:3}},gn=Ee({...Ff,props:{id:{default:null},type:{},position:{default:()=>ne.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=ki(e,["position","connectable","connectableStart","connectableEnd","id"]),o=Ie(()=>{var z;return(z=n.type)!=null?z:"source"}),r=Ie(()=>{var z;return(z=n.isValidConnection)!=null?z:null}),{connectionStartHandle:i,connectionClickStartHandle:a,connectionEndHandle:s,vueFlowRef:l,nodesConnectable:u,noDragClassName:c,noPanClassName:f}=Me(),{id:h,node:m,nodeEl:x,connectedEdges:v}=$a(),w=he(),b=Ie(()=>typeof e.connectableStart!="undefined"?e.connectableStart:!0),p=Ie(()=>typeof e.connectableEnd!="undefined"?e.connectableEnd:!0),C=Ie(()=>{var z,y,ee,ue,_,P;return((z=i.value)==null?void 0:z.nodeId)===h&&((y=i.value)==null?void 0:y.handleId)===e.id&&((ee=i.value)==null?void 0:ee.type)===o.value||((ue=s.value)==null?void 0:ue.nodeId)===h&&((_=s.value)==null?void 0:_.handleId)===e.id&&((P=s.value)==null?void 0:P.type)===o.value}),E=Ie(()=>{var z,y,ee;return((z=a.value)==null?void 0:z.nodeId)===h&&((y=a.value)==null?void 0:y.handleId)===e.id&&((ee=a.value)==null?void 0:ee.type)===o.value}),{handlePointerDown:$,handleClick:X}=za({nodeId:h,handleId:e.id,isValidConnection:r,type:o}),G=ie(()=>typeof e.connectable=="string"&&e.connectable==="single"?!v.value.some(z=>{const y=z[`${o.value}Handle`];return z[o.value]!==h?!1:y?y===e.id:!0}):typeof e.connectable=="number"?v.value.filter(z=>{const y=z[`${o.value}Handle`];return z[o.value]!==h?!1:y?y===e.id:!0}).length<e.connectable:typeof e.connectable=="function"?e.connectable(m,v.value):Pe(e.connectable)?e.connectable:u.value);We(()=>{var H;var z;if(!m.dimensions.width||!m.dimensions.height)return;const y=(z=m.handleBounds[o.value])==null?void 0:z.find(V=>V.id===e.id);if(!l.value||y)return;const ee=l.value.querySelector(".vue-flow__transformationpane");if(!x.value||!w.value||!ee||!e.id)return;const ue=x.value.getBoundingClientRect(),_=w.value.getBoundingClientRect(),P=window.getComputedStyle(ee),{m22:N}=new window.DOMMatrixReadOnly(P.transform),A={id:e.id,position:e.position,x:(_.left-ue.left)/N,y:(_.top-ue.top)/N,...ro(w.value)};m.handleBounds[o.value]=[...(H=m.handleBounds[o.value])!=null?H:[],A]}),Pi(()=>{const z=m.handleBounds[o.value];z&&(m.handleBounds[o.value]=z.filter(y=>y.id!==e.id))});function W(z){const y=sr(z);G.value&&b.value&&(y&&z.button===0||!y)&&$(z)}function J(z){!h||!a.value&&!b.value||G.value&&X(z)}return t({handleClick:X,handlePointerDown:$,onClick:J,onPointerDown:W}),(z,y)=>(K(),ve("div",{ref_key:"handle",ref:w,"data-id":`${se(h)}-${e.id}-${o.value}`,"data-handleid":e.id,"data-nodeid":se(h),"data-handlepos":z.position,class:He(["vue-flow__handle",[`vue-flow__handle-${z.position}`,`vue-flow__handle-${e.id}`,se(c),se(f),o.value,{connectable:G.value,connecting:E.value,connectablestart:b.value,connectableend:p.value,connectionindicator:G.value&&(b.value&&!C.value||p.value&&C.value)}]]),onMousedown:W,onTouchstartPassive:W,onClick:J},[It(z.$slots,"default",{id:z.id})],42,Lf))}}),so=function({sourcePosition:e=ne.Bottom,targetPosition:t=ne.Top,label:n,connectable:o=!0,isValidTargetPos:r,isValidSourcePos:i,data:a}){const s=a.label||n;return[xe(gn,{type:"target",position:t,connectable:o,isValidConnection:r}),typeof s!="string"&&s?xe(s):xe("div",{innerHTML:s}),xe(gn,{type:"source",position:e,connectable:o,isValidConnection:i})]};so.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];so.inheritAttrs=!1;so.compatConfig={MODE:3};const Gf=so,lo=function({targetPosition:e=ne.Top,label:t,connectable:n=!0,isValidTargetPos:o,data:r}){const i=r.label||t;return[xe(gn,{type:"target",position:e,connectable:n,isValidConnection:o}),typeof i!="string"&&i?xe(i):xe("div",{innerHTML:i})]};lo.props=["targetPosition","label","isValidTargetPos","connectable","data"];lo.inheritAttrs=!1;lo.compatConfig={MODE:3};const qf=lo,uo=function({sourcePosition:e=ne.Bottom,label:t,connectable:n=!0,isValidSourcePos:o,data:r}){const i=r.label||t;return[typeof i!="string"&&i?xe(i):xe("div",{innerHTML:i}),xe(gn,{type:"source",position:e,connectable:n,isValidConnection:o})]};uo.props=["sourcePosition","label","isValidSourcePos","connectable","data"];uo.inheritAttrs=!1;uo.compatConfig={MODE:3};const Yf=uo,Xf=["transform"],Uf=["width","height","x","y","rx","ry"],jf=["y"],Zf={name:"EdgeText",compatConfig:{MODE:3}},Kf=Ee({...Zf,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=he({x:0,y:0,width:0,height:0}),n=he(null),o=ie(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);We(r),be([()=>e.x,()=>e.y,n,()=>e.label],r);function r(){if(!n.value)return;const i=n.value.getBBox();(i.width!==t.value.width||i.height!==t.value.height)&&(t.value=i)}return(i,a)=>(K(),ve("g",{transform:o.value,class:"vue-flow__edge-textwrapper"},[i.labelShowBg?(K(),ve("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*i.labelBgPadding[0]}px`,height:`${t.value.height+2*i.labelBgPadding[1]}px`,x:-i.labelBgPadding[0],y:-i.labelBgPadding[1],style:Oe(i.labelBgStyle),rx:i.labelBgBorderRadius,ry:i.labelBgBorderRadius},null,12,Uf)):Se("",!0),re("text",hs(i.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:i.labelStyle}),[It(i.$slots,"default",{},()=>[typeof i.label!="string"?(K(),ye(fs(i.label),{key:0})):(K(),ve(Be,{key:1},[Ne(fe(i.label),1)],64))])],16,jf)],8,Xf))}}),Wf=["id","d","marker-end","marker-start"],Qf=["d","stroke-width"],Jf={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},co=Ee({...Jf,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},style:{},labelStyle:{},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=ki(e,["interactionWidth","labelShowBg"]),o=he(null),r=he(null),i=he(null),a=ds();return t({pathEl:o,interactionEl:r,labelEl:i}),(s,l)=>(K(),ve(Be,null,[re("path",{id:s.id,ref_key:"pathEl",ref:o,d:s.path,style:Oe(n.style),class:He(["vue-flow__edge-path",se(a).class]),"marker-end":s.markerEnd,"marker-start":s.markerStart},null,14,Wf),s.interactionWidth?(K(),ve("path",{key:0,ref_key:"interactionEl",ref:r,fill:"none",d:s.path,"stroke-width":s.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,Qf)):Se("",!0),s.label&&s.labelX&&s.labelY?(K(),ye(Kf,{key:1,ref_key:"labelEl",ref:i,x:s.labelX,y:s.labelY,label:s.label,"label-show-bg":s.labelShowBg,"label-bg-style":s.labelBgStyle,"label-bg-padding":s.labelBgPadding,"label-bg-border-radius":s.labelBgBorderRadius,"label-style":s.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):Se("",!0)],64))}});function Ra({sourceX:e,sourceY:t,targetX:n,targetY:o}){const r=Math.abs(n-e)/2,i=n<e?n+r:n-r,a=Math.abs(o-t)/2,s=o<t?o+a:o-a;return[i,s,r,a]}function Va({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:r,sourceControlY:i,targetControlX:a,targetControlY:s}){const l=e*.125+r*.375+a*.375+n*.125,u=t*.125+i*.375+s*.375+o*.125,c=Math.abs(l-e),f=Math.abs(u-t);return[l,u,c,f]}function Pn(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function ti({pos:e,x1:t,y1:n,x2:o,y2:r,c:i}){let a,s;switch(e){case ne.Left:a=t-Pn(t-o,i),s=n;break;case ne.Right:a=t+Pn(o-t,i),s=n;break;case ne.Top:a=t,s=n-Pn(n-r,i);break;case ne.Bottom:a=t,s=n+Pn(r-n,i);break}return[a,s]}function La(e){const{sourceX:t,sourceY:n,sourcePosition:o=ne.Bottom,targetX:r,targetY:i,targetPosition:a=ne.Top,curvature:s=.25}=e,[l,u]=ti({pos:o,x1:t,y1:n,x2:r,y2:i,c:s}),[c,f]=ti({pos:a,x1:r,y1:i,x2:t,y2:n,c:s}),[h,m,x,v]=Va({sourceX:t,sourceY:n,targetX:r,targetY:i,sourceControlX:l,sourceControlY:u,targetControlX:c,targetControlY:f});return[`M${t},${n} C${l},${u} ${c},${f} ${r},${i}`,h,m,x,v]}function ni({pos:e,x1:t,y1:n,x2:o,y2:r}){let i,a;switch(e){case ne.Left:case ne.Right:i=.5*(t+o),a=n;break;case ne.Top:case ne.Bottom:i=t,a=.5*(n+r);break}return[i,a]}function Fa(e){const{sourceX:t,sourceY:n,sourcePosition:o=ne.Bottom,targetX:r,targetY:i,targetPosition:a=ne.Top}=e,[s,l]=ni({pos:o,x1:t,y1:n,x2:r,y2:i}),[u,c]=ni({pos:a,x1:r,y1:i,x2:t,y2:n}),[f,h,m,x]=Va({sourceX:t,sourceY:n,targetX:r,targetY:i,sourceControlX:s,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${t},${n} C${s},${l} ${u},${c} ${r},${i}`,f,h,m,x]}const oi={[ne.Left]:{x:-1,y:0},[ne.Right]:{x:1,y:0},[ne.Top]:{x:0,y:-1},[ne.Bottom]:{x:0,y:1}};function eh({source:e,sourcePosition:t=ne.Bottom,target:n}){return t===ne.Left||t===ne.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function ri(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function th({source:e,sourcePosition:t=ne.Bottom,target:n,targetPosition:o=ne.Top,center:r,offset:i}){var G,W;const a=oi[t],s=oi[o],l={x:e.x+a.x*i,y:e.y+a.y*i},u={x:n.x+s.x*i,y:n.y+s.y*i},c=eh({source:l,sourcePosition:t,target:u}),f=c.x!==0?"x":"y",h=c[f];let m,x,v;const w={x:0,y:0},b={x:0,y:0},[p,C,E,$]=Ra({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[f]*s[f]===-1){x=(G=r.x)!=null?G:p,v=(W=r.y)!=null?W:C;const J=[{x,y:l.y},{x,y:u.y}],z=[{x:l.x,y:v},{x:u.x,y:v}];a[f]===h?m=f==="x"?J:z:m=f==="x"?z:J}else{const J=[{x:l.x,y:u.y}],z=[{x:u.x,y:l.y}];if(f==="x"?m=a.x===h?z:J:m=a.y===h?J:z,t===o){const P=Math.abs(e[f]-n[f]);if(P<=i){const N=Math.min(i-1,i-P);a[f]===h?w[f]=(l[f]>e[f]?-1:1)*N:b[f]=(u[f]>n[f]?-1:1)*N}}if(t!==o){const P=f==="x"?"y":"x",N=a[f]===s[P],A=l[P]>u[P],H=l[P]<u[P];(a[f]===1&&(!N&&A||N&&H)||a[f]!==1&&(!N&&H||N&&A))&&(m=f==="x"?J:z)}const y={x:l.x+w.x,y:l.y+w.y},ee={x:u.x+b.x,y:u.y+b.y},ue=Math.max(Math.abs(y.x-m[0].x),Math.abs(ee.x-m[0].x)),_=Math.max(Math.abs(y.y-m[0].y),Math.abs(ee.y-m[0].y));ue>=_?(x=(y.x+ee.x)/2,v=m[0].y):(x=m[0].x,v=(y.y+ee.y)/2)}return[[e,{x:l.x+w.x,y:l.y+w.y},...m,{x:u.x+b.x,y:u.y+b.y},n],x,v,E,$]}function nh(e,t,n,o){const r=Math.min(ri(e,t)/2,ri(t,n)/2,o),{x:i,y:a}=t;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return`L${i} ${a}`;if(e.y===a){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${i+r*u},${a}Q ${i},${a} ${i},${a+r*c}`}const s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${i},${a+r*l}Q ${i},${a} ${i+r*s},${a}`}function Fo(e){const{sourceX:t,sourceY:n,sourcePosition:o=ne.Bottom,targetX:r,targetY:i,targetPosition:a=ne.Top,borderRadius:s=5,centerX:l,centerY:u,offset:c=20}=e,[f,h,m,x,v]=th({source:{x:t,y:n},sourcePosition:o,target:{x:r,y:i},targetPosition:a,center:{x:l,y:u},offset:c});return[f.reduce((b,p,C)=>{let E;return C>0&&C<f.length-1?E=nh(f[C-1],p,f[C+1],s):E=`${C===0?"M":"L"}${p.x} ${p.y}`,b+=E,b},""),h,m,x,v]}function oh(e){const{sourceX:t,sourceY:n,targetX:o,targetY:r}=e,[i,a,s,l]=Ra({sourceX:t,sourceY:n,targetX:o,targetY:r});return[`M ${t},${n}L ${o},${r}`,i,a,s,l]}const rh=Ee({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,r]=oh(e);return xe(co,{path:n,labelX:o,labelY:r,...t,...e})}}}),ih=rh,ah=Ee({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{var i,a;const[n,o,r]=Fo({...e,sourcePosition:(i=e.sourcePosition)!=null?i:ne.Bottom,targetPosition:(a=e.targetPosition)!=null?a:ne.Top});return xe(co,{path:n,labelX:o,labelY:r,...t,...e})}}}),Ga=ah,sh=Ee({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>xe(Ga,{...e,...t,borderRadius:0})}}),lh=sh,uh=Ee({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{var i,a;const[n,o,r]=La({...e,sourcePosition:(i=e.sourcePosition)!=null?i:ne.Bottom,targetPosition:(a=e.targetPosition)!=null?a:ne.Top});return xe(co,{path:n,labelX:o,labelY:r,...t,...e})}}}),ch=uh,dh=Ee({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{var i,a;const[n,o,r]=Fa({...e,sourcePosition:(i=e.sourcePosition)!=null?i:ne.Bottom,targetPosition:(a=e.targetPosition)!=null?a:ne.Top});return xe(co,{path:n,labelX:o,labelY:r,...t,...e})}}}),fh=dh,hh={input:Yf,default:Gf,output:qf},gh={default:ch,straight:ih,step:lh,smoothstep:Ga,simplebezier:fh};function ph(e,t,n){const o=ie(()=>v=>t.value.get(v)),r=ie(()=>v=>n.value.get(v)),i=ie(()=>{const v={...gh,...e.edgeTypes},w=Object.keys(v);for(const b of e.edges)b.type&&!w.includes(b.type)&&(v[b.type]=b.type);return v}),a=ie(()=>{const v={...hh,...e.nodeTypes},w=Object.keys(v);for(const b of e.nodes)b.type&&!w.includes(b.type)&&(v[b.type]=b.type);return v}),s=ie(()=>e.onlyRenderVisibleElements?Na(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),l=ie(()=>{if(e.onlyRenderVisibleElements){const v=[];for(const w of e.edges){const b=t.value.get(w.source),p=t.value.get(w.target);vf({sourcePos:b.computedPosition||{x:0,y:0},targetPos:p.computedPosition||{x:0,y:0},sourceWidth:b.dimensions.width,sourceHeight:b.dimensions.height,targetWidth:p.dimensions.width,targetHeight:p.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&v.push(w)}return v}return e.edges}),u=ie(()=>[...s.value,...l.value]),c=ie(()=>{const v=[];for(const w of e.nodes)w.selected&&v.push(w);return v}),f=ie(()=>{const v=[];for(const w of e.edges)w.selected&&v.push(w);return v}),h=ie(()=>[...c.value,...f.value]),m=ie(()=>{const v=[];for(const w of e.nodes)w.dimensions.width&&w.dimensions.height&&w.handleBounds!==void 0&&v.push(w);return v}),x=ie(()=>s.value.length>0&&m.value.length===s.value.length);return{getNode:o,getEdge:r,getElements:u,getEdgeTypes:i,getNodeTypes:a,getEdges:l,getNodes:s,getSelectedElements:h,getSelectedNodes:c,getSelectedEdges:f,getNodesInitialized:m,areNodesInitialized:x}}class Et{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var r;var t;const n=(t=yn())==null?void 0:t.appContext.app,o=(r=n==null?void 0:n.config.globalProperties.$vueFlowStorage)!=null?r:Et.instance;return Et.instance=o!=null?o:new Et,n&&(n.config.globalProperties.$vueFlowStorage=Et.instance),Et.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const o=Ha(),r=is(o),i={};for(const[h,m]of Object.entries(r.hooks)){const x=`on${h.charAt(0).toUpperCase()+h.slice(1)}`;i[x]=m.on}const a={};for(const[h,m]of Object.entries(r.hooks))a[h]=m.trigger;const s=ie(()=>{const h=new Map;for(const m of r.nodes)h.set(m.id,m);return h}),l=ie(()=>{const h=new Map;for(const m of r.edges)h.set(m.id,m);return h}),u=ph(r,s,l),c=Vf(r,s,l);c.setState({...r,...n});const f={...i,...u,...c,...yl(r),nodeLookup:s,edgeLookup:l,emits:a,id:t,vueFlowVersion:"1.41.1",$destroy:()=>{this.remove(t)}};return this.set(t,f),f}getId(){return`vue-flow-${this.currentId++}`}}function Me(e){const t=Et.getInstance(),n=Oi(),o=typeof e=="object",r=o?e:{id:e},i=r.id,a=i!=null?i:n==null?void 0:n.vueFlowId;let s;if(n){const l=jt(ei,null);typeof l!="undefined"&&l!==null&&(!a||l.id===a)&&(s=l)}if(s||a&&(s=t.get(a)),!s||a&&s.id!==a){const l=i!=null?i:t.getId(),u=t.create(l,r);s=u,(n!=null?n:Ii(!0)).run(()=>{be(u.applyDefault,(f,h,m)=>{const x=w=>{u.applyNodeChanges(w)},v=w=>{u.applyEdgeChanges(w)};f?(u.onNodesChange(x),u.onEdgesChange(v)):(u.hooks.value.nodesChange.off(x),u.hooks.value.edgesChange.off(v)),m(()=>{u.hooks.value.nodesChange.off(x),u.hooks.value.edgesChange.off(v)})},{immediate:!0}),Jn(()=>{if(s){const f=t.get(s.id);f?f.$destroy():io(`No store instance found for id ${s.id} in storage.`)}})})}else o&&s.setState(r);if(n&&(qt(ei,s),n.vueFlowId=s.id),o){const l=yn();(l==null?void 0:l.type.name)!=="VueFlow"&&s.emits.error(new ke(Te.USEVUEFLOW_OPTIONS))}return s}function mh(e){const{emits:t,dimensions:n}=Me();let o;We(()=>{const r=e.value,i=()=>{if(!r)return;const a=ro(r);(a.width===0||a.height===0)&&t.error(new ke(Te.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:a.width||500,height:a.height||500}};i(),window.addEventListener("resize",i),r&&(o=new ResizeObserver(()=>i()),o.observe(r)),Ai(()=>{window.removeEventListener("resize",i),o&&r&&o.unobserve(r)})})}const vh={name:"UserSelection",compatConfig:{MODE:3}},yh=Ee({...vh,props:{userSelectionRect:{}},setup(e){return(t,n)=>(K(),ve("div",{class:"vue-flow__selection vue-flow__container",style:Oe({width:`${t.userSelectionRect.width}px`,height:`${t.userSelectionRect.height}px`,transform:`translate(${t.userSelectionRect.x}px, ${t.userSelectionRect.y}px)`})},null,4))}}),_h=["tabIndex"],wh={name:"NodesSelection",compatConfig:{MODE:3}},bh=Ee({...wh,setup(e){const{emits:t,viewport:n,getSelectedNodes:o,noPanClassName:r,disableKeyboardA11y:i,userSelectionActive:a}=Me(),s=Ba(),l=he(null),u=Da({el:l,onStart(x){t.selectionDragStart(x)},onDrag(x){t.selectionDrag(x)},onStop(x){t.selectionDragStop(x)}});We(()=>{var x;i.value||(x=l.value)==null||x.focus({preventScroll:!0})});const c=ie(()=>Sa(o.value)),f=ie(()=>({width:`${c.value.width}px`,height:`${c.value.height}px`,top:`${c.value.y}px`,left:`${c.value.x}px`}));function h(x){t.selectionContextMenu({event:x,nodes:o.value})}function m(x){i||Gt[x.key]&&s({x:Gt[x.key].x,y:Gt[x.key].y},x.shiftKey)}return(x,v)=>!se(a)&&c.value.width&&c.value.height?(K(),ve("div",{key:0,class:He(["vue-flow__nodesselection vue-flow__container",se(r)]),style:Oe({transform:`translate(${se(n).x}px,${se(n).y}px) scale(${se(n).zoom})`})},[re("div",{ref_key:"el",ref:l,class:He([{dragging:se(u)},"vue-flow__nodesselection-rect"]),style:Oe(f.value),tabIndex:se(i)?void 0:-1,onContextmenu:h,onKeydown:m},null,46,_h)],6)):Se("",!0)}});function xh(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const Eh={name:"Pane",compatConfig:{MODE:3}},Sh=Ee({...Eh,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:o,emits:r,userSelectionActive:i,removeSelectedElements:a,panOnDrag:s,userSelectionRect:l,elementsSelectable:u,nodesSelectionActive:c,getSelectedEdges:f,getSelectedNodes:h,removeNodes:m,removeEdges:x,selectionMode:v,deleteKeyCode:w,multiSelectionKeyCode:b,multiSelectionActive:p,edgeLookup:C,nodeLookup:E}=Me(),$=he(null),X=he(0),G=he(0),W=he(),J=he(new Map),z=Ie(()=>u.value&&(e.isSelecting||i.value));let y=!1,ee=!1;const ue=nn(w,{actInsideInputWithModifier:!1}),_=nn(b);be(ue,Z=>{Z&&(m(h.value),x(f.value),c.value=!1)}),be(_,Z=>{p.value=Z});function P(Z,F){return te=>{te.target===F&&(Z==null||Z(te))}}function N(){i.value=!1,l.value=null,X.value=0,G.value=0}function A(Z){if(y){y=!1;return}r.paneClick(Z),a(),c.value=!1}function H(Z){var F;if(Array.isArray(s.value)&&((F=s.value)!=null&&F.includes(2))){Z.preventDefault();return}r.paneContextMenu(Z)}function V(Z){r.paneScroll(Z)}function Y(Z){var F,te,ge,ce,me;if(W.value=(F=t.value)==null?void 0:F.getBoundingClientRect(),!u.value||!e.isSelecting||Z.button!==0||Z.target!==$.value||!W.value)return;(ge=(te=Z.target)==null?void 0:te.setPointerCapture)==null||ge.call(te,Z.pointerId);const{x:O,y:U}=xh(Z,W.value);ee=!0,y=!1,J.value=new Map;for(const[k,R]of C.value)J.value.set(R.source,((ce=J.value.get(R.source))==null?void 0:ce.add(k))||new Set([k])),J.value.set(R.target,((me=J.value.get(R.target))==null?void 0:me.add(k))||new Set([k]));a(),l.value={width:0,height:0,startX:O,startY:U,x:O,y:U},r.selectionStart(Z)}function q(Z){if(!W.value||!l.value)return;y=!0;const{x:F,y:te}=pt(Z,W.value),{startX:ge=0,startY:ce=0}=l.value,me={startX:ge,startY:ce,x:F<ge?F:ge,y:te<ce?te:ce,width:Math.abs(F-ge),height:Math.abs(te-ce)},O=Na(n.value,me,o.value,v.value===ir.Partial,!0),U=new Set,k=new Set;for(const R of O){k.add(R.id);const D=J.value.get(R.id);if(D)for(const d of D)U.add(d)}if(X.value!==k.size){X.value=k.size;const R=ft(E.value,k,!0);r.nodesChange(R)}if(G.value!==U.size){G.value=U.size;const R=ft(C.value,U);r.edgesChange(R)}l.value=me,i.value=!0,c.value=!1}function ae(Z){var F;Z.button!==0||!ee||((F=Z.target)==null||F.releasePointerCapture(Z.pointerId),!i.value&&l.value&&Z.target===$.value&&A(Z),X.value>0&&(c.value=!0),N(),r.selectionEnd(Z),e.selectionKeyPressed&&(y=!1),ee=!1)}return(Z,F)=>(K(),ve("div",{ref_key:"container",ref:$,class:He(["vue-flow__pane vue-flow__container",{selection:Z.isSelecting}]),onClick:F[0]||(F[0]=te=>z.value?void 0:P(A,$.value)(te)),onContextmenu:F[1]||(F[1]=te=>P(H,$.value)(te)),onWheelPassive:F[2]||(F[2]=te=>P(V,$.value)(te)),onPointerenter:F[3]||(F[3]=te=>z.value?void 0:se(r).paneMouseEnter(te)),onPointerdown:F[4]||(F[4]=te=>z.value?Y(te):se(r).paneMouseMove(te)),onPointermove:F[5]||(F[5]=te=>z.value?q(te):se(r).paneMouseMove(te)),onPointerup:F[6]||(F[6]=te=>z.value?ae(te):void 0),onPointerleave:F[7]||(F[7]=te=>se(r).paneMouseLeave(te))},[It(Z.$slots,"default"),se(i)&&se(l)?(K(),ye(yh,{key:0,"user-selection-rect":se(l)},null,8,["user-selection-rect"])):Se("",!0),se(c)&&se(h).length?(K(),ye(bh,{key:1})):Se("",!0)],34))}}),Nh={name:"Transform",compatConfig:{MODE:3}},Ch=Ee({...Nh,setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:o}=Me(),r=ie(()=>n.value?!o.value:!1),i=ie(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(a,s)=>(K(),ve("div",{class:"vue-flow__transformationpane vue-flow__container",style:Oe({transform:i.value,opacity:r.value?0:void 0})},[It(a.$slots,"default")],4))}}),Mh={name:"Viewport",compatConfig:{MODE:3}},Ih=Ee({...Mh,setup(e){const{minZoom:t,maxZoom:n,defaultViewport:o,translateExtent:r,zoomActivationKeyCode:i,selectionKeyCode:a,panActivationKeyCode:s,panOnScroll:l,panOnScrollMode:u,panOnScrollSpeed:c,panOnDrag:f,zoomOnDoubleClick:h,zoomOnPinch:m,zoomOnScroll:x,preventScrolling:v,noWheelClassName:w,noPanClassName:b,emits:p,connectionStartHandle:C,userSelectionActive:E,paneDragging:$,d3Zoom:X,d3Selection:G,d3ZoomHandler:W,viewport:J,viewportRef:z,paneClickDistance:y}=Me();mh(z);const ee=he(!1),ue=he(!1);let _=null,P=!1,N=0,A={x:0,y:0,zoom:0};const H=nn(s),V=nn(a),Y=nn(i),q=Ie(()=>!V.value&&(H.value||f.value)),ae=Ie(()=>H.value||l.value),Z=Ie(()=>V.value||a.value===!0&&q.value!==!0);We(()=>{var T,L,oe;if(!z.value){io("Viewport element is missing");return}const O=z.value,U=O.getBoundingClientRect(),k=Jd().clickDistance(y.value).scaleExtent([t.value,n.value]).translateExtent(r.value),R=Ge(O).call(k),D=R.on("wheel.zoom"),d=Ut.translate((T=o.value.x)!=null?T:0,(L=o.value.y)!=null?L:0).scale(kt((oe=o.value.zoom)!=null?oe:1,t.value,n.value)),g=[[0,0],[U.width,U.height]],S=k.constrain()(d,g,r.value);k.transform(R,S),k.wheelDelta(te),X.value=k,G.value=R,W.value=D,J.value={x:S.x,y:S.y,zoom:S.k},k.on("start",M=>{var Q;if(!M.sourceEvent)return null;N=M.sourceEvent.button,ee.value=!0;const le=ce(M.transform);((Q=M.sourceEvent)==null?void 0:Q.type)==="mousedown"&&($.value=!0),A=le,p.viewportChangeStart(le),p.moveStart({event:M,flowTransform:le})}),k.on("end",M=>{if(!M.sourceEvent)return null;if(ee.value=!1,$.value=!1,F(q.value,N!=null?N:0)&&!P&&p.paneContextMenu(M.sourceEvent),P=!1,ge(A,M.transform)){const Q=ce(M.transform);A=Q,p.viewportChangeEnd(Q),p.moveEnd({event:M,flowTransform:Q})}}),k.filter(M=>{var Q,le,pe;const de=Y.value||x.value,we=m.value&&M.ctrlKey,Fe=M.button;if((q.value===!0||Array.isArray(q.value)&&q.value.includes(1))&&Fe===1&&M.type==="mousedown"&&((Q=M.target)!=null&&Q.closest(".vue-flow__node")||(le=M.target)!=null&&le.closest(".vue-flow__edge")))return!0;if(!q.value&&!de&&!ae.value&&!h.value&&!m.value||E.value||!h.value&&M.type==="dblclick"||me(M,w.value)&&M.type==="wheel"||me(M,b.value)&&(M.type!=="wheel"||ae.value&&M.type==="wheel"&&!Y.value)||!m.value&&M.ctrlKey&&M.type==="wheel"||!de&&!ae.value&&!we&&M.type==="wheel")return!1;if(!m&&M.type==="touchstart"&&((pe=M.touches)==null?void 0:pe.length)>1)return M.preventDefault(),!1;if(!q.value&&(M.type==="mousedown"||M.type==="touchstart")||Array.isArray(q.value)&&!q.value.includes(Fe)&&(M.type==="mousedown"||M.type==="touchstart"))return!1;const lt=Array.isArray(q.value)&&q.value.includes(Fe)||!Fe||Fe<=1;return(!M.ctrlKey||M.type==="wheel")&&lt}),be([E,q],()=>{E.value&&!ee.value?k.on("zoom",null):E.value||k.on("zoom",M=>{J.value={x:M.transform.x,y:M.transform.y,zoom:M.transform.k};const Q=ce(M.transform);P=F(q.value,N!=null?N:0),p.viewportChange(Q),p.move({event:M,flowTransform:Q})})},{immediate:!0}),be([E,ae,u,Y,m,v,w],()=>{ae.value&&!Y.value&&!E.value?R.on("wheel.zoom",M=>{if(me(M,w.value))return!1;const Q=Y.value||x.value,le=m.value&&M.ctrlKey;if(!(!v.value||ae.value||Q||le))return!1;M.preventDefault(),M.stopImmediatePropagation();const de=R.property("__zoom").k||1,we=Zn();if(M.ctrlKey&&m.value&&we){const ts=je(M),ns=te(M),os=de*2**ns;k.scaleTo(R,os,ts,M);return}const Fe=M.deltaMode===1?20:1;let lt=u.value===tn.Vertical?0:M.deltaX*Fe,_t=u.value===tn.Horizontal?0:M.deltaY*Fe;!we&&M.shiftKey&&u.value!==tn.Vertical&&!lt&&_t&&(lt=_t,_t=0),k.translateBy(R,-(lt/de)*c.value,-(_t/de)*c.value);const Xe=ce(R.property("__zoom"));_&&clearTimeout(_),ue.value?(p.move({event:M,flowTransform:Xe}),p.viewportChange(Xe),_=setTimeout(()=>{p.moveEnd({event:M,flowTransform:Xe}),p.viewportChangeEnd(Xe),ue.value=!1},150)):(ue.value=!0,p.moveStart({event:M,flowTransform:Xe}),p.viewportChangeStart(Xe))},{passive:!1}):typeof D!="undefined"&&R.on("wheel.zoom",function(M,Q){const le=!v.value&&M.type==="wheel"&&!M.ctrlKey,pe=Y.value||x.value,de=m.value&&M.ctrlKey;if(!pe&&!l.value&&!de&&M.type==="wheel"||le||me(M,w.value))return null;M.preventDefault(),D.call(this,M,Q)},{passive:!1})},{immediate:!0})});function F(O,U){return U===2&&Array.isArray(O)&&O.includes(2)}function te(O){const U=O.ctrlKey&&Zn()?10:1;return-O.deltaY*(O.deltaMode===1?.05:O.deltaMode?1:.002)*U}function ge(O,U){return O.x!==U.x&&!Number.isNaN(U.x)||O.y!==U.y&&!Number.isNaN(U.y)||O.zoom!==U.k&&!Number.isNaN(U.k)}function ce(O){return{x:O.x,y:O.y,zoom:O.k}}function me(O,U){return O.target.closest(`.${U}`)}return(O,U)=>(K(),ve("div",{ref_key:"viewportRef",ref:z,class:"vue-flow__viewport vue-flow__container"},[I(Sh,{"is-selecting":Z.value,"selection-key-pressed":se(V),class:He({connecting:!!se(C),dragging:se($),draggable:se(f)===!0||Array.isArray(se(f))&&se(f).includes(0)})},{default:B(()=>[I(Ch,null,{default:B(()=>[It(O.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),Ph=["id"],Th=["id"],kh=["id"],Ah={name:"A11yDescriptions",compatConfig:{MODE:3}},Oh=Ee({...Ah,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:o}=Me();return(r,i)=>(K(),ve(Be,null,[re("div",{id:`${se(pa)}-${se(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+fe(se(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,Ph),re("div",{id:`${se(ma)}-${se(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,Th),se(n)?Se("",!0):(K(),ve("div",{key:0,id:`${se(of)}-${se(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},fe(se(o)),9,kh))],64))}});function Dh(){const e=Me();be(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}function zh(e,t,n){return n===ne.Left?e-t:n===ne.Right?e+t:e}function $h(e,t,n){return n===ne.Top?e-t:n===ne.Bottom?e+t:e}const ur=function({radius:e=10,centerX:t=0,centerY:n=0,position:o=ne.Top,type:r}){return xe("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${r}`,cx:zh(t,e,o),cy:$h(n,e,o),r:e,stroke:"transparent",fill:"transparent"})};ur.props=["radius","centerX","centerY","position","type"];ur.compatConfig={MODE:3};const ii=ur,Bh=Ee({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:o,edgeUpdaterRadius:r,emits:i,nodesSelectionActive:a,noPanClassName:s,getEdgeTypes:l,removeSelectedEdges:u,findEdge:c,findNode:f,isValidConnection:h,multiSelectionActive:m,disableKeyboardA11y:x,elementsSelectable:v,edgesUpdatable:w,edgesFocusable:b}=Me(),p=ie(()=>c(e.id)),C=Pf(p.value,i),E=jt(ao),$=yn(),X=he(!1),G=he(!1),W=he(""),J=he(null),z=he("source"),y=he(null),ee=Ie(()=>typeof p.value.selectable=="undefined"?v.value:p.value.selectable),ue=Ie(()=>typeof p.value.updatable=="undefined"?w.value:p.value.updatable),_=Ie(()=>typeof p.value.focusable=="undefined"?b.value:p.value.focusable);qt(Cf,e.id),qt(Mf,y);const P=ie(()=>p.value.class instanceof Function?p.value.class(p.value):p.value.class),N=ie(()=>p.value.style instanceof Function?p.value.style(p.value):p.value.style),A=ie(()=>{var S;const D=p.value.type||"default",d=E==null?void 0:E[`edge-${D}`];if(d)return d;let g=(S=p.value.template)!=null?S:l.value[D];if(typeof g=="string"&&$){const T=Object.keys($.appContext.components);T&&T.includes(D)&&(g=Di(D,!1))}return g&&typeof g!="string"?g:(i.error(new ke(Te.EDGE_TYPE_MISSING,g)),!1)}),{handlePointerDown:H}=za({nodeId:W,handleId:J,type:z,isValidConnection:h,edgeUpdaterType:z,onEdgeUpdate:q,onEdgeUpdateEnd:ae});return()=>{const D=f(p.value.source),d=f(p.value.target),g="pathOptions"in p.value?p.value.pathOptions:{};if(!D&&!d)return i.error(new ke(Te.EDGE_SOURCE_TARGET_MISSING,p.value.id,p.value.source,p.value.target)),null;if(!D)return i.error(new ke(Te.EDGE_SOURCE_MISSING,p.value.id,p.value.source)),null;if(!d)return i.error(new ke(Te.EDGE_TARGET_MISSING,p.value.id,p.value.target)),null;if(!p.value||p.value.hidden||D.hidden||d.hidden)return null;let S;o.value===Tt.Strict?S=D.handleBounds.source:S=[...D.handleBounds.source||[],...D.handleBounds.target||[]];const T=Xr(S,p.value.sourceHandle);let L;o.value===Tt.Strict?L=d.handleBounds.target:L=[...d.handleBounds.target||[],...d.handleBounds.source||[]];const oe=Xr(L,p.value.targetHandle),M=(T==null?void 0:T.position)||ne.Bottom,Q=(oe==null?void 0:oe.position)||ne.Top,{x:le,y:pe}=jn(D,T,M),{x:de,y:we}=jn(d,oe,Q);return p.value.sourceX=le,p.value.sourceY=pe,p.value.targetX=de,p.value.targetY=we,xe("g",{ref:y,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${A.value===!1?"default":p.value.type||"default"}`,s.value,P.value,{updating:X.value,selected:p.value.selected,animated:p.value.animated,inactive:!ee.value}],onClick:F,onContextmenu:te,onDblclick:ge,onMouseenter:ce,onMousemove:me,onMouseleave:O,onKeyDown:_.value?R:void 0,tabIndex:_.value?0:void 0,"aria-label":p.value.ariaLabel===null?void 0:p.value.ariaLabel||`Edge from ${p.value.source} to ${p.value.target}`,"aria-describedby":_.value?`${ma}-${t}`:void 0,role:_.value?"button":"img"},[G.value?null:xe(A.value===!1?l.value.default:A.value,{id:e.id,sourceNode:D,targetNode:d,source:p.value.source,target:p.value.target,type:p.value.type,updatable:ue.value,selected:p.value.selected,animated:p.value.animated,label:p.value.label,labelStyle:p.value.labelStyle,labelShowBg:p.value.labelShowBg,labelBgStyle:p.value.labelBgStyle,labelBgPadding:p.value.labelBgPadding,labelBgBorderRadius:p.value.labelBgBorderRadius,data:p.value.data,events:{...p.value.events,...C.on},style:N.value,markerStart:`url('#${hn(p.value.markerStart,t)}')`,markerEnd:`url('#${hn(p.value.markerEnd,t)}')`,sourcePosition:M,targetPosition:Q,sourceX:le,sourceY:pe,targetX:de,targetY:we,sourceHandleId:p.value.sourceHandle,targetHandleId:p.value.targetHandle,interactionWidth:p.value.interactionWidth,...g}),[ue.value==="source"||ue.value===!0?[xe("g",{onMousedown:U,onMouseenter:V,onMouseout:Y},xe(ii,{position:M,centerX:le,centerY:pe,radius:r.value,type:"source","data-type":"source"}))]:null,ue.value==="target"||ue.value===!0?[xe("g",{onMousedown:k,onMouseenter:V,onMouseout:Y},xe(ii,{position:Q,centerX:de,centerY:we,radius:r.value,type:"target","data-type":"target"}))]:null]])};function V(){X.value=!0}function Y(){X.value=!1}function q(D,d){C.emit.update({event:D,edge:p.value,connection:d})}function ae(D){C.emit.updateEnd({event:D,edge:p.value}),G.value=!1}function Z(D,d){var g;D.button===0&&(G.value=!0,W.value=d?p.value.target:p.value.source,J.value=(g=d?p.value.targetHandle:p.value.sourceHandle)!=null?g:"",z.value=d?"target":"source",C.emit.updateStart({event:D,edge:p.value}),H(D))}function F(D){var d;const g={event:D,edge:p.value};ee.value&&(a.value=!1,p.value.selected&&m.value?(u([p.value]),(d=y.value)==null||d.blur()):n([p.value])),C.emit.click(g)}function te(D){C.emit.contextMenu({event:D,edge:p.value})}function ge(D){C.emit.doubleClick({event:D,edge:p.value})}function ce(D){C.emit.mouseEnter({event:D,edge:p.value})}function me(D){C.emit.mouseMove({event:D,edge:p.value})}function O(D){C.emit.mouseLeave({event:D,edge:p.value})}function U(D){Z(D,!0)}function k(D){Z(D,!1)}function R(D){var d;!x.value&&va.includes(D.key)&&ee.value&&(D.key==="Escape"?((d=y.value)==null||d.blur(),u([c(e.id)])):n([c(e.id)]))}}}),Hh=Bh,Rh={[ne.Left]:ne.Right,[ne.Right]:ne.Left,[ne.Top]:ne.Bottom,[ne.Bottom]:ne.Top},Vh=Ee({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:o,connectionEndHandle:r,connectionPosition:i,connectionLineType:a,connectionLineStyle:s,connectionLineOptions:l,connectionStatus:u,viewport:c,findNode:f}=Me(),h=(e=jt(ao))==null?void 0:e["connection-line"],m=ie(()=>{var p;return f((p=o.value)==null?void 0:p.nodeId)}),x=ie(()=>{var C;var p;return(C=f((p=r.value)==null?void 0:p.nodeId))!=null?C:null}),v=ie(()=>({x:(i.value.x-c.value.x)/c.value.zoom,y:(i.value.y-c.value.y)/c.value.zoom})),w=ie(()=>l.value.markerStart?`url(#${hn(l.value.markerStart,t)})`:""),b=ie(()=>l.value.markerEnd?`url(#${hn(l.value.markerEnd,t)})`:"");return()=>{var V,Y,q,ae;var p,C,E,$;if(!m.value||!o.value)return null;const X=o.value.handleId,G=o.value.type,W=m.value.handleBounds;let J=W==null?void 0:W[G];if(n.value===Tt.Loose&&(J=J||(W==null?void 0:W[G==="source"?"target":"source"])),!J)return null;const z=(V=X?J.find(Z=>Z.id===X):J[0])!=null?V:null,y=(z==null?void 0:z.position)||ne.Top,{x:ee,y:ue}=jn(m.value,z,y);let _=null;x.value&&((p=r.value)!=null&&p.handleId)&&(n.value===Tt.Strict?_=((C=x.value.handleBounds[G==="source"?"target":"source"])==null?void 0:C.find(Z=>{var F;return Z.id===((F=r.value)==null?void 0:F.handleId)}))||null:_=((E=[...x.value.handleBounds.source||[],...x.value.handleBounds.target||[]])==null?void 0:E.find(Z=>{var F;return Z.id===((F=r.value)==null?void 0:F.handleId)}))||null);const P=(Y=($=r.value)==null?void 0:$.position)!=null?Y:y?Rh[y]:null;if(!y||!P)return null;const N=(ae=(q=a.value)!=null?q:l.value.type)!=null?ae:xt.Bezier;let A="";const H={sourceX:ee,sourceY:ue,sourcePosition:y,targetX:v.value.x,targetY:v.value.y,targetPosition:P};return N===xt.Bezier?[A]=La(H):N===xt.Step?[A]=Fo({...H,borderRadius:0}):N===xt.SmoothStep?[A]=Fo(H):N===xt.SimpleBezier?[A]=Fa(H):A=`M${ee},${ue} ${v.value.x},${v.value.y}`,xe("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},xe("g",{class:"vue-flow__connection"},h?xe(h,{sourceX:ee,sourceY:ue,sourcePosition:y,targetX:v.value.x,targetY:v.value.y,targetPosition:P,sourceNode:m.value,sourceHandle:z,targetNode:x.value,targetHandle:_,markerEnd:b.value,markerStart:w.value,connectionStatus:u.value}):xe("path",{d:A,class:[l.value.class,u,"vue-flow__connection-path"],style:{...s.value,...l.value.style},"marker-end":b.value,"marker-start":w.value})))}}}),Lh=Vh,Fh=["id","markerWidth","markerHeight","markerUnits","orient"],Gh={name:"MarkerType",compatConfig:{MODE:3}},qh=Ee({...Gh,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(K(),ve("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${t.width}`,markerHeight:`${t.height}`,markerUnits:t.markerUnits,orient:t.orient},[t.type===se(Bo).ArrowClosed?(K(),ve("polyline",{key:0,style:Oe({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):Se("",!0),t.type===se(Bo).Arrow?(K(),ve("polyline",{key:1,style:Oe({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):Se("",!0)],8,Fh))}}),Yh={class:"vue-flow__marker vue-flow__container"},Xh={name:"MarkerDefinitions",compatConfig:{MODE:3}},Uh=Ee({...Xh,setup(e){const{id:t,edges:n,connectionLineOptions:o,defaultMarkerColor:r}=Me(),i=ie(()=>{const a=new Set,s=[],l=u=>{if(u){const c=hn(u,t);a.has(c)||(typeof u=="object"?s.push({...u,id:c,color:u.color||r.value}):s.push({id:c,color:r.value,type:u}),a.add(c))}};for(const u of[o.value.markerEnd,o.value.markerStart])l(u);for(const u of n.value)for(const c of[u.markerStart,u.markerEnd])l(c);return s.sort((u,c)=>u.id.localeCompare(c.id))});return(a,s)=>(K(),ve("svg",Yh,[re("defs",null,[(K(!0),ve(Be,null,mt(i.value,l=>(K(),ye(qh,{id:l.id,key:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,"stroke-width":l.strokeWidth,orient:l.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),jh={name:"Edges",compatConfig:{MODE:3}},Zh=Ee({...jh,setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:o}=Me();return(r,i)=>(K(),ve(Be,null,[I(Uh),(K(!0),ve(Be,null,mt(se(n),a=>(K(),ve("svg",{key:a.id,class:"vue-flow__edges vue-flow__container",style:Oe({zIndex:se(yf)(a,se(t),se(o))})},[I(se(Hh),{id:a.id},null,8,["id"])],4))),128)),I(se(Lh))],64))}}),Kh=Ee({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:o,nodesSelectionActive:r,multiSelectionActive:i,emits:a,removeSelectedNodes:s,addSelectedNodes:l,updateNodeDimensions:u,onUpdateNodeInternals:c,getNodeTypes:f,nodeExtent:h,elevateNodesOnSelect:m,disableKeyboardA11y:x,ariaLiveMessage:v,snapToGrid:w,snapGrid:b,nodeDragThreshold:p,nodesDraggable:C,elementsSelectable:E,nodesConnectable:$,nodesFocusable:X}=Me(),G=he(null);qt(Oa,G),qt(Aa,e.id);const W=jt(ao),J=yn(),z=Ba(),{node:y,parentNode:ee}=$a(e.id),ue=Ie(()=>typeof y.draggable=="undefined"?C.value:y.draggable),_=Ie(()=>typeof y.selectable=="undefined"?E.value:y.selectable),P=Ie(()=>typeof y.connectable=="undefined"?$.value:y.connectable),N=Ie(()=>typeof y.focusable=="undefined"?X.value:y.focusable),A=Ie(()=>!!y.dimensions.width&&!!y.dimensions.height),H=ie(()=>{const d=y.type||"default",g=W==null?void 0:W[`node-${d}`];if(g)return g;let S=y.template||f.value[d];if(typeof S=="string"&&J){const T=Object.keys(J.appContext.components);T&&T.includes(d)&&(S=Di(d,!1))}return S&&typeof S!="string"?S:(a.error(new ke(Te.NODE_TYPE_MISSING,S)),!1)}),{emit:V,on:Y}=Of(y,a),q=Da({id:e.id,el:G,disabled:()=>!ue.value,selectable:_,dragHandle:()=>y.dragHandle,onStart(d){V.dragStart(d)},onDrag(d){V.drag(d)},onStop(d){V.dragStop(d)},onClick(d){R(d)}}),ae=ie(()=>y.class instanceof Function?y.class(y):y.class),Z=ie(()=>{const d=(y.style instanceof Function?y.style(y):y.style)||{},g=y.width instanceof Function?y.width(y):y.width,S=y.height instanceof Function?y.height(y):y.height;return!d.width&&g&&(d.width=typeof g=="string"?g:`${g}px`),!d.height&&S&&(d.height=typeof S=="string"?S:`${S}px`),d}),F=Ie(()=>{var d,g;return Number((g=(d=y.zIndex)!=null?d:Z.value.zIndex)!=null?g:0)});return c(d=>{(d.includes(e.id)||!d.length)&&ge()}),We(()=>{be(()=>y.hidden,(d=!1,g,S)=>{!d&&G.value&&(e.resizeObserver.observe(G.value),S(()=>{G.value&&e.resizeObserver.unobserve(G.value)}))},{immediate:!0,flush:"post"})}),be([()=>y.type,()=>y.sourcePosition,()=>y.targetPosition],()=>{Ze(()=>{u([{id:e.id,nodeElement:G.value,forceUpdate:!0}])})}),be([()=>y.position.x,()=>y.position.y,()=>{var d;return(d=ee.value)==null?void 0:d.computedPosition.x},()=>{var d;return(d=ee.value)==null?void 0:d.computedPosition.y},()=>{var d;return(d=ee.value)==null?void 0:d.computedPosition.z},F,()=>y.selected,()=>y.dimensions.height,()=>y.dimensions.width,()=>{var d;return(d=ee.value)==null?void 0:d.dimensions.height},()=>{var d;return(d=ee.value)==null?void 0:d.dimensions.width}],([d,g,S,T,L,oe])=>{const M={x:d,y:g,z:oe+(m.value&&y.selected?1e3:0)};typeof S!="undefined"&&typeof T!="undefined"?y.computedPosition=ff({x:S,y:T,z:L},M):y.computedPosition=M},{flush:"post",immediate:!0}),be([()=>y.extent,h],([d,g],[S,T])=>{(d!==S||g!==T)&&te()}),y.extent==="parent"||typeof y.extent=="object"&&"range"in y.extent&&y.extent.range==="parent"?Io(()=>A).toBe(!0).then(te):te(),()=>{var d,g;return y.hidden?null:xe("div",{ref:G,"data-id":y.id,class:["vue-flow__node",`vue-flow__node-${H.value===!1?"default":y.type||"default"}`,{[n.value]:ue.value,dragging:q==null?void 0:q.value,draggable:ue.value,selected:y.selected,selectable:_.value,parent:y.isParent},ae.value],style:{visibility:A.value?"visible":"hidden",zIndex:(d=y.computedPosition.z)!=null?d:F.value,transform:`translate(${y.computedPosition.x}px,${y.computedPosition.y}px)`,pointerEvents:_.value||ue.value?"all":"none",...Z.value},tabIndex:N.value?0:void 0,role:N.value?"button":void 0,"aria-describedby":x.value?void 0:`${pa}-${t}`,"aria-label":y.ariaLabel,onMouseenter:ce,onMousemove:me,onMouseleave:O,onContextmenu:U,onClick:R,onDblclick:k,onKeydown:D},[xe(H.value===!1?f.value.default:H.value,{id:y.id,type:y.type,data:y.data,events:{...y.events,...Y},selected:y.selected,resizing:y.resizing,dragging:q.value,connectable:P.value,position:y.computedPosition,dimensions:y.dimensions,isValidTargetPos:y.isValidTargetPos,isValidSourcePos:y.isValidSourcePos,parent:y.parentNode,parentNodeId:y.parentNode,zIndex:(g=y.computedPosition.z)!=null?g:F.value,targetPosition:y.targetPosition,sourcePosition:y.sourcePosition,label:y.label,dragHandle:y.dragHandle,onUpdateNodeInternals:ge})])};function te(){const d=y.computedPosition;w.value&&(d.x=b.value[0]*Math.round(d.x/b.value[0]),d.y=b.value[1]*Math.round(d.y/b.value[1]));const{computedPosition:g,position:S}=ar(y,d,a.error,h.value,ee.value);(y.computedPosition.x!==g.x||y.computedPosition.y!==g.y)&&(y.computedPosition={...y.computedPosition,...g}),(y.position.x!==S.x||y.position.y!==S.y)&&(y.position=S)}function ge(){G.value&&u([{id:e.id,nodeElement:G.value,forceUpdate:!0}])}function ce(d){q!=null&&q.value||V.mouseEnter({event:d,node:y})}function me(d){q!=null&&q.value||V.mouseMove({event:d,node:y})}function O(d){q!=null&&q.value||V.mouseLeave({event:d,node:y})}function U(d){return V.contextMenu({event:d,node:y})}function k(d){return V.doubleClick({event:d,node:y})}function R(d){_.value&&(!o.value||!ue.value||p.value>0)&&Lo(y,i.value,l,s,r,!1,G.value),V.click({event:d,node:y})}function D(d){if(!(Ho(d)||x.value))if(va.includes(d.key)&&_.value){const g=d.key==="Escape";Lo(y,i.value,l,s,r,g,G.value)}else ue.value&&y.selected&&Gt[d.key]&&(v.value=`Moved selected node ${d.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~y.position.x}, y: ${~~y.position.y}`,z({x:Gt[d.key].x,y:Gt[d.key].y},d.shiftKey))}}}),Wh=Kh;function Qh(e={includeHiddenNodes:!1}){const{nodes:t}=Me();return ie(()=>{if(t.value.length===0)return!1;for(const n of t.value)if((e.includeHiddenNodes||!n.hidden)&&((n==null?void 0:n.handleBounds)===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}const Jh={class:"vue-flow__nodes vue-flow__container"},eg={name:"Nodes",compatConfig:{MODE:3}},tg=Ee({...eg,setup(e){const{getNodes:t,updateNodeDimensions:n,emits:o}=Me(),r=Qh(),i=he();return be(r,a=>{a&&Ze(()=>{o.nodesInitialized(t.value)})},{immediate:!0}),We(()=>{i.value=new ResizeObserver(a=>{const s=a.map(l=>({id:l.target.getAttribute("data-id"),nodeElement:l.target,forceUpdate:!0}));Ze(()=>n(s))})}),Ai(()=>{var a;return(a=i.value)==null?void 0:a.disconnect()}),(a,s)=>(K(),ve("div",Jh,[i.value?(K(!0),ve(Be,{key:0},mt(se(t),(l,u,c,f)=>{const h=[l.id];if(f&&f.key===l.id&&us(f,h))return f;const m=(K(),ye(se(Wh),{id:l.id,key:l.id,"resize-observer":i.value},null,8,["id","resize-observer"]));return m.memo=h,m},s,0),128)):Se("",!0)]))}});function ng(){const{emits:e}=Me();We(()=>{if(ka()){const t=document.querySelector(".vue-flow__pane");t&&window.getComputedStyle(t).zIndex!=="1"&&e.error(new ke(Te.MISSING_STYLES))}})}const og=re("div",{class:"vue-flow__edge-labels"},null,-1),rg={name:"VueFlow",compatConfig:{MODE:3}},ig=Ee({...rg,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const o=e,r=as(),i=go(o,"modelValue",n),a=go(o,"nodes",n),s=go(o,"edges",n),l=Me(o),u=$f({modelValue:i,nodes:a,edges:s},o,l);return Hf(n,l.hooks),Dh(),ng(),qt(ao,r),Pi(()=>{u()}),t(l),(c,f)=>(K(),ve("div",{ref:se(l).vueFlowRef,class:"vue-flow"},[I(Ih,null,{default:B(()=>[I(Zh),og,I(tg),It(c.$slots,"zoom-pane")]),_:3}),It(c.$slots,"default"),I(Oh)],512))}});function Hn(e,t){for(var n=-1,o=e==null?0:e.length,r=Array(o);++n<o;)r[n]=t(e[n],n,e);return r}var Le=Array.isArray,ag=1/0,ai=Rn?Rn.prototype:void 0,si=ai?ai.toString:void 0;function qa(e){if(typeof e=="string")return e;if(Le(e))return Hn(e,qa)+"";if(an(e))return si?si.call(e):"";var t=e+"";return t=="0"&&1/e==-ag?"-0":t}function Ya(e){return e}var So=yt["__core-js_shared__"],li=function(){var e=/[^.]+$/.exec(So&&So.keys&&So.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function sg(e){return!!li&&li in e}var lg=Function.prototype,ug=lg.toString;function Ot(e){if(e!=null){try{return ug.call(e)}catch{}try{return e+""}catch{}}return""}var cg=/[\\^$.*+?()[\]{}|]/g,dg=/^\[object .+?Constructor\]$/,fg=Function.prototype,hg=Object.prototype,gg=fg.toString,pg=hg.hasOwnProperty,mg=RegExp("^"+gg.call(pg).replace(cg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vg(e){if(!Vn(e)||sg(e))return!1;var t=Xs(e)?mg:dg;return t.test(Ot(e))}function yg(e,t){return e==null?void 0:e[t]}function Dt(e,t){var n=yg(e,t);return vg(n)?n:void 0}var Go=Dt(yt,"WeakMap"),ui=function(){try{var e=Dt(Object,"defineProperty");return e({},"",{}),e}catch{}}();function _g(e,t,n){t=="__proto__"&&ui?ui(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var wg=Object.prototype,bg=wg.hasOwnProperty;function xg(e,t,n){var o=e[t];(!(bg.call(e,t)&&Ko(o,n))||n===void 0&&!(t in e))&&_g(e,t,n)}var Eg=Object.prototype;function Sg(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Eg;return e===n}function Ng(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}var Cg="[object Arguments]";function ci(e){return sn(e)&&Qn(e)==Cg}var Xa=Object.prototype,Mg=Xa.hasOwnProperty,Ig=Xa.propertyIsEnumerable,Ua=ci(function(){return arguments}())?ci:function(e){return sn(e)&&Mg.call(e,"callee")&&!Ig.call(e,"callee")};function Pg(){return!1}var ja=typeof exports=="object"&&exports&&!exports.nodeType&&exports,di=ja&&typeof module=="object"&&module&&!module.nodeType&&module,Tg=di&&di.exports===ja,fi=Tg?yt.Buffer:void 0,kg=fi?fi.isBuffer:void 0,qo=kg||Pg,Ag="[object Arguments]",Og="[object Array]",Dg="[object Boolean]",zg="[object Date]",$g="[object Error]",Bg="[object Function]",Hg="[object Map]",Rg="[object Number]",Vg="[object Object]",Lg="[object RegExp]",Fg="[object Set]",Gg="[object String]",qg="[object WeakMap]",Yg="[object ArrayBuffer]",Xg="[object DataView]",Ug="[object Float32Array]",jg="[object Float64Array]",Zg="[object Int8Array]",Kg="[object Int16Array]",Wg="[object Int32Array]",Qg="[object Uint8Array]",Jg="[object Uint8ClampedArray]",ep="[object Uint16Array]",tp="[object Uint32Array]",Ce={};Ce[Ug]=Ce[jg]=Ce[Zg]=Ce[Kg]=Ce[Wg]=Ce[Qg]=Ce[Jg]=Ce[ep]=Ce[tp]=!0;Ce[Ag]=Ce[Og]=Ce[Yg]=Ce[Dg]=Ce[Xg]=Ce[zg]=Ce[$g]=Ce[Bg]=Ce[Hg]=Ce[Rg]=Ce[Vg]=Ce[Lg]=Ce[Fg]=Ce[Gg]=Ce[qg]=!1;function np(e){return sn(e)&&Hi(e.length)&&!!Ce[Qn(e)]}function Za(e){return function(t){return e(t)}}var Ka=typeof exports=="object"&&exports&&!exports.nodeType&&exports,on=Ka&&typeof module=="object"&&module&&!module.nodeType&&module,op=on&&on.exports===Ka,No=op&&Us.process,hi=function(){try{var e=on&&on.require&&on.require("util").types;return e||No&&No.binding&&No.binding("util")}catch{}}(),gi=hi&&hi.isTypedArray,Wa=gi?Za(gi):np,rp=Object.prototype,ip=rp.hasOwnProperty;function ap(e,t){var n=Le(e),o=!n&&Ua(e),r=!n&&!o&&qo(e),i=!n&&!o&&!r&&Wa(e),a=n||o||r||i,s=a?Ng(e.length,String):[],l=s.length;for(var u in e)ip.call(e,u)&&!(a&&(u=="length"||r&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Wo(u,l)))&&s.push(u);return s}function sp(e,t){return function(n){return e(t(n))}}var lp=sp(Object.keys,Object),up=Object.prototype,cp=up.hasOwnProperty;function dp(e){if(!Sg(e))return lp(e);var t=[];for(var n in Object(e))cp.call(e,n)&&n!="constructor"&&t.push(n);return t}function cr(e){return Qo(e)?ap(e):dp(e)}var fp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hp=/^\w*$/;function dr(e,t){if(Le(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||an(e)?!0:hp.test(e)||!fp.test(e)||t!=null&&e in Object(t)}var pn=Dt(Object,"create");function gp(){this.__data__=pn?pn(null):{},this.size=0}function pp(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var mp="__lodash_hash_undefined__",vp=Object.prototype,yp=vp.hasOwnProperty;function _p(e){var t=this.__data__;if(pn){var n=t[e];return n===mp?void 0:n}return yp.call(t,e)?t[e]:void 0}var wp=Object.prototype,bp=wp.hasOwnProperty;function xp(e){var t=this.__data__;return pn?t[e]!==void 0:bp.call(t,e)}var Ep="__lodash_hash_undefined__";function Sp(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=pn&&t===void 0?Ep:t,this}function At(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}At.prototype.clear=gp;At.prototype.delete=pp;At.prototype.get=_p;At.prototype.has=xp;At.prototype.set=Sp;function Np(){this.__data__=[],this.size=0}function fo(e,t){for(var n=e.length;n--;)if(Ko(e[n][0],t))return n;return-1}var Cp=Array.prototype,Mp=Cp.splice;function Ip(e){var t=this.__data__,n=fo(t,e);if(n<0)return!1;var o=t.length-1;return n==o?t.pop():Mp.call(t,n,1),--this.size,!0}function Pp(e){var t=this.__data__,n=fo(t,e);return n<0?void 0:t[n][1]}function Tp(e){return fo(this.__data__,e)>-1}function kp(e,t){var n=this.__data__,o=fo(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}function at(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}at.prototype.clear=Np;at.prototype.delete=Ip;at.prototype.get=Pp;at.prototype.has=Tp;at.prototype.set=kp;var mn=Dt(yt,"Map");function Ap(){this.size=0,this.__data__={hash:new At,map:new(mn||at),string:new At}}function Op(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function ho(e,t){var n=e.__data__;return Op(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Dp(e){var t=ho(this,e).delete(e);return this.size-=t?1:0,t}function zp(e){return ho(this,e).get(e)}function $p(e){return ho(this,e).has(e)}function Bp(e,t){var n=ho(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}function st(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}st.prototype.clear=Ap;st.prototype.delete=Dp;st.prototype.get=zp;st.prototype.has=$p;st.prototype.set=Bp;var Hp="Expected a function";function fr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Hp);var n=function(){var o=arguments,r=t?t.apply(this,o):o[0],i=n.cache;if(i.has(r))return i.get(r);var a=e.apply(this,o);return n.cache=i.set(r,a)||i,a};return n.cache=new(fr.Cache||st),n}fr.Cache=st;var Rp=500;function Vp(e){var t=fr(e,function(o){return n.size===Rp&&n.clear(),o}),n=t.cache;return t}var Lp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fp=/\\(\\)?/g,Gp=Vp(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Lp,function(n,o,r,i){t.push(r?i.replace(Fp,"$1"):o||n)}),t});function qp(e){return e==null?"":qa(e)}function hr(e,t){return Le(e)?e:dr(e,t)?[e]:Gp(qp(e))}var Yp=1/0;function bn(e){if(typeof e=="string"||an(e))return e;var t=e+"";return t=="0"&&1/e==-Yp?"-0":t}function gr(e,t){t=hr(t,e);for(var n=0,o=t.length;e!=null&&n<o;)e=e[bn(t[n++])];return n&&n==o?e:void 0}function Xp(e,t,n){var o=e==null?void 0:gr(e,t);return o===void 0?n:o}function Up(e,t){for(var n=-1,o=t.length,r=e.length;++n<o;)e[r+n]=t[n];return e}function jp(){this.__data__=new at,this.size=0}function Zp(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Kp(e){return this.__data__.get(e)}function Wp(e){return this.__data__.has(e)}var Qp=200;function Jp(e,t){var n=this.__data__;if(n instanceof at){var o=n.__data__;if(!mn||o.length<Qp-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new st(o)}return n.set(e,t),this.size=n.size,this}function rt(e){var t=this.__data__=new at(e);this.size=t.size}rt.prototype.clear=jp;rt.prototype.delete=Zp;rt.prototype.get=Kp;rt.prototype.has=Wp;rt.prototype.set=Jp;function em(e,t){for(var n=-1,o=e==null?0:e.length,r=0,i=[];++n<o;){var a=e[n];t(a,n,e)&&(i[r++]=a)}return i}function tm(){return[]}var nm=Object.prototype,om=nm.propertyIsEnumerable,pi=Object.getOwnPropertySymbols,rm=pi?function(e){return e==null?[]:(e=Object(e),em(pi(e),function(t){return om.call(e,t)}))}:tm;function im(e,t,n){var o=t(e);return Le(e)?o:Up(o,n(e))}function mi(e){return im(e,cr,rm)}var Yo=Dt(yt,"DataView"),Xo=Dt(yt,"Promise"),Uo=Dt(yt,"Set"),vi="[object Map]",am="[object Object]",yi="[object Promise]",_i="[object Set]",wi="[object WeakMap]",bi="[object DataView]",sm=Ot(Yo),lm=Ot(mn),um=Ot(Xo),cm=Ot(Uo),dm=Ot(Go),ht=Qn;(Yo&&ht(new Yo(new ArrayBuffer(1)))!=bi||mn&&ht(new mn)!=vi||Xo&&ht(Xo.resolve())!=yi||Uo&&ht(new Uo)!=_i||Go&&ht(new Go)!=wi)&&(ht=function(e){var t=Qn(e),n=t==am?e.constructor:void 0,o=n?Ot(n):"";if(o)switch(o){case sm:return bi;case lm:return vi;case um:return yi;case cm:return _i;case dm:return wi}return t});var xi=yt.Uint8Array,fm="__lodash_hash_undefined__";function hm(e){return this.__data__.set(e,fm),this}function gm(e){return this.__data__.has(e)}function Kn(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new st;++t<n;)this.add(e[t])}Kn.prototype.add=Kn.prototype.push=hm;Kn.prototype.has=gm;function pm(e,t){for(var n=-1,o=e==null?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}function mm(e,t){return e.has(t)}var vm=1,ym=2;function Qa(e,t,n,o,r,i){var a=n&vm,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=i.get(e),c=i.get(t);if(u&&c)return u==t&&c==e;var f=-1,h=!0,m=n&ym?new Kn:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var x=e[f],v=t[f];if(o)var w=a?o(v,x,f,t,e,i):o(x,v,f,e,t,i);if(w!==void 0){if(w)continue;h=!1;break}if(m){if(!pm(t,function(b,p){if(!mm(m,p)&&(x===b||r(x,b,n,o,i)))return m.push(p)})){h=!1;break}}else if(!(x===v||r(x,v,n,o,i))){h=!1;break}}return i.delete(e),i.delete(t),h}function _m(e){var t=-1,n=Array(e.size);return e.forEach(function(o,r){n[++t]=[r,o]}),n}function wm(e){var t=-1,n=Array(e.size);return e.forEach(function(o){n[++t]=o}),n}var bm=1,xm=2,Em="[object Boolean]",Sm="[object Date]",Nm="[object Error]",Cm="[object Map]",Mm="[object Number]",Im="[object RegExp]",Pm="[object Set]",Tm="[object String]",km="[object Symbol]",Am="[object ArrayBuffer]",Om="[object DataView]",Ei=Rn?Rn.prototype:void 0,Co=Ei?Ei.valueOf:void 0;function Dm(e,t,n,o,r,i,a){switch(n){case Om:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Am:return!(e.byteLength!=t.byteLength||!i(new xi(e),new xi(t)));case Em:case Sm:case Mm:return Ko(+e,+t);case Nm:return e.name==t.name&&e.message==t.message;case Im:case Tm:return e==t+"";case Cm:var s=_m;case Pm:var l=o&bm;if(s||(s=wm),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;o|=xm,a.set(e,t);var c=Qa(s(e),s(t),o,r,i,a);return a.delete(e),c;case km:if(Co)return Co.call(e)==Co.call(t)}return!1}var zm=1,$m=Object.prototype,Bm=$m.hasOwnProperty;function Hm(e,t,n,o,r,i){var a=n&zm,s=mi(e),l=s.length,u=mi(t),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in t:Bm.call(t,h)))return!1}var m=i.get(e),x=i.get(t);if(m&&x)return m==t&&x==e;var v=!0;i.set(e,t),i.set(t,e);for(var w=a;++f<l;){h=s[f];var b=e[h],p=t[h];if(o)var C=a?o(p,b,h,t,e,i):o(b,p,h,e,t,i);if(!(C===void 0?b===p||r(b,p,n,o,i):C)){v=!1;break}w||(w=h=="constructor")}if(v&&!w){var E=e.constructor,$=t.constructor;E!=$&&"constructor"in e&&"constructor"in t&&!(typeof E=="function"&&E instanceof E&&typeof $=="function"&&$ instanceof $)&&(v=!1)}return i.delete(e),i.delete(t),v}var Rm=1,Si="[object Arguments]",Ni="[object Array]",Tn="[object Object]",Vm=Object.prototype,Ci=Vm.hasOwnProperty;function Lm(e,t,n,o,r,i){var a=Le(e),s=Le(t),l=a?Ni:ht(e),u=s?Ni:ht(t);l=l==Si?Tn:l,u=u==Si?Tn:u;var c=l==Tn,f=u==Tn,h=l==u;if(h&&qo(e)){if(!qo(t))return!1;a=!0,c=!1}if(h&&!c)return i||(i=new rt),a||Wa(e)?Qa(e,t,n,o,r,i):Dm(e,t,l,n,o,r,i);if(!(n&Rm)){var m=c&&Ci.call(e,"__wrapped__"),x=f&&Ci.call(t,"__wrapped__");if(m||x){var v=m?e.value():e,w=x?t.value():t;return i||(i=new rt),r(v,w,n,o,i)}}return h?(i||(i=new rt),Hm(e,t,n,o,r,i)):!1}function pr(e,t,n,o,r){return e===t?!0:e==null||t==null||!sn(e)&&!sn(t)?e!==e&&t!==t:Lm(e,t,n,o,pr,r)}var Fm=1,Gm=2;function qm(e,t,n,o){var r=n.length,i=r;if(e==null)return!i;for(e=Object(e);r--;){var a=n[r];if(a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<i;){a=n[r];var s=a[0],l=e[s],u=a[1];if(a[2]){if(l===void 0&&!(s in e))return!1}else{var c=new rt,f;if(!(f===void 0?pr(u,l,Fm|Gm,o,c):f))return!1}}return!0}function Ja(e){return e===e&&!Vn(e)}function Ym(e){for(var t=cr(e),n=t.length;n--;){var o=t[n],r=e[o];t[n]=[o,r,Ja(r)]}return t}function es(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function Xm(e){var t=Ym(e);return t.length==1&&t[0][2]?es(t[0][0],t[0][1]):function(n){return n===e||qm(n,e,t)}}function Um(e,t){return e!=null&&t in Object(e)}function jm(e,t,n){t=hr(t,e);for(var o=-1,r=t.length,i=!1;++o<r;){var a=bn(t[o]);if(!(i=e!=null&&n(e,a)))break;e=e[a]}return i||++o!=r?i:(r=e==null?0:e.length,!!r&&Hi(r)&&Wo(a,r)&&(Le(e)||Ua(e)))}function Zm(e,t){return e!=null&&jm(e,t,Um)}var Km=1,Wm=2;function Qm(e,t){return dr(e)&&Ja(t)?es(bn(e),t):function(n){var o=Xp(n,e);return o===void 0&&o===t?Zm(n,e):pr(t,o,Km|Wm)}}function Jm(e){return function(t){return t==null?void 0:t[e]}}function ev(e){return function(t){return gr(t,e)}}function tv(e){return dr(e)?Jm(bn(e)):ev(e)}function nv(e){return typeof e=="function"?e:e==null?Ya:typeof e=="object"?Le(e)?Qm(e[0],e[1]):Xm(e):tv(e)}function ov(e){return function(t,n,o){for(var r=-1,i=Object(t),a=o(t),s=a.length;s--;){var l=a[++r];if(n(i[l],l,i)===!1)break}return t}}var rv=ov();function iv(e,t){return e&&rv(e,t,cr)}function av(e,t){return function(n,o){if(n==null)return n;if(!Qo(n))return e(n,o);for(var r=n.length,i=-1,a=Object(n);++i<r&&o(a[i],i,a)!==!1;);return n}}var sv=av(iv);function lv(e,t){var n=-1,o=Qo(e)?Array(e.length):[];return sv(e,function(r,i,a){o[++n]=t(r,i,a)}),o}function uv(e,t,n,o){if(!Vn(e))return e;t=hr(t,e);for(var r=-1,i=t.length,a=i-1,s=e;s!=null&&++r<i;){var l=bn(t[r]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(r!=a){var c=s[l];u=void 0,u===void 0&&(u=Vn(c)?c:Wo(t[r+1])?[]:{})}xg(s,l,u),s=s[l]}return e}function cv(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function dv(e,t){if(e!==t){var n=e!==void 0,o=e===null,r=e===e,i=an(e),a=t!==void 0,s=t===null,l=t===t,u=an(t);if(!s&&!u&&!i&&e>t||i&&a&&l&&!s&&!u||o&&a&&l||!n&&l||!r)return 1;if(!o&&!i&&!u&&e<t||u&&n&&r&&!o&&!i||s&&n&&r||!a&&r||!l)return-1}return 0}function fv(e,t,n){for(var o=-1,r=e.criteria,i=t.criteria,a=r.length,s=n.length;++o<a;){var l=dv(r[o],i[o]);if(l){if(o>=s)return l;var u=n[o];return l*(u=="desc"?-1:1)}}return e.index-t.index}function hv(e,t,n){t.length?t=Hn(t,function(i){return Le(i)?function(a){return gr(a,i.length===1?i[0]:i)}:i}):t=[Ya];var o=-1;t=Hn(t,Za(nv));var r=lv(e,function(i,a,s){var l=Hn(t,function(u){return u(i)});return{criteria:l,index:++o,value:i}});return cv(r,function(i,a){return fv(i,a,n)})}function gv(e,t,n,o){return e==null?[]:(Le(t)||(t=t==null?[]:[t]),n=n,Le(n)||(n=n==null?[]:[n]),hv(e,t,n))}function pv(e,t,n){return e==null?e:uv(e,t,n)}const Ht=["jina-embeddings-v2-base-en","jina-colbert-v2","jina-clip-v1","jina-reranker-v2-base-multilingual","jina-embeddings-v3","reader-lm-1.5b"],mv=["jina-embedding-b-en-v1","reader-lm-1.5b","reader-lm-0.5b"],Mi=[{id:"E1-2",source:"jina-embedding-b-en-v1",target:"jina-embeddings-v2-base-en",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E2-3",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-zh",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E2-4",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-de",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E2-5",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-code",sourceHandle:"source-right",targetHandle:"target-left",markerEnd:"arrow",type:"smoothstep",style:"stroke: #323838"},{id:"E2-6",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-es",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E2-7",source:"jina-embeddings-v2-base-en",target:"jina-colbert-v1-en",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E2-9",source:"jina-embeddings-v2-base-en",target:"jina-clip-v1",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E7-8",source:"jina-colbert-v1-en",target:"jina-colbert-v2",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E10-11",source:"jina-reranker-v1-base-en",target:"jina-reranker-v1-tiny-en",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E10-12",source:"jina-reranker-v1-base-en",target:"jina-reranker-v1-turbo-en",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E10-13",source:"jina-reranker-v1-base-en",target:"jina-reranker-v2-base-multilingual",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E2-14",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v3",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E15-16",source:"reader-lm-1.5b",target:"reader-lm-0.5b",sourceHandle:"source-top",targetHandle:"target-bottom",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"}],vv=[{id:"E1-2",source:"jina-embedding-b-en-v1",target:"jina-embeddings-v2-base-en",sourceHandle:"source-left",targetHandle:"target-bottom",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E2-3",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-zh",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E2-4",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-de",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E2-5",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-code",sourceHandle:"source-right",targetHandle:"target-left",markerEnd:"arrow",type:"smoothstep",style:"stroke: #323838"},{id:"E2-6",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-es",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E2-7",source:"jina-embeddings-v2-base-en",target:"jina-colbert-v1-en",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E2-9",source:"jina-embeddings-v2-base-en",target:"jina-clip-v1",sourceHandle:"source-top",targetHandle:"target-bottom",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E7-8",source:"jina-colbert-v1-en",target:"jina-colbert-v2",sourceHandle:"source-left",targetHandle:"target-right",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E10-11",source:"jina-reranker-v1-base-en",target:"jina-reranker-v1-tiny-en",sourceHandle:"source-right",targetHandle:"target-right",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E10-12",source:"jina-reranker-v1-base-en",target:"jina-reranker-v1-turbo-en",sourceHandle:"source-right",targetHandle:"target-right",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E10-13",source:"jina-reranker-v1-base-en",target:"jina-reranker-v2-base-multilingual",sourceHandle:"source-left",targetHandle:"target-right",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E2-14",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v3",sourceHandle:"source-top",targetHandle:"target-bottom",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E15-16",source:"reader-lm-1.5b",target:"reader-lm-0.5b",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"}],et=100,Rt=340,tt=36,Wt=50,yv=Ee({__name:"EmbeddingGraph",setup(e,{expose:t}){t();const n=jo(),o=Gs(),{allModels:r}=On(o),i=qs(),{searchImmediate:a}=On(i),s=gs(),{settings:l}=On(s),u=he(!1),{t:c}=Wn({useScope:"global"}),{onNodesInitialized:f,onNodeMouseEnter:h,onNodeMouseLeave:m,onEdgeMouseEnter:x,onEdgeMouseLeave:v,onNodeClick:w,getNodes:b,getEdges:p}=Me(),C=he(),E=he([]),$=he(Mi),X=he(null),G=he(""),W=ie(()=>n.screen.lt.md),J=ie(()=>gv(r.value,["release_date"],["asc"])),z=ie(()=>{const O=Object.keys(C.value||{});return W.value?O.reverse():O}),y=ie(()=>G.value?b.value.filter(O=>O.id.toLowerCase().includes(G.value.toLowerCase())):[]),ee=ie(()=>G.value||X.value),ue=O=>{var U;return!ee.value||y.value.some(k=>k.id===O)||((U=X.value)==null?void 0:U.name)===O},_=()=>{if(X.value=null,!G.value){N();return}P(y.value,"node"),y.value.length&&Ze(()=>{var k,R;const O=F((R=(k=y.value[y.value.length-1])==null?void 0:k.data)==null?void 0:R.release_date),U=document.getElementById(`${O}`);U&&U.scrollIntoView({behavior:"smooth",block:"start"})})},P=(O,U)=>{U==="node"?(b.value.forEach(k=>{O.some(R=>R.id===k.id||R.id===k.id)?k.style={opacity:1,border:"1px solid #787d7d"}:k.style={opacity:.3}}),p.value.forEach(k=>{var D;const R=(D=document.querySelector(`.vue-flow__edge[data-id="${k.id}"]`))==null?void 0:D.parentElement;O.some(d=>d.id===k.source||d.id===k.target)?(k.style={stroke:"#929595"},R==null||R.setAttribute("style","z-index: 100"),k.sourceNode.style={opacity:1,border:"1px solid #787d7d"},k.targetNode.style={opacity:1,border:"1px solid #787d7d"}):R==null||R.setAttribute("style","z-index: 0")})):U==="edge"&&(p.value.forEach(k=>{var D;const R=(D=document.querySelector(`.vue-flow__edge[data-id="${k.id}"]`))==null?void 0:D.parentElement;O.some(d=>d.id===k.id||d.id===k.id)?(k.style={stroke:"#929595"},R==null||R.setAttribute("style","z-index: 100")):R==null||R.setAttribute("style","z-index: 0")}),b.value.forEach(k=>{O.some(R=>R.source===k.id||R.target===k.id)?k.style={opacity:1}:k.style={opacity:.3}}))},N=()=>{b.value.forEach(O=>{O.style={opacity:1}}),p.value.forEach(O=>{var k;const U=(k=document.querySelector(`.vue-flow__edge[data-id="${O.id}"]`))==null?void 0:k.parentElement;O.style={opacity:1,stroke:"#323838"},U==null||U.setAttribute("style","z-index: 0")})},A=async O=>{document.querySelector("header.q-header--hidden")&&window.scrollBy(0,-10),a.value=!0,l.value.lastQuestion=O,l.value.showSearchBar=!0},H=O=>O.split("-").slice(0,3).join(" "),V=()=>{X.value=null,ee.value||N()},Y=he({}),q=ie(()=>{const O=Object.keys(C.value||{});let U=0;if(W.value)return O.forEach(R=>{var S,T,L,oe;const D=(T=(S=C.value)==null?void 0:S[R])==null?void 0:T.filter(M=>Ht.includes(M.name)),d=(oe=(L=C.value)==null?void 0:L[R])==null?void 0:oe.filter(M=>!Ht.includes(M.name)),g=Math.max((D==null?void 0:D.length)||0,(d==null?void 0:d.length)||0);pv(Y.value,R,`${g}fr`),g>1&&(U+=g-1)}),{height:`${O.length*(et+tt*2)+U*(et+tt)}px`,width:Rt*2+200+"px"};const k=Math.max(...O.map(R=>{var D,d;return((d=(D=C.value)==null?void 0:D[R])==null?void 0:d.length)||0}));return{width:`${O.length*(Rt+Wt)}px`,height:k*(et+tt)+160+"px"}}),ae=ie(()=>({"grid-template-columns":W.value?"1fr":`repeat(auto-fill, ${Rt+Wt}px)`,"grid-template-rows":W.value?Object.values(Y.value).reverse().join(" "):"unset"})),Z=ie(()=>({minHeight:W.value?`${et+tt*2}px`:"unset"})),F=O=>{const U=new Date(O).getFullYear(),k=new Date(O).getMonth()+1;return`${U}Q${Math.ceil(k/3)}`},te=(O,U)=>{var oe,M;const k=F(O.release_date),R=W.value?Object.keys(C.value||{}).reverse():Object.keys(C.value||{}),D=R.indexOf(k),d=[],g=[];(M=(oe=C.value)==null?void 0:oe[k])==null||M.forEach(Q=>{Ht.includes(Q.name)?d.unshift(Q):g.unshift(Q)});let S=0;W.value?U?S=d.findIndex(Q=>Q.name===O.name):S=g.findIndex(Q=>Q.name===O.name):S=d.concat(g).findIndex(Q=>Q.name===O.name),S===-1&&(S=0);const T=R.slice(0,D);let L=0;return T.forEach(Q=>{var we,Fe,lt,_t;const le=(Fe=(we=C.value)==null?void 0:we[Q])==null?void 0:Fe.filter(Xe=>Ht.includes(Xe.name)),pe=(_t=(lt=C.value)==null?void 0:lt[Q])==null?void 0:_t.filter(Xe=>!Ht.includes(Xe.name)),de=Math.max((le==null?void 0:le.length)||0,(pe==null?void 0:pe.length)||0);L+=de-1}),W.value?{x:U?100:100+Rt+Wt,y:(et+tt)*(S+L)+(et+tt*2)*D+tt}:{x:25+D*(Rt+Wt),y:parseInt(q.value.height)-(100+et)-S*(et+tt)}},ge=async()=>{var O;u.value=!0,(O=r.value)!=null&&O.length||await o.getModels(),C.value={},J.value.forEach(U=>{var R;const k=F(U.release_date);(R=C.value)!=null&&R[k]?C.value[k].push(U):C.value={...C.value,[k]:[U]}}),E.value=J.value.map(U=>{const k=Ht.includes(U.name);return{id:U.name,data:{...U,isFrontier:k},position:te(U,k),type:"custom",class:`node ${k?"is-frontier":"is-variant"}`}}),u.value=!1},ce=async()=>{$.value=W.value?vv:Mi,await ge()};be(W,()=>{ce()}),Ti(()=>{ce()}),f(()=>{const O=document.querySelector(".models-graph-wrapper");O&&!W.value&&(O.scrollLeft=parseInt(q.value.width))}),w(O=>{G.value?y.value.some(U=>U.id===O.node.id)?X.value=O.node.data:(O.event.stopImmediatePropagation(),O.event.preventDefault()):(P([O.node],"node"),X.value=O.node.data)}),h(O=>{ee.value||P([O.node],"node")}),m(()=>{ee.value||N()}),x(O=>{ee.value||P([O.edge],"edge")}),v(()=>{ee.value||N()});const me={$q:n,embeddingStore:o,allModels:r,searchStore:i,searchImmediate:a,userStore:s,settings:l,isModelsLoading:u,t:c,onNodesInitialized:f,onNodeMouseEnter:h,onNodeMouseLeave:m,onEdgeMouseEnter:x,onEdgeMouseLeave:v,onNodeClick:w,getNodes:b,getEdges:p,NODE_HEIGHT:et,NODE_WIDTH:Rt,OFFSET_Y:tt,OFFSET_X:Wt,modelsByQuarter:C,modelNodes:E,edges:$,activeModel:X,query:G,vertical:W,sortedModels:J,quarters:z,filteredNodes:y,isHighlighting:ee,isNodeHoverable:ue,onFilter:_,highlightElements:P,removeHighlight:N,onSearch:A,getDefaultQuery:H,beforeHideDetails:V,verticalRows:Y,containerStyle:q,timelineStyle:ae,quarterStyle:Z,getQuarter:F,getPosition:te,getModels:ge,initialize:ce,get date(){return Ms},get VueFlow(){return ig},get Position(){return ne},get Handle(){return gn},get langcode2emojis(){return Is},get ccncOptions(){return ps},get cloudPartners(){return ms},get MODELS_WITHOUT_API(){return mv},get embeddingIcon(){return vs},get rerankerIcon(){return ys},get readerIcon(){return _s}};return Object.defineProperty(me,"__isScriptSetup",{enumerable:!1,value:!0}),me}}),_v={class:"row justify-center full-width"},wv={class:"models-graph-wrapper"},bv=["id"],xv={class:"label bg-grey-8 text-black"};function Ev(e,t,n,o,r,i){return K(),ve(Be,null,[re("div",_v,[I(ws,{modelValue:o.query,"onUpdate:modelValue":[t[0]||(t[0]=a=>o.query=a),o.onFilter],outlined:"",square:"",debounce:"300",label:o.t("model_graph.search_models"),class:"q-my-xl search-box",style:Oe({width:o.vertical?"80%":"40%"}),clearable:""},{prepend:B(()=>[I(Ve,{name:"search",class:"cursor-pointer"})]),_:1},8,["modelValue","label","style"])]),re("div",{class:He(["models-graph",{"is-vertical":o.vertical}])},[re("div",wv,[re("div",{class:"models-graph-inner",style:Oe(o.containerStyle)},[re("div",{class:"timeline",style:Oe(o.timelineStyle)},[(K(!0),ve(Be,null,mt(o.quarters,a=>(K(),ve("div",{key:a,class:"section",style:Oe(o.quarterStyle),id:a},[re("span",xv,fe(a),1)],12,bv))),128))],4),o.isModelsLoading?Se("",!0):(K(),ye(o.VueFlow,{key:0,nodes:o.modelNodes,edges:o.edges,"zoom-on-scroll":!1,"zoom-on-double-click":!1,"zoom-on-pinch":!1,"nodes-draggable":!1,"pan-on-drag":!1,"fit-view-on-init":!1},{"node-custom":B(({data:a})=>[zt((K(),ye(ze,{class:"full-width full-height cursor-pointer",style:{"flex-direction":"column"}},{default:B(()=>[I(De,{caption:"",class:"justify-between row full-width items-center q-mb-xs"},{default:B(()=>{var s,l,u;return[re("div",null,[(s=a.request_path)!=null&&s.includes("embedding")?(K(),ye(Ve,{key:0,name:"img:"+o.embeddingIcon},{default:B(()=>[I(Ue,null,{default:B(()=>[Ne(fe(o.t("landing_page.embeddings")),1)]),_:1})]),_:1},8,["name"])):(l=a.request_path)!=null&&l.includes("rank")?(K(),ye(Ve,{key:1,name:"img:"+o.rerankerIcon},{default:B(()=>[I(Ue,null,{default:B(()=>[Ne(fe(o.t("landing_page.reranker")),1)]),_:1})]),_:1},8,["name"])):(u=a.tags)!=null&&u.includes("reader")?(K(),ye(Ve,{key:2,name:"img:"+o.readerIcon},{default:B(()=>[I(Ue,null,{default:B(()=>[Ne(fe(o.t("landing_page.reader")),1)]),_:1})]),_:1},8,["name"])):Se("",!0),o.ccncOptions.includes(a.name)?(K(),ye(Ve,{key:3,name:"fab fa-creative-commons"},{default:B(()=>[I(Ue,null,{default:B(()=>[Ne(fe(o.t("landing_page.ccbync")),1)]),_:1})]),_:1})):Se("",!0)]),I(bt,{icon:"calendar_month",size:"xs",square:"",dense:"",class:"text-dim",color:"transparent",label:o.date.formatDate(a.release_date,"YYYY-MM-DD")},null,8,["label"])]}),_:2},1024),I(Ae,{class:"no-wrap"},{default:B(()=>[I(De,{class:"text-weight-bold",style:{"font-size":"14px"}},{default:B(()=>[re("code",null,fe(a.name),1)]),_:2},1024),I(De,{caption:"",class:"row q-py-sm no-wrap"},{default:B(()=>{var s,l,u,c,f,h;return[a.tags&&a.tags.includes("multimodal")?(K(),ye(bt,{key:0,square:"",size:"xs",outline:"",style:{"border-radius":"0"},class:"text-dim",label:o.t("embedding.multimodal"),icon:"mms"},{default:B(()=>[o.isNodeHoverable(a.name)?(K(),ye(Ue,{key:0},{default:B(()=>[Ne(fe(o.t("embedding.multimodal_explain")),1)]),_:1})):Se("",!0)]),_:2},1032,["label"])):Se("",!0),(s=a.request_path)!=null&&s.includes("multi-embeddings")?(K(),ye(bt,{key:1,class:"text-dim",style:{"border-radius":"0"},icon:"grid_4x4",label:o.t("embedding.multi_embedding"),square:"",size:"xs",outline:""},{default:B(()=>[I(Ue,null,{default:B(()=>[Ne(fe(o.t("embedding.multi_embedding_explain")),1)]),_:1})]),_:1},8,["label"])):Se("",!0),I(bt,{label:(l=a.meta_data)==null?void 0:l.token_length,square:"",size:"xs",outline:"",icon:"notes",class:"text-dim",style:{"border-radius":"0"}},{default:B(()=>[o.isNodeHoverable(a.name)?(K(),ye(Ue,{key:0},{default:B(()=>{var m;return[Ne(fe(o.t("embedding.token_length_explain",{_tokenLength:(m=a.meta_data)==null?void 0:m.token_length})),1)]}),_:2},1024)):Se("",!0)]),_:2},1032,["label"]),(u=a.request_path)!=null&&u.includes("embedding")?(K(),ye(bt,{key:2,label:(c=a.meta_data)==null?void 0:c.output_dim,square:"",class:"text-dim",size:"xs",outline:"",icon:"mdi-axis-arrow",style:{"border-radius":"0"}},{default:B(()=>[o.isNodeHoverable(a.name)?(K(),ye(Ue,{key:0},{default:B(()=>{var m;return[Ne(fe(o.t("embedding.output_dim_explain",{_outputDim:(m=a.meta_data)==null?void 0:m.output_dim})),1)]}),_:2},1024)):Se("",!0)]),_:2},1032,["label"])):Se("",!0),I(bt,{label:(f=a.meta_data)==null?void 0:f.size,square:"",size:"xs",class:"text-dim",outline:"",icon:"mdi-matrix",style:{"border-radius":"0"}},{default:B(()=>[o.isNodeHoverable(a.name)?(K(),ye(Ue,{key:0},{default:B(()=>{var m;return[Ne(fe(o.t("embedding.size_explain",{_size:(m=a.meta_data)==null?void 0:m.size})),1)]}),_:2},1024)):Se("",!0)]),_:2},1032,["label"]),I(bt,{label:o.langcode2emojis((h=a.meta_data)==null?void 0:h.language),square:"",class:"text-dim",size:"xs",outline:"",style:{"border-radius":"0"}},{default:B(()=>[o.isNodeHoverable(a.name)?(K(),ye(Ue,{key:0},{default:B(()=>{var m;return[Ne(fe(o.t("embedding.language_explain",{_language:o.langcode2emojis((m=a.meta_data)==null?void 0:m.language)})),1)]}),_:2},1024)):Se("",!0)]),_:2},1032,["label"])]}),_:2},1024)]),_:2},1024)]),_:2},1024)),[[$t]]),I(Fs,{flat:"","auto-close":"",anchor:o.vertical?"bottom start":"top right",self:"top left",class:"lock-blur model-menu bg-transparent",style:{width:"400px"},onBeforeHide:o.beforeHideDetails},{default:B(()=>[I(Rs),o.MODELS_WITHOUT_API.includes(a.name)?Se("",!0):zt((K(),ye(ze,{key:0,clickable:"",href:`/?sui&model=${a.name}`},{default:B(()=>[I(Ae,{avatar:""},{default:B(()=>[I(Ve,{name:"code"})]),_:1}),I(Ae,null,{default:B(()=>[I(De,{caption:""},{default:B(()=>[Ne(fe(o.t("model_graph.use_it_via")),1)]),_:1}),I(De,null,{default:B(()=>[Ne(fe(o.t("model_graph.api")),1)]),_:1})]),_:1})]),_:2},1032,["href"])),[[$t]]),(K(!0),ve(Be,null,mt(o.cloudPartners,s=>zt((K(),ye(ze,{clickable:"",key:s.label,href:s.link,target:"_blank"},{default:B(()=>[I(Ae,{avatar:""},{default:B(()=>[I(Ve,{name:s.icon},null,8,["name"])]),_:2},1024),I(Ae,null,{default:B(()=>[I(De,{caption:""},{default:B(()=>[Ne(fe(o.t("model_graph.deploy_it_on")),1)]),_:1}),I(Ae,null,{default:B(()=>[Ne(fe(s.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["href"])),[[$t]])),128)),zt((K(),ye(ze,{clickable:"",href:"/contact-sales"},{default:B(()=>[I(Ae,{avatar:""},{default:B(()=>[I(Ve,{name:"handshake"})]),_:1}),I(Ae,null,{default:B(()=>[I(De,null,{default:B(()=>[Ne(fe(o.t("model_graph.contact_sales_about_it")),1)]),_:1})]),_:1})]),_:1})),[[$t]]),zt((K(),ye(ze,{clickable:"",href:`https://huggingface.co/jinaai/${a.name}`,target:"_blank"},{default:B(()=>[I(Ae,{avatar:""},{default:B(()=>[I(Ve,{name:"img:/huggingface_logo.svg"})]),_:1}),I(Ae,null,{default:B(()=>[I(De,null,{default:B(()=>[Ne(fe(o.t("model_graph.find_on_hf")),1)]),_:1})]),_:1})]),_:2},1032,["href"])),[[$t]]),zt((K(),ye(ze,{clickable:"",onClick:s=>o.onSearch(o.getDefaultQuery(a.name))},{default:B(()=>[I(Ae,{avatar:""},{default:B(()=>[I(Ve,{name:"search"})]),_:1}),I(Ae,null,{default:B(()=>[I(De,{caption:""},{default:B(()=>[Ne(fe(o.t("model_graph.search_for")),1)]),_:1}),I(De,null,{default:B(()=>[t[1]||(t[1]=Ne('"')),re("code",null,fe(o.getDefaultQuery(a.name)),1),t[2]||(t[2]=Ne('"'))]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[$t]])]),_:2},1032,["anchor"]),I(o.Handle,{id:"source-top",type:"source",position:o.Position.Top},null,8,["position"]),I(o.Handle,{id:"target-top",type:"target",position:o.Position.Top},null,8,["position"]),I(o.Handle,{id:"source-bottom",type:"source",position:o.Position.Bottom},null,8,["position"]),I(o.Handle,{id:"target-bottom",type:"target",position:o.Position.Bottom},null,8,["position"]),I(o.Handle,{id:"source-left",type:"source",position:o.Position.Left},null,8,["position"]),I(o.Handle,{id:"target-left",type:"target",position:o.Position.Left},null,8,["position"]),I(o.Handle,{id:"source-right",type:"source",position:o.Position.Right},null,8,["position"]),I(o.Handle,{id:"target-right",type:"target",position:o.Position.Right},null,8,["position"])]),_:1},8,["nodes","edges"])),I(zi,{showing:o.isModelsLoading},null,8,["showing"])],4)])],2)],64)}const Sv=vn(yv,[["render",Ev],["__file","EmbeddingGraph.vue"]]),Nv=Ee({__name:"LandingPage",setup(e,{expose:t}){t();const n=xs(),{t:o,te:r}=Wn({useScope:"global"}),i=jo(),a=Os(),s=he(!1),{blogs:l}=On(a),u=he({}),c=ie(()=>Es.value.map(b=>({label:b.label,caption:o(b.caption),homepage:b.homepage,icon:b.icon,tags:b.tags,order:b.orderInGrid,star:u.value[b.star]})));We(()=>{bs(n.hash);const b=fetch("https://jina.ai/assets/data.json").then(E=>E.json()).then(E=>{u.value=E.stars}),p=a.getNewsBy({limit:3}),C=a.getNewsBy({limit:3,tag:"featured"});Promise.all([b,p,C]).then(()=>{s.value=!0})});const f=()=>{i.dialog({component:Ys,componentProps:{videoSrc:"https://jina-ai-gmbh.ghost.io/content/media/2024/10/jina-ai-rate-limit.mp4",title:"contact_us_page.get_api_key",description:"contact_us_page.turn_on_volume",icon:"volume_up"}})},h=[{label:"landing_page.get_api_now",icon:"code",anchor:"#apiform"},{label:"landing_page.models",icon:"mdi-molecule",anchor:"#models"},{label:"landing_page.contact_sales",icon:"handshake",anchor:"/contact-sales"}],m=ie(()=>v("features",["question_answer","app_registration","stadium","webhook","smart_toy"])),x=ie(()=>{switch(i.screen.name){case"xl":return"lg";case"lg":return"lg";case"md":return"md";case"sm":return"md";case"xs":return"md";default:return"sm"}}),v=(b,p)=>{const C=[];for(let E=0;E<5;E++){const $=`promptperfect.${b}[${E}]`;r($)&&C.push({name:r(`${$}.name`)?o(`${$}.name`):"",title:r(`${$}.title`)?o(`${$}.title`):"",description:r(`${$}.description`)?o(`${$}.description`):"",icon:p==null?void 0:p[E],image:`/landing_${b}_${E+1}.svg`})}return C};zs({page:"landing_page",banner:"banner.png",url:""});const w={route:n,t:o,te:r,$q:i,newsStore:a,isFetchComplete:s,blogs:l,stars:u,products:c,openVideoDialog:f,titleButtons:h,featureList:m,adaptiveSize:x,getFeatureContent:v,ResearchersComponent:As,LabeledPanel:Ds,TitleBlock:$s,SeFoComponent:Ps,PPFeatureComponent:Ws,NewsFeatureJumbo:ul,H2TitleBlock:Vs,UpsellTab:Ts,LogoWall:Ls,EmbeddingGraph:Sv};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}}),Cv="/assets/portal-0-JNIt16uC.webp",Mv="/assets/portal-0-DCQranzn.mp4",Iv="/assets/style-9-CXUDUGDM.svg",Pv="/assets/style-3-BJBw7XNm.svg",Tv="/assets/style-12-CCi3P51J.svg",kv={class:"row justify-center",style:{height:"100vh"}},Av={class:"row justify-center relative-position"},Ov={class:"col-11 col-md-10 q-py-xl"},Dv={class:"row justify-center relative-position",id:"newsroom"},zv={class:"col-11 col-md-10 col-xl-9 q-py-xl q-my-xl"},$v={class:"column justify-center items-center q-gutter-y-lg"},Bv={class:"q-py-xl row justify-center relative-position",id:"enterprises"},Hv={class:"col-11 col-md-10 col-xl-9",style:{"z-index":"1"}},Rv={class:"col-11 col-md-10 col-xl-9 q-my-xl q-pb-xl justify-center",id:"apiform"},Vv={class:"row text-r-h4 q-my-sm"},Lv={class:"row text-subtitle2 text-dim items-center"},Fv={class:"row q-mt-sm q-mb-xl"},Gv={class:"q-py-xl row justify-center relative-position",id:"research"},qv={class:"col-11 col-md-10 col-xl-9",style:{"z-index":"1"}},Yv={class:"row q-mt-xl q-pt-xl"},Xv={class:"col-12 col-md-5 col-lg-4"},Uv={class:"row text-r-h3 text-white q-mb-lg"},jv={class:"text-dim"},Zv={class:"row q-pt-xl"},Kv={class:"col-12 col-md-7 col-lg-8"},Wv={class:"q-pa-xl row justify-center overflow-hidden"},Qv={class:"col-12 col-sm-11 col-md-10",style:{"z-index":"1"}},Jv={class:"q-py-xl row justify-center relative-position",id:"power-users"},ey={class:"col-11 col-sm-10 col-md-9 col-lg-8"},ty={class:"row justify-center q-py-xl"},ny={class:"q-py-xl row justify-center",id:"developers"},oy={class:"col-11 col-md-10 col-xl-9 relative-position",style:{"z-index":"1"}};function ry(e,t,n,o,r,i){return K(),ye(ks,null,{default:B(()=>[re("div",kv,[I(rn,{flat:"",class:"col-12 bg-transparent"},{default:B(()=>[t[0]||(t[0]=re("video",{preload:"none",autoplay:"",muted:"",loop:"",playsinline:"",class:"non-selectable",poster:Cv,width:"100%",height:"100%",style:{"object-fit":"cover"}},[re("source",{src:Mv,type:"video/mp4"})],-1)),t[1]||(t[1]=re("div",{class:"overlay"},null,-1)),t[2]||(t[2]=re("div",{class:"overlay2"},null,-1)),I(rn,{flat:"",class:He(["absolute-left bg-transparent non-selectable column justify-center",`q-ml-${o.$q.screen.name} q-pl-${o.$q.screen.name}`])},{default:B(()=>[I(gt,null,{default:B(()=>[I(o.TitleBlock,{title:o.t("landing_page.your_search_foundation1"),subtitle:o.t("landing_page.supercharged1"),buttons:o.titleButtons},null,8,["title","subtitle"])]),_:1})]),_:1},8,["class"])]),_:1})]),re("div",Av,[re("div",Ov,[I(o.LogoWall)])]),re("div",Dv,[I(Nt,{src:Iv,class:"absolute-bottom",style:{opacity:"0.1"},fit:"contain",loading:"lazy"}),re("div",zv,[I(o.H2TitleBlock,{title:"landing_page.newsroom",anchor:"newsroom"}),re("div",$v,[o.isFetchComplete?(K(),ye(o.NewsFeatureJumbo,{key:0,featured:o.blogs.featured[0],latest:o.blogs.all},null,8,["featured","latest"])):Se("",!0),I(Ss,{outline:"",square:"",class:"col-6 lock-blur"},{default:B(()=>[I(wt,{square:"",outline:"","no-caps":"",icon:"auto_stories",size:o.adaptiveSize,padding:o.adaptiveSize,to:"/news",label:o.t("landing_page.read_more")},null,8,["size","padding","label"]),I(mr),I(wt,{outline:"",square:"",icon:"rss_feed",label:"RSS",href:"https://jina.ai/feed.rss",target:"_blank",size:o.adaptiveSize,padding:o.adaptiveSize},null,8,["size","padding"]),I(mr),I(wt,{outline:"",square:"",icon:"fa-brands fa-x-twitter",href:"https://x.com/jinaAI_",target:"_blank",size:o.adaptiveSize,padding:o.adaptiveSize},null,8,["size","padding"])]),_:1})])]),I(zi,{showing:!o.isFetchComplete},null,8,["showing"])]),re("div",Bv,[re("div",Hv,[I(o.H2TitleBlock,{title:"landing_page.for_enterprise",anchor:"enterprises",subtitle:"landing_page.enterprise_desc_v3"}),I(o.UpsellTab)]),re("div",Rv,[re("div",Vv,fe(o.t("landing_page.try_it_for_free")),1),re("div",Lv,[I(Ve,{name:"verified_user",class:"q-mr-sm"}),Ne(" "+fe(o.t("footer.soc2"))+" ",1),I(wt,{icon:"open_in_new",size:"sm",to:"/legal#security","no-caps":"",flat:"",square:"",class:"q-ml-sm"})]),re("div",Fv,[I(wt,{icon:"smart_display",label:o.t("contact_us_page.get_api_key"),square:"","no-caps":"",size:"sm",onClick:o.openVideoDialog,outline:""},null,8,["label"])]),I(o.SeFoComponent,{"show-function":"all"})]),I(Nt,{src:Pv,class:"absolute-bottom",style:{opacity:"0.1","z-index":"-1"},fit:"contain",loading:"lazy"})]),re("div",Gv,[re("div",qv,[re("div",Yv,[re("div",Xv,[re("div",{class:He(o.$q.screen.lt.md?"q-mb-lg q-pb-md":"q-mr-xl")},[re("div",Uv,fe(o.t("landing_page.our_publications")),1),re("div",jv,fe(o.t("landing_page.researcher_desc")),1),re("div",Zv,[I(wt,{square:"",outline:"",class:"lock-blur",label:o.t("landing_page.read_more"),icon:"school",padding:"md","no-caps":"",to:"/news#academic_research"},null,8,["label"])])],2)]),re("div",Kv,[I(o.ResearchersComponent)])])])]),re("div",Wv,[re("div",Qv,[I(o.H2TitleBlock,{title:"model_graph.title",anchor:"models",subtitle:"model_graph.description"}),I(o.EmbeddingGraph)])]),re("div",Jv,[I(Nt,{src:Tv,class:"absolute-bottom",style:{opacity:"0.1"},fit:"contain",loading:"lazy"}),re("div",ey,[I(o.H2TitleBlock,{title:"landing_page.for_power_users",anchor:"power-users",subtitle:"landing_page.power_users_desc"}),I(o.PPFeatureComponent,{"show-caption":!0,color:"#fff",items:o.featureList},null,8,["items"]),re("div",ty,[I(wt,{label:o.t("promptperfect.get_started"),square:"",href:"https://promptperfect.jina.ai",target:"_blank",padding:"lg",outline:"",class:"lock-blur",icon:"img:/PromptPerfect-dark.svg"},null,8,["label"])])])]),re("div",ny,[re("div",oy,[I(o.H2TitleBlock,{title:"landing_page.for_developers",anchor:"developers",subtitle:"landing_page.mmstack_desc"}),I(o.LabeledPanel,{class:"q-my-xl q-py-xl",products:o.products,"is-card-dark":!0},null,8,["products"])])])]),_:1})}const zy=vn(Nv,[["render",ry],["__file","LandingPage.vue"]]);export{zy as default};
