import{Q as E}from"./QImg.c6017ec6.js";import{e as ie,an as de,f as _,h as ce,K as ue,J as ye,am as we,ao as q,ap as s,aL as xe,u as me,aU as be,aq as o,au as e,ar as h,aM as p,ay as a,bN as ae,j as y,aE as k,az as g,aC as H,aw as L,ax as u,bY as qe,aB as t,U as J,as as S,aA as ke,aT as V,aD as A,aQ as $e,ad as se,bb as le,bH as je,bI as Qe}from"./index.b4d49ed2.js";import{Q as re}from"./QBtnGroup.0ee3482a.js";import{Q as Te}from"./QMarkupTable.3d99357a.js";import{_ as Re,Q as Ce}from"./plugin-vue_export-helper.c13b8ca9.js";import{u as Le}from"./useMetaTags.6528c90d.js";import{T as Se}from"./TitleBlock.a205ed44.js";import{_ as Ie}from"./FAQComponent.a43f60ae.js";import{Q as Be,b as Ue,_ as ze}from"./SeFoComponent.4c51bbee.js";import{Q as D}from"./QTooltip.8ed437ee.js";import{Q as F,_ as ne}from"./QTabPanels.d403e98b.js";import{Q as oe}from"./QLinearProgress.9e6deec6.js";import{c as Me}from"./copy-to-clipboard.4c843119.js";import{_ as Pe}from"./PricingComponent.1c705ada.js";import{H as j}from"./H2TitleBlock.fe0992ae.js";import"./QChip.20f2170a.js";import"./QExpansionItem.c5052eaf.js";import"./QTabs.10f5d475.js";import"./QSelect.7cac5b4c.js";import"./position-engine.d4f865df.js";import"./selection.81685b4f.js";import"./ClosePopup.acdcc715.js";import"./QTable.9af9ea10.js";import"./use-fullscreen.aaf4f1c4.js";import"./ModelDropDown.30adb4e9.js";import"./blogs.446b3bc6.js";import"./QForm.5e4de052.js";import"./use-panel.46e6a7e3.js";var Ee="/assets/explain.00d2d1a4.svg",He="/assets/explain3.ddb193be.svg",Ve="/assets/explain2.eda58d92.svg",Ae="/assets/explain4.b16c81d3.png";const De={class:"text-caption text-bold text-dim"},Oe={class:"text-caption text-bold text-dim"},Ne={class:"text-caption text-bold text-dim"},We=ie({__name:"ReaderSearchDemoComponent",props:{originalURL:{type:String,default:""},disableQA:{type:Boolean,default:!1},disableOriginalURL:{type:Boolean,default:!1}},setup($){const{t:i}=de({useScope:"global"}),l=_(""),b=_(!1),f=_(!1),w=me(),I=["When was Jina AI founded?","What did Elon Musk say about Open AI recently?","When will the next SpaceX launch be?","What is the market cap of Apple today?","Who will win 2024 US presidential election?","Who is playing in the US Open final?"],v=()=>I[Math.floor(Math.random()*I.length)],Q=_(null);let r=null;const T=_($.originalURL||v()),O=ce(()=>`https://s.jina.ai/${encodeURIComponent(T.value)}`),G=_(null),R=_([]),C=_([]),U=_(!1),z=_(!1),N=_(!1),M=_(!1),K=async n=>{var Y,Z,ee;if(!await((Y=G.value)==null?void 0:Y.validate()))return Promise.reject();const B={parameters:{question:T.value,context:n?"":l.value.slice(0,3e3)}};n?(R.value=[],U.value=!0,N.value=!0):(C.value=[],z.value=!0,M.value=!0);const d="https://api.promptperfect.jina.ai/ERK3nqviaFRyfGbkBsXD";try{const x=await fetch(d,{headers:{"content-type":"application/json"},body:JSON.stringify(B),method:"POST"});if(!x.ok)throw new Error(`HTTP error! status: ${x.status}`);if((Z=x.headers.get("content-type"))!=null&&Z.includes("text/event-stream")){if(x.body){const P=x.body.getReader(),ve=new TextDecoder;for(;;){const{done:he,value:te}=await P.read();if(he){n?N.value=!1:M.value=!1;break}te&&ve.decode(te).split(`

`).forEach(ge=>{const W=ge.replace(/data: /g,"");W&&(n?R.value.push(W):C.value.push(W))})}}}else if((ee=x.headers.get("content-type"))!=null&&ee.includes("application/json")){const P=(await x.json()).data;n?R.value=[P]:C.value=[P]}else throw new Error("Unknown response type")}catch(x){w.notify({color:"negative",message:i("landing_page.error",{message:x}),icon:"report_problem"})}finally{n?U.value=!1:z.value=!1}},_e=async()=>{f.value=!0,C.value=[];try{const n=await fetch(O.value);if(!n.ok)throw l.value=`\`\`\`json
${await n.json()}
\`\`\``,new Error(`Request failed with status ${n.status}`);const m=await n.text();l.value=`\`\`\`plaintext
${m}
\`\`\``}catch(n){w.notify({message:n.message,color:"negative"})}finally{f.value=!1}},X=async()=>{await Promise.all([_e(),K(!0)]),await K(!1)},fe=()=>{var m;const n=((m=Q.value)==null?void 0:m.$el)||Q.value;n instanceof HTMLElement?(r=new IntersectionObserver(B=>{B[0].isIntersecting&&(X().then(()=>{}),r==null||r.disconnect())},{root:null,threshold:.1}),r.observe(n)):console.error("Element is not an HTMLElement:",n)};return ue(()=>{ye(()=>{setTimeout(()=>{fe()},100)})}),we(()=>{r&&r.disconnect()}),(n,m)=>{const B=be("q-markdown");return o(),q(xe,{bordered:"",flat:"",square:"",class:"col-12 col-md-10",ref_key:"componentRef",ref:Q},{default:s(()=>[e(p,{horizontal:a(w).screen.gt.sm},{default:s(()=>[$.disableOriginalURL?H("",!0):(o(),h(g,{key:0},[e(p,{class:"col"},{default:s(()=>[e(a(ae),{modelValue:T.value,"onUpdate:modelValue":m[1]||(m[1]=d=>T.value=d),label:a(i)("reader.demo.your_query"),type:"url",loading:b.value,hint:a(i)("reader.demo.your_query_hint"),ref_key:"questionRef",ref:G},{prepend:s(()=>[e(y,{dense:"",square:"",flat:"",icon:"casino",onClick:m[0]||(m[0]=d=>T.value=v())})]),_:1},8,["modelValue","label","loading","hint"])]),_:1}),e(k,{vertical:a(w).screen.gt.sm},null,8,["vertical"])],64)),e(p,{class:"col"},{default:s(()=>[e(a(ae),{"model-value":`https://s.jina.ai/${T.value}`,label:a(i)("reader.demo.reader_url"),readonly:"",loading:f.value,"bottom-slots":""},{append:s(()=>[e(y,{flat:"",dense:"",square:"",icon:"content_copy",onClick:m[2]||(m[2]=d=>a(Me)(O.value))},{default:s(()=>[e(D,null,{default:s(()=>[L(u(a(i)("copy")),1)]),_:1})]),_:1}),e(y,{flat:"",dense:"",square:"",icon:"open_in_new",onClick:m[3]||(m[3]=d=>a(qe)(O.value))},{default:s(()=>[e(D,null,{default:s(()=>[L(u(a(i)("demo.open")),1)]),_:1})]),_:1})]),hint:s(()=>[L(u(a(i)("reader.demo.reader_search_hint")),1)]),_:1},8,["model-value","label","loading"])]),_:1})]),_:1},8,["horizontal"]),e(k),e(y,{square:"",label:a(i)("reader.demo.ask_llm"),class:"full-width",icon:"contact_support",onClick:X,padding:"md"},null,8,["label"]),z.value||U.value||f.value||C.value.length>0||R.value.length>0?(o(),h(g,{key:0},[e(k),e(p,{horizontal:a(w).screen.gt.sm,class:"q-pa-none"},{default:s(()=>[e(p,{class:"col"},{default:s(()=>[t("span",De,u(a(i)("reader.demo.ask_llm_directly")),1),U.value?(o(),q(p,{key:0},{default:s(()=>[e(J,{name:"img:https://promptperfect.jina.ai/PromptPerfect-dark.svg",class:"q-mr-sm"},{default:s(()=>[e(D,null,{default:s(()=>[L(u(a(i)("landing_page.powered_by_promptperfect")),1)]),_:1})]),_:1}),(o(),h(g,null,S([0,1,2,3],d=>e(F,{key:d,class:"q-my-xs",width:d>0?"":"100px",type:"text"},null,8,["width"])),64))]),_:1})):(o(),h(g,{key:1},[e(p,{class:"q-pa-lg"},{default:s(()=>[e(ne,{text:R.value,"speed-time":R.value?50:0},null,8,["text","speed-time"])]),_:1}),N.value?(o(),q(oe,{key:0,indeterminate:""})):H("",!0)],64))]),_:1}),e(k,{vertical:a(w).screen.gt.sm},null,8,["vertical"]),e(p,{class:"col"},{default:s(()=>[t("span",Oe,u(a(i)("reader.demo.reader_response")),1),f.value?(o(),q(p,{key:0},{default:s(()=>[(o(),h(g,null,S([100,300,200,200],d=>e(F,{type:"text",width:`${d}px`,key:d},null,8,["width"])),64))]),_:1})):(o(),q(B,{key:1,src:l.value,"no-line-numbers":"",style:{"max-height":"300px"}},null,8,["src"]))]),_:1}),e(k,{vertical:a(w).screen.gt.sm},null,8,["vertical"]),e(p,{class:"col"},{default:s(()=>[t("span",Ne,u(a(i)("reader.demo.ask_llm_with_search_grounding")),1),e(Be,{label:a(i)("reader.demo.waiting_for_reader"),showing:f.value},null,8,["label","showing"]),z.value?(o(),q(p,{key:0},{default:s(()=>[e(J,{name:"img:https://promptperfect.jina.ai/PromptPerfect-dark.svg",class:"q-mr-sm"},{default:s(()=>[e(D,null,{default:s(()=>[L(u(a(i)("landing_page.powered_by_promptperfect")),1)]),_:1})]),_:1}),(o(),h(g,null,S([0,1,2,3],d=>e(F,{key:d,class:"q-my-xs",width:d>0?"":"100px",type:"text"},null,8,["width"])),64))]),_:1})):(o(),h(g,{key:1},[e(p,{class:"q-pa-lg"},{default:s(()=>[e(ne,{text:C.value,"speed-time":M.value?50:0},null,8,["text","speed-time"])]),_:1}),M.value?(o(),q(oe,{key:0,indeterminate:""})):H("",!0)],64))]),_:1})]),_:1},8,["horizontal"])],64)):H("",!0),e(k),e(p,{class:"text-dim"},{default:s(()=>[e(J,{name:"info"}),L(" "+u(a(i)("reader.demo.search_query_rewrite")),1)]),_:1})]),_:1},512)}}});const pe=$=>(je("data-v-d851cd70"),$=$(),Qe(),$),Je={class:"col-12 col-md-11 q-py-xl q-mx-xs-xs q-mx-sm-sm q-mx-md-md q-mx-lg-lg q-mx-xl-xl q-ma-xl relative-position"},Fe={class:"row justify-center items-center"},Ge={class:"col-11 col-md-8"},Ke={class:"q-my-xl row justify-center items-center"},Xe={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},Ye={class:"q-my-xl row justify-center items-center"},Ze={class:"row justify-center items-center"},et={class:"col-11 col-md-8"},tt={class:"q-my-xl row justify-center items-center"},at={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},st=["innerHTML"],lt={class:"q-my-xl row justify-center items-center"},rt={class:"row justify-center items-center"},nt={class:"col-11 col-md-8"},ot={class:"q-my-xl row justify-center items-center"},it={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},dt={class:"row q-py-xl justify-center items-center"},ct={class:"col-11 col-md-8"},ut={class:"q-my-xl row justify-center items-center"},mt={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},pt=["innerHTML"],_t={class:"q-my-xl row justify-center"},ft={class:"q-my-xl row justify-center items-center",id:"rate-limit"},vt={class:"col-11 col-md-8 text-subtitle1 q-my-lg",style:{"white-space":"pre-line"}},ht=pe(()=>t("td",null,[t("code",null,"r.jina.ai")],-1)),gt=pe(()=>t("td",null,[t("code",null,"s.jina.ai")],-1)),yt={class:"q-my-xl row justify-center items-center text-subtitle1"},wt={class:"q-my-xl row justify-center items-center text-subtitle1"},xt={class:"q-my-xl row justify-center items-center"},bt={class:"q-my-xl row justify-center items-center"},qt={class:"row justify-center"},kt={class:"col-12 col-sm-11 col-md-10 q-pb-xl"},$t=ie({__name:"ReaderPage",setup($){const i=ke(),{t:l}=de({useScope:"global"}),b=_(!1);Le({page:"reader",banner:"banner-reader-api.png",url:"reader"});const f=me(),w=[{label:"landing_page.get_api_now",icon:"code",anchor:"#apiform"},{label:"reader.demo.try_demo",icon:"play_arrow",anchor:"#demo"},{label:"landing_page.pricing",anchor:"#pricing",icon:"attach_money"}];ue(async()=>{V(i.hash)});function I(Q){b.value=Q,V("#demo")}const v=ce(()=>{switch(f.screen.name){case"xl":return"lg";case"lg":return"lg";case"md":return"md";case"sm":return"md";case"xs":return"md";default:return"sm"}});return(Q,r)=>(o(),q(Ce,null,{default:s(()=>[t("div",{class:A(["row justify-center items-center img-bg q-py-xl",a(f).screen.lt.sm?"q-px-md":"q-px-xl"])},[t("div",Je,[e(Se,{title:a(l)("landing_page.reader"),tagline:a(l)("reader.reader_description"),"large-title":!0,buttons:w},null,8,["title","tagline"])])],2),t("div",{class:A(a(f).screen.lt.sm?"q-pa-md":"q-pa-xl"),id:"what_reader"},[e(j,{title:"reader.what_is1",anchor:"what_reader"}),t("div",Fe,[t("div",Ge,[e(E,{src:Ee})])]),t("div",Ke,[t("div",Xe,u(a(l)("reader.what_is_answer_long")),1)]),t("div",Ye,[e(y,{label:a(l)("reader.demo.show_read_demo"),icon:"play_arrow",outline:"",padding:"lg",square:"",onClick:r[0]||(r[0]=c=>I(!1))},null,8,["label"])]),e(j,{title:"reader.reader_do_search"}),t("div",Ze,[t("div",et,[e(E,{src:He})])]),t("div",tt,[t("div",at,[t("span",{innerHTML:a(l)("reader.reader_do_search_explain")},null,8,st)])]),t("div",lt,[e(y,{label:a(l)("reader.demo.show_search_demo"),icon:"play_arrow",outline:"",padding:"lg",square:"",onClick:r[1]||(r[1]=c=>I(!0))},null,8,["label"])]),e(j,{title:"reader.reader_reads_images"}),t("div",rt,[t("div",nt,[e(E,{src:Ve})])]),t("div",ot,[t("div",it,u(a(l)("reader.reader_also_read_images")),1)]),e(j,{title:"reader.reader_reads_pdf"}),t("div",dt,[t("div",ct,[e(E,{src:Ae})])]),t("div",ut,[t("div",mt,[t("span",{innerHTML:a(l)("reader.reader_do_pdf_explain")},null,8,pt)])]),t("div",_t,[e(re,{flat:"",outline:"",square:""},{default:s(()=>[e(y,{label:a(l)("reader.original_pdf"),href:"https://www.nasa.gov/wp-content/uploads/2023/01/55583main_vision_space_exploration2.pdf",outline:"",size:v.value,padding:v.value,square:"",target:"_blank",icon:"open_in_new"},null,8,["label","size","padding"]),e(k),e(y,{label:a(l)("reader.reader_result"),href:"https://r.jina.ai/https://www.nasa.gov/wp-content/uploads/2023/01/55583main_vision_space_exploration2.pdf",outline:"",size:v.value,padding:v.value,square:"",target:"_blank",icon:"open_in_new"},null,8,["label","size","padding"])]),_:1})]),e(j,{title:"reader.is_free",subtitle:"reader.is_free_description"}),t("div",ft,[t("div",vt,[e(Te,{"wrap-cells":"",flat:"",square:"",separator:"cell",bordered:""},{default:s(()=>[t("thead",null,[t("tr",null,[(o(),h(g,null,S([0,1,2,3,4,5,6],c=>t("th",{key:c},u(a(l)(`reader.table.th${c}`)),1)),64))])]),t("tbody",null,[t("tr",null,[ht,(o(),h(g,null,S([0,1,2,3,4,5],c=>t("td",{key:c},u(a(l)(`reader.table.td_1_${c}`)),1)),64))]),t("tr",null,[gt,(o(),h(g,null,S([0,1,2,3,4,5],c=>t("td",{key:c},u(a(l)(`reader.table.td_2_${c}`)),1)),64))])])]),_:1})])]),t("div",yt,u(a(l)("reader.dont_panic_api_key_is_free")),1),t("div",wt,[e(re,{outline:"",square:""},{default:s(()=>[e(y,{label:a(l)("get_new_key"),onClick:r[2]||(r[2]=c=>a(V)("#apiform")),outline:"",size:v.value,padding:v.value,square:"",icon:"key"},null,8,["label","size","padding"]),e(k),e(y,{label:a(l)("reader.check_price_table"),onClick:r[3]||(r[3]=c=>a(V)("#pricing")),outline:"",size:v.value,padding:v.value,square:"",icon:"attach_money"},null,8,["label","size","padding"])]),_:1})])],2),t("div",{class:A(a(f).screen.lt.sm?"q-pa-md":"q-pa-xl"),id:"demo"},[e(j,{title:"reader.demo.tagline",anchor:"demo"}),t("div",xt,[e($e,{modelValue:b.value,"onUpdate:modelValue":r[4]||(r[4]=c=>b.value=c),size:"xl",label:b.value?a(l)("reader.demo.show_read_demo"):a(l)("reader.demo.show_search_demo"),"checked-icon":"search","unchecked-icon":"double_arrow"},null,8,["modelValue","label"])]),t("div",bt,[se(e(We,null,null,512),[[le,b.value]]),se(e(Ue,null,null,512),[[le,!b.value]])])],2),t("div",{class:A(a(f).screen.lt.sm?"q-pa-md":"q-pa-xl"),id:"apiform"},[e(j,{title:"reader.title",subtitle:"reader.reader_description",anchor:"apiform"}),t("div",qt,[t("div",kt,[e(ze,{"show-function":"reader"})])])],2),e(Pe),e(Ie,{"faq-sources":["reader.faq_v1","api_general_faq","billing_general_faq"]},null,8,["faq-sources"])]),_:1}))}});var aa=Re($t,[["__scopeId","data-v-d851cd70"]]);export{aa as default};
