import{s as H,m as x,p as re,K as le,dn as ne,dz as ie,w as ue,j as A,af as J,a0 as q,aF as N,aN as R,a1 as l,a2 as n,a3 as a,a4 as t,aj as c,aa as f,ak as y,ac as d,ai as b,a6 as g,ab as i,ah as ce,u as me,an as D,k as w,V as de,n as _e,ao as fe,ap as pe,dG as ve,cH as ye,cI as be,q as Q,aJ as O,a8 as M,a7 as L,ad as v,aH as ge,ae as he,a5 as U,a9 as K,T as ke,am as Se,aS as xe}from"./index-pIz3tz5x.js";import{Q as Te}from"./QToolbar-CPP9BCj7.js";import{u as De,a as we,b as Qe,Q as Me}from"./QTabs-pzgeyIbz.js";import{P as Le,d as Ce,Q as Ee,a as Ne,b as Re,c as Ie}from"./PurchaseSuccessDialog-CvUZy0sH.js";import{a as I,Q as G}from"./QItemLabel-ByurzFin.js";import{Q as Ae}from"./QMenu-Q9TE7RA1.js";import{Q as C}from"./QTooltip-bDK59Fvy.js";import{a as qe,b as Be}from"./finetune-BkX1GTVG.js";import{S as j,E,L as Fe}from"./se-fo-B6DJclhh.js";import{u as Pe}from"./embedding-Ce7oIlb_.js";import{u as ze}from"./QForm-B63asTfd.js";import"./QResizeObserver-BB_riaDb.js";import"./rtl-DFPa-2ov.js";import"./TouchPan-Cd9SE0zY.js";import"./touch-BjYP5sR0.js";import"./position-engine-Cw16gTXL.js";import"./format-DyQxkAtJ.js";import"./copy-to-clipboard-BhSnsWPC.js";import"./use-dialog-plugin-component-D-47SEyH.js";import"./package-D9JPNs5w.js";const Ve=H({name:"QToolbarTitle",props:{shrink:Boolean},setup(u,{slots:s}){const r=x(()=>"q-toolbar__title ellipsis"+(u.shrink===!0?" col-shrink":""));return()=>re("div",{class:r.value},le(s.default))}}),Oe=H({name:"QRouteTab",props:{...ne,...De},emits:we,setup(u,{slots:s,emit:r}){const e=ie({useDisableForRouterLinkProps:!1}),{renderTab:p,$tabs:_}=Qe(u,s,r,{exact:x(()=>u.exact),...e});return ue(()=>`${u.name} | ${u.exact} | ${(e.resolvedLink.value||{}).href}`,_.verifyRouteModel),()=>p(e.linkTag.value,e.linkAttrs.value)}}),Ue=A({__name:"DrawerItemComponent",props:{item:{type:Object,required:!0},isActive:{type:Boolean,default:!1}},setup(u,{expose:s}){s();const{t:r}=J({useScope:"global"}),e={t:r};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}});function Ke(u,s,r,e,p,_){return N((l(),n(b,{to:{name:"api",params:{tab:r.item.name}},"active-class":"text-primary",clickable:""},{default:a(()=>[t(c,{avatar:""},{default:a(()=>[t(f,{name:r.item.iconType==="svg"||r.item.icon.includes(".svg")?`img:${r.isActive?r.item.activeIcon:r.item.icon}`:r.item.icon},null,8,["name"])]),_:1}),t(c,null,{default:a(()=>[t(I,{lines:"1"},{default:a(()=>[y(d(e.t(r.item.label)),1)]),_:1})]),_:1})]),_:1},8,["to"])),[[R]])}const Ge=q(Ue,[["render",Ke],["__file","DrawerItemComponent.vue"]]),je=A({__name:"AnimatedLogo",props:{miniState:Boolean},setup(u,{expose:s}){s();const r={};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),He={style:{height:"56px"},class:"row items-center absolute-top"},Je={style:{"padding-left":"20px"}},Ye={viewBox:"0 0 232 100",style:{width:"56px",height:"56px",transition:"all 0.2s ease-in-out"}},We={fill:"#FFFFFF"};function Xe(u,s,r,e,p,_){return l(),g("div",He,[i("div",Je,[(l(),g("svg",Ye,[i("g",We,[s[1]||(s[1]=i("circle",{id:"j-dot",cx:"15",cy:"84.5",r:"15"},null,-1)),s[2]||(s[2]=i("path",{id:"letter-j",d:"M61.5 36.35c2 0 3.6 1.6 3.6 3.6v29.3c0 16.7-13.5 30.3-30 30.5V69.3l-.1-29.4c0-2 1.6-3.6 3.6-3.6h23.3z"},null,-1)),i("g",{style:ce({opacity:r.miniState?0:1,transition:"opacity 0.2s ease-in-out"})},s[0]||(s[0]=[i("circle",{id:"top-dot",cx:"96",cy:"15",r:"15"},null,-1),i("path",{id:"letter-i",d:"M81 40c0-2 1.5-3.6 3.6-3.6h23.4c2 0 3.6 1.6 3.6 3.6v41c0 2-1.6 3.6-3.6 3.6H84.6c-2 0-3.6-1.6-3.6-3.6V40z"},null,-1),i("path",{id:"letter-n",d:"M128.5 39.8c0-2 1.6-3.6 3.6-3.6h13.3l.5.1c15 .2 27.2 12.3 27.6 27.3v17.3c0 2-1.6 3.6-3.6 3.6h-37.8c-2 0-3.6-1.6-3.6-3.6V39.8z"},null,-1),i("path",{id:"letter-a",d:"M207.2 84h-.2c-12.6-.7-22.5-11.2-22.5-24 0-13.3 10.8-24.1 24.1-24.1 12.8 0 23.3 10 24 22.6h.1V80.4c0 2-1.6 3.6-3.6 3.6h-21.9z"},null,-1)]),4)])]))])])}const Ze=q(je,[["render",Xe],["__file","AnimatedLogo.vue"]]),$e=A({__name:"SeFoLayout",setup(u,{expose:s}){s();const{t:r}=J({useScope:"global"}),e=_e(),p=fe(),_=pe(),h=me(),{user:o}=D(h),T=Pe(),{apiKeyTokens:Y,isPremiumPaidUser:W,isPaidUser:X}=D(T),B=ze(),{keys:Z}=D(B),$=w(!0),F=w(!0),k=w(),ee=j.filter(m=>m.tooling),ae=x(()=>{let m=[],V={};return j.forEach(S=>{S.name===E.KEY_MANAGER?V=S:S.showsOn.includes("menu")&&m.push(S)}),o.value.uid&&m.unshift(V),m}),te=m=>{k.value&&clearTimeout(k.value),k.value=setTimeout(()=>{F.value=!m},100)},oe=()=>{o.value.uid?p.push({params:{tab:E.KEY_MANAGER}}):(ye(be,"click_login_button"),e.dialog({component:Fe,componentProps:{user:o},persistent:!0}))},se=x(()=>o.value.uid?o.value.displayName||o.value.email||o.value.uid:r("key_manager.login"));function P(){if(_.query.purchase_status==="success"){const m=new Date(parseInt(_.query.session_id)).toLocaleString();ve.create({component:Le,componentProps:{purchasedTime:m,hideActions:!0}})}}de(()=>{P(),T.getCurrentKeyInfo()});const z={t:r,$q:e,router:p,route:_,userStore:h,user:o,embeddingStore:T,apiKeyTokens:Y,isPremiumPaidUser:W,isPaidUser:X,apiKeyStore:B,keys:Z,drawer:$,miniState:F,timeout:k,seFoMoreRoutes:ee,seFoRoutes:ae,handleMouseMove:te,login:oe,userDisplayName:se,checkPurchaseStatus:P,get formatNumber(){return qe},get formatNumberShort(){return Be},get EMBEDDING_TABS(){return E},DrawerItemComponent:Ge,AnimatedLogo:Ze};return Object.defineProperty(z,"__isScriptSetup",{enumerable:!1,value:!0}),z}}),ea=["src","alt"],aa={class:"absolute-bottom"},ta={class:"text-h5"},oa=["src","alt"],sa={class:"ellipsis"};function ra(u,s,r,e,p,_){const h=xe("router-view");return l(),n(Ce,{view:"lHh Lpr lff",class:"main-layout"},{default:a(()=>[e.$q.screen.gt.sm?v("",!0):(l(),n(Ee,{key:0,bordered:"",reveal:"",class:"bg-mixed-200 text-white","height-hint":"98"},{default:a(()=>[t(Te,{class:"q-pa-none"},{default:a(()=>[t(Q,{flat:"",square:"",stretch:"",icon:"img:/J.svg",to:{name:"landing"}}),t(Ve,{class:"my-font non-selectable"}),t(Q,{flat:"",stretch:"",square:"",onClick:e.userStore.logout},{default:a(()=>[e.user.photoURL?(l(),n(O,{key:0,size:"sm",round:"",class:"bordered-avatar"},{default:a(()=>[i("img",{src:e.user.photoURL,referrerpolicy:"no-referrer",alt:e.userDisplayName},null,8,ea)]),_:1})):(l(),n(f,{key:1,size:"sm",round:"",name:"person"})),t(f,{name:"logout",class:"q-ml-md"})]),_:1},8,["onClick"])]),_:1}),e.user&&e.$q.screen.lt.md?(l(),n(Me,{key:0,shrink:"","mobile-arrows":"",align:"left"},{default:a(()=>[(l(!0),g(L,null,M([...e.seFoRoutes,...e.seFoMoreRoutes],o=>(l(),n(Oe,{key:o.name,to:{name:"api",params:{tab:o.name}},label:o.label?e.t(o.label):"",icon:o.tag==="usage"?`img:${o.name===(e.route.params.tab||e.EMBEDDING_TABS.CODE)?o.activeIcon:o.icon}`:o.icon,"active-class":"text-primary","no-caps":"",exact:"",replace:""},null,8,["to","label","icon"]))),128))]),_:1})):v("",!0)]),_:1})),e.$q.screen.gt.sm?(l(),n(Ne,{key:1,modelValue:e.drawer,"onUpdate:modelValue":s[1]||(s[1]=o=>e.drawer=o),"show-if-above":"",mini:e.miniState,onMouseover:s[2]||(s[2]=o=>e.handleMouseMove(!0)),onMouseout:s[3]||(s[3]=o=>e.handleMouseMove(!1)),"mini-to-overlay":"",width:250,breakpoint:500,bordered:"",class:"bg-mixed-200"},{default:a(()=>[i("div",{class:"row items-center absolute-top cursor-pointer",onClick:s[0]||(s[0]=o=>e.router.push({name:"landing"}))},[t(e.AnimatedLogo,{"mini-state":e.miniState},null,8,["mini-state"])]),t(Re,{class:"fit",style:{"max-height":"calc(100% - 112px)","margin-top":"56px"},"horizontal-thumb-style":{opacity:"0"}},{default:a(()=>[t(G,null,{default:a(()=>[t(ge,{"enter-to-class":"list-enter-from","enter-active-class":"animated bounceIn","leave-active-class":"animated backOutRight","leave-from-class":"list-leave-to","move-class":"list-move","enter-from-class":"list-enter-from","leave-to-class":"list-leave-to"},{default:a(()=>[(l(!0),g(L,null,M(e.seFoRoutes,o=>(l(),n(e.DrawerItemComponent,{item:o,key:o==null?void 0:o.label,"is-active":o.name===(e.route.params.tab||e.EMBEDDING_TABS.CODE)},null,8,["item","is-active"]))),128)),N((l(),n(b,{clickable:"","active-class":"text-primary"},{default:a(()=>[t(c,{avatar:""},{default:a(()=>[t(f,{name:"service_toolbox"})]),_:1}),t(c,null,{default:a(()=>[t(I,{lines:"1"},{default:a(()=>[y(d(e.t("embedding.tools")),1)]),_:1})]),_:1}),t(Ae,{class:"bg-mixed-300 lock-blur","auto-close":""},{default:a(()=>[t(G,{class:"cursor-pointer",style:{width:"250px"}},{default:a(()=>[(l(!0),g(L,null,M(e.seFoMoreRoutes,o=>(l(),n(e.DrawerItemComponent,{item:o,key:o==null?void 0:o.label,"is-active":o.name===(e.route.params.tab||e.EMBEDDING_TABS.CODE)},null,8,["item","is-active"]))),128))]),_:1})]),_:1})]),_:1})),[[R]])]),_:1})]),_:1})]),_:1}),i("div",aa,[t(ke,{appear:"","enter-active-class":"animated faster fadeInLeft","leave-active-class":"animated faster fadeOutLeft"},{default:a(()=>[e.miniState?v("",!0):(l(),n(he,{key:0,bordered:"",flat:"",square:"",class:"bg-mixed-300 q-ma-md"},{default:a(()=>[t(U,{class:"q-pb-none text-dim"},{default:a(()=>[y(d(e.t("key_manager.available_resources")),1)]),_:1}),t(U,null,{default:a(()=>[t(b,null,{default:a(()=>[t(c,{side:""},{default:a(()=>[t(f,{name:"o_data_usage"})]),_:1}),t(c,null,{default:a(()=>[i("span",{class:K(["text-h5",{"text-negative":e.apiKeyTokens<=0}])},d(e.formatNumberShort(e.apiKeyTokens)),3)]),_:1}),t(C,null,{default:a(()=>[y(d(e.t("key_manager.balance_primary_key")+": "+e.formatNumber(e.apiKeyTokens)),1)]),_:1})]),_:1}),e.keys.length>1?(l(),n(b,{key:0},{default:a(()=>[t(c,{side:""},{default:a(()=>[t(f,{name:"o_key"})]),_:1}),t(c,null,{default:a(()=>[i("span",ta,d(e.keys.length),1)]),_:1}),t(C,null,{default:a(()=>[y(d(e.t("key_manager.total_keys")+": "+e.keys.length),1)]),_:1})]),_:1})):v("",!0)]),_:1})]),_:1}))]),_:1}),N((l(),n(b,{clickable:"",style:{height:"56px"},onClick:e.login},{default:a(()=>[t(c,{avatar:"",class:"q-my-sm q-pr-none user-avatar"},{default:a(()=>[e.user.photoURL?(l(),n(O,{key:0,size:"sm",round:"",class:"bordered-avatar"},{default:a(()=>[i("img",{src:e.user.photoURL,referrerpolicy:"no-referrer",alt:e.userDisplayName},null,8,oa)]),_:1})):(l(),n(f,{key:1,size:"sm",round:"",name:"person"}))]),_:1}),t(c,null,{default:a(()=>[t(I,{lines:"1",class:"row items-center"},{default:a(()=>[e.isPaidUser?(l(),n(f,{key:0,name:"verified",class:K([{"golden-foil":e.isPremiumPaidUser,"silver-foil":e.isPaidUser},"q-mr-xs"])},null,8,["class"])):v("",!0),i("span",sa,d(e.userDisplayName),1),t(C,null,{default:a(()=>[y(d(e.userDisplayName),1)]),_:1})]),_:1})]),_:1}),e.user.uid?(l(),n(c,{key:0,side:""},{default:a(()=>[t(Q,{flat:"",square:"",id:"more_menu",icon:"logout",onClick:Se(e.userStore.logout,["stop"])},null,8,["onClick"])]),_:1})):v("",!0)]),_:1})),[[R]])])]),_:1},8,["modelValue","mini"])):v("",!0),t(Ie,null,{default:a(()=>[t(h)]),_:1})]),_:1})}const wa=q($e,[["render",ra],["__file","SeFoLayout.vue"]]);export{wa as default};
