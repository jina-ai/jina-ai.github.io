import{a as P,Q as ae}from"./QImg.6b4ccc6b.js";import{e as ie,an as de,f as m,h as ce,K as ue,J as he,am as ye,ap as w,aq as s,aL as we,u as me,aU as xe,ar as d,av as e,as as q,aM as u,aw as t,bG as se,j as v,aE as x,aA as b,aC as M,ay as C,az as _,bR as qe,aB as a,U as N,at as G,ao as be,aT as E,aD as V,aQ as ke,ad as le,bc as re}from"./index.9f82c894.js";import{_ as je,Q as $e}from"./plugin-vue_export-helper.a1b69269.js";import{u as Re}from"./useMetaTags.f4df5f15.js";import{T as Te}from"./TitleBlock.b540e456.js";import{_ as Qe}from"./FAQComponent.927e9440.js";import{Q as Ce,b as Le,_ as Be}from"./SeFoComponent.a70e98e1.js";import{Q as A}from"./QTooltip.1c35c7b7.js";import{Q as J,_ as ne}from"./QTabPanels.31e69a65.js";import{c as oe}from"./QLinearProgress.7d04ef23.js";import{c as Ue}from"./copy-to-clipboard.f39a8b66.js";import{_ as Se}from"./PricingComponent.8f94001c.js";import{H as k}from"./H2TitleBlock.8b2dcfb0.js";import{_ as ze}from"./RateLimitComponent.4da92715.js";import"./QChip.264dad6a.js";import"./QTable.271fa43d.js";import"./use-fullscreen.22ffbb0f.js";import"./QExpansionItem.02d7462b.js";import"./QTabs.90597530.js";import"./ClosePopup.ae756d82.js";import"./ModelDropDown.fc694d0c.js";import"./blogs.93a14679.js";import"./QForm.4b97f9fd.js";import"./use-panel.2272928e.js";import"./position-engine.7f0632f0.js";var Ie="/assets/explain.00d2d1a4.svg",Pe="/assets/explain3.ddb193be.svg",Me="/assets/explain2.eda58d92.svg",Ee="/assets/explain4.b16c81d3.png";const Ve={class:"text-caption text-bold text-dim"},Ae={class:"text-caption text-bold text-dim"},He={class:"text-caption text-bold text-dim"},De=ie({__name:"ReaderSearchDemoComponent",props:{originalURL:{type:String,default:""},disableQA:{type:Boolean,default:!1},disableOriginalURL:{type:Boolean,default:!1}},setup(H){const{t:o}=de({useScope:"global"}),l=m(""),y=m(!1),p=m(!1),g=me(),L=["When was Jina AI founded?","What did Elon Musk say about Open AI recently?","When will the next SpaceX launch be?","What is the market cap of Apple today?","Who will win 2024 US presidential election?","Who is playing in the US Open final?"],f=()=>L[Math.floor(Math.random()*L.length)],j=m(null);let r=null;const R=m(H.originalURL||f()),D=ce(()=>`https://s.jina.ai/${encodeURIComponent(R.value)}`),F=m(null),T=m([]),Q=m([]),U=m(!1),S=m(!1),O=m(!1),z=m(!1),K=async n=>{var Y,Z,ee;if(!await((Y=F.value)==null?void 0:Y.validate()))return Promise.reject();const B={parameters:{question:R.value,context:n?"":l.value.slice(0,3e3)}};n?(T.value=[],U.value=!0,O.value=!0):(Q.value=[],S.value=!0,z.value=!0);const i="https://api.promptperfect.jina.ai/ERK3nqviaFRyfGbkBsXD";try{const h=await fetch(i,{headers:{"content-type":"application/json"},body:JSON.stringify(B),method:"POST"});if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);if((Z=h.headers.get("content-type"))!=null&&Z.includes("text/event-stream")){if(h.body){const I=h.body.getReader(),fe=new TextDecoder;for(;;){const{done:ve,value:te}=await I.read();if(ve){n?O.value=!1:z.value=!1;break}te&&fe.decode(te).split(`

`).forEach(ge=>{const W=ge.replace(/data: /g,"");W&&(n?T.value.push(W):Q.value.push(W))})}}}else if((ee=h.headers.get("content-type"))!=null&&ee.includes("application/json")){const I=(await h.json()).data;n?T.value=[I]:Q.value=[I]}else throw new Error("Unknown response type")}catch(h){g.notify({color:"negative",message:o("landing_page.error",{message:h}),icon:"report_problem"})}finally{n?U.value=!1:S.value=!1}},pe=async()=>{p.value=!0,Q.value=[];try{const n=await fetch(D.value);if(!n.ok)throw l.value=`\`\`\`json
${await n.json()}
\`\`\``,new Error(`Request failed with status ${n.status}`);const c=await n.text();l.value=`\`\`\`plaintext
${c}
\`\`\``}catch(n){g.notify({message:n.message,color:"negative"})}finally{p.value=!1}},X=async()=>{await Promise.all([pe(),K(!0)]),await K(!1)},_e=()=>{var c;const n=((c=j.value)==null?void 0:c.$el)||j.value;n instanceof HTMLElement?(r=new IntersectionObserver(B=>{B[0].isIntersecting&&(X().then(()=>{}),r==null||r.disconnect())},{root:null,threshold:.1}),r.observe(n)):console.error("Element is not an HTMLElement:",n)};return ue(()=>{he(()=>{setTimeout(()=>{_e()},100)})}),ye(()=>{r&&r.disconnect()}),(n,c)=>{const B=xe("q-markdown");return d(),w(we,{bordered:"",flat:"",square:"",class:"col-12 col-md-10",ref_key:"componentRef",ref:j},{default:s(()=>[e(u,{horizontal:t(g).screen.gt.sm},{default:s(()=>[H.disableOriginalURL?M("",!0):(d(),q(b,{key:0},[e(u,{class:"col"},{default:s(()=>[e(t(se),{modelValue:R.value,"onUpdate:modelValue":c[1]||(c[1]=i=>R.value=i),label:t(o)("reader.demo.your_query"),type:"url",loading:y.value,hint:t(o)("reader.demo.your_query_hint"),ref_key:"questionRef",ref:F},{prepend:s(()=>[e(v,{dense:"",square:"",flat:"",icon:"casino",onClick:c[0]||(c[0]=i=>R.value=f())})]),_:1},8,["modelValue","label","loading","hint"])]),_:1}),e(x,{vertical:t(g).screen.gt.sm},null,8,["vertical"])],64)),e(u,{class:"col"},{default:s(()=>[e(t(se),{"model-value":`https://s.jina.ai/${R.value}`,label:t(o)("reader.demo.reader_url"),readonly:"",loading:p.value,"bottom-slots":""},{append:s(()=>[e(v,{flat:"",dense:"",square:"",icon:"content_copy",onClick:c[2]||(c[2]=i=>t(Ue)(D.value))},{default:s(()=>[e(A,null,{default:s(()=>[C(_(t(o)("copy")),1)]),_:1})]),_:1}),e(v,{flat:"",dense:"",square:"",icon:"open_in_new",onClick:c[3]||(c[3]=i=>t(qe)(D.value))},{default:s(()=>[e(A,null,{default:s(()=>[C(_(t(o)("demo.open")),1)]),_:1})]),_:1})]),hint:s(()=>[C(_(t(o)("reader.demo.reader_search_hint")),1)]),_:1},8,["model-value","label","loading"])]),_:1})]),_:1},8,["horizontal"]),e(x),e(v,{square:"",label:t(o)("reader.demo.ask_llm"),class:"full-width",icon:"contact_support",onClick:X,padding:"md"},null,8,["label"]),S.value||U.value||p.value||Q.value.length>0||T.value.length>0?(d(),q(b,{key:0},[e(x),e(u,{horizontal:t(g).screen.gt.sm,class:"q-pa-none"},{default:s(()=>[e(u,{class:"col"},{default:s(()=>[a("span",Ve,_(t(o)("reader.demo.ask_llm_directly")),1),U.value?(d(),w(u,{key:0},{default:s(()=>[e(N,{name:"img:https://promptperfect.jina.ai/PromptPerfect-dark.svg",class:"q-mr-sm"},{default:s(()=>[e(A,null,{default:s(()=>[C(_(t(o)("landing_page.powered_by_promptperfect")),1)]),_:1})]),_:1}),(d(),q(b,null,G([0,1,2,3],i=>e(J,{key:i,class:"q-my-xs",width:i>0?"":"100px",type:"text"},null,8,["width"])),64))]),_:1})):(d(),q(b,{key:1},[e(u,{class:"q-pa-lg"},{default:s(()=>[e(ne,{text:T.value,"speed-time":T.value?50:0},null,8,["text","speed-time"])]),_:1}),O.value?(d(),w(oe,{key:0,indeterminate:""})):M("",!0)],64))]),_:1}),e(x,{vertical:t(g).screen.gt.sm},null,8,["vertical"]),e(u,{class:"col"},{default:s(()=>[a("span",Ae,_(t(o)("reader.demo.reader_response")),1),p.value?(d(),w(u,{key:0},{default:s(()=>[(d(),q(b,null,G([100,300,200,200],i=>e(J,{type:"text",width:`${i}px`,key:i},null,8,["width"])),64))]),_:1})):(d(),w(B,{key:1,src:l.value,"no-line-numbers":"",style:{"max-height":"300px"}},null,8,["src"]))]),_:1}),e(x,{vertical:t(g).screen.gt.sm},null,8,["vertical"]),e(u,{class:"col"},{default:s(()=>[a("span",He,_(t(o)("reader.demo.ask_llm_with_search_grounding")),1),e(Ce,{label:t(o)("reader.demo.waiting_for_reader"),showing:p.value},null,8,["label","showing"]),S.value?(d(),w(u,{key:0},{default:s(()=>[e(N,{name:"img:https://promptperfect.jina.ai/PromptPerfect-dark.svg",class:"q-mr-sm"},{default:s(()=>[e(A,null,{default:s(()=>[C(_(t(o)("landing_page.powered_by_promptperfect")),1)]),_:1})]),_:1}),(d(),q(b,null,G([0,1,2,3],i=>e(J,{key:i,class:"q-my-xs",width:i>0?"":"100px",type:"text"},null,8,["width"])),64))]),_:1})):(d(),q(b,{key:1},[e(u,{class:"q-pa-lg"},{default:s(()=>[e(ne,{text:Q.value,"speed-time":z.value?50:0},null,8,["text","speed-time"])]),_:1}),z.value?(d(),w(oe,{key:0,indeterminate:""})):M("",!0)],64))]),_:1})]),_:1},8,["horizontal"])],64)):M("",!0),e(x),e(u,{class:"text-dim"},{default:s(()=>[e(N,{name:"info"}),C(" "+_(t(o)("reader.demo.search_query_rewrite")),1)]),_:1})]),_:1},512)}}});const Oe={class:"col-12 col-md-11 q-py-xl q-mx-xs-xs q-mx-sm-sm q-mx-md-md q-mx-lg-lg q-mx-xl-xl q-ma-xl relative-position"},We={class:"row justify-center items-center"},Ne={class:"col-11 col-md-8"},Ge={class:"q-my-xl row justify-center items-center"},Je={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},Fe={class:"q-my-xl row justify-center items-center"},Ke={class:"row justify-center items-center"},Xe={class:"col-11 col-md-8"},Ye={class:"q-my-xl row justify-center items-center"},Ze={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},et=["innerHTML"],tt={class:"q-my-xl row justify-center items-center"},at={class:"row justify-center items-center"},st={class:"col-11 col-md-8"},lt={class:"q-my-xl row justify-center items-center"},rt={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},nt={class:"row q-py-xl justify-center items-center"},ot={class:"col-11 col-md-8"},it={class:"q-my-xl row justify-center items-center"},dt={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},ct=["innerHTML"],ut={class:"q-my-xl row justify-center"},mt={class:"q-my-xl row justify-center items-center",id:"rate-limit"},pt={class:"col-11 col-md-8 text-subtitle1 q-my-lg",style:{"white-space":"pre-line"}},_t={class:"q-my-xl row justify-center items-center text-subtitle1"},ft={class:"q-my-xl row justify-center items-center text-subtitle1"},vt={class:"q-my-xl row justify-center items-center"},gt={class:"q-my-xl row justify-center items-center"},ht={class:"row justify-center"},yt={class:"col-12 col-sm-11 col-md-10 q-pb-xl"},wt=ie({__name:"ReaderPage",setup(H){const o=be(),{t:l}=de({useScope:"global"}),y=m(!1);Re({page:"reader",banner:"banner-reader-api.png",url:"reader"});const p=me(),g=[{label:"landing_page.get_api_now",icon:"code",anchor:"#apiform"},{label:"reader.demo.try_demo",icon:"play_arrow",anchor:"#demo"},{label:"landing_page.pricing",anchor:"#pricing",icon:"attach_money"}];ue(async()=>{E(o.hash)});function L(j){y.value=j,E("#demo")}const f=ce(()=>{switch(p.screen.name){case"xl":return"lg";case"lg":return"lg";case"md":return"md";case"sm":return"md";case"xs":return"md";default:return"sm"}});return(j,r)=>(d(),w($e,null,{default:s(()=>[a("div",{class:V(["row justify-center items-center img-bg q-py-xl",t(p).screen.lt.sm?"q-px-md":"q-px-xl"])},[a("div",Oe,[e(Te,{title:t(l)("landing_page.reader"),tagline:t(l)("reader.reader_description"),"large-title":!0,buttons:g},null,8,["title","tagline"])])],2),a("div",{class:V(t(p).screen.lt.sm?"q-pa-md":"q-pa-xl"),id:"what_reader"},[e(k,{title:"reader.what_is1",anchor:"what_reader"}),a("div",We,[a("div",Ne,[e(P,{src:Ie})])]),a("div",Ge,[a("div",Je,_(t(l)("reader.what_is_answer_long")),1)]),a("div",Fe,[e(v,{label:t(l)("reader.demo.show_read_demo"),icon:"play_arrow",outline:"",padding:"lg",square:"",onClick:r[0]||(r[0]=$=>L(!1))},null,8,["label"])]),e(k,{title:"reader.reader_do_search"}),a("div",Ke,[a("div",Xe,[e(P,{src:Pe})])]),a("div",Ye,[a("div",Ze,[a("span",{innerHTML:t(l)("reader.reader_do_search_explain")},null,8,et)])]),a("div",tt,[e(v,{label:t(l)("reader.demo.show_search_demo"),icon:"play_arrow",outline:"",padding:"lg",square:"",onClick:r[1]||(r[1]=$=>L(!0))},null,8,["label"])]),e(k,{title:"reader.reader_reads_images"}),a("div",at,[a("div",st,[e(P,{src:Me})])]),a("div",lt,[a("div",rt,_(t(l)("reader.reader_also_read_images")),1)]),e(k,{title:"reader.reader_reads_pdf"}),a("div",nt,[a("div",ot,[e(P,{src:Ee})])]),a("div",it,[a("div",dt,[a("span",{innerHTML:t(l)("reader.reader_do_pdf_explain")},null,8,ct)])]),a("div",ut,[e(ae,{flat:"",outline:"",square:""},{default:s(()=>[e(v,{label:t(l)("reader.original_pdf"),href:"https://www.nasa.gov/wp-content/uploads/2023/01/55583main_vision_space_exploration2.pdf",outline:"",size:f.value,padding:f.value,square:"",target:"_blank",icon:"open_in_new"},null,8,["label","size","padding"]),e(x),e(v,{label:t(l)("reader.reader_result"),href:"https://r.jina.ai/https://www.nasa.gov/wp-content/uploads/2023/01/55583main_vision_space_exploration2.pdf",outline:"",size:f.value,padding:f.value,square:"",target:"_blank",icon:"open_in_new"},null,8,["label","size","padding"])]),_:1})]),e(k,{title:"reader.is_free",subtitle:"reader.is_free_description"}),a("div",mt,[a("div",pt,[e(ze)])]),a("div",_t,_(t(l)("reader.dont_panic_api_key_is_free")),1),a("div",ft,[e(ae,{outline:"",square:""},{default:s(()=>[e(v,{label:t(l)("get_new_key"),onClick:r[2]||(r[2]=$=>t(E)("#apiform")),outline:"",size:f.value,padding:f.value,square:"",icon:"key"},null,8,["label","size","padding"]),e(x),e(v,{label:t(l)("reader.check_price_table"),onClick:r[3]||(r[3]=$=>t(E)("#pricing")),outline:"",size:f.value,padding:f.value,square:"",icon:"attach_money"},null,8,["label","size","padding"])]),_:1})])],2),a("div",{class:V(t(p).screen.lt.sm?"q-pa-md":"q-pa-xl"),id:"demo"},[e(k,{title:"reader.demo.tagline",anchor:"demo"}),a("div",vt,[e(ke,{modelValue:y.value,"onUpdate:modelValue":r[4]||(r[4]=$=>y.value=$),size:"xl",label:y.value?t(l)("reader.demo.show_read_demo"):t(l)("reader.demo.show_search_demo"),"checked-icon":"search","unchecked-icon":"double_arrow"},null,8,["modelValue","label"])]),a("div",gt,[le(e(De,null,null,512),[[re,y.value]]),le(e(Le,null,null,512),[[re,!y.value]])])],2),a("div",{class:V(t(p).screen.lt.sm?"q-pa-md":"q-pa-xl"),id:"apiform"},[e(k,{title:"reader.title",subtitle:"reader.reader_description",anchor:"apiform"}),a("div",ht,[a("div",yt,[e(Be,{"show-function":"reader"})])])],2),e(Se),e(Qe,{"faq-sources":["reader.faq_v1","api_general_faq","billing_general_faq"]},null,8,["faq-sources"])]),_:1}))}});var Jt=je(wt,[["__scopeId","data-v-9557ccda"]]);export{Jt as default};
