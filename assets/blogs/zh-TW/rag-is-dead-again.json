{
  "slug": "rag-is-dead-again",
  "id": "66505b6384f9e40001a6daf9",
  "uuid": "e16f68bf-4e4a-4bc3-b688-ef9049470aaf",
  "title": "RAG 又死了嗎？",
  "html": "<p>人們對 RAG 究竟是愛中帶恨還是恨中帶愛，實在難說。</p><p>根據最近在 X 和 <a href=\"https://t.co/Q1QithBNj6?ref=jina-ai-gmbh.ghost.io\">HN</a> 上的討論，RAG <em>應該</em>已經死了，<strong>又一次</strong>。這次，批評者聚焦於大多數 RAG 框架的過度工程化問題。正如 <a href=\"https://x.com/jeremyphoward?ref=jina-ai-gmbh.ghost.io\">@jeremyphoward</a> <a href=\"https://x.com/HamelHusain?ref=jina-ai-gmbh.ghost.io\">@HamelHusain</a> <a href=\"https://x.com/Yampeleg?ref=jina-ai-gmbh.ghost.io\">@Yampeleg</a> 所展示的，這些功能只需 20 行 Python 程式碼就能實現。</p><figure class=\"kg-card kg-embed-card\"><blockquote class=\"twitter-tweet\"><p lang=\"en\" dir=\"ltr\">T H A N K   Y O U ! ! !<br>(v 2.0)<br><br>Full RAG in 20 lines.<br><br>This is how you implement semantic search in ~10 lines<br><br>Replace 𝚌𝚘𝚗𝚝𝚎𝚡𝚝𝚜 &amp; 𝚚𝚞𝚎𝚜𝚝𝚒𝚘𝚗 with your own.<br><br>* the blurred code is for loading example contexts<br><br>(Everything from FastAI's guide:<a href=\"https://t.co/qBpU6T2Fd1?ref=jina-ai-gmbh.ghost.io\">https://t.co/qBpU6T2Fd1</a>) <a href=\"https://t.co/Or3eJEbSt9?ref=jina-ai-gmbh.ghost.io\">https://t.co/Or3eJEbSt9</a> <a href=\"https://t.co/e2q70H6QaY?ref=jina-ai-gmbh.ghost.io\">pic.twitter.com/e2q70H6QaY</a></p>— Yam Peleg (@Yampeleg) <a href=\"https://twitter.com/Yampeleg/status/1793698848616960393?ref_src=twsrc%5Etfw&ref=jina-ai-gmbh.ghost.io\">May 23, 2024</a></blockquote>\n<script async=\"\" src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></figure><p>上一次出現這種氛圍是在具有超長上下文視窗的 Claude/Gemini 發布後不久。這次更糟的是，就連 Google 的 RAG 也產生了滑稽的結果，正如 <a href=\"https://x.com/icreatelife?ref=jina-ai-gmbh.ghost.io\">@icreatelife</a> <a href=\"https://x.com/mark_riedl?ref=jina-ai-gmbh.ghost.io\">@mark_riedl</a> 所展示的。這很諷刺，因為在四月份的拉斯維加斯 Google Next 大會上，Google 將 RAG 作為基礎解決方案進行展示。</p><figure class=\"kg-card kg-embed-card\"><blockquote class=\"twitter-tweet\"><p lang=\"en\" dir=\"ltr\">I couldn't believe it before I tried it. Google needs to fix this asap.. <a href=\"https://t.co/r3FyOfxiTK?ref=jina-ai-gmbh.ghost.io\">pic.twitter.com/r3FyOfxiTK</a></p>— Kris Kashtanova (@icreatelife) <a href=\"https://twitter.com/icreatelife/status/1793781850923823144?ref_src=twsrc%5Etfw&ref=jina-ai-gmbh.ghost.io\">May 23, 2024</a></blockquote>\n<script async=\"\" src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></figure><figure class=\"kg-card kg-embed-card\"><blockquote class=\"twitter-tweet\"><p lang=\"en\" dir=\"ltr\">Yes! My website poisoning attack works on Google's new LLM-powered AI overviews! <a href=\"https://t.co/nWyMtl7nMj?ref=jina-ai-gmbh.ghost.io\">pic.twitter.com/nWyMtl7nMj</a></p>— Mark Riedl (@mark_riedl) <a href=\"https://twitter.com/mark_riedl/status/1793375699967054334?ref_src=twsrc%5Etfw&ref=jina-ai-gmbh.ghost.io\">May 22, 2024</a></blockquote>\n<script async=\"\" src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></figure><h2 id=\"two-problems-of-rag\">RAG 的兩大問題</h2><p>我發現當今的 RAG 框架和解決方案存在兩個問題。</p><h2 id=\"feed-forward-only\">僅有前向傳遞</h2><p>首先，幾乎所有的 RAG 框架<strong>只實現了「前向傳遞」路徑，而缺乏「反向傳播」路徑</strong>。這是一個<em>不完整</em>的系統。我記得 <a href=\"https://x.com/swyx?ref=jina-ai-gmbh.ghost.io\">@swyx</a> 在 <a href=\"https://x.com/latentspacepod?ref=jina-ai-gmbh.ghost.io\">@latentspacepod</a> 的一集中提到，RAG 不會被 LLMs 的長上下文視窗殺死，因為：</p><ol><li>長上下文對開發者來說成本高昂</li><li>長上下文難以除錯且缺乏可分解性</li></ol><p>但如果所有 RAG 框架只專注於前向路徑，它怎麼會比 LLM 更容易除錯呢？有趣的是，許多人對某些隨機概念驗證中 RAG 的自動神奇結果過度興奮，完全忘記了在沒有反向調整的情況下增加更多前向層是個糟糕的主意。我們都知道，為神經網路增加一層會擴展其參數空間，從而增強其表示能力，使其能夠做更多潛在的事情，<strong>但沒有訓練，這一切都是徒勞的。</strong>灣區有一些新創公司正在做評估工作——本質上是試圖評估前向傳遞系統的損失。這有用嗎？有。但它有助於完成 RAG 的閉環嗎？沒有。<br><br>那麼誰在研究 RAG 的反向傳播呢？據我所知不多。我最熟悉的是來自 <a href=\"https://x.com/stanfordnlp?ref=jina-ai-gmbh.ghost.io\">@stanfordnlp</a> <a href=\"https://x.com/lateinteraction?ref=jina-ai-gmbh.ghost.io\">@lateinteraction</a> 的 DSPy 庫，它將使命定位於此。</p><figure class=\"kg-card kg-bookmark-card\"><a class=\"kg-bookmark-container\" href=\"https://github.com/stanfordnlp/dspy?ref=jina-ai-gmbh.ghost.io\"><div class=\"kg-bookmark-content\"><div class=\"kg-bookmark-title\">GitHub - stanfordnlp/dspy: DSPy: The framework for programming—not prompting—foundation models</div><div class=\"kg-bookmark-description\">DSPy: The framework for programming—not prompting—foundation models - stanfordnlp/dspy</div><div class=\"kg-bookmark-metadata\"><img class=\"kg-bookmark-icon\" src=\"https://github.githubassets.com/assets/pinned-octocat-093da3e6fa40.svg\" alt=\"\"><span class=\"kg-bookmark-author\">GitHub</span><span class=\"kg-bookmark-publisher\">stanfordnlp</span></div></div><div class=\"kg-bookmark-thumbnail\"><img src=\"https://opengraph.githubassets.com/0d188663ed7e46ec4bb66d2eb8c5a9417e63343bc566e659a691978ae3df0b3e/stanfordnlp/dspy\" alt=\"\"></div></a></figure><p>但即使對於 DSPy 來說，主要焦點也是在優化少量示例，而不是整個系統（或至少從社群使用來看是如此）。但為什麼這個問題很困難？因為信號非常稀疏，優化一個不可微分的流水線系統本質上是一個組合問題——換句話說，<strong>極其困難</strong>。我在博士期間學習了一些子模塊優化，我感覺這項技術將在 RAG 優化中發揮很好的作用。</p><h2 id=\"grounding-in-the-wild-is-hard\">現實世界中的基礎化很困難</h2><p>儘管 Google 的搜索結果很滑稽，但我同意 RAG 是用於基礎化的。基礎化有兩種類型：<strong>搜索基礎化</strong>，使用搜索引擎來擴展 LLMs 的世界知識，以及<strong>檢查基礎化</strong>，使用私有知識（例如專有資料）來做事實核查。</p><p>在這兩種情況下，它都會引用外部知識來提高結果的事實性，前提是這些外部資源是可信的。在 Google 的滑稽搜索結果中，人們可以輕易看出網路上並非所有內容都是可信的（是的，大驚喜，誰能想到！），這使搜索基礎化看起來很糟糕。但我相信你現在只能笑笑。Google 搜索 UI 背後有一些<strong>隱含的反饋機制</strong>，會收集使用者對這些結果的反應，並權衡網站的可信度以實現更好的基礎化。總的來說，這應該只是暫時的，因為這個 RAG 只需要度過<strong>冷啟動</strong>期，結果就會隨著時間改善。</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://jina-ai-gmbh.ghost.io/content/images/2024/05/Heading--32-.png\" class=\"kg-image\" alt=\"展示 Jina AI 搜索流程的圖表，包含「搜索基礎化」、「私有知識」和「檢查基礎化」區塊，以及相關的 U\" loading=\"lazy\" width=\"1500\" height=\"787\" srcset=\"https://jina-ai-gmbh.ghost.io/content/images/size/w600/2024/05/Heading--32-.png 600w, https://jina-ai-gmbh.ghost.io/content/images/size/w1000/2024/05/Heading--32-.png 1000w, https://jina-ai-gmbh.ghost.io/content/images/2024/05/Heading--32-.png 1500w\" sizes=\"(min-width: 720px) 720px\"><figcaption><span style=\"white-space: pre-wrap;\">啟發 </span><a href=\"https://jina.ai/reader/?ref=jina-ai-gmbh.ghost.io\"><span style=\"white-space: pre-wrap;\">Jina Reader</span></a><span style=\"white-space: pre-wrap;\"> 的兩種基礎化類型</span></figcaption></figure><figure class=\"kg-card kg-gallery-card kg-width-wide kg-card-hascaption\"><div class=\"kg-gallery-container\"><div class=\"kg-gallery-row\"><div class=\"kg-gallery-image\"><img src=\"https://jina-ai-gmbh.ghost.io/content/images/2024/05/GOVSJD9XEAAf2kK.jpeg\" width=\"2000\" height=\"955\" loading=\"lazy\" alt=\"\" srcset=\"https://jina-ai-gmbh.ghost.io/content/images/size/w600/2024/05/GOVSJD9XEAAf2kK.jpeg 600w, https://jina-ai-gmbh.ghost.io/content/images/size/w1000/2024/05/GOVSJD9XEAAf2kK.jpeg 1000w, https://jina-ai-gmbh.ghost.io/content/images/size/w1600/2024/05/GOVSJD9XEAAf2kK.jpeg 1600w, https://jina-ai-gmbh.ghost.io/content/images/size/w2400/2024/05/GOVSJD9XEAAf2kK.jpeg 2400w\" sizes=\"(min-width: 720px) 720px\"></div><div class=\"kg-gallery-image\"><img src=\"https://jina-ai-gmbh.ghost.io/content/images/2024/05/Untitled.jpg\" width=\"2000\" height=\"975\" loading=\"lazy\" alt=\"\" srcset=\"https://jina-ai-gmbh.ghost.io/content/images/size/w600/2024/05/Untitled.jpg 600w, https://jina-ai-gmbh.ghost.io/content/images/size/w1000/2024/05/Untitled.jpg 1000w, https://jina-ai-gmbh.ghost.io/content/images/size/w1600/2024/05/Untitled.jpg 1600w, https://jina-ai-gmbh.ghost.io/content/images/size/w2400/2024/05/Untitled.jpg 2400w\" sizes=\"(min-width: 720px) 720px\"></div></div></div><figcaption><p><span style=\"white-space: pre-wrap;\">RAG 在 Google Next 大會上被提出作為一種基礎解決方案。</span></p></figcaption></figure><h2 id=\"my-take\">我的看法</h2><p>RAG 既不是死亡也不是活著；所以別再爭論這個了。RAG 只是你可以使用的一種演算法模式。但如果你把它當作是<strong><em>唯一的</em></strong>演算法並加以崇拜，那麼你就是活在自己製造的泡沫中，而這個泡沫終將破滅。</p>",
  "comment_id": "66505b6384f9e40001a6daf9",
  "feature_image": "https://jina-ai-gmbh.ghost.io/content/images/2024/05/3c563034-52ba-4d9b-a537-07877cb2b506.webp",
  "featured": false,
  "visibility": "public",
  "created_at": "2024-05-24T11:18:27.000+02:00",
  "updated_at": "2024-05-24T20:12:12.000+02:00",
  "published_at": "2024-05-24T12:37:18.000+02:00",
  "custom_excerpt": "RAG is just one algorithmic pattern you can use. But if you make it *the* algorithm and idolize it, then you are living in a bubble you created, and the bubble will burst.",
  "codeinjection_head": null,
  "codeinjection_foot": null,
  "custom_template": null,
  "canonical_url": null,
  "authors": [
    {
      "id": "633ffc6b393501004d1c8659",
      "name": "Han Xiao",
      "slug": "han",
      "profile_image": "https://jina-ai-gmbh.ghost.io/content/images/2022/10/Untitled-2.png",
      "cover_image": null,
      "bio": "Founder & CEO of Jina AI",
      "website": null,
      "location": null,
      "facebook": null,
      "twitter": "@hxiao",
      "meta_title": null,
      "meta_description": null,
      "url": "https://jina-ai-gmbh.ghost.io/author/han/"
    }
  ],
  "tags": [
    {
      "id": "6342c5b4393501004d1c8b2c",
      "name": "Insights",
      "slug": "insights",
      "description": null,
      "feature_image": null,
      "visibility": "public",
      "og_image": null,
      "og_title": null,
      "og_description": null,
      "twitter_image": null,
      "twitter_title": null,
      "twitter_description": null,
      "meta_title": null,
      "meta_description": null,
      "codeinjection_head": null,
      "codeinjection_foot": null,
      "canonical_url": null,
      "accent_color": null,
      "url": "https://jina-ai-gmbh.ghost.io/tag/insights/"
    }
  ],
  "primary_author": {
    "id": "633ffc6b393501004d1c8659",
    "name": "Han Xiao",
    "slug": "han",
    "profile_image": "https://jina-ai-gmbh.ghost.io/content/images/2022/10/Untitled-2.png",
    "cover_image": null,
    "bio": "Founder & CEO of Jina AI",
    "website": null,
    "location": null,
    "facebook": null,
    "twitter": "@hxiao",
    "meta_title": null,
    "meta_description": null,
    "url": "https://jina-ai-gmbh.ghost.io/author/han/"
  },
  "primary_tag": {
    "id": "6342c5b4393501004d1c8b2c",
    "name": "Insights",
    "slug": "insights",
    "description": null,
    "feature_image": null,
    "visibility": "public",
    "og_image": null,
    "og_title": null,
    "og_description": null,
    "twitter_image": null,
    "twitter_title": null,
    "twitter_description": null,
    "meta_title": null,
    "meta_description": null,
    "codeinjection_head": null,
    "codeinjection_foot": null,
    "canonical_url": null,
    "accent_color": null,
    "url": "https://jina-ai-gmbh.ghost.io/tag/insights/"
  },
  "url": "https://jina-ai-gmbh.ghost.io/podcast/rag-is-dead-again/",
  "excerpt": "RAG 只是你可以使用的其中一種演算法模式。但如果你將它奉為「唯一」的演算法並加以神化，那麼你就是活在自己製造的泡泡中，而這個泡泡終將破滅。",
  "reading_time": 4,
  "access": true,
  "comments": false,
  "og_image": null,
  "og_title": null,
  "og_description": null,
  "twitter_image": null,
  "twitter_title": null,
  "twitter_description": null,
  "meta_title": null,
  "meta_description": null,
  "email_subject": null,
  "frontmatter": null,
  "feature_image_alt": "Cartoon of four characters in a cemetery with graves marked \"RAG,\" mixing somber themes with humorous actions.",
  "feature_image_caption": null
}