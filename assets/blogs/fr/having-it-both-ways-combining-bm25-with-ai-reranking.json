{
  "slug": "having-it-both-ways-combining-bm25-with-ai-reranking",
  "id": "6628fe61da339c00015740b9",
  "uuid": "13ce7c1f-bcdf-4746-93dd-5095291a2ed8",
  "title": "Double avantage : Combiner BM25 avec le reclassement par IA",
  "html": "<p>Il est important de suivre l'√©volution des technologies de recherche d'information, mais il est tout aussi important de ne pas perturber les composants qui ont fait leurs preuves et qui ont d√©j√† d√©montr√© leur valeur pour l'entreprise.</p><p>Malgr√© la croissance de la <a href=\"https://jina.ai/news/maximizing-search-relevancy-and-rag-accuracy-with-jina-reranker?ref=jina-ai-gmbh.ghost.io\">recherche vectorielle bas√©e sur l'IA</a>, la r√©alit√© est que la plupart des entreprises s'appuient encore sur des technologies de recherche traditionnelles, utilisant souvent des variantes de l'<a href=\"https://en.wikipedia.org/wiki/Okapi_BM25?ref=jina-ai-gmbh.ghost.io\">algorithme BM25</a>. C'est une technologie fiable et √©prouv√©e. Passer √† un syst√®me compl√®tement nouveau n'est pas seulement une √©tape majeure, cela s'av√®re souvent peu pratique, n√©cessitant des ressources substantielles et une refonte compl√®te des op√©rations. De plus, BM25 est une pierre angulaire des moteurs de recherche lexicale, couramment utilis√©e dans les plateformes de moteur de recherche r√©pandues comme Elasticsearch et Solr. Il d√©livre d√©j√† de bons r√©sultats pour de nombreux cas d'utilisation.</p><p>De nombreuses entreprises h√©sitent donc √† passer compl√®tement √† la recherche neuronale, malgr√© des preuves convaincantes que la recherche bas√©e sur l'IA <a href=\"https://db-engines.com/en/ranking_trend?ref=jina-ai-gmbh.ghost.io\" rel=\"noreferrer\">am√©liore significativement la satisfaction des utilisateurs et la qualit√© des r√©sultats</a>.</p><h2 id=\"retrieval-agnostic-neural-reranking\">Reclassement Neuronal Ind√©pendant de la Recherche</h2><p>Reranker est une innovation r√©volutionnaire dans le paysage des syst√®mes de recherche. Con√ßu pour am√©liorer la valeur des moteurs de recherche existants comme <a href=\"https://www.elastic.co/elasticsearch?ref=jina-ai-gmbh.ghost.io\">Elasticsearch</a>, il sert de couche suppl√©mentaire, fonctionnant comme un add-on pour affiner la qualit√© de recherche d√©livr√©e. Il n'a pas besoin de conna√Ætre le type de technologie de recherche auquel il est connect√©, il prend simplement une liste de correspondances et les r√©ordonne pour les am√©liorer.</p><p>Jina Reranker ajoute un niveau de compr√©hension plus profond aux technologies de recherche traditionnelles. Les algorithmes comme BM25 font un bon travail de r√©cup√©ration des documents bas√©e sur la fr√©quence des termes mais peinent √† √©valuer le sens des textes qu'ils r√©cup√®rent au regard de l'intention de l'utilisateur. C'est l√† que l'IA excelle : Reranker aide √† produire des r√©sultats qui sont mieux align√©s avec ce que les utilisateurs recherchent.</p><p>Par cons√©quent, pour les entreprises qui souhaitent apporter les puissants avantages des mod√®les d'IA √† leurs syst√®mes de recherche, l'ajout de Jina Reranker peut √™tre une d√©cision judicieuse qui n'entra√Æne pas les contraintes du remplacement d'une infrastructure de recherche existante. Il s'agit d'affiner les r√©sultats de recherche pour les rendre non seulement acceptables, mais exceptionnels : plus pertinents et plus pr√©cis.</p><h2 id=\"why-jina-reranker\">Pourquoi Jina Reranker ?</h2><p>Parmi les mod√®les de reclassement, les <a href=\"https://jina.ai/reranker?ref=jina-ai-gmbh.ghost.io\">mod√®les Jina Reranker</a> se distinguent comme des <a href=\"https://jina.ai/news/maximizing-search-relevancy-and-rag-accuracy-with-jina-reranker/?ref=jina-ai-gmbh.ghost.io\">leaders</a> avec des scores state-of-the-art sur les <a href=\"https://jina.ai/news/smaller-faster-cheaper-jina-rerankers-turbo-and-tiny?ref=jina-ai-gmbh.ghost.io\">tests de performance</a>.</p><figure class=\"kg-card kg-bookmark-card\"><a class=\"kg-bookmark-container\" href=\"https://jina.ai/news/maximizing-search-relevancy-and-rag-accuracy-with-jina-reranker/?ref=jina-ai-gmbh.ghost.io\"><div class=\"kg-bookmark-content\"><div class=\"kg-bookmark-title\">Maximizing Search Relevance and RAG Accuracy with Jina Reranker</div><div class=\"kg-bookmark-description\">Boost your search and RAG accuracy with Jina Reranker. Our new model improves the accuracy and relevance by 20% over simple vector search. Try it now for free!</div><div class=\"kg-bookmark-metadata\"><img class=\"kg-bookmark-icon\" src=\"https://jina.ai/icons/favicon-128x128.png\" alt=\"\"></div></div><div class=\"kg-bookmark-thumbnail\"><img src=\"https://jina-ai-gmbh.ghost.io/content/images/2024/02/Reranker1.png\" alt=\"\"></div></a></figure><p>Dans cet article, nous vous montrerons comment impl√©menter un syst√®me de recommandation pour les plateformes e-commerce. D'abord, nous analyserons la performance d'un retrieveur BM25 seul. Ensuite, nous ajouterons Jina Reranker au pipeline de recherche et verrons comment les r√©sultats deviennent plus pertinents et efficaces.</p><div class=\"kg-card kg-callout-card kg-callout-card-blue\"><div class=\"kg-callout-emoji\">üí°</div><div class=\"kg-callout-text\">Vous pouvez suivre dans <a href=\"https://colab.research.google.com/github/jina-ai/workshops/blob/main/notebooks/embeddings/bm25/Retrieval_Reranker.ipynb?ref=jina-ai-gmbh.ghost.io\">Colab</a> ou en <a href=\"https://raw.githubusercontent.com/jina-ai/workshops/main/notebooks/embeddings/bm25/Retrieval_Reranker.ipynb?ref=jina-ai-gmbh.ghost.io\">t√©l√©chargeant le notebook</a>.</div></div><h2 id=\"add-jina-reranker-to-your-existing-workflow\">Ajoutez Jina Reranker √† Votre Workflow Existant :</h2><figure class=\"kg-card kg-image-card\"><img src=\"https://jina-ai-gmbh.ghost.io/content/images/2024/04/upload_ead786ce675a16e1d2b30dcaf479c9f0.png\" class=\"kg-image\" alt=\"Screenshot 2024-04-08 at 11.44.21\" loading=\"lazy\" width=\"2000\" height=\"468\" srcset=\"https://jina-ai-gmbh.ghost.io/content/images/size/w600/2024/04/upload_ead786ce675a16e1d2b30dcaf479c9f0.png 600w, https://jina-ai-gmbh.ghost.io/content/images/size/w1000/2024/04/upload_ead786ce675a16e1d2b30dcaf479c9f0.png 1000w, https://jina-ai-gmbh.ghost.io/content/images/size/w1600/2024/04/upload_ead786ce675a16e1d2b30dcaf479c9f0.png 1600w, https://jina-ai-gmbh.ghost.io/content/images/2024/04/upload_ead786ce675a16e1d2b30dcaf479c9f0.png 2000w\" sizes=\"(min-width: 720px) 720px\"></figure><p>Voici une d√©composition du workflow mis √† jour int√©grant Jina Reranker :</p><ul><li><strong>Recherche Initiale</strong> : Lorsqu'une requ√™te est saisie, le moteur de recherche BM25 r√©cup√®re les documents pertinents en se basant principalement sur la correspondance des termes de la requ√™te avec les documents.</li><li><strong>Reclassement</strong> : <code>jina-reranker-v1-base-en</code> prend ces r√©sultats initiaux et utilise l'IA state-of-the-art pour √©valuer la pertinence de chaque document r√©cup√©r√© au regard de la requ√™te de l'utilisateur.</li><li><strong>Retour des R√©sultats</strong> : Jina Reranker r√©ordonne ensuite les r√©sultats de recherche, s'assurant que les documents les plus pertinents sont pr√©sent√©s en premier.</li></ul><p>Notre <a href=\"https://jina.ai/reranker?ref=jina-ai-gmbh.ghost.io\">API facile √† utiliser</a> et notre documentation compl√®te vous guideront tout au long du processus, ne n√©cessitant que des changements minimes √† votre syst√®me.</p><figure class=\"kg-card kg-bookmark-card\"><a class=\"kg-bookmark-container\" href=\"https://jina.ai/reranker/?ref=jina-ai-gmbh.ghost.io\"><div class=\"kg-bookmark-content\"><div class=\"kg-bookmark-title\">Reranker API</div><div class=\"kg-bookmark-description\">Maximize the search relevancy and RAG accuracy at ease</div><div class=\"kg-bookmark-metadata\"><img class=\"kg-bookmark-icon\" src=\"https://jina.ai/icons/favicon-128x128.png\" alt=\"\"></div></div><div class=\"kg-bookmark-thumbnail\"><img src=\"https://jina.ai/banner-reranker-api.png\" alt=\"\"></div></a></figure><h2 id=\"see-it-in-action-enhancing-e-commerce-search-with-jina-reranker\">Voyez-le en Action : Am√©lioration de la Recherche E-commerce avec Jina Reranker</h2><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://jina-ai-gmbh.ghost.io/content/images/2024/04/upload_25d8f98d26cab1a5375a4f3d8ffa9278-1.jpeg\" class=\"kg-image\" alt=\"BM25+Rerank dark (1)\" loading=\"lazy\" width=\"1600\" height=\"900\" srcset=\"https://jina-ai-gmbh.ghost.io/content/images/size/w600/2024/04/upload_25d8f98d26cab1a5375a4f3d8ffa9278-1.jpeg 600w, https://jina-ai-gmbh.ghost.io/content/images/size/w1000/2024/04/upload_25d8f98d26cab1a5375a4f3d8ffa9278-1.jpeg 1000w, https://jina-ai-gmbh.ghost.io/content/images/2024/04/upload_25d8f98d26cab1a5375a4f3d8ffa9278-1.jpeg 1600w\" sizes=\"(min-width: 720px) 720px\"><figcaption><i><em class=\"italic\" style=\"white-space: pre-wrap;\">Une requ√™te passe par BM25 et les documents r√©cup√©r√©s sont affin√©s par Jina Reranker.</em></i></figcaption></figure><p>Parcourons un exemple pratique d'e-commerce pour d√©montrer l'impact de Jina Reranker dans des applications du monde r√©el. L'objectif ici est de rechercher des listes de produits bas√©es sur la requ√™te d'un utilisateur.</p><p>Pour illustrer cela, nous allons mettre en place deux pipelines de recherche utilisant le framework populaire de recherche et d'orchestration IA <a href=\"https://haystack.deepset.ai/?ref=jina-ai-gmbh.ghost.io\">Haystack by deepset</a>. Le premier pipeline utilise BM25 seul. Le second int√®gre <code>jina-reranker-v1-base-en</code> dans le syst√®me BM25. Vous pouvez facilement remplacer le composant <code>InMemoryDocumentStore</code> de Haystack par <code>ElasticsearchDocumentStore</code> pour faire la m√™me exp√©rience si vous avez un cluster Elasticsearch existant.</p><p>Nous utiliserons <a href=\"https://www.kaggle.com/datasets/kuchhbhi/fashion-ecommerce-data?ref=jina-ai-gmbh.ghost.io\">un jeu de donn√©es exemple</a> de Kaggle. Vous pouvez directement t√©l√©charger le CSV <a href=\"https://raw.githubusercontent.com/jina-ai/workshops/main/notebooks/embeddings/bm25/fashion_data.csv?ref=jina-ai-gmbh.ghost.io\">ici</a>. Cette comparaison c√¥te √† c√¥te met en √©vidence les am√©liorations apport√©es par l'int√©gration de Jina Reranker dans le workflow de recherche.</p><p>Pour commencer, installez tous les composants n√©cessaires :</p><pre><code class=\"language-bash\">pip install --q haystack-ai jina-haystack\n</code></pre><p>D√©finissez la Cl√© API Jina comme variable d'environnement. Vous pouvez en g√©n√©rer une <a href=\"https://jina.ai/reranker?ref=jina-ai-gmbh.ghost.io\">ici</a>.</p><pre><code class=\"language-Python\">import os\nimport getpass\n\nos.environ[\"JINA_API_KEY\"] = getpass.getpass()\n</code></pre><p>Effectuez une recherche de produit bas√©e sur les noms de produits. Par exemple :</p><pre><code class=\"language-Python\">short_query = \"Nightwear for Women\"\n</code></pre><p>Transformez chaque ligne CSV en un <code>Document</code> :</p><pre><code class=\"language-Python\">import csv\nfrom haystack import Document\n\ndocuments = []\nwith open(\"fashion_data.csv\") as f:\n    data = csv.reader(f, delimiter=\";\")\n    for row in data:\n      row_text = ''.join(row)\n      row_doc = Document(content=row_text, meta={\"prod_id\": row[0], \"prod_image\": row[1]})\n      documents.append(row_doc)\n</code></pre><h2 id=\"pipeline-1-bm25-only\">Pipeline #1 : BM25 uniquement</h2><pre><code class=\"language-Python\">from haystack import Pipeline\nfrom haystack.document_stores.types import DuplicatePolicy\nfrom haystack.document_stores.in_memory import InMemoryDocumentStore\nfrom haystack.components.retrievers.in_memory import InMemoryBM25Retriever\n\ndocument_store=InMemoryDocumentStore()\ndocument_store.write_documents(documents=documents, policy=DuplicatePolicy.OVERWRITE)\n\nretriever = InMemoryBM25Retriever(document_store=document_store)\n\nrag_pipeline = Pipeline()\nrag_pipeline.add_component(\"retriever\", retriever)\n</code></pre><pre><code class=\"language-Python\">result = rag_pipeline.run(\n            {\n                \"retriever\": {\"query\": query, \"top_k\": 50},\n            }\n        )\n\nfor doc in result[\"retriever\"][\"documents\"]:\n    print(\"Product ID:\", doc.meta[\"prod_id\"])\n    print(\"Product Image:\", doc.meta[\"prod_image\"])\n    print(\"Score:\", doc.score)\n    print(\"-\"*100)\n</code></pre><p>Voici les vignettes des 50 r√©sultats retourn√©s par BM25 :<br></p><figure class=\"kg-card kg-image-card\"><img src=\"https://jina-ai-gmbh.ghost.io/content/images/2024/04/upload_f2dc26e35fe66ac84c1d641a47bebbce.png\" class=\"kg-image\" alt=\"image\" loading=\"lazy\" width=\"446\" height=\"1088\"></figure><p>Nous pouvons voir que les r√©sultats sont li√©s aux v√™tements de nuit, correspondant partiellement √† la requ√™te, mais les correspondances les plus pertinentes (images en gras dans la grille ci-dessus) semblent se perdre parmi la multitude de produits r√©cup√©r√©s par BM25. En pratique, l'utilisation de BM25 seul signifie qu'un utilisateur recevrait principalement des r√©sultats non pertinents en haut de page.</p><h2 id=\"pipeline-2-bm25-jina-reranker\">Pipeline #2 : BM25 + Jina Reranker</h2><p>Le script ci-dessous d√©crit comment construire ce pipeline √©tape par √©tape :</p><pre><code class=\"language-Python\">from haystack_integrations.components.rankers.jina import JinaRanker\n\nranker_retriever = InMemoryBM25Retriever(document_store=document_store)\n\nranker = JinaRanker()\n\nranker_pipeline = Pipeline()\nranker_pipeline.add_component(\"ranker_retriever\", ranker_retriever)\nranker_pipeline.add_component(\"ranker\", ranker)\n\nranker_pipeline.connect(\"ranker_retriever.documents\", \"ranker.documents\")\n</code></pre><pre><code class=\"language-Python\">result = ranker_pipeline.run(\n            {\n                \"ranker_retriever\": {\"query\": query, \"top_k\": 50},\n                \"ranker\": {\"query\": query, \"top_k\": 10},\n            }\n        )\n\nfor doc in result[\"ranker\"][\"documents\"]:\n    print(\"Product ID:\", doc.meta[\"prod_id\"])\n    print(\"Product Image:\", doc.meta[\"prod_image\"])\n    print(\"Score:\", doc.score)\n    print(\"-\"*100)\n</code></pre><p>Voici les 10 premiers r√©sultats retourn√©s par Jina Reranker :</p><figure class=\"kg-card kg-image-card\"><img src=\"https://jina-ai-gmbh.ghost.io/content/images/2024/04/upload_05929b0008a1ced2bf724dd8b89d0ec5.png\" class=\"kg-image\" alt=\"image\" loading=\"lazy\" width=\"442\" height=\"218\"></figure><p>Par rapport √† BM25, Jina Reranker retourne une collection de r√©ponses beaucoup plus pertinente. Dans notre contexte e-commerce, cela se traduit par une meilleure exp√©rience utilisateur et une probabilit√© accrue d'achats.</p><h2 id=\"impact-of-integrating-jina-reranker-with-bm25\">Impact de l'int√©gration de Jina Reranker avec BM25</h2><p>Suite √† notre √©tude de cas dans le domaine du e-commerce, il est clair que l'int√©gration de Jina Reranker avec les moteurs de recherche traditionnels comme Elasticsearch marque une avanc√©e significative dans la technologie de recherche. Voici un aper√ßu de la fa√ßon dont cette int√©gration am√©liore l'exp√©rience de recherche :</p><ul><li><strong>Taux de r√©ussite am√©lior√©s</strong> : La fusion de Jina Reranker et de la recherche traditionnelle a notablement augment√© la fr√©quence des r√©sultats pertinents. Cela rend le processus de recherche plus pr√©cis, s'alignant √©troitement avec les requ√™tes des utilisateurs.</li><li><strong>Exp√©rience utilisateur am√©lior√©e</strong> : Il y a une am√©lioration tangible dans la qualit√© des r√©sultats de recherche. Cela indique que les capacit√©s combin√©es de Jina Reranker et BM25 sont mieux align√©es avec les besoins sp√©cifiques des utilisateurs, am√©liorant leur exp√©rience globale de recherche.</li><li><strong>Haute pr√©cision pour les requ√™tes complexes</strong> : Pour les recherches difficiles, cette synergie assure une compr√©hension plus d√©taill√©e de la requ√™te et du contenu associ√©. Cela se traduit par des r√©sultats plus pr√©cis et plus pertinents.</li></ul><h2 id=\"ready-to-elevate-your-search-experience\">Pr√™t √† am√©liorer votre exp√©rience de recherche ?</h2><p>Jina Reranker est votre solution id√©ale pour augmenter la pertinence de vos r√©sultats de recherche. Il s'int√®gre parfaitement √† votre syst√®me de recherche existant et peut √™tre impl√©ment√© rapidement avec un minimum de code.</p><p>Si vous √™tes intrigu√© par ce que vous avez lu jusqu'ici et d√©sireux de voir la diff√©rence que Jina Reranker peut apporter, pourquoi ne pas l'essayer ? Commencez votre voyage et d√©couvrez la puissance transformative des <a href=\"https://jina.ai/?ref=jina-ai-gmbh.ghost.io\">mod√®les Search Foundation de Jina AI</a> dans votre propre environnement.</p>",
  "comment_id": "6628fe61da339c00015740b9",
  "feature_image": "https://jina-ai-gmbh.ghost.io/content/images/2024/04/upload_56e4debd659c41d7b40a33256ccdce6c.jpeg",
  "featured": false,
  "visibility": "public",
  "created_at": "2024-04-24T14:43:13.000+02:00",
  "updated_at": "2024-07-08T21:11:33.000+02:00",
  "published_at": "2024-04-24T15:38:08.000+02:00",
  "custom_excerpt": "Learn how to integrate Jina Reranker with lexical search engines to take advantage of superior semantic understanding while avoiding the downsides of migrating to a fully-fledged vector search infrastructure.",
  "codeinjection_head": null,
  "codeinjection_foot": null,
  "custom_template": null,
  "canonical_url": null,
  "authors": [
    {
      "id": "6620de1e7f510100015da95e",
      "name": "Yuting Zhang",
      "slug": "yuting",
      "profile_image": "https://jina-ai-gmbh.ghost.io/content/images/2024/04/Yuting-Portrait-1.jpeg",
      "cover_image": null,
      "bio": null,
      "website": null,
      "location": null,
      "facebook": null,
      "twitter": null,
      "meta_title": null,
      "meta_description": null,
      "url": "https://jina-ai-gmbh.ghost.io/author/yuting/"
    },
    {
      "id": "65e85e35b22368000152a4bf",
      "name": "Francesco Kruk",
      "slug": "francesco",
      "profile_image": "https://jina-ai-gmbh.ghost.io/content/images/2024/03/Portrait-Picture_Low.jpg",
      "cover_image": null,
      "bio": null,
      "website": null,
      "location": null,
      "facebook": null,
      "twitter": null,
      "meta_title": null,
      "meta_description": null,
      "url": "https://jina-ai-gmbh.ghost.io/author/francesco/"
    }
  ],
  "tags": [
    {
      "id": "634a1a8ccebfc1003d8ab706",
      "name": "Tech Blog",
      "slug": "tech-blog",
      "description": null,
      "feature_image": null,
      "visibility": "public",
      "og_image": null,
      "og_title": null,
      "og_description": null,
      "twitter_image": null,
      "twitter_title": null,
      "twitter_description": null,
      "meta_title": null,
      "meta_description": null,
      "codeinjection_head": null,
      "codeinjection_foot": null,
      "canonical_url": null,
      "accent_color": null,
      "url": "https://jina-ai-gmbh.ghost.io/tag/tech-blog/"
    }
  ],
  "primary_author": {
    "id": "6620de1e7f510100015da95e",
    "name": "Yuting Zhang",
    "slug": "yuting",
    "profile_image": "https://jina-ai-gmbh.ghost.io/content/images/2024/04/Yuting-Portrait-1.jpeg",
    "cover_image": null,
    "bio": null,
    "website": null,
    "location": null,
    "facebook": null,
    "twitter": null,
    "meta_title": null,
    "meta_description": null,
    "url": "https://jina-ai-gmbh.ghost.io/author/yuting/"
  },
  "primary_tag": {
    "id": "634a1a8ccebfc1003d8ab706",
    "name": "Tech Blog",
    "slug": "tech-blog",
    "description": null,
    "feature_image": null,
    "visibility": "public",
    "og_image": null,
    "og_title": null,
    "og_description": null,
    "twitter_image": null,
    "twitter_title": null,
    "twitter_description": null,
    "meta_title": null,
    "meta_description": null,
    "codeinjection_head": null,
    "codeinjection_foot": null,
    "canonical_url": null,
    "accent_color": null,
    "url": "https://jina-ai-gmbh.ghost.io/tag/tech-blog/"
  },
  "url": "https://jina-ai-gmbh.ghost.io/podcast/having-it-both-ways-combining-bm25-with-ai-reranking/",
  "excerpt": "D√©couvrez comment int√©grer Jina Reranker avec des moteurs de recherche lexicale pour b√©n√©ficier d'une meilleure compr√©hension s√©mantique tout en √©vitant les inconv√©nients d'une migration vers une infrastructure de recherche vectorielle compl√®te.",
  "reading_time": 6,
  "access": true,
  "comments": false,
  "og_image": null,
  "og_title": null,
  "og_description": null,
  "twitter_image": null,
  "twitter_title": null,
  "twitter_description": null,
  "meta_title": null,
  "meta_description": null,
  "email_subject": null,
  "frontmatter": null,
  "feature_image_alt": "Black background embellished with binary code, featuring a central tech-inspired emblem with multicolored dots, BM25 tag, con",
  "feature_image_caption": null
}