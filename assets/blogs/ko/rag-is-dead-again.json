{
  "slug": "rag-is-dead-again",
  "id": "66505b6384f9e40001a6daf9",
  "uuid": "e16f68bf-4e4a-4bc3-b688-ef9049470aaf",
  "title": "RAG가 다시 죽었다?",
  "html": "<p>사람들이 RAG를 사랑하면서도 미워하는지, 아니면 미워하면서도 사랑하는지 구분하기 어렵습니다.</p><p>X와 <a href=\"https://t.co/Q1QithBNj6?ref=jina-ai-gmbh.ghost.io\">HN</a>의 최근 토론에 따르면, RAG는 <em>이제</em> <strong>다시</strong> 죽어야 한다고 합니다. 이번에는 비평가들이 대부분의 RAG 프레임워크가 과도하게 엔지니어링되었다는 점을 지적하고 있습니다. <a href=\"https://x.com/jeremyphoward?ref=jina-ai-gmbh.ghost.io\">@jeremyphoward</a> <a href=\"https://x.com/HamelHusain?ref=jina-ai-gmbh.ghost.io\">@HamelHusain</a> <a href=\"https://x.com/Yampeleg?ref=jina-ai-gmbh.ghost.io\">@Yampeleg</a>가 보여준 것처럼 20줄의 Python 코드로도 구현이 가능합니다.</p><figure class=\"kg-card kg-embed-card\"><blockquote class=\"twitter-tweet\"><p lang=\"en\" dir=\"ltr\">T H A N K   Y O U ! ! !<br>(v 2.0)<br><br>Full RAG in 20 lines.<br><br>This is how you implement semantic search in ~10 lines<br><br>Replace 𝚌𝚘𝚗𝚝𝚎𝚡𝚝𝚜 &amp; 𝚚𝚞𝚎𝚜𝚝𝚒𝚘𝚗 with your own.<br><br>* the blurred code is for loading example contexts<br><br>(Everything from FastAI's guide:<a href=\"https://t.co/qBpU6T2Fd1?ref=jina-ai-gmbh.ghost.io\">https://t.co/qBpU6T2Fd1</a>) <a href=\"https://t.co/Or3eJEbSt9?ref=jina-ai-gmbh.ghost.io\">https://t.co/Or3eJEbSt9</a> <a href=\"https://t.co/e2q70H6QaY?ref=jina-ai-gmbh.ghost.io\">pic.twitter.com/e2q70H6QaY</a></p>— Yam Peleg (@Yampeleg) <a href=\"https://twitter.com/Yampeleg/status/1793698848616960393?ref_src=twsrc%5Etfw&ref=jina-ai-gmbh.ghost.io\">May 23, 2024</a></blockquote>\n<script async=\"\" src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></figure><p>이런 분위기를 마지막으로 느꼈던 때는 매우 긴 컨텍스트 윈도우를 가진 Claude/Gemini가 출시된 직후였습니다. 이번에 더 안 좋은 점은 <a href=\"https://x.com/icreatelife?ref=jina-ai-gmbh.ghost.io\">@icreatelife</a> <a href=\"https://x.com/mark_riedl?ref=jina-ai-gmbh.ghost.io\">@mark_riedl</a>가 보여준 것처럼 Google의 RAG도 이상한 결과를 생성한다는 것입니다. 이는 아이러니합니다. 4월 라스베가스 Google Next에서 Google이 RAG를 grounding 솔루션으로 발표했기 때문입니다.</p><figure class=\"kg-card kg-embed-card\"><blockquote class=\"twitter-tweet\"><p lang=\"en\" dir=\"ltr\">I couldn't believe it before I tried it. Google needs to fix this asap.. <a href=\"https://t.co/r3FyOfxiTK?ref=jina-ai-gmbh.ghost.io\">pic.twitter.com/r3FyOfxiTK</a></p>— Kris Kashtanova (@icreatelife) <a href=\"https://twitter.com/icreatelife/status/1793781850923823144?ref_src=twsrc%5Etfw&ref=jina-ai-gmbh.ghost.io\">May 23, 2024</a></blockquote>\n<script async=\"\" src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></figure><figure class=\"kg-card kg-embed-card\"><blockquote class=\"twitter-tweet\"><p lang=\"en\" dir=\"ltr\">Yes! My website poisoning attack works on Google's new LLM-powered AI overviews! <a href=\"https://t.co/nWyMtl7nMj?ref=jina-ai-gmbh.ghost.io\">pic.twitter.com/nWyMtl7nMj</a></p>— Mark Riedl (@mark_riedl) <a href=\"https://twitter.com/mark_riedl/status/1793375699967054334?ref_src=twsrc%5Etfw&ref=jina-ai-gmbh.ghost.io\">May 22, 2024</a></blockquote>\n<script async=\"\" src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></figure><h2 id=\"two-problems-of-rag\">RAG의 두 가지 문제점</h2><p>오늘날 RAG 프레임워크와 솔루션에서 두 가지 문제점을 발견했습니다.</p><h2 id=\"feed-forward-only\">순전파만 존재</h2><p>첫째, 거의 모든 RAG 프레임워크는 <strong>\"순전파\" 경로만 구현하고 \"역전파\" 경로가 없습니다</strong>. 이는 <em>불완전한</em> 시스템입니다. <a href=\"https://x.com/latentspacepod?ref=jina-ai-gmbh.ghost.io\">@latentspacepod</a>의 한 에피소드에서 <a href=\"https://x.com/swyx?ref=jina-ai-gmbh.ghost.io\">@swyx</a>가 RAG는 LLM의 긴 컨텍스트 윈도우에 의해 죽지 <em>않을</em> 것이라고 주장한 것이 기억납니다. 그 이유는:</p><ol><li>긴 컨텍스트는 개발자에게 비용이 많이 들고</li><li>긴 컨텍스트는 디버깅이 어렵고 분해가능성이 부족하기 때문입니다.</li></ol><p>하지만 모든 RAG 프레임워크가 순전파 경로에만 집중한다면, LLM보다 디버깅이 어떻게 더 쉽겠습니까? 많은 사람들이 임의의 POC에서 RAG의 자동 마법 같은 결과에 과도하게 흥분하고, 역방향 튜닝 없이 순전파 계층을 추가하는 것이 끔찍한 아이디어라는 것을 완전히 잊어버리는 것도 흥미롭습니다. 신경망에 하나의 계층을 더 추가하면 파라미터 공간이 확장되고 따라서 표현력이 향상되어 더 많은 잠재적인 작업을 수행할 수 있게 되지만, <strong>훈련 없이는 아무 의미가 없다는 것을</strong> 우리 모두 알고 있습니다. 베이 에리어에는 평가 작업을 하는 스타트업들이 꽤 있는데, 본질적으로 순전파 시스템의 손실을 평가하려고 합니다. 유용한가요? 네. 하지만 RAG의 루프를 닫는 데 도움이 되나요? 아니오.<br><br>그렇다면 누가 RAG의 역전파 작업을 하고 있을까요? 제가 아는 한 많지 않습니다. 저는 주로 <a href=\"https://x.com/stanfordnlp?ref=jina-ai-gmbh.ghost.io\">@stanfordnlp</a> <a href=\"https://x.com/lateinteraction?ref=jina-ai-gmbh.ghost.io\">@lateinteraction</a>의 라이브러리인 DSPy를 알고 있는데, 이것이 그 mission을 가지고 있습니다.</p><figure class=\"kg-card kg-bookmark-card\"><a class=\"kg-bookmark-container\" href=\"https://github.com/stanfordnlp/dspy?ref=jina-ai-gmbh.ghost.io\"><div class=\"kg-bookmark-content\"><div class=\"kg-bookmark-title\">GitHub - stanfordnlp/dspy: DSPy: The framework for programming—not prompting—foundation models</div><div class=\"kg-bookmark-description\">DSPy: The framework for programming—not prompting—foundation models - stanfordnlp/dspy</div><div class=\"kg-bookmark-metadata\"><img class=\"kg-bookmark-icon\" src=\"https://github.githubassets.com/assets/pinned-octocat-093da3e6fa40.svg\" alt=\"\"><span class=\"kg-bookmark-author\">GitHub</span><span class=\"kg-bookmark-publisher\">stanfordnlp</span></div></div><div class=\"kg-bookmark-thumbnail\"><img src=\"https://opengraph.githubassets.com/0d188663ed7e46ec4bb66d2eb8c5a9417e63343bc566e659a691978ae3df0b3e/stanfordnlp/dspy\" alt=\"\"></div></a></figure><p>하지만 DSPy조차도 주요 초점은 few-shot 데모를 최적화하는 데 있지, 전체 시스템에 있지 않습니다(적어도 커뮤니티 사용에서는). 하지만 왜 이 문제가 어려울까요? 신호가 매우 희박하고, 미분 불가능한 파이프라인 시스템을 최적화하는 것은 본질적으로 조합 문제이기 때문입니다. 즉, <strong>극도로 어렵습니다</strong>. 저는 박사 과정에서 submodular 최적화를 공부했는데, 이 기술이 RAG 최적화에 잘 활용될 것 같은 느낌이 듭니다.</p><h2 id=\"grounding-in-the-wild-is-hard\">실제 환경에서의 Grounding은 어렵습니다</h2><p>Google의 이상한 검색 결과에도 불구하고, RAG가 grounding을 위한 것이라는 데 동의합니다. 두 가지 유형의 grounding이 있습니다: LLM의 세계 지식을 확장하기 위해 검색 엔진을 사용하는 <strong>검색 grounding</strong>과 사실 확인을 위해 개인 지식(예: 독점 데이터)을 사용하는 <strong>체크 grounding</strong>입니다.</p><p>두 경우 모두 외부 리소스가 신뢰할 수 있다는 전제 하에 결과의 사실성을 개선하기 위해 외부 지식을 인용합니다. Google의 이상한 검색 결과에서 쉽게 볼 수 있듯이 웹의 모든 것이 신뢰할 수 있는 것은 아닙니다(네, 큰 놀라움이네요. 누가 생각이나 했겠어요!), 이는 검색 grounding이 좋지 않아 보이게 만듭니다. 하지만 지금은 웃을 수밖에 없다고 생각합니다. Google 검색 UI 뒤에는 사용자들의 반응을 수집하고 더 나은 grounding을 위해 웹사이트의 신뢰도를 가중치로 부여하는 <strong>암묵적 피드백 메커니즘</strong>이 있습니다. 일반적으로 이는 매우 일시적일 것입니다. 이 RAG는 단지 <strong>콜드 스타트</strong>를 지나면 되고, 시간이 지나면서 결과가 개선될 것이기 때문입니다.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://jina-ai-gmbh.ghost.io/content/images/2024/05/Heading--32-.png\" class=\"kg-image\" alt=\"Diagram of Jina AI's search process with &quot;Search Grounding,&quot; &quot;Private Knowledge,&quot; and &quot;Check Grounding&quot; blocks, and related U\" loading=\"lazy\" width=\"1500\" height=\"787\" srcset=\"https://jina-ai-gmbh.ghost.io/content/images/size/w600/2024/05/Heading--32-.png 600w, https://jina-ai-gmbh.ghost.io/content/images/size/w1000/2024/05/Heading--32-.png 1000w, https://jina-ai-gmbh.ghost.io/content/images/2024/05/Heading--32-.png 1500w\" sizes=\"(min-width: 720px) 720px\"><figcaption><span style=\"white-space: pre-wrap;\">Jina Reader에 영감을 준 두 가지 유형의 grounding </span><a href=\"https://jina.ai/reader/?ref=jina-ai-gmbh.ghost.io\"><span style=\"white-space: pre-wrap;\">Jina Reader</span></a></figcaption></figure><figure class=\"kg-card kg-gallery-card kg-width-wide kg-card-hascaption\"><div class=\"kg-gallery-container\"><div class=\"kg-gallery-row\"><div class=\"kg-gallery-image\"><img src=\"https://jina-ai-gmbh.ghost.io/content/images/2024/05/GOVSJD9XEAAf2kK.jpeg\" width=\"2000\" height=\"955\" loading=\"lazy\" alt=\"\" srcset=\"https://jina-ai-gmbh.ghost.io/content/images/size/w600/2024/05/GOVSJD9XEAAf2kK.jpeg 600w, https://jina-ai-gmbh.ghost.io/content/images/size/w1000/2024/05/GOVSJD9XEAAf2kK.jpeg 1000w, https://jina-ai-gmbh.ghost.io/content/images/size/w1600/2024/05/GOVSJD9XEAAf2kK.jpeg 1600w, https://jina-ai-gmbh.ghost.io/content/images/size/w2400/2024/05/GOVSJD9XEAAf2kK.jpeg 2400w\" sizes=\"(min-width: 720px) 720px\"></div><div class=\"kg-gallery-image\"><img src=\"https://jina-ai-gmbh.ghost.io/content/images/2024/05/Untitled.jpg\" width=\"2000\" height=\"975\" loading=\"lazy\" alt=\"\" srcset=\"https://jina-ai-gmbh.ghost.io/content/images/size/w600/2024/05/Untitled.jpg 600w, https://jina-ai-gmbh.ghost.io/content/images/size/w1000/2024/05/Untitled.jpg 1000w, https://jina-ai-gmbh.ghost.io/content/images/size/w1600/2024/05/Untitled.jpg 1600w, https://jina-ai-gmbh.ghost.io/content/images/size/w2400/2024/05/Untitled.jpg 2400w\" sizes=\"(min-width: 720px) 720px\"></div></div></div><figcaption><p><span style=\"white-space: pre-wrap;\">RAG는 Google Next 컨퍼런스에서 그라운딩 솔루션으로 소개되었습니다.</span></p></figcaption></figure><h2 id=\"my-take\">내 견해</h2><p>RAG는 죽었다거나 살아있다고 할 수 없습니다. 그러니 이에 대해 논쟁하는 것을 멈추세요. RAG는 단지 사용할 수 있는 알고리즘 패턴 중 하나일 뿐입니다. 하지만 이것을 <strong><em>유일한</em></strong> 알고리즘으로 만들어 우상화한다면, 당신은 스스로 만든 버블 속에 살고 있는 것이며, 그 버블은 결국 터질 것입니다.</p>",
  "comment_id": "66505b6384f9e40001a6daf9",
  "feature_image": "https://jina-ai-gmbh.ghost.io/content/images/2024/05/3c563034-52ba-4d9b-a537-07877cb2b506.webp",
  "featured": false,
  "visibility": "public",
  "created_at": "2024-05-24T11:18:27.000+02:00",
  "updated_at": "2024-05-24T20:12:12.000+02:00",
  "published_at": "2024-05-24T12:37:18.000+02:00",
  "custom_excerpt": "RAG is just one algorithmic pattern you can use. But if you make it *the* algorithm and idolize it, then you are living in a bubble you created, and the bubble will burst.",
  "codeinjection_head": null,
  "codeinjection_foot": null,
  "custom_template": null,
  "canonical_url": null,
  "authors": [
    {
      "id": "633ffc6b393501004d1c8659",
      "name": "Han Xiao",
      "slug": "han",
      "profile_image": "https://jina-ai-gmbh.ghost.io/content/images/2022/10/Untitled-2.png",
      "cover_image": null,
      "bio": "Founder & CEO of Jina AI",
      "website": null,
      "location": null,
      "facebook": null,
      "twitter": "@hxiao",
      "meta_title": null,
      "meta_description": null,
      "url": "https://jina-ai-gmbh.ghost.io/author/han/"
    }
  ],
  "tags": [
    {
      "id": "6342c5b4393501004d1c8b2c",
      "name": "Insights",
      "slug": "insights",
      "description": null,
      "feature_image": null,
      "visibility": "public",
      "og_image": null,
      "og_title": null,
      "og_description": null,
      "twitter_image": null,
      "twitter_title": null,
      "twitter_description": null,
      "meta_title": null,
      "meta_description": null,
      "codeinjection_head": null,
      "codeinjection_foot": null,
      "canonical_url": null,
      "accent_color": null,
      "url": "https://jina-ai-gmbh.ghost.io/tag/insights/"
    }
  ],
  "primary_author": {
    "id": "633ffc6b393501004d1c8659",
    "name": "Han Xiao",
    "slug": "han",
    "profile_image": "https://jina-ai-gmbh.ghost.io/content/images/2022/10/Untitled-2.png",
    "cover_image": null,
    "bio": "Founder & CEO of Jina AI",
    "website": null,
    "location": null,
    "facebook": null,
    "twitter": "@hxiao",
    "meta_title": null,
    "meta_description": null,
    "url": "https://jina-ai-gmbh.ghost.io/author/han/"
  },
  "primary_tag": {
    "id": "6342c5b4393501004d1c8b2c",
    "name": "Insights",
    "slug": "insights",
    "description": null,
    "feature_image": null,
    "visibility": "public",
    "og_image": null,
    "og_title": null,
    "og_description": null,
    "twitter_image": null,
    "twitter_title": null,
    "twitter_description": null,
    "meta_title": null,
    "meta_description": null,
    "codeinjection_head": null,
    "codeinjection_foot": null,
    "canonical_url": null,
    "accent_color": null,
    "url": "https://jina-ai-gmbh.ghost.io/tag/insights/"
  },
  "url": "https://jina-ai-gmbh.ghost.io/podcast/rag-is-dead-again/",
  "excerpt": "RAG는 사용할 수 있는 알고리즘 패턴 중 하나일 뿐입니다. 하지만 이것을 \"유일한\" 알고리즘으로 만들고 우상화한다면, 당신은 스스로 만든 거품 속에 살고 있는 것이며, 그 거품은 결국 터질 것입니다.",
  "reading_time": 4,
  "access": true,
  "comments": false,
  "og_image": null,
  "og_title": null,
  "og_description": null,
  "twitter_image": null,
  "twitter_title": null,
  "twitter_description": null,
  "meta_title": null,
  "meta_description": null,
  "email_subject": null,
  "frontmatter": null,
  "feature_image_alt": "Cartoon of four characters in a cemetery with graves marked \"RAG,\" mixing somber themes with humorous actions.",
  "feature_image_caption": null
}