{
  "slug": "having-it-both-ways-combining-bm25-with-ai-reranking",
  "id": "6628fe61da339c00015740b9",
  "uuid": "13ce7c1f-bcdf-4746-93dd-5095291a2ed8",
  "title": "Il meglio dei due mondi: combinare BM25 con il reranking AI",
  "html": "<p>√à importante stare al passo con le nuove tecnologie di recupero delle informazioni, ma √® altrettanto importante non compromettere componenti collaudati che hanno gi√† dimostrato il loro valore aziendale.</p><p>Nonostante la crescita della <a href=\"https://jina.ai/news/maximizing-search-relevancy-and-rag-accuracy-with-jina-reranker?ref=jina-ai-gmbh.ghost.io\">ricerca vettoriale basata su AI</a>, la realt√† √® che la maggior parte delle aziende si affida ancora a tecnologie di ricerca tradizionali, spesso utilizzando varianti dell'<a href=\"https://en.wikipedia.org/wiki/Okapi_BM25?ref=jina-ai-gmbh.ghost.io\">algoritmo BM25</a>. √à una tecnologia affidabile e collaudata nel tempo. Passare a un sistema completamente nuovo non √® solo un grande passo, ma spesso si rivela impraticabile, richiedendo risorse sostanziali e una revisione completa delle operazioni. Inoltre, BM25 √® un pilastro dei motori di ricerca lessicale, comunemente impiegato in piattaforme di ricerca diffuse come Elasticsearch e Solr. Offre gi√† risultati efficaci per molti casi d'uso.</p><p>Molte aziende esitano quindi a passare completamente alla ricerca neurale, nonostante le prove convincenti che la ricerca basata su AI <a href=\"https://db-engines.com/en/ranking_trend?ref=jina-ai-gmbh.ghost.io\" rel=\"noreferrer\">migliori significativamente la soddisfazione degli utenti e la qualit√† dei risultati</a>.</p><h2 id=\"retrieval-agnostic-neural-reranking\">Riordinamento Neurale Indipendente dal Recupero</h2><p>Reranker √® un'aggiunta rivoluzionaria nel panorama dei sistemi di ricerca. Progettato per migliorare il valore dei motori di ricerca esistenti come <a href=\"https://www.elastic.co/elasticsearch?ref=jina-ai-gmbh.ghost.io\">Elasticsearch</a>, funge da strato aggiuntivo, operando come un add-on per raffinare la qualit√† della ricerca. Non ha bisogno di sapere a quale tecnologia di ricerca √® collegato, prende semplicemente una lista di corrispondenze e le riordina per migliorarle.</p><p>Jina Reranker aggiunge un livello pi√π profondo di comprensione alle tecnologie di ricerca tradizionali. Algoritmi come BM25 fanno un buon lavoro nel recuperare documenti basati sulla frequenza dei termini ma faticano a valutare il significato dei testi che recuperano alla luce dell'intento dell'utente. Qui √® dove eccelle l'AI: Reranker aiuta a produrre risultati meglio allineati con ci√≤ che gli utenti stanno cercando.</p><p>Pertanto, per le aziende che vogliono portare i potenti vantaggi dei modelli AI nei loro framework di ricerca, aggiungere Jina Reranker pu√≤ essere una decisione saggia e non comporta l'onere di sostituire un'infrastruttura di ricerca esistente. Si tratta di raffinare i risultati di ricerca per renderli non solo accettabili, ma eccezionali: pi√π rilevanti e pi√π accurati.</p><h2 id=\"why-jina-reranker\">Perch√© Jina Reranker?</h2><p>Tra i modelli di reranking, i <a href=\"https://jina.ai/reranker?ref=jina-ai-gmbh.ghost.io\">modelli Jina Reranker</a> si distinguono come <a href=\"https://jina.ai/news/maximizing-search-relevancy-and-rag-accuracy-with-jina-reranker/?ref=jina-ai-gmbh.ghost.io\">leader</a> con punteggi all'avanguardia nei <a href=\"https://jina.ai/news/smaller-faster-cheaper-jina-rerankers-turbo-and-tiny?ref=jina-ai-gmbh.ghost.io\">benchmark di performance</a>.</p><figure class=\"kg-card kg-bookmark-card\"><a class=\"kg-bookmark-container\" href=\"https://jina.ai/news/maximizing-search-relevancy-and-rag-accuracy-with-jina-reranker/?ref=jina-ai-gmbh.ghost.io\"><div class=\"kg-bookmark-content\"><div class=\"kg-bookmark-title\">Maximizing Search Relevance and RAG Accuracy with Jina Reranker</div><div class=\"kg-bookmark-description\">Boost your search and RAG accuracy with Jina Reranker. Our new model improves the accuracy and relevance by 20% over simple vector search. Try it now for free!</div><div class=\"kg-bookmark-metadata\"><img class=\"kg-bookmark-icon\" src=\"https://jina.ai/icons/favicon-128x128.png\" alt=\"\"></div></div><div class=\"kg-bookmark-thumbnail\"><img src=\"https://jina-ai-gmbh.ghost.io/content/images/2024/02/Reranker1.png\" alt=\"\"></div></a></figure><p>In questo articolo, mostreremo come implementare un sistema di raccomandazione per piattaforme e-commerce. Prima analizzeremo le prestazioni di un retriever BM25 da solo. Poi aggiungeremo Jina Reranker alla pipeline di recupero e vedremo come i risultati diventano pi√π rilevanti ed efficaci.</p><div class=\"kg-card kg-callout-card kg-callout-card-blue\"><div class=\"kg-callout-emoji\">üí°</div><div class=\"kg-callout-text\">Puoi seguire l'esempio su <a href=\"https://colab.research.google.com/github/jina-ai/workshops/blob/main/notebooks/embeddings/bm25/Retrieval_Reranker.ipynb?ref=jina-ai-gmbh.ghost.io\">Colab</a> o <a href=\"https://raw.githubusercontent.com/jina-ai/workshops/main/notebooks/embeddings/bm25/Retrieval_Reranker.ipynb?ref=jina-ai-gmbh.ghost.io\">scaricando il notebook</a>.</div></div><h2 id=\"add-jina-reranker-to-your-existing-workflow\">Aggiungi Jina Reranker al Tuo Workflow Esistente:</h2><figure class=\"kg-card kg-image-card\"><img src=\"https://jina-ai-gmbh.ghost.io/content/images/2024/04/upload_ead786ce675a16e1d2b30dcaf479c9f0.png\" class=\"kg-image\" alt=\"Screenshot 2024-04-08 at 11.44.21\" loading=\"lazy\" width=\"2000\" height=\"468\" srcset=\"https://jina-ai-gmbh.ghost.io/content/images/size/w600/2024/04/upload_ead786ce675a16e1d2b30dcaf479c9f0.png 600w, https://jina-ai-gmbh.ghost.io/content/images/size/w1000/2024/04/upload_ead786ce675a16e1d2b30dcaf479c9f0.png 1000w, https://jina-ai-gmbh.ghost.io/content/images/size/w1600/2024/04/upload_ead786ce675a16e1d2b30dcaf479c9f0.png 1600w, https://jina-ai-gmbh.ghost.io/content/images/2024/04/upload_ead786ce675a16e1d2b30dcaf479c9f0.png 2000w\" sizes=\"(min-width: 720px) 720px\"></figure><p>Ecco una panoramica del workflow aggiornato che integra Jina Reranker:</p><ul><li><strong>Recupero Iniziale</strong>: Quando viene inserita una query, il motore di ricerca BM25 recupera i documenti rilevanti basandosi principalmente sulla corrispondenza dei termini della query con i documenti.</li><li><strong>Riordinamento</strong>: <code>jina-reranker-v1-base-en</code> prende questi risultati iniziali e utilizza l'AI all'avanguardia per valutare la rilevanza di ciascun documento recuperato alla luce della query dell'utente.</li><li><strong>Restituzione dei Risultati</strong>: Jina Reranker quindi riordina i risultati della ricerca, assicurando che i documenti pi√π rilevanti siano presentati in cima.</li></ul><p>La nostra <a href=\"https://jina.ai/reranker?ref=jina-ai-gmbh.ghost.io\">API facile da usare</a> e la documentazione completa ti guideranno attraverso l'intero processo, richiedendo solo modifiche minime al tuo sistema.</p><figure class=\"kg-card kg-bookmark-card\"><a class=\"kg-bookmark-container\" href=\"https://jina.ai/reranker/?ref=jina-ai-gmbh.ghost.io\"><div class=\"kg-bookmark-content\"><div class=\"kg-bookmark-title\">Reranker API</div><div class=\"kg-bookmark-description\">Maximize the search relevancy and RAG accuracy at ease</div><div class=\"kg-bookmark-metadata\"><img class=\"kg-bookmark-icon\" src=\"https://jina.ai/icons/favicon-128x128.png\" alt=\"\"></div></div><div class=\"kg-bookmark-thumbnail\"><img src=\"https://jina.ai/banner-reranker-api.png\" alt=\"\"></div></a></figure><h2 id=\"see-it-in-action-enhancing-e-commerce-search-with-jina-reranker\">Vedi in Azione: Migliorare la Ricerca E-commerce con Jina Reranker</h2><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"https://jina-ai-gmbh.ghost.io/content/images/2024/04/upload_25d8f98d26cab1a5375a4f3d8ffa9278-1.jpeg\" class=\"kg-image\" alt=\"BM25+Rerank dark (1)\" loading=\"lazy\" width=\"1600\" height=\"900\" srcset=\"https://jina-ai-gmbh.ghost.io/content/images/size/w600/2024/04/upload_25d8f98d26cab1a5375a4f3d8ffa9278-1.jpeg 600w, https://jina-ai-gmbh.ghost.io/content/images/size/w1000/2024/04/upload_25d8f98d26cab1a5375a4f3d8ffa9278-1.jpeg 1000w, https://jina-ai-gmbh.ghost.io/content/images/2024/04/upload_25d8f98d26cab1a5375a4f3d8ffa9278-1.jpeg 1600w\" sizes=\"(min-width: 720px) 720px\"><figcaption><i><em class=\"italic\" style=\"white-space: pre-wrap;\">Una query passa attraverso BM25 e i documenti recuperati vengono raffinati da Jina Reranker.</em></i></figcaption></figure><p>Esaminiamo un esempio pratico di e-commerce per dimostrare l'impatto di Jina Reranker nelle applicazioni del mondo reale. L'obiettivo qui √® cercare listini prodotti basati sulla query di un utente.</p><p>Per illustrare questo, configureremo due pipeline di ricerca utilizzando il popolare framework di ricerca e orchestrazione AI <a href=\"https://haystack.deepset.ai/?ref=jina-ai-gmbh.ghost.io\">Haystack by deepset</a>. La prima pipeline usa BM25 da solo. La seconda integra <code>jina-reranker-v1-base-en</code> nel sistema BM25. Puoi facilmente sostituire il componente <code>InMemoryDocumentStore</code> di Haystack con <code>ElasticsearchDocumentStore</code> per fare lo stesso esperimento se hai un cluster Elasticsearch esistente.</p><p>Useremo <a href=\"https://www.kaggle.com/datasets/kuchhbhi/fashion-ecommerce-data?ref=jina-ai-gmbh.ghost.io\">un dataset di esempio</a> da Kaggle. Puoi scaricare direttamente il CSV <a href=\"https://raw.githubusercontent.com/jina-ai/workshops/main/notebooks/embeddings/bm25/fashion_data.csv?ref=jina-ai-gmbh.ghost.io\">qui</a>. Questo confronto fianco a fianco mostra i miglioramenti apportati dall'incorporazione di Jina Reranker nel workflow di ricerca.</p><p>Per iniziare, installa tutti i componenti necessari:</p><pre><code class=\"language-bash\">pip install --q haystack-ai jina-haystack\n</code></pre><p>Imposta la Jina API Key come variabile d'ambiente. Puoi generarne una <a href=\"https://jina.ai/reranker?ref=jina-ai-gmbh.ghost.io\">qui</a>.</p><pre><code class=\"language-Python\">import os\nimport getpass\n\nos.environ[\"JINA_API_KEY\"] = getpass.getpass()\n</code></pre><p>Query per un prodotto basata sui nomi dei prodotti. Per esempio:</p><pre><code class=\"language-Python\">short_query = \"Nightwear for Women\"\n</code></pre><p>Trasforma ogni riga CSV in un <code>Document</code>:</p><pre><code class=\"language-Python\">import csv\nfrom haystack import Document\n\ndocuments = []\nwith open(\"fashion_data.csv\") as f:\n    data = csv.reader(f, delimiter=\";\")\n    for row in data:\n      row_text = ''.join(row)\n      row_doc = Document(content=row_text, meta={\"prod_id\": row[0], \"prod_image\": row[1]})\n      documents.append(row_doc)\n</code></pre><h2 id=\"pipeline-1-bm25-only\">Pipeline #1: Solo BM25</h2><pre><code class=\"language-Python\">from haystack import Pipeline\nfrom haystack.document_stores.types import DuplicatePolicy\nfrom haystack.document_stores.in_memory import InMemoryDocumentStore\nfrom haystack.components.retrievers.in_memory import InMemoryBM25Retriever\n\ndocument_store=InMemoryDocumentStore()\ndocument_store.write_documents(documents=documents, policy=DuplicatePolicy.OVERWRITE)\n\nretriever = InMemoryBM25Retriever(document_store=document_store)\n\nrag_pipeline = Pipeline()\nrag_pipeline.add_component(\"retriever\", retriever)\n</code></pre><pre><code class=\"language-Python\">result = rag_pipeline.run(\n            {\n                \"retriever\": {\"query\": query, \"top_k\": 50},\n            }\n        )\n\nfor doc in result[\"retriever\"][\"documents\"]:\n    print(\"Product ID:\", doc.meta[\"prod_id\"])\n    print(\"Product Image:\", doc.meta[\"prod_image\"])\n    print(\"Score:\", doc.score)\n    print(\"-\"*100)\n</code></pre><p>Ecco le miniature dei 50 risultati restituiti da BM25:<br></p><figure class=\"kg-card kg-image-card\"><img src=\"https://jina-ai-gmbh.ghost.io/content/images/2024/04/upload_f2dc26e35fe66ac84c1d641a47bebbce.png\" class=\"kg-image\" alt=\"image\" loading=\"lazy\" width=\"446\" height=\"1088\"></figure><p>Possiamo vedere che i risultati sono relativi all'abbigliamento da notte, corrispondendo parzialmente alla query, ma le corrispondenze pi√π rilevanti (immagini in grassetto nella griglia sopra) sembrano perdersi tra i numerosi prodotti recuperati da BM25. In pratica, utilizzare solo BM25 significa che un utente riceverebbe principalmente risultati non correlati in cima alla pagina.</p><h2 id=\"pipeline-2-bm25-jina-reranker\">Pipeline #2: BM25 + Jina Reranker</h2><p>Lo script seguente illustra come costruire questa pipeline passo dopo passo:</p><pre><code class=\"language-Python\">from haystack_integrations.components.rankers.jina import JinaRanker\n\nranker_retriever = InMemoryBM25Retriever(document_store=document_store)\n\nranker = JinaRanker()\n\nranker_pipeline = Pipeline()\nranker_pipeline.add_component(\"ranker_retriever\", ranker_retriever)\nranker_pipeline.add_component(\"ranker\", ranker)\n\nranker_pipeline.connect(\"ranker_retriever.documents\", \"ranker.documents\")\n</code></pre><pre><code class=\"language-Python\">result = ranker_pipeline.run(\n            {\n                \"ranker_retriever\": {\"query\": query, \"top_k\": 50},\n                \"ranker\": {\"query\": query, \"top_k\": 10},\n            }\n        )\n\nfor doc in result[\"ranker\"][\"documents\"]:\n    print(\"Product ID:\", doc.meta[\"prod_id\"])\n    print(\"Product Image:\", doc.meta[\"prod_image\"])\n    print(\"Score:\", doc.score)\n    print(\"-\"*100)\n</code></pre><p>Ecco i primi 10 risultati restituiti da Jina Reranker:</p><figure class=\"kg-card kg-image-card\"><img src=\"https://jina-ai-gmbh.ghost.io/content/images/2024/04/upload_05929b0008a1ced2bf724dd8b89d0ec5.png\" class=\"kg-image\" alt=\"image\" loading=\"lazy\" width=\"442\" height=\"218\"></figure><p>Rispetto a BM25, Jina Reranker restituisce una raccolta di risposte molto pi√π pertinente. Nel nostro contesto e-commerce, questo si traduce in una migliore esperienza utente e in una maggiore probabilit√† di acquisti.</p><h2 id=\"impact-of-integrating-jina-reranker-with-bm25\">Impatto dell'Integrazione di Jina Reranker con BM25</h2><p>Seguendo il nostro caso studio nel dominio e-commerce, √® chiaro che l'integrazione di Jina Reranker con i motori di ricerca tradizionali come Elasticsearch segna un salto significativo nella tecnologia di ricerca. Ecco una panoramica di come questa integrazione migliora l'esperienza di ricerca:</p><ul><li><strong>Tasso di Successo Aumentato</strong>: La fusione di Jina Reranker e la ricerca tradizionale ha notevolmente aumentato la frequenza di risultati rilevanti. Questo rende il processo di ricerca pi√π accurato, allineandosi strettamente alle query degli utenti.</li><li><strong>Esperienza Utente Migliorata</strong>: C'√® un miglioramento tangibile nella qualit√† dei risultati di ricerca. Questo indica che le capacit√† combinate di Jina Reranker e BM25 sono meglio allineate con le esigenze specifiche degli utenti, migliorando la loro esperienza di ricerca complessiva.</li><li><strong>Alta Precisione per Query Complesse</strong>: Quando si tratta di ricerche difficili, questa sinergia assicura una comprensione pi√π dettagliata sia della query che dei contenuti correlati. Questo si traduce in risultati pi√π precisi e accurati.</li></ul><h2 id=\"ready-to-elevate-your-search-experience\">Pronti a Migliorare la Vostra Esperienza di Ricerca?</h2><p>Jina Reranker √® la soluzione ideale per aumentare la rilevanza dei vostri risultati di ricerca. Si integra perfettamente con il vostro sistema di ricerca esistente e pu√≤ essere implementato rapidamente con una programmazione minima.</p><p>Se siete incuriositi da quanto avete letto finora e desiderosi di vedere la differenza che Jina Reranker pu√≤ fare, perch√© non provarlo? Iniziate il vostro percorso e testimoniate il potere trasformativo dei <a href=\"https://jina.ai/?ref=jina-ai-gmbh.ghost.io\">modelli Search Foundation di Jina AI</a> nel vostro ambiente.</p>",
  "comment_id": "6628fe61da339c00015740b9",
  "feature_image": "https://jina-ai-gmbh.ghost.io/content/images/2024/04/upload_56e4debd659c41d7b40a33256ccdce6c.jpeg",
  "featured": false,
  "visibility": "public",
  "created_at": "2024-04-24T14:43:13.000+02:00",
  "updated_at": "2024-07-08T21:11:33.000+02:00",
  "published_at": "2024-04-24T15:38:08.000+02:00",
  "custom_excerpt": "Learn how to integrate Jina Reranker with lexical search engines to take advantage of superior semantic understanding while avoiding the downsides of migrating to a fully-fledged vector search infrastructure.",
  "codeinjection_head": null,
  "codeinjection_foot": null,
  "custom_template": null,
  "canonical_url": null,
  "authors": [
    {
      "id": "6620de1e7f510100015da95e",
      "name": "Yuting Zhang",
      "slug": "yuting",
      "profile_image": "https://jina-ai-gmbh.ghost.io/content/images/2024/04/Yuting-Portrait-1.jpeg",
      "cover_image": null,
      "bio": null,
      "website": null,
      "location": null,
      "facebook": null,
      "twitter": null,
      "meta_title": null,
      "meta_description": null,
      "url": "https://jina-ai-gmbh.ghost.io/author/yuting/"
    },
    {
      "id": "65e85e35b22368000152a4bf",
      "name": "Francesco Kruk",
      "slug": "francesco",
      "profile_image": "https://jina-ai-gmbh.ghost.io/content/images/2024/03/Portrait-Picture_Low.jpg",
      "cover_image": null,
      "bio": null,
      "website": null,
      "location": null,
      "facebook": null,
      "twitter": null,
      "meta_title": null,
      "meta_description": null,
      "url": "https://jina-ai-gmbh.ghost.io/author/francesco/"
    }
  ],
  "tags": [
    {
      "id": "634a1a8ccebfc1003d8ab706",
      "name": "Tech Blog",
      "slug": "tech-blog",
      "description": null,
      "feature_image": null,
      "visibility": "public",
      "og_image": null,
      "og_title": null,
      "og_description": null,
      "twitter_image": null,
      "twitter_title": null,
      "twitter_description": null,
      "meta_title": null,
      "meta_description": null,
      "codeinjection_head": null,
      "codeinjection_foot": null,
      "canonical_url": null,
      "accent_color": null,
      "url": "https://jina-ai-gmbh.ghost.io/tag/tech-blog/"
    }
  ],
  "primary_author": {
    "id": "6620de1e7f510100015da95e",
    "name": "Yuting Zhang",
    "slug": "yuting",
    "profile_image": "https://jina-ai-gmbh.ghost.io/content/images/2024/04/Yuting-Portrait-1.jpeg",
    "cover_image": null,
    "bio": null,
    "website": null,
    "location": null,
    "facebook": null,
    "twitter": null,
    "meta_title": null,
    "meta_description": null,
    "url": "https://jina-ai-gmbh.ghost.io/author/yuting/"
  },
  "primary_tag": {
    "id": "634a1a8ccebfc1003d8ab706",
    "name": "Tech Blog",
    "slug": "tech-blog",
    "description": null,
    "feature_image": null,
    "visibility": "public",
    "og_image": null,
    "og_title": null,
    "og_description": null,
    "twitter_image": null,
    "twitter_title": null,
    "twitter_description": null,
    "meta_title": null,
    "meta_description": null,
    "codeinjection_head": null,
    "codeinjection_foot": null,
    "canonical_url": null,
    "accent_color": null,
    "url": "https://jina-ai-gmbh.ghost.io/tag/tech-blog/"
  },
  "url": "https://jina-ai-gmbh.ghost.io/podcast/having-it-both-ways-combining-bm25-with-ai-reranking/",
  "excerpt": "Scopri come integrare Jina Reranker con i motori di ricerca lessicale per sfruttare una superiore comprensione semantica evitando gli svantaggi della migrazione a un'infrastruttura di ricerca vettoriale completa.",
  "reading_time": 6,
  "access": true,
  "comments": false,
  "og_image": null,
  "og_title": null,
  "og_description": null,
  "twitter_image": null,
  "twitter_title": null,
  "twitter_description": null,
  "meta_title": null,
  "meta_description": null,
  "email_subject": null,
  "frontmatter": null,
  "feature_image_alt": "Black background embellished with binary code, featuring a central tech-inspired emblem with multicolored dots, BM25 tag, con",
  "feature_image_caption": null
}