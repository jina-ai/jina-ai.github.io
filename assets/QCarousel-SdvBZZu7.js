import{du as O,s as N,m as u,p as i,K as V,aw as G,ax as J,w as $,W as K,F as R,aA as U,cB as W,q as h,a_ as X,J as Y}from"./index-Dtnfhw5E.js";import{f as j}from"./orderBy-BM24nzy-.js";import{u as H,a as Z,b as z,c as p}from"./use-panel-DcZudB6u.js";import{u as ee,e as ne,g as te}from"./finetune-Bvqqq2qU.js";var B=1/0,ae=17976931348623157e292;function oe(e){if(!e)return e===0?e:0;if(e=j(e),e===B||e===-B){var n=e<0?-1:1;return n*ae}return e===e?e:0}function le(e){var n=oe(e),a=n%1;return n===n?a?n-a:n:0}function ie(e,n,a){var r=-1,t=e.length;n<0&&(n=-n>t?0:t+n),a=a>t?t:a,a<0&&(a+=t),t=n>a?0:a-n>>>0,n>>>=0;for(var c=Array(t);++r<t;)c[r]=e[r+n];return c}var re=Math.ceil,ue=Math.max;function de(e,n,a){(a?O(e,n,a):n===void 0)?n=1:n=ue(le(n),0);var r=e==null?0:e.length;if(!r||n<1)return[];for(var t=0,c=0,v=Array(re(r/n));t<r;)v[c++]=ie(e,t,t+=n);return v}const _e=N({name:"QCarouselSlide",props:{...H,imgSrc:String},setup(e,{slots:n}){const a=u(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>i("div",{class:"q-carousel__slide",style:a.value},V(n.default))}}),ce=["top","right","bottom","left"],se=["regular","flat","outline","push","unelevated"],he=N({name:"QCarousel",props:{...G,...Z,...ee,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>se.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>ce.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...ne,...z],setup(e,{slots:n}){const{proxy:{$q:a}}=Y(),r=J(e,a);let t=null,c;const{updatePanelsList:v,getPanelContent:A,panelDirectives:F,goToPanel:x,previousPanel:q,nextPanel:C,getEnabledPanels:M,panelIndex:g}=p(),{inFullscreen:S}=te(),Q=u(()=>S.value!==!0&&e.height!==void 0?{height:e.height}:{}),m=u(()=>e.vertical===!0?"vertical":"horizontal"),b=u(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),D=u(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(S.value===!0?" fullscreen":"")+(r.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${m.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${b.value}`:"")),I=u(()=>{const o=[e.prevIcon||a.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||a.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&a.lang.rtl===!0?o.reverse():o}),P=u(()=>e.navigationIcon||a.iconSet.carousel.navigationIcon),E=u(()=>e.navigationActiveIcon||P.value),f=u(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));$(()=>e.modelValue,()=>{e.autoplay&&d()}),$(()=>e.autoplay,o=>{o?d():t!==null&&(clearTimeout(t),t=null)});function d(){const o=W(e.autoplay)===!0?Math.abs(e.autoplay):5e3;t!==null&&clearTimeout(t),t=setTimeout(()=>{t=null,o>=0?C():q()},o)}K(()=>{e.autoplay&&d()}),R(()=>{t!==null&&clearTimeout(t)});function w(o,s){return i("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${o} q-carousel__navigation--${b.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[i("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},M().map(s))])}function L(){const o=[];if(e.navigation===!0){const s=n["navigation-icon"]!==void 0?n["navigation-icon"]:l=>i(h,{key:"nav"+l.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${l.active===!0?"":"in"}active`,...l.btnProps,onClick:l.onClick}),_=c-1;o.push(w("buttons",(l,y)=>{const k=l.props.name,T=g.value===y;return s({index:y,maxIndex:_,name:k,active:T,btnProps:{icon:T===!0?E.value:P.value,size:"sm",...f.value},onClick:()=>{x(k)}})}))}else if(e.thumbnails===!0){const s=e.controlColor!==void 0?` text-${e.controlColor}`:"";o.push(w("thumbnails",_=>{const l=_.props;return i("img",{key:"tmb#"+l.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${l.name===e.modelValue?"":"in"}active`+s,src:l.imgSrc||l["img-src"],onClick:()=>{x(l.name)}})}))}return e.arrows===!0&&g.value>=0&&((e.infinite===!0||g.value>0)&&o.push(i("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${m.value} absolute flex flex-center`},[i(h,{icon:I.value[0],...f.value,onClick:q})])),(e.infinite===!0||g.value<c-1)&&o.push(i("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${m.value} absolute flex flex-center`},[i(h,{icon:I.value[1],...f.value,onClick:C})]))),X(n.control,o)}return()=>(c=v(n),i("div",{class:D.value,style:Q.value},[U("div",{class:"q-carousel__slides-container"},A(),"sl-cont",e.swipeable,()=>F.value)].concat(L())))}});export{he as Q,_e as a,de as c};
