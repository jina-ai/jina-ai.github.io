import{bS as la,c1 as va,cT as ya,cE as Da,bX as xa,dv as Ka,dw as sa,cJ as Va,bZ as La,cQ as Aa,cI as Ia,bU as Ca,cM as Oa,j as ce,a2 as me,a3 as _,a4 as x,a5 as t,a6 as a,a7 as de,n as Re,a0 as ye,k as T,m as Q,a9 as re,af as k,ag as m,aN as xe,aq as te,aD as ke,aQ as he,aa as ee,ah as ne,ai as fe,bp as pa,q as ae,aE as Ce,aF as $e,w as je,W as Ae,a8 as Z,ac as qa,ab as U,aO as na,aP as Fe,am as ge,ae as K,du as We,ad as z,c6 as Ge,b9 as Ma,aM as ea,aj as Ke,u as qe,ap as ue,V as ha,b8 as ba,_ as d,av as Ba,s as Ua,ax as Na,p as Ve,az as Ha,J as ja,b6 as Ga,b1 as aa,aR as Fa,dx as Qe,aA as Qa,b7 as za,ao as Ya,an as Xa,cf as Wa}from"./index-DK0m2C0i.js";import{Q as Ja}from"./QBanner-XsHQUXcc.js";import{Q as Za}from"./QPage-d-aqIoU2.js";import{K as we,E as J,g as ia}from"./se-fo-B1UudvXu.js";import{d as $a,a as ta,u as Se,Q as ka,b as et}from"./use-dialog-plugin-component-D8jT9S9M.js";import{j as at,u as tt,c as rt,M as ot,k as lt,L as st,U as nt,A as it,i as ut,E as dt,a as ct,R as mt,C as _t,b as ft,I as gt,T as vt,S as ua,B as yt,D as pt,e as ht}from"./BrowserInfoDialog-CXmeMOBy.js";import{P as bt,Q as kt}from"./PurchaseTab-CnU1RMBR.js";import{Q as le}from"./QTooltip-BRpPNGD6.js";import{c as be,d as De,e as Ne,f as ra,Q as wt}from"./date-CRYm0S9L.js";import{u as Ie,A as Et,U as Tt,R as Rt}from"./finetune-upBlhBO1.js";import{b as ve,a as wa,Q as St}from"./QChip-DujKEE2S.js";import{Q as Te,a as Le,b as Pt}from"./QLinearProgress-DeMBYtlp.js";import{C as He}from"./ClosePopup-DBzrXZfc.js";import{Q as A}from"./QItemLabel-BgFr6ras.js";import{c as Je}from"./copy-to-clipboard--cqxAN8j.js";import{P as Dt}from"./PurchaseDialog-DDo9nJPO.js";import{Q as Oe}from"./QList-CCYlR10Y.js";import{t as da,c as xt,L as Kt}from"./LoginDialog-B1-ACxPa.js";import{t as ca}from"./toNumber-BReG3vVs.js";import{a as Vt,c as Lt}from"./_setToArray-_GfAiPzk.js";import{a as At,c as It,f as Ct,o as Ot}from"./orderBy-CtebIEzA.js";import{_ as qt}from"./dynamic-import-helper-BheWnx7M.js";import{Q as Mt}from"./QForm-MQ0opzSH.js";import{C as Bt}from"./ChatComponent-D3DMqG-t.js";import{u as ma}from"./useMetaTags-CsYdp873.js";import{u as Ut}from"./useModels-yf6A0Tpa.js";import{C as Nt}from"./ContactSalesForm-Bf-Uf_3T.js";import{Q as _a}from"./QBadge-CkANFcKC.js";import{Q as Ht}from"./QSpinnerRings-D3HCFqqe.js";import"./QMenu-9eLb9XyU.js";import"./position-engine-lrO04yTp.js";import"./blogs-BvKtud7S.js";import"./VideoDialog-CD6Sg1I1.js";import"./TouchPan-C6_fC7z6.js";import"./touch-BjYP5sR0.js";import"./QTab-BfRCh0oB.js";import"./QTabs-zeBYO6Zg.js";import"./QResizeObserver-DdPF33to.js";import"./QBtnDropdown-BaC61PiM.js";import"./QExpansionItem-aKRFmrfD.js";import"./use-fullscreen-BLSVrWfu.js";import"./package-D9JPNs5w.js";import"./isSymbol-BmvVEGmJ.js";import"./QScrollObserver-CXFydY5O.js";import"./QSpinnerDots-BMSdqvOw.js";var fa=la?la.isConcatSpreadable:void 0;function jt(c){return va(c)||ya(c)||!!(fa&&c&&c[fa])}function Gt(c,l,s,e,g){var p=-1,r=c.length;for(s||(s=jt),g||(g=[]);++p<r;){var o=c[p];s(o)&&At(g,o)}return g}var ze=function(){return Da.Date.now()},Ft="Expected a function",Qt=Math.max,zt=Math.min;function Yt(c,l,s){var e,g,p,r,o,i,h=0,R=!1,f=!1,L=!0;if(typeof c!="function")throw new TypeError(Ft);l=ca(l)||0,xa(s)&&(R=!!s.leading,f="maxWait"in s,p=f?Qt(ca(s.maxWait)||0,l):p,L="trailing"in s?!!s.trailing:L);function b(S){var y=e,D=g;return e=g=void 0,h=S,r=c.apply(D,y),r}function P(S){return h=S,o=setTimeout(v,l),R?b(S):r}function N(S){var y=S-i,D=S-h,n=l-y;return f?zt(n,p-D):n}function w(S){var y=S-i,D=S-h;return i===void 0||y>=l||y<0||f&&D>=p}function v(){var S=ze();if(w(S))return M(S);o=setTimeout(v,N(S))}function M(S){return o=void 0,L&&e?b(S):(e=g=void 0,r)}function V(){o!==void 0&&clearTimeout(o),h=0,e=i=g=o=void 0}function C(){return o===void 0?r:M(ze())}function q(){var S=ze(),y=w(S);if(e=arguments,g=this,i=S,y){if(o===void 0)return P(i);if(f)return clearTimeout(o),o=setTimeout(v,l),b(i)}return o===void 0&&(o=setTimeout(v,l)),r}return q.cancel=V,q.flush=C,q}var Xt=200;function Wt(c,l,s,e){var g=-1,p=$a,r=!0,o=c.length,i=[],h=l.length;if(!o)return i;l.length>=Xt&&(p=Lt,r=!1,l=new Vt(l));e:for(;++g<o;){var R=c[g],f=R;if(R=R!==0?R:0,r&&f===f){for(var L=h;L--;)if(l[L]===f)continue e;i.push(R)}else p(l,f,e)||i.push(R)}return i}var Jt=Ka(function(c,l){return sa(c)?Wt(c,Gt(l,1,sa)):[]}),Zt="[object Map]",$t="[object Set]",er=Object.prototype,ar=er.hasOwnProperty;function tr(c){if(c==null)return!0;if(Va(c)&&(va(c)||typeof c=="string"||typeof c.splice=="function"||La(c)||Aa(c)||ya(c)))return!c.length;var l=It(c);if(l==Zt||l==$t)return!c.size;if(Ia(c))return!Ct(c).length;for(var s in c)if(ar.call(c,s))return!1;return!0}var rr="[object Number]";function or(c){return typeof c=="number"||Ca(c)&&Oa(c)==rr}function lr(c){return or(c)&&c!=+c}const sr=ce({__name:"ContainedPurchaseTab",setup(c,{expose:l}){l();const s={PurchaseTab:bt};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}});function nr(c,l,s,e,g,p){return _(),x(de,{flat:"",class:"column no-wrap full-height"},{default:t(()=>[a(e.PurchaseTab)]),_:1})}const ir=me(sr,[["render",nr],["__file","ContainedPurchaseTab.vue"]]),ur=ce({__name:"AddKeyDialog",setup(c,{expose:l}){l();const s=Re(),{t:e}=ye({useScope:"global"}),{dialogRef:g,onDialogOK:p}=ta(),r=Se(),o=Ie(),i=T(""),h=T(!1),R=T(!0),f=T(""),L=T(!0),b=T(["poc","test"]),P=T({readonly:!1}),N=Q(()=>Object.entries(P.value).filter(([C,q])=>q).reduce((C,[q])=>C.concat(q),[])),V={$q:s,t:e,dialogRef:g,onDialogOK:p,embeddingStore:r,apiKeyStore:o,apiKey:i,isBusy:h,isKeyValid:R,errorMsg:f,isPwd:L,labels:b,roles:P,parsedRoles:N,onCreateKey:()=>{p({action:we.GENERATE,metadata:{labels:b,roles:N.value}})},onAdd:async()=>{if(i.value.trim()===""){R.value=!1,f.value=e("key_manager.invalid_key");return}try{h.value=!0,await r.getKeyInfo(i.value)?await o.addKey(i.value,{labels:b.value,roles:N.value})?(s.notify({message:e("key_manager.add_success",{_key:be(i.value)}),icon:"done"}),p()):(R.value=!1,f.value=e("key_manager.existing_key")):(R.value=!1,f.value=e("key_manager.invalid_key"))}catch(C){R.value=!1,f.value=C instanceof Error?C.message:String(C)}finally{h.value=!1}},onLabelsBlur:C=>{var y,D;const q=C.target,S=(D=(y=q.value)==null?void 0:y.trim())!=null?D:"";q&&S&&(q.value="",b.value.push(S))}};return Object.defineProperty(V,"__isScriptSetup",{enumerable:!1,value:!0}),V}});function dr(c,l,s,e,g,p){return _(),x($e,{ref:"dialogRef",persistent:""},{default:t(()=>[a(de,{flat:"",square:"",class:"bg-mixed-200 q-pa-md"},{default:t(()=>[a(re,{class:"q-pb-none"},{default:t(()=>[k(m(e.t("key_manager.add_key_explain")),1)]),_:1}),a(re,{class:"flex"},{default:t(()=>[a(xe,{modelValue:e.apiKey,"onUpdate:modelValue":l[1]||(l[1]=r=>e.apiKey=r),autofocus:"",filled:"",square:"",clearable:"",class:"full-width","input-class":"ellipsis",label:e.t("key_manager.add"),error:!e.isKeyValid,"error-message":e.errorMsg,type:e.isPwd?"password":"text",style:{width:"400px"}},{prepend:t(()=>[a(te,{name:"o_key"})]),append:t(()=>[a(te,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:l[0]||(l[0]=r=>e.isPwd=!e.isPwd)},null,8,["name"])]),_:1},8,["modelValue","label","error","error-message","type"]),a(ke,{modelValue:e.roles.readonly,"onUpdate:modelValue":l[2]||(l[2]=r=>e.roles.readonly=r),label:e.t("key_manager.readonly")},null,8,["modelValue","label"])]),_:1}),a(re,{class:"q-pb-none"},{default:t(()=>[k(m(e.t("key_manager.add_key_labels_explain")),1)]),_:1}),a(re,{class:"flex"},{default:t(()=>[a(Te,{modelValue:e.labels,"onUpdate:modelValue":l[3]||(l[3]=r=>e.labels=r),label:e.t("key_manager.customized_tags"),square:"",filled:"",multiple:"","use-input":"","use-chips":"","dense-chips":"","hide-dropdown-icon":"","input-debounce":"0","new-value-mode":"add-unique",style:{width:"100%"},hint:e.t("key_manager.add_key_labels_input_explain"),onBlurCapture:he(e.onLabelsBlur,["stop"])},{prepend:t(()=>[a(te,{name:"rate_review"})]),selected:t(()=>[(_(!0),ee(ne,null,fe(e.labels,r=>(_(),x(ve,{key:r,square:"",dense:"",style:{"border-radius":"0"},class:"bg-mixed-400"},{default:t(()=>[k(m(r),1)]),_:2},1024))),128))]),_:1},8,["modelValue","label","hint"])]),_:1}),a(pa,{align:"left"},{default:t(()=>[a(ae,{padding:"md",flat:"",square:"",label:e.t("key_manager.generate_new_key"),disable:e.isBusy,icon:"casino",onClick:e.onCreateKey},{default:t(()=>[a(le,null,{default:t(()=>[k(m(e.t("key_manager.generate_new_key_tooltip")),1)]),_:1})]),_:1},8,["label","disable"]),a(ka),Ce(a(ae,{padding:"md",flat:"",square:"",label:e.t("key_manager.cancel")},null,8,["label"]),[[He]]),Ce(a(ae,{padding:"md",flat:"",square:"",color:"primary",label:e.t("key_manager.save"),loading:e.isBusy,onClick:e.onAdd},null,8,["label","loading"]),[[He]])]),_:1})]),_:1})]),_:1},512)}const cr=me(ur,[["render",dr],["__file","AddKeyDialog.vue"]]),mr=ce({__name:"UsageChart",props:{apiKey:{},usage:{}},setup(c,{expose:l}){const{t:s}=ye({useScope:"global"}),e=c,g=T(!1),p=T({left:"0px",top:"0px"}),r=T(""),o=T([]),i=T("hour-tokens"),h=Q(()=>i.value.replace("-","_")),R=()=>{i.value==="hour-tokens"?i.value="day-tokens":i.value==="day-tokens"?i.value="hour-requests":i.value==="hour-requests"?i.value="day-requests":i.value="hour-tokens",f()},f=()=>{if(!e.usage||e.usage.length===0)return;const w=document.getElementById(`usage_${e.apiKey._id}`);if(!w)return;const v=w.getContext("2d");if(!v)return;const M=window.devicePixelRatio||1,V=w.clientWidth||300,C=w.clientHeight||100;w.width=V*M,w.height=C*M,v.scale(M,M);const q=new Date;let S=[],y={},D={};const n=i.value==="hour-tokens"||i.value==="hour-requests",u=i.value==="hour-requests"||i.value==="day-requests";n?(S=Array.from({length:168},(Y,X)=>{const j=new Date(q);return j.setHours(j.getHours()-X),De.formatDate(j,"YYYY-MM-DD HH")}).reverse(),e.usage.forEach(Y=>{if(Y.type==="consume"){const X=De.formatDate(new Date(Y.created_at),"YYYY-MM-DD HH");y[X]=(y[X]||0)+Y.quantity,D[X]=(D[X]||0)+(Y.request_number||0)}})):(S=Array.from({length:7},(Y,X)=>{const j=new Date(q);return j.setDate(j.getDate()-X),De.formatDate(j,"YYYY-MM-DD")}).reverse(),e.usage.forEach(Y=>{if(Y.type==="consume"){const X=De.formatDate(new Date(Y.created_at),"YYYY-MM-DD");y[X]=(y[X]||0)+Y.quantity,D[X]=(D[X]||0)+(Y.request_number||0)}}));const E=S.map(Y=>u?D[Y]||0:y[Y]||0);let I=Math.max(...E);I===0&&(I=1);const O=Math.max(1,V/E.length*.8),G=Math.max(0,V/E.length*.2);v.clearRect(0,0,V,C),o.value=[],E.forEach((Y,X)=>{const j=Y/I*C*.9,W=.1,se=Y>0?Math.max(j,W):W,H=X*(O+G)+G/2,$=C-se;o.value.push({x:H,y:$,width:O,height:se,timeLabel:S[X],usage:y[S[X]]||0,requests:D[S[X]]||0});const ie=Y>0?.7:.3;u?v.fillStyle=`rgba(144, 238, 144, ${ie})`:v.fillStyle=`rgba(129, 227, 238, ${ie})`,v.fillRect(H,$,O,se),v.strokeStyle=u?"#90EE90":"#81E3EE",v.lineWidth=Y>0?0:.5,v.strokeRect(H,$,O,se)}),v.shadowColor="transparent",v.shadowBlur=0,L(v,E,V,C,O,G,u)},L=(w,v,M,V,C,q,S)=>{if(v.length<2)return;const y=v.map((H,$)=>({value:H,index:$})).filter(H=>H.value>0),D=y.length>=2?y:v.map((H,$)=>({value:H,index:$}));if(D.length<2)return;const n=D.length;let u=0,E=0,I=0,O=0;for(const H of D){const $=H.index,ie=H.value;u+=$,E+=ie,I+=$*ie,O+=$*$}const G=n*O-u*u;if(G===0)return;const Y=(n*I-u*E)/G,X=(E-Y*u)/n;let j=Math.max(...v);j===0&&(j=1),w.beginPath();const W=H=>H*(C+q)+q/2+C/2;let se=!0;v.forEach((H,$)=>{const ie=W($),B=Y*$+X,F=V-B/j*V*.9;se?(w.moveTo(ie,F),se=!1):w.lineTo(ie,F)}),w.strokeStyle=S?"rgba(144, 238, 144, 0.8)":"rgba(129, 227, 238, 0.8)",w.lineWidth=1,w.setLineDash([5,3]),w.stroke(),w.setLineDash([])},b=w=>{const v=document.getElementById(`usage_${e.apiKey._id}`);if(!v)return;const M=v.getBoundingClientRect(),V=w.clientX-M.left,C=w.clientY-M.top;let q=!1;for(const S of o.value)if(V>=S.x&&V<=S.x+S.width&&C>=S.y&&C<=S.y+S.height)try{let y="";if(i.value==="hour-tokens"||i.value==="hour-requests"){const I=S.timeLabel.split(" "),O=I[0],G=I[1]||"00",Y=new Date(`${O}T${G}:00:00`);y=De.formatDate(Y,"MMM D, h:mm A")}else{const I=new Date(S.timeLabel);y=De.formatDate(I,"MMM D, YYYY")}const n=i.value==="hour-requests"||i.value==="day-requests",u=n?S.requests:S.usage,E=n?"requests":"tokens";r.value=`${y}: ${u>0?u.toLocaleString():"0"} ${E}`,p.value={left:`${V+10}px`,top:`${C-30}px`},g.value=!0,q=!0;break}catch(y){console.error("Error formatting date:",y)}q||P()},P=()=>{g.value=!1};je(()=>e.usage,()=>{setTimeout(()=>{f()},50)},{deep:!0}),l({initChart:f}),Ae(()=>{setTimeout(()=>{f()},100)});const N={t:s,props:e,showTooltip:g,tooltipStyle:p,tooltipText:r,barData:o,displayMode:i,displayModeName:h,toggleGroupingMode:R,initChart:f,drawTrendline:L,handleMouseMove:b,hideTooltip:P};return Object.defineProperty(N,"__isScriptSetup",{enumerable:!1,value:!0}),N}}),_r=["id"];function fr(c,l,s,e,g,p){return _(),x(de,{flat:"",square:"",class:"bg-transparent relative-position",style:{"max-height":"100px",width:"100%",height:"100%",position:"relative"}},{default:t(()=>[a(ve,{class:"absolute-bottom-right bg-dark-transparent",label:e.t(`key_manager.${e.displayModeName}`),size:"xs",square:"",icon:"monitoring"},null,8,["label"]),Z("canvas",{id:`usage_${s.apiKey._id}`,style:{width:"100%",height:"100%"},onMousemove:e.handleMouseMove,onMouseleave:e.hideTooltip,onClick:he(e.toggleGroupingMode,["prevent"])},null,40,_r),e.showTooltip?(_(),ee("div",{key:0,class:"tooltip",style:qa(e.tooltipStyle)},[Z("div",null,m(e.tooltipText),1)],4)):U("",!0)]),_:1})}const gr=me(mr,[["render",fr],["__scopeId","data-v-81817ef2"],["__file","UsageChart.vue"]]),vr=ce({__name:"UsageReminderItem",props:na({apiKey:{},isPaidKey:{type:Boolean}},{email:{type:String},emailModifiers:{},autoReminder:{type:Boolean},autoReminderModifiers:{},thresholds:{type:Array},thresholdsModifiers:{}}),emits:na(["update"],["update:email","update:autoReminder","update:thresholds"]),setup(c,{expose:l,emit:s}){l();const e=c,g=s,p=Fe(c,"email"),r=Fe(c,"autoReminder"),o=Fe(c,"thresholds"),{t:i}=ye({useScope:"global"}),h=Re(),R=Se(),f=Ie(),{isBusyState:L}=ge(f),b=T([{label:"10M",value:1e7},{label:"100M",value:1e8},{label:"1B",value:1e9}]),P=T(b.value),N=T(!1),w=(n,u)=>{const E=Number(n);if(n.length>0&&!lr(E)&&o.value.length<3){if(E<0||E>1e12){N.value=!0;return}N.value=!1;const I={label:Ne(E),value:E};b.value.some(O=>O.value===E)||b.value.push(I),u(I,"toggle")}},v=n=>{n===""?P.value=b.value:P.value=b.value.filter(u=>u.value===Number(n)||u.label===n).concat()},M=(n,u)=>{u(()=>v(n))},V=async n=>{var E,I;const u=n||p.value;if((E=o.value)!=null&&E.length&&u){L.value.add(e.apiKey);try{await R.setBalanceNotification(e.apiKey,{email:u,thresholds:((I=o.value)==null?void 0:I.slice(0,3))||[]})}finally{L.value.delete(e.apiKey)}g("update")}},C=async n=>{!n||!da(n)||n===p.value||V(n)},q=Yt(()=>{V()},1e3),S=n=>{var E,I,O;const u=(E=o.value)==null?void 0:E.indexOf(n);u===void 0||u<0||((I=o.value)==null||I.splice(u,1),(O=o.value)!=null&&O.length&&V())},y=n=>{var u;!n&&((u=o.value)!=null&&u.length)&&p.value&&h.dialog({title:i("key_manager.auto_reminder_cancel_title"),message:i("key_manager.auto_reminder_cancel_message"),cancel:!0}).onOk(async()=>{r.value=n,L.value.add(e.apiKey);try{await R.cancelBalanceNotification(e.apiKey)?o.value=[]:r.value=!n}finally{L.value.delete(e.apiKey)}g("update")}).onCancel(()=>{r.value=!0})};Ae(()=>{const n=Jt(o.value,b.value.map(u=>u.value));n.length&&(b.value.push(...n.map(u=>({label:Ne(u),value:u}))),b.value=Ot(b.value,"value","asc"))});const D={props:e,emit:g,email:p,autoReminder:r,thresholds:o,t:i,$q:h,embeddingStore:R,apiKeyStore:f,isBusyState:L,allOptions:b,filterOptions:P,hasError:N,createValue:w,updateFilterOptions:v,filterFn:M,saveConfig:V,saveEmail:C,saveThresholds:q,removeThreshold:S,updateAutoReminder:y,get QPopupEdit(){return at},get QSelect(){return Te},get testEmail(){return da},get formatNumberShort(){return Ne}};return Object.defineProperty(D,"__isScriptSetup",{enumerable:!1,value:!0}),D}}),yr={class:"ellipsis"};function pr(c,l,s,e,g,p){return _(),x(z,{clickable:"","click.stop":""},{default:t(()=>[e.$q.screen.gt.sm?(_(),x(K,{key:0,avatar:""},{default:t(()=>[a(te,{name:"alarm_smart_wake"})]),_:1})):U("",!0),a(K,null,{default:t(()=>[a(A,{class:"text-bold"},{default:t(()=>[k(m(e.t("key_manager.auto_reminder"))+" ",1),a(te,{name:s.isPaidKey?"verified":"lock"},{default:t(()=>[a(le,null,{default:t(()=>[k(m(e.t("key_manager.advanced_feature")),1)]),_:1})]),_:1},8,["name"])]),_:1}),a(A,{caption:"",lines:"2"},{default:t(()=>[k(m(e.t("key_manager.auto_reminder_description"))+" ",1),a(le,{"max-width":"40rem"},{default:t(()=>[k(m(e.t("key_manager.auto_reminder_description")),1)]),_:1})]),_:1}),e.autoReminder?(_(),x(A,{key:0,class:"cursor-pointer"},{default:t(()=>[k(m(e.t("key_manager.auto_reminder_email"))+": ",1),Z("b",null,m(e.email),1),s.isPaidKey&&e.autoReminder?(_(),x(te,{key:0,name:"edit",size:"20px",class:"on-right",color:"primary"})):U("",!0),a(e.QPopupEdit,{modelValue:e.email,"onUpdate:modelValue":l[0]||(l[0]=r=>e.email=r),buttons:"","label-set":e.t("key_manager.save"),"label-cancel":e.t("key_manager.cancel"),validate:e.testEmail,disable:!e.autoReminder,onSave:e.saveEmail},{default:t(r=>[a(xe,{modelValue:r.value,"onUpdate:modelValue":o=>r.value=o,dense:"",autofocus:"",rules:[o=>e.testEmail(o)||e.t("key_manager.invalid_email")],label:e.t("key_manager.auto_reminder_email"),onKeyup:We(he(r.set,["stop"]),["enter"])},null,8,["modelValue","onUpdate:modelValue","rules","label","onKeyup"])]),_:1},8,["modelValue","label-set","label-cancel","validate","disable"])]),_:1})):U("",!0)]),_:1}),a(K,{side:""},{default:t(()=>[a(ke,{modelValue:e.autoReminder,"onUpdate:modelValue":[l[1]||(l[1]=r=>e.autoReminder=r),e.updateAutoReminder],color:"primary",disable:!s.isPaidKey,"checked-icon":"check","unchecked-icon":"close"},{default:t(()=>[a(le,null,{default:t(()=>[k(m(e.t("key_manager.auto_reminder_toggle")),1)]),_:1})]),_:1},8,["modelValue","disable"])]),_:1}),a(K,{side:""},{default:t(()=>[a(e.QSelect,{square:"",outline:"","use-input":"","use-chips":"",multiple:"","emit-value":"","map-options":"","new-value-mode":"add",style:{"max-width":"160px"},modelValue:e.thresholds,"onUpdate:modelValue":[l[2]||(l[2]=r=>e.thresholds=r),e.saveThresholds],"max-values":3,error:e.hasError,"error-message":e.t("key_manager.auto_reminder_threshold_error"),label:e.t("key_manager.auto_reminder_threshold"),disable:!e.autoReminder,options:e.filterOptions,onNewValue:e.createValue,onFilter:e.filterFn,onKeyup:l[3]||(l[3]=We(he(()=>{},["stop"]),["enter"]))},{selected:t(()=>[(_(!0),ee(ne,null,fe(e.thresholds,r=>(_(),x(ve,{dense:"",key:r,square:"",removable:"","text-color":"primary",class:"bg-mixed-300",onRemove:o=>e.removeThreshold(r)},{default:t(()=>{var o;return[Z("div",yr,m(`< ${((o=e.allOptions.find(i=>i.value===r))==null?void 0:o.label)||e.formatNumberShort(r)} ${e.t("embedding.tokens")}`),1),a(le,null,{default:t(()=>[k(m(r),1)]),_:2},1024)]}),_:2},1032,["onRemove"]))),128))]),option:t(r=>[a(z,Ge(r.itemProps,{clickable:""}),{default:t(()=>[a(K,null,{default:t(()=>[a(A,null,{default:t(()=>[k(m(`< ${r.opt.label} ${e.t("embedding.tokens")}`)+" ",1),a(le,null,{default:t(()=>[k(m(r.opt.value),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","error","error-message","label","disable","options","onUpdate:modelValue"])]),_:1})]),_:1})}const hr=me(vr,[["render",pr],["__file","UsageReminderItem.vue"]]),br=ce({__name:"RevokeKeyDialog",props:{apiKey:{},isPremiumKey:{type:Boolean}},setup(c,{expose:l}){l();const{t:s}=ye({useScope:"global"}),{dialogRef:e,onDialogOK:g}=ta(),p=Ie(),{keys:r,keysInfoCache:o}=ge(p),i=T(""),h=T(!1),R=T(""),L={t:s,dialogRef:e,onDialogOK:g,apiKeyStore:p,keys:r,keysInfoCache:o,confirmKey:i,withTransfer:h,transferKey:R,onConfirm:async()=>{h.value&&R.value?g(R.value):g()},get formatKey(){return be}};return Object.defineProperty(L,"__isScriptSetup",{enumerable:!1,value:!0}),L}});function kr(c,l,s,e,g,p){return _(),x($e,{ref:"dialogRef"},{default:t(()=>[a(de,{flat:"",square:"",class:"bg-mixed-200 q-pa-md"},{default:t(()=>[a(re,{class:"text-h6"},{default:t(()=>[k(m(e.t("key_manager.revoke")),1)]),_:1}),a(re,null,{default:t(()=>[Z("div",null,m(e.t("key_manager.revoke_message")),1),a(xe,{autofocus:"",filled:"",square:"",class:"q-mt-md",modelValue:e.confirmKey,"onUpdate:modelValue":l[0]||(l[0]=r=>e.confirmKey=r),rules:[r=>r===s.apiKey||e.t("key_manager.revoke_error")],label:e.t("key_manager.revoke_label")},{prepend:t(()=>[a(te,{name:"o_key"})]),_:1},8,["modelValue","rules","label"]),s.isPremiumKey?(_(),x(Ma,{key:0,modelValue:e.withTransfer,"onUpdate:modelValue":l[1]||(l[1]=r=>e.withTransfer=r),label:e.t("key_manager.transfer_before_revoke")},null,8,["modelValue","label"])):U("",!0),s.isPremiumKey&&e.withTransfer?(_(),x(Te,{key:1,square:"",filled:"","emit-value":"",clearable:"",modelValue:e.transferKey,"onUpdate:modelValue":l[2]||(l[2]=r=>e.transferKey=r),options:e.keys.filter(r=>r.key!==s.apiKey&&e.keysInfoCache[r.key].user_id),"option-value":r=>r.key,label:e.t("key_manager.transfer_label")},ea({"no-option":t(()=>[a(z,null,{default:t(()=>[a(K,null,{default:t(()=>[a(A,null,{default:t(()=>[k(m(e.t("key_manager.no_transferable_keys")),1)]),_:1})]),_:1})]),_:1})]),option:t(r=>[a(z,Ge(r.itemProps,{clickable:""}),{default:t(()=>[a(K,{side:""},{default:t(()=>[a(te,{name:"o_key",class:Ke({"golden-foil":e.apiKeyStore.isPremiumPaidKey(r.opt.key),"silver-foil":e.apiKeyStore.isPaidKey(r.opt.key)})},null,8,["class"])]),_:2},1024),a(K,null,{default:t(()=>[a(A,null,{default:t(()=>[Z("code",null,m(e.formatKey(r.opt.key)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},[e.transferKey?{name:"selected",fn:t(()=>[a(ve,{label:e.formatKey(e.transferKey),dense:"","text-color":"primary",class:"bg-mixed-300"},null,8,["label"])]),key:"0"}:void 0]),1032,["modelValue","options","option-value","label"])):U("",!0)]),_:1}),a(pa,{align:"right"},{default:t(()=>[Ce(a(ae,{flat:"",label:e.t("key_manager.cancel")},null,8,["label"]),[[He]]),a(ae,{flat:"",label:e.t("key_manager.ok"),color:"primary",disable:e.confirmKey!==s.apiKey,onClick:e.onConfirm},null,8,["label","disable"])]),_:1})]),_:1})]),_:1},512)}const wr=me(br,[["render",kr],["__file","RevokeKeyDialog.vue"]]),Er=ce({__name:"SettingsDialog",props:{apiKey:{},metadata:{}},setup(c,{expose:l}){l();const s=c,e=Re(),{t:g}=ye({useScope:"global"}),{dialogRef:p,onDialogOK:r}=ta(),o=qe(),{user:i}=ge(o),h=Ie(),{isBusyState:R,keys:f,primaryKey:L,keysInfoCache:b}=ge(h),P=T(),N=T(!1),w=T(""),v=T([]),M=T(!0),V=T(1e6),C=T(""),q=Q(()=>!h.isFreeKey(s.apiKey)),S=Q(()=>h.isPremiumPaidKey(s.apiKey)),y=Q(()=>{var H;return q.value&&!!((H=P.value)!=null&&H.metadata.auto_recharge)}),D=Q(()=>{var H;return!!((H=P==null?void 0:P.value)!=null&&H.user_id)}),n=Q(()=>!D.value||R.value.has(s.apiKey)),u=Q(()=>{var H,$;return(($=(H=s.metadata)==null?void 0:H.roles)==null?void 0:$.includes("readonly"))||!1}),E=Q(()=>{var H;return((H=P.value)==null?void 0:H.metadata.disable_self_purchase)||!1}),I=async()=>{await h.getKeyInfo(s.apiKey,!0),O()},O=async()=>{var H,$,ie,B,F,oe,pe,Ee,_e,Me,Pe;P.value=b.value[s.apiKey],N.value=!tr(($=(H=P.value)==null?void 0:H.wallet)==null?void 0:$.metadata),w.value=((F=(B=(ie=P.value)==null?void 0:ie.wallet)==null?void 0:B.metadata)==null?void 0:F.notification_email)||i.value.email||"",v.value=((Ee=(pe=(oe=P.value)==null?void 0:oe.wallet)==null?void 0:pe.metadata)==null?void 0:Ee.notification_thresholds)||[],M.value=((_e=P.value)==null?void 0:_e.metadata.auto_recharge)||!1,V.value=((Pe=(Me=P.value)==null?void 0:Me.metadata)==null?void 0:Pe.threshold)||1e6};O();const G=()=>{if(L.value===s.apiKey&&f.value.length===1){e.notify({message:g("key_manager.remove_primary_key"),color:"negative",icon:"error"});return}e.dialog({title:g("key_manager.remove_title"),message:g("key_manager.remove_message"),cancel:!0,persistent:!0}).onOk(async()=>{var H;await h.removeKey(s.apiKey),e.notify({message:g("key_manager.remove_success",{_key:be(s.apiKey)}),icon:"done"}),L.value===s.apiKey&&h.setPrimaryKey(f.value[0].key),(H=p.value)==null||H.hide()})},Y=()=>{if(L.value===s.apiKey&&f.value.length===1){e.notify({message:g("key_manager.remove_primary_key"),color:"negative",icon:"error"});return}e.dialog({component:wr,componentProps:{apiKey:s.apiKey,isPremiumKey:S.value}}).onOk(H=>{r({action:we.REVOKE,key:s.apiKey,transferTo:H})})},X=H=>{var $;H&&e.dialog({title:g("key_manager.transfer_title"),message:`<div>
    ${g("key_manager.transfer_message",{_tokens:"<b>"+ra((($=P.value)==null?void 0:$.wallet.regular_balance)||0)+"</b>",_source:'<code class="bg-mixed-300">'+be(s.apiKey)+"</code>",_target:'<code class="bg-mixed-300">'+be(C.value)+" </code>"})}
      <div>`,html:!0,cancel:!0,persistent:!0}).onOk(async()=>{r({action:we.TRANSFER,source:s.apiKey,target:C.value})})},j=T(!1),W=()=>{!s.apiKey||u.value||j.value||(Je(s.apiKey).then(()=>{e.notify({message:g("copy_to_clipboard_success"),icon:"done"}),j.value=!0,gtag==null||gtag("event","embedding_copy_api_key",{location:document.location.href})}),setTimeout(()=>{j.value=!1},1800))};je(()=>b.value[s.apiKey],()=>{O()});const se={props:s,$q:e,t:g,dialogRef:p,onDialogOK:r,userStore:o,user:i,apiKeyStore:h,isBusyState:R,keys:f,primaryKey:L,keysInfoCache:b,apiKeyInfo:P,autoReminder:N,email:w,reminderThresholds:v,autoRecharge:M,rechargeThreshold:V,transferKey:C,isPaidKey:q,isPremiumPaidKey:S,isAutoCharge:y,isInputApiKeyValid:D,isInputApiKeyDisabled:n,readonlyKey:u,isSelfPurchaseDisabled:E,getKeyInfo:I,init:O,onRemove:G,onRevoke:Y,onTransfer:X,isApiKeyCopyDone:j,copyApiKey:W,get formatKey(){return be},AutoRechargeItem:Et,UsageReminderItem:hr};return Object.defineProperty(se,"__isScriptSetup",{enumerable:!1,value:!0}),se}});function Tr(c,l,s,e,g,p){return _(),x($e,{ref:"dialogRef",onBeforeShow:e.getKeyInfo},{default:t(()=>[a(de,{class:"bg-mixed-200",flat:"",square:"",style:{width:"900px","max-width":"80vw"}},{default:t(()=>[a(re,null,{default:t(()=>[a(z,null,{default:t(()=>[e.$q.screen.gt.sm?(_(),x(K,{key:0,avatar:""},{default:t(()=>[a(te,{name:"settings"})]),_:1})):U("",!0),a(K,null,{default:t(()=>[a(A,{class:"text-bold"},{default:t(()=>[k(m(e.t("key_manager.settings")),1)]),_:1}),a(A,{caption:"",style:{"font-family":"monospace"},lines:"1",class:"text-primary cursor-pointer",onClick:e.copyApiKey},{default:t(()=>[a(ve,{icon:"o_key",label:e.formatKey(e.props.apiKey),square:"",size:"sm",class:"bg-mixed-300",ripple:!e.readonlyKey},null,8,["label","ripple"])]),_:1})]),_:1}),a(K,{side:""},{default:t(()=>[Ce(a(ae,{icon:"close",flat:"",round:"",dense:""},null,512),[[He]])]),_:1})]),_:1})]),_:1}),a(ue),e.isBusyState.has(s.apiKey)?(_(),x(Le,{key:0,indeterminate:"",size:"1px"})):U("",!0),a(re,null,{default:t(()=>[a(Oe,{class:"q-gutter-y-sm"},{default:t(()=>[!e.readonlyKey&&!e.isSelfPurchaseDisabled?(_(),x(e.AutoRechargeItem,{key:0,"api-key":s.apiKey,"api-key-info":e.apiKeyInfo,"is-paid-key":e.isPaidKey,"is-auto-charge":e.isAutoCharge,mode:"dashboard","auto-recharge":e.autoRecharge,"onUpdate:autoRecharge":l[0]||(l[0]=r=>e.autoRecharge=r),"recharge-threshold":e.rechargeThreshold,"onUpdate:rechargeThreshold":l[1]||(l[1]=r=>e.rechargeThreshold=r),disable:e.isInputApiKeyDisabled,"navigate-to-purchase":!0,onUpdate:e.getKeyInfo},null,8,["api-key","api-key-info","is-paid-key","is-auto-charge","auto-recharge","recharge-threshold","disable"])):U("",!0),a(e.UsageReminderItem,{"api-key":s.apiKey,"api-key-info":e.apiKeyInfo,"is-paid-key":e.isPremiumPaidKey,"auto-reminder":e.autoReminder,"onUpdate:autoReminder":l[2]||(l[2]=r=>e.autoReminder=r),email:e.email,"onUpdate:email":l[3]||(l[3]=r=>e.email=r),thresholds:e.reminderThresholds,"onUpdate:thresholds":l[4]||(l[4]=r=>e.reminderThresholds=r),onUpdate:e.getKeyInfo},null,8,["api-key","api-key-info","is-paid-key","auto-reminder","email","thresholds"]),!e.readonlyKey&&!e.isSelfPurchaseDisabled?(_(),x(z,{key:1,tag:"label"},{default:t(()=>[e.$q.screen.gt.sm?(_(),x(K,{key:0,avatar:""},{default:t(()=>[a(te,{name:"sync"})]),_:1})):U("",!0),a(K,null,{default:t(()=>[a(A,{class:"text-bold"},{default:t(()=>[k(m(e.t("key_manager.transfer_title"))+" ",1),a(te,{name:e.isPremiumPaidKey?"verified":"lock"},{default:t(()=>[a(le,null,{default:t(()=>[k(m(e.t("key_manager.advanced_feature")),1)]),_:1})]),_:1},8,["name"])]),_:1}),a(A,{caption:"",lines:"2"},{default:t(()=>[k(m(e.t("key_manager.transfer_explain")),1)]),_:1})]),_:1}),a(K,{side:""},{default:t(()=>[a(Te,{square:"",outline:"","emit-value":"",clearable:"",style:{width:"220px"},modelValue:e.transferKey,"onUpdate:modelValue":[l[5]||(l[5]=r=>e.transferKey=r),e.onTransfer],options:e.keys.filter(r=>{var o;return r.key!==s.apiKey&&((o=e.keysInfoCache[r.key])==null?void 0:o.user_id)}),"option-value":r=>r.key,label:e.t("key_manager.transfer_label"),disable:!e.isPremiumPaidKey},ea({"no-option":t(()=>[a(z,null,{default:t(()=>[a(K,null,{default:t(()=>[a(A,null,{default:t(()=>[k(m(e.t("key_manager.no_transferable_keys")),1)]),_:1})]),_:1})]),_:1})]),option:t(r=>[a(z,Ge(r.itemProps,{clickable:""}),{default:t(()=>[a(K,{side:""},{default:t(()=>[a(te,{name:"o_key",class:Ke({"golden-foil":e.apiKeyStore.isPremiumPaidKey(r.opt.key),"silver-foil":e.apiKeyStore.isPaidKey(r.opt.key)})},null,8,["class"])]),_:2},1024),a(K,null,{default:t(()=>[a(A,null,{default:t(()=>[Z("code",null,m(e.formatKey(r.opt.key)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},[e.transferKey?{name:"selected",fn:t(()=>[a(ve,{label:e.formatKey(e.transferKey),dense:"","text-color":"primary",class:"bg-mixed-300"},null,8,["label"])]),key:"0"}:void 0]),1032,["modelValue","options","option-value","label","disable"])]),_:1})]),_:1})):U("",!0),a(z,{tag:"label"},{default:t(()=>[e.$q.screen.gt.sm?(_(),x(K,{key:0,avatar:""},{default:t(()=>[a(te,{name:"delete",color:"negative"})]),_:1})):U("",!0),a(K,null,{default:t(()=>[a(A,{class:"text-bold text-negative"},{default:t(()=>[k(m(e.t("key_manager.remove_title")),1)]),_:1}),a(A,{caption:"",lines:"2"},{default:t(()=>[k(m(e.t("key_manager.remove_explain")),1)]),_:1})]),_:1}),a(K,{side:""},{default:t(()=>[a(ae,{flat:"",square:"",color:"negative",label:e.t("key_manager.remove"),onClick:e.onRemove,disable:e.isBusyState.has(s.apiKey)},null,8,["label","disable"])]),_:1})]),_:1}),!e.readonlyKey&&!e.isSelfPurchaseDisabled?(_(),x(z,{key:2,tag:"label"},{default:t(()=>[e.$q.screen.gt.sm?(_(),x(K,{key:0,avatar:""},{default:t(()=>[a(te,{name:"delete_forever",color:"negative"})]),_:1})):U("",!0),a(K,null,{default:t(()=>[a(A,{class:"text-bold text-negative"},{default:t(()=>[k(m(e.t("key_manager.revoke_title")),1)]),_:1}),a(A,{caption:"",lines:"2"},{default:t(()=>[k(m(e.t("key_manager.revoke_explain")),1)]),_:1})]),_:1}),a(K,{side:""},{default:t(()=>[a(ae,{flat:"",square:"",color:"negative",label:e.t("key_manager.revoke"),onClick:e.onRevoke,disable:e.isBusyState.has(s.apiKey)||!e.isInputApiKeyValid},null,8,["label","disable"])]),_:1})]),_:1})):U("",!0)]),_:1})]),_:1})]),_:1})]),_:1},512)}const Rr=me(Er,[["render",Tr],["__file","SettingsDialog.vue"]]),Sr=ce({__name:"KeyItem",props:{apiKey:{}},emits:["execute"],setup(c,{expose:l,emit:s}){var $,ie;l();const e=c,g=s,{t:p}=ye({useScope:"global"}),r=Re(),o=Ie(),i=Se(),{keysInfoCache:h,isBusyState:R}=ge(o),f=qe(),{user:L}=ge(f),b=T(""),P=Q(()=>{var B,F,oe;return(oe=(F=(B=e.apiKey.metadata)==null?void 0:B.roles)==null?void 0:F.includes("readonly"))!=null?oe:!1}),N=Q({get:()=>e.apiKey.isPrimary?e.apiKey.key:"",set:async B=>{var F;if(B){if(await o.getKeyInfo(e.apiKey.key,!0),!((F=h.value[e.apiKey.key])!=null&&F.user_id)){r.notify({message:p("key_manager.invalid_key"),icon:"warning"});return}await o.setPrimaryKey(e.apiKey.key),i.apiKey=e.apiKey.key,r.notify({caption:p("key_manager.primary_key_set_caption"),message:p("key_manager.primary_key_set",{_apiKey:be(e.apiKey.key)}),icon:"done"})}}}),w=T(!0),v=T(((ie=($=e.apiKey.metadata)==null?void 0:$.labels)!=null?ie:[]).slice()),M=T(null),V=Q(()=>{var B,F;return v.value.join("").trim()!==((F=(B=e.apiKey.metadata)==null?void 0:B.labels)!=null?F:[]).join("").trim()}),C=()=>{var B,F;v.value=((F=(B=e.apiKey.metadata)==null?void 0:B.labels)!=null?F:[]).slice()},q=async()=>{var B;if(w.value)w.value=!1,await ha(),(B=M.value)==null||B.focus();else if(V.value)try{await o.updateKey(e.apiKey.key,{...e.apiKey.metadata,labels:v.value}),r.notify({message:p("key_manager.labels_updated"),icon:"done"}),w.value=!0}catch(F){r.notify({message:F instanceof Error?F.message:String(F),icon:"warning"}),C()}else w.value=!0},S=Q(()=>o.isPremiumPaidKey(e.apiKey.key)),y=Q(()=>o.isPaidKey(e.apiKey.key)),D=Q(()=>o.isFreeKey(e.apiKey.key)),n=Q(()=>{var B;return!((B=h.value[e.apiKey.key])!=null&&B.user_id)}),u=Q(()=>{var B,F,oe;return(oe=(F=(B=h.value[e.apiKey.key])==null?void 0:B.wallet)==null?void 0:F.metadata)==null?void 0:oe.notification_email}),E=Q(()=>{var B,F,oe;return(oe=(F=(B=h.value[e.apiKey.key])==null?void 0:B.wallet)==null?void 0:F.metadata)==null?void 0:oe.notification_thresholds}),I=()=>{P.value||r.dialog({component:Dt,componentProps:{purchaseKey:e.apiKey.key}})},O=B=>{!B||b.value||P.value||(Je(B).then(()=>{r.notify({message:p("copy_to_clipboard_success"),icon:"done"}),b.value=B,gtag==null||gtag("event","embedding_copy_api_key",{location:document.location.href,subLocation:"sefo-api-key-manager"})}),setTimeout(()=>{b.value=""},1800))},G=B=>{r.dialog({component:Tt,componentProps:{apiKey:B}})},Y=B=>{r.dialog({component:Rr,componentProps:{apiKey:B,metadata:e.apiKey.metadata}}).onOk(F=>{g("execute",F.action,F)})},X=T(!1),j=async()=>{X.value||r.dialog({message:p("key_manager.share_key_confirm_message"),title:p("key_manager.share_key_confirm_title"),ok:{flat:!0,icon:"content_copy",padding:"md",square:!0,label:p("key_manager.copy_share_link"),textColor:"primary"}}).onOk(async()=>{var pe,Ee;X.value=!0;const B=window.location.origin+"/api-dashboard",F=e.apiKey.key,oe=L.value.displayName||((Ee=(pe=L.value.email)==null?void 0:pe.split("@"))==null?void 0:Ee[0])||"";try{const _e=await xt(B,oe,F,{readonly:P.value});Je(_e).then(()=>{r.notify({message:p("key_manager.share_link_copied"),icon:"done"})})}catch(_e){console.error(_e),r.notify({message:_e instanceof Error?_e.message:String(_e),icon:"warning"})}finally{X.value=!1}})},W=B=>{var pe,Ee;const F=B.target;if(!F)return;const oe=(Ee=(pe=F.value)==null?void 0:pe.trim())!=null?Ee:"";oe&&(F.value="",v.value.push(oe))},se=Q(()=>{var oa;const B=h.value[e.apiKey.key];if(!(B!=null&&B.usage)||!((oa=B==null?void 0:B.wallet)!=null&&oa.total_balance)||n.value)return null;const F=B.wallet.total_balance;if(F<=0)return{date:new Date,message:p("key_manager.tokens_depleted"),percentage:100};const oe=new Date,pe=new Date(oe);pe.setHours(pe.getHours()-24);const _e=B.usage.filter(Ue=>Ue.type==="consume"&&new Date(Ue.created_at)>=pe).reduce((Ue,Pa)=>Ue+Pa.quantity,0);if(_e===0)return{date:null,message:p("key_manager.no_recent_usage"),percentage:0};const Me=_e/24,Pe=F/Me,Be=new Date(oe);Be.setHours(Be.getHours()+Pe);const Ra=F+_e,Sa=Math.min(100,Math.round(_e/Ra*100));return{date:Be,message:p("key_manager.token_expiry_estimate",{_date:De.formatDate(Be,"YYYY-MM-DD HH:mm"),_days:Math.floor(Pe/24),_hours:Math.floor(Pe%24)}),hoursRemaining:Math.round(Pe),daysRemaining:Math.floor(Pe/24),percentage:Sa}}),H={props:e,emit:g,t:p,$q:r,apiKeyStore:o,embeddingStore:i,keysInfoCache:h,isBusyState:R,userStore:f,user:L,isApiKeyCopyDone:b,readonlyKey:P,primaryKey:N,isReadOnly:w,labels:v,labelsRef:M,isLabelsDirty:V,resetLabels:C,updateLabels:q,isPremiumPaidKey:S,isPaidKey:y,isFreeKey:D,isInvalidKey:n,notifyEmail:u,notifyThresholds:E,onBuy:I,onCopy:O,openUsageHistoryDialog:G,openSettingsDialog:Y,isShareBusy:X,onShare:j,onLabelsBlur:W,tokenExpiryInfo:se,get date(){return De},get QSelect(){return Te},UsageChart:gr,get formatNumber(){return ra},get formatNumberShort(){return Ne},get formatKey(){return be}};return Object.defineProperty(H,"__isScriptSetup",{enumerable:!1,value:!0}),H}}),Pr={class:"column full-width"},Dr={style:{"font-family":"monospace"},class:"text-bold"},xr={key:0},Kr={key:1};function Vr(c,l,s,e,g,p){return _(),ee("div",Pr,[e.isBusyState.has(s.apiKey.key)?(_(),x(Le,{key:0,indeterminate:"",size:"1px"})):U("",!0),a(z,{class:Ke(["full-width key-item",{"column q-gutter-y-lg":e.$q.screen.lt.md,"text-dim":e.isInvalidKey}]),tag:"label",clickable:!e.readonlyKey},{default:t(()=>[a(K,{class:"col-md-3"},{default:t(()=>[a(z,null,{default:t(()=>[e.readonlyKey?U("",!0):(_(),x(K,{key:0,side:""},{default:t(()=>[a(ba,{disable:e.isInvalidKey||e.readonlyKey,modelValue:e.primaryKey,"onUpdate:modelValue":l[0]||(l[0]=r=>e.primaryKey=r),val:s.apiKey.key,dense:""},null,8,["disable","modelValue","val"]),a(le,null,{default:t(()=>[k(m(e.primaryKey===s.apiKey.key?e.t("key_manager.primary_key_set_caption"):e.t("key_manager.primary_key")),1)]),_:1})]),_:1})),a(K,{side:""},{default:t(()=>[a(te,{name:"o_key",class:Ke({"golden-foil":e.isPremiumPaidKey,"silver-foil":!e.isPremiumPaidKey&&e.isPaidKey})},{default:t(()=>[a(le,null,{default:t(()=>[k(m(e.isInvalidKey?e.t("key_manager.invalid_key"):e.isFreeKey?e.t("key_manager.free_key"):e.isPaidKey?e.t("paywall.standard_key"):e.t("key_manager.subscribed_key")),1)]),_:1})]),_:1},8,["class"])]),_:1}),a(K,null,{default:t(()=>{var r,o,i;return[(r=s.apiKey.metadata)!=null&&r.sharedFrom?(_(),x(A,{key:0,caption:""},{default:t(()=>[k(m(e.t("key_manager.shared_from",{_user:s.apiKey.metadata.sharedFrom})),1)]),_:1})):U("",!0),a(A,{class:"row items-center q-gutter-x-sm no-wrap"},{default:t(()=>{var h;return[Z("span",Dr,m(e.formatKey(s.apiKey.key)),1),e.notifyEmail&&((h=e.notifyThresholds)!=null&&h.length)?(_(),x(te,{key:0,name:"alarm_smart_wake"},{default:t(()=>[a(le,null,{default:t(()=>[k(m(e.t("key_manager.auto_reminder_info",{_email:e.notifyEmail,_threshold:e.notifyThresholds.map(R=>e.formatNumberShort(R)).join(", ")})),1)]),_:1})]),_:1})):U("",!0),e.readonlyKey?U("",!0):(_(),x(ae,{key:1,flat:"",square:"",size:"sm",dense:"",icon:e.isApiKeyCopyDone===s.apiKey.key?"check":"content_copy",color:e.isApiKeyCopyDone===s.apiKey.key?"primary":"",onClick:l[1]||(l[1]=he(R=>e.onCopy(s.apiKey.key),["stop"]))},{default:t(()=>[a(le,null,{default:t(()=>[k(m(e.t("key_manager.copy")),1)]),_:1})]),_:1},8,["icon","color"]))]}),_:1}),e.isInvalidKey?U("",!0):(_(),x(A,{key:1,caption:"",class:Ke(((i=(o=e.keysInfoCache[s.apiKey.key])==null?void 0:o.wallet)==null?void 0:i.total_balance)<0?"text-negative":"")},{default:t(()=>{var h,R,f;return[k(m(e.formatNumber((f=(R=(h=e.keysInfoCache[s.apiKey.key])==null?void 0:h.wallet)==null?void 0:R.total_balance)!=null?f:0)+" "+e.t("embedding.tokens")),1)]}),_:1},8,["class"])),e.isInvalidKey&&!e.isBusyState.has(s.apiKey.key)?(_(),x(A,{key:2,caption:"",class:"text-negative"},{default:t(()=>[a(te,{name:"warning"}),k(" "+m(e.t("key_manager.invalid_key")),1)]),_:1})):U("",!0),e.tokenExpiryInfo&&!e.isInvalidKey?(_(),x(A,{key:3,caption:"",class:"token-expiry-info text-dim"},{default:t(()=>[Z("span",{class:Ke({"text-negative":e.tokenExpiryInfo.hoursRemaining<24,"text-warning":e.tokenExpiryInfo.hoursRemaining<48&&e.tokenExpiryInfo.hoursRemaining>24})},m(e.tokenExpiryInfo.message),3),a(le,null,{default:t(()=>{var h,R;return[e.tokenExpiryInfo.date?(_(),ee("div",xr,m(e.t("key_manager.token_expiry_detail",{_date:e.date.formatDate(e.tokenExpiryInfo.date,"YYYY-MM-DD HH:mm"),_rate:e.formatNumber(((R=(h=e.keysInfoCache[s.apiKey.key])==null?void 0:h.usage)==null?void 0:R.reduce((f,L)=>L.type==="consume"&&new Date(L.created_at)>=new Date(Date.now()-24*60*60*1e3)?f+L.quantity/24:f,0))||0)+" "+e.t("key_manager.tokens_per_hour")})),1)):(_(),ee("div",Kr,m(e.t("key_manager.token_expiry_no_rate")),1))]}),_:1})]),_:1})):U("",!0)]}),_:1})]),_:1})]),_:1}),a(K,{class:"col-md-2"},{default:t(()=>[a(e.QSelect,{ref:"labelsRef",modelValue:e.labels,"onUpdate:modelValue":l[3]||(l[3]=r=>e.labels=r),square:"",multiple:"","use-input":"","use-chips":"",readonly:e.isReadOnly,outlined:!e.isReadOnly,borderless:e.isReadOnly,"hide-dropdown-icon":"","input-debounce":"0","new-value-mode":"add-unique","input-class":"cursor-pointer",disable:e.isInvalidKey||e.isBusyState.has(s.apiKey.key),onKeyupCapture:l[4]||(l[4]=We(he(()=>{},["stop"]),["enter"])),onBlurCapture:he(e.onLabelsBlur,["stop"])},{selected:t(()=>[(_(!0),ee(ne,null,fe(e.labels,r=>(_(),x(ve,{key:r,square:"",dense:"",style:{"border-radius":"0"},class:"bg-mixed-200",label:r},null,8,["label"]))),128))]),append:t(()=>[e.isLabelsDirty?(_(),ee(ne,{key:0},[a(ae,{dense:"",square:"",flat:"",icon:"close",onClick:l[2]||(l[2]=r=>e.resetLabels())},{default:t(()=>[a(le,null,{default:t(()=>[k(m(e.t("key_manager.revert_changes")),1)]),_:1})]),_:1}),a(ae,{dense:"",square:"",flat:"",icon:"check",color:"primary",onClick:e.updateLabels},{default:t(()=>[a(le,null,{default:t(()=>[k(m(e.t("key_manager.update_label")),1)]),_:1})]),_:1})],64)):U("",!0)]),_:1},8,["modelValue","readonly","outlined","borderless","disable"])]),_:1}),a(K,{class:"col-md-3 no-wrap"},{default:t(()=>{var r,o;return[(r=e.keysInfoCache[s.apiKey.key])!=null&&r.last_used_at?(_(),x(A,{key:0,caption:"",style:{"font-size":"0.7em"}},{default:t(()=>{var i;return[k(m(e.t("key_manager.last_used")+": "+e.date.formatDate((i=e.keysInfoCache[s.apiKey.key])==null?void 0:i.last_used_at,"YYYY-MM-DD HH:mm")),1)]}),_:1})):U("",!0),(o=e.keysInfoCache[s.apiKey.key])!=null&&o.usage&&!e.isInvalidKey?(_(),x(A,{key:1},{default:t(()=>{var i;return[a(e.UsageChart,{"api-key":s.apiKey,usage:(i=e.keysInfoCache[s.apiKey.key])==null?void 0:i.usage},null,8,["api-key","usage"])]}),_:1})):U("",!0)]}),_:1}),e.$q.screen.gt.sm?(_(),x(ka,{key:0,class:"col"})):U("",!0),a(K,{side:"",class:Ke(["actions-section",{"always-show":e.primaryKey===s.apiKey.key}])},{default:t(()=>[a(wa,{flat:"",square:"",class:"full-height"},{default:t(()=>{var r,o;return[!e.readonlyKey&&!((o=(r=e.keysInfoCache[s.apiKey.key])==null?void 0:r.metadata)!=null&&o.disable_self_purchase)?(_(),x(ae,{key:0,flat:"",square:"",disable:e.isInvalidKey,icon:"add_shopping_cart",onClick:he(e.onBuy,["stop"]),"no-wrap":"",label:e.t("key_manager.top_up")},{default:t(()=>[a(le,null,{default:t(()=>[k(m(e.t("key_manager.purchase")),1)]),_:1})]),_:1},8,["disable","label"])):U("",!0),a(ae,{flat:"",square:"",disable:e.isInvalidKey,icon:"history",label:e.t("key_manager.usage"),"no-wrap":"",onClick:l[5]||(l[5]=he(i=>e.openUsageHistoryDialog(s.apiKey.key),["stop"]))},{default:t(()=>[a(le,null,{default:t(()=>[k(m(e.t("key_manager.usage_history")),1)]),_:1})]),_:1},8,["disable","label"]),a(ae,{square:"",flat:"",icon:"rate_review",onClick:he(e.updateLabels,["stop"]),color:e.isReadOnly?void 0:"primary"},{default:t(()=>[a(le,{"max-width":"300px"},{default:t(()=>[k(m(e.t("key_manager.add_key_labels_explain")),1)]),_:1})]),_:1},8,["color"]),a(ae,{flat:"",square:"",disable:e.isInvalidKey,icon:"share",loading:e.isShareBusy,onClick:he(e.onShare,["stop"])},{default:t(()=>[a(le,null,{default:t(()=>[k(m(e.t("key_manager.share")),1)]),_:1})]),_:1},8,["disable","loading"]),a(ae,{flat:"",square:"",padding:"md",icon:"more_horiz",onClick:l[6]||(l[6]=he(i=>e.openSettingsDialog(s.apiKey.key),["stop"]))},{default:t(()=>[a(le,null,{default:t(()=>[k(m(e.t("key_manager.advance_settings")),1)]),_:1})]),_:1})]}),_:1})]),_:1},8,["class"])]),_:1},8,["class","clickable"]),a(ue)])}const Lr=me(Sr,[["render",Vr],["__scopeId","data-v-138ff54a"],["__file","KeyItem.vue"]]),Ar=ce({__name:"KeysTable",setup(c,{expose:l}){l();const{t:s}=ye({useScope:"global"}),e=Re(),g=Ie(),p=qe(),r=Se(),{keys:o,isLoading:i,primaryKey:h}=ge(g),{user:R}=ge(p),{products:f}=ge(r),L=T(null),b=T(void 0),P={[we.GENERATE]:async j=>{i.value=!0;try{const W=await r.generate0TokenApiKey(j);W&&(await g.addKey(W,b.value),e.notify({message:s("key_manager.generate_success",{_key:be(W)}),icon:"done"}))}finally{b.value=void 0,i.value=!1}},[we.REVOKE]:async j=>{var W;i.value=!0;try{let se;if(n.value?se=await r.transferToken({source:D.value,target:n.value,withRevoke:!0},j):se=await r.revokeApiKey(D.value,j),se){e.notify({message:s("key_manager.revoke_success",{_key:be(D.value)}),icon:"done"}),n.value&&g.getKeyInfo(n.value,!0);const H=h.value===D.value;await g.removeKey(D.value),H&&await g.setPrimaryKey((W=o.value[0])==null?void 0:W.key)}}finally{D.value="",n.value="",i.value=!1}},[we.TRANSFER]:async j=>{i.value=!0;try{await r.transferToken({source:E.value,target:u.value},j)&&(e.notify({message:s("key_manager.transfer_success",{_source:be(E.value),_target:be(u.value)}),icon:"done"}),g.getKeyInfo(E.value,!0),g.getKeyInfo(u.value,!0))}finally{i.value=!1,E.value="",u.value=""}}},N=async j=>{var W;console.log("handle key in callback"),L.value&&await((W=P[L.value])==null?void 0:W.call(P,j))},{turnstileToken:w,turnstileRef:v,turnstileVisible:M,proceeding:V,onUpdateToken:C,checkReady:q,resetVariables:S}=tt(N),y=T(""),D=T(""),n=T(""),u=T(""),E=T(""),I=Q(()=>o.value.some(j=>!g.isFreeKey(j.key))),O=Q(()=>{const j=y.value.toLowerCase();return o.value.filter(W=>{var H;const se=((H=W.metadata)==null?void 0:H.labels)||[];return se.length>0&&se.some(ie=>ie.toLowerCase().includes(j))?!0:W.key.toLowerCase().includes(j)}).sort((W,se)=>{var ie,B,F,oe;const H=((B=(ie=W.metadata)==null?void 0:ie.roles)==null?void 0:B.includes("readonly"))||!1,$=((oe=(F=se.metadata)==null?void 0:F.roles)==null?void 0:oe.includes("readonly"))||!1;return H?1:$?-1:0})}),G=()=>{e.dialog({component:cr}).onOk(async({action:j,metadata:W})=>{b.value=W,j===we.GENERATE&&(L.value=we.GENERATE,q()&&(await N(w.value),S(),gtag==null||gtag("event","add_new_key",{location:document.location.href})))})},Y=(j,W)=>{j===we.REVOKE?(D.value=W.key,n.value=W.transferTo):j===we.TRANSFER&&(u.value=W.target,E.value=W.source),L.value=j,q()&&(N(w.value),S())};Ae(async()=>{await g.fetchKeys(),g.checkPrimaryKey(),f.value.length===0&&await r.getProducts()});const X={t:s,$q:e,apiKeyStore:g,userStore:p,embeddingStore:r,keys:o,isLoading:i,primaryKey:h,user:R,products:f,currentAction:L,currentMetadata:b,actionCallback:P,handleTurnstileCb:N,turnstileToken:w,turnstileRef:v,turnstileVisible:M,proceeding:V,onUpdateToken:C,checkReady:q,resetVariables:S,filterQuery:y,revokeKey:D,revokeWithTransferKey:n,transferTarget:u,transferSource:E,hasPaidKey:I,visibleKeys:O,openApiKeyDialog:G,onExecute:Y,KeyItem:Lr,TurnstileComponent:rt};return Object.defineProperty(X,"__isScriptSetup",{enumerable:!1,value:!0}),X}});function Ir(c,l,s,e,g,p){return _(),x(de,{class:"fit"},{default:t(()=>[a(wt,{ref:"decisionTable",grid:"",rows:e.visibleKeys,flat:"","row-key":"_id","hide-header":"",loading:e.isLoading||e.proceeding,pagination:{rowsPerPage:10},"card-container-class":"tour-optimizer-result-table"},{top:t(()=>[a(de,{class:"full-width",flat:"",square:""},{default:t(()=>[a(re,{class:"row q-pa-none"},{default:t(()=>[a(ae,{disable:!e.user.uid||e.isLoading,flat:"",square:"","no-caps":"",padding:"md",icon:"add",label:e.t("key_manager.add"),onClick:e.openApiKeyDialog},null,8,["disable","label"]),a(ae,{disable:!e.hasPaidKey,flat:"",square:"",padding:"md",icon:"receipt_long",label:e.t("embedding.manage_billing"),stretch:"",href:"https://stripe.jina.ai",target:"_blank","no-caps":""},{default:t(()=>[a(le,null,{default:t(()=>[k(m(e.t("embedding.manage_billing_tip")),1)]),_:1})]),_:1},8,["disable","label"]),a(ae,{flat:"",label:e.t("header.contact_us"),square:"",icon:"handshake",to:"/api-dashboard/contact-sales",padding:"md","no-caps":""},null,8,["label"]),a(xe,{filled:"",square:"",class:"full-width",debounce:"300",modelValue:e.filterQuery,"onUpdate:modelValue":l[0]||(l[0]=r=>e.filterQuery=r),placeholder:e.t("key_manager.filter_by")},{prepend:t(()=>[a(te,{name:"filter_alt"})]),_:1},8,["modelValue","placeholder"])]),_:1}),a(ue)]),_:1})]),item:t(r=>[(_(),x(e.KeyItem,{key:r.row.key,"api-key":r.row,onExecute:e.onExecute},null,8,["api-key"]))]),_:1},8,["rows","loading"]),e.turnstileVisible?(_(),x(e.TurnstileComponent,{key:0,ref:"turnstileRef",modelValue:e.turnstileToken,"onUpdate:modelValue":[l[1]||(l[1]=r=>e.turnstileToken=r),e.onUpdateToken]},null,8,["modelValue","onUpdate:modelValue"])):U("",!0)]),_:1})}const Cr=me(Ar,[["render",Ir],["__file","KeysTable.vue"]]),ga="https://api.jina.ai/v1/classify",Ye=6,Or=ce({__name:"AvatarTab",setup(c,{expose:l}){l();const{t:s}=ye({useScope:"global"}),e=Re(),g=T(!1),p=T([]),r=T(null),o=T(!1),i=T(""),h=T(""),R=Se(),f=T(null),L=y=>{f.value=y},b={accessories:{Eyepatch:"person wearing a mysterious black eye patch",Glasses:"person wearing modern round glasses with clear lenses","Glasses 2":"person wearing thin-framed contemporary glasses","Glasses 3":"person wearing classic rectangular glasses","Glasses 4":"person wearing vintage round glasses","Glasses 5":"person wearing designer wire-frame glasses",None:"person without any eyewear or accessories",Sunglasses:"person wearing fashionable dark sunglasses","Sunglasses 2":"person wearing sporty aviator sunglasses"},body:{"Blazer Black Tee":"person wearing a black t-shirt under a professional blazer","Button Shirt 1":"person in a crisp button-up dress shirt","Button Shirt 2":"person in a light colored button-up shirt",Coffee:"person holding a coffee cup in casual attire",Device:"person using a mobile device in casual wear",Dress:"person wearing an elegant flowing dress",Explaining:"person gesturing while explaining in business attire","Fur Jacket":"person wearing a luxurious fur jacket",Gaming:"person in gaming attire with controller","Gym Shirt":"person wearing athletic workout clothes",Hoodie:"person in a comfortable casual hoodie",Killer:"person in dark mysterious attire",Macbook:"person working on laptop in casual clothes",Paper:"person holding papers in professional attire","Pointing Up":"person gesturing upward in business wear","Polka Dot Jacket":"person in playful polka dot jacket","Polo and Sweater":"person wearing polo shirt under sweater","Shirt and Coat":"person in formal shirt and coat combination","Sporty Tee":"person in athletic sports t-shirt","Striped Pocket Tee":"person in casual striped t-shirt with pocket","Striped Tee":"person wearing horizontal striped t-shirt",Sweater:"person in cozy knit sweater","Sweater Dots":"person wearing sweater with polka dot pattern","Tee 1":"person in basic solid t-shirt","Tee 2":"person in casual graphic t-shirt","Tee Arms Crossed":"person with crossed arms in t-shirt","Tee Selena":"person in fitted casual t-shirt","Thunder T-Shirt":"person wearing t-shirt with thunder design",Turtleneck:"person in sophisticated black turtleneck",Whatever:"person in casual wear with relaxed pose"},face:{"Angry with Fang":"person with an intense angry expression showing fangs",Awe:"person with an expression of wonder and amazement",Blank:"person with a neutral blank expression",Calm:"person with serene peaceful expression",Cheeky:"person with a playful mischievous expression",Concerned:"person with a worried concerned expression","Concerned Fear":"person with a worried fearful expression",Contempt:"person with a disdainful contemptuous expression",Cute:"person with adorable cheerful expression",Cyclops:"person has only one one-eye",Driven:"person with determined focused expression","Eating Happy":"person with a joyful expression while eating",Explaining:"person with an animated expression while explaining","Eyes Closed":"person with a peaceful expression and closed eyes",Fear:"person with a frightened fearful expression",Hectic:"person with a frantic overwhelmed expression","Loving Grin 1":"person with gentle loving smile","Loving Grin 2":"person with bright heartfelt smile",Monster:"person with a playful monster-like expression",Old:"person with an aged wise expression",Rage:"person with an intense angry expression",Serious:"person with professional serious expression",Smile:"person with friendly welcoming smile","Smile Big":"person with broad enthusiastic smile","Smile LOL":"person with joyful laughing expression","Smile Teeth Gap":"person with charming gap-toothed smile",Solemn:"person with a deeply serious thoughtful expression",Suspicious:"person with a skeptical suspicious expression",Tired:"person with an exhausted weary expression","Very Angry":"person with an extremely angry expression"},head:{Afro:"person with natural afro hairstyle",Bangs:"person with straight front bangs","Bangs 2":"person with side-swept bangs","Bantu Knots":"person with traditional bantu knots hairstyle",Bear:"person with bear-themed hairstyle",Bun:"person with hair styled in neat bun","Bun 2":"person with messy top bun",Buns:"person with double hair buns",Cornrows:"person with cornrow braided hairstyle","Cornrows 2":"person with intricate cornrow design","Flat Top":"person with classic flat top haircut","Flat Top Long":"person with long flat top haircut","Gray Bun":"person with gray hair in bun","Gray Medium":"person with medium-length gray hair","Gray Short":"person with short gray hair",Long:"person with long flowing hair","Long Afro":"person with long voluminous afro","Long Bangs":"person with long layered bangs","Long Curly":"person with long curly hair","Medium 1":"person with shoulder-length hair","Medium 2":"person with wavy medium hair","Medium 3":"person with textured medium hair","Medium Bangs":"person with medium hair and bangs","Medium Bangs 2":"person with feathered medium bangs","Medium Bangs 3":"person with side-parted medium bangs","Medium Straight":"person with straight medium-length hair",Mohawk:"person with classic mohawk style","Mohawk 2":"person with longer mohawk variation","No Hair 1":"person with smooth bald head","No Hair 2":"person with polished bald style","No Hair 3":"person with completely shaved head",Pomp:"person with pompadour hairstyle","Shaved 1":"person with partially shaved head style","Shaved 2":"person with modern shaved haircut","Shaved 3":"person with artistic shaved design","Short 1":"person with short textured cut","Short 2":"person with short faded haircut","Short 3":"person with short spiky style","Short 4":"person with short layered cut","Short 5":"person with short tapered haircut",Twists:"person with twisted loc hairstyle","Twists 2":"person with longer twisted locs","hat-beanie":"person wearing a casual beanie hat","hat-hip":"person wearing a trendy hip-hop style hat"}};async function P(y){var D;try{const n=y.includes("base64,")?y.split("base64,")[1]:y,u=await fetch(ga,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${R.apiKey}`},body:JSON.stringify({model:(D=f==null?void 0:f.value)==null?void 0:D.name,input:[{image:n}],labels:{accessories:Object.values(b.accessories),body:Object.values(b.body),face:Object.values(b.face),head:Object.values(b.head)}})});if(!u.ok)throw new Error(`Classification failed: ${u.status}`);return await u.json()}catch(n){throw console.error("Classification error:",n),n}}async function N(y,D){try{return(await qt(Object.assign({"../../assets/avatar/accessories/Eyepatch.svg":()=>d(()=>import("./Eyepatch-CPtCE8NI.js"),[]),"../../assets/avatar/accessories/Glasses 2.svg":()=>d(()=>import("./Glasses 2-CisVqvW9.js"),[]),"../../assets/avatar/accessories/Glasses 3.svg":()=>d(()=>import("./Glasses 3--AGI-_U5.js"),[]),"../../assets/avatar/accessories/Glasses 4.svg":()=>d(()=>import("./Glasses 4-CkCSLu0z.js"),[]),"../../assets/avatar/accessories/Glasses 5.svg":()=>d(()=>import("./Glasses 5-BnBdJIiD.js"),[]),"../../assets/avatar/accessories/Glasses.svg":()=>d(()=>import("./Glasses-bHTDfG2F.js"),[]),"../../assets/avatar/accessories/None.svg":()=>d(()=>import("./None-CBIsyCCu.js"),[]),"../../assets/avatar/accessories/Sunglasses 2.svg":()=>d(()=>import("./Sunglasses 2-Bm0kyZv8.js"),[]),"../../assets/avatar/accessories/Sunglasses.svg":()=>d(()=>import("./Sunglasses-CCXW1Ow2.js"),[]),"../../assets/avatar/body/Blazer Black Tee.svg":()=>d(()=>import("./Blazer Black Tee-CCvV2dgG.js"),[]),"../../assets/avatar/body/Button Shirt 1.svg":()=>d(()=>import("./Button Shirt 1-CmLXOUNx.js"),[]),"../../assets/avatar/body/Button Shirt 2.svg":()=>d(()=>import("./Button Shirt 2-s_x7_Ujv.js"),[]),"../../assets/avatar/body/Coffee.svg":()=>d(()=>import("./Coffee-BWgpJV-A.js"),[]),"../../assets/avatar/body/Device.svg":()=>d(()=>import("./Device-DEcjonbR.js"),[]),"../../assets/avatar/body/Dress.svg":()=>d(()=>import("./Dress-_6EnLKsY.js"),[]),"../../assets/avatar/body/Explaining.svg":()=>d(()=>import("./Explaining-DadwYvu0.js"),[]),"../../assets/avatar/body/Fur Jacket.svg":()=>d(()=>import("./Fur Jacket-CdWbrdPB.js"),[]),"../../assets/avatar/body/Gaming.svg":()=>d(()=>import("./Gaming-BDiAmtUY.js"),[]),"../../assets/avatar/body/Gym Shirt.svg":()=>d(()=>import("./Gym Shirt-DQCaFZ3f.js"),[]),"../../assets/avatar/body/Hoodie.svg":()=>d(()=>import("./Hoodie-B07UN-Nl.js"),[]),"../../assets/avatar/body/Killer.svg":()=>d(()=>import("./Killer-DTtnEXXI.js"),[]),"../../assets/avatar/body/Macbook.svg":()=>d(()=>import("./Macbook-CZ7Tiuu8.js"),[]),"../../assets/avatar/body/Paper.svg":()=>d(()=>import("./Paper-DK__jVLJ.js"),[]),"../../assets/avatar/body/Pointing Up.svg":()=>d(()=>import("./Pointing Up-DMSWjUIR.js"),[]),"../../assets/avatar/body/Polka Dot Jacket.svg":()=>d(()=>import("./Polka Dot Jacket-Ccaxzz07.js"),[]),"../../assets/avatar/body/Polo and Sweater.svg":()=>d(()=>import("./Polo and Sweater-DtFh9BfC.js"),[]),"../../assets/avatar/body/Shirt and Coat.svg":()=>d(()=>import("./Shirt and Coat-CUM3_bbN.js"),[]),"../../assets/avatar/body/Sporty Tee.svg":()=>d(()=>import("./Sporty Tee-DC-mJGrt.js"),[]),"../../assets/avatar/body/Striped Pocket Tee.svg":()=>d(()=>import("./Striped Pocket Tee-CIvIqxDn.js"),[]),"../../assets/avatar/body/Striped Tee.svg":()=>d(()=>import("./Striped Tee-DNfZDSQM.js"),[]),"../../assets/avatar/body/Sweater Dots.svg":()=>d(()=>import("./Sweater Dots-BlH7xuFs.js"),[]),"../../assets/avatar/body/Sweater.svg":()=>d(()=>import("./Sweater-CuOBOSOz.js"),[]),"../../assets/avatar/body/Tee 1.svg":()=>d(()=>import("./Tee 1-BAomRkw9.js"),[]),"../../assets/avatar/body/Tee 2.svg":()=>d(()=>import("./Tee 2-C4UUC6VK.js"),[]),"../../assets/avatar/body/Tee Arms Crossed.svg":()=>d(()=>import("./Tee Arms Crossed-Cd7ErYZG.js"),[]),"../../assets/avatar/body/Tee Selena.svg":()=>d(()=>import("./Tee Selena-BuBczbrL.js"),[]),"../../assets/avatar/body/Thunder T-Shirt.svg":()=>d(()=>import("./Thunder T-Shirt-R3FQYUZD.js"),[]),"../../assets/avatar/body/Turtleneck.svg":()=>d(()=>import("./Turtleneck-CBu5E31v.js"),[]),"../../assets/avatar/body/Whatever.svg":()=>d(()=>import("./Whatever-C_L7o4PD.js"),[]),"../../assets/avatar/face/Angry with Fang.svg":()=>d(()=>import("./Angry with Fang-Cz56tpGA.js"),[]),"../../assets/avatar/face/Awe.svg":()=>d(()=>import("./Awe-BZkmV47x.js"),[]),"../../assets/avatar/face/Blank.svg":()=>d(()=>import("./Blank-NsmhZSM1.js"),[]),"../../assets/avatar/face/Calm.svg":()=>d(()=>import("./Calm-CPd4QvYU.js"),[]),"../../assets/avatar/face/Cheeky.svg":()=>d(()=>import("./Cheeky-CiEXIAta.js"),[]),"../../assets/avatar/face/Concerned Fear.svg":()=>d(()=>import("./Concerned Fear-DW5JY4CD.js"),[]),"../../assets/avatar/face/Concerned.svg":()=>d(()=>import("./Concerned-BgtD4Mod.js"),[]),"../../assets/avatar/face/Contempt.svg":()=>d(()=>import("./Contempt-CvrrLjDN.js"),[]),"../../assets/avatar/face/Cute.svg":()=>d(()=>import("./Cute-BwsaONwn.js"),[]),"../../assets/avatar/face/Cyclops.svg":()=>d(()=>import("./Cyclops-DTp1IdXY.js"),[]),"../../assets/avatar/face/Driven.svg":()=>d(()=>import("./Driven-De_O7WVZ.js"),[]),"../../assets/avatar/face/Eating Happy.svg":()=>d(()=>import("./Eating Happy-BgMnwg9g.js"),[]),"../../assets/avatar/face/Explaining.svg":()=>d(()=>import("./Explaining-THnIdgyB.js"),[]),"../../assets/avatar/face/Eyes Closed.svg":()=>d(()=>import("./Eyes Closed-CdI1KQdq.js"),[]),"../../assets/avatar/face/Fear.svg":()=>d(()=>import("./Fear-BexFCH5R.js"),[]),"../../assets/avatar/face/Hectic.svg":()=>d(()=>import("./Hectic-AExjuXjY.js"),[]),"../../assets/avatar/face/Loving Grin 1.svg":()=>d(()=>import("./Loving Grin 1-B_w88qcc.js"),[]),"../../assets/avatar/face/Loving Grin 2.svg":()=>d(()=>import("./Loving Grin 2-zoGieaDF.js"),[]),"../../assets/avatar/face/Monster.svg":()=>d(()=>import("./Monster-C1lwNnn2.js"),[]),"../../assets/avatar/face/Old.svg":()=>d(()=>import("./Old-D4BSyuLE.js"),[]),"../../assets/avatar/face/Rage.svg":()=>d(()=>import("./Rage-B2uNaaGQ.js"),[]),"../../assets/avatar/face/Serious.svg":()=>d(()=>import("./Serious-DI3hxq-4.js"),[]),"../../assets/avatar/face/Smile Big.svg":()=>d(()=>import("./Smile Big-aT5CkwfB.js"),[]),"../../assets/avatar/face/Smile LOL.svg":()=>d(()=>import("./Smile LOL-DC93Zyi_.js"),[]),"../../assets/avatar/face/Smile Teeth Gap.svg":()=>d(()=>import("./Smile Teeth Gap-DBZFawB0.js"),[]),"../../assets/avatar/face/Smile.svg":()=>d(()=>import("./Smile-0Wibgfy8.js"),[]),"../../assets/avatar/face/Solemn.svg":()=>d(()=>import("./Solemn-CxgWcI-i.js"),[]),"../../assets/avatar/face/Suspicious.svg":()=>d(()=>import("./Suspicious-D7j672A1.js"),[]),"../../assets/avatar/face/Tired.svg":()=>d(()=>import("./Tired-D_AtxcGW.js"),[]),"../../assets/avatar/face/Very Angry.svg":()=>d(()=>import("./Very Angry-D5F4ua3s.js"),[]),"../../assets/avatar/facialHair/Chin.svg":()=>d(()=>import("./Chin-DUNkMTkI.js"),[]),"../../assets/avatar/facialHair/Full 2.svg":()=>d(()=>import("./Full 2-gHgrzbn6.js"),[]),"../../assets/avatar/facialHair/Full 3.svg":()=>d(()=>import("./Full 3-Ds9Mi2Pn.js"),[]),"../../assets/avatar/facialHair/Full 4.svg":()=>d(()=>import("./Full 4-CpyHDOKi.js"),[]),"../../assets/avatar/facialHair/Full.svg":()=>d(()=>import("./Full--tLCytme.js"),[]),"../../assets/avatar/facialHair/Goatee 1.svg":()=>d(()=>import("./Goatee 1-CjxWNkM4.js"),[]),"../../assets/avatar/facialHair/Goatee 2.svg":()=>d(()=>import("./Goatee 2-DX91ea6G.js"),[]),"../../assets/avatar/facialHair/Moustache 1.svg":()=>d(()=>import("./Moustache 1-DCfFyVoz.js"),[]),"../../assets/avatar/facialHair/Moustache 2.svg":()=>d(()=>import("./Moustache 2-DvTVVVR4.js"),[]),"../../assets/avatar/facialHair/Moustache 3.svg":()=>d(()=>import("./Moustache 3-7DebNHil.js"),[]),"../../assets/avatar/facialHair/Moustache 4.svg":()=>d(()=>import("./Moustache 4-SJn7FG3B.js"),[]),"../../assets/avatar/facialHair/Moustache 5.svg":()=>d(()=>import("./Moustache 5-44Xj2EZF.js"),[]),"../../assets/avatar/facialHair/Moustache 6.svg":()=>d(()=>import("./Moustache 6-CEr5yFL1.js"),[]),"../../assets/avatar/facialHair/Moustache 7.svg":()=>d(()=>import("./Moustache 7-Bq0VvETl.js"),[]),"../../assets/avatar/facialHair/Moustache 8.svg":()=>d(()=>import("./Moustache 8-mUxMyGGc.js"),[]),"../../assets/avatar/facialHair/Moustache 9.svg":()=>d(()=>import("./Moustache 9-DOisYSjS.js"),[]),"../../assets/avatar/facialHair/None.svg":()=>d(()=>import("./None-DgNcDPcG.js"),[]),"../../assets/avatar/head/Afro.svg":()=>d(()=>import("./Afro-BcTe8cjZ.js"),[]),"../../assets/avatar/head/Bangs 2.svg":()=>d(()=>import("./Bangs 2-8gDxCaJT.js"),[]),"../../assets/avatar/head/Bangs.svg":()=>d(()=>import("./Bangs-VMnv_1Bg.js"),[]),"../../assets/avatar/head/Bantu Knots.svg":()=>d(()=>import("./Bantu Knots-FkG8IqlL.js"),[]),"../../assets/avatar/head/Bear.svg":()=>d(()=>import("./Bear-B_wppsaW.js"),[]),"../../assets/avatar/head/Bun 2.svg":()=>d(()=>import("./Bun 2-EtBMU_d9.js"),[]),"../../assets/avatar/head/Bun.svg":()=>d(()=>import("./Bun-B7Kj-Cx2.js"),[]),"../../assets/avatar/head/Buns.svg":()=>d(()=>import("./Buns-0MUj_y-O.js"),[]),"../../assets/avatar/head/Cornrows 2.svg":()=>d(()=>import("./Cornrows 2-m36CFRMN.js"),[]),"../../assets/avatar/head/Cornrows.svg":()=>d(()=>import("./Cornrows-D_tFOLo2.js"),[]),"../../assets/avatar/head/Flat Top Long.svg":()=>d(()=>import("./Flat Top Long-BYSVHErS.js"),[]),"../../assets/avatar/head/Flat Top.svg":()=>d(()=>import("./Flat Top-3MNwLsIB.js"),[]),"../../assets/avatar/head/Gray Bun.svg":()=>d(()=>import("./Gray Bun-6Dorz2Bf.js"),[]),"../../assets/avatar/head/Gray Medium.svg":()=>d(()=>import("./Gray Medium-lrleAuub.js"),[]),"../../assets/avatar/head/Gray Short.svg":()=>d(()=>import("./Gray Short-DEP2bB8l.js"),[]),"../../assets/avatar/head/Long Afro.svg":()=>d(()=>import("./Long Afro-CZArt9o6.js"),[]),"../../assets/avatar/head/Long Bangs.svg":()=>d(()=>import("./Long Bangs-CEgFEE8r.js"),[]),"../../assets/avatar/head/Long Curly.svg":()=>d(()=>import("./Long Curly-CzVOPxU6.js"),[]),"../../assets/avatar/head/Long.svg":()=>d(()=>import("./Long-mD9BOv0I.js"),[]),"../../assets/avatar/head/Medium 1.svg":()=>d(()=>import("./Medium 1-BIbsz7Fr.js"),[]),"../../assets/avatar/head/Medium 2.svg":()=>d(()=>import("./Medium 2-CnPtrhj9.js"),[]),"../../assets/avatar/head/Medium 3.svg":()=>d(()=>import("./Medium 3-B-FK1tKj.js"),[]),"../../assets/avatar/head/Medium Bangs 2.svg":()=>d(()=>import("./Medium Bangs 2-Cr7FTMco.js"),[]),"../../assets/avatar/head/Medium Bangs 3.svg":()=>d(()=>import("./Medium Bangs 3-CN81QHc8.js"),[]),"../../assets/avatar/head/Medium Bangs.svg":()=>d(()=>import("./Medium Bangs-DvU1aw27.js"),[]),"../../assets/avatar/head/Medium Straight.svg":()=>d(()=>import("./Medium Straight-C1jK9Qgd.js"),[]),"../../assets/avatar/head/Mohawk 2.svg":()=>d(()=>import("./Mohawk 2-BPHaakiH.js"),[]),"../../assets/avatar/head/Mohawk.svg":()=>d(()=>import("./Mohawk-BtkBrxTU.js"),[]),"../../assets/avatar/head/No Hair 1.svg":()=>d(()=>import("./No Hair 1-BM-4_kmR.js"),[]),"../../assets/avatar/head/No Hair 2.svg":()=>d(()=>import("./No Hair 2-DjnYbtaT.js"),[]),"../../assets/avatar/head/No Hair 3.svg":()=>d(()=>import("./No Hair 3-CDiHEwX9.js"),[]),"../../assets/avatar/head/Pomp.svg":()=>d(()=>import("./Pomp-Di6BypHV.js"),[]),"../../assets/avatar/head/Shaved 1.svg":()=>d(()=>import("./Shaved 1-DUFavbik.js"),[]),"../../assets/avatar/head/Shaved 2.svg":()=>d(()=>import("./Shaved 2-BIYv1-1_.js"),[]),"../../assets/avatar/head/Shaved 3.svg":()=>d(()=>import("./Shaved 3-DX966IJI.js"),[]),"../../assets/avatar/head/Short 1.svg":()=>d(()=>import("./Short 1-B-el4prz.js"),[]),"../../assets/avatar/head/Short 2.svg":()=>d(()=>import("./Short 2-YawmDo8u.js"),[]),"../../assets/avatar/head/Short 3.svg":()=>d(()=>import("./Short 3-Bq0t9n5E.js"),[]),"../../assets/avatar/head/Short 4.svg":()=>d(()=>import("./Short 4-B1nPxZXu.js"),[]),"../../assets/avatar/head/Short 5.svg":()=>d(()=>import("./Short 5-xc1sa6I2.js"),[]),"../../assets/avatar/head/Twists 2.svg":()=>d(()=>import("./Twists 2-1XiLWkyn.js"),[]),"../../assets/avatar/head/Twists.svg":()=>d(()=>import("./Twists-DxjfQDSj.js"),[]),"../../assets/avatar/head/hat-beanie.svg":()=>d(()=>import("./hat-beanie-3it8Xmnp.js"),[]),"../../assets/avatar/head/hat-hip.svg":()=>d(()=>import("./hat-hip-CbkFXWiS.js"),[])}),`../../assets/avatar/${y}/${D}.svg`,6)).default}catch(n){throw console.error("Error loading SVG:",n),e.notify({type:"negative",message:s("avatar.error_loading")}),n}}function w(y,D){return Object.entries(y).map(([n,u])=>({category:n,items:u.sort((E,I)=>I.score-E.score).slice(0,D).map(E=>{var I;return{label:E.label,score:E.score,feature:((I=Object.entries(b[n]).find(([O,G])=>G===E.label))==null?void 0:I[0])||Object.keys(b[n])[0]}})}))}function v(y,D){const n={};return y.forEach(({category:u,items:E})=>{const I=E[D%E.length];n[u]=I.feature}),n}async function M(){if(!h.value){e.notify({type:"warning",message:s("avatar.noImageSelected")});return}g.value=!0,p.value=[];try{const y=await P(h.value),D=w(y.data[0].predictions,Ye);for(let n=0;n<Ye;n++){const u=v(D,n),E=await Promise.all([N("body",u.body),N("head",u.head),N("face",u.face),N("accessories",u.accessories)]),I=["translate(0, 550)","translate(200, 50)","translate(320, 250)","translate(210, 310)"],G=`
        <svg
          width="380"
          height="380"
          viewBox="0 0 900 900"
          fill="none"
          stroke="black"
          stroke-width="0.8"
          stroke-linecap="round"
          stroke-linejoin="round"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g>
            ${E.map((Y,X)=>{const j=Y.slice(Y.indexOf(">",Y.indexOf("<svg"))+1).replace("</svg>","");return`<g transform="${I[X]}">${j}</g>`}).join("")}
          </g>
        </svg>
      `;p.value.push(G)}}catch(y){console.error("Error generating avatars:",y),p.value=[],e.notify({type:"negative",message:s("avatar.classificationError")})}finally{g.value=!1}}async function V(y){return new Promise((D,n)=>{const u=new Image,E=document.createElement("canvas"),I=E.getContext("2d");E.width=256,E.height=256,u.onload=()=>{const G=Math.max(E.width/u.width,E.height/u.height),Y=(E.width-u.width*G)/2,X=(E.height-u.height*G)/2;I.fillStyle="white",I.fillRect(0,0,E.width,E.height),I.drawImage(u,Y,X,u.width*G,u.height*G);const j=E.toDataURL(y.type),W=j.split(",")[1];i.value=j,h.value=W,D(W)},u.onerror=()=>{n(new Error(s("avatar.error_processing")))};const O=new FileReader;O.onload=G=>{u.src=G.target.result},O.onerror=()=>{n(new Error(s("avatar.error_processing")))},O.readAsDataURL(y)})}async function C(){if(r.value){o.value=!0;try{await V(r.value)}catch(y){console.error("Error processing image:",y),e.notify({type:"negative",message:s("avatar.error_processing")})}finally{o.value=!1}}else i.value=""}function q(y,D){const n=new Blob([y],{type:"image/svg+xml"}),u=window.URL.createObjectURL(n),E=document.createElement("a");E.href=u,E.download=`avatar-${D+1}.svg`,document.body.appendChild(E),E.click(),document.body.removeChild(E),window.URL.revokeObjectURL(u),e.notify({message:s("avatar.download_success",{index:D+1})})}const S={API_URL:ga,t:s,$q:e,isLoading:g,svgContents:p,TOP_N:Ye,selectedFile:r,isProcessing:o,processedImage:i,imageBase64:h,embeddingStore:R,currentModel:f,onModelItemClick:L,featureMapping:b,classifyImage:P,importSVG:N,getTopNPredictions:w,generateFeatureCombination:v,generateAvatar:M,processImage:V,handleFileSelect:C,downloadSVG:q,ModelDropDown:ot};return Object.defineProperty(S,"__isScriptSetup",{enumerable:!1,value:!0}),S}}),qr={class:"row full-width"},Mr={class:"row q-col-gutter-md"},Br=["innerHTML"];function Ur(c,l,s,e,g,p){return _(),x(de,{flat:"",class:"column no-wrap full-height"},{default:t(()=>[Z("div",qr,[a(kt,{class:"col",square:"",filled:"","input-class":"text-no-wrap ellipsis",modelValue:e.selectedFile,"onUpdate:modelValue":[l[0]||(l[0]=r=>e.selectedFile=r),e.handleFileSelect],label:e.t("avatar.select_file"),accept:".jpg,.jpeg,.png,.gif,.webp",loading:e.isProcessing},{prepend:t(()=>[e.processedImage?(_(),x(St,{key:1,src:e.processedImage,width:"24px",height:"24px"},null,8,["src"])):(_(),x(te,{key:0,name:"attach_file"}))]),_:1},8,["modelValue","label","loading"]),a(e.ModelDropDown,{currentModel:e.currentModel,indicator:!1,category:"clip",onChooseModel:e.onModelItemClick},null,8,["currentModel"]),a(ae,{square:"",flat:"","no-caps":"",padding:"md",label:e.t("avatar.generate"),onClick:e.generateAvatar,icon:"play_arrow",loading:e.isLoading,disable:!e.currentModel||!e.selectedFile},null,8,["label","loading","disable"]),a(ae,{square:"",flat:"",padding:"md","no-caps":"",label:e.t("avatar.how_does_it_work"),to:"/news/scaling-test-time-compute-for-embedding-models",icon:"help"},null,8,["label"])]),e.isProcessing||e.isLoading?(_(),x(Le,{key:0,indeterminate:"",size:"1px"})):U("",!0),a(ue),a(re,null,{default:t(()=>[Z("div",Mr,[(_(!0),ee(ne,null,fe(e.svgContents,(r,o)=>(_(),ee("div",{key:o,class:"col-auto"},[a(de,{flat:"",bordered:"",class:"cursor-pointer q-hoverable",onClick:i=>e.downloadSVG(r,o)},{default:t(()=>[l[1]||(l[1]=Z("span",{class:"q-focus-helper"},null,-1)),a(re,null,{default:t(()=>[Z("div",{class:"text-center",innerHTML:r},null,8,Br)]),_:2},1024)]),_:2},1032,["onClick"])]))),128))])]),_:1})]),_:1})}const Nr=me(Or,[["render",Ur],["__file","AvatarTab.vue"]]),Hr={...Ba,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:c=>c>=0&&c<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},Ze=50,Ea=2*Ze,Ta=Ea*Math.PI,jr=Math.round(Ta*1e3)/1e3,Gr=Ua({name:"QCircularProgress",props:{...Hr,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(c,{slots:l}){const{proxy:{$q:s}}=ja(),e=Na(c),g=Q(()=>{const b=(s.lang.rtl===!0?-1:1)*c.angle;return{transform:c.reverse!==(s.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-b}deg)`:`rotate3d(0, 0, 1, ${b-90}deg)`}}),p=Q(()=>c.instantFeedback!==!0&&c.indeterminate!==!0?{transition:`stroke-dashoffset ${c.animationSpeed}ms ease 0s, stroke ${c.animationSpeed}ms ease`}:""),r=Q(()=>Ea/(1-c.thickness/2)),o=Q(()=>`${r.value/2} ${r.value/2} ${r.value} ${r.value}`),i=Q(()=>Pt(c.value,c.min,c.max)),h=Q(()=>c.max-c.min),R=Q(()=>c.thickness/2*r.value),f=Q(()=>{const b=(c.max-i.value)/h.value,P=c.rounded===!0&&i.value<c.max&&b<.25?R.value/2*(1-b/.25):0;return Ta*b+P});function L({thickness:b,offset:P,color:N,cls:w,rounded:v}){return Ve("circle",{class:"q-circular-progress__"+w+(N!==void 0?` text-${N}`:""),style:p.value,fill:"transparent",stroke:"currentColor","stroke-width":b,"stroke-dasharray":jr,"stroke-dashoffset":P,"stroke-linecap":v,cx:r.value,cy:r.value,r:Ze})}return()=>{const b=[];c.centerColor!==void 0&&c.centerColor!=="transparent"&&b.push(Ve("circle",{class:`q-circular-progress__center text-${c.centerColor}`,fill:"currentColor",r:Ze-R.value/2,cx:r.value,cy:r.value})),c.trackColor!==void 0&&c.trackColor!=="transparent"&&b.push(L({cls:"track",thickness:R.value,offset:0,color:c.trackColor})),b.push(L({cls:"circle",thickness:R.value,offset:f.value,color:c.color,rounded:c.rounded===!0?"round":void 0}));const P=[Ve("svg",{class:"q-circular-progress__svg",style:g.value,viewBox:o.value,"aria-hidden":"true"},b)];return c.showValue===!0&&P.push(Ve("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:c.fontSize}},l.default!==void 0?l.default():[Ve("div",i.value)])),Ve("div",{class:`q-circular-progress q-circular-progress--${c.indeterminate===!0?"in":""}determinate`,style:e.value,role:"progressbar","aria-valuemin":c.min,"aria-valuemax":c.max,"aria-valuenow":c.indeterminate===!0?void 0:i.value},Ha(l.internal,P))}}}),Fr=ce({__name:"GroundingDemoComponent",props:{useLazyLoading:{type:Boolean,default:!0}},setup(c,{expose:l}){l();const s=c,e=Se(),{apiKey:g}=ge(e),{t:p}=ye({useScope:"global"}),r=T("In 2012, President Barack Hussein Obama repealed the Smith-Mundt act, which had been in place in 1948. The law prevented the government from putting its propaganda on TV and Radio."),o=T(!1),i=T(!0),h=T(0),R=T(null),f=T(null),L=T(null);let b=null;const P=Q(()=>{var y;return(y=R.value)==null?void 0:y.data}),N=Q(()=>{var y;return(y=P.value)!=null&&y.factuality?P.value.factuality*100:0}),w=Q(()=>{var y;return((y=P.value)==null?void 0:y.references.filter(D=>D.isSupportive))||[]}),v=Q(()=>{const y=Math.floor(h.value/1e3),D=Math.floor(h.value%1e3/100);return`${y}.${D} s`}),M=Q(()=>{var y,D;return f.value!==null?((y=P.value)==null?void 0:y.references.filter(n=>n.isSupportive===f.value))||[]:((D=P.value)==null?void 0:D.references)||[]}),V=y=>{f.value===y?f.value=null:f.value=y},C=async()=>{if(!r.value)return;i.value=!0,R.value=null;const y=Date.now(),D=`https://g.jina.ai/${encodeURIComponent(r.value)}${o.value?"?deepdive=true":""}`;try{const n=await fetch(D,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${g.value}`}});h.value=Date.now()-y,R.value=await n.json()}catch(n){R.value={message:n instanceof Error?n.message:String(n)}}finally{i.value=!1}},q=()=>{var D;const y=((D=L.value)==null?void 0:D.$el)||L.value;y instanceof HTMLElement?(b=new IntersectionObserver(n=>{n[0].isIntersecting&&(C(),b==null||b.disconnect())},{root:null,threshold:.1}),b.observe(y)):console.error("Element is not an HTMLElement:",y)};Ae(()=>{s.useLazyLoading?ha(()=>{setTimeout(()=>{q()},100)}):C()}),Ga(()=>{b&&b.disconnect()});const S={props:s,embeddingStore:e,apiKey:g,t:p,query:r,isDeepDive:o,isBusy:i,responseTime:h,response:R,filters:f,componentRef:L,get observer(){return b},set observer(y){b=y},responseData:P,factuality:N,supportiveNum:w,responseTimeString:v,references:M,onFilter:V,sendQuery:C,initIntersectionObserver:q,ref:T,get formatNumber(){return ra}};return Object.defineProperty(S,"__isScriptSetup",{enumerable:!1,value:!0}),S}}),Qr={class:"text-negative"};function zr(c,l,s,e,g,p){return _(),x(de,{ref:"componentRef",flat:"",square:"",bordered:"",class:"col-12 col-md-10"},{default:t(()=>{var r;return[a(re,{class:"q-pa-none"},{default:t(()=>[a(Mt,{onSubmit:e.sendQuery,ref:"formRef"},{default:t(()=>{var o,i;return[a(xe,{square:"",filled:"","bottom-slots":!!e.response,modelValue:e.query,"onUpdate:modelValue":l[1]||(l[1]=h=>e.query=h),disable:e.isBusy,clearable:"",label:e.t("reader.demo.your_statement")},ea({prepend:t(()=>[a(ke,{modelValue:e.isDeepDive,"onUpdate:modelValue":l[0]||(l[0]=h=>e.isDeepDive=h),disable:e.isBusy,"checked-icon":"biotech","icon-color":"black","unchecked-icon":"bolt"},{default:t(()=>[a(le,null,{default:t(()=>[k(m(e.t("reader.demo.headers.deepdive")),1)]),_:1})]),_:1},8,["modelValue","disable"])]),append:t(()=>[a(ae,{square:"",flat:"",icon:"send",padding:"md",loading:e.isBusy,onClick:e.sendQuery,type:"submit"},null,8,["loading"])]),_:2},[(o=e.response)!=null&&o.name||(i=e.response)!=null&&i.message?{name:"hint",fn:t(()=>[Z("span",Qr,[k(m(e.response.name||e.response.message)+" ",1),e.response.readableMessage?(_(),x(le,{key:0},{default:t(()=>[k(m(e.response.readableMessage),1)]),_:1})):U("",!0)])]),key:"0"}:e.response?{name:"hint",fn:t(()=>{var h;return[a(ve,{icon:"timer",label:`${e.responseTimeString}`,size:"sm",class:"text-dim bg-transparent"},null,8,["label"]),a(ve,{icon:"straighten",label:`${e.formatNumber(((h=e.responseData)==null?void 0:h.usage.tokens)||0)} ${e.t("embedding.tokens")}`,size:"sm",class:"text-dim bg-transparent"},null,8,["label"])]}),key:"1"}:void 0]),1032,["bottom-slots","modelValue","disable","label"])]}),_:1},512)]),_:1}),e.isBusy?(_(),x(Le,{key:0,indeterminate:"",size:"1px"})):U("",!0),e.responseData?(_(),x(re,{key:1,class:"q-mt-lg"},{default:t(()=>[a(z,null,{default:t(()=>[a(K,{side:""},{default:t(()=>[a(Gr,{"show-value":"",value:e.factuality,size:"60px",thickness:.1,color:e.factuality>50?"positive":"negative","track-color":"surface-mixed-200"},{default:t(()=>{var o,i;return[a(te,{name:(o=e.responseData)!=null&&o.result?"check":"close",color:(i=e.responseData)!=null&&i.result?"accent":"negative",size:"30px"},null,8,["name","color"])]}),_:1},8,["value","color"])]),_:1}),a(K,null,{default:t(()=>[a(A,{class:"text-bold"},{default:t(()=>[k(m(e.responseData.result?e.t("reader.demo.grounding_result_true"):e.t("reader.demo.grounding_result_false")),1)]),_:1}),a(A,{caption:""},{default:t(()=>{var o;return[k(m((o=e.responseData)==null?void 0:o.reason),1)]}),_:1})]),_:1}),a(K,{side:""},{default:t(()=>[a(wa,{outline:"",square:""},{default:t(()=>{var o,i,h;return[a(ae,{label:(o=e.supportiveNum)==null?void 0:o.length,icon:"thumb_up",square:"",onClick:l[2]||(l[2]=R=>e.onFilter(!0)),outline:""},null,8,["label"]),a(ue),a(ae,{label:(((i=e.responseData)==null?void 0:i.references.length)||0)-((h=e.supportiveNum)==null?void 0:h.length),icon:"thumb_down",square:"",onClick:l[3]||(l[3]=R=>e.onFilter(!1)),outline:""},null,8,["label"])]}),_:1})]),_:1})]),_:1})]),_:1})):U("",!0),(r=e.responseData)!=null&&r.references.length?(_(),x(re,{key:2},{default:t(()=>[a(Oe,null,{default:t(()=>[a(aa,{name:"list2"},{default:t(()=>[(_(!0),ee(ne,null,fe(e.references,o=>(_(),x(z,{clickable:"",key:o.url,href:o.url,target:"_blank",class:"card-details"},{default:t(()=>[a(K,{avatar:""},{default:t(()=>[a(te,{name:o.isSupportive?"thumb_up":"thumb_down",color:o.isSupportive?"positive":"negative"},null,8,["name","color"])]),_:2},1024),a(K,null,{default:t(()=>[a(A,{lines:"1",class:"text-italic"},{default:t(()=>[k("... "+m(o.keyQuote)+" ...",1)]),_:2},1024),a(A,{caption:""},{default:t(()=>[a(ve,{square:"",size:"sm",icon:`img:https://www.google.com/s2/favicons?sz=32&domain_url=${o.url}`,label:o.url,class:"text-caption q-mx-none bg-mixed-200",style:{"max-width":"60%"}},null,8,["icon","label"])]),_:2},1024)]),_:2},1024),a(K,{side:""},{default:t(()=>[a(te,{name:"open_in_new",size:"xs",class:"read-more-btn"})]),_:1})]),_:2},1032,["href"]))),128))]),_:1})]),_:1})]),_:1})):U("",!0)]}),_:1},512)}const Yr=me(Fr,[["render",zr],["__file","GroundingDemoComponent.vue"]]),Xr=ce({__name:"GroundingTab",setup(c,{expose:l}){l();const s={GroundingDemoComponent:Yr};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}});function Wr(c,l,s,e,g,p){return _(),x(de,{flat:"",class:"column no-wrap full-height"},{default:t(()=>[a(e.GroundingDemoComponent,{"use-lazy-loading":!1})]),_:1})}const Jr=me(Xr,[["render",Wr],["__scopeId","data-v-0622c9bb"],["__file","GroundingTab.vue"]]),Xe="https://llm-serp.jina.ai",Zr=ce({__name:"UsageComponent",setup(c,{expose:l}){l();const{t:s}=ye({useScope:"global"}),e=Re(),g=Se(),{apiKey:p}=ge(g),r=T(!1),o=T({}),i=T({q:"jina ai",location:""}),h=Q(()=>{const w={};for(const[v,M]of Object.entries(i.value))M&&(w[v]=M);return w}),R=T({}),f=T([{header:"Authorization",value:`Bearer ${p.value}`,label:"auth_token",type:"toggle",url:"/api-dashboard/rate-limit",get disabled(){return!p.value},get indicator(){return!!R.value[this.header]},set(w){w?R.value[this.header]=this.value:delete R.value[this.header]}},{label:"country",type:"select",value:i.value.gl,options:[{value:"Default"},...lt],indicator:!0,set(w){if(this.value=w,w==="Default"){delete i.value.gl;return}i.value.gl=w},init(){this.value="Default"}},{label:"location",type:"text",value:i.value.location,indicator:!0,set(w){this.value=w,i.value.location=w}},{label:"language",type:"select",value:i.value.hl,indicator:!0,options:[{value:"Default"},...st],set(w){if(this.value=w,w==="Default"){delete i.value.hl;return}i.value.hl=w},init(){this.value="Default"}},{label:"number",type:"select",options:[{value:10},{value:20},{value:30}],value:i.value.num,set(w){this.value=w||null;const v=Number(this.value);if(v===10){delete i.value.num;return}i.value.num=v},init(){this.set(10)}},{label:"page",type:"number",min:1,indicator:!0,value:i.value.page,set(w){this.value=w||null;const v=Number(this.value);if(v===1){delete i.value.page;return}i.value.page=v},init(){this.set(1)}}]),L=Q(()=>{for(const V of f.value)V.disabled&&V.set(!1);const w=["Content-Type: application/json"];for(const[V,C]of Object.entries(R.value))if(C){if(typeof C=="string")w.push(`${V}: ${C}`);else if(Array.isArray(C))for(const q of C)w.push(`${V}: ${q}`)}const v=w.map(V=>`  -H "${V}"`).join(`\\
`);return`
\`\`\`bash
${[`curl ${Xe}`,`${v}`,`  -d @- <<EOFEOF
  {
    ${JSON.stringify(h.value,null,4).slice(1,-1).trim()}
  }
EOFEOF`].join(` \\
`)}
\`\`\`
  `}),b=T(!1),P=async()=>{if(!p.value||!h.value.q)return;o.value={};const w={"Content-Type":"application/json"};for(const v of f.value)v.indicator&&v.header&&(w[v.header]=v.value);r.value=!0,fetch(Xe,{method:"POST",headers:w,body:JSON.stringify(h.value)}).then(async v=>{var M;if((M=v.headers.get("content-type"))!=null&&M.includes("text/event-stream")){if(v.body){o.value={status:v.status,statusText:v.statusText,eventStream:!0,data:[]};const V=v.body.getReader(),C=new TextDecoder;for(;;){const{done:q,value:S}=await V.read();if(q){b.value=!1,r.value=!1;break}S&&(b.value=!0,C.decode(S).split(`

`).forEach(n=>{const E=n.split(`
`).find(O=>O.startsWith("data: "));if(!E)return;const I=E.replace(/data: /g,"");try{I&&o.value.data.push(I)}catch(O){console.error("Error:",O)}}))}}}else{o.value={status:v.status,statusText:v.statusText};const V=await v.json();o.value.data={status:v.status,type:"json",content:V}}}).catch(v=>{console.error("Error:",v),o.value={status:500,data:v.message}}).finally(()=>{r.value=!1,b.value=!1})};Ae(()=>{f.value.forEach(w=>{w.init&&w.init()})});const N={t:s,$q:e,embeddingStore:g,apiKey:p,isBusy:r,response:o,payload:i,BASE_URL:Xe,adaptablePayload:h,headers:R,availableParameters:f,adaptableCode:L,isStreaming:b,onExecute:P,UsageHeader:nt,APIPanel:it};return Object.defineProperty(N,"__isScriptSetup",{enumerable:!1,value:!0}),N}});function $r(c,l,s,e,g,p){return _(),x(de,{flat:"",square:"",class:"column no-wrap full-height"},{default:t(()=>[a(e.UsageHeader,{"home-link":"/llm-serp-demo","issue-link":"https://github.com/jina-ai/node-serp/issues","is-support-c-s-p":!1,"api-link":""}),a(ue),a(re,{horizontal:e.$q.screen.gt.sm,class:"q-pa-none",style:{"flex-grow":"1"}},{default:t(()=>[a(re,{class:"col-md-6 col-lg-5 col-xl-4 q-pa-none"},{default:t(()=>[a(Oe,{class:"full-width"},{default:t(()=>[a(aa,{name:"list2"},{default:t(()=>[a(z,{key:"query",class:"q-pa-none"},{default:t(()=>[a(K,null,{default:t(()=>[a(xe,{type:"textarea",rows:"1",modelValue:e.payload.q,"onUpdate:modelValue":l[0]||(l[0]=r=>e.payload.q=r),class:"full-width text-caption",filled:"",square:"","hide-bottom-space":"",label:e.t("llm_serp.query_label"),rules:[r=>!!r]},{prepend:t(()=>[a(te,{name:"search"})]),_:1},8,["modelValue","label","rules"])]),_:1})]),_:1}),(_(!0),ee(ne,null,fe(e.availableParameters,r=>(_(),ee(ne,{key:r.label},[r.disabled?U("",!0):(_(),x(z,{tag:"label",key:r.label},{default:t(()=>[a(K,null,{default:t(()=>[a(A,null,{default:t(()=>[k(m(e.t(`llm_serp.parameters.${r.label}`)),1)]),_:2},1024),a(A,{caption:"",innerHTML:e.t(`llm_serp.parameters.${r.label}_explain`)},null,8,["innerHTML"]),r.url?(_(),x(A,{key:0,caption:"",class:"q-pt-sm"},{default:t(()=>[a(ae,{href:r.url,label:e.t("deepsearch.learn_more"),size:"xs",outline:"",square:"",icon:"open_in_new",target:"_blank"},null,8,["href","label"])]),_:2},1024)):U("",!0)]),_:2},1024),r.type==="toggle"?(_(),x(K,{key:0,side:""},{default:t(()=>[a(ke,{disable:r.disabled,"model-value":r.indicator,"onUpdate:modelValue":o=>r.set(o)},null,8,["disable","model-value","onUpdate:modelValue"])]),_:2},1024)):r.type==="text"||r.type==="number"?(_(),x(K,{key:1,side:""},{default:t(()=>[a(xe,{"model-value":r.value,"onUpdate:modelValue":o=>r.set(o),filled:"",square:"",type:r.type,min:r.min,style:{"max-width":"100px"},disable:!r.indicator},null,8,["model-value","onUpdate:modelValue","type","min","disable"])]),_:2},1024)):r.type==="select"?(_(),x(K,{key:2,side:""},{default:t(()=>[a(Te,{modelValue:r.value,"onUpdate:modelValue":[o=>r.value=o,o=>r.set(o)],options:r.options,style:{"min-width":"100px"},filled:"",square:"","hide-bottom-space":"","emit-value":"","map-options":""},{option:t(({opt:o,itemProps:i})=>[a(z,Ge({ref_for:!0},i),{default:t(()=>[a(K,null,{default:t(()=>[a(A,null,{default:t(()=>[Z("code",null,m(o.value),1)]),_:2},1024),a(A,{caption:""},{default:t(()=>[k(m(o.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),selected:t(()=>[a(K,null,{default:t(()=>[a(A,null,{default:t(()=>[Z("code",null,m(r.value),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue","options"])]),_:2},1024)):U("",!0)]),_:2},1024))],64))),128))]),_:1})]),_:1})]),_:1}),a(ue,{vertical:e.$q.screen.gt.sm},null,8,["vertical"]),a(e.APIPanel,{code:e.adaptableCode,onExecute:e.onExecute,loading:e.isBusy,"is-streaming":e.isStreaming,response:e.response,disabled:!e.apiKey},null,8,["code","loading","is-streaming","response","disabled"])]),_:1},8,["horizontal"])]),_:1})}const eo=me(Zr,[["render",$r],["__file","UsageComponent.vue"]]),ao=ce({__name:"CostEstimator",setup(c,{expose:l}){l();const{t:s}=ye({useScope:"global",inheritLocale:!0}),e=qe(),g=T("quarterly"),p=T(!1),r=T("business"),o=T(5);je(r,u=>{o.value=u==="business"?5:1e4});const i=T("standard"),h=T(3),R=T(!1),f=T("steady"),L=T({"jina-embeddings":!0,"jina-clip":!1,"jina-colbert":!1,"jina-reranker":!1,ReaderLM:!1}),b=T("standard"),P=T(!1),N=T(!1),w=T(!1),v={usageTiers:{business:[{limit:5,price:0},{limit:10,price:2e3},{limit:25,price:5e3},{limit:50,price:1e4},{limit:100,price:2e4}],consumer:[{limit:1e4,price:0},{limit:5e4,price:2e3},{limit:1e5,price:5e3},{limit:5e5,price:1e4},{limit:1e6,price:2e4}]},modelPrices:{"jina-embeddings":0,"jina-clip":5e3,"jina-colbert":3e3,"jina-reranker":4e3,ReaderLM:2e3},supportTiers:{standard:0,premium:5e3,enterprise:15e3},features:{priorityResponse:2e3,dedicatedCSM:8e3,customModelTraining:1e4},basePrice:5e3},M=Q(()=>{let u=v.basePrice;const E=v.usageTiers[r.value],I=E.find((O,G)=>o.value<=O.limit||G===E.length-1);if(u+=(I==null?void 0:I.price)||0,Object.entries(L.value).forEach(([O,G])=>{G&&v.modelPrices[O]>0&&(u+=v.modelPrices[O])}),u+=v.supportTiers[b.value],P.value&&(u+=v.features.priorityResponse),N.value&&(u+=v.features.dedicatedCSM),w.value&&(u+=v.features.customModelTraining),i.value==="poc")u=u*.4;else if(i.value==="department"){let O=.15;const G={limited:1,steady:.95,high:.9};R.value&&(u=u*1.1,O=.25),u=u*(1-O)*G[f.value]}return{monthly:u/3,quarterly:u,annual:u*4*.9,final:p.value?u*4*.9:u}}),V=[{label:s("estimator.labels.upTo",{count:5}),value:5},{label:s("estimator.labels.upTo",{count:10}),value:10},{label:s("estimator.labels.upTo",{count:25}),value:25},{label:s("estimator.labels.upTo",{count:50}),value:50},{label:s("estimator.labels.upTo",{count:100}),value:100}],C=[{label:s("estimator.labels.upTo",{count:1e4}),value:1e4},{label:s("estimator.labels.upTo",{count:5e4}),value:5e4},{label:s("estimator.labels.upTo",{count:1e5}),value:1e5},{label:s("estimator.labels.upTo",{count:5e5}),value:5e5},{label:s("estimator.labels.upTo",{count:1e6}),value:1e6}],q=Q(()=>r.value==="business"&&o.value>100||r.value==="consumer"&&o.value>1e6),S=Q({get(){return Object.entries(L.value).filter(([,u])=>u).map(([u])=>u)},set(u){for(let E of Object.keys(L.value))L.value[E]=!1;u.forEach(E=>{L.value[E]=!0})}}),y=["jina-embeddings","jina-clip","jina-colbert","jina-reranker","ReaderLM"],D=Q(()=>[i.value==="standard"&&{title:s("estimator.messaging.standardFeatures"),icon:null,items:[{label:s("estimator.messaging.baseModelIncluded"),hasCheckmark:!0},{label:s("estimator.messaging.supportTierIncluded",{tier:s(`estimator.support.${b.value}`),hours:s("estimator.support.hoursQuarter",{hours:b.value==="standard"?10:b.value==="premium"?25:40})}),hasCheckmark:!0},{label:s(r.value==="business"?"estimator.messaging.usageTierBusiness":"estimator.messaging.usageTierConsumer",{count:o.value.toLocaleString()}),hasCheckmark:!0}]},S.value.length>1&&{title:s("estimator.messaging.selectedModels"),icon:"info",items:S.value.map(u=>({label:u}))},(P.value||N.value||w.value)&&{title:s("estimator.messaging.additionalFeatures"),icon:"info",items:[P.value&&{label:s("estimator.features.priority")},N.value&&{label:s("estimator.features.csm")},w.value&&{label:s("estimator.features.training")}].filter(Boolean)},i.value==="poc"&&{title:s("estimator.messaging.pocIncludes"),icon:"info",items:[{label:s("estimator.messaging.pocMetrics")},{label:s("estimator.messaging.pocCheckins")},{label:s("estimator.messaging.pocMigration")}]},i.value==="department"&&{title:s("estimator.messaging.deptIncludes"),icon:"info",items:[{label:s("estimator.messaging.deptReviews")},{label:s("estimator.messaging.deptRoadmap")},R.value&&{label:s("estimator.messaging.deptSponsor")},f.value==="high"&&{label:s("estimator.messaging.deptWorkshops")}].filter(Boolean)},q.value&&{title:s("estimator.messaging.enterpriseAlert"),icon:"warning",isAlert:!0,items:[]}].filter(Boolean));Fa(()=>{e.setLicenseConfig({contractType:i.value,pocDuration:h.value,hasBusinessSponsor:i.value==="department"?R.value:void 0,expectedGrowth:i.value==="department"?f.value:void 0,selectedModels:S.value,supportTier:b.value,priorityResponse:P.value,dedicatedCSM:N.value,customModelTraining:w.value,usageType:r.value,usageCount:o.value,paymentFrequency:p.value?"annual":"quarterly",price:M.value.final})});const n={t:s,userStore:e,paymentFrequency:g,isAnnual:p,usageType:r,usageCount:o,contractType:i,pocDuration:h,hasBusinessSponsor:R,expectedGrowth:f,selectedModels:L,supportTier:b,priorityResponse:P,dedicatedCSM:N,customModelTraining:w,prices:v,calculateTotalPrice:M,businessUsageOptions:V,consumerUsageOptions:C,showEnterpriseAlert:q,selectedModelsArray:S,allModelOptions:y,featuresSections:D};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}});function to(c,l,s,e,g,p){return _(),x(de,{flat:"",class:"column no-wrap full-height"},{default:t(()=>[a(re,{horizontal:c.$q.screen.gt.sm,class:"full-height"},{default:t(()=>[a(Oe,{class:"col"},{default:t(()=>[a(z,null,{default:t(()=>[a(K,null,{default:t(()=>[a(A,{class:"text-bold"},{default:t(()=>[k(m(e.t("estimator.models.title")),1)]),_:1}),a(A,{caption:""},{default:t(()=>[k(m(e.t("estimator.models.description")),1)]),_:1})]),_:1}),a(K,null,{default:t(()=>[a(Te,{square:"",modelValue:e.selectedModelsArray,"onUpdate:modelValue":l[0]||(l[0]=r=>e.selectedModelsArray=r),multiple:"",options:e.allModelOptions,"use-chips":"","emit-value":"",filled:"",label:e.t("estimator.labels.selectAll")},null,8,["modelValue","label"])]),_:1})]),_:1}),a(z,null,{default:t(()=>[a(K,null,{default:t(()=>[a(A,{class:"text-bold"},{default:t(()=>[k(m(e.t("estimator.contractType.title")),1)]),_:1}),a(A,{caption:""},{default:t(()=>[k(m(e.t(`estimator.descriptions.contractType.${e.contractType}`)),1)]),_:1})]),_:1})]),_:1}),a(z,null,{default:t(()=>[a(Qe,{modelValue:e.contractType,"onUpdate:modelValue":l[1]||(l[1]=r=>e.contractType=r),options:[{label:e.t("estimator.contractType.standard"),value:"standard"},{label:e.t("estimator.contractType.department"),value:"department"}],type:"radio"},null,8,["modelValue","options"])]),_:1}),e.contractType==="poc"?(_(),x(z,{key:0},{default:t(()=>[a(K,null,{default:t(()=>[a(A,null,{default:t(()=>[k(m(e.t("estimator.poc.duration")),1)]),_:1}),a(A,{caption:""},{default:t(()=>[k(m(e.t("estimator.poc.description")),1)]),_:1})]),_:1}),a(K,null,{default:t(()=>[a(ut,{modelValue:e.pocDuration,"onUpdate:modelValue":l[2]||(l[2]=r=>e.pocDuration=r),min:3,max:6,step:1,label:"","label-always":""},null,8,["modelValue"])]),_:1})]),_:1})):U("",!0),e.contractType==="department"?(_(),ee(ne,{key:1},[a(z,{tag:"label"},{default:t(()=>[a(K,null,{default:t(()=>[a(A,{class:"text-bold"},{default:t(()=>[k(m(e.t("estimator.department.executionModel")),1)]),_:1}),a(A,{caption:""},{default:t(()=>[k(m(e.t("estimator.department.sponsorDescription")),1)]),_:1})]),_:1}),a(K,{side:""},{default:t(()=>[a(ke,{modelValue:e.hasBusinessSponsor,"onUpdate:modelValue":l[3]||(l[3]=r=>e.hasBusinessSponsor=r),label:e.t("estimator.department.businessSponsor")},null,8,["modelValue","label"])]),_:1})]),_:1}),a(z,null,{default:t(()=>[a(K,null,{default:t(()=>[a(A,{class:"text-bold"},{default:t(()=>[k(m(e.t("estimator.department.growthTitle")),1)]),_:1})]),_:1})]),_:1}),a(z,null,{default:t(()=>[a(Qe,{modelValue:e.expectedGrowth,"onUpdate:modelValue":l[5]||(l[5]=r=>e.expectedGrowth=r),options:[{label:e.t("estimator.department.growth.limited"),value:"limited",caption:e.t("estimator.department.growth.limitedDesc")},{label:e.t("estimator.department.growth.steady"),value:"steady",caption:e.t("estimator.department.growth.steadyDesc")},{label:e.t("estimator.department.growth.high"),value:"high",caption:e.t("estimator.department.growth.highDesc")}],type:"radio"},{item:t(({opt:r,index:o})=>[Ce((_(),x(z,{tag:"label"},{default:t(()=>[a(K,{avatar:""},{default:t(()=>[a(ba,{modelValue:e.expectedGrowth,"onUpdate:modelValue":l[4]||(l[4]=i=>e.expectedGrowth=i),val:r.value},null,8,["modelValue","val"])]),_:2},1024),a(K,null,{default:t(()=>[a(A,null,{default:t(()=>[k(m(r.label),1)]),_:2},1024),a(A,{caption:""},{default:t(()=>[k(m(r.caption),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[Qa]])]),_:1},8,["modelValue","options"])]),_:1})],64)):U("",!0),a(z,null,{default:t(()=>[a(K,null,{default:t(()=>[a(A,{class:"text-bold"},{default:t(()=>[k(m(e.t("estimator.usage.title")),1)]),_:1}),a(A,{caption:""},{default:t(()=>[k(m(e.t(`estimator.descriptions.usage.${e.usageType}`)),1)]),_:1})]),_:1}),a(K,null,{default:t(()=>[a(Te,{class:"full-width",square:"",modelValue:e.usageCount,"onUpdate:modelValue":l[6]||(l[6]=r=>e.usageCount=r),options:e.usageType==="business"?e.businessUsageOptions:e.consumerUsageOptions,label:e.usageType==="business"?e.t("estimator.usage.businessCount"):e.t("estimator.usage.consumerCount"),filled:"","emit-value":"","map-options":"","option-label":"label","option-value":"value"},null,8,["modelValue","options","label"])]),_:1})]),_:1}),a(z,null,{default:t(()=>[a(Qe,{modelValue:e.usageType,"onUpdate:modelValue":l[7]||(l[7]=r=>e.usageType=r),options:[{label:e.t("estimator.usage.business"),value:"business"},{label:e.t("estimator.usage.consumer"),value:"consumer"}],type:"radio"},null,8,["modelValue","options"])]),_:1}),a(z,null,{default:t(()=>[a(K,null,{default:t(()=>[a(A,{class:"text-bold"},{default:t(()=>[k(m(e.t("estimator.support.title")),1)]),_:1}),a(A,{caption:""},{default:t(()=>[k(m(e.t(`estimator.descriptions.support.${e.supportTier}`)),1)]),_:1})]),_:1}),a(K,null,{default:t(()=>[a(Te,{modelValue:e.supportTier,"onUpdate:modelValue":l[8]||(l[8]=r=>e.supportTier=r),options:[{label:e.t("estimator.support.hoursQuarter",{hours:10}),value:"standard"},{label:e.t("estimator.support.hoursQuarter",{hours:25}),value:"premium"},{label:e.t("estimator.support.hoursQuarter",{hours:40}),value:"enterprise"}],filled:"",square:"","emit-value":"","map-options":"","option-label":"label","option-value":"value",label:e.t("estimator.labels.selectSupport")},null,8,["modelValue","options","label"])]),_:1})]),_:1}),e.contractType!=="poc"?(_(),ee(ne,{key:2},[a(z,null,{default:t(()=>[a(A,{class:"text-bold"},{default:t(()=>[k(m(e.t("estimator.features.title")),1)]),_:1})]),_:1}),a(z,{tag:"label"},{default:t(()=>[a(K,null,{default:t(()=>[a(A,null,{default:t(()=>[k(m(e.t("estimator.features.priority")),1)]),_:1}),a(A,{caption:""},{default:t(()=>[k(m(e.t("estimator.descriptions.features.priority")),1)]),_:1})]),_:1}),a(K,{side:""},{default:t(()=>[a(ke,{modelValue:e.priorityResponse,"onUpdate:modelValue":l[9]||(l[9]=r=>e.priorityResponse=r)},null,8,["modelValue"])]),_:1})]),_:1}),a(z,{tag:"label"},{default:t(()=>[a(K,null,{default:t(()=>[a(A,null,{default:t(()=>[k(m(e.t("estimator.features.csm")),1)]),_:1}),a(A,{caption:""},{default:t(()=>[k(m(e.t("estimator.descriptions.features.csm")),1)]),_:1})]),_:1}),a(K,{side:""},{default:t(()=>[a(ke,{modelValue:e.dedicatedCSM,"onUpdate:modelValue":l[10]||(l[10]=r=>e.dedicatedCSM=r)},null,8,["modelValue"])]),_:1})]),_:1}),a(z,{tag:"label"},{default:t(()=>[a(K,null,{default:t(()=>[a(A,null,{default:t(()=>[k(m(e.t("estimator.features.training")),1)]),_:1}),a(A,{caption:""},{default:t(()=>[k(m(e.t("estimator.descriptions.features.training")),1)]),_:1})]),_:1}),a(K,{side:""},{default:t(()=>[a(ke,{modelValue:e.customModelTraining,"onUpdate:modelValue":l[11]||(l[11]=r=>e.customModelTraining=r)},null,8,["modelValue"])]),_:1})]),_:1})],64)):U("",!0)]),_:1}),a(ue,{vertical:c.$q.screen.gt.sm},null,8,["vertical"]),a(de,{class:"col-4 bg-mixed-200",flat:"",square:""},{default:t(()=>[a(re,{class:"q-pa-none"},{default:t(()=>[a(Oe,{dense:""},{default:t(()=>[a(z,{class:"q-my-lg"},{default:t(()=>[a(K,null,{default:t(()=>[a(A,{overline:""},{default:t(()=>[k(m(e.t("estimator.pricing.title")),1)]),_:1}),a(aa,{name:"list2"},{default:t(()=>[(_(),x(A,{key:e.calculateTotalPrice.final,class:"text-h5 q-py-md"},{default:t(()=>[k(m(e.contractType==="poc"?e.t("estimator.pricing.oneTime",{price:Math.round(e.calculateTotalPrice.monthly*e.pocDuration).toLocaleString()}):e.t("estimator.pricing.frequency",{price:e.calculateTotalPrice[e.isAnnual?"final":"quarterly"].toLocaleString(),frequency:e.t(`estimator.pricing.${e.isAnnual?"annual":"quarterly"}`)})),1)]),_:1}))]),_:1}),a(A,{caption:"",class:"text-dim"},{default:t(()=>[k(m(e.t("estimator.pricing.disclaimer")),1)]),_:1})]),_:1})]),_:1}),a(z,{tag:"label"},{default:t(()=>[a(K,null,{default:t(()=>[a(A,{class:"text-bold"},{default:t(()=>[k(m(e.t("estimator.payment.title")),1)]),_:1}),a(A,{caption:""},{default:t(()=>[k(m(e.t(`estimator.descriptions.payment.${e.isAnnual?"annual":"quarterly"}`)),1)]),_:1})]),_:1}),a(K,{side:""},{default:t(()=>[a(ke,{modelValue:e.isAnnual,"onUpdate:modelValue":l[12]||(l[12]=r=>e.isAnnual=r),label:e.t("estimator.payment.annual"),"checked-icon":"percent"},null,8,["modelValue","label"])]),_:1})]),_:1}),a(z,null,{default:t(()=>[a(ae,{square:"",outline:"",icon:"handshake",label:e.t("estimator.pricing.cta"),padding:"lg",class:"full-width q-my-lg",to:"/contact-sales?license-config=true"},null,8,["label"])]),_:1}),a(ue),(_(!0),ee(ne,null,fe(e.featuresSections,r=>(_(),ee(ne,{key:r.title},[a(A,{header:""},{default:t(()=>[k(m(r.title),1)]),_:2},1024),(_(!0),ee(ne,null,fe(r.items,(o,i)=>(_(),x(z,{key:i},{default:t(()=>[a(K,{side:""},{default:t(()=>[a(te,{name:"task_alt",size:"xs"})]),_:1}),a(K,null,{default:t(()=>[a(A,null,{default:t(()=>[k(m(o.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))],64))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["horizontal"])]),_:1})}const ro=me(ao,[["render",to],["__file","CostEstimator.vue"]]),oo=ce({__name:"ReaderDecideComponent",props:{originalURL:{type:String,default:""},disableQA:{type:Boolean,default:!1},disableOriginalURL:{type:Boolean,default:!1}},setup(c,{expose:l}){l();const{t:s}=ye({useScope:"global"}),e=Se(),g=Re(),p=T(!0),r=T(!0),o=T(!1),i=c,h=T(i.originalURL||"https://jina.ai/news/a-practical-guide-to-implementing-deepsearch-deepresearch"),R=T(["engine_default","engine_default_timeout","engine_default_markdown","engine_default_html","browser","direct","cf_browser"]),f=T(R.value.reduce((n,u)=>(n[u]={content:"",timing:null,contentLength:null,isLoading:!1},n),{})),L=T(!1),b=n=>{const u=`https://r.jina.ai/${h.value}`,E=p.value?`"Authorization: Bearer ${e.apiKey}"`:"",I=r.value?'"X-No-Cache: true"':"";let O=`\`\`\`bash
curl ${u}`,G=!1;return n==="engine_default_markdown"?(O+=` \\
  -H "X-Return-Format: markdown"`,G=!0):n==="engine_default_html"?(O+=` \\
  -H "X-Return-Format: html"`,G=!0):n==="engine_default_timeout"?(O+=` \\
  -H "X-Timeout: 5"`,G=!0):n==="browser"?(O+=` \\
  -H "X-Engine: browser"`,G=!0):n==="cf_browser"?(O+=` \\
  -H "X-Engine: cf-browser-rendering"`,G=!0):n==="direct"&&(O+=` \\
  -H "X-Engine: direct"`,G=!0),r.value&&(O+=`${G?"":" \\"}
  -H ${I}`,G=!0),p.value&&(O+=`${G?"":" \\"}
  -H ${E}`),O+="\n```",O},P=n=>{const u={};return p.value&&(u.Authorization=`Bearer ${e.apiKey}`),r.value&&(u["X-No-Cache"]="true"),n==="engine_default_timeout"?u["X-Timeout"]="5":n==="engine_default_html"?u["X-Return-Format"]="html":n==="engine_default_markdown"?u["X-Return-Format"]="markdown":n==="browser"?u["X-Engine"]="browser":n==="cf_browser"?u["X-Engine"]="cf-browser-rendering":n==="direct"&&(u["X-Engine"]="direct"),u},N=async n=>{const u=`https://r.jina.ai/${h.value}`;f.value[n].isLoading=!0;const E=performance.now();try{const I=await fetch(u,{headers:P(n)}),O=performance.now();if(f.value[n].timing=Math.round(O-E),!I.ok){f.value[n].content=await I.json();return}const G=await I.text();f.value[n].contentLength=G.length,f.value[n].content=G}catch(I){f.value[n].content=I instanceof Error?I.message:String(I),f.value[n].contentLength=0,f.value[n].timing=0}finally{f.value[n].isLoading=!1}},w=async()=>{o.value=!0,L.value=!0,R.value.forEach(n=>{f.value[n]={content:"",timing:null,contentLength:null,isLoading:!0}});try{await Promise.all(R.value.map(n=>N(n)))}finally{L.value=!1}},v=Q(()=>Object.values(f.value).some(n=>n.timing!==null)),M=Q(()=>{let n=0;for(const u of R.value)f.value[u].timing!==null&&f.value[u].timing>n&&(n=f.value[u].timing);return n>0?n:1}),V=Q(()=>{let n=0;for(const u of R.value)f.value[u].contentLength!==null&&f.value[u].contentLength>n&&(n=f.value[u].contentLength);return n>0?n:1}),D={t:s,embeddingStore:e,$q:g,useAuth:p,useNoCache:r,fetchWasClicked:o,props:i,originalURL:h,paramsGroup:R,results:f,isLoading:L,getReaderCode:b,getHeaders:P,fetchForParam:N,fetchAllURLs:w,hasResults:v,maxTiming:M,maxContentLength:V,getTimingPercentage:n=>f.value[n].timing===null?0:f.value[n].timing/M.value,getLengthPercentage:n=>f.value[n].contentLength===null?0:f.value[n].contentLength/V.value,getBarColor:n=>({engine_default:"primary",engine_default_timeout:"info",engine_default_markdown:"warning",engine_default_html:"negative",browser:"secondary",direct:"accent",cf_browser:"positive"})[n]||"primary",formatBytes:n=>{if(n===0)return"0 Bytes";const u=1024,E=["Bytes","KB","MB","GB"],I=Math.floor(Math.log(n)/Math.log(u));return parseFloat((n/Math.pow(u,I)).toFixed(2))+" "+E[I]},get QInput(){return xe}};return Object.defineProperty(D,"__isScriptSetup",{enumerable:!1,value:!0}),D}}),lo={class:"row q-mt-sm"},so={class:"text-h6 q-mb-md"},no={class:"q-mb-lg"},io={class:"text-subtitle2 q-mb-sm"},uo={class:"col-3 text-right q-pr-md"},co={class:"col-8"},mo={class:"absolute-full flex flex-center"},_o={class:"text-subtitle2 q-mb-sm"},fo={class:"col-3 text-right q-pr-md"},go={class:"col-8"},vo={class:"absolute-full flex flex-center"},yo={class:"row items-center"},po={class:"overflow-auto q-px-xs"};function ho(c,l,s,e,g,p){const r=za("q-markdown");return _(),x(de,{square:"",flat:"",class:"column no-wrap full-height"},{default:t(()=>[a(re,{class:"q-pa-none"},{default:t(()=>[a(e.QInput,{filled:"",modelValue:e.originalURL,"onUpdate:modelValue":l[0]||(l[0]=o=>e.originalURL=o),label:e.t("reader.demo.your_url"),type:"url",loading:e.isLoading},null,8,["modelValue","label","loading"]),Z("div",lo,[a(ke,{modelValue:e.useAuth,"onUpdate:modelValue":l[1]||(l[1]=o=>e.useAuth=o),label:e.t("reader.demo.headers.auth_token"),size:"sm",icon:"o_key",class:"q-mr-md"},null,8,["modelValue","label"]),a(ke,{modelValue:e.useNoCache,"onUpdate:modelValue":l[2]||(l[2]=o=>e.useNoCache=o),label:e.t("reader.demo.headers.no_cache"),size:"sm",icon:"o_cached"},null,8,["modelValue","label"])])]),_:1}),a(ue),a(re,{horizontal:e.$q.screen.gt.sm,class:"q-pa-none"},{default:t(()=>[(_(!0),ee(ne,null,fe(e.paramsGroup,(o,i)=>(_(),ee(ne,{key:o},[a(de,{class:"col q-pa-none",flat:"",square:""},{default:t(()=>[a(z,null,{default:t(()=>[a(K,null,{default:t(()=>[a(A,{lines:"1"},{default:t(()=>[k(m(e.t(`reader.demo.headers.${o}`)),1)]),_:2},1024),a(A,{caption:"",class:"text-dim",lines:"2"},{default:t(()=>[k(m(e.t(`reader.demo.headers.${o}_explain`)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),a(r,{src:e.getReaderCode(o),"no-line-numbers":"","show-copy":"","copy-icon":"content_copy",class:"overflow-auto"},null,8,["src"])]),_:2},1024),i<e.paramsGroup.length-1?(_(),x(ue,{key:0,vertical:e.$q.screen.gt.sm},null,8,["vertical"])):U("",!0)],64))),128))]),_:1},8,["horizontal"]),a(ue),a(ae,{square:"",label:e.t("reader.demo.fetch"),class:"full-width",icon:"download",onClick:e.fetchAllURLs,flat:"",padding:"md",loading:e.isLoading},null,8,["label","loading"]),e.fetchWasClicked?(_(),ee(ne,{key:0},[a(ue),e.hasResults?(_(),x(re,{key:0},{default:t(()=>[Z("div",so,m(e.t("reader.demo.performance_compare")),1),Z("div",no,[Z("div",io,m(e.t("reader.demo.response_time")),1),(_(!0),ee(ne,null,fe(e.paramsGroup,o=>(_(),ee("div",{class:"row items-center",key:o+"-time"},[Z("div",uo,m(e.t(`reader.demo.headers.${o}`)),1),Z("div",co,[a(Le,{value:e.getTimingPercentage(o),size:"25px",color:e.getBarColor(o),class:"q-mb-xs"},{default:t(()=>[Z("div",mo,[e.results[o].timing!==null?(_(),x(_a,{key:0,color:"white","text-color":"black"},{default:t(()=>[k(m(e.results[o].timing)+"ms ",1)]),_:2},1024)):U("",!0)])]),_:2},1032,["value","color"])])]))),128))]),Z("div",null,[Z("div",_o,m(e.t("reader.demo.content_length")),1),(_(!0),ee(ne,null,fe(e.paramsGroup,o=>(_(),ee("div",{class:"row items-center",key:o+"-length"},[Z("div",fo,m(e.t(`reader.demo.headers.${o}`)),1),Z("div",go,[a(Le,{value:e.getLengthPercentage(o),size:"25px",color:e.getBarColor(o),class:"q-mb-xs"},{default:t(()=>[Z("div",vo,[e.results[o].contentLength!==null?(_(),x(_a,{key:0,color:"white","text-color":"black"},{default:t(()=>[k(m(e.formatBytes(e.results[o].contentLength)),1)]),_:2},1024)):U("",!0)])]),_:2},1032,["value","color"])])]))),128))])]),_:1})):U("",!0),e.hasResults?(_(),x(ue,{key:1})):U("",!0),a(re,{horizontal:e.$q.screen.gt.sm,class:"q-pa-none overflow-auto"},{default:t(()=>[(_(!0),ee(ne,null,fe(e.paramsGroup,(o,i)=>(_(),ee(ne,{key:o},[a(re,{class:"col column overflow-auto no-wrap q-pa-none"},{default:t(()=>[Z("div",yo,[a(ve,{label:e.t(`reader.demo.headers.${o}`),size:"xs",outline:"",style:{"border-radius":"0"},class:"text-dim"},null,8,["label"]),e.results[o].timing!==null?(_(),x(ve,{key:0,size:"xs",outline:"",style:{"border-radius":"0"},class:"text-dim",icon:"timer"},{default:t(()=>[k(m(e.results[o].timing)+"ms ",1)]),_:2},1024)):U("",!0),e.results[o].contentLength!==null?(_(),x(ve,{key:1,size:"xs",outline:"",style:{"border-radius":"0"},class:"text-dim",icon:"straighten"},{default:t(()=>[k(m(e.formatBytes(e.results[o].contentLength)),1)]),_:2},1024)):U("",!0)]),e.isLoading&&!e.results[o].content?(_(),ee(ne,{key:0},fe([100,300,200,200],h=>a(Ht,{type:"text",width:`${h}px`,key:h},null,8,["width"])),64)):U("",!0),Z("pre",po,""+m(e.results[o].content)+`
          `,1)]),_:2},1024),i<e.paramsGroup.length-1?(_(),x(ue,{key:0,vertical:e.$q.screen.gt.sm},null,8,["vertical"])):U("",!0)],64))),128))]),_:1},8,["horizontal"]),a(ue)],64)):U("",!0)]),_:1})}const bo=me(oo,[["render",ho],["__file","ReaderDecideComponent.vue"]]),ko=ce({__name:"SeFoPage",setup(c,{expose:l}){l();const s={[J.PRICING]:ir,[J.CODE]:dt,[J.RERANK_CODE]:ct,[J.READER_CODE]:mt,[J.CLASSIFY]:_t,[J.TOKENIZER]:ft,[J.INTEGRATIONS]:gt,[J.TEST]:vt,[J.SEARCH]:ua,[J.VISUALIZE]:ua,[J.BULK]:yt,[J.ONPREM]:null,[J.KEY_MANAGER]:Cr,[J.AVATAR]:Nr,[J.GROUNDING]:Jr,[J.DEEPSEARCH]:pt,[J.LICENSE_CONFIG]:ro,[J.CHAT]:Bt,[J.RATE_LIMIT]:Rt,[J.CONTACT_SALES]:Nt,[J.LLM_SERP]:eo,[J.ENGINE_SPEED_TEST]:bo},e=Re(),g=Ya(),p=Xa(),{t:r}=ye({useScope:"global"}),o=Se(),{apiKey:i,classifiers:h,turnstileState:R}=ge(o),f=qe(),{user:L}=ge(f),{models:b}=Ut();g.params.tab===J.CHAT?ma({page:"deepsearch.chat_ui",banner:"banner-deepsearch.png",url:"api-dashboard/deepsearch-chat"}):ma({page:"key_manager",banner:"banner-api.png",url:"api-dashboard"});const P=T(ia(g.params.tab instanceof Array?g.params.tab[0]:g.params.tab));je(()=>g.params.tab,M=>{const V=M instanceof Array?M[0]:M;!L.value.uid&&V===J.KEY_MANAGER&&p.push({params:{tab:J.READER_CODE},query:g.query}),P.value=V}),Ae(()=>{navigator.userAgent.toLowerCase().includes("headless")||N()});async function N(){console.log("checkURLForParam");const M=new URLSearchParams(window.location.search);if(M.has("login")&&!L.value.uid){const V=new URL(window.location.href);V.searchParams.delete("login"),window.history.pushState({},"",V),e.dialog({component:Kt,persistent:!0})}if(M.has("sui")){const V=M.get("model"),C=b.value.find(S=>S.name===V),q=ia(M.get("sui")||"","page",C);if(P.value!==q)p.replace({params:{tab:q},query:{...g.query,sui:void 0}});else{const S=new URL(window.location.href);S.searchParams.delete("sui"),window.history.pushState({},"",S)}}if(M.has("task")){o.task=M.get("task")||"";const V=new URL(window.location.href);V.searchParams.delete("task"),window.history.pushState({},"",V)}if(M.has("model")){const V=M.get("model"),C=V&&b.value.find(q=>q.name===V);if(C&&P.value!==J.CLASSIFY){const q=C.metadata.endpoints||[];[J.CODE,J.RERANK_CODE].includes(P.value)||(q.some(S=>["embedding","multi-vector"].includes(S))?P.value=J.CODE:q.includes("rank")&&(P.value=J.RERANK_CODE))}else h.value.length===0&&await o.getClassifiers(i.value),h.value.find(S=>S.classifier_id===V)&&(P.value=J.CLASSIFY)}}const v={COMPONENTS:s,$q:e,route:g,router:p,t:r,embeddingStore:o,apiKey:i,classifiers:h,turnstileState:R,userStore:f,user:L,allModels:b,currentTab:P,checkURLForParam:N,openBrowserInfoDialog:()=>{e.dialog({component:ht,componentProps:{state:R.value}})},get EMBEDDING_TABS(){return J},get TurnstileState(){return et}};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}}),wo={key:0},Eo={key:1},To={class:"column no-wrap full-width",style:{"flex-grow":"1"}};function Ro(c,l,s,e,g,p){return _(),x(Za,{class:"row"},{default:t(()=>[e.turnstileState===e.TurnstileState.ERROR||e.turnstileState===e.TurnstileState.UNSUPPORTED?(_(),x(Ja,{key:0,"inline-actions":"",class:"text-white bg-negative full-width"},{action:t(()=>[a(ae,{square:"",outline:"",class:"q-mr-sm",label:e.t("landing_page.view_browser_info"),onClick:e.openBrowserInfoDialog},null,8,["label"]),a(ae,{square:"",outline:"",to:"/contact-sales",label:e.t("landing_page.contact_sales")},null,8,["label"])]),default:t(()=>[a(te,{name:"report_problem",size:"sm",class:"q-mr-sm"}),e.turnstileState===e.TurnstileState.ERROR?(_(),ee("span",wo,m(e.t("embedding.turnstile_error")),1)):e.turnstileState===e.TurnstileState.UNSUPPORTED?(_(),ee("span",Eo,m(e.t("embedding.turnstile_unsupported")),1)):U("",!0),k(" "+m(e.t("embedding.mistake_contact"))+" ",1)]),_:1})):U("",!0),Z("div",To,[(_(),x(Wa(e.COMPONENTS[e.currentTab]),{asVisualizer:e.currentTab===e.EMBEDDING_TABS.VISUALIZE,maximizedWindow:!0},null,8,["asVisualizer"]))])]),_:1})}const yl=me(ko,[["render",Ro],["__file","SeFoPage.vue"]]);export{yl as default};
