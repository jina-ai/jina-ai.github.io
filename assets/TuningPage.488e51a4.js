import{Q as v}from"./QLinearProgress.47fec6a7.js";import{e as R,f as M,aj as C,a6 as S,K as A,aE as P,a7 as $,a8 as t,u as N,a9 as h,ak as s,ad as e,ah as a,an as d,ag as i,bM as p,af as r,ac as f,aw as _,ao as c,av as w,ae as g,ap as E,aa as x,ab as q,ai as y,ax as V,j as Q}from"./index.42df7d5d.js";import{Q as k}from"./QExpansionItem.431348f7.js";import{Q as z}from"./QList.a44c77ad.js";import{Q as J,a as G}from"./QImg.135c32d3.js";import{Q as u,a as H}from"./QItemLabel.3f9f6e9f.js";import{Q as K}from"./QTable.98f77908.js";import{_ as W,Q as O,a as X}from"./AskAnythingToolTip.b3b1084e.js";import{u as Y}from"./useMetaTags.d46b0de3.js";import{B as Z,_ as ee}from"./EmbeddingComponent.1681205c.js";import{T as te}from"./TitleBlock.aaafb221.js";import{_ as ae}from"./FAQComponent.de9ec92c.js";import{_ as I}from"./ModelDropDown.606755de.js";import"./QSelect.11289942.js";import"./QMenu.0aa606a2.js";import"./position-engine.37120c91.js";import"./rtl.4aeb06d5.js";import"./use-fullscreen.c39b435f.js";import"./QTooltip.1ed2c5ff.js";import"./QTabs.cbbb7d97.js";import"./QResizeObserver.ae8c9920.js";import"./QTabPanels.56f76a9b.js";import"./use-panel.a399094a.js";import"./touch.3df10340.js";import"./use-cache.b0833c75.js";import"./QBtnDropdown.cd10ae3d.js";import"./ClosePopup.3957286a.js";import"./copy-to-clipboard.78b3fd3e.js";import"./embedding.da1bcb22.js";import"./regexp.d033247d.js";import"./QForm.0c9f39ca.js";var ne="/assets/flow3.81a6d085.svg";const se={class:"col-12 col-md-11 q-py-xl q-mx-xs-xs q-mx-sm-sm q-mx-md-md q-mx-lg-lg q-mx-xl-xl q-ma-xl relative-position"},le={class:"row q-mt-xl q-pt-xl justify-center"},oe={class:"row justify-center items-center"},ie={class:"col-11 col-md-7 q-py-lg text-grey-5"},re={class:"col-11 col-md-7"},ue={class:"row justify-center q-gutter-md q-pa-md"},de={class:"col-11 col-md-7"},ce={class:"col-11 col-md-2 q-gutter-y-sm"},me={class:"q-my-xl row justify-center items-center"},fe={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},ge={class:"row q-mt-xl q-pt-xl justify-center"},_e={class:"q-my-xl row justify-center items-center"},pe={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},he={class:"row justify-center items-center"},be={class:"col-11"},ve={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},we={class:"row q-mt-xl q-py-xl justify-center"},xe={class:"q-my-xl text-center text-grey-5 text-h6 text-weight-light"},qe={class:"row justify-center"},ye={class:"col-12 col-md-9 q-pb-xl"},ke=R({__name:"TuningPage",setup(Te){const T=M(),L=C(),{t:o}=S({useScope:"global"});Y({page:"autotune",banner:"banner-autotune.png",url:"fine-tuning"});const m=N(),U=[{label:"landing_page.get_api_now",icon:"code",anchor:"#apiform"},{label:"autotune.find_on_hf",icon:"img:/huggingface_logo.svg",anchor:"https://huggingface.co/fine-tuned/"}];A(async()=>{P(L.hash)});function b(j,D){const n=[];for(const l of["ndcg","map","mrr"])n.push((D[l]/j[l]-1)*100);return(n.reduce((l,B)=>l+B,0)/n.length).toFixed(0)}const F=M([{domainInstruction:"Sp\xF8rsm\xE5lene er n\xF8kkelordsp\xF8rsm\xE5l, og dokumentene er n\xF8kkelordsvar.",testData:"tollefj/norwegian-nli-triplets",baseModel:"jinaai/jina-embeddings-v2-base-en",syntheticDataSize:664,negatives:7,training:640,evaluation:24,test:50,totalMinutes:68,beforeEval:{ndcg:.5055,map:.3525,mrr:.3525},afterEval:{ndcg:.5324,map:.3893,mrr:.3893},beforeTest:{ndcg:.8524,map:.8,mrr:.8},afterTest:{ndcg:.8671,map:.82,mrr:.82},syntheticDataURL:"https://huggingface.co/datasets/fine-tuned/norwegian-nli-triplets-c",finetunedModelURL:"https://huggingface.co/fine-tuned/norwegian-nli-triplets-c"},{domainInstruction:"The queries are very specific technical questions about Ubuntu. The answers to the queries are not the answers to the query directly but also user queries that are very similar. Means it is a search from user queries to user queries. All queries must be very specific technical problems, mostly related to Ubuntu operating system issues. Some queries include error messages or specific commands, reflecting real-world troubleshooting queries. The queries must be written in informal language (often seen in forums), technical jargon, and command line references",testData:"mteb/askubuntudupquestions-reranking",baseModel:"jinaai/jina-embeddings-v2-base-en",syntheticDataSize:88,negatives:7,training:64,evaluation:24,test:50,totalMinutes:8,beforeEval:{ndcg:.6722,map:.5674,mrr:.5674},afterEval:{ndcg:.7546,map:.675,mrr:.675},beforeTest:{ndcg:.6984,map:.5155,mrr:.6658},afterTest:{ndcg:.7221,map:.5487,mrr:.7122},syntheticDataURL:"https://huggingface.co/datasets/fine-tuned/askubuntu-c",finetunedModelURL:"https://huggingface.co/fine-tuned/askubuntu-c"},{domainInstruction:"scientific papers from arxiv",testData:"mteb/scidocs-reranking",baseModel:"jinaai/jina-embeddings-v2-base-en",syntheticDataSize:88,negatives:7,training:64,evaluation:24,test:50,totalMinutes:9,beforeEval:{ndcg:.7273,map:.64,mrr:.64},afterEval:{ndcg:.8614,map:.8139,mrr:.8139},beforeTest:{ndcg:.7726,map:.5746,mrr:.8234},afterTest:{ndcg:.8222,map:.6509,mrr:.8845},syntheticDataURL:"https://huggingface.co/datasets/fine-tuned/scidocs",finetunedModelURL:"https://huggingface.co/fine-tuned/scidocs"},{domainInstruction:"\u533B\u7597\u6761\u4EF6\uFF0C\u533B\u7597\u5EFA\u8BAE\uFF0C\u6CBB\u7597\u65B9\u6CD5\uFF0C\u8BCA\u65AD",testData:"C-MTEB/CMedQAv2-reranking",baseModel:"jinaai/jina-embeddings-v2-base-zh",syntheticDataSize:88,negatives:7,training:64,evaluation:24,test:50,totalMinutes:9,beforeEval:{ndcg:.7184,map:.629,mrr:.629},afterEval:{ndcg:.7847,map:.7168,mrr:.7168},beforeTest:{ndcg:.9381,map:.912,mrr:.92},afterTest:{ndcg:.9476,map:.9262,mrr:.9333},syntheticDataURL:"https://huggingface.co/datasets/fine-tuned/cmedqav2",finetunedModelURL:"https://huggingface.co/fine-tuned/cmedqav2"},{domainInstruction:"- Jeugdwet - Milieurecht - Schuldenrecht - Wet maatschappelijke ondersteuning - Vragen zijn eenvoudig, maar de documenten bevatten zeer complexe juridische taal",testData:"nc33/triplet_sbert_law2 (machine-translated to dutch)",baseModel:"jinaai/jina-embeddings-v2-base-en",syntheticDataSize:1304,negatives:7,training:1280,evaluation:24,test:50,totalMinutes:210,beforeEval:{ndcg:.5428,map:.4018,mrr:.4018},afterEval:{ndcg:.5786,map:.4515,mrr:.4515},beforeTest:{ndcg:.904,map:.87,mrr:.87},afterTest:{ndcg:.9483,map:.93,mrr:.93},syntheticDataURL:"https://huggingface.co/datasets/fine-tuned/dutch-legal-c-1280-24",finetunedModelURL:"https://huggingface.co/fine-tuned/dutch-legal-c-1280-24"},{domainInstruction:"Query Description: technical keyword question, code sample, error message, Document Description: answer to code related question",testData:"mteb/stackoverflowdupquestions-reranking",baseModel:"jinaai/jina-embeddings-v2-base-code",syntheticDataSize:88,negatives:7,training:64,evaluation:24,test:50,totalMinutes:27,beforeEval:{ndcg:.6709,map:.5688,mrr:.5688},afterEval:{ndcg:.6397,map:.5253,mrr:.5253},beforeTest:{ndcg:.6397,map:.5297,mrr:.5546},afterTest:{ndcg:.6214,map:.5051,mrr:.5319},syntheticDataURL:"https://huggingface.co/datasets/fine-tuned/stackoverflow-c-64-24-gpt-4o-2024-05-13",finetunedModelURL:"https://huggingface.co/fine-tuned/stackoverflow-c-64-24-gpt-4o-2024-05-13"},{domainInstruction:"https://stackoverflow.com/",testData:"mteb/stackoverflowdupquestions-reranking",baseModel:"jinaai/jina-embeddings-v2-base-code",syntheticDataSize:88,negatives:7,training:64,evaluation:24,test:50,totalMinutes:11,beforeEval:{ndcg:.6317,map:.5175,mrr:.5175},afterEval:{ndcg:.711,map:.6223,mrr:.6223},beforeTest:{ndcg:.6397,map:.5297,mrr:.5546},afterTest:{ndcg:.6193,map:.504,mrr:.5255},syntheticDataURL:"https://huggingface.co/datasets/fine-tuned/stackoverflow-c-64-24-gpt-4o-2024-05-137765",finetunedModelURL:"https://huggingface.co/fine-tuned/stackoverflow-c-64-24-gpt-4o-2024-05-137765"},{domainInstruction:"questions and answers",testData:"mteb/askubuntudupquestions-reranking",baseModel:"jinaai/jina-embeddings-v2-base-en",syntheticDataSize:88,negatives:7,training:64,evaluation:24,test:50,totalMinutes:12,beforeEval:{ndcg:.6458,map:.5349,mrr:.5349},afterEval:{ndcg:.7293,map:.6437,mrr:.6437},beforeTest:{ndcg:.6449,map:.4522,mrr:.6064},afterTest:{ndcg:.6496,map:.4618,mrr:.6046},syntheticDataURL:"https://huggingface.co/datasets/fine-tuned/askubuntu-c-64-24-gpt-4o-2024-05-13-61285",finetunedModelURL:"https://huggingface.co/fine-tuned/askubuntu-c-64-24-gpt-4o-2024-05-13-61285"}]);return(j,D)=>(h(),$(O,null,{default:t(()=>[s("div",{class:d(["row justify-center items-center img-bg q-py-xl",a(m).screen.lt.sm?"q-px-md":"q-px-xl"])},[s("div",se,[e(te,{title:a(o)("landing_page.autotune"),tagline:a(o)("autotune.description_long"),"large-title":!0,buttons:U},null,8,["title","tagline"])])],2),s("div",{class:d(a(m).screen.lt.sm?"q-pa-md":"q-pa-xl"),id:"what_reader"},[s("div",le,[s("div",{class:d(a(m).screen.lt.md?"q-mb-lg q-pb-md":"")},[s("h2",{class:d(["text-h2 text-white q-py-xl text-center",a(m).screen.lt.md?"justify-center":""])},i(a(o)("autotune.what_is")),3)],2)]),s("div",oe,[s("div",ie,i(a(o)("finetuning.domain_explain2")),1),s("div",re,[e(z,{bordered:""},{default:t(()=>[e(v,{value:100,color:"primary",size:"xs"}),e(k,{label:a(o)("finetuning.query_doc"),caption:a(o)("finetuning.query_doc_caption"),icon:"join_right",group:"somegroup","header-class":"text-bold q-py-md","default-opened":""},{default:t(()=>[s("div",ue,[e(p,{label:a(o)("finetuning.query_explain"),"model-value":"fashion article categories with color and size",filled:"",square:"",readonly:"",type:"text",class:"col"},null,8,["label"]),e(p,{label:a(o)("finetuning.doc_explain"),"model-value":"a full json-like string of a fashion article",filled:"",square:"",readonly:"",type:"text",class:"col"},null,8,["label"])])]),_:1},8,["label","caption"]),e(k,{label:a(o)("finetuning.url"),caption:a(o)("finetuning.url_caption"),icon:"public",group:"somegroup","header-class":"text-bold q-py-md"},{default:t(()=>[e(p,{label:a(o)("finetuning.url_explain"),"model-value":"https://www.nasa.gov/",filled:"",square:"",readonly:"",type:"url",class:"q-pa-md"},null,8,["label"])]),_:1},8,["label","caption"]),e(k,{label:a(o)("finetuning.general_instruction"),caption:a(o)("finetuning.general_instruction_caption"),icon:"notes",group:"somegroup","header-class":"text-bold q-py-md"},{default:t(()=>[e(p,{label:a(o)("finetuning.general_instruction_explain"),"model-value":"car insurance claims",filled:"",square:"",readonly:"",class:"full-width q-pa-md",type:"text"},null,8,["label"])]),_:1},8,["label","caption"])]),_:1})]),s("div",de,[e(J,{src:ne})]),s("div",ce,[e(f,{class:"text-grey-5"},{default:t(()=>[r(i(a(o)("autotune.embedding_provider")),1)]),_:1}),e(w,{bordered:"",flat:"",square:"",class:"bg-transparent"},{default:t(()=>[e(v,{value:100,color:"warning",size:"xs"}),e(_,{class:"row justify-between"},{default:t(()=>[e(c,{name:"img:/Jina - Dark.svg",size:"xl"})]),_:1}),e(_,{class:"q-pa-none"},{default:t(()=>[e(I,{indicator:!1,"current-model":T.value,class:"full-width","demo-only":!0},null,8,["current-model"])]),_:1})]),_:1}),e(w,{bordered:"",flat:"",square:"",class:"bg-transparent"},{default:t(()=>[e(v,{value:100,color:"warning",size:"xs"}),e(_,{class:"row justify-between"},{default:t(()=>[e(c,{name:`img:${a(Z)}`,size:"xl"},null,8,["name"])]),_:1}),e(_,{class:"q-pa-none"},{default:t(()=>[e(I,{"current-model":T.value,"allow-b-a-a-i":!0,indicator:!1,"demo-only":!0,class:"full-width"},null,8,["current-model"])]),_:1})]),_:1})])]),s("div",me,[s("div",fe,i(a(o)("autotune.what_is_answer_long")),1)])],2),s("div",{class:d([a(m).screen.lt.sm?"q-pa-md":"q-pa-xl","bg-dark"]),id:"does_it_work"},[s("div",ge,[s("div",{class:d(a(m).screen.lt.md?"q-mb-lg q-pb-md":"")},[s("h2",{class:d(["text-h2 text-white q-py-xl text-center",a(m).screen.lt.md?"justify-center":""])},i(a(o)("autotune.does_it_work_tho")),3)],2)]),s("div",_e,[s("div",pe,i(a(o)("autotune.does_it_work_tho_explain")),1)]),s("div",he,[s("div",be,[e(K,{rows:F.value,grid:"","hide-header":"","row-key":"domainInstruction",pagination:{rowsPerPage:12},"hide-pagination":""},{item:t(n=>[s("div",ve,[e(w,{square:"",bordered:"",flat:"",class:"bg-transparent q-ma-sm"},{default:t(()=>[e(_,null,{default:t(()=>[e(f,null,{default:t(()=>[e(g,null,{default:t(()=>[e(u,{caption:""},{default:t(()=>[r(i(a(o)("autotune.base_model")),1)]),_:1}),e(u,null,{default:t(()=>[s("code",null,i(n.row.baseModel),1)]),_:2},1024)]),_:2},1024),e(g,{side:"",class:"text-h6"},{default:t(()=>[e(u,{caption:""},{default:t(()=>[r(i(a(o)("autotune.total_improve")),1)]),_:1}),e(u,{class:d(b(n.row.beforeTest,n.row.afterTest)>0?"text-positive":"text-negative")},{default:t(()=>[e(c,{name:b(n.row.beforeTest,n.row.afterTest)>0?"arrow_upward":"arrow_downward"},null,8,["name"]),r(" "+i(b(n.row.beforeTest,n.row.afterTest))+"% ",1)]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(E),e(_,{class:"q-pa-sm"},{default:t(()=>[e(z,{class:"q-gutter-y-md"},{default:t(()=>[e(f,null,{default:t(()=>[e(g,null,{default:t(()=>[e(u,{caption:""},{default:t(()=>[e(c,{name:"description"}),r(" "+i(a(o)("autotune.domain_instruction")),1)]),_:1}),e(u,null,{default:t(()=>[e(p,{readonly:"","model-value":n.row.domainInstruction,dense:"",autogrow:"",square:"",standout:""},null,8,["model-value"])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(f,null,{default:t(()=>[e(g,null,{default:t(()=>[e(u,{caption:""},{default:t(()=>[e(c,{name:"speed"}),r(" "+i(a(o)("autotune.eval_performance_before_after")),1)]),_:1}),e(u,null,{default:t(()=>[e(f,null,{default:t(()=>[(h(),x(y,null,q(["ndcg","map","mrr"],l=>e(g,{key:l},{default:t(()=>[e(u,{caption:""},{default:t(()=>[r(i(l.toUpperCase()),1)]),_:2},1024),e(u,null,{default:t(()=>[r(i(n.row.beforeEval[l].toFixed(3))+" ",1),e(c,{name:"arrow_forward",class:"text-grey-5"}),r(" "+i(n.row.afterEval[l].toFixed(3))+" ",1),s("span",{style:{"font-size":"10px"},class:d(["q-pl-xs",n.row.afterEval[l]>n.row.beforeEval[l]?"text-positive":"text-negative"])},[e(c,{name:n.row.afterEval[l]>n.row.beforeEval[l]?"arrow_upward":"arrow_downward"},null,8,["name"]),r(" "+i(((n.row.afterEval[l]/n.row.beforeEval[l]-1)*100).toFixed(0))+"% ",1)],2)]),_:2},1024)]),_:2},1024)),64))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(f,null,{default:t(()=>[e(g,null,{default:t(()=>[e(u,{caption:""},{default:t(()=>[e(c,{name:"speed"}),r(" "+i(a(o)("autotune.test_performance_before_after")),1)]),_:1}),e(H,{label:a(o)("autotune.test_on",{_dataName:n.row.testData,_dataSize:n.row.test}),color:"grey-9",icon:"check",size:"xs",square:""},null,8,["label"]),e(u,null,{default:t(()=>[e(f,null,{default:t(()=>[(h(),x(y,null,q(["ndcg","map","mrr"],l=>e(g,{key:l},{default:t(()=>[e(u,{caption:""},{default:t(()=>[r(i(l.toUpperCase()),1)]),_:2},1024),e(u,null,{default:t(()=>[r(i(n.row.beforeTest[l].toFixed(3))+" ",1),e(c,{name:"arrow_forward",class:"text-grey-5"}),r(" "+i(n.row.afterTest[l].toFixed(3))+" ",1),s("span",{style:{"font-size":"10px"},class:d(["q-pl-xs",n.row.afterTest[l]>n.row.beforeTest[l]?"text-positive":"text-negative"])},[e(c,{name:n.row.afterTest[l]>n.row.beforeTest[l]?"arrow_upward":"arrow_downward"},null,8,["name"]),r(" "+i(((n.row.afterTest[l]/n.row.beforeTest[l]-1)*100).toFixed(0))+"% ",1)],2)]),_:2},1024)]),_:2},1024)),64))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(f,null,{default:t(()=>[e(g,null,{default:t(()=>[e(u,{caption:""},{default:t(()=>[e(c,{name:"data_usage"}),r(" "+i(a(o)("autotune.data_size")),1)]),_:1}),e(u,null,{default:t(()=>[e(f,null,{default:t(()=>[(h(),x(y,null,q(["syntheticDataSize","training","evaluation"],l=>e(g,{key:l},{default:t(()=>[e(u,{caption:""},{default:t(()=>[r(i(a(o)(`autotune.eval_${l}`)),1)]),_:2},1024),e(u,null,{default:t(()=>[r(i(n.row[l]*(l==="test"?1:7)),1)]),_:2},1024)]),_:2},1024)),64))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(E),e(V,{align:"right"},{default:t(()=>[e(G,{square:"",flat:""},{default:t(()=>[e(Q,{square:"",flat:"",label:a(o)("autotune.check_data"),href:n.row.syntheticDataURL,size:"sm",target:"_blank",icon:"open_in_new"},null,8,["label","href"]),e(Q,{square:"",flat:"",label:a(o)("autotune.check_model"),href:n.row.finetunedModelURL,size:"sm",target:"_blank",icon:"open_in_new"},null,8,["label","href"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:1},8,["rows"])])])],2),s("div",{class:d(a(m).screen.lt.sm?"q-pa-md":"q-pa-xl"),id:"apiform"},[s("div",we,[s("div",{class:d(a(m).screen.lt.md?"q-mb-lg q-pb-md":"")},[s("h2",{class:d(["text-h2 text-white q-mb-lg text-center",a(m).screen.lt.md?"justify-center":""])},i(a(o)("autotune.title")),3)],2)]),s("div",xe,i(a(o)("autotune.description")),1),s("div",qe,[s("div",ye,[e(ee,{"show-function":"tuning"})])])],2),e(ae,{"faq-sources":["autotune.faq_v1","api_general_faq","billing_general_faq"],dark:!0},null,8,["faq-sources"]),e(X)]),_:1}))}});var nt=W(ke,[["__scopeId","data-v-3c433cb2"]]);export{nt as default};
