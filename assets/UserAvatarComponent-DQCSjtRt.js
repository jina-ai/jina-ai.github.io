import{s as Le,m as fe,p as qe,K as je,j as me,a0 as ve,k as j,u as ge,am as ee,n as pe,a2 as ye,a3 as U,a4 as V,a5 as M,a6 as y,a7 as Ke,a9 as Y,ad as We,ae as ce,aq as Z,af as K,ag as W,aM as Ve,q as $,aa as be,ah as Ze,bp as He,ab as Me,aE as Ge,an as Je,ao as Xe,b0 as Ye,aj as $e}from"./index-BgdBI0se.js";import{Q as ue}from"./QItemLabel-BkT-KgOd.js";import{Q as ea}from"./QTooltip-Bk_e6p3U.js";import{c as aa}from"./copy-to-clipboard-DJo7KwCR.js";import{a as de,u as _e}from"./use-dialog-plugin-component-D20o38a1.js";import{Q as ra}from"./QChip-DSUncXTA.js";const ma=Le({name:"QToolbar",props:{inset:Boolean},setup(S,{slots:m}){const d=fe(()=>"q-toolbar row no-wrap items-center"+(S.inset===!0?" q-toolbar--inset":""));return()=>qe("div",{class:d.value,role:"toolbar"},je(m.default))}});var ae={};(function S(m,d,o,P){var I=!!(m.Worker&&m.Blob&&m.Promise&&m.OffscreenCanvas&&m.OffscreenCanvasRenderingContext2D&&m.HTMLCanvasElement&&m.HTMLCanvasElement.prototype.transferControlToOffscreen&&m.URL&&m.URL.createObjectURL),k=typeof Path2D=="function"&&typeof DOMMatrix=="function",w=function(){if(!m.OffscreenCanvas)return!1;var a=new OffscreenCanvas(1,1),e=a.getContext("2d");e.fillRect(0,0,1,1);var r=a.transferToImageBitmap();try{e.createPattern(r,"no-repeat")}catch{return!1}return!0}();function R(){}function E(a){var e=d.exports.Promise,r=e!==void 0?e:m.Promise;return typeof r=="function"?new r(a):(a(R,R),null)}var B=function(a,e){return{transform:function(r){if(a)return r;if(e.has(r))return e.get(r);var t=new OffscreenCanvas(r.width,r.height),i=t.getContext("2d");return i.drawImage(r,0,0),e.set(r,t),t},clear:function(){e.clear()}}}(w,new Map),A=function(){var a=Math.floor(16.666666666666668),e,r,t={},i=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(e=function(s){var l=Math.random();return t[l]=requestAnimationFrame(function n(c){i===c||i+a-1<c?(i=c,delete t[l],s()):t[l]=requestAnimationFrame(n)}),l},r=function(s){t[s]&&cancelAnimationFrame(t[s])}):(e=function(s){return setTimeout(s,a)},r=function(s){return clearTimeout(s)}),{frame:e,cancel:r}}(),O=function(){var a,e,r={};function t(i){function s(l,n){i.postMessage({options:l||{},callback:n})}i.init=function(n){var c=n.transferControlToOffscreen();i.postMessage({canvas:c},[c])},i.fire=function(n,c,h){if(e)return s(n,null),e;var g=Math.random().toString(36).slice(2);return e=E(function(f){function p(b){b.data.callback===g&&(delete r[g],i.removeEventListener("message",p),e=null,B.clear(),h(),f())}i.addEventListener("message",p),s(n,g),r[g]=p.bind(null,{data:{callback:g}})}),e},i.reset=function(){i.postMessage({reset:!0});for(var n in r)r[n](),delete r[n]}}return function(){if(a)return a;if(!o&&I){var i=["var CONFETTI, SIZE = {}, module = {};","("+S.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{a=new Worker(URL.createObjectURL(new Blob([i])))}catch(s){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",s),null}t(a)}return a}}(),N={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function z(a,e){return e?e(a):a}function H(a){return a!=null}function v(a,e,r){return z(a&&H(a[e])?a[e]:N[e],r)}function re(a){return a<0?0:Math.floor(a)}function Q(a,e){return Math.floor(Math.random()*(e-a))+a}function L(a){return parseInt(a,16)}function G(a){return a.map(q)}function q(a){var e=String(a).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:L(e.substring(0,2)),g:L(e.substring(2,4)),b:L(e.substring(4,6))}}function we(a){var e=v(a,"origin",Object);return e.x=v(e,"x",Number),e.y=v(e,"y",Number),e}function Ce(a){a.width=document.documentElement.clientWidth,a.height=document.documentElement.clientHeight}function Fe(a){var e=a.getBoundingClientRect();a.width=e.width,a.height=e.height}function Pe(a){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=a,e}function xe(a,e,r,t,i,s,l,n,c){a.save(),a.translate(e,r),a.rotate(s),a.scale(t,i),a.arc(0,0,1,l,n,c),a.restore()}function ke(a){var e=a.angle*(Math.PI/180),r=a.spread*(Math.PI/180);return{x:a.x,y:a.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:a.startVelocity*.5+Math.random()*a.startVelocity,angle2D:-e+(.5*r-Math.random()*r),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:a.color,shape:a.shape,tick:0,totalTicks:a.ticks,decay:a.decay,drift:a.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:a.gravity*3,ovalScalar:.6,scalar:a.scalar,flat:a.flat}}function Te(a,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.velocity*=e.decay,e.flat?(e.wobble=0,e.wobbleX=e.x+10*e.scalar,e.wobbleY=e.y+10*e.scalar,e.tiltSin=0,e.tiltCos=0,e.random=1):(e.wobble+=e.wobbleSpeed,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble),e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2);var r=e.tick++/e.totalTicks,t=e.x+e.random*e.tiltCos,i=e.y+e.random*e.tiltSin,s=e.wobbleX+e.random*e.tiltCos,l=e.wobbleY+e.random*e.tiltSin;if(a.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-r)+")",a.beginPath(),k&&e.shape.type==="path"&&typeof e.shape.path=="string"&&Array.isArray(e.shape.matrix))a.fill(Ie(e.shape.path,e.shape.matrix,e.x,e.y,Math.abs(s-t)*.1,Math.abs(l-i)*.1,Math.PI/10*e.wobble));else if(e.shape.type==="bitmap"){var n=Math.PI/10*e.wobble,c=Math.abs(s-t)*.1,h=Math.abs(l-i)*.1,g=e.shape.bitmap.width*e.scalar,f=e.shape.bitmap.height*e.scalar,p=new DOMMatrix([Math.cos(n)*c,Math.sin(n)*c,-Math.sin(n)*h,Math.cos(n)*h,e.x,e.y]);p.multiplySelf(new DOMMatrix(e.shape.matrix));var b=a.createPattern(B.transform(e.shape.bitmap),"no-repeat");b.setTransform(p),a.globalAlpha=1-r,a.fillStyle=b,a.fillRect(e.x-g/2,e.y-f/2,g,f),a.globalAlpha=1}else if(e.shape==="circle")a.ellipse?a.ellipse(e.x,e.y,Math.abs(s-t)*e.ovalScalar,Math.abs(l-i)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):xe(a,e.x,e.y,Math.abs(s-t)*e.ovalScalar,Math.abs(l-i)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI);else if(e.shape==="star")for(var u=Math.PI/2*3,_=4*e.scalar,C=8*e.scalar,F=e.x,T=e.y,D=5,x=Math.PI/D;D--;)F=e.x+Math.cos(u)*C,T=e.y+Math.sin(u)*C,a.lineTo(F,T),u+=x,F=e.x+Math.cos(u)*_,T=e.y+Math.sin(u)*_,a.lineTo(F,T),u+=x;else a.moveTo(Math.floor(e.x),Math.floor(e.y)),a.lineTo(Math.floor(e.wobbleX),Math.floor(i)),a.lineTo(Math.floor(s),Math.floor(l)),a.lineTo(Math.floor(t),Math.floor(e.wobbleY));return a.closePath(),a.fill(),e.tick<e.totalTicks}function Se(a,e,r,t,i){var s=e.slice(),l=a.getContext("2d"),n,c,h=E(function(g){function f(){n=c=null,l.clearRect(0,0,t.width,t.height),B.clear(),i(),g()}function p(){o&&!(t.width===P.width&&t.height===P.height)&&(t.width=a.width=P.width,t.height=a.height=P.height),!t.width&&!t.height&&(r(a),t.width=a.width,t.height=a.height),l.clearRect(0,0,t.width,t.height),s=s.filter(function(b){return Te(l,b)}),s.length?n=A.frame(p):f()}n=A.frame(p),c=f});return{addFettis:function(g){return s=s.concat(g),h},canvas:a,promise:h,reset:function(){n&&A.cancel(n),c&&c()}}}function ne(a,e){var r=!a,t=!!v(e||{},"resize"),i=!1,s=v(e,"disableForReducedMotion",Boolean),l=I&&!!v(e||{},"useWorker"),n=l?O():null,c=r?Ce:Fe,h=a&&n?!!a.__confetti_initialized:!1,g=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,f;function p(u,_,C){for(var F=v(u,"particleCount",re),T=v(u,"angle",Number),D=v(u,"spread",Number),x=v(u,"startVelocity",Number),Re=v(u,"decay",Number),Be=v(u,"gravity",Number),De=v(u,"drift",Number),oe=v(u,"colors",G),Oe=v(u,"ticks",Number),ie=v(u,"shapes"),ze=v(u,"scalar"),Ue=!!v(u,"flat"),se=we(u),le=F,X=[],Ne=a.width*se.x,Qe=a.height*se.y;le--;)X.push(ke({x:Ne,y:Qe,angle:T,spread:D,startVelocity:x,color:oe[le%oe.length],shape:ie[Q(0,ie.length)],ticks:Oe,decay:Re,gravity:Be,drift:De,scalar:ze,flat:Ue}));return f?f.addFettis(X):(f=Se(a,X,c,_,C),f.promise)}function b(u){var _=s||v(u,"disableForReducedMotion",Boolean),C=v(u,"zIndex",Number);if(_&&g)return E(function(x){x()});r&&f?a=f.canvas:r&&!a&&(a=Pe(C),document.body.appendChild(a)),t&&!h&&c(a);var F={width:a.width,height:a.height};n&&!h&&n.init(a),h=!0,n&&(a.__confetti_initialized=!0);function T(){if(n){var x={getBoundingClientRect:function(){if(!r)return a.getBoundingClientRect()}};c(x),n.postMessage({resize:{width:x.width,height:x.height}});return}F.width=F.height=null}function D(){f=null,t&&(i=!1,m.removeEventListener("resize",T)),r&&a&&(document.body.contains(a)&&document.body.removeChild(a),a=null,h=!1)}return t&&!i&&(i=!0,m.addEventListener("resize",T,!1)),n?n.fire(u,F,D):p(u,F,D)}return b.reset=function(){n&&n.reset(),f&&f.reset()},b}var J;function te(){return J||(J=ne(null,{useWorker:!0,resize:!0})),J}function Ie(a,e,r,t,i,s,l){var n=new Path2D(a),c=new Path2D;c.addPath(n,new DOMMatrix(e));var h=new Path2D;return h.addPath(c,new DOMMatrix([Math.cos(l)*i,Math.sin(l)*i,-Math.sin(l)*s,Math.cos(l)*s,r,t])),h}function Ee(a){if(!k)throw new Error("path confetti are not supported in this browser");var e,r;typeof a=="string"?e=a:(e=a.path,r=a.matrix);var t=new Path2D(e),i=document.createElement("canvas"),s=i.getContext("2d");if(!r){for(var l=1e3,n=l,c=l,h=0,g=0,f,p,b=0;b<l;b+=2)for(var u=0;u<l;u+=2)s.isPointInPath(t,b,u,"nonzero")&&(n=Math.min(n,b),c=Math.min(c,u),h=Math.max(h,b),g=Math.max(g,u));f=h-n,p=g-c;var _=10,C=Math.min(_/f,_/p);r=[C,0,0,C,-Math.round(f/2+n)*C,-Math.round(p/2+c)*C]}return{type:"path",path:e,matrix:r}}function Ae(a){var e,r=1,t="#000000",i='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof a=="string"?e=a:(e=a.text,r="scalar"in a?a.scalar:r,i="fontFamily"in a?a.fontFamily:i,t="color"in a?a.color:t);var s=10*r,l=""+s+"px "+i,n=new OffscreenCanvas(s,s),c=n.getContext("2d");c.font=l;var h=c.measureText(e),g=Math.ceil(h.actualBoundingBoxRight+h.actualBoundingBoxLeft),f=Math.ceil(h.actualBoundingBoxAscent+h.actualBoundingBoxDescent),p=2,b=h.actualBoundingBoxLeft+p,u=h.actualBoundingBoxAscent+p;g+=p+p,f+=p+p,n=new OffscreenCanvas(g,f),c=n.getContext("2d"),c.font=l,c.fillStyle=t,c.fillText(e,b,u);var _=1/r;return{type:"bitmap",bitmap:n.transferToImageBitmap(),matrix:[_,0,0,_,-g*_/2,-f*_/2]}}d.exports=function(){return te().apply(this,arguments)},d.exports.reset=function(){te().reset()},d.exports.create=ne,d.exports.shapeFromPath=Ee,d.exports.shapeFromText=Ae})(function(){return typeof window!="undefined"?window:typeof self!="undefined"?self:this||{}}(),ae,!1);const he=ae.exports;ae.exports.create;const na=me({__name:"PurchaseSuccessDialog",props:{purchasedTime:{},hideActions:{type:Boolean},mode:{}},emits:[...de.emits],setup(S,{expose:m}){m();const{t:d}=ve({useScope:"global"}),{dialogRef:o,onDialogHide:P,onDialogOK:I}=de(),k=_e(),w=j(k.apiKey),R=j(!1),E=ge(),{user:B}=ee(E),A=S,O=j(!0),N=pe(),z=j(!1),H=()=>{!w.value||z.value||(aa(w.value).then(()=>{N.notify({message:d("copy_to_clipboard_success"),icon:"done"}),z.value=!0,gtag==null||gtag("event","embedding_copy_api_key",{location:document.location.href})}),setTimeout(()=>{z.value=!1},1800))},v={particleCount:100,spread:100,origin:{y:.6},colors:["#FF1493","#00FFFF","#FFD700","#FF4500","#7FFF00","#FF69B4","#40E0D0","#FFA500","#00FF00","#FF00FF"],disableForReducedMotion:!0},Q={t:d,dialogRef:o,onDialogHide:P,onDialogOK:I,embeddingStore:k,apiKey:w,isBusy:R,userStore:E,user:B,props:A,isPwd:O,$q:N,isApiKeyCopyDone:z,copyApiKey:H,confettiConfig:v,triggerConfetti:()=>{A.mode!=="generate"&&requestAnimationFrame(()=>{const G=Date.now()+300,q=()=>{he({...v,origin:{x:.3+Math.random()*.4,y:.6},zIndex:9999}),Date.now()<G&&requestAnimationFrame(q)};q(),setTimeout(()=>{he.reset()},5300)})}};return Object.defineProperty(Q,"__isScriptSetup",{enumerable:!1,value:!0}),Q}});function ta(S,m,d,o,P,I){return U(),V(Ge,{ref:"dialogRef",onShow:o.triggerConfetti},{default:M(()=>[y(Ke,{flat:"",square:"",class:"bg-mixed-200"},{default:M(()=>[y(Y,null,{default:M(()=>[y(We,null,{default:M(()=>[y(ce,{side:""},{default:M(()=>[y(Z,{name:d.mode==="generate"?"o_key":"celebration",size:"2em"},null,8,["name"])]),_:1}),y(ce,null,{default:M(()=>[y(ue,{class:"text-h6"},{default:M(()=>[K(W(d.mode==="generate"?o.t("purchase.generation"):o.t("purchase.success")),1)]),_:1}),y(ue,{caption:"",class:"text-dim"},{default:M(()=>[K(W(o.t(`purchase.${d.mode==="generate"?"generation_caption":"success_caption"}`,{_purchasedTime:d.purchasedTime})),1)]),_:1})]),_:1})]),_:1})]),_:1}),y(Y,null,{default:M(()=>[y(Ve,{"input-style":"font-family: monospace",readonly:"","model-value":o.apiKey,"hide-bottom-space":"",type:o.isPwd?"password":"text",filled:"",square:"",label:d.mode==="generate"?o.t("purchase.free_key"):o.t("purchase.api_key"),"input-class":"ellipsis"},{append:M(()=>[y(Z,{name:o.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:m[0]||(m[0]=k=>o.isPwd=!o.isPwd)},null,8,["name"])]),prepend:M(()=>[y($,{flat:"",square:"",icon:o.isApiKeyCopyDone?"done":"content_copy",color:o.isApiKeyCopyDone?"primary":"",onClick:o.copyApiKey,stretch:""},{default:M(()=>[y(ea,null,{default:M(()=>[K(W(o.t("copy")),1)]),_:1})]),_:1},8,["icon","color"])]),_:1},8,["model-value","type","label"])]),_:1}),d.hideActions?Me("",!0):(U(),be(Ze,{key:0},[y(Y,{class:"q-pa-lg"},{default:M(()=>[K(W(o.t("key_manager.login_explain_long")),1)]),_:1}),y(He,{align:"right"},{default:M(()=>[y($,{flat:"",square:"",label:o.t("key_manager.do_it_later"),onClick:o.onDialogHide},null,8,["label","onClick"]),y($,{flat:"",square:"",label:o.user.uid?o.t("key_manager.to_dashboard"):o.t("key_manager.login"),color:"primary",onClick:o.onDialogOK,icon:o.user.uid?"key":"login"},null,8,["label","onClick","icon"])]),_:1})],64))]),_:1})]),_:1},512)}const va=ye(na,[["render",ta],["__file","PurchaseSuccessDialog.vue"]]),oa=me({__name:"UserAvatarComponent",props:{size:{type:String,default:"sm"}},setup(S,{expose:m}){m();const{t:d}=ve({useScope:"global"}),o=pe(),P=Je(),I=Xe(),k=ge(),{user:w}=ee(k),R=_e(),{isPremiumPaidUser:E,isPaidUser:B}=ee(R),A=fe(()=>w.value.uid?w.value.displayName||w.value.email||w.value.uid:d("key_manager.login")),O={t:d,$q:o,router:P,route:I,userStore:k,user:w,embeddingStore:R,isPremiumPaidUser:E,isPaidUser:B,userDisplayName:A};return Object.defineProperty(O,"__isScriptSetup",{enumerable:!1,value:!0}),O}}),ia={class:"relative-position"};function sa(S,m,d,o,P,I){return U(),be("div",ia,[o.user.photoURL?(U(),V(Ye,{key:0,size:d.size,round:"",class:"bordered-avatar cursor-pointer"},{default:M(()=>[y(ra,{src:o.user.photoURL,referrerpolicy:"no-referrer",alt:o.userDisplayName},null,8,["src","alt"])]),_:1},8,["size"])):(U(),V(Z,{key:1,size:d.size,round:"",name:"person"},null,8,["size"])),o.user&&o.isPaidUser?(U(),V(Z,{key:2,name:"o_verified",size:d.size==="xs"?"10px":"14px",style:{position:"absolute"},class:$e({"xs-checkmark":d.size==="xs","sm-checkmark":d.size==="sm","golden-foil":o.isPremiumPaidUser,"silver-foil":!o.isPremiumPaidUser&&o.isPaidUser})},null,8,["size","class"])):Me("",!0)])}const ga=ye(oa,[["render",sa],["__scopeId","data-v-706a4946"],["__file","UserAvatarComponent.vue"]]);export{va as P,ma as Q,ga as U};
