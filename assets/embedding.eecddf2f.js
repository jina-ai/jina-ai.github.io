import{k as a,h as s,i as n,D as i,aV as c}from"./index.1b03f445.js";var h=a({name:"QToolbar",props:{inset:Boolean},setup(t,{slots:r}){const e=s(()=>"q-toolbar row no-wrap items-center"+(t.inset===!0?" q-toolbar--inset":""));return()=>n("div",{class:e.value,role:"toolbar"},i(r.default))}});const o="https://embeddings-dashboard-api.jina.ai";var p=(t=>(t.CONSUME="consume",t.PURCHASE="purchase",t.TRIAL="trial",t))(p||{});const l=c("embedding",{state:()=>({apiKey:"",models:[],products:[]}),persist:{paths:["apiKey"]},getters:{},actions:{async getApiKey(){try{const t=await fetch(`${o}/api/v1/api_key`,{method:"POST"});if(!t.ok)throw new Error(`getApiKey error! Status: ${t.status}`);const r=await t.json();return this.apiKey=r.api_key,!0}catch(t){return console.error("getApiKey error:",t),!1}},async getTokens(t){try{const r=await fetch(`${o}/api/v1/api_key/user?api_key=${t}`);if(!r.ok)throw new Error(`getTokens error! Status: ${r.status}`);return(await r.json()).wallet.total_balance}catch(r){console.error("getTokens error:",r)}},async getModels(){try{const t=await fetch(`${o}/api/v1/models`);if(!t.ok)throw new Error(`getModels error! Status: ${t.status}`);const r=await t.json();this.models=r}catch(t){console.error("getModels error:",t)}},async getProducts(){try{const t=await fetch(`${o}/api/v1/product`);if(!t.ok)throw new Error(`getProducts error! Status: ${t.status}`);const r=await t.json();this.products=r}catch(t){console.error("getProducts error:",t)}},async getUsage(t){try{const r=await fetch(`${o}/api/v1/billing/transaction`,{headers:{Authorization:`Bearer ${t}`}});if(!r.ok)throw new Error(`getUsage error! Status: ${r.status}`);return await r.json()}catch(r){console.error("getUsage error:",r)}},async checkoutWithStripe(t,r){try{const e=await fetch(`${o}/api/v1/checkout_session`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},method:"POST",body:JSON.stringify(r),mode:"cors",credentials:"include"});if(!e.ok)throw new Error(`checkoutWithStripe error! Status: ${e.status}`);return await e.json()}catch(e){console.error("checkoutWithStripe error:",e)}}}});export{h as Q,p as T,l as u};
