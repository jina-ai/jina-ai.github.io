import{a as g,Q as f}from"./QItemLabel.b3fa2b24.js";import{e as G,a6 as H,aa as A,a7 as p,ah as t,ak as F,ai as B,ab as O,a9 as c,P as Q,b1 as te,bH as se,az as T,ay as ie,f as re,w as de,K as ue,h as ce,a8 as o,al as U,at as q,ad as n,af as u,ag as d,ae as x,Z as P,ac as W,bC as me,bE as ge,bD as pe,aN as j}from"./index.7fde4dd7.js";import{Q as v}from"./QTooltip.eb2feff6.js";import{Q as fe}from"./QList.37bb462b.js";import{Q as be}from"./QBtnDropdown.0fe8b934.js";import{C as K}from"./ClosePopup.12eb86dd.js";import{u as _e}from"./embedding.dc36e67b.js";const Ae=G({__name:"NewsBadge",props:{news:{}},setup(m){const{t:r}=H({useScope:"global"});return(l,s)=>(c(),A(B,null,[l.news.featured?(c(),p(g,{key:0,label:t(r)("blog_tags.featured"),size:"sm",outline:"",square:"",class:"non-selectable no-border-radius lock-blur",icon:"star"},null,8,["label"])):F("",!0),(c(!0),A(B,null,O(l.news.tags,(i,S)=>(c(),p(g,{key:i.id,size:"sm",outline:"",square:"",class:"non-selectable no-border-radius lock-blur",label:t(r)(`blog_tags.${i.slug}`)},null,8,["label"]))),128))],64))}});function ve(m){const r=Object.assign({noopener:!0},m),l=[];for(const s in r){const i=r[s];i===!0?l.push(s):(se(i)||typeof i=="string"&&i!=="")&&l.push(s+"="+i)}return l.join(",")}function Z(m,r,l){let s=window.open;if(Q.is.cordova===!0){if(cordova!==void 0&&cordova.InAppBrowser!==void 0&&cordova.InAppBrowser.open!==void 0)s=cordova.InAppBrowser.open;else if(navigator!==void 0&&navigator.app!==void 0)return navigator.app.loadUrl(m,{openExternal:!0})}const i=s(m,"_blank",ve(l));if(i)return Q.is.desktop&&i.focus(),i;r&&r()}var we=(m,r,l)=>{if(Q.is.ios===!0&&window.SafariViewController!==void 0){window.SafariViewController.isAvailable(s=>{s?window.SafariViewController.show({url:m},te,r):Z(m,r,l)});return}return Z(m,r,l)};const ye={class:"full-width ellipsis q-pl-md"},Be=G({__name:"ModelDropDown",props:{currentModel:{},indicator:{type:Boolean,default:!0},category:{default:"embedding"},allowNone:{type:Boolean,default:!1}},emits:["chooseModel","modelsLoaded"],setup(m,{emit:r}){const{t:l}=H({useScope:"global"}),s=_e(),{models:i,baseDeModel:S,baseEnModel:z,baseZhModel:J,jinaRerankerV1:X}=T(s),Y=ie(),{language:y}=T(Y),h=re(!1),w=m,b=r,D=()=>{var e;b("chooseModel",(e=J.value)!=null?e:z.value)},E=()=>{var e;b("chooseModel",(e=S.value)!=null?e:z.value)};de(y,e=>{w.category==="embedding"&&(e&&["zh-CN","zh-TW"].includes(e)?D():e==="de"&&E())}),ue(async()=>{await ae()});const ee=ce(()=>i.value.filter(e=>{const _=w.category==="multi-embeddings",a=e.request_path,k=_?["multi-embeddings","embedding"]:[w.category];return Array.isArray(a)?a.some(M=>k.includes(M)):k.includes(a)}).sort((e,_)=>_.replicas-e.replicas)),ae=async()=>{h.value=!0,await s.getModels(),h.value=!1,w.category==="embedding"||w.category==="multi-embeddings"?i.value.length>0&&(y.value&&["zh-CN","zh-TW"].includes(y.value)?D():y.value==="de"?E():b("chooseModel",z.value)):w.category==="rank"&&b("chooseModel",X.value);for(const e of s.models)e.replicas=await s.getReplicas(s.apiKey,e.name);b("modelsLoaded")},oe=e=>{le("event","embedding_view_model_detail",{location:ne.location.href,model:e}),we(`https://huggingface.co/jinaai/${e}`)},le=window.gtag,ne=window.document,L=e=>e==="en"?"\u{1F1FA}\u{1F1F8}":e==="zh"?"\u{1F1E8}\u{1F1F3}\u{1F1FA}\u{1F1F8}":e==="de"?"\u{1F1E9}\u{1F1EA}\u{1F1FA}\u{1F1F8}":e==="es"?"\u{1F1EA}\u{1F1F8}\u{1F1FA}\u{1F1F8}":"\u{1F30D}";return(e,_)=>(c(),p(be,{"no-caps":"",flat:"",square:"",stretch:"",icon:"img:"+(e.category==="rank"?t(ge):t(pe)),loading:h.value,"disable-dropdown":h.value,class:U(e.$q.screen.lt.sm?"full-width q-py-md":"")},{label:o(()=>[q("div",ye,[n(x,{class:U(e.currentModel?"dynamic-text":"")},{default:o(()=>[n(f,{caption:"",class:"text-grey text-left"},{default:o(()=>[u(d(e.category==="rank"?t(l)("embedding.select_rerank_model"):t(l)("embedding.select_embedding_model")),1)]),_:1}),e.currentModel?(c(),p(f,{key:0},{default:o(()=>{var a;return[q("code",null,d((a=e.currentModel)==null?void 0:a.name),1)]}),_:1})):(c(),p(f,{key:1},{default:o(()=>[u(d(t(l)("embedding.none")),1)]),_:1}))]),_:1},8,["class"])])]),default:o(()=>[n(fe,null,{default:o(()=>[e.allowNone?P((c(),p(W,{key:0,clickable:"",active:!e.currentModel,onClick:_[0]||(_[0]=a=>b("chooseModel",null)),class:"q-pa-md"},{default:o(()=>[n(x,null,{default:o(()=>[n(f,{overline:"",caption:""},{default:o(()=>[u(d(t(l)("embedding.none")),1)]),_:1}),n(f,{class:"text-weight-bold"},{default:o(()=>[u(d(t(l)(`embedding.${e.category}_none_description`)),1)]),_:1})]),_:1})]),_:1},8,["active"])),[[j],[K]]):F("",!0),(c(!0),A(B,null,O(ee.value,(a,k)=>{var M;return P((c(),p(W,{key:k,clickable:"",active:a.name===((M=e.currentModel)==null?void 0:M.name),onClick:C=>b("chooseModel",a),class:"q-pa-md"},{default:o(()=>[n(x,null,{default:o(()=>[n(f,{overline:"",caption:""},{default:o(()=>[q("code",null,d(a.name),1)]),_:2},1024),n(f,{class:"text-weight-bold"},{default:o(()=>[u(d(t(l)(`embedding.${a.name}_description`)),1)]),_:2},1024),n(f,{caption:"",class:"row"},{default:o(()=>{var C,N,$,I,V,R;return[n(g,{label:a.replicas>0?t(l)("embedding.running"):t(l)("embedding.sleeping"),square:"",size:"xs",outline:"",icon:a.replicas>0?"play_circle_filled":"mdi-sleep",color:a.replicas>0?"positive":"warning",style:{"border-radius":"0"}},{default:o(()=>[n(v,{"max-width":"300px"},{default:o(()=>[u(d(t(l)("embedding.status_explain")),1)]),_:1})]),_:2},1032,["label","icon","color"]),a.request_path.includes("multi-embeddings")&&e.category.includes("embedding")?(c(),p(g,{key:0,color:a.name!==((C=e.currentModel)==null?void 0:C.name)?"grey-5":"",style:{"border-radius":"0"},icon:"grid_4x4",label:t(l)("embedding.multi_embedding"),square:"",size:"xs",outline:""},{default:o(()=>[n(v,null,{default:o(()=>[u(d(t(l)("embedding.multi_embedding_explain")),1)]),_:1})]),_:2},1032,["color","label"])):F("",!0),n(g,{label:a.meta_data.token_length,square:"",color:a.name!==((N=e.currentModel)==null?void 0:N.name)?"grey-5":"",size:"xs",outline:"",icon:"notes",style:{"border-radius":"0"}},{default:o(()=>[n(v,null,{default:o(()=>[u(d(t(l)("embedding.token_length_explain",{_tokenLength:a.meta_data.token_length})),1)]),_:2},1024)]),_:2},1032,["label","color"]),a.request_path.includes("embedding")?(c(),p(g,{key:1,label:a.meta_data.output_dim,square:"",color:a.name!==(($=e.currentModel)==null?void 0:$.name)?"grey-5":"",size:"xs",outline:"",icon:"mdi-axis-arrow",style:{"border-radius":"0"}},{default:o(()=>[n(v,null,{default:o(()=>[u(d(t(l)("embedding.output_dim_explain",{_outputDim:a.meta_data.output_dim})),1)]),_:2},1024)]),_:2},1032,["label","color"])):F("",!0),n(g,{label:a.meta_data.size,square:"",size:"xs",color:a.name!==((I=e.currentModel)==null?void 0:I.name)?"grey-5":"",outline:"",icon:"mdi-matrix",style:{"border-radius":"0"}},{default:o(()=>[n(v,null,{default:o(()=>[u(d(t(l)("embedding.size_explain",{_size:a.meta_data.size})),1)]),_:2},1024)]),_:2},1032,["label","color"]),n(g,{label:L(a.meta_data.language),square:"",color:a.name!==((V=e.currentModel)==null?void 0:V.name)?"grey-5":"",size:"xs",outline:"",style:{"border-radius":"0"}},{default:o(()=>[n(v,null,{default:o(()=>[u(d(t(l)("embedding.language_explain",{_language:L(a.meta_data.language)})),1)]),_:2},1024)]),_:2},1032,["label","color"]),n(g,{icon:"img:/huggingface_logo.svg",square:"",size:"xs",outline:"",color:a.name!==((R=e.currentModel)==null?void 0:R.name)?"grey-5":"",style:{"border-radius":"0"},onClick:me(he=>oe(a.name),["stop"]),clickable:"",label:t(l)("embedding.opensource")},{default:o(()=>[n(v,null,{default:o(()=>[u(d(t(l)("embedding.opensource_explain")),1)]),_:1})]),_:2},1032,["color","onClick","label"])]}),_:2},1024)]),_:2},1024)]),_:2},1032,["active","onClick"])),[[j],[K]])}),128))]),_:1})]),_:1},8,["icon","loading","disable-dropdown","class"]))}});export{Ae as _,Be as a};
