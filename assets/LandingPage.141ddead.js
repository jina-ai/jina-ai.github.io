import{e as Se,f as fe,ag as _e,ah as L,aB as Lt,cb as us,u as Qo,ai as j,am as k,aj as ve,ak as nt,ar as Ae,aA as ht,au as Be,an as P,av as _t,as as re,aq as we,at as be,ae as Jn,al as ze,bt as ke,ao as De,ap as Pe,c5 as On,h as ie,i as Ee,cc as zi,w as xe,U as Xt,cd as Ce,aa as Ft,aG as Bi,K as Ze,ce as cs,ad as Hi,cf as $t,J as Ue,cg as ye,o as Ri,ch as Vi,ci as ds,C as pn,r as fs,x as Li,cj as hs,bc as Jo,ck as gs,cl as ps,cm as vs,b7 as ms,cn as Fi,co as Dn,cp as Bt,cq as ys,ay as To,ba as wr,a4 as xn,bE as _s,b5 as ws,aZ as bs,b8 as En,af as xs,aF as Es,cr as Ss,j as At,aw as br}from"./index.923241a6.js";import{Q as Et,a as Ns}from"./QImg.bb7baf8c.js";import{Q as $s,a as Cs,h as Gi,i as Ms,l as xr,U as Is,j as Ts}from"./EmbeddingDialog.be368936.js";import{Q as Ps}from"./QPage.dc230d39.js";import{_ as ks}from"./ResearchersComponent.1d53821b.js";import{u as As}from"./blogs.ae562037.js";import{L as Os}from"./LabeledPanel.fef25739.js";import{T as Ds}from"./TitleBlock.73ed99e9.js";import{a as zs,b as Bs,Q as Hs}from"./QTabs.79b250df.js";import{_ as Rs,Q as Fe,a as mt}from"./plugin-vue_export-helper.2b2d602d.js";import{Q as Yi}from"./QList.56df9bd7.js";import{_ as qi}from"./NewsBadge.11381298.js";import{H as jt}from"./H2TitleBlock.7fd44c0f.js";import{_ as Vs}from"./LogoWall.2bcc6591.js";import{Q as Ot}from"./QTooltip.4f082545.js";import{c as Ls,Q as Fs}from"./QLinearProgress.fbe4be53.js";import{u as Gs}from"./embedding.2f278c8e.js";import{u as Ys,R as Er,_ as qs,a as Xs}from"./SearchResultByModel.a36172c0.js";import{S as Ln,i as rn,r as vt,a as Fn,b as Us,e as er,c as an,d as eo,f as Xi,g as js,h as tr,j as nr}from"./isArrayLike.11b82f17.js";import"./QSpace.19c5f490.js";import"./use-panel.3d4db8af.js";import"./position-engine.0fc590b0.js";import"./copy-to-clipboard.fe5300fd.js";import"./QTable.4e72b80e.js";import"./use-fullscreen.ee37b822.js";import"./QForm.251e1c45.js";import"./QExpansionItem.a360452d.js";import"./finetune.31be7171.js";import"./PublicationCardComponent.8466e82a.js";import"./QBadge.ac51af0a.js";var Zs="/assets/portal-0.8babd99e.webp",Ks="/assets/portal-0.19674401.mp4",Ws="/assets/style-9.28d84e5f.svg",Qs="/assets/style-3.57129ee4.svg",Js="/assets/style-12.56cacc76.svg";const el={class:"description sub-title"},tl=Se({__name:"PPFeatureComponent",props:{items:{},horizontal:{type:Boolean,default:!1},showCaption:{type:Boolean,default:!1},color:{},imageRatio:{default:37/25}},setup(e){us(o=>({"6c8525f8":o.color}));const t=fe(0),n=Qo();return(o,r)=>(j(),_e(Lt,{square:"",flat:"",class:"bg-transparent"},{default:L(()=>[k(ht,null,{default:L(()=>[k(zs,{shrink:"",modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=i=>t.value=i),align:"center","active-class":"text-primary","no-caps":""},{default:L(()=>[(j(!0),ve(Ae,null,nt(o.items,(i,a)=>(j(),_e(Bs,{name:a,label:i.name,key:a},null,8,["name","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),k(ht,null,{default:L(()=>[k($s,{animated:"",modelValue:t.value,"onUpdate:modelValue":r[1]||(r[1]=i=>t.value=i),class:"bg-transparent lock-blur"},{default:L(()=>[(j(!0),ve(Ae,null,nt(o.items,(i,a)=>(j(),_e(Cs,{key:a,name:a},{default:L(()=>[k(ht,{class:Be(["feature-content no-wrap row",{"col-8":o.horizontal,"full-width q-mt-lg q-mt-md-xl":!o.horizontal,column:P(n).screen.lt.md}])},{default:L(()=>[o.showCaption?(j(),_e(ht,{class:Be(["q-pa-none q-pt-md-xl",{"col-4":!P(n).screen.lt.md}]),key:"text"},{default:L(()=>[k(_t,{name:i.icon,class:"dynamic-text",size:"96px"},null,8,["name"]),re("h4",null,we(i.title),1),re("p",el,we(i.description),1)]),_:2},1032,["class"])):be("",!0),k(Et,{class:Be(["col full-height",{"q-ml-lg":o.horizontal||o.showCaption&&!P(n).screen.lt.md,"feature-item-image":o.showCaption}]),"img-class":"rounded-borders",key:"image",ratio:o.imageRatio,fit:"cover",src:i.image},null,8,["class","ratio","src"])]),_:2},1032,["class"])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}))}});var nl=Rs(tl,[["__scopeId","data-v-14c7b532"]]);const ol=re("span",{class:"q-focus-helper"},null,-1),rl={key:0,class:"col"},il={key:1,class:"col-4 overflow-hidden"},al=Se({__name:"NewsVerticalCardLandingPage",props:{item:{}},setup(e){const{t}=Jn({useScope:"global"});return(n,o)=>(j(),_e(ze,{to:`/news/${n.item.slug}`,class:"q-pa-none"},{default:L(()=>[k(Lt,{flat:"",square:"",class:"cursor-pointer q-hoverable non-selectable full-width card-details"},{default:L(()=>[ol,k(ht,{horizontal:n.$q.screen.gt.xs,class:"justify-between full-height q-pa-none overflow-hidden"},{default:L(()=>[n.$q.screen.lt.sm?(j(),ve("div",rl,[k(Et,{src:n.item.featureImage,class:"hoverOnImage",loading:"lazy",alt:n.item.featureImageAlt},null,8,["src","alt"])])):be("",!0),k(ht,{class:"col column justify-between q-pa-none no-wrap full-height",style:ke({"background-image":`url(${n.item.featureImage})`})},{default:L(()=>[k(Yi,{class:"bg-dark-transparent lock-blur q-pa-sm-sm q-pa-xs-sm q-pa-md-md q-pa-lg",style:{"flex-grow":"1"}},{default:L(()=>[k(ze,null,{default:L(()=>[k(qi,{news:n.item},null,8,["news"])]),_:1}),k(ze,{class:"q-pt-xl"},{default:L(()=>[k(De,null,{default:L(()=>[k(Fe,{class:"text-h6 text-weight-light q-mb-xl",lines:"2"},{default:L(()=>[Pe(we(n.item.title),1)]),_:1})]),_:1})]),_:1}),k(ze,null,{default:L(()=>[k(De,null,{default:L(()=>[k(Fe,{caption:""},{default:L(()=>[Pe(we(P(On)(n.item.publishedAt).format("MMMM DD, YYYY"))+" \u2022 "+we(n.item.readingTime)+" "+we(P(t)("newsroom_page.minutes_read")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["style"]),n.$q.screen.gt.xs?(j(),ve("div",il,[k(Et,{src:n.item.featureImage,class:"full-height hoverOnImage",loading:"lazy",alt:n.item.featureImageAlt},null,8,["src","alt"])])):be("",!0)]),_:1},8,["horizontal"])]),_:1})]),_:1},8,["to"]))}}),sl={class:"col-12 col-md-6 cursor-pointer self-stretch"},ll={class:"q-pa-sm full-height no-wrap column"},ul={class:"col overflow-hidden",style:{"min-height":"200px"}},cl={class:"col-12 col-md-6 column self-stretch no-wrap"},dl=Se({__name:"NewsFeatureJumbo",props:{featured:{type:Object,required:!0},latest:{type:Array,required:!0}},setup(e){const{t,te:n}=Jn({useScope:"global"}),o=e,r=ie(()=>o.latest.filter(a=>a.slug!==o.featured.slug).slice(0,2)),i=ie(()=>On(o.latest[0].publishedAt).isAfter(On(o.featured.publishedAt)));return(a,s)=>(j(),ve("div",{class:Be(["row justify-between items-center q-mb-xl",{reverse:i.value}])},[re("div",sl,[re("div",ll,[k(ze,{to:`/news/${e.featured.slug}`,class:"q-pa-none",style:{"flex-grow":"1"}},{default:L(()=>[k(Lt,{flat:"",square:"",class:"full-height full-width non-selectable column card-details"},{default:L(()=>[re("div",ul,[k(Et,{src:e.featured.featureImage,loading:"lazy",alt:e.featured.featureImageAlt,class:"hoverOnImage full-height"},null,8,["src","alt"])]),k(ht,{style:ke({"background-image":`url(${e.featured.featureImage})`}),class:"q-pa-none no-wrap col-auto"},{default:L(()=>[k(Yi,{class:"bg-dark-transparent lock-blur q-pa-sm-sm q-pa-xs-sm q-pa-md-md q-pa-lg"},{default:L(()=>[k(ze,null,{default:L(()=>[k(qi,{news:e.featured},null,8,["news"])]),_:1}),k(ze,{class:"q-pt-xl"},{default:L(()=>[k(De,null,{default:L(()=>[k(Fe,{class:"text-h5 text-weight-light q-mb-lg",lines:"3"},{default:L(()=>[Pe(we(e.featured.title),1)]),_:1})]),_:1})]),_:1}),k(ze,null,{default:L(()=>[k(De,null,{default:L(()=>[k(Fe,{caption:""},{default:L(()=>[Pe(we(P(On)(e.featured.publishedAt).format("MMMM DD, YYYY"))+" \u2022 "+we(e.featured.readingTime)+" "+we(P(t)("newsroom_page.minutes_read")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["style"])]),_:1})]),_:1},8,["to"])])]),re("div",cl,[(j(!0),ve(Ae,null,nt(r.value,(l,u)=>(j(),ve("div",{class:"col-6 q-pa-sm",key:u},[k(al,{item:l,class:"full-height"},null,8,["item"])]))),128))])],2))}});function to(e){return Fi()?(Dn(e),!0):!1}function et(e){return typeof e=="function"?e():P(e)}const fl=typeof window!="undefined"&&typeof document!="undefined",hl=e=>typeof e!="undefined",gl=Object.prototype.toString,pl=e=>gl.call(e)==="[object Object]",vl=()=>{};function ml(e,t){function n(...o){return new Promise((r,i)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(r).catch(i)})}return n}const Ui=e=>e();function yl(e=Ui){const t=fe(!0);function n(){t.value=!1}function o(){t.value=!0}const r=(...i)=>{t.value&&e(...i)};return{isActive:ys(t),pause:n,resume:o,eventFilter:r}}function Sr(e,t=!1,n="Timeout"){return new Promise((o,r)=>{setTimeout(t?()=>r(n):o,e)})}function _l(e,t,n={}){const{eventFilter:o=Ui,...r}=n;return xe(e,ml(o,t),r)}function Dt(e,t,n={}){const{eventFilter:o,...r}=n,{eventFilter:i,pause:a,resume:s,isActive:l}=yl(o);return{stop:_l(e,t,{...r,eventFilter:i}),pause:a,resume:s,isActive:l}}function wl(e,t={}){if(!Jo(e))return gs(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const o in e.value)n[o]=ps(()=>({get(){return e.value[o]},set(r){var i;if((i=et(t.replaceRef))!=null?i:!0)if(Array.isArray(e.value)){const s=[...e.value];s[o]=r,e.value=s}else{const s={...e.value,[o]:r};Object.setPrototypeOf(s,Object.getPrototypeOf(e.value)),e.value=s}else e.value[o]=r}}));return n}function Po(e,t=!1){function n(h,{flush:g="sync",deep:v=!1,timeout:x,throwOnTimeout:m}={}){let b=null;const p=[new Promise(I=>{b=xe(e,N=>{h(N)!==t&&(b==null||b(),I(N))},{flush:g,deep:v,immediate:!0})})];return x!=null&&p.push(Sr(x,m).then(()=>et(e)).finally(()=>b==null?void 0:b())),Promise.race(p)}function o(h,g){if(!Jo(h))return n(N=>N===h,g);const{flush:v="sync",deep:x=!1,timeout:m,throwOnTimeout:b}=g!=null?g:{};let E=null;const I=[new Promise(N=>{E=xe([e,h],([H,Y])=>{t!==(H===Y)&&(E==null||E(),N(H))},{flush:v,deep:x,immediate:!0})})];return m!=null&&I.push(Sr(m,b).then(()=>et(e)).finally(()=>(E==null||E(),et(e)))),Promise.race(I)}function r(h){return n(g=>Boolean(g),h)}function i(h){return o(null,h)}function a(h){return o(void 0,h)}function s(h){return n(Number.isNaN,h)}function l(h,g){return n(v=>{const x=Array.from(v);return x.includes(h)||x.includes(et(h))},g)}function u(h){return d(1,h)}function d(h=1,g){let v=-1;return n(()=>(v+=1,v>=h),g)}return Array.isArray(et(e))?{toMatch:n,toContains:l,changed:u,changedTimes:d,get not(){return Po(e,!t)}}:{toMatch:n,toBe:o,toBeTruthy:r,toBeNull:i,toBeNaN:s,toBeUndefined:a,changed:u,changedTimes:d,get not(){return Po(e,!t)}}}function ko(e){return Po(e)}function bl(e){var t;const n=et(e);return(t=n==null?void 0:n.$el)!=null?t:n}const ji=fl?window:void 0;function Zi(...e){let t,n,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,r]=e,t=ji):[t,n,o,r]=e,!t)return vl;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const i=[],a=()=>{i.forEach(d=>d()),i.length=0},s=(d,h,g,v)=>(d.addEventListener(h,g,v),()=>d.removeEventListener(h,g,v)),l=xe(()=>[bl(t),et(r)],([d,h])=>{if(a(),!d)return;const g=pl(h)?{...h}:h;i.push(...n.flatMap(v=>o.map(x=>s(d,v,x,g))))},{immediate:!0,flush:"post"}),u=()=>{l(),a()};return to(u),u}function xl(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function Nr(...e){let t,n,o={};e.length===3?(t=e[0],n=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],o=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:r=ji,eventName:i="keydown",passive:a=!1,dedupe:s=!1}=o,l=xl(t);return Zi(r,i,d=>{d.repeat&&et(s)||l(d)&&n(d)},a)}function El(e){return JSON.parse(JSON.stringify(e))}function mo(e,t,n,o={}){var r,i,a;const{clone:s=!1,passive:l=!1,eventName:u,deep:d=!1,defaultValue:h,shouldEmit:g}=o,v=pn(),x=n||(v==null?void 0:v.emit)||((r=v==null?void 0:v.$emit)==null?void 0:r.bind(v))||((a=(i=v==null?void 0:v.proxy)==null?void 0:i.$emit)==null?void 0:a.bind(v==null?void 0:v.proxy));let m=u;t||(t="modelValue"),m=m||`update:${t.toString()}`;const b=I=>s?typeof s=="function"?s(I):El(I):I,E=()=>hl(e[t])?b(e[t]):h,p=I=>{g?g(I)&&x(m,I):x(m,I)};if(l){const I=E(),N=fe(I);let H=!1;return xe(()=>e[t],Y=>{H||(H=!0,N.value=b(Y),Ue(()=>H=!1))}),xe(N,Y=>{!H&&(Y!==e[t]||d)&&p(Y)},{deep:d}),N}else return ie({get(){return E()},set(I){p(I)}})}var Sl={value:()=>{}};function no(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new zn(n)}function zn(e){this._=e}function Nl(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",r=n.indexOf(".");if(r>=0&&(o=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}zn.prototype=no.prototype={constructor:zn,on:function(e,t){var n=this._,o=Nl(e+"",n),r,i=-1,a=o.length;if(arguments.length<2){for(;++i<a;)if((r=(e=o[i]).type)&&(r=$l(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<a;)if(r=(e=o[i]).type)n[r]=$r(n[r],e.name,t);else if(t==null)for(r in n)n[r]=$r(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new zn(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),o=0,r,i;o<r;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],o=0,r=i.length;o<r;++o)i[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)}};function $l(e,t){for(var n=0,o=e.length,r;n<o;++n)if((r=e[n]).name===t)return r.value}function $r(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=Sl,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ao="http://www.w3.org/1999/xhtml";const Cr={svg:"http://www.w3.org/2000/svg",xhtml:Ao,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function oo(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Cr.hasOwnProperty(t)?{space:Cr[t],local:e}:e}function Cl(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ao&&t.documentElement.namespaceURI===Ao?t.createElement(e):t.createElementNS(n,e)}}function Ml(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ki(e){var t=oo(e);return(t.local?Ml:Cl)(t)}function Il(){}function or(e){return e==null?Il:function(){return this.querySelector(e)}}function Tl(e){typeof e!="function"&&(e=or(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],a=i.length,s=o[r]=new Array(a),l,u,d=0;d<a;++d)(l=i[d])&&(u=e.call(l,l.__data__,d,i))&&("__data__"in l&&(u.__data__=l.__data__),s[d]=u);return new He(o,this._parents)}function Pl(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function kl(){return[]}function Wi(e){return e==null?kl:function(){return this.querySelectorAll(e)}}function Al(e){return function(){return Pl(e.apply(this,arguments))}}function Ol(e){typeof e=="function"?e=Al(e):e=Wi(e);for(var t=this._groups,n=t.length,o=[],r=[],i=0;i<n;++i)for(var a=t[i],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(o.push(e.call(l,l.__data__,u,a)),r.push(l));return new He(o,r)}function Qi(e){return function(){return this.matches(e)}}function Ji(e){return function(t){return t.matches(e)}}var Dl=Array.prototype.find;function zl(e){return function(){return Dl.call(this.children,e)}}function Bl(){return this.firstElementChild}function Hl(e){return this.select(e==null?Bl:zl(typeof e=="function"?e:Ji(e)))}var Rl=Array.prototype.filter;function Vl(){return Array.from(this.children)}function Ll(e){return function(){return Rl.call(this.children,e)}}function Fl(e){return this.selectAll(e==null?Vl:Ll(typeof e=="function"?e:Ji(e)))}function Gl(e){typeof e!="function"&&(e=Qi(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],a=i.length,s=o[r]=[],l,u=0;u<a;++u)(l=i[u])&&e.call(l,l.__data__,u,i)&&s.push(l);return new He(o,this._parents)}function ea(e){return new Array(e.length)}function Yl(){return new He(this._enter||this._groups.map(ea),this._parents)}function Gn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Gn.prototype={constructor:Gn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ql(e){return function(){return e}}function Xl(e,t,n,o,r,i){for(var a=0,s,l=t.length,u=i.length;a<u;++a)(s=t[a])?(s.__data__=i[a],o[a]=s):n[a]=new Gn(e,i[a]);for(;a<l;++a)(s=t[a])&&(r[a]=s)}function Ul(e,t,n,o,r,i,a){var s,l,u=new Map,d=t.length,h=i.length,g=new Array(d),v;for(s=0;s<d;++s)(l=t[s])&&(g[s]=v=a.call(l,l.__data__,s,t)+"",u.has(v)?r[s]=l:u.set(v,l));for(s=0;s<h;++s)v=a.call(e,i[s],s,i)+"",(l=u.get(v))?(o[s]=l,l.__data__=i[s],u.delete(v)):n[s]=new Gn(e,i[s]);for(s=0;s<d;++s)(l=t[s])&&u.get(g[s])===l&&(r[s]=l)}function jl(e){return e.__data__}function Zl(e,t){if(!arguments.length)return Array.from(this,jl);var n=t?Ul:Xl,o=this._parents,r=this._groups;typeof e!="function"&&(e=ql(e));for(var i=r.length,a=new Array(i),s=new Array(i),l=new Array(i),u=0;u<i;++u){var d=o[u],h=r[u],g=h.length,v=Kl(e.call(d,d&&d.__data__,u,o)),x=v.length,m=s[u]=new Array(x),b=a[u]=new Array(x),E=l[u]=new Array(g);n(d,h,m,b,E,v,t);for(var p=0,I=0,N,H;p<x;++p)if(N=m[p]){for(p>=I&&(I=p+1);!(H=b[I])&&++I<x;);N._next=H||null}}return a=new He(a,o),a._enter=s,a._exit=l,a}function Kl(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Wl(){return new He(this._exit||this._groups.map(ea),this._parents)}function Ql(e,t,n){var o=this.enter(),r=this,i=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?i.remove():n(i),o&&r?o.merge(r).order():r}function Jl(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,i=o.length,a=Math.min(r,i),s=new Array(r),l=0;l<a;++l)for(var u=n[l],d=o[l],h=u.length,g=s[l]=new Array(h),v,x=0;x<h;++x)(v=u[x]||d[x])&&(g[x]=v);for(;l<r;++l)s[l]=n[l];return new He(s,this._parents)}function eu(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],r=o.length-1,i=o[r],a;--r>=0;)(a=o[r])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function tu(e){e||(e=nu);function t(h,g){return h&&g?e(h.__data__,g.__data__):!h-!g}for(var n=this._groups,o=n.length,r=new Array(o),i=0;i<o;++i){for(var a=n[i],s=a.length,l=r[i]=new Array(s),u,d=0;d<s;++d)(u=a[d])&&(l[d]=u);l.sort(t)}return new He(r,this._parents).order()}function nu(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ou(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ru(){return Array.from(this)}function iu(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length;r<i;++r){var a=o[r];if(a)return a}return null}function au(){let e=0;for(const t of this)++e;return e}function su(){return!this.node()}function lu(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r=t[n],i=0,a=r.length,s;i<a;++i)(s=r[i])&&e.call(s,s.__data__,i,r);return this}function uu(e){return function(){this.removeAttribute(e)}}function cu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function du(e,t){return function(){this.setAttribute(e,t)}}function fu(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function hu(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function gu(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function pu(e,t){var n=oo(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?cu:uu:typeof t=="function"?n.local?gu:hu:n.local?fu:du)(n,t))}function ta(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function vu(e){return function(){this.style.removeProperty(e)}}function mu(e,t,n){return function(){this.style.setProperty(e,t,n)}}function yu(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function _u(e,t,n){return arguments.length>1?this.each((t==null?vu:typeof t=="function"?yu:mu)(e,t,n==null?"":n)):Gt(this.node(),e)}function Gt(e,t){return e.style.getPropertyValue(t)||ta(e).getComputedStyle(e,null).getPropertyValue(t)}function wu(e){return function(){delete this[e]}}function bu(e,t){return function(){this[e]=t}}function xu(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Eu(e,t){return arguments.length>1?this.each((t==null?wu:typeof t=="function"?xu:bu)(e,t)):this.node()[e]}function na(e){return e.trim().split(/^|\s+/)}function rr(e){return e.classList||new oa(e)}function oa(e){this._node=e,this._names=na(e.getAttribute("class")||"")}oa.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ra(e,t){for(var n=rr(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function ia(e,t){for(var n=rr(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function Su(e){return function(){ra(this,e)}}function Nu(e){return function(){ia(this,e)}}function $u(e,t){return function(){(t.apply(this,arguments)?ra:ia)(this,e)}}function Cu(e,t){var n=na(e+"");if(arguments.length<2){for(var o=rr(this.node()),r=-1,i=n.length;++r<i;)if(!o.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?$u:t?Su:Nu)(n,t))}function Mu(){this.textContent=""}function Iu(e){return function(){this.textContent=e}}function Tu(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function Pu(e){return arguments.length?this.each(e==null?Mu:(typeof e=="function"?Tu:Iu)(e)):this.node().textContent}function ku(){this.innerHTML=""}function Au(e){return function(){this.innerHTML=e}}function Ou(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function Du(e){return arguments.length?this.each(e==null?ku:(typeof e=="function"?Ou:Au)(e)):this.node().innerHTML}function zu(){this.nextSibling&&this.parentNode.appendChild(this)}function Bu(){return this.each(zu)}function Hu(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ru(){return this.each(Hu)}function Vu(e){var t=typeof e=="function"?e:Ki(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Lu(){return null}function Fu(e,t){var n=typeof e=="function"?e:Ki(e),o=t==null?Lu:typeof t=="function"?t:or(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function Gu(){var e=this.parentNode;e&&e.removeChild(this)}function Yu(){return this.each(Gu)}function qu(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Xu(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Uu(e){return this.select(e?Xu:qu)}function ju(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Zu(e){return function(t){e.call(this,t,this.__data__)}}function Ku(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function Wu(e){return function(){var t=this.__on;if(!!t){for(var n=0,o=-1,r=t.length,i;n<r;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++o]=i;++o?t.length=o:delete this.__on}}}function Qu(e,t,n){return function(){var o=this.__on,r,i=Zu(t);if(o){for(var a=0,s=o.length;a<s;++a)if((r=o[a]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),r.value=t;return}}this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function Ju(e,t,n){var o=Ku(e+""),r,i=o.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,d;l<u;++l)for(r=0,d=s[l];r<i;++r)if((a=o[r]).type===d.type&&a.name===d.name)return d.value}return}for(s=t?Qu:Wu,r=0;r<i;++r)this.each(s(o[r],t,n));return this}function aa(e,t,n){var o=ta(e),r=o.CustomEvent;typeof r=="function"?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function ec(e,t){return function(){return aa(this,e,t)}}function tc(e,t){return function(){return aa(this,e,t.apply(this,arguments))}}function nc(e,t){return this.each((typeof t=="function"?tc:ec)(e,t))}function*oc(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length,a;r<i;++r)(a=o[r])&&(yield a)}var sa=[null];function He(e,t){this._groups=e,this._parents=t}function vn(){return new He([[document.documentElement]],sa)}function rc(){return this}He.prototype=vn.prototype={constructor:He,select:Tl,selectAll:Ol,selectChild:Hl,selectChildren:Fl,filter:Gl,data:Zl,enter:Yl,exit:Wl,join:Ql,merge:Jl,selection:rc,order:eu,sort:tu,call:ou,nodes:ru,node:iu,size:au,empty:su,each:lu,attr:pu,style:_u,property:Eu,classed:Cu,text:Pu,html:Du,raise:Bu,lower:Ru,append:Vu,insert:Fu,remove:Yu,clone:Uu,datum:ju,on:Ju,dispatch:nc,[Symbol.iterator]:oc};function Ge(e){return typeof e=="string"?new He([[document.querySelector(e)]],[document.documentElement]):new He([[e]],sa)}function ic(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Xe(e,t){if(e=ic(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const ac={passive:!1},sn={capture:!0,passive:!1};function yo(e){e.stopImmediatePropagation()}function Ht(e){e.preventDefault(),e.stopImmediatePropagation()}function la(e){var t=e.document.documentElement,n=Ge(e).on("dragstart.drag",Ht,sn);"onselectstart"in t?n.on("selectstart.drag",Ht,sn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function ua(e,t){var n=e.document.documentElement,o=Ge(e).on("dragstart.drag",null);t&&(o.on("click.drag",Ht,sn),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Sn=e=>()=>e;function Oo(e,{sourceEvent:t,subject:n,target:o,identifier:r,active:i,x:a,y:s,dx:l,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}Oo.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function sc(e){return!e.ctrlKey&&!e.button}function lc(){return this.parentNode}function uc(e,t){return t==null?{x:e.x,y:e.y}:t}function cc(){return navigator.maxTouchPoints||"ontouchstart"in this}function dc(){var e=sc,t=lc,n=uc,o=cc,r={},i=no("start","drag","end"),a=0,s,l,u,d,h=0;function g(N){N.on("mousedown.drag",v).filter(o).on("touchstart.drag",b).on("touchmove.drag",E,ac).on("touchend.drag touchcancel.drag",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(N,H){if(!(d||!e.call(this,N,H))){var Y=I(this,t.call(this,N,H),N,H,"mouse");!Y||(Ge(N.view).on("mousemove.drag",x,sn).on("mouseup.drag",m,sn),la(N.view),yo(N),u=!1,s=N.clientX,l=N.clientY,Y("start",N))}}function x(N){if(Ht(N),!u){var H=N.clientX-s,Y=N.clientY-l;u=H*H+Y*Y>h}r.mouse("drag",N)}function m(N){Ge(N.view).on("mousemove.drag mouseup.drag",null),ua(N.view,u),Ht(N),r.mouse("end",N)}function b(N,H){if(!!e.call(this,N,H)){var Y=N.changedTouches,R=t.call(this,N,H),K=Y.length,U,A;for(U=0;U<K;++U)(A=I(this,R,N,H,Y[U].identifier,Y[U]))&&(yo(N),A("start",N,Y[U]))}}function E(N){var H=N.changedTouches,Y=H.length,R,K;for(R=0;R<Y;++R)(K=r[H[R].identifier])&&(Ht(N),K("drag",N,H[R]))}function p(N){var H=N.changedTouches,Y=H.length,R,K;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),R=0;R<Y;++R)(K=r[H[R].identifier])&&(yo(N),K("end",N,H[R]))}function I(N,H,Y,R,K,U){var A=i.copy(),w=Xe(U||Y,H),oe,se,_;if((_=n.call(N,new Oo("beforestart",{sourceEvent:Y,target:g,identifier:K,active:a,x:w[0],y:w[1],dx:0,dy:0,dispatch:A}),R))!=null)return oe=_.x-w[0]||0,se=_.y-w[1]||0,function T(S,O,z){var B=w,F;switch(S){case"start":r[K]=T,F=a++;break;case"end":delete r[K],--a;case"drag":w=Xe(z||O,H),F=a;break}A.call(S,N,new Oo(S,{sourceEvent:O,subject:_,target:g,identifier:K,active:F,x:w[0]+oe,y:w[1]+se,dx:w[0]-B[0],dy:w[1]-B[1],dispatch:A}),R)}}return g.filter=function(N){return arguments.length?(e=typeof N=="function"?N:Sn(!!N),g):e},g.container=function(N){return arguments.length?(t=typeof N=="function"?N:Sn(N),g):t},g.subject=function(N){return arguments.length?(n=typeof N=="function"?N:Sn(N),g):n},g.touchable=function(N){return arguments.length?(o=typeof N=="function"?N:Sn(!!N),g):o},g.on=function(){var N=i.on.apply(i,arguments);return N===i?g:N},g.clickDistance=function(N){return arguments.length?(h=(N=+N)*N,g):Math.sqrt(h)},g}function ir(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ca(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function mn(){}var ln=.7,Yn=1/ln,Rt="\\s*([+-]?\\d+)\\s*",un="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",je="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fc=/^#([0-9a-f]{3,8})$/,hc=new RegExp(`^rgb\\(${Rt},${Rt},${Rt}\\)$`),gc=new RegExp(`^rgb\\(${je},${je},${je}\\)$`),pc=new RegExp(`^rgba\\(${Rt},${Rt},${Rt},${un}\\)$`),vc=new RegExp(`^rgba\\(${je},${je},${je},${un}\\)$`),mc=new RegExp(`^hsl\\(${un},${je},${je}\\)$`),yc=new RegExp(`^hsla\\(${un},${je},${je},${un}\\)$`),Mr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ir(mn,cn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ir,formatHex:Ir,formatHex8:_c,formatHsl:wc,formatRgb:Tr,toString:Tr});function Ir(){return this.rgb().formatHex()}function _c(){return this.rgb().formatHex8()}function wc(){return da(this).formatHsl()}function Tr(){return this.rgb().formatRgb()}function cn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=fc.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Pr(t):n===3?new Oe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Nn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Nn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=hc.exec(e))?new Oe(t[1],t[2],t[3],1):(t=gc.exec(e))?new Oe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=pc.exec(e))?Nn(t[1],t[2],t[3],t[4]):(t=vc.exec(e))?Nn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=mc.exec(e))?Or(t[1],t[2]/100,t[3]/100,1):(t=yc.exec(e))?Or(t[1],t[2]/100,t[3]/100,t[4]):Mr.hasOwnProperty(e)?Pr(Mr[e]):e==="transparent"?new Oe(NaN,NaN,NaN,0):null}function Pr(e){return new Oe(e>>16&255,e>>8&255,e&255,1)}function Nn(e,t,n,o){return o<=0&&(e=t=n=NaN),new Oe(e,t,n,o)}function bc(e){return e instanceof mn||(e=cn(e)),e?(e=e.rgb(),new Oe(e.r,e.g,e.b,e.opacity)):new Oe}function Do(e,t,n,o){return arguments.length===1?bc(e):new Oe(e,t,n,o==null?1:o)}function Oe(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}ir(Oe,Do,ca(mn,{brighter(e){return e=e==null?Yn:Math.pow(Yn,e),new Oe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ln:Math.pow(ln,e),new Oe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Oe(St(this.r),St(this.g),St(this.b),qn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kr,formatHex:kr,formatHex8:xc,formatRgb:Ar,toString:Ar}));function kr(){return`#${xt(this.r)}${xt(this.g)}${xt(this.b)}`}function xc(){return`#${xt(this.r)}${xt(this.g)}${xt(this.b)}${xt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ar(){const e=qn(this.opacity);return`${e===1?"rgb(":"rgba("}${St(this.r)}, ${St(this.g)}, ${St(this.b)}${e===1?")":`, ${e})`}`}function qn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function St(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xt(e){return e=St(e),(e<16?"0":"")+e.toString(16)}function Or(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ye(e,t,n,o)}function da(e){if(e instanceof Ye)return new Ye(e.h,e.s,e.l,e.opacity);if(e instanceof mn||(e=cn(e)),!e)return new Ye;if(e instanceof Ye)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),i=Math.max(t,n,o),a=NaN,s=i-r,l=(i+r)/2;return s?(t===i?a=(n-o)/s+(n<o)*6:n===i?a=(o-t)/s+2:a=(t-n)/s+4,s/=l<.5?i+r:2-i-r,a*=60):s=l>0&&l<1?0:a,new Ye(a,s,l,e.opacity)}function Ec(e,t,n,o){return arguments.length===1?da(e):new Ye(e,t,n,o==null?1:o)}function Ye(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}ir(Ye,Ec,ca(mn,{brighter(e){return e=e==null?Yn:Math.pow(Yn,e),new Ye(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ln:Math.pow(ln,e),new Ye(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new Oe(_o(e>=240?e-240:e+120,r,o),_o(e,r,o),_o(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new Ye(Dr(this.h),$n(this.s),$n(this.l),qn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=qn(this.opacity);return`${e===1?"hsl(":"hsla("}${Dr(this.h)}, ${$n(this.s)*100}%, ${$n(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Dr(e){return e=(e||0)%360,e<0?e+360:e}function $n(e){return Math.max(0,Math.min(1,e||0))}function _o(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const fa=e=>()=>e;function Sc(e,t){return function(n){return e+n*t}}function Nc(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function $c(e){return(e=+e)==1?ha:function(t,n){return n-t?Nc(t,n,e):fa(isNaN(t)?n:t)}}function ha(e,t){var n=t-e;return n?Sc(e,n):fa(isNaN(e)?t:e)}const zr=function e(t){var n=$c(t);function o(r,i){var a=n((r=Do(r)).r,(i=Do(i)).r),s=n(r.g,i.g),l=n(r.b,i.b),u=ha(r.opacity,i.opacity);return function(d){return r.r=a(d),r.g=s(d),r.b=l(d),r.opacity=u(d),r+""}}return o.gamma=e,o}(1);function dt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var zo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wo=new RegExp(zo.source,"g");function Cc(e){return function(){return e}}function Mc(e){return function(t){return e(t)+""}}function Ic(e,t){var n=zo.lastIndex=wo.lastIndex=0,o,r,i,a=-1,s=[],l=[];for(e=e+"",t=t+"";(o=zo.exec(e))&&(r=wo.exec(t));)(i=r.index)>n&&(i=t.slice(n,i),s[a]?s[a]+=i:s[++a]=i),(o=o[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:dt(o,r)})),n=wo.lastIndex;return n<t.length&&(i=t.slice(n),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?Mc(l[0].x):Cc(t):(t=l.length,function(u){for(var d=0,h;d<t;++d)s[(h=l[d]).i]=h.x(u);return s.join("")})}var Br=180/Math.PI,Bo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ga(e,t,n,o,r,i){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*o)&&(n-=e*l,o-=t*l),(s=Math.sqrt(n*n+o*o))&&(n/=s,o/=s,l/=s),e*o<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*Br,skewX:Math.atan(l)*Br,scaleX:a,scaleY:s}}var Cn;function Tc(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Bo:ga(t.a,t.b,t.c,t.d,t.e,t.f)}function Pc(e){return e==null||(Cn||(Cn=document.createElementNS("http://www.w3.org/2000/svg","g")),Cn.setAttribute("transform",e),!(e=Cn.transform.baseVal.consolidate()))?Bo:(e=e.matrix,ga(e.a,e.b,e.c,e.d,e.e,e.f))}function pa(e,t,n,o){function r(u){return u.length?u.pop()+" ":""}function i(u,d,h,g,v,x){if(u!==h||d!==g){var m=v.push("translate(",null,t,null,n);x.push({i:m-4,x:dt(u,h)},{i:m-2,x:dt(d,g)})}else(h||g)&&v.push("translate("+h+t+g+n)}function a(u,d,h,g){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),g.push({i:h.push(r(h)+"rotate(",null,o)-2,x:dt(u,d)})):d&&h.push(r(h)+"rotate("+d+o)}function s(u,d,h,g){u!==d?g.push({i:h.push(r(h)+"skewX(",null,o)-2,x:dt(u,d)}):d&&h.push(r(h)+"skewX("+d+o)}function l(u,d,h,g,v,x){if(u!==h||d!==g){var m=v.push(r(v)+"scale(",null,",",null,")");x.push({i:m-4,x:dt(u,h)},{i:m-2,x:dt(d,g)})}else(h!==1||g!==1)&&v.push(r(v)+"scale("+h+","+g+")")}return function(u,d){var h=[],g=[];return u=e(u),d=e(d),i(u.translateX,u.translateY,d.translateX,d.translateY,h,g),a(u.rotate,d.rotate,h,g),s(u.skewX,d.skewX,h,g),l(u.scaleX,u.scaleY,d.scaleX,d.scaleY,h,g),u=d=null,function(v){for(var x=-1,m=g.length,b;++x<m;)h[(b=g[x]).i]=b.x(v);return h.join("")}}}var kc=pa(Tc,"px, ","px)","deg)"),Ac=pa(Pc,", ",")",")"),Oc=1e-12;function Hr(e){return((e=Math.exp(e))+1/e)/2}function Dc(e){return((e=Math.exp(e))-1/e)/2}function zc(e){return((e=Math.exp(2*e))-1)/(e+1)}const Bc=function e(t,n,o){function r(i,a){var s=i[0],l=i[1],u=i[2],d=a[0],h=a[1],g=a[2],v=d-s,x=h-l,m=v*v+x*x,b,E;if(m<Oc)E=Math.log(g/u)/t,b=function(R){return[s+R*v,l+R*x,u*Math.exp(t*R*E)]};else{var p=Math.sqrt(m),I=(g*g-u*u+o*m)/(2*u*n*p),N=(g*g-u*u-o*m)/(2*g*n*p),H=Math.log(Math.sqrt(I*I+1)-I),Y=Math.log(Math.sqrt(N*N+1)-N);E=(Y-H)/t,b=function(R){var K=R*E,U=Hr(H),A=u/(n*p)*(U*zc(t*K+H)-Dc(H));return[s+A*v,l+A*x,u*U/Hr(t*K+H)]}}return b.duration=E*1e3*t/Math.SQRT2,b}return r.rho=function(i){var a=Math.max(.001,+i),s=a*a,l=s*s;return e(a,s,l)},r}(Math.SQRT2,2,4);var Yt=0,Qt=0,Zt=0,va=1e3,Xn,Jt,Un=0,Ct=0,ro=0,dn=typeof performance=="object"&&performance.now?performance:Date,ma=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ar(){return Ct||(ma(Hc),Ct=dn.now()+ro)}function Hc(){Ct=0}function jn(){this._call=this._time=this._next=null}jn.prototype=ya.prototype={constructor:jn,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ar():+n)+(t==null?0:+t),!this._next&&Jt!==this&&(Jt?Jt._next=this:Xn=this,Jt=this),this._call=e,this._time=n,Ho()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ho())}};function ya(e,t,n){var o=new jn;return o.restart(e,t,n),o}function Rc(){ar(),++Yt;for(var e=Xn,t;e;)(t=Ct-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Yt}function Rr(){Ct=(Un=dn.now())+ro,Yt=Qt=0;try{Rc()}finally{Yt=0,Lc(),Ct=0}}function Vc(){var e=dn.now(),t=e-Un;t>va&&(ro-=t,Un=e)}function Lc(){for(var e,t=Xn,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Xn=n);Jt=e,Ho(o)}function Ho(e){if(!Yt){Qt&&(Qt=clearTimeout(Qt));var t=e-Ct;t>24?(e<1/0&&(Qt=setTimeout(Rr,e-dn.now()-ro)),Zt&&(Zt=clearInterval(Zt))):(Zt||(Un=dn.now(),Zt=setInterval(Vc,va)),Yt=1,ma(Rr))}}function Vr(e,t,n){var o=new jn;return t=t==null?0:+t,o.restart(r=>{o.stop(),e(r+t)},t,n),o}var Fc=no("start","end","cancel","interrupt"),Gc=[],_a=0,Lr=1,Ro=2,Bn=3,Fr=4,Vo=5,Hn=6;function io(e,t,n,o,r,i){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;Yc(e,n,{name:t,index:o,group:r,on:Fc,tween:Gc,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:_a})}function sr(e,t){var n=qe(e,t);if(n.state>_a)throw new Error("too late; already scheduled");return n}function Ke(e,t){var n=qe(e,t);if(n.state>Bn)throw new Error("too late; already running");return n}function qe(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Yc(e,t,n){var o=e.__transition,r;o[t]=n,n.timer=ya(i,0,n.time);function i(u){n.state=Lr,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var d,h,g,v;if(n.state!==Lr)return l();for(d in o)if(v=o[d],v.name===n.name){if(v.state===Bn)return Vr(a);v.state===Fr?(v.state=Hn,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete o[d]):+d<t&&(v.state=Hn,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete o[d])}if(Vr(function(){n.state===Bn&&(n.state=Fr,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=Ro,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ro){for(n.state=Bn,r=new Array(g=n.tween.length),d=0,h=-1;d<g;++d)(v=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(r[++h]=v);r.length=h+1}}function s(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Vo,1),h=-1,g=r.length;++h<g;)r[h].call(e,d);n.state===Vo&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Hn,n.timer.stop(),delete o[t];for(var u in o)return;delete e.__transition}}function Rn(e,t){var n=e.__transition,o,r,i=!0,a;if(!!n){t=t==null?null:t+"";for(a in n){if((o=n[a]).name!==t){i=!1;continue}r=o.state>Ro&&o.state<Vo,o.state=Hn,o.timer.stop(),o.on.call(r?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[a]}i&&delete e.__transition}}function qc(e){return this.each(function(){Rn(this,e)})}function Xc(e,t){var n,o;return function(){var r=Ke(this,e),i=r.tween;if(i!==n){o=n=i;for(var a=0,s=o.length;a<s;++a)if(o[a].name===t){o=o.slice(),o.splice(a,1);break}}r.tween=o}}function Uc(e,t,n){var o,r;if(typeof n!="function")throw new Error;return function(){var i=Ke(this,e),a=i.tween;if(a!==o){r=(o=a).slice();for(var s={name:t,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===t){r[l]=s;break}l===u&&r.push(s)}i.tween=r}}function jc(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=qe(this.node(),n).tween,r=0,i=o.length,a;r<i;++r)if((a=o[r]).name===e)return a.value;return null}return this.each((t==null?Xc:Uc)(n,e,t))}function lr(e,t,n){var o=e._id;return e.each(function(){var r=Ke(this,o);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return qe(r,o).value[t]}}function wa(e,t){var n;return(typeof t=="number"?dt:t instanceof cn?zr:(n=cn(t))?(t=n,zr):Ic)(e,t)}function Zc(e){return function(){this.removeAttribute(e)}}function Kc(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Wc(e,t,n){var o,r=n+"",i;return function(){var a=this.getAttribute(e);return a===r?null:a===o?i:i=t(o=a,n)}}function Qc(e,t,n){var o,r=n+"",i;return function(){var a=this.getAttributeNS(e.space,e.local);return a===r?null:a===o?i:i=t(o=a,n)}}function Jc(e,t,n){var o,r,i;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=s+"",a===l?null:a===o&&l===r?i:(r=l,i=t(o=a,s)))}}function ed(e,t,n){var o,r,i;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=s+"",a===l?null:a===o&&l===r?i:(r=l,i=t(o=a,s)))}}function td(e,t){var n=oo(e),o=n==="transform"?Ac:wa;return this.attrTween(e,typeof t=="function"?(n.local?ed:Jc)(n,o,lr(this,"attr."+e,t)):t==null?(n.local?Kc:Zc)(n):(n.local?Qc:Wc)(n,o,t))}function nd(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function od(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function rd(e,t){var n,o;function r(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&od(e,i)),n}return r._value=t,r}function id(e,t){var n,o;function r(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&nd(e,i)),n}return r._value=t,r}function ad(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=oo(e);return this.tween(n,(o.local?rd:id)(o,t))}function sd(e,t){return function(){sr(this,e).delay=+t.apply(this,arguments)}}function ld(e,t){return t=+t,function(){sr(this,e).delay=t}}function ud(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?sd:ld)(t,e)):qe(this.node(),t).delay}function cd(e,t){return function(){Ke(this,e).duration=+t.apply(this,arguments)}}function dd(e,t){return t=+t,function(){Ke(this,e).duration=t}}function fd(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?cd:dd)(t,e)):qe(this.node(),t).duration}function hd(e,t){if(typeof t!="function")throw new Error;return function(){Ke(this,e).ease=t}}function gd(e){var t=this._id;return arguments.length?this.each(hd(t,e)):qe(this.node(),t).ease}function pd(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ke(this,e).ease=n}}function vd(e){if(typeof e!="function")throw new Error;return this.each(pd(this._id,e))}function md(e){typeof e!="function"&&(e=Qi(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],a=i.length,s=o[r]=[],l,u=0;u<a;++u)(l=i[u])&&e.call(l,l.__data__,u,i)&&s.push(l);return new rt(o,this._parents,this._name,this._id)}function yd(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,i=Math.min(o,r),a=new Array(o),s=0;s<i;++s)for(var l=t[s],u=n[s],d=l.length,h=a[s]=new Array(d),g,v=0;v<d;++v)(g=l[v]||u[v])&&(h[v]=g);for(;s<o;++s)a[s]=t[s];return new rt(a,this._parents,this._name,this._id)}function _d(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function wd(e,t,n){var o,r,i=_d(t)?sr:Ke;return function(){var a=i(this,e),s=a.on;s!==o&&(r=(o=s).copy()).on(t,n),a.on=r}}function bd(e,t){var n=this._id;return arguments.length<2?qe(this.node(),n).on.on(e):this.each(wd(n,e,t))}function xd(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Ed(){return this.on("end.remove",xd(this._id))}function Sd(e){var t=this._name,n=this._id;typeof e!="function"&&(e=or(e));for(var o=this._groups,r=o.length,i=new Array(r),a=0;a<r;++a)for(var s=o[a],l=s.length,u=i[a]=new Array(l),d,h,g=0;g<l;++g)(d=s[g])&&(h=e.call(d,d.__data__,g,s))&&("__data__"in d&&(h.__data__=d.__data__),u[g]=h,io(u[g],t,n,g,u,qe(d,n)));return new rt(i,this._parents,t,n)}function Nd(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Wi(e));for(var o=this._groups,r=o.length,i=[],a=[],s=0;s<r;++s)for(var l=o[s],u=l.length,d,h=0;h<u;++h)if(d=l[h]){for(var g=e.call(d,d.__data__,h,l),v,x=qe(d,n),m=0,b=g.length;m<b;++m)(v=g[m])&&io(v,t,n,m,g,x);i.push(g),a.push(d)}return new rt(i,a,t,n)}var $d=vn.prototype.constructor;function Cd(){return new $d(this._groups,this._parents)}function Md(e,t){var n,o,r;return function(){var i=Gt(this,e),a=(this.style.removeProperty(e),Gt(this,e));return i===a?null:i===n&&a===o?r:r=t(n=i,o=a)}}function ba(e){return function(){this.style.removeProperty(e)}}function Id(e,t,n){var o,r=n+"",i;return function(){var a=Gt(this,e);return a===r?null:a===o?i:i=t(o=a,n)}}function Td(e,t,n){var o,r,i;return function(){var a=Gt(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),Gt(this,e))),a===l?null:a===o&&l===r?i:(r=l,i=t(o=a,s))}}function Pd(e,t){var n,o,r,i="style."+t,a="end."+i,s;return function(){var l=Ke(this,e),u=l.on,d=l.value[i]==null?s||(s=ba(t)):void 0;(u!==n||r!==d)&&(o=(n=u).copy()).on(a,r=d),l.on=o}}function kd(e,t,n){var o=(e+="")=="transform"?kc:wa;return t==null?this.styleTween(e,Md(e,o)).on("end.style."+e,ba(e)):typeof t=="function"?this.styleTween(e,Td(e,o,lr(this,"style."+e,t))).each(Pd(this._id,e)):this.styleTween(e,Id(e,o,t),n).on("end.style."+e,null)}function Ad(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function Od(e,t,n){var o,r;function i(){var a=t.apply(this,arguments);return a!==r&&(o=(r=a)&&Ad(e,a,n)),o}return i._value=t,i}function Dd(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,Od(e,t,n==null?"":n))}function zd(e){return function(){this.textContent=e}}function Bd(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function Hd(e){return this.tween("text",typeof e=="function"?Bd(lr(this,"text",e)):zd(e==null?"":e+""))}function Rd(e){return function(t){this.textContent=e.call(this,t)}}function Vd(e){var t,n;function o(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&Rd(r)),t}return o._value=e,o}function Ld(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Vd(e))}function Fd(){for(var e=this._name,t=this._id,n=xa(),o=this._groups,r=o.length,i=0;i<r;++i)for(var a=o[i],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var d=qe(l,t);io(l,e,n,u,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new rt(o,this._parents,e,n)}function Gd(){var e,t,n=this,o=n._id,r=n.size();return new Promise(function(i,a){var s={value:a},l={value:function(){--r===0&&i()}};n.each(function(){var u=Ke(this,o),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),u.on=t}),r===0&&i()})}var Yd=0;function rt(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function xa(){return++Yd}var Je=vn.prototype;rt.prototype={constructor:rt,select:Sd,selectAll:Nd,selectChild:Je.selectChild,selectChildren:Je.selectChildren,filter:md,merge:yd,selection:Cd,transition:Fd,call:Je.call,nodes:Je.nodes,node:Je.node,size:Je.size,empty:Je.empty,each:Je.each,on:bd,attr:td,attrTween:ad,style:kd,styleTween:Dd,text:Hd,textTween:Ld,remove:Ed,tween:jc,delay:ud,duration:fd,ease:gd,easeVarying:vd,end:Gd,[Symbol.iterator]:Je[Symbol.iterator]};function qd(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Xd={time:null,delay:0,duration:250,ease:qd};function Ud(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function jd(e){var t,n;e instanceof rt?(t=e._id,e=e._name):(t=xa(),(n=Xd).time=ar(),e=e==null?null:e+"");for(var o=this._groups,r=o.length,i=0;i<r;++i)for(var a=o[i],s=a.length,l,u=0;u<s;++u)(l=a[u])&&io(l,e,t,u,a,n||Ud(l,t));return new rt(o,this._parents,e,t)}vn.prototype.interrupt=qc;vn.prototype.transition=jd;const Mn=e=>()=>e;function Zd(e,{sourceEvent:t,target:n,transform:o,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function tt(e,t,n){this.k=e,this.x=t,this.y=n}tt.prototype={constructor:tt,scale:function(e){return e===1?this:new tt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new tt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var qt=new tt(1,0,0);tt.prototype;function bo(e){e.stopImmediatePropagation()}function Kt(e){e.preventDefault(),e.stopImmediatePropagation()}function Kd(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Wd(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Gr(){return this.__zoom||qt}function Qd(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Jd(){return navigator.maxTouchPoints||"ontouchstart"in this}function ef(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function tf(){var e=Kd,t=Wd,n=ef,o=Qd,r=Jd,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=Bc,u=no("start","zoom","end"),d,h,g,v=500,x=150,m=0,b=10;function E(_){_.property("__zoom",Gr).on("wheel.zoom",K,{passive:!1}).on("mousedown.zoom",U).on("dblclick.zoom",A).filter(r).on("touchstart.zoom",w).on("touchmove.zoom",oe).on("touchend.zoom touchcancel.zoom",se).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}E.transform=function(_,T,S,O){var z=_.selection?_.selection():_;z.property("__zoom",Gr),_!==z?H(_,T,S,O):z.interrupt().each(function(){Y(this,arguments).event(O).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},E.scaleBy=function(_,T,S,O){E.scaleTo(_,function(){var z=this.__zoom.k,B=typeof T=="function"?T.apply(this,arguments):T;return z*B},S,O)},E.scaleTo=function(_,T,S,O){E.transform(_,function(){var z=t.apply(this,arguments),B=this.__zoom,F=S==null?N(z):typeof S=="function"?S.apply(this,arguments):S,G=B.invert(F),ae=typeof T=="function"?T.apply(this,arguments):T;return n(I(p(B,ae),F,G),z,a)},S,O)},E.translateBy=function(_,T,S,O){E.transform(_,function(){return n(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof S=="function"?S.apply(this,arguments):S),t.apply(this,arguments),a)},null,O)},E.translateTo=function(_,T,S,O,z){E.transform(_,function(){var B=t.apply(this,arguments),F=this.__zoom,G=O==null?N(B):typeof O=="function"?O.apply(this,arguments):O;return n(qt.translate(G[0],G[1]).scale(F.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof S=="function"?-S.apply(this,arguments):-S),B,a)},O,z)};function p(_,T){return T=Math.max(i[0],Math.min(i[1],T)),T===_.k?_:new tt(T,_.x,_.y)}function I(_,T,S){var O=T[0]-S[0]*_.k,z=T[1]-S[1]*_.k;return O===_.x&&z===_.y?_:new tt(_.k,O,z)}function N(_){return[(+_[0][0]+ +_[1][0])/2,(+_[0][1]+ +_[1][1])/2]}function H(_,T,S,O){_.on("start.zoom",function(){Y(this,arguments).event(O).start()}).on("interrupt.zoom end.zoom",function(){Y(this,arguments).event(O).end()}).tween("zoom",function(){var z=this,B=arguments,F=Y(z,B).event(O),G=t.apply(z,B),ae=S==null?N(G):typeof S=="function"?S.apply(z,B):S,q=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),V=z.__zoom,Q=typeof T=="function"?T.apply(z,B):T,pe=l(V.invert(ae).concat(q/V.k),Q.invert(ae).concat(q/Q.k));return function(he){if(he===1)he=Q;else{var me=pe(he),le=q/me[2];he=new tt(le,ae[0]-me[0]*le,ae[1]-me[1]*le)}F.zoom(null,he)}})}function Y(_,T,S){return!S&&_.__zooming||new R(_,T)}function R(_,T){this.that=_,this.args=T,this.active=0,this.sourceEvent=null,this.extent=t.apply(_,T),this.taps=0}R.prototype={event:function(_){return _&&(this.sourceEvent=_),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(_,T){return this.mouse&&_!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&_!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&_!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(_){var T=Ge(this.that).datum();u.call(_,this.that,new Zd(_,{sourceEvent:this.sourceEvent,target:E,type:_,transform:this.that.__zoom,dispatch:u}),T)}};function K(_,...T){if(!e.apply(this,arguments))return;var S=Y(this,T).event(_),O=this.__zoom,z=Math.max(i[0],Math.min(i[1],O.k*Math.pow(2,o.apply(this,arguments)))),B=Xe(_);if(S.wheel)(S.mouse[0][0]!==B[0]||S.mouse[0][1]!==B[1])&&(S.mouse[1]=O.invert(S.mouse[0]=B)),clearTimeout(S.wheel);else{if(O.k===z)return;S.mouse=[B,O.invert(B)],Rn(this),S.start()}Kt(_),S.wheel=setTimeout(F,x),S.zoom("mouse",n(I(p(O,z),S.mouse[0],S.mouse[1]),S.extent,a));function F(){S.wheel=null,S.end()}}function U(_,...T){if(g||!e.apply(this,arguments))return;var S=_.currentTarget,O=Y(this,T,!0).event(_),z=Ge(_.view).on("mousemove.zoom",ae,!0).on("mouseup.zoom",q,!0),B=Xe(_,S),F=_.clientX,G=_.clientY;la(_.view),bo(_),O.mouse=[B,this.__zoom.invert(B)],Rn(this),O.start();function ae(V){if(Kt(V),!O.moved){var Q=V.clientX-F,pe=V.clientY-G;O.moved=Q*Q+pe*pe>m}O.event(V).zoom("mouse",n(I(O.that.__zoom,O.mouse[0]=Xe(V,S),O.mouse[1]),O.extent,a))}function q(V){z.on("mousemove.zoom mouseup.zoom",null),ua(V.view,O.moved),Kt(V),O.event(V).end()}}function A(_,...T){if(!!e.apply(this,arguments)){var S=this.__zoom,O=Xe(_.changedTouches?_.changedTouches[0]:_,this),z=S.invert(O),B=S.k*(_.shiftKey?.5:2),F=n(I(p(S,B),O,z),t.apply(this,T),a);Kt(_),s>0?Ge(this).transition().duration(s).call(H,F,O,_):Ge(this).call(E.transform,F,O,_)}}function w(_,...T){if(!!e.apply(this,arguments)){var S=_.touches,O=S.length,z=Y(this,T,_.changedTouches.length===O).event(_),B,F,G,ae;for(bo(_),F=0;F<O;++F)G=S[F],ae=Xe(G,this),ae=[ae,this.__zoom.invert(ae),G.identifier],z.touch0?!z.touch1&&z.touch0[2]!==ae[2]&&(z.touch1=ae,z.taps=0):(z.touch0=ae,B=!0,z.taps=1+!!d);d&&(d=clearTimeout(d)),B&&(z.taps<2&&(h=ae[0],d=setTimeout(function(){d=null},v)),Rn(this),z.start())}}function oe(_,...T){if(!!this.__zooming){var S=Y(this,T).event(_),O=_.changedTouches,z=O.length,B,F,G,ae;for(Kt(_),B=0;B<z;++B)F=O[B],G=Xe(F,this),S.touch0&&S.touch0[2]===F.identifier?S.touch0[0]=G:S.touch1&&S.touch1[2]===F.identifier&&(S.touch1[0]=G);if(F=S.that.__zoom,S.touch1){var q=S.touch0[0],V=S.touch0[1],Q=S.touch1[0],pe=S.touch1[1],he=(he=Q[0]-q[0])*he+(he=Q[1]-q[1])*he,me=(me=pe[0]-V[0])*me+(me=pe[1]-V[1])*me;F=p(F,Math.sqrt(he/me)),G=[(q[0]+Q[0])/2,(q[1]+Q[1])/2],ae=[(V[0]+pe[0])/2,(V[1]+pe[1])/2]}else if(S.touch0)G=S.touch0[0],ae=S.touch0[1];else return;S.zoom("touch",n(I(F,G,ae),S.extent,a))}}function se(_,...T){if(!!this.__zooming){var S=Y(this,T).event(_),O=_.changedTouches,z=O.length,B,F;for(bo(_),g&&clearTimeout(g),g=setTimeout(function(){g=null},v),B=0;B<z;++B)F=O[B],S.touch0&&S.touch0[2]===F.identifier?delete S.touch0:S.touch1&&S.touch1[2]===F.identifier&&delete S.touch1;if(S.touch1&&!S.touch0&&(S.touch0=S.touch1,delete S.touch1),S.touch0)S.touch0[1]=this.__zoom.invert(S.touch0[0]);else if(S.end(),S.taps===2&&(F=Xe(F,this),Math.hypot(h[0]-F[0],h[1]-F[1])<b)){var G=Ge(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return E.wheelDelta=function(_){return arguments.length?(o=typeof _=="function"?_:Mn(+_),E):o},E.filter=function(_){return arguments.length?(e=typeof _=="function"?_:Mn(!!_),E):e},E.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:Mn(!!_),E):r},E.extent=function(_){return arguments.length?(t=typeof _=="function"?_:Mn([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),E):t},E.scaleExtent=function(_){return arguments.length?(i[0]=+_[0],i[1]=+_[1],E):[i[0],i[1]]},E.translateExtent=function(_){return arguments.length?(a[0][0]=+_[0][0],a[1][0]=+_[1][0],a[0][1]=+_[0][1],a[1][1]=+_[1][1],E):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},E.constrain=function(_){return arguments.length?(n=_,E):n},E.duration=function(_){return arguments.length?(s=+_,E):s},E.interpolate=function(_){return arguments.length?(l=_,E):l},E.on=function(){var _=u.on.apply(u,arguments);return _===u?E:_},E.clickDistance=function(_){return arguments.length?(m=(_=+_)*_,E):Math.sqrt(m)},E.tapDistance=function(_){return arguments.length?(b=+_,E):b},E}var Z=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(Z||{}),ur=(e=>(e.Partial="partial",e.Full="full",e))(ur||{}),wt=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(wt||{}),Mt=(e=>(e.Strict="strict",e.Loose="loose",e))(Mt||{}),Lo=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(Lo||{}),tn=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(tn||{});function Fo(e){var t,n;const o=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,r=typeof(o==null?void 0:o.hasAttribute)=="function"?o.hasAttribute("contenteditable"):!1,i=typeof(o==null?void 0:o.closest)=="function"?o.closest(".nokey"):null;return["INPUT","SELECT","TEXTAREA"].includes(o==null?void 0:o.nodeName)||r||!!i}function nf(e){return e.ctrlKey||e.metaKey||e.shiftKey}function Yr(e,t,n,o){const r=t.split("+").map(i=>i.trim().toLowerCase());return r.length===1?e.toLowerCase()===t.toLowerCase():(o?n.delete(e.toLowerCase()):n.add(e.toLowerCase()),r.every((i,a)=>n.has(i)&&Array.from(n.values())[a]===r[a]))}function of(e,t){return n=>{if(!n.code&&!n.key)return!1;const o=rf(n.code,e);return Array.isArray(e)?e.some(r=>Yr(n[o],r,t,n.type==="keyup")):Yr(n[o],e,t,n.type==="keyup")}}function rf(e,t){return typeof t=="string"?e===t?"code":"key":t.includes(e)?"code":"key"}function nn(e,t){const n=Ce(()=>{var d;return(d=ye(t==null?void 0:t.actInsideInputWithModifier))!=null?d:!1}),o=Ce(()=>{var d;return(d=ye(t==null?void 0:t.target))!=null?d:window}),r=fe(ye(e)===!0);let i=!1;const a=new Set;let s=u(ye(e));xe(()=>ye(e),(d,h)=>{typeof h=="boolean"&&typeof d!="boolean"&&l(),s=u(d)},{immediate:!0}),Ze(()=>{Zi(window,["blur","contextmenu"],l)}),Nr((...d)=>s(...d),d=>{i=nf(d),!((!i||i&&!n.value)&&Fo(d))&&(d.preventDefault(),r.value=!0)},{eventName:"keydown",target:o}),Nr((...d)=>s(...d),d=>{if(r.value){if((!i||i&&!n.value)&&Fo(d))return;l()}},{eventName:"keyup",target:o});function l(){i=!1,a.clear(),r.value=!1}function u(d){return d===null?(l(),()=>!1):typeof d=="boolean"?(l(),r.value=d,()=>!1):Array.isArray(d)||typeof d=="string"?of(d,a):d}return r}const Ea="vue-flow__node-desc",Sa="vue-flow__edge-desc",af="vue-flow__aria-live",Na=["Enter"," ","Escape"],Vt={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function Go(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function Yo(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)}function ao(e){return{width:e.offsetWidth,height:e.offsetHeight}}function It(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function $a(e,t){return{x:It(e.x,t[0][0],t[1][0]),y:It(e.y,t[0][1],t[1][1])}}function qr(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function pt(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function Nt(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!pt(e)}function en(e){return Nt(e)&&"computedPosition"in e}function In(e){return!Number.isNaN(e)&&Number.isFinite(e)}function sf(e){return In(e.width)&&In(e.height)&&In(e.x)&&In(e.y)}function lf(e,t,n){var r;const o={id:e.id.toString(),type:(r=e.type)!=null?r:"default",dimensions:Bt({width:0,height:0}),computedPosition:Bt({z:0,...e.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:Me(e.data)?e.data:{},events:Bt(Me(e.events)?e.events:{})};return Object.assign(t!=null?t:o,e,{id:e.id.toString(),parentNode:n})}function Ca(e,t,n){var a,s,l,u,d,h,g;var o,r;const i={id:e.id.toString(),type:(s=(a=e.type)!=null?a:t==null?void 0:t.type)!=null?s:"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(o=e.sourceHandle)==null?void 0:o.toString(),targetHandle:(r=e.targetHandle)==null?void 0:r.toString(),updatable:(l=e.updatable)!=null?l:n==null?void 0:n.updatable,selectable:(u=e.selectable)!=null?u:n==null?void 0:n.selectable,focusable:(d=e.focusable)!=null?d:n==null?void 0:n.focusable,data:Me(e.data)?e.data:{},events:Bt(Me(e.events)?e.events:{}),label:(h=e.label)!=null?h:"",interactionWidth:(g=e.interactionWidth)!=null?g:n==null?void 0:n.interactionWidth,...n!=null?n:{}};return Object.assign(t!=null?t:i,e,{id:e.id.toString()})}function Ma(e,t,n,o){const r=typeof e=="string"?e:e.id,i=new Set,a=o==="source"?"target":"source";for(const s of n)s[a]===r&&i.add(s[o]);return t.filter(s=>i.has(s.id))}function uf(...e){if(e.length===3){const[i,a,s]=e;return Ma(i,a,s,"target")}const[t,n]=e,o=typeof t=="string"?t:t.id;return n.filter(i=>pt(i)&&i.source===o).map(i=>n.find(a=>Nt(a)&&a.id===i.target))}function cf(...e){if(e.length===3){const[i,a,s]=e;return Ma(i,a,s,"source")}const[t,n]=e,o=typeof t=="string"?t:t.id;return n.filter(i=>pt(i)&&i.target===o).map(i=>n.find(a=>Nt(a)&&a.id===i.source))}function Ia({source:e,sourceHandle:t,target:n,targetHandle:o}){return`vueflow__edge-${e}${t!=null?t:""}-${n}${o!=null?o:""}`}function df(e,t){return t.some(n=>pt(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function Ta({x:e,y:t},{x:n,y:o,zoom:r}){return{x:e*r+n,y:t*r+o}}function Zn({x:e,y:t},{x:n,y:o,zoom:r},i=!1,[a,s]=[1,1]){const l={x:(e-n)/r,y:(t-o)/r};return i?{x:a*Math.round(l.x/a),y:s*Math.round(l.y/s)}:l}function ff(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function Pa({x:e,y:t,width:n,height:o}){return{x:e,y:t,x2:e+n,y2:t+o}}function hf({x:e,y:t,x2:n,y2:o}){return{x:e,y:t,width:n-e,height:o-t}}function ka(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<e.length;n++){const o=e[n];t=ff(t,Pa({...o.computedPosition,...o.dimensions}))}return hf(t)}function Aa(e,t,n={x:0,y:0,zoom:1},o=!1,r=!1){var s,l,u,d;const i={...Zn(t,n),width:t.width/n.zoom,height:t.height/n.zoom},a=[];for(const h of e){const{dimensions:g,selectable:v=!0,hidden:x=!1}=h,m=(l=(s=g.width)!=null?s:h.width)!=null?l:null,b=(d=(u=g.height)!=null?u:h.height)!=null?d:null;if(r&&!v||x)continue;const E=Yo(i,Go(h)),p=m===null||b===null,I=o&&E>0,N=(m!=null?m:0)*(b!=null?b:0);(p||I||E>=N||h.dragging)&&a.push(h)}return a}function Oa(e,t){const n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(const o of e)n.add(o.id);return t.filter(o=>n.has(o.source)||n.has(o.target))}function Xr(e,t,n,o,r,i=.1,a={x:0,y:0}){var m,b;const s=t/(e.width*(1+i)),l=n/(e.height*(1+i)),u=Math.min(s,l),d=It(u,o,r),h=e.x+e.width/2,g=e.y+e.height/2,v=t/2-h*d+((m=a.x)!=null?m:0),x=n/2-g*d+((b=a.y)!=null?b:0);return{x:v,y:x,zoom:d}}function gf(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function Da(e,t){if(!e.parentNode)return!1;const n=t(e.parentNode);return n?n.selected?!0:Da(n,t):!1}function fn(e,t){return typeof e=="undefined"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`}function Ur(e,t,n){return e<t?It(Math.abs(e-t),1,t)/t:e>n?-It(Math.abs(e-n),1,t)/t:0}function za(e,t,n=15,o=40){const r=Ur(e.x,o,t.width-o)*n,i=Ur(e.y,o,t.height-o)*n;return[r,i]}function xo(e,t){var n,o;if(t){const r=e.position.x+e.dimensions.width-t.dimensions.width,i=e.position.y+e.dimensions.height-t.dimensions.height;if(r>0||i>0||e.position.x<0||e.position.y<0){let a={};if(typeof t.style=="function"?a={...t.style(t)}:t.style&&(a={...t.style}),a.width=(n=a.width)!=null?n:`${t.dimensions.width}px`,a.height=(o=a.height)!=null?o:`${t.dimensions.height}px`,r>0)if(typeof a.width=="string"){const s=Number(a.width.replace("px",""));a.width=`${s+r}px`}else a.width+=r;if(i>0)if(typeof a.height=="string"){const s=Number(a.height.replace("px",""));a.height=`${s+i}px`}else a.height+=i;if(e.position.x<0){const s=Math.abs(e.position.x);if(t.position.x=t.position.x-s,typeof a.width=="string"){const l=Number(a.width.replace("px",""));a.width=`${l+s}px`}else a.width+=s;e.position.x=0}if(e.position.y<0){const s=Math.abs(e.position.y);if(t.position.y=t.position.y-s,typeof a.height=="string"){const l=Number(a.height.replace("px",""));a.height=`${l+s}px`}else a.height+=s;e.position.y=0}t.dimensions.width=Number(a.width.toString().replace("px","")),t.dimensions.height=Number(a.height.toString().replace("px","")),typeof t.style=="function"?t.style=s=>{const l=t.style;return{...l(s),...a}}:t.style={...t.style,...a}}}}function jr(e,t){var n,o;const r=e.filter(a=>a.type==="add"||a.type==="remove");for(const a of r)if(a.type==="add")t.findIndex(l=>l.id===a.item.id)===-1&&t.push(a.item);else if(a.type==="remove"){const s=t.findIndex(l=>l.id===a.id);s!==-1&&t.splice(s,1)}const i=t.map(a=>a.id);for(const a of t)for(const s of e)if(s.id===a.id)switch(s.type){case"select":a.selected=s.selected;break;case"position":if(en(a)&&(typeof s.position!="undefined"&&(a.position=s.position),typeof s.dragging!="undefined"&&(a.dragging=s.dragging),a.expandParent&&a.parentNode)){const l=t[i.indexOf(a.parentNode)];l&&en(l)&&xo(a,l)}break;case"dimensions":if(en(a)&&(typeof s.dimensions!="undefined"&&(a.dimensions=s.dimensions),typeof s.updateStyle!="undefined"&&s.updateStyle&&(a.style={...a.style||{},width:`${(n=s.dimensions)==null?void 0:n.width}px`,height:`${(o=s.dimensions)==null?void 0:o.height}px`}),typeof s.resizing!="undefined"&&(a.resizing=s.resizing),a.expandParent&&a.parentNode)){const l=t[i.indexOf(a.parentNode)];l&&en(l)&&(!!l.dimensions.width&&!!l.dimensions.height?xo(a,l):Ue(()=>{xo(a,l)}))}break}return t}function ct(e,t){return{id:e,type:"select",selected:t}}function Zr(e){return{item:e,type:"add"}}function Kr(e){return{id:e,type:"remove"}}function Wr(e,t,n,o,r){return{id:e,source:t,target:n,sourceHandle:o||null,targetHandle:r||null,type:"remove"}}function ft(e,t=new Set,n=!1){const o=[];for(const[r,i]of e){const a=t.has(r);!(i.selected===void 0&&!a)&&i.selected!==a&&(n&&(i.selected=a),o.push(ct(i.id,a)))}return o}function X(e){const t=new Set;let n=!1;const o=()=>t.size>0;e&&(n=!0,t.add(e));const r=s=>{t.delete(s)};return{on:s=>{e&&n&&t.delete(e),t.add(s);const l=()=>{r(s),e&&n&&t.add(e)};return to(l),{off:l}},off:r,trigger:s=>Promise.all(Array.from(t).map(l=>l(s))),hasListeners:o,fns:t}}function Qr(e,t,n){let o=e;do{if(o&&o.matches(t))return!0;if(o===n)return!1;o=o.parentElement}while(o);return!1}function pf(e,t,n,o,r){var i,a;const s=[];for(const l of e)(l.selected||l.id===r)&&(!l.parentNode||!Da(l,o))&&(l.draggable||t&&typeof l.draggable=="undefined")&&s.push(Bt({id:l.id,position:l.position||{x:0,y:0},distance:{x:n.x-((i=l.computedPosition)==null?void 0:i.x)||0,y:n.y-((a=l.computedPosition)==null?void 0:a.y)||0},from:l.computedPosition,extent:l.extent,parentNode:l.parentNode,dimensions:l.dimensions,expandParent:l.expandParent}));return s}function Eo({id:e,dragItems:t,findNode:n}){const o=[];for(const r of t){const i=n(r.id);i&&o.push(i)}return[e?o.find(r=>r.id===e):o[0],o]}function Ba(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function vf(e,t,n){const[o,r,i,a]=typeof e!="string"?Ba(e.padding):[0,0,0,0];return n&&typeof n.computedPosition.x!="undefined"&&typeof n.computedPosition.y!="undefined"&&typeof n.dimensions.width!="undefined"&&typeof n.dimensions.height!="undefined"?[[n.computedPosition.x+a,n.computedPosition.y+o],[n.computedPosition.x+n.dimensions.width-r,n.computedPosition.y+n.dimensions.height-i]]:!1}function mf(e,t,n,o){let r=e.extent||n;if((r==="parent"||!Array.isArray(r)&&(r==null?void 0:r.range)==="parent")&&!e.expandParent)if(e.parentNode&&o&&e.dimensions.width&&e.dimensions.height){const i=vf(r,e,o);i&&(r=i)}else t(new Te(Ie.NODE_EXTENT_INVALID,e.id)),r=n;else if(Array.isArray(r)){const i=(o==null?void 0:o.computedPosition.x)||0,a=(o==null?void 0:o.computedPosition.y)||0;r=[[r[0][0]+i,r[0][1]+a],[r[1][0]+i,r[1][1]+a]]}else if(r!=="parent"&&(r==null?void 0:r.range)&&Array.isArray(r.range)){const[i,a,s,l]=Ba(r.padding),u=(o==null?void 0:o.computedPosition.x)||0,d=(o==null?void 0:o.computedPosition.y)||0;r=[[r.range[0][0]+u+l,r.range[0][1]+d+i],[r.range[1][0]+u-a,r.range[1][1]+d-s]]}return r==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:r}function yf({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function cr(e,t,n,o,r){const i=yf(e.dimensions,mf(e,n,o,r)),a=$a(t,i);return{position:{x:a.x-((r==null?void 0:r.computedPosition.x)||0),y:a.y-((r==null?void 0:r.computedPosition.y)||0)},computedPosition:a}}function Kn(e,t,n=Z.Left){var l,u,d;const o=((l=t==null?void 0:t.x)!=null?l:0)+e.computedPosition.x,r=((u=t==null?void 0:t.y)!=null?u:0)+e.computedPosition.y,{width:i,height:a}=t!=null?t:bf(e);switch((d=t==null?void 0:t.position)!=null?d:n){case Z.Top:return{x:o+i/2,y:r};case Z.Right:return{x:o+i,y:r+a/2};case Z.Bottom:return{x:o+i/2,y:r+a};case Z.Left:return{x:o,y:r+a/2}}}function Jr(e=[],t){return e.length&&(t?e.find(n=>n.id===t):e[0])||null}function _f({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:r,targetHeight:i,width:a,height:s,viewport:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+r),y2:Math.max(e.y+o,t.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=Pa({x:(0-l.x)/l.zoom,y:(0-l.y)/l.zoom,width:a/l.zoom,height:s/l.zoom}),h=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),g=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(h*g)>0}function wf(e,t,n=!1){const o=typeof e.zIndex=="number";let r=o?e.zIndex:0;const i=t(e.source),a=t(e.target);return!i||!a?0:(n&&(r=o?e.zIndex:Math.max(i.computedPosition.z||0,a.computedPosition.z||0)),r)}var Ie=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(Ie||{});const ei={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class Te extends Error{constructor(t,...n){var o;super((o=ei[t])==null?void 0:o.call(ei,...n)),this.name="VueFlowError",this.code=t,this.args=n}}function dr(e){return"clientX"in e}function gt(e,t){var s,l;var n,o;const r=dr(e),i=r?e.clientX:(n=e.touches)==null?void 0:n[0].clientX,a=r?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:i-((s=t==null?void 0:t.left)!=null?s:0),y:a-((l=t==null?void 0:t.top)!=null?l:0)}}const Wn=()=>{var e;return typeof navigator!="undefined"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function bf(e){var o,r,i,a;var t,n;return{width:(r=(o=(t=e.dimensions)==null?void 0:t.width)!=null?o:e.width)!=null?r:0,height:(a=(i=(n=e.dimensions)==null?void 0:n.height)!=null?i:e.height)!=null?a:0}}function Ha(){return{handleDomNode:null,isValid:!1,connection:{source:"",target:"",sourceHandle:null,targetHandle:null},endHandle:null}}function So(e){e==null||e.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function ti(e,t,n,o){const r=[];for(const i of t[n]||[])if(`${e.id}-${i.id}-${n}`!==o){const{x:a,y:s}=Kn(e,i);r.push({id:i.id||null,type:n,nodeId:e.id,x:a,y:s})}return r}function xf(e,t,n,o,r,i){const{x:a,y:s}=gt(e),u=t.elementsFromPoint(a,s).find(x=>x.classList.contains("vue-flow__handle"));if(u){const x=u.getAttribute("data-nodeid");if(x){const m=fr(void 0,u),b=u.getAttribute("data-handleid"),E=i({nodeId:x,id:b,type:m});if(E){const p=r.find(I=>I.nodeId===x&&I.type===m&&I.id===b);return{handle:{id:b,type:m,nodeId:x,x:(p==null?void 0:p.x)||n.x,y:(p==null?void 0:p.y)||n.y},validHandleResult:E}}}}let d=[],h=Number.POSITIVE_INFINITY;for(const x of r){const m=Math.sqrt((x.x-n.x)**2+(x.y-n.y)**2);if(m<=o){const b=i(x);m<=h&&(m<h?d=[{handle:x,validHandleResult:b}]:m===h&&d.push({handle:x,validHandleResult:b}),h=m)}}if(!d.length)return{handle:null,validHandleResult:Ha()};if(d.length===1)return d[0];const g=d.some(({validHandleResult:x})=>x.isValid),v=d.some(({handle:x})=>x.type==="target");return d.find(({handle:x,validHandleResult:m})=>v?x.type==="target":g?m.isValid:!0)||d[0]}function ni(e,t,n,o,r,i,a,s,l,u,d){const h=i==="target",g=s.querySelector(`.vue-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),{x:v,y:x}=gt(e),m=s.elementFromPoint(v,x),b=m!=null&&m.classList.contains("vue-flow__handle")?m:g,E=Ha();if(b){E.handleDomNode=b;const p=fr(void 0,b),I=b.getAttribute("data-nodeid"),N=b.getAttribute("data-handleid"),H=b.classList.contains("connectable"),Y=b.classList.contains("connectableend"),R={source:h?I:o,sourceHandle:h?N:r,target:h?o:I,targetHandle:h?r:N};E.connection=R,H&&Y&&(n===Mt.Strict?h&&p==="source"||!h&&p==="target":I!==o||N!==r)&&(E.isValid=a(R,{edges:l,nodes:u,sourceNode:d(R.source),targetNode:d(R.target)}),E.endHandle={nodeId:I,handleId:N,type:p,position:E.isValid?b.getAttribute("data-handlepos"):null})}return E}function Ef({nodes:e,nodeId:t,handleId:n,handleType:o}){const r=[];for(let i=0;i<e.length;i++){const a=e[i],{handleBounds:s}=a;let l=[],u=[];s&&(l=ti(a,s,"source",`${t}-${n}-${o}`),u=ti(a,s,"target",`${t}-${n}-${o}`)),r.push(...l,...u)}return r}function fr(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Sf(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}const Nf=["production","prod"];function so(e,...t){Ra()&&console.warn(`[Vue Flow]: ${e}`,...t)}function Ra(){return!Nf.includes("production")}function oi(e,t,n,o){const r=t.querySelectorAll(`.vue-flow__handle${e}`);return Array.from(r).map(a=>{const s=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(s.left-n.left)/o,y:(s.top-n.top)/o,...ao(a)}})}function qo(e,t,n,o,r,i=!1,a){r.value=!1,e.selected?(i||e.selected&&t)&&(o([e]),Ue(()=>{a.blur()})):n([e])}function Me(e){return typeof P(e)!="undefined"}function $f(e,t,n,o){var i;if(!e||!e.source||!e.target)return n(new Te(Ie.EDGE_INVALID,(i=e==null?void 0:e.id)!=null?i:"[ID UNKNOWN]")),!1;let r;return pt(e)?r=e:r={...e,id:Ia(e)},r=Ca(r,void 0,o),df(r,t)?!1:r}function Cf(e,t,n,o,r,i){if(!t.source||!t.target)return i(new Te(Ie.EDGE_INVALID,e.id)),!1;const a=o(e.id);if(!a)return i(new Te(Ie.EDGE_NOT_FOUND,e.id)),!1;const{id:s,...l}=e,u={...l,id:r?Ia(t):s,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle};return n.splice(n.indexOf(a),1,u),u}function ri(e,t,n){const o={},r=[];for(let i=0;i<e.length;++i){const a=e[i];if(!Nt(a)){n(new Te(Ie.NODE_INVALID,a==null?void 0:a.id)||`[ID UNKNOWN|INDEX ${i}]`);continue}const s=lf(a,t(a.id),a.parentNode);a.parentNode&&(o[a.parentNode]=!0),r[i]=s}for(const i of r){const a=t(i.parentNode)||r.find(s=>s.id===i.parentNode);i.parentNode&&!a&&n(new Te(Ie.NODE_MISSING_PARENT,i.id,i.parentNode)),(i.parentNode||o[i.id])&&(o[i.id]&&(i.isParent=!0),a&&(a.isParent=!0))}return r}function ii(e,t){e.clear();for(const n of t){const{id:o,source:r,target:i,sourceHandle:a=null,targetHandle:s=null}=n,l=`${r}-source-${a}`,u=`${i}-target-${s}`,d=e.get(l)||new Map,h=e.get(u)||new Map,g=Bt({edgeId:o,source:r,target:i,sourceHandle:a,targetHandle:s});e.set(l,d.set(`${i}-${s}`,g)),e.set(u,h.set(`${r}-${a}`,g))}}function ai(e,t,n,o,r,i,a,s){const l=[];for(const u of e){const d=pt(u)?u:$f(u,s,r,i);if(!d)continue;const h=n(d.source),g=n(d.target);if(!h||!g){r(new Te(Ie.EDGE_SOURCE_TARGET_MISSING,d.id,d.source,d.target));continue}if(!h){r(new Te(Ie.EDGE_SOURCE_MISSING,d.id,d.source));continue}if(!g){r(new Te(Ie.EDGE_TARGET_MISSING,d.id,d.target));continue}if(t&&!t(d,{edges:s,nodes:a,sourceNode:h,targetNode:g})){r(new Te(Ie.EDGE_INVALID,d.id));continue}const v=o(d.id);l.push({...Ca(d,v,i),sourceNode:h,targetNode:g})}return l}const si=Symbol("vueFlow"),Va=Symbol("nodeId"),La=Symbol("nodeRef"),Mf=Symbol("edgeId"),If=Symbol("edgeRef"),lo=Symbol("slots");function Fa(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:o,noDragClassName:r,nodes:i,nodeExtent:a,nodeDragThreshold:s,viewport:l,autoPanOnNodeDrag:u,autoPanSpeed:d,nodesDraggable:h,panBy:g,findNode:v,multiSelectionActive:x,nodesSelectionActive:m,selectNodesOnDrag:b,removeSelectedElements:E,addSelectedNodes:p,updateNodePositions:I,emits:N}=$e(),{onStart:H,onDrag:Y,onStop:R,onClick:K,el:U,disabled:A,id:w,selectable:oe,dragHandle:se}=e,_=fe(!1);let T=[],S,O=null,z={x:void 0,y:void 0},B={x:0,y:0},F=null,G=!1,ae=0,q=!1;const V=kf(),Q=({x:J,y:ne})=>{z={x:J,y:ne};let $=!1;if(T=T.map(c=>{const f={x:J-c.distance.x,y:ne-c.distance.y};n.value&&(f.x=o.value[0]*Math.round(f.x/o.value[0]),f.y=o.value[1]*Math.round(f.y/o.value[1]));const{computedPosition:y}=cr(c,f,N.error,a.value,c.parentNode?v(c.parentNode):void 0);return $=$||c.position.x!==y.x||c.position.y!==y.y,c.position=y,c}),!!$&&(I(T,!0,!0),_.value=!0,F)){const[c,f]=Eo({id:w,dragItems:T,findNode:v});Y({event:F,node:c,nodes:f})}},pe=()=>{var $,c;if(!O)return;const[J,ne]=za(B,O,d.value);if(J!==0||ne!==0){const f={x:(($=z.x)!=null?$:0)-J/l.value.zoom,y:((c=z.y)!=null?c:0)-ne/l.value.zoom};g({x:J,y:ne})&&Q(f)}ae=requestAnimationFrame(pe)},he=(J,ne)=>{G=!0;const $=v(w);!b.value&&!x.value&&$&&($.selected||E()),$&&ye(oe)&&b.value&&qo($,x.value,p,E,m,!1,ne);const c=V(J);if(z=c,T=pf(i.value,h.value,c,v,w),T.length){const[f,y]=Eo({id:w,dragItems:T,findNode:v});H({event:J.sourceEvent,node:f,nodes:y})}},me=(J,ne)=>{var $;J.sourceEvent.type==="touchmove"&&J.sourceEvent.touches.length>1||(s.value===0&&he(J,ne),z=V(J),O=(($=t.value)==null?void 0:$.getBoundingClientRect())||null,B=gt(J.sourceEvent,O))},le=(J,ne)=>{var c,f;const $=V(J);if(!q&&G&&u.value&&(q=!0,pe()),!G){const y=$.xSnapped-((c=z.x)!=null?c:0),M=$.ySnapped-((f=z.y)!=null?f:0);Math.sqrt(y*y+M*M)>s.value&&he(J,ne)}(z.x!==$.xSnapped||z.y!==$.ySnapped)&&T.length&&G&&(F=J.sourceEvent,B=gt(J.sourceEvent,O),Q($))},ce=J=>{if(!_.value&&!x.value&&(K==null||K(J.sourceEvent)),_.value=!1,q=!1,G=!1,z={x:void 0,y:void 0},cancelAnimationFrame(ae),T.length){I(T,!1,!1);const[ne,$]=Eo({id:w,dragItems:T,findNode:v});R({event:J.sourceEvent,node:ne,nodes:$})}};return xe([()=>ye(A),U],([J,ne],$,c)=>{if(ne){const f=Ge(ne);J||(S=dc().on("start",y=>me(y,ne)).on("drag",y=>le(y,ne)).on("end",y=>ce(y)).filter(y=>{const M=y.target,D=ye(se);return!y.button&&(!r.value||!Qr(M,`.${r.value}`,ne)&&(!D||Qr(M,D,ne)))}),f.call(S)),c(()=>{f.on(".drag",null),S&&(S.on("start",null),S.on("drag",null),S.on("end",null))})}}),_}function Tf(){return{doubleClick:X(),click:X(),mouseEnter:X(),mouseMove:X(),mouseLeave:X(),contextMenu:X(),updateStart:X(),update:X(),updateEnd:X()}}function Pf(e,t){const n=Tf();return n.doubleClick.on(o=>{var r,i;t.edgeDoubleClick(o),(i=(r=e.events)==null?void 0:r.doubleClick)==null||i.call(r,o)}),n.click.on(o=>{var r,i;t.edgeClick(o),(i=(r=e.events)==null?void 0:r.click)==null||i.call(r,o)}),n.mouseEnter.on(o=>{var r,i;t.edgeMouseEnter(o),(i=(r=e.events)==null?void 0:r.mouseEnter)==null||i.call(r,o)}),n.mouseMove.on(o=>{var r,i;t.edgeMouseMove(o),(i=(r=e.events)==null?void 0:r.mouseMove)==null||i.call(r,o)}),n.mouseLeave.on(o=>{var r,i;t.edgeMouseLeave(o),(i=(r=e.events)==null?void 0:r.mouseLeave)==null||i.call(r,o)}),n.contextMenu.on(o=>{var r,i;t.edgeContextMenu(o),(i=(r=e.events)==null?void 0:r.contextMenu)==null||i.call(r,o)}),n.updateStart.on(o=>{var r,i;t.edgeUpdateStart(o),(i=(r=e.events)==null?void 0:r.updateStart)==null||i.call(r,o)}),n.update.on(o=>{var r,i;t.edgeUpdate(o),(i=(r=e.events)==null?void 0:r.update)==null||i.call(r,o)}),n.updateEnd.on(o=>{var r,i;t.edgeUpdateEnd(o),(i=(r=e.events)==null?void 0:r.updateEnd)==null||i.call(r,o)}),Object.entries(n).reduce((o,[r,i])=>(o.emit[r]=i.trigger,o.on[r]=i.on,o),{emit:{},on:{}})}function kf(){const{viewport:e,snapGrid:t,snapToGrid:n}=$e();return({sourceEvent:o})=>{const r=o.touches?o.touches[0].clientX:o.clientX,i=o.touches?o.touches[0].clientY:o.clientY,a={x:(r-e.value.x)/e.value.zoom,y:(i-e.value.y)/e.value.zoom};return{xSnapped:n.value?t.value[0]*Math.round(a.x/t.value[0]):a.x,ySnapped:n.value?t.value[1]*Math.round(a.y/t.value[1]):a.y,...a}}}function Tn(){return!0}function Ga({handleId:e,nodeId:t,type:n,isValidConnection:o,edgeUpdaterType:r,onEdgeUpdate:i,onEdgeUpdateEnd:a}){const{vueFlowRef:s,connectionMode:l,connectionRadius:u,connectOnClick:d,connectionClickStartHandle:h,nodesConnectable:g,autoPanOnConnect:v,autoPanSpeed:x,findNode:m,panBy:b,startConnection:E,updateConnection:p,endConnection:I,emits:N,viewport:H,edges:Y,nodes:R,isValidConnection:K}=$e();let U=null,A=!1,w=null,oe=null;function se(T){var S;const O=ye(n)==="target",z=dr(T),B=qr(T.target);if(z&&T.button===0||!z){let F=function(y){ne=gt(y,ce);const{handle:M,validHandleResult:D}=xf(y,B,Zn(ne,H.value,!1,[1,1]),u.value,c,W=>ni(y,W,l.value,ye(t),ye(e),O?"target":"source",q,B,Y.value,R.value,m));if(V=M,$||(f(),$=!0),U=D.connection,A=D.isValid,w=D.handleDomNode,!(A&&V&&(oe==null?void 0:oe.endHandle)&&D.endHandle&&oe.endHandle.type===D.endHandle.type&&oe.endHandle.nodeId===D.endHandle.nodeId&&oe.endHandle.handleId===D.endHandle.handleId)){if(p(V&&A?Ta({x:V.x,y:V.y},H.value):ne,D.endHandle,Sf(!!V,A)),oe=D,!V&&!A&&!w)return So(J);U&&U.source!==U.target&&w&&(So(J),J=w,w.classList.add("connecting","vue-flow__handle-connecting"),w.classList.toggle("valid",A),w.classList.toggle("vue-flow__handle-valid",A))}},G=function(y){(V||w)&&U&&A&&(i?i(y,U):N.connect(U)),N.connectEnd(y),r&&(a==null||a(y)),So(J),cancelAnimationFrame(Q),I(y),$=!1,A=!1,U=null,w=null,B.removeEventListener("mousemove",F),B.removeEventListener("mouseup",G),B.removeEventListener("touchmove",F),B.removeEventListener("touchend",G)};const ae=m(ye(t));let q=ye(o)||K.value||Tn;!q&&ae&&(q=(O?ae.isValidSourcePos:ae.isValidTargetPos)||Tn);let V,Q=0;const{x:pe,y:he}=gt(T),me=B==null?void 0:B.elementFromPoint(pe,he),le=fr(ye(r),me),ce=(S=s.value)==null?void 0:S.getBoundingClientRect();if(!ce||!le)return;let J,ne=gt(T,ce),$=!1;const c=Ef({nodes:R.value,nodeId:ye(t),handleId:ye(e),handleType:le}),f=()=>{if(!v.value)return;const[y,M]=za(ne,ce,x.value);b({x:y,y:M}),Q=requestAnimationFrame(f)};E({nodeId:ye(t),handleId:ye(e),type:le,position:(me==null?void 0:me.getAttribute("data-handlepos"))||Z.Top},{x:pe-ce.left,y:he-ce.top}),N.connectStart({event:T,nodeId:ye(t),handleId:ye(e),handleType:le}),B.addEventListener("mousemove",F),B.addEventListener("mouseup",G),B.addEventListener("touchmove",F),B.addEventListener("touchend",G)}}function _(T){if(!d.value)return;const S=ye(n)==="target";if(!h.value)N.clickConnectStart({event:T,nodeId:ye(t),handleId:ye(e)}),E({nodeId:ye(t),type:ye(n),handleId:ye(e)},void 0,!0);else{let O=ye(o)||K.value||Tn;const z=m(ye(t));if(!O&&z&&(O=(S?z.isValidSourcePos:z.isValidTargetPos)||Tn),z&&(typeof z.connectable=="undefined"?g.value:z.connectable)===!1)return;const B=qr(T.target),{connection:F,isValid:G}=ni(T,{nodeId:ye(t),id:ye(e),type:ye(n)},l.value,h.value.nodeId,h.value.handleId||null,h.value.type,O,B,Y.value,R.value,m),ae=F.source===F.target;G&&!ae&&N.connect(F),N.clickConnectEnd(T),I(T,!0)}}return{handlePointerDown:se,handleClick:_}}function Af(){return Xt(Va,"")}function Ya(e){var s;const t=(s=e!=null?e:Af())!=null?s:"",n=Xt(La,fe(null)),{findNode:o,edges:r,emits:i}=$e(),a=o(t);return a||i.error(new Te(Ie.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:a,parentNode:ie(()=>o(a.parentNode)),connectedEdges:ie(()=>Oa([a],r.value))}}function Of(){return{doubleClick:X(),click:X(),mouseEnter:X(),mouseMove:X(),mouseLeave:X(),contextMenu:X(),dragStart:X(),drag:X(),dragStop:X()}}function Df(e,t){const n=Of();return n.doubleClick.on(o=>{var r,i;t.nodeDoubleClick(o),(i=(r=e.events)==null?void 0:r.doubleClick)==null||i.call(r,o)}),n.click.on(o=>{var r,i;t.nodeClick(o),(i=(r=e.events)==null?void 0:r.click)==null||i.call(r,o)}),n.mouseEnter.on(o=>{var r,i;t.nodeMouseEnter(o),(i=(r=e.events)==null?void 0:r.mouseEnter)==null||i.call(r,o)}),n.mouseMove.on(o=>{var r,i;t.nodeMouseMove(o),(i=(r=e.events)==null?void 0:r.mouseMove)==null||i.call(r,o)}),n.mouseLeave.on(o=>{var r,i;t.nodeMouseLeave(o),(i=(r=e.events)==null?void 0:r.mouseLeave)==null||i.call(r,o)}),n.contextMenu.on(o=>{var r,i;t.nodeContextMenu(o),(i=(r=e.events)==null?void 0:r.contextMenu)==null||i.call(r,o)}),n.dragStart.on(o=>{var r,i;t.nodeDragStart(o),(i=(r=e.events)==null?void 0:r.dragStart)==null||i.call(r,o)}),n.drag.on(o=>{var r,i;t.nodeDrag(o),(i=(r=e.events)==null?void 0:r.drag)==null||i.call(r,o)}),n.dragStop.on(o=>{var r,i;t.nodeDragStop(o),(i=(r=e.events)==null?void 0:r.dragStop)==null||i.call(r,o)}),Object.entries(n).reduce((o,[r,i])=>(o.emit[r]=i.trigger,o.on[r]=i.on,o),{emit:{},on:{}})}function qa(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:o,snapGrid:r,snapToGrid:i,nodesDraggable:a,emits:s}=$e();return(l,u=!1)=>{const d=i.value?r.value[0]:5,h=i.value?r.value[1]:5,g=u?4:1,v=l.x*d*g,x=l.y*h*g,m=[];for(const b of e.value)if(b.draggable||a&&typeof b.draggable=="undefined"){const E={x:b.computedPosition.x+v,y:b.computedPosition.y+x},{computedPosition:p}=cr(b,E,s.error,t.value,b.parentNode?o(b.parentNode):void 0);m.push({id:b.id,position:p,from:b.position,distance:{x:l.x,y:l.y},dimensions:b.dimensions})}n(m,!0,!1)}}const No=.1;function st(){return so("Viewport not initialized yet."),Promise.resolve(!1)}const zf={zoomIn:st,zoomOut:st,zoomTo:st,fitView:st,setCenter:st,fitBounds:st,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:st,setTransform:st,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function Bf(e){function t(o,r){return new Promise(i=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.scaleBy($o(e.d3Selection,r,()=>{i(!0)}),o):i(!1)})}function n(o,r,i,a){return new Promise(s=>{const{x:l,y:u}=$a({x:-o,y:-r},e.translateExtent),d=qt.translate(-l,-u).scale(i);e.d3Selection&&e.d3Zoom?e.d3Zoom.transform($o(e.d3Selection,a,()=>{s(!0)}),d):s(!1)})}return ie(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:r=>t(1.2,r==null?void 0:r.duration),zoomOut:r=>t(1/1.2,r==null?void 0:r.duration),zoomTo:(r,i)=>new Promise(a=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.scaleTo($o(e.d3Selection,i==null?void 0:i.duration,()=>{a(!0)}),r):a(!1)}),setViewport:(r,i)=>n(r.x,r.y,r.zoom,i==null?void 0:i.duration),setTransform:(r,i)=>n(r.x,r.y,r.zoom,i==null?void 0:i.duration),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(r={padding:No,includeHiddenNodes:!1,duration:0})=>{var g,v,x;var i,a;const s=[];for(const m of e.nodes)m.dimensions.width&&m.dimensions.height&&((r==null?void 0:r.includeHiddenNodes)||!m.hidden)&&(!((i=r.nodes)!=null&&i.length)||((a=r.nodes)==null?void 0:a.length)&&r.nodes.includes(m.id))&&s.push(m);if(!s.length)return Promise.resolve(!1);const l=ka(s),{x:u,y:d,zoom:h}=Xr(l,e.dimensions.width,e.dimensions.height,(g=r.minZoom)!=null?g:e.minZoom,(v=r.maxZoom)!=null?v:e.maxZoom,(x=r.padding)!=null?x:No,r.offset);return n(u,d,h,r==null?void 0:r.duration)},setCenter:(r,i,a)=>{const s=typeof(a==null?void 0:a.zoom)!="undefined"?a.zoom:e.maxZoom,l=e.dimensions.width/2-r*s,u=e.dimensions.height/2-i*s;return n(l,u,s,a==null?void 0:a.duration)},fitBounds:(r,i={padding:No})=>{const{x:a,y:s,zoom:l}=Xr(r,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,i.padding);return n(a,s,l,i==null?void 0:i.duration)},project:r=>Zn(r,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:r=>{if(e.vueFlowRef){const{x:i,y:a}=e.vueFlowRef.getBoundingClientRect(),s={x:r.x-i,y:r.y-a};return Zn(s,e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:r=>{if(e.vueFlowRef){const{x:i,y:a}=e.vueFlowRef.getBoundingClientRect(),s={x:r.x+i,y:r.y+a};return Ta(s,e.viewport)}return{x:0,y:0}}}:zf)}function $o(e,t=0,n){return e.transition().duration(t).on("end",n)}function Hf(e,t,n){const o=zi(!0);return o.run(()=>{const r=()=>{o.run(()=>{let m,b,E=!!(n.nodes.value.length||n.edges.value.length);m=Dt([e.modelValue,()=>{var p,I;return(I=(p=e.modelValue)==null?void 0:p.value)==null?void 0:I.length}],([p])=>{p&&Array.isArray(p)&&(b==null||b.pause(),n.setElements(p),!b&&!E&&p.length?E=!0:b==null||b.resume())}),b=Dt([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([p,I])=>{var N;((N=e.modelValue)==null?void 0:N.value)&&Array.isArray(e.modelValue.value)&&(m==null||m.pause(),e.modelValue.value=[...p,...I],Ue(()=>{m==null||m.resume()}))},{immediate:E}),Dn(()=>{m==null||m.stop(),b==null||b.stop()})})},i=()=>{o.run(()=>{let m,b,E=!!n.nodes.value.length;m=Dt([e.nodes,()=>{var p,I;return(I=(p=e.nodes)==null?void 0:p.value)==null?void 0:I.length}],([p])=>{p&&Array.isArray(p)&&(b==null||b.pause(),n.setNodes(p),!b&&!E&&p.length?E=!0:b==null||b.resume())}),b=Dt([n.nodes,()=>n.nodes.value.length],([p])=>{var I;((I=e.nodes)==null?void 0:I.value)&&Array.isArray(e.nodes.value)&&(m==null||m.pause(),e.nodes.value=[...p],Ue(()=>{m==null||m.resume()}))},{immediate:E}),Dn(()=>{m==null||m.stop(),b==null||b.stop()})})},a=()=>{o.run(()=>{let m,b,E=!!n.edges.value.length;m=Dt([e.edges,()=>{var p,I;return(I=(p=e.edges)==null?void 0:p.value)==null?void 0:I.length}],([p])=>{p&&Array.isArray(p)&&(b==null||b.pause(),n.setEdges(p),!b&&!E&&p.length?E=!0:b==null||b.resume())}),b=Dt([n.edges,()=>n.edges.value.length],([p])=>{var I;((I=e.edges)==null?void 0:I.value)&&Array.isArray(e.edges.value)&&(m==null||m.pause(),e.edges.value=[...p],Ue(()=>{m==null||m.resume()}))},{immediate:E}),Dn(()=>{m==null||m.stop(),b==null||b.stop()})})},s=()=>{o.run(()=>{xe(()=>t.maxZoom,()=>{t.maxZoom&&Me(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})})},l=()=>{o.run(()=>{xe(()=>t.minZoom,()=>{t.minZoom&&Me(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})})},u=()=>{o.run(()=>{xe(()=>t.translateExtent,()=>{t.translateExtent&&Me(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})})},d=()=>{o.run(()=>{xe(()=>t.nodeExtent,()=>{t.nodeExtent&&Me(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})})},h=()=>{o.run(()=>{xe(()=>t.applyDefault,()=>{Me(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})})},g=()=>{o.run(()=>{const m=async b=>{let E=b;typeof t.autoConnect=="function"&&(E=await t.autoConnect(b)),E!==!1&&n.addEdges([E])};xe(()=>t.autoConnect,()=>{Me(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),xe(n.autoConnect,(b,E,p)=>{b?n.onConnect(m):n.hooks.value.connect.off(m),p(()=>{n.hooks.value.connect.off(m)})},{immediate:!0})})},v=()=>{const m=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const b of Object.keys(t)){const E=b;if(!m.includes(E)){const p=Ce(()=>t[E]),I=n[E];Jo(I)&&o.run(()=>{xe(p,N=>{Me(N)&&(I.value=N)},{immediate:!0})})}}};(()=>{r(),i(),a(),l(),s(),u(),d(),h(),g(),v()})()}),()=>o.stop()}function Rf(){return{edgesChange:X(),nodesChange:X(),nodeDoubleClick:X(),nodeClick:X(),nodeMouseEnter:X(),nodeMouseMove:X(),nodeMouseLeave:X(),nodeContextMenu:X(),nodeDragStart:X(),nodeDrag:X(),nodeDragStop:X(),nodesInitialized:X(),miniMapNodeClick:X(),miniMapNodeDoubleClick:X(),miniMapNodeMouseEnter:X(),miniMapNodeMouseMove:X(),miniMapNodeMouseLeave:X(),connect:X(),connectStart:X(),connectEnd:X(),clickConnectStart:X(),clickConnectEnd:X(),paneReady:X(),init:X(),move:X(),moveStart:X(),moveEnd:X(),selectionDragStart:X(),selectionDrag:X(),selectionDragStop:X(),selectionContextMenu:X(),selectionStart:X(),selectionEnd:X(),viewportChangeStart:X(),viewportChange:X(),viewportChangeEnd:X(),paneScroll:X(),paneClick:X(),paneContextMenu:X(),paneMouseEnter:X(),paneMouseMove:X(),paneMouseLeave:X(),edgeContextMenu:X(),edgeMouseEnter:X(),edgeMouseMove:X(),edgeMouseLeave:X(),edgeDoubleClick:X(),edgeClick:X(),edgeUpdateStart:X(),edgeUpdate:X(),edgeUpdateEnd:X(),updateNodeInternals:X(),error:X(e=>so(e.message))}}function Vf(e,t){Ri(()=>{for(const[n,o]of Object.entries(t.value)){const r=i=>{e(n,i)};o.fns.add(r),to(()=>{o.off(r)})}})}function Xa(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:ur.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:tn.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:wt.Bezier,style:{}},connectionMode:Mt.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:Wn()?"Meta":"Control",zoomActivationKeyCode:Wn()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:Rf(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const Lf=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function Ff(e,t,n){const o=Bf(e),r=c=>{const f=c!=null?c:[];e.hooks.updateNodeInternals.trigger(f)},i=c=>cf(c,e.nodes,e.edges),a=c=>uf(c,e.nodes,e.edges),s=c=>Oa(c,e.edges),l=({id:c,type:f,nodeId:y})=>{var D;var M;return Array.from((D=(M=e.connectionLookup.get(`${y}-${f}-${c!=null?c:null}`))==null?void 0:M.values())!=null?D:[])},u=c=>{if(!!c)return t.value.get(c)},d=c=>{if(!!c)return n.value.get(c)},h=(c,f,y)=>{var C,ee;var M,D;const W=[];for(const te of c){const ge={id:te.id,type:"position",dragging:y,from:te.from};if(f&&(ge.position=te.position,te.parentNode)){const ue=u(te.parentNode);ge.position={x:ge.position.x-((C=(M=ue==null?void 0:ue.computedPosition)==null?void 0:M.x)!=null?C:0),y:ge.position.y-((ee=(D=ue==null?void 0:ue.computedPosition)==null?void 0:D.y)!=null?ee:0)}}W.push(ge)}W!=null&&W.length&&e.hooks.nodesChange.trigger(W)},g=c=>{if(!e.vueFlowRef)return;const f=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!f)return;const y=window.getComputedStyle(f),{m22:M}=new window.DOMMatrixReadOnly(y.transform),D=[];for(let W=0;W<c.length;++W){const C=c[W],ee=u(C.id);if(ee){const te=ao(C.nodeElement);if(!!(te.width&&te.height&&(ee.dimensions.width!==te.width||ee.dimensions.height!==te.height||C.forceUpdate))){const ue=C.nodeElement.getBoundingClientRect();ee.dimensions=te,ee.handleBounds.source=oi(".source",C.nodeElement,ue,M),ee.handleBounds.target=oi(".target",C.nodeElement,ue,M),D.push({id:ee.id,type:"dimensions",dimensions:te})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&o.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),D.length&&e.hooks.nodesChange.trigger(D)},v=(c,f)=>{const y=new Set,M=new Set;for(const C of c)Nt(C)?y.add(C.id):pt(C)&&M.add(C.id);const D=ft(t.value,y,!0),W=ft(n.value,M);if(e.multiSelectionActive){for(const C of y)D.push(ct(C,f));for(const C of M)W.push(ct(C,f))}D.length&&e.hooks.nodesChange.trigger(D),W.length&&e.hooks.edgesChange.trigger(W)},x=c=>{if(e.multiSelectionActive){const f=c.map(y=>ct(y.id,!0));e.hooks.nodesChange.trigger(f);return}e.hooks.nodesChange.trigger(ft(t.value,new Set(c.map(f=>f.id)),!0)),e.hooks.edgesChange.trigger(ft(n.value))},m=c=>{if(e.multiSelectionActive){const f=c.map(y=>ct(y.id,!0));e.hooks.edgesChange.trigger(f);return}e.hooks.edgesChange.trigger(ft(n.value,new Set(c.map(f=>f.id)))),e.hooks.nodesChange.trigger(ft(t.value,new Set,!0))},b=c=>{v(c,!0)},E=c=>{const y=(c||e.nodes).map(M=>(M.selected=!1,ct(M.id,!1)));e.hooks.nodesChange.trigger(y)},p=c=>{const y=(c||e.edges).map(M=>(M.selected=!1,ct(M.id,!1)));e.hooks.edgesChange.trigger(y)},I=c=>{if(!c||!c.length)return v([],!1);const f=c.reduce((y,M)=>{const D=ct(M.id,!1);return Nt(M)?y.nodes.push(D):y.edges.push(D),y},{nodes:[],edges:[]});f.nodes.length&&e.hooks.nodesChange.trigger(f.nodes),f.edges.length&&e.hooks.edgesChange.trigger(f.edges)},N=c=>{var f;(f=e.d3Zoom)==null||f.scaleExtent([c,e.maxZoom]),e.minZoom=c},H=c=>{var f;(f=e.d3Zoom)==null||f.scaleExtent([e.minZoom,c]),e.maxZoom=c},Y=c=>{var f;(f=e.d3Zoom)==null||f.translateExtent(c),e.translateExtent=c},R=c=>{e.nodeExtent=c,r()},K=c=>{var f;(f=e.d3Zoom)==null||f.clickDistance(c)},U=c=>{e.nodesDraggable=c,e.nodesConnectable=c,e.elementsSelectable=c},A=c=>{const f=c instanceof Function?c(e.nodes):c;!e.initialized&&!f.length||(e.nodes=ri(f,u,e.hooks.error.trigger))},w=c=>{const f=c instanceof Function?c(e.edges):c;if(!e.initialized&&!f.length)return;const y=ai(f,e.isValidConnection,u,d,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);ii(e.connectionLookup,y),e.edges=y},oe=c=>{const f=c instanceof Function?c([...e.nodes,...e.edges]):c;!e.initialized&&!f.length||(A(f.filter(Nt)),w(f.filter(pt)))},se=c=>{let f=c instanceof Function?c(e.nodes):c;f=Array.isArray(f)?f:[f];const y=ri(f,u,e.hooks.error.trigger),M=[];for(const D of y)M.push(Zr(D));M.length&&e.hooks.nodesChange.trigger(M)},_=c=>{let f=c instanceof Function?c(e.edges):c;f=Array.isArray(f)?f:[f];const y=ai(f,e.isValidConnection,u,d,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),M=[];for(const D of y)M.push(Zr(D));M.length&&e.hooks.edgesChange.trigger(M)},T=(c,f=!0,y=!1)=>{const M=c instanceof Function?c(e.nodes):c,D=Array.isArray(M)?M:[M],W=[],C=[];function ee(ge){const ue=s(ge);for(const de of ue)(!Me(de.deletable)||de.deletable)&&C.push(Wr(de.id,de.source,de.target,de.sourceHandle,de.targetHandle))}function te(ge){const ue=[];for(const de of e.nodes)de.parentNode===ge&&ue.push(de);if(ue.length){for(const de of ue)W.push(Kr(de.id));f&&ee(ue);for(const de of ue)te(de.id)}}for(const ge of D){const ue=typeof ge=="string"?u(ge):ge;!ue||Me(ue.deletable)&&!ue.deletable||(W.push(Kr(ue.id)),f&&ee([ue]),y&&te(ue.id))}C.length&&e.hooks.edgesChange.trigger(C),W.length&&e.hooks.nodesChange.trigger(W)},S=c=>{const f=c instanceof Function?c(e.edges):c,y=Array.isArray(f)?f:[f],M=[];for(const D of y){const W=typeof D=="string"?d(D):D;!W||Me(W.deletable)&&!W.deletable||M.push(Wr(typeof D=="string"?D:D.id,W.source,W.target,W.sourceHandle,W.targetHandle))}e.hooks.edgesChange.trigger(M)},O=(c,f,y=!0)=>Cf(c,f,e.edges,d,y,e.hooks.error.trigger),z=(c,f,y={replace:!1})=>{const M=d(c);if(!M)return;const D=typeof f=="function"?f(M):f;M.data=y.replace?D:{...M.data,...D}},B=c=>jr(c,e.nodes),F=c=>{const f=jr(c,e.edges);return ii(e.connectionLookup,f),f},G=(c,f,y={replace:!1})=>{const M=u(c);if(!M)return;const D=typeof f=="function"?f(M):f;y.replace?e.nodes.splice(e.nodes.indexOf(M),1,D):Object.assign(M,D)},ae=(c,f,y={replace:!1})=>{const M=u(c);if(!M)return;const D=typeof f=="function"?f(M):f;M.data=y.replace?D:{...M.data,...D}},q=(c,f,y=!1)=>{y?e.connectionClickStartHandle=c:e.connectionStartHandle=c,e.connectionEndHandle=null,e.connectionStatus=null,f&&(e.connectionPosition=f)},V=(c,f=null,y=null)=>{e.connectionStartHandle&&(e.connectionPosition=c,e.connectionEndHandle=f,e.connectionStatus=y)},Q=(c,f)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,f?e.connectionClickStartHandle=null:e.connectionStartHandle=null},pe=c=>{const f=sf(c),y=f?null:en(c)?c:u(c.id);return!f&&!y?[null,null,f]:[f?c:Go(y),y,f]},he=(c,f=!0,y=e.nodes)=>{const[M,D,W]=pe(c);if(!M)return[];const C=[];for(const ee of y||e.nodes){if(!W&&(ee.id===D.id||!ee.computedPosition))continue;const te=Go(ee),ge=Yo(te,M);(f&&ge>0||ge>=Number(M.width)*Number(M.height))&&C.push(ee)}return C},me=(c,f,y=!0)=>{const[M]=pe(c);if(!M)return!1;const D=Yo(M,f);return y&&D>0||D>=Number(M.width)*Number(M.height)},le=c=>{const{viewport:f,dimensions:y,d3Zoom:M,d3Selection:D,translateExtent:W}=e;if(!M||!D||!c.x&&!c.y)return!1;const C=qt.translate(f.x+c.x,f.y+c.y).scale(f.zoom),ee=[[0,0],[y.width,y.height]],te=M.constrain()(C,ee,W),ge=e.viewport.x!==te.x||e.viewport.y!==te.y||e.viewport.zoom!==te.k;return M.transform(D,te),ge},ce=c=>{const f=c instanceof Function?c(e):c,y=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];Me(f.defaultEdgeOptions)&&(e.defaultEdgeOptions=f.defaultEdgeOptions);const M=f.modelValue||f.nodes||f.edges?[]:void 0;M&&(f.modelValue&&M.push(...f.modelValue),f.nodes&&M.push(...f.nodes),f.edges&&M.push(...f.edges),oe(M));const D=()=>{Me(f.maxZoom)&&H(f.maxZoom),Me(f.minZoom)&&N(f.minZoom),Me(f.translateExtent)&&Y(f.translateExtent)};for(const W of Object.keys(f)){const C=W,ee=f[C];![...Lf,...y].includes(C)&&Me(ee)&&(e[C]=ee)}ko(()=>e.d3Zoom).not.toBeNull().then(D),e.initialized||(e.initialized=!0)};return{updateNodePositions:h,updateNodeDimensions:g,setElements:oe,setNodes:A,setEdges:w,addNodes:se,addEdges:_,removeNodes:T,removeEdges:S,findNode:u,findEdge:d,updateEdge:O,updateEdgeData:z,updateNode:G,updateNodeData:ae,applyEdgeChanges:F,applyNodeChanges:B,addSelectedElements:b,addSelectedNodes:x,addSelectedEdges:m,setMinZoom:N,setMaxZoom:H,setTranslateExtent:Y,setNodeExtent:R,setPaneClickDistance:K,removeSelectedElements:I,removeSelectedNodes:E,removeSelectedEdges:p,startConnection:q,updateConnection:V,endConnection:Q,setInteractive:U,setState:ce,getIntersectingNodes:he,getIncomers:i,getOutgoers:a,getConnectedEdges:s,getHandleConnections:l,isNodeIntersecting:me,panBy:le,fitView:c=>o.value.fitView(c),zoomIn:c=>o.value.zoomIn(c),zoomOut:c=>o.value.zoomOut(c),zoomTo:(c,f)=>o.value.zoomTo(c,f),setViewport:(c,f)=>o.value.setViewport(c,f),setTransform:(c,f)=>o.value.setTransform(c,f),getViewport:()=>o.value.getViewport(),getTransform:()=>o.value.getTransform(),setCenter:(c,f,y)=>o.value.setCenter(c,f,y),fitBounds:(c,f)=>o.value.fitBounds(c,f),project:c=>o.value.project(c),screenToFlowCoordinate:c=>o.value.screenToFlowCoordinate(c),flowToScreenCoordinate:c=>o.value.flowToScreenCoordinate(c),toObject:()=>{const c=[],f=[];for(const y of e.nodes){const{computedPosition:M,handleBounds:D,selected:W,dimensions:C,isParent:ee,resizing:te,dragging:ge,events:ue,...de}=y;c.push(de)}for(const y of e.edges){const{selected:M,sourceNode:D,targetNode:W,events:C,...ee}=y;f.push(ee)}return JSON.parse(JSON.stringify({nodes:c,edges:f,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:c=>new Promise(f=>{const{nodes:y,edges:M,position:D,zoom:W,viewport:C}=c;if(y&&A(y),M&&w(M),(C==null?void 0:C.x)&&(C==null?void 0:C.y)||D){const ee=(C==null?void 0:C.x)||D[0],te=(C==null?void 0:C.y)||D[1],ge=(C==null?void 0:C.zoom)||W||e.viewport.zoom;return ko(()=>o.value.viewportInitialized).toBe(!0).then(()=>{o.value.setViewport({x:ee,y:te,zoom:ge}).then(()=>{f(!0)})})}else f(!0)}),updateNodeInternals:r,viewportHelper:o,$reset:()=>{var f,y,M;const c=Xa();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const D=qt.translate((f=c.defaultViewport.x)!=null?f:0,(y=c.defaultViewport.y)!=null?y:0).scale(It((M=c.defaultViewport.zoom)!=null?M:1,c.minZoom,c.maxZoom)),W=e.viewportRef.getBoundingClientRect(),C=[[0,0],[W.width,W.height]],ee=e.d3Zoom.constrain()(D,C,c.translateExtent);e.d3Zoom.transform(e.d3Selection,ee)}ce(c)},$destroy:()=>{}}}const Gf=["data-id","data-handleid","data-nodeid","data-handlepos"],Yf={name:"Handle",compatConfig:{MODE:3}},Ve=Se({...Yf,props:{id:{default:null},type:{},position:{default:()=>Z.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=Vi(e,["position","connectable","connectableStart","connectableEnd","id"]),o=Ce(()=>{var A;return(A=n.type)!=null?A:"source"}),r=Ce(()=>{var A;return(A=n.isValidConnection)!=null?A:null}),{connectionStartHandle:i,connectionClickStartHandle:a,connectionEndHandle:s,vueFlowRef:l,nodesConnectable:u,noDragClassName:d,noPanClassName:h}=$e(),{id:g,node:v,nodeEl:x,connectedEdges:m}=Ya(),b=fe(),E=Ce(()=>typeof e.connectableStart!="undefined"?e.connectableStart:!0),p=Ce(()=>typeof e.connectableEnd!="undefined"?e.connectableEnd:!0),I=Ce(()=>{var A,w,oe,se,_,T;return((A=i.value)==null?void 0:A.nodeId)===g&&((w=i.value)==null?void 0:w.handleId)===e.id&&((oe=i.value)==null?void 0:oe.type)===o.value||((se=s.value)==null?void 0:se.nodeId)===g&&((_=s.value)==null?void 0:_.handleId)===e.id&&((T=s.value)==null?void 0:T.type)===o.value}),N=Ce(()=>{var A,w,oe;return((A=a.value)==null?void 0:A.nodeId)===g&&((w=a.value)==null?void 0:w.handleId)===e.id&&((oe=a.value)==null?void 0:oe.type)===o.value}),{handlePointerDown:H,handleClick:Y}=Ga({nodeId:g,handleId:e.id,isValidConnection:r,type:o}),R=ie(()=>typeof e.connectable=="string"&&e.connectable==="single"?!m.value.some(A=>{const w=A[`${o.value}Handle`];return A[o.value]!==g?!1:w?w===e.id:!0}):typeof e.connectable=="number"?m.value.filter(A=>{const w=A[`${o.value}Handle`];return A[o.value]!==g?!1:w?w===e.id:!0}).length<e.connectable:typeof e.connectable=="function"?e.connectable(v,m.value):Me(e.connectable)?e.connectable:u.value);Ze(()=>{var z;var A;if(!v.dimensions.width||!v.dimensions.height)return;const w=(A=v.handleBounds[o.value])==null?void 0:A.find(B=>B.id===e.id);if(!l.value||w)return;const oe=l.value.querySelector(".vue-flow__transformationpane");if(!x.value||!b.value||!oe||!e.id)return;const se=x.value.getBoundingClientRect(),_=b.value.getBoundingClientRect(),T=window.getComputedStyle(oe),{m22:S}=new window.DOMMatrixReadOnly(T.transform),O={id:e.id,position:e.position,x:(_.left-se.left)/S,y:(_.top-se.top)/S,...ao(b.value)};v.handleBounds[o.value]=[...(z=v.handleBounds[o.value])!=null?z:[],O]}),Hi(()=>{const A=v.handleBounds[o.value];A&&(v.handleBounds[o.value]=A.filter(w=>w.id!==e.id))});function K(A){const w=dr(A);R.value&&E.value&&(w&&A.button===0||!w)&&H(A)}function U(A){!g||!a.value&&!E.value||R.value&&Y(A)}return t({handleClick:Y,handlePointerDown:H,onClick:U,onPointerDown:K}),(A,w)=>(j(),ve("div",{ref_key:"handle",ref:b,"data-id":`${P(g)}-${e.id}-${o.value}`,"data-handleid":e.id,"data-nodeid":P(g),"data-handlepos":A.position,class:Be(["vue-flow__handle",[`vue-flow__handle-${A.position}`,`vue-flow__handle-${e.id}`,P(d),P(h),o.value,{connectable:R.value,connecting:N.value,connectablestart:E.value,connectableend:p.value,connectionindicator:R.value&&(E.value&&!I.value||p.value&&I.value)}]]),onMousedown:K,onTouchstartPassive:K,onClick:U},[$t(A.$slots,"default",{id:A.id})],42,Gf))}}),uo=function({sourcePosition:e=Z.Bottom,targetPosition:t=Z.Top,label:n,connectable:o=!0,isValidTargetPos:r,isValidSourcePos:i,data:a}){const s=a.label||n;return[Ee(Ve,{type:"target",position:t,connectable:o,isValidConnection:r}),typeof s!="string"&&s?Ee(s):Ee("div",{innerHTML:s}),Ee(Ve,{type:"source",position:e,connectable:o,isValidConnection:i})]};uo.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];uo.inheritAttrs=!1;uo.compatConfig={MODE:3};const qf=uo,co=function({targetPosition:e=Z.Top,label:t,connectable:n=!0,isValidTargetPos:o,data:r}){const i=r.label||t;return[Ee(Ve,{type:"target",position:e,connectable:n,isValidConnection:o}),typeof i!="string"&&i?Ee(i):Ee("div",{innerHTML:i})]};co.props=["targetPosition","label","isValidTargetPos","connectable","data"];co.inheritAttrs=!1;co.compatConfig={MODE:3};const Xf=co,fo=function({sourcePosition:e=Z.Bottom,label:t,connectable:n=!0,isValidSourcePos:o,data:r}){const i=r.label||t;return[typeof i!="string"&&i?Ee(i):Ee("div",{innerHTML:i}),Ee(Ve,{type:"source",position:e,connectable:n,isValidConnection:o})]};fo.props=["sourcePosition","label","isValidSourcePos","connectable","data"];fo.inheritAttrs=!1;fo.compatConfig={MODE:3};const Uf=fo,jf=["transform"],Zf=["width","height","x","y","rx","ry"],Kf=["y"],Wf={name:"EdgeText",compatConfig:{MODE:3}},Qf=Se({...Wf,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=fe({x:0,y:0,width:0,height:0}),n=fe(null),o=ie(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);Ze(r),xe([()=>e.x,()=>e.y,n,()=>e.label],r);function r(){if(!n.value)return;const i=n.value.getBBox();(i.width!==t.value.width||i.height!==t.value.height)&&(t.value=i)}return(i,a)=>(j(),ve("g",{transform:o.value,class:"vue-flow__edge-textwrapper"},[i.labelShowBg?(j(),ve("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*i.labelBgPadding[0]}px`,height:`${t.value.height+2*i.labelBgPadding[1]}px`,x:-i.labelBgPadding[0],y:-i.labelBgPadding[1],style:ke(i.labelBgStyle),rx:i.labelBgBorderRadius,ry:i.labelBgBorderRadius},null,12,Zf)):be("",!0),re("text",ms(i.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:i.labelStyle}),[$t(i.$slots,"default",{},()=>[typeof i.label!="string"?(j(),_e(vs(i.label),{key:0})):(j(),ve(Ae,{key:1},[Pe(we(i.label),1)],64))])],16,Kf)],8,jf))}}),Jf=["id","d","marker-end","marker-start"],eh=["d","stroke-width"],th={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},ho=Se({...th,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},style:{},labelStyle:{},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=Vi(e,["interactionWidth","labelShowBg"]),o=fe(null),r=fe(null),i=fe(null),a=ds();return t({pathEl:o,interactionEl:r,labelEl:i}),(s,l)=>(j(),ve(Ae,null,[re("path",{id:s.id,ref_key:"pathEl",ref:o,d:s.path,style:ke(n.style),class:Be(["vue-flow__edge-path",P(a).class]),"marker-end":s.markerEnd,"marker-start":s.markerStart},null,14,Jf),s.interactionWidth?(j(),ve("path",{key:0,ref_key:"interactionEl",ref:r,fill:"none",d:s.path,"stroke-width":s.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,eh)):be("",!0),s.label&&s.labelX&&s.labelY?(j(),_e(Qf,{key:1,ref_key:"labelEl",ref:i,x:s.labelX,y:s.labelY,label:s.label,"label-show-bg":s.labelShowBg,"label-bg-style":s.labelBgStyle,"label-bg-padding":s.labelBgPadding,"label-bg-border-radius":s.labelBgBorderRadius,"label-style":s.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):be("",!0)],64))}});function Ua({sourceX:e,sourceY:t,targetX:n,targetY:o}){const r=Math.abs(n-e)/2,i=n<e?n+r:n-r,a=Math.abs(o-t)/2,s=o<t?o+a:o-a;return[i,s,r,a]}function ja({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:r,sourceControlY:i,targetControlX:a,targetControlY:s}){const l=e*.125+r*.375+a*.375+n*.125,u=t*.125+i*.375+s*.375+o*.125,d=Math.abs(l-e),h=Math.abs(u-t);return[l,u,d,h]}function Pn(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function li({pos:e,x1:t,y1:n,x2:o,y2:r,c:i}){let a,s;switch(e){case Z.Left:a=t-Pn(t-o,i),s=n;break;case Z.Right:a=t+Pn(o-t,i),s=n;break;case Z.Top:a=t,s=n-Pn(n-r,i);break;case Z.Bottom:a=t,s=n+Pn(r-n,i);break}return[a,s]}function Za(e){const{sourceX:t,sourceY:n,sourcePosition:o=Z.Bottom,targetX:r,targetY:i,targetPosition:a=Z.Top,curvature:s=.25}=e,[l,u]=li({pos:o,x1:t,y1:n,x2:r,y2:i,c:s}),[d,h]=li({pos:a,x1:r,y1:i,x2:t,y2:n,c:s}),[g,v,x,m]=ja({sourceX:t,sourceY:n,targetX:r,targetY:i,sourceControlX:l,sourceControlY:u,targetControlX:d,targetControlY:h});return[`M${t},${n} C${l},${u} ${d},${h} ${r},${i}`,g,v,x,m]}function ui({pos:e,x1:t,y1:n,x2:o,y2:r}){let i,a;switch(e){case Z.Left:case Z.Right:i=.5*(t+o),a=n;break;case Z.Top:case Z.Bottom:i=t,a=.5*(n+r);break}return[i,a]}function Ka(e){const{sourceX:t,sourceY:n,sourcePosition:o=Z.Bottom,targetX:r,targetY:i,targetPosition:a=Z.Top}=e,[s,l]=ui({pos:o,x1:t,y1:n,x2:r,y2:i}),[u,d]=ui({pos:a,x1:r,y1:i,x2:t,y2:n}),[h,g,v,x]=ja({sourceX:t,sourceY:n,targetX:r,targetY:i,sourceControlX:s,sourceControlY:l,targetControlX:u,targetControlY:d});return[`M${t},${n} C${s},${l} ${u},${d} ${r},${i}`,h,g,v,x]}const ci={[Z.Left]:{x:-1,y:0},[Z.Right]:{x:1,y:0},[Z.Top]:{x:0,y:-1},[Z.Bottom]:{x:0,y:1}};function nh({source:e,sourcePosition:t=Z.Bottom,target:n}){return t===Z.Left||t===Z.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function di(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function oh({source:e,sourcePosition:t=Z.Bottom,target:n,targetPosition:o=Z.Top,center:r,offset:i}){var R,K;const a=ci[t],s=ci[o],l={x:e.x+a.x*i,y:e.y+a.y*i},u={x:n.x+s.x*i,y:n.y+s.y*i},d=nh({source:l,sourcePosition:t,target:u}),h=d.x!==0?"x":"y",g=d[h];let v,x,m;const b={x:0,y:0},E={x:0,y:0},[p,I,N,H]=Ua({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[h]*s[h]===-1){x=(R=r.x)!=null?R:p,m=(K=r.y)!=null?K:I;const U=[{x,y:l.y},{x,y:u.y}],A=[{x:l.x,y:m},{x:u.x,y:m}];a[h]===g?v=h==="x"?U:A:v=h==="x"?A:U}else{const U=[{x:l.x,y:u.y}],A=[{x:u.x,y:l.y}];if(h==="x"?v=a.x===g?A:U:v=a.y===g?U:A,t===o){const T=Math.abs(e[h]-n[h]);if(T<=i){const S=Math.min(i-1,i-T);a[h]===g?b[h]=(l[h]>e[h]?-1:1)*S:E[h]=(u[h]>n[h]?-1:1)*S}}if(t!==o){const T=h==="x"?"y":"x",S=a[h]===s[T],O=l[T]>u[T],z=l[T]<u[T];(a[h]===1&&(!S&&O||S&&z)||a[h]!==1&&(!S&&z||S&&O))&&(v=h==="x"?U:A)}const w={x:l.x+b.x,y:l.y+b.y},oe={x:u.x+E.x,y:u.y+E.y},se=Math.max(Math.abs(w.x-v[0].x),Math.abs(oe.x-v[0].x)),_=Math.max(Math.abs(w.y-v[0].y),Math.abs(oe.y-v[0].y));se>=_?(x=(w.x+oe.x)/2,m=v[0].y):(x=v[0].x,m=(w.y+oe.y)/2)}return[[e,{x:l.x+b.x,y:l.y+b.y},...v,{x:u.x+E.x,y:u.y+E.y},n],x,m,N,H]}function rh(e,t,n,o){const r=Math.min(di(e,t)/2,di(t,n)/2,o),{x:i,y:a}=t;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return`L${i} ${a}`;if(e.y===a){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${i+r*u},${a}Q ${i},${a} ${i},${a+r*d}`}const s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${i},${a+r*l}Q ${i},${a} ${i+r*s},${a}`}function Xo(e){const{sourceX:t,sourceY:n,sourcePosition:o=Z.Bottom,targetX:r,targetY:i,targetPosition:a=Z.Top,borderRadius:s=5,centerX:l,centerY:u,offset:d=20}=e,[h,g,v,x,m]=oh({source:{x:t,y:n},sourcePosition:o,target:{x:r,y:i},targetPosition:a,center:{x:l,y:u},offset:d});return[h.reduce((E,p,I)=>{let N;return I>0&&I<h.length-1?N=rh(h[I-1],p,h[I+1],s):N=`${I===0?"M":"L"}${p.x} ${p.y}`,E+=N,E},""),g,v,x,m]}function ih(e){const{sourceX:t,sourceY:n,targetX:o,targetY:r}=e,[i,a,s,l]=Ua({sourceX:t,sourceY:n,targetX:o,targetY:r});return[`M ${t},${n}L ${o},${r}`,i,a,s,l]}const ah=Se({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,r]=ih(e);return Ee(ho,{path:n,labelX:o,labelY:r,...t,...e})}}}),sh=ah,lh=Se({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{var i,a;const[n,o,r]=Xo({...e,sourcePosition:(i=e.sourcePosition)!=null?i:Z.Bottom,targetPosition:(a=e.targetPosition)!=null?a:Z.Top});return Ee(ho,{path:n,labelX:o,labelY:r,...t,...e})}}}),Wa=lh,uh=Se({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>Ee(Wa,{...e,...t,borderRadius:0})}}),ch=uh,dh=Se({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{var i,a;const[n,o,r]=Za({...e,sourcePosition:(i=e.sourcePosition)!=null?i:Z.Bottom,targetPosition:(a=e.targetPosition)!=null?a:Z.Top});return Ee(ho,{path:n,labelX:o,labelY:r,...t,...e})}}}),fh=dh,hh=Se({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{var i,a;const[n,o,r]=Ka({...e,sourcePosition:(i=e.sourcePosition)!=null?i:Z.Bottom,targetPosition:(a=e.targetPosition)!=null?a:Z.Top});return Ee(ho,{path:n,labelX:o,labelY:r,...t,...e})}}}),gh=hh,ph={input:Uf,default:qf,output:Xf},vh={default:fh,straight:sh,step:ch,smoothstep:Wa,simplebezier:gh};function mh(e,t,n){const o=ie(()=>m=>t.value.get(m)),r=ie(()=>m=>n.value.get(m)),i=ie(()=>{const m={...vh,...e.edgeTypes},b=Object.keys(m);for(const E of e.edges)E.type&&!b.includes(E.type)&&(m[E.type]=E.type);return m}),a=ie(()=>{const m={...ph,...e.nodeTypes},b=Object.keys(m);for(const E of e.nodes)E.type&&!b.includes(E.type)&&(m[E.type]=E.type);return m}),s=ie(()=>e.onlyRenderVisibleElements?Aa(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),l=ie(()=>{if(e.onlyRenderVisibleElements){const m=[];for(const b of e.edges){const E=t.value.get(b.source),p=t.value.get(b.target);_f({sourcePos:E.computedPosition||{x:0,y:0},targetPos:p.computedPosition||{x:0,y:0},sourceWidth:E.dimensions.width,sourceHeight:E.dimensions.height,targetWidth:p.dimensions.width,targetHeight:p.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&m.push(b)}return m}return e.edges}),u=ie(()=>[...s.value,...l.value]),d=ie(()=>{const m=[];for(const b of e.nodes)b.selected&&m.push(b);return m}),h=ie(()=>{const m=[];for(const b of e.edges)b.selected&&m.push(b);return m}),g=ie(()=>[...d.value,...h.value]),v=ie(()=>{const m=[];for(const b of e.nodes)!!b.dimensions.width&&!!b.dimensions.height&&b.handleBounds!==void 0&&m.push(b);return m}),x=ie(()=>s.value.length>0&&v.value.length===s.value.length);return{getNode:o,getEdge:r,getElements:u,getEdgeTypes:i,getNodeTypes:a,getEdges:l,getNodes:s,getSelectedElements:g,getSelectedNodes:d,getSelectedEdges:h,getNodesInitialized:v,areNodesInitialized:x}}class bt{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var r;var t;const n=(t=pn())==null?void 0:t.appContext.app,o=(r=n==null?void 0:n.config.globalProperties.$vueFlowStorage)!=null?r:bt.instance;return bt.instance=o!=null?o:new bt,n&&(n.config.globalProperties.$vueFlowStorage=bt.instance),bt.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const o=Xa(),r=fs(o),i={};for(const[g,v]of Object.entries(r.hooks)){const x=`on${g.charAt(0).toUpperCase()+g.slice(1)}`;i[x]=v.on}const a={};for(const[g,v]of Object.entries(r.hooks))a[g]=v.trigger;const s=ie(()=>{const g=new Map;for(const v of r.nodes)g.set(v.id,v);return g}),l=ie(()=>{const g=new Map;for(const v of r.edges)g.set(v.id,v);return g}),u=mh(r,s,l),d=Ff(r,s,l);d.setState({...r,...n});const h={...i,...u,...d,...wl(r),nodeLookup:s,edgeLookup:l,emits:a,id:t,vueFlowVersion:"1.41.1",$destroy:()=>{this.remove(t)}};return this.set(t,h),h}getId(){return`vue-flow-${this.currentId++}`}}function $e(e){const t=bt.getInstance(),n=Fi(),o=typeof e=="object",r=o?e:{id:e},i=r.id,a=i!=null?i:n==null?void 0:n.vueFlowId;let s;if(n){const l=Xt(si,null);typeof l!="undefined"&&l!==null&&(!a||l.id===a)&&(s=l)}if(s||a&&(s=t.get(a)),!s||a&&s.id!==a){const l=i!=null?i:t.getId(),u=t.create(l,r);s=u,(n!=null?n:zi(!0)).run(()=>{xe(u.applyDefault,(h,g,v)=>{const x=b=>{u.applyNodeChanges(b)},m=b=>{u.applyEdgeChanges(b)};h?(u.onNodesChange(x),u.onEdgesChange(m)):(u.hooks.value.nodesChange.off(x),u.hooks.value.edgesChange.off(m)),v(()=>{u.hooks.value.nodesChange.off(x),u.hooks.value.edgesChange.off(m)})},{immediate:!0}),to(()=>{if(s){const h=t.get(s.id);h?h.$destroy():so(`No store instance found for id ${s.id} in storage.`)}})})}else o&&s.setState(r);if(n&&(Ft(si,s),n.vueFlowId=s.id),o){const l=pn();(l==null?void 0:l.type.name)!=="VueFlow"&&s.emits.error(new Te(Ie.USEVUEFLOW_OPTIONS))}return s}function yh(e){const{emits:t,dimensions:n}=$e();let o;Ze(()=>{const r=e.value,i=()=>{if(!r)return;const a=ao(r);(a.width===0||a.height===0)&&t.error(new Te(Ie.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:a.width||500,height:a.height||500}};i(),window.addEventListener("resize",i),r&&(o=new ResizeObserver(()=>i()),o.observe(r)),Li(()=>{window.removeEventListener("resize",i),o&&r&&o.unobserve(r)})})}const _h={name:"UserSelection",compatConfig:{MODE:3}},wh=Se({..._h,props:{userSelectionRect:{}},setup(e){return(t,n)=>(j(),ve("div",{class:"vue-flow__selection vue-flow__container",style:ke({width:`${t.userSelectionRect.width}px`,height:`${t.userSelectionRect.height}px`,transform:`translate(${t.userSelectionRect.x}px, ${t.userSelectionRect.y}px)`})},null,4))}}),bh=["tabIndex"],xh={name:"NodesSelection",compatConfig:{MODE:3}},Eh=Se({...xh,setup(e){const{emits:t,viewport:n,getSelectedNodes:o,noPanClassName:r,disableKeyboardA11y:i,userSelectionActive:a}=$e(),s=qa(),l=fe(null),u=Fa({el:l,onStart(x){t.selectionDragStart(x)},onDrag(x){t.selectionDrag(x)},onStop(x){t.selectionDragStop(x)}});Ze(()=>{var x;i.value||(x=l.value)==null||x.focus({preventScroll:!0})});const d=ie(()=>ka(o.value)),h=ie(()=>({width:`${d.value.width}px`,height:`${d.value.height}px`,top:`${d.value.y}px`,left:`${d.value.x}px`}));function g(x){t.selectionContextMenu({event:x,nodes:o.value})}function v(x){i||Vt[x.key]&&s({x:Vt[x.key].x,y:Vt[x.key].y},x.shiftKey)}return(x,m)=>!P(a)&&d.value.width&&d.value.height?(j(),ve("div",{key:0,class:Be(["vue-flow__nodesselection vue-flow__container",P(r)]),style:ke({transform:`translate(${P(n).x}px,${P(n).y}px) scale(${P(n).zoom})`})},[re("div",{ref_key:"el",ref:l,class:Be([{dragging:P(u)},"vue-flow__nodesselection-rect"]),style:ke(h.value),tabIndex:P(i)?void 0:-1,onContextmenu:g,onKeydown:v},null,46,bh)],6)):be("",!0)}});function Sh(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const Nh={name:"Pane",compatConfig:{MODE:3}},$h=Se({...Nh,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:o,emits:r,userSelectionActive:i,removeSelectedElements:a,panOnDrag:s,userSelectionRect:l,elementsSelectable:u,nodesSelectionActive:d,getSelectedEdges:h,getSelectedNodes:g,removeNodes:v,removeEdges:x,selectionMode:m,deleteKeyCode:b,multiSelectionKeyCode:E,multiSelectionActive:p,edgeLookup:I,nodeLookup:N}=$e(),H=fe(null),Y=fe(0),R=fe(0),K=fe(),U=fe(new Map),A=Ce(()=>u.value&&(e.isSelecting||i.value));let w=!1,oe=!1;const se=nn(b,{actInsideInputWithModifier:!1}),_=nn(E);xe(se,q=>{!q||(v(g.value),x(h.value),d.value=!1)}),xe(_,q=>{p.value=q});function T(q,V){return Q=>{Q.target===V&&(q==null||q(Q))}}function S(){i.value=!1,l.value=null,Y.value=0,R.value=0}function O(q){if(w){w=!1;return}r.paneClick(q),a(),d.value=!1}function z(q){var V;if(Array.isArray(s.value)&&((V=s.value)==null?void 0:V.includes(2))){q.preventDefault();return}r.paneContextMenu(q)}function B(q){r.paneScroll(q)}function F(q){var V,Q,pe,he,me;if(K.value=(V=t.value)==null?void 0:V.getBoundingClientRect(),!u.value||!e.isSelecting||q.button!==0||q.target!==H.value||!K.value)return;(pe=(Q=q.target)==null?void 0:Q.setPointerCapture)==null||pe.call(Q,q.pointerId);const{x:le,y:ce}=Sh(q,K.value);oe=!0,w=!1,U.value=new Map;for(const[J,ne]of I.value)U.value.set(ne.source,((he=U.value.get(ne.source))==null?void 0:he.add(J))||new Set([J])),U.value.set(ne.target,((me=U.value.get(ne.target))==null?void 0:me.add(J))||new Set([J]));a(),l.value={width:0,height:0,startX:le,startY:ce,x:le,y:ce},r.selectionStart(q)}function G(q){if(!K.value||!l.value)return;w=!0;const{x:V,y:Q}=gt(q,K.value),{startX:pe=0,startY:he=0}=l.value,me={startX:pe,startY:he,x:V<pe?V:pe,y:Q<he?Q:he,width:Math.abs(V-pe),height:Math.abs(Q-he)},le=Aa(n.value,me,o.value,m.value===ur.Partial,!0),ce=new Set,J=new Set;for(const ne of le){J.add(ne.id);const $=U.value.get(ne.id);if($)for(const c of $)ce.add(c)}if(Y.value!==J.size){Y.value=J.size;const ne=ft(N.value,J,!0);r.nodesChange(ne)}if(R.value!==ce.size){R.value=ce.size;const ne=ft(I.value,ce);r.edgesChange(ne)}l.value=me,i.value=!0,d.value=!1}function ae(q){var V;q.button!==0||!oe||((V=q.target)==null||V.releasePointerCapture(q.pointerId),!i.value&&l.value&&q.target===H.value&&O(q),Y.value>0&&(d.value=!0),S(),r.selectionEnd(q),e.selectionKeyPressed&&(w=!1),oe=!1)}return(q,V)=>(j(),ve("div",{ref_key:"container",ref:H,class:Be(["vue-flow__pane vue-flow__container",{selection:q.isSelecting}]),onClick:V[0]||(V[0]=Q=>A.value?void 0:T(O,H.value)(Q)),onContextmenu:V[1]||(V[1]=Q=>T(z,H.value)(Q)),onWheelPassive:V[2]||(V[2]=Q=>T(B,H.value)(Q)),onPointerenter:V[3]||(V[3]=Q=>A.value?void 0:P(r).paneMouseEnter(Q)),onPointerdown:V[4]||(V[4]=Q=>A.value?F(Q):P(r).paneMouseMove(Q)),onPointermove:V[5]||(V[5]=Q=>A.value?G(Q):P(r).paneMouseMove(Q)),onPointerup:V[6]||(V[6]=Q=>A.value?ae(Q):void 0),onPointerleave:V[7]||(V[7]=Q=>P(r).paneMouseLeave(Q))},[$t(q.$slots,"default"),P(i)&&P(l)?(j(),_e(wh,{key:0,"user-selection-rect":P(l)},null,8,["user-selection-rect"])):be("",!0),P(d)&&P(g).length?(j(),_e(Eh,{key:1})):be("",!0)],34))}}),Ch={name:"Transform",compatConfig:{MODE:3}},Mh=Se({...Ch,setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:o}=$e(),r=ie(()=>n.value?!o.value:!1),i=ie(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(a,s)=>(j(),ve("div",{class:"vue-flow__transformationpane vue-flow__container",style:ke({transform:i.value,opacity:r.value?0:void 0})},[$t(a.$slots,"default")],4))}}),Ih={name:"Viewport",compatConfig:{MODE:3}},Th=Se({...Ih,setup(e){const{minZoom:t,maxZoom:n,defaultViewport:o,translateExtent:r,zoomActivationKeyCode:i,selectionKeyCode:a,panActivationKeyCode:s,panOnScroll:l,panOnScrollMode:u,panOnScrollSpeed:d,panOnDrag:h,zoomOnDoubleClick:g,zoomOnPinch:v,zoomOnScroll:x,preventScrolling:m,noWheelClassName:b,noPanClassName:E,emits:p,connectionStartHandle:I,userSelectionActive:N,paneDragging:H,d3Zoom:Y,d3Selection:R,d3ZoomHandler:K,viewport:U,viewportRef:A,paneClickDistance:w}=$e();yh(A);const oe=fe(!1),se=fe(!1);let _=null,T=!1,S=0,O={x:0,y:0,zoom:0};const z=nn(s),B=nn(a),F=nn(i),G=Ce(()=>!B.value&&(z.value||h.value)),ae=Ce(()=>z.value||l.value),q=Ce(()=>B.value||a.value===!0&&G.value!==!0);Ze(()=>{var M,D,W;if(!A.value){so("Viewport element is missing");return}const le=A.value,ce=le.getBoundingClientRect(),J=tf().clickDistance(w.value).scaleExtent([t.value,n.value]).translateExtent(r.value),ne=Ge(le).call(J),$=ne.on("wheel.zoom"),c=qt.translate((M=o.value.x)!=null?M:0,(D=o.value.y)!=null?D:0).scale(It((W=o.value.zoom)!=null?W:1,t.value,n.value)),f=[[0,0],[ce.width,ce.height]],y=J.constrain()(c,f,r.value);J.transform(ne,y),J.wheelDelta(Q),Y.value=J,R.value=ne,K.value=$,U.value={x:y.x,y:y.y,zoom:y.k},J.on("start",C=>{var ee;if(!C.sourceEvent)return null;S=C.sourceEvent.button,oe.value=!0;const te=he(C.transform);((ee=C.sourceEvent)==null?void 0:ee.type)==="mousedown"&&(H.value=!0),O=te,p.viewportChangeStart(te),p.moveStart({event:C,flowTransform:te})}),J.on("end",C=>{if(!C.sourceEvent)return null;if(oe.value=!1,H.value=!1,V(G.value,S!=null?S:0)&&!T&&p.paneContextMenu(C.sourceEvent),T=!1,pe(O,C.transform)){const ee=he(C.transform);O=ee,p.viewportChangeEnd(ee),p.moveEnd({event:C,flowTransform:ee})}}),J.filter(C=>{var ee,te,ge;const ue=F.value||x.value,de=v.value&&C.ctrlKey,Re=C.button;if((G.value===!0||Array.isArray(G.value)&&G.value.includes(1))&&Re===1&&C.type==="mousedown"&&(((ee=C.target)==null?void 0:ee.closest(".vue-flow__node"))||((te=C.target)==null?void 0:te.closest(".vue-flow__edge"))))return!0;if(!G.value&&!ue&&!ae.value&&!g.value&&!v.value||N.value||!g.value&&C.type==="dblclick"||me(C,b.value)&&C.type==="wheel"||me(C,E.value)&&(C.type!=="wheel"||ae.value&&C.type==="wheel"&&!F.value)||!v.value&&C.ctrlKey&&C.type==="wheel"||!ue&&!ae.value&&!de&&C.type==="wheel")return!1;if(!v&&C.type==="touchstart"&&((ge=C.touches)==null?void 0:ge.length)>1)return C.preventDefault(),!1;if(!G.value&&(C.type==="mousedown"||C.type==="touchstart")||Array.isArray(G.value)&&!G.value.includes(Re)&&(C.type==="mousedown"||C.type==="touchstart"))return!1;const We=Array.isArray(G.value)&&G.value.includes(Re)||!Re||Re<=1;return(!C.ctrlKey||C.type==="wheel")&&We}),xe([N,G],()=>{N.value&&!oe.value?J.on("zoom",null):N.value||J.on("zoom",C=>{U.value={x:C.transform.x,y:C.transform.y,zoom:C.transform.k};const ee=he(C.transform);T=V(G.value,S!=null?S:0),p.viewportChange(ee),p.move({event:C,flowTransform:ee})})},{immediate:!0}),xe([N,ae,u,F,v,m,b],()=>{ae.value&&!F.value&&!N.value?ne.on("wheel.zoom",C=>{if(me(C,b.value))return!1;const ee=F.value||x.value,te=v.value&&C.ctrlKey;if(!(!m.value||ae.value||ee||te))return!1;C.preventDefault(),C.stopImmediatePropagation();const ue=ne.property("__zoom").k||1,de=Wn();if(C.ctrlKey&&v.value&&de){const _n=Xe(C),wn=Q(C),bn=ue*2**wn;J.scaleTo(ne,bn,_n,C);return}const Re=C.deltaMode===1?20:1;let We=u.value===tn.Vertical?0:C.deltaX*Re,Ut=u.value===tn.Horizontal?0:C.deltaY*Re;!de&&C.shiftKey&&u.value!==tn.Vertical&&!We&&Ut&&(We=Ut,Ut=0),J.translateBy(ne,-(We/ue)*d.value,-(Ut/ue)*d.value);const Qe=he(ne.property("__zoom"));_&&clearTimeout(_),se.value?(p.move({event:C,flowTransform:Qe}),p.viewportChange(Qe),_=setTimeout(()=>{p.moveEnd({event:C,flowTransform:Qe}),p.viewportChangeEnd(Qe),se.value=!1},150)):(se.value=!0,p.moveStart({event:C,flowTransform:Qe}),p.viewportChangeStart(Qe))},{passive:!1}):typeof $!="undefined"&&ne.on("wheel.zoom",function(C,ee){const te=!m.value&&C.type==="wheel"&&!C.ctrlKey,ge=F.value||x.value,ue=v.value&&C.ctrlKey;if(!ge&&!l.value&&!ue&&C.type==="wheel"||te||me(C,b.value))return null;C.preventDefault(),$.call(this,C,ee)},{passive:!1})},{immediate:!0})});function V(le,ce){return ce===2&&Array.isArray(le)&&le.includes(2)}function Q(le){const ce=le.ctrlKey&&Wn()?10:1;return-le.deltaY*(le.deltaMode===1?.05:le.deltaMode?1:.002)*ce}function pe(le,ce){return le.x!==ce.x&&!Number.isNaN(ce.x)||le.y!==ce.y&&!Number.isNaN(ce.y)||le.zoom!==ce.k&&!Number.isNaN(ce.k)}function he(le){return{x:le.x,y:le.y,zoom:le.k}}function me(le,ce){return le.target.closest(`.${ce}`)}return(le,ce)=>(j(),ve("div",{ref_key:"viewportRef",ref:A,class:"vue-flow__viewport vue-flow__container"},[k($h,{"is-selecting":q.value,"selection-key-pressed":P(B),class:Be({connecting:!!P(I),dragging:P(H),draggable:P(h)===!0||Array.isArray(P(h))&&P(h).includes(0)})},{default:L(()=>[k(Mh,null,{default:L(()=>[$t(le.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),Ph=["id"],kh=["id"],Ah=["id"],Oh={name:"A11yDescriptions",compatConfig:{MODE:3}},Dh=Se({...Oh,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:o}=$e();return(r,i)=>(j(),ve(Ae,null,[re("div",{id:`${P(Ea)}-${P(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+we(P(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,Ph),re("div",{id:`${P(Sa)}-${P(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,kh),P(n)?be("",!0):(j(),ve("div",{key:0,id:`${P(af)}-${P(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},we(P(o)),9,Ah))],64))}});function zh(){const e=$e();xe(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}function Bh(e,t,n){return n===Z.Left?e-t:n===Z.Right?e+t:e}function Hh(e,t,n){return n===Z.Top?e-t:n===Z.Bottom?e+t:e}const hr=function({radius:e=10,centerX:t=0,centerY:n=0,position:o=Z.Top,type:r}){return Ee("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${r}`,cx:Bh(t,e,o),cy:Hh(n,e,o),r:e,stroke:"transparent",fill:"transparent"})};hr.props=["radius","centerX","centerY","position","type"];hr.compatConfig={MODE:3};const fi=hr,Rh=Se({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:o,edgeUpdaterRadius:r,emits:i,nodesSelectionActive:a,noPanClassName:s,getEdgeTypes:l,removeSelectedEdges:u,findEdge:d,findNode:h,isValidConnection:g,multiSelectionActive:v,disableKeyboardA11y:x,elementsSelectable:m,edgesUpdatable:b,edgesFocusable:E}=$e(),p=ie(()=>d(e.id)),I=Pf(p.value,i),N=Xt(lo),H=pn(),Y=fe(!1),R=fe(!1),K=fe(""),U=fe(null),A=fe("source"),w=fe(null),oe=Ce(()=>typeof p.value.selectable=="undefined"?m.value:p.value.selectable),se=Ce(()=>typeof p.value.updatable=="undefined"?b.value:p.value.updatable),_=Ce(()=>typeof p.value.focusable=="undefined"?E.value:p.value.focusable);Ft(Mf,e.id),Ft(If,w);const T=ie(()=>p.value.class instanceof Function?p.value.class(p.value):p.value.class),S=ie(()=>p.value.style instanceof Function?p.value.style(p.value):p.value.style),O=ie(()=>{var y;const $=p.value.type||"default",c=N==null?void 0:N[`edge-${$}`];if(c)return c;let f=(y=p.value.template)!=null?y:l.value[$];if(typeof f=="string"&&H){const M=Object.keys(H.appContext.components);M&&M.includes($)&&(f=Bi($,!1))}return f&&typeof f!="string"?f:(i.error(new Te(Ie.EDGE_TYPE_MISSING,f)),!1)}),{handlePointerDown:z}=Ga({nodeId:K,handleId:U,type:A,isValidConnection:g,edgeUpdaterType:A,onEdgeUpdate:G,onEdgeUpdateEnd:ae});return()=>{const $=h(p.value.source),c=h(p.value.target),f="pathOptions"in p.value?p.value.pathOptions:{};if(!$&&!c)return i.error(new Te(Ie.EDGE_SOURCE_TARGET_MISSING,p.value.id,p.value.source,p.value.target)),null;if(!$)return i.error(new Te(Ie.EDGE_SOURCE_MISSING,p.value.id,p.value.source)),null;if(!c)return i.error(new Te(Ie.EDGE_TARGET_MISSING,p.value.id,p.value.target)),null;if(!p.value||p.value.hidden||$.hidden||c.hidden)return null;let y;o.value===Mt.Strict?y=$.handleBounds.source:y=[...$.handleBounds.source||[],...$.handleBounds.target||[]];const M=Jr(y,p.value.sourceHandle);let D;o.value===Mt.Strict?D=c.handleBounds.target:D=[...c.handleBounds.target||[],...c.handleBounds.source||[]];const W=Jr(D,p.value.targetHandle),C=(M==null?void 0:M.position)||Z.Bottom,ee=(W==null?void 0:W.position)||Z.Top,{x:te,y:ge}=Kn($,M,C),{x:ue,y:de}=Kn(c,W,ee);return p.value.sourceX=te,p.value.sourceY=ge,p.value.targetX=ue,p.value.targetY=de,Ee("g",{ref:w,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${O.value===!1?"default":p.value.type||"default"}`,s.value,T.value,{updating:Y.value,selected:p.value.selected,animated:p.value.animated,inactive:!oe.value}],onClick:V,onContextmenu:Q,onDblclick:pe,onMouseenter:he,onMousemove:me,onMouseleave:le,onKeyDown:_.value?ne:void 0,tabIndex:_.value?0:void 0,"aria-label":p.value.ariaLabel===null?void 0:p.value.ariaLabel||`Edge from ${p.value.source} to ${p.value.target}`,"aria-describedby":_.value?`${Sa}-${t}`:void 0,role:_.value?"button":"img"},[R.value?null:Ee(O.value===!1?l.value.default:O.value,{id:e.id,sourceNode:$,targetNode:c,source:p.value.source,target:p.value.target,type:p.value.type,updatable:se.value,selected:p.value.selected,animated:p.value.animated,label:p.value.label,labelStyle:p.value.labelStyle,labelShowBg:p.value.labelShowBg,labelBgStyle:p.value.labelBgStyle,labelBgPadding:p.value.labelBgPadding,labelBgBorderRadius:p.value.labelBgBorderRadius,data:p.value.data,events:{...p.value.events,...I.on},style:S.value,markerStart:`url('#${fn(p.value.markerStart,t)}')`,markerEnd:`url('#${fn(p.value.markerEnd,t)}')`,sourcePosition:C,targetPosition:ee,sourceX:te,sourceY:ge,targetX:ue,targetY:de,sourceHandleId:p.value.sourceHandle,targetHandleId:p.value.targetHandle,interactionWidth:p.value.interactionWidth,...f}),[se.value==="source"||se.value===!0?[Ee("g",{onMousedown:ce,onMouseenter:B,onMouseout:F},Ee(fi,{position:C,centerX:te,centerY:ge,radius:r.value,type:"source","data-type":"source"}))]:null,se.value==="target"||se.value===!0?[Ee("g",{onMousedown:J,onMouseenter:B,onMouseout:F},Ee(fi,{position:ee,centerX:ue,centerY:de,radius:r.value,type:"target","data-type":"target"}))]:null]])};function B(){Y.value=!0}function F(){Y.value=!1}function G($,c){I.emit.update({event:$,edge:p.value,connection:c})}function ae($){I.emit.updateEnd({event:$,edge:p.value}),R.value=!1}function q($,c){var f;$.button===0&&(R.value=!0,K.value=c?p.value.target:p.value.source,U.value=(f=c?p.value.targetHandle:p.value.sourceHandle)!=null?f:"",A.value=c?"target":"source",I.emit.updateStart({event:$,edge:p.value}),z($))}function V($){var c;const f={event:$,edge:p.value};oe.value&&(a.value=!1,p.value.selected&&v.value?(u([p.value]),(c=w.value)==null||c.blur()):n([p.value])),I.emit.click(f)}function Q($){I.emit.contextMenu({event:$,edge:p.value})}function pe($){I.emit.doubleClick({event:$,edge:p.value})}function he($){I.emit.mouseEnter({event:$,edge:p.value})}function me($){I.emit.mouseMove({event:$,edge:p.value})}function le($){I.emit.mouseLeave({event:$,edge:p.value})}function ce($){q($,!0)}function J($){q($,!1)}function ne($){var c;!x.value&&Na.includes($.key)&&oe.value&&($.key==="Escape"?((c=w.value)==null||c.blur(),u([d(e.id)])):n([d(e.id)]))}}}),Vh=Rh,Lh={[Z.Left]:Z.Right,[Z.Right]:Z.Left,[Z.Top]:Z.Bottom,[Z.Bottom]:Z.Top},Fh=Se({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:o,connectionEndHandle:r,connectionPosition:i,connectionLineType:a,connectionLineStyle:s,connectionLineOptions:l,connectionStatus:u,viewport:d,findNode:h}=$e(),g=(e=Xt(lo))==null?void 0:e["connection-line"],v=ie(()=>{var p;return h((p=o.value)==null?void 0:p.nodeId)}),x=ie(()=>{var I;var p;return(I=h((p=r.value)==null?void 0:p.nodeId))!=null?I:null}),m=ie(()=>({x:(i.value.x-d.value.x)/d.value.zoom,y:(i.value.y-d.value.y)/d.value.zoom})),b=ie(()=>l.value.markerStart?`url(#${fn(l.value.markerStart,t)})`:""),E=ie(()=>l.value.markerEnd?`url(#${fn(l.value.markerEnd,t)})`:"");return()=>{var B,F,G,ae;var p,I,N,H;if(!v.value||!o.value)return null;const Y=o.value.handleId,R=o.value.type,K=v.value.handleBounds;let U=K==null?void 0:K[R];if(n.value===Mt.Loose&&(U=U||(K==null?void 0:K[R==="source"?"target":"source"])),!U)return null;const A=(B=Y?U.find(q=>q.id===Y):U[0])!=null?B:null,w=(A==null?void 0:A.position)||Z.Top,{x:oe,y:se}=Kn(v.value,A,w);let _=null;x.value&&((p=r.value)==null?void 0:p.handleId)&&(n.value===Mt.Strict?_=((I=x.value.handleBounds[R==="source"?"target":"source"])==null?void 0:I.find(q=>{var V;return q.id===((V=r.value)==null?void 0:V.handleId)}))||null:_=((N=[...x.value.handleBounds.source||[],...x.value.handleBounds.target||[]])==null?void 0:N.find(q=>{var V;return q.id===((V=r.value)==null?void 0:V.handleId)}))||null);const T=(F=(H=r.value)==null?void 0:H.position)!=null?F:w?Lh[w]:null;if(!w||!T)return null;const S=(ae=(G=a.value)!=null?G:l.value.type)!=null?ae:wt.Bezier;let O="";const z={sourceX:oe,sourceY:se,sourcePosition:w,targetX:m.value.x,targetY:m.value.y,targetPosition:T};return S===wt.Bezier?[O]=Za(z):S===wt.Step?[O]=Xo({...z,borderRadius:0}):S===wt.SmoothStep?[O]=Xo(z):S===wt.SimpleBezier?[O]=Ka(z):O=`M${oe},${se} ${m.value.x},${m.value.y}`,Ee("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},Ee("g",{class:"vue-flow__connection"},g?Ee(g,{sourceX:oe,sourceY:se,sourcePosition:w,targetX:m.value.x,targetY:m.value.y,targetPosition:T,sourceNode:v.value,sourceHandle:A,targetNode:x.value,targetHandle:_,markerEnd:E.value,markerStart:b.value,connectionStatus:u.value}):Ee("path",{d:O,class:[l.value.class,u,"vue-flow__connection-path"],style:{...s.value,...l.value.style},"marker-end":E.value,"marker-start":b.value})))}}}),Gh=Fh,Yh=["id","markerWidth","markerHeight","markerUnits","orient"],qh={name:"MarkerType",compatConfig:{MODE:3}},Xh=Se({...qh,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(j(),ve("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${t.width}`,markerHeight:`${t.height}`,markerUnits:t.markerUnits,orient:t.orient},[t.type===P(Lo).ArrowClosed?(j(),ve("polyline",{key:0,style:ke({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):be("",!0),t.type===P(Lo).Arrow?(j(),ve("polyline",{key:1,style:ke({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):be("",!0)],8,Yh))}}),Uh={class:"vue-flow__marker vue-flow__container"},jh={name:"MarkerDefinitions",compatConfig:{MODE:3}},Zh=Se({...jh,setup(e){const{id:t,edges:n,connectionLineOptions:o,defaultMarkerColor:r}=$e(),i=ie(()=>{const a=new Set,s=[],l=u=>{if(u){const d=fn(u,t);a.has(d)||(typeof u=="object"?s.push({...u,id:d,color:u.color||r.value}):s.push({id:d,color:r.value,type:u}),a.add(d))}};for(const u of[o.value.markerEnd,o.value.markerStart])l(u);for(const u of n.value)for(const d of[u.markerStart,u.markerEnd])l(d);return s.sort((u,d)=>u.id.localeCompare(d.id))});return(a,s)=>(j(),ve("svg",Uh,[re("defs",null,[(j(!0),ve(Ae,null,nt(i.value,l=>(j(),_e(Xh,{id:l.id,key:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,"stroke-width":l.strokeWidth,orient:l.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),Kh={name:"Edges",compatConfig:{MODE:3}},Wh=Se({...Kh,setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:o}=$e();return(r,i)=>(j(),ve(Ae,null,[k(Zh),(j(!0),ve(Ae,null,nt(P(n),a=>(j(),ve("svg",{key:a.id,class:"vue-flow__edges vue-flow__container",style:ke({zIndex:P(wf)(a,P(t),P(o))})},[k(P(Vh),{id:a.id},null,8,["id"])],4))),128)),k(P(Gh))],64))}}),Qh=Se({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:o,nodesSelectionActive:r,multiSelectionActive:i,emits:a,removeSelectedNodes:s,addSelectedNodes:l,updateNodeDimensions:u,onUpdateNodeInternals:d,getNodeTypes:h,nodeExtent:g,elevateNodesOnSelect:v,disableKeyboardA11y:x,ariaLiveMessage:m,snapToGrid:b,snapGrid:E,nodeDragThreshold:p,nodesDraggable:I,elementsSelectable:N,nodesConnectable:H,nodesFocusable:Y}=$e(),R=fe(null);Ft(La,R),Ft(Va,e.id);const K=Xt(lo),U=pn(),A=qa(),{node:w,parentNode:oe}=Ya(e.id),se=Ce(()=>typeof w.draggable=="undefined"?I.value:w.draggable),_=Ce(()=>typeof w.selectable=="undefined"?N.value:w.selectable),T=Ce(()=>typeof w.connectable=="undefined"?H.value:w.connectable),S=Ce(()=>typeof w.focusable=="undefined"?Y.value:w.focusable),O=Ce(()=>!!w.dimensions.width&&!!w.dimensions.height),z=ie(()=>{const c=w.type||"default",f=K==null?void 0:K[`node-${c}`];if(f)return f;let y=w.template||h.value[c];if(typeof y=="string"&&U){const M=Object.keys(U.appContext.components);M&&M.includes(c)&&(y=Bi(c,!1))}return y&&typeof y!="string"?y:(a.error(new Te(Ie.NODE_TYPE_MISSING,y)),!1)}),{emit:B,on:F}=Df(w,a),G=Fa({id:e.id,el:R,disabled:()=>!se.value,selectable:_,dragHandle:()=>w.dragHandle,onStart(c){B.dragStart(c)},onDrag(c){B.drag(c)},onStop(c){B.dragStop(c)},onClick(c){ne(c)}}),ae=ie(()=>w.class instanceof Function?w.class(w):w.class),q=ie(()=>{const c=(w.style instanceof Function?w.style(w):w.style)||{},f=w.width instanceof Function?w.width(w):w.width,y=w.height instanceof Function?w.height(w):w.height;return!c.width&&f&&(c.width=typeof f=="string"?f:`${f}px`),!c.height&&y&&(c.height=typeof y=="string"?y:`${y}px`),c}),V=Ce(()=>{var c,f;return Number((f=(c=w.zIndex)!=null?c:q.value.zIndex)!=null?f:0)});return d(c=>{(c.includes(e.id)||!c.length)&&pe()}),Ze(()=>{xe(()=>w.hidden,(c=!1,f,y)=>{!c&&R.value&&(e.resizeObserver.observe(R.value),y(()=>{R.value&&e.resizeObserver.unobserve(R.value)}))},{immediate:!0,flush:"post"})}),xe([()=>w.type,()=>w.sourcePosition,()=>w.targetPosition],()=>{Ue(()=>{u([{id:e.id,nodeElement:R.value,forceUpdate:!0}])})}),xe([()=>w.position.x,()=>w.position.y,()=>{var c;return(c=oe.value)==null?void 0:c.computedPosition.x},()=>{var c;return(c=oe.value)==null?void 0:c.computedPosition.y},()=>{var c;return(c=oe.value)==null?void 0:c.computedPosition.z},V,()=>w.selected,()=>w.dimensions.height,()=>w.dimensions.width,()=>{var c;return(c=oe.value)==null?void 0:c.dimensions.height},()=>{var c;return(c=oe.value)==null?void 0:c.dimensions.width}],([c,f,y,M,D,W])=>{const C={x:c,y:f,z:W+(v.value&&w.selected?1e3:0)};typeof y!="undefined"&&typeof M!="undefined"?w.computedPosition=gf({x:y,y:M,z:D},C):w.computedPosition=C},{flush:"post",immediate:!0}),xe([()=>w.extent,g],([c,f],[y,M])=>{(c!==y||f!==M)&&Q()}),w.extent==="parent"||typeof w.extent=="object"&&"range"in w.extent&&w.extent.range==="parent"?ko(()=>O).toBe(!0).then(Q):Q(),()=>{var c,f;return w.hidden?null:Ee("div",{ref:R,"data-id":w.id,class:["vue-flow__node",`vue-flow__node-${z.value===!1?"default":w.type||"default"}`,{[n.value]:se.value,dragging:G==null?void 0:G.value,draggable:se.value,selected:w.selected,selectable:_.value,parent:w.isParent},ae.value],style:{visibility:O.value?"visible":"hidden",zIndex:(c=w.computedPosition.z)!=null?c:V.value,transform:`translate(${w.computedPosition.x}px,${w.computedPosition.y}px)`,pointerEvents:_.value||se.value?"all":"none",...q.value},tabIndex:S.value?0:void 0,role:S.value?"button":void 0,"aria-describedby":x.value?void 0:`${Ea}-${t}`,"aria-label":w.ariaLabel,onMouseenter:he,onMousemove:me,onMouseleave:le,onContextmenu:ce,onClick:ne,onDblclick:J,onKeydown:$},[Ee(z.value===!1?h.value.default:z.value,{id:w.id,type:w.type,data:w.data,events:{...w.events,...F},selected:w.selected,resizing:w.resizing,dragging:G.value,connectable:T.value,position:w.computedPosition,dimensions:w.dimensions,isValidTargetPos:w.isValidTargetPos,isValidSourcePos:w.isValidSourcePos,parent:w.parentNode,parentNodeId:w.parentNode,zIndex:(f=w.computedPosition.z)!=null?f:V.value,targetPosition:w.targetPosition,sourcePosition:w.sourcePosition,label:w.label,dragHandle:w.dragHandle,onUpdateNodeInternals:pe})])};function Q(){const c=w.computedPosition;b.value&&(c.x=E.value[0]*Math.round(c.x/E.value[0]),c.y=E.value[1]*Math.round(c.y/E.value[1]));const{computedPosition:f,position:y}=cr(w,c,a.error,g.value,oe.value);(w.computedPosition.x!==f.x||w.computedPosition.y!==f.y)&&(w.computedPosition={...w.computedPosition,...f}),(w.position.x!==y.x||w.position.y!==y.y)&&(w.position=y)}function pe(){R.value&&u([{id:e.id,nodeElement:R.value,forceUpdate:!0}])}function he(c){G!=null&&G.value||B.mouseEnter({event:c,node:w})}function me(c){G!=null&&G.value||B.mouseMove({event:c,node:w})}function le(c){G!=null&&G.value||B.mouseLeave({event:c,node:w})}function ce(c){return B.contextMenu({event:c,node:w})}function J(c){return B.doubleClick({event:c,node:w})}function ne(c){_.value&&(!o.value||!se.value||p.value>0)&&qo(w,i.value,l,s,r,!1,R.value),B.click({event:c,node:w})}function $(c){if(!(Fo(c)||x.value))if(Na.includes(c.key)&&_.value){const f=c.key==="Escape";qo(w,i.value,l,s,r,f,R.value)}else se.value&&w.selected&&Vt[c.key]&&(m.value=`Moved selected node ${c.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~w.position.x}, y: ${~~w.position.y}`,A({x:Vt[c.key].x,y:Vt[c.key].y},c.shiftKey))}}}),Jh=Qh;function eg(e={includeHiddenNodes:!1}){const{nodes:t}=$e();return ie(()=>{if(t.value.length===0)return!1;for(const n of t.value)if((e.includeHiddenNodes||!n.hidden)&&((n==null?void 0:n.handleBounds)===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}const tg={class:"vue-flow__nodes vue-flow__container"},ng={name:"Nodes",compatConfig:{MODE:3}},og=Se({...ng,setup(e){const{getNodes:t,updateNodeDimensions:n,emits:o}=$e(),r=eg(),i=fe();return xe(r,a=>{a&&Ue(()=>{o.nodesInitialized(t.value)})},{immediate:!0}),Ze(()=>{i.value=new ResizeObserver(a=>{const s=a.map(l=>({id:l.target.getAttribute("data-id"),nodeElement:l.target,forceUpdate:!0}));Ue(()=>n(s))})}),Li(()=>{var a;return(a=i.value)==null?void 0:a.disconnect()}),(a,s)=>(j(),ve("div",tg,[i.value?(j(!0),ve(Ae,{key:0},nt(P(t),(l,u,d,h)=>{const g=[l.id];if(h&&h.key===l.id&&hs(h,g))return h;const v=(j(),_e(P(Jh),{id:l.id,key:l.id,"resize-observer":i.value},null,8,["id","resize-observer"]));return v.memo=g,v},s,0),128)):be("",!0)]))}});function rg(){const{emits:e}=$e();Ze(()=>{if(Ra()){const t=document.querySelector(".vue-flow__pane");t&&window.getComputedStyle(t).zIndex!=="1"&&e.error(new Te(Ie.MISSING_STYLES))}})}const ig=re("div",{class:"vue-flow__edge-labels"},null,-1),ag={name:"VueFlow",compatConfig:{MODE:3}},sg=Se({...ag,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const o=e,r=cs(),i=mo(o,"modelValue",n),a=mo(o,"nodes",n),s=mo(o,"edges",n),l=$e(o),u=Hf({modelValue:i,nodes:a,edges:s},o,l);return Vf(n,l.hooks),zh(),rg(),Ft(lo,r),Hi(()=>{u()}),t(l),(d,h)=>(j(),ve("div",{ref:P(l).vueFlowRef,class:"vue-flow"},[k(Th,null,{default:L(()=>[k(Wh),ig,k(og),$t(d.$slots,"zoom-pane")]),_:3}),$t(d.$slots,"default"),k(Dh)],512))}});function Vn(e,t){for(var n=-1,o=e==null?0:e.length,r=Array(o);++n<o;)r[n]=t(e[n],n,e);return r}var lg=Array.isArray,Le=lg,ug=1/0,hi=Ln?Ln.prototype:void 0,gi=hi?hi.toString:void 0;function Qa(e){if(typeof e=="string")return e;if(Le(e))return Vn(e,Qa)+"";if(rn(e))return gi?gi.call(e):"";var t=e+"";return t=="0"&&1/e==-ug?"-0":t}function Ja(e){return e}var cg=vt["__core-js_shared__"],Co=cg,pi=function(){var e=/[^.]+$/.exec(Co&&Co.keys&&Co.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function dg(e){return!!pi&&pi in e}var fg=Function.prototype,hg=fg.toString;function Pt(e){if(e!=null){try{return hg.call(e)}catch{}try{return e+""}catch{}}return""}var gg=/[\\^$.*+?()[\]{}|]/g,pg=/^\[object .+?Constructor\]$/,vg=Function.prototype,mg=Object.prototype,yg=vg.toString,_g=mg.hasOwnProperty,wg=RegExp("^"+yg.call(_g).replace(gg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bg(e){if(!Fn(e)||dg(e))return!1;var t=Us(e)?wg:pg;return t.test(Pt(e))}function xg(e,t){return e==null?void 0:e[t]}function kt(e,t){var n=xg(e,t);return bg(n)?n:void 0}var Eg=kt(vt,"WeakMap"),Uo=Eg,Sg=function(){try{var e=kt(Object,"defineProperty");return e({},"",{}),e}catch{}}(),vi=Sg;function Ng(e,t,n){t=="__proto__"&&vi?vi(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var $g=Object.prototype,Cg=$g.hasOwnProperty;function Mg(e,t,n){var o=e[t];(!(Cg.call(e,t)&&er(o,n))||n===void 0&&!(t in e))&&Ng(e,t,n)}var Ig=Object.prototype;function Tg(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Ig;return e===n}function Pg(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}var kg="[object Arguments]";function mi(e){return an(e)&&eo(e)==kg}var es=Object.prototype,Ag=es.hasOwnProperty,Og=es.propertyIsEnumerable,Dg=mi(function(){return arguments}())?mi:function(e){return an(e)&&Ag.call(e,"callee")&&!Og.call(e,"callee")},ts=Dg;function zg(){return!1}var ns=typeof exports=="object"&&exports&&!exports.nodeType&&exports,yi=ns&&typeof module=="object"&&module&&!module.nodeType&&module,Bg=yi&&yi.exports===ns,_i=Bg?vt.Buffer:void 0,Hg=_i?_i.isBuffer:void 0,Rg=Hg||zg,jo=Rg,Vg="[object Arguments]",Lg="[object Array]",Fg="[object Boolean]",Gg="[object Date]",Yg="[object Error]",qg="[object Function]",Xg="[object Map]",Ug="[object Number]",jg="[object Object]",Zg="[object RegExp]",Kg="[object Set]",Wg="[object String]",Qg="[object WeakMap]",Jg="[object ArrayBuffer]",ep="[object DataView]",tp="[object Float32Array]",np="[object Float64Array]",op="[object Int8Array]",rp="[object Int16Array]",ip="[object Int32Array]",ap="[object Uint8Array]",sp="[object Uint8ClampedArray]",lp="[object Uint16Array]",up="[object Uint32Array]",Ne={};Ne[tp]=Ne[np]=Ne[op]=Ne[rp]=Ne[ip]=Ne[ap]=Ne[sp]=Ne[lp]=Ne[up]=!0;Ne[Vg]=Ne[Lg]=Ne[Jg]=Ne[Fg]=Ne[ep]=Ne[Gg]=Ne[Yg]=Ne[qg]=Ne[Xg]=Ne[Ug]=Ne[jg]=Ne[Zg]=Ne[Kg]=Ne[Wg]=Ne[Qg]=!1;function cp(e){return an(e)&&Xi(e.length)&&!!Ne[eo(e)]}function os(e){return function(t){return e(t)}}var rs=typeof exports=="object"&&exports&&!exports.nodeType&&exports,on=rs&&typeof module=="object"&&module&&!module.nodeType&&module,dp=on&&on.exports===rs,Mo=dp&&js.process,fp=function(){try{var e=on&&on.require&&on.require("util").types;return e||Mo&&Mo.binding&&Mo.binding("util")}catch{}}(),wi=fp,bi=wi&&wi.isTypedArray,hp=bi?os(bi):cp,is=hp,gp=Object.prototype,pp=gp.hasOwnProperty;function vp(e,t){var n=Le(e),o=!n&&ts(e),r=!n&&!o&&jo(e),i=!n&&!o&&!r&&is(e),a=n||o||r||i,s=a?Pg(e.length,String):[],l=s.length;for(var u in e)(t||pp.call(e,u))&&!(a&&(u=="length"||r&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||tr(u,l)))&&s.push(u);return s}function mp(e,t){return function(n){return e(t(n))}}var yp=mp(Object.keys,Object),_p=yp,wp=Object.prototype,bp=wp.hasOwnProperty;function xp(e){if(!Tg(e))return _p(e);var t=[];for(var n in Object(e))bp.call(e,n)&&n!="constructor"&&t.push(n);return t}function gr(e){return nr(e)?vp(e):xp(e)}var Ep=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Sp=/^\w*$/;function pr(e,t){if(Le(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||rn(e)?!0:Sp.test(e)||!Ep.test(e)||t!=null&&e in Object(t)}var Np=kt(Object,"create"),hn=Np;function $p(){this.__data__=hn?hn(null):{},this.size=0}function Cp(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Mp="__lodash_hash_undefined__",Ip=Object.prototype,Tp=Ip.hasOwnProperty;function Pp(e){var t=this.__data__;if(hn){var n=t[e];return n===Mp?void 0:n}return Tp.call(t,e)?t[e]:void 0}var kp=Object.prototype,Ap=kp.hasOwnProperty;function Op(e){var t=this.__data__;return hn?t[e]!==void 0:Ap.call(t,e)}var Dp="__lodash_hash_undefined__";function zp(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=hn&&t===void 0?Dp:t,this}function Tt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}Tt.prototype.clear=$p;Tt.prototype.delete=Cp;Tt.prototype.get=Pp;Tt.prototype.has=Op;Tt.prototype.set=zp;function Bp(){this.__data__=[],this.size=0}function go(e,t){for(var n=e.length;n--;)if(er(e[n][0],t))return n;return-1}var Hp=Array.prototype,Rp=Hp.splice;function Vp(e){var t=this.__data__,n=go(t,e);if(n<0)return!1;var o=t.length-1;return n==o?t.pop():Rp.call(t,n,1),--this.size,!0}function Lp(e){var t=this.__data__,n=go(t,e);return n<0?void 0:t[n][1]}function Fp(e){return go(this.__data__,e)>-1}function Gp(e,t){var n=this.__data__,o=go(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}function it(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}it.prototype.clear=Bp;it.prototype.delete=Vp;it.prototype.get=Lp;it.prototype.has=Fp;it.prototype.set=Gp;var Yp=kt(vt,"Map"),gn=Yp;function qp(){this.size=0,this.__data__={hash:new Tt,map:new(gn||it),string:new Tt}}function Xp(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function po(e,t){var n=e.__data__;return Xp(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Up(e){var t=po(this,e).delete(e);return this.size-=t?1:0,t}function jp(e){return po(this,e).get(e)}function Zp(e){return po(this,e).has(e)}function Kp(e,t){var n=po(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}function at(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}at.prototype.clear=qp;at.prototype.delete=Up;at.prototype.get=jp;at.prototype.has=Zp;at.prototype.set=Kp;var Wp="Expected a function";function vr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Wp);var n=function(){var o=arguments,r=t?t.apply(this,o):o[0],i=n.cache;if(i.has(r))return i.get(r);var a=e.apply(this,o);return n.cache=i.set(r,a)||i,a};return n.cache=new(vr.Cache||at),n}vr.Cache=at;var Qp=500;function Jp(e){var t=vr(e,function(o){return n.size===Qp&&n.clear(),o}),n=t.cache;return t}var ev=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tv=/\\(\\)?/g,nv=Jp(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ev,function(n,o,r,i){t.push(r?i.replace(tv,"$1"):o||n)}),t}),ov=nv;function rv(e){return e==null?"":Qa(e)}function mr(e,t){return Le(e)?e:pr(e,t)?[e]:ov(rv(e))}var iv=1/0;function yn(e){if(typeof e=="string"||rn(e))return e;var t=e+"";return t=="0"&&1/e==-iv?"-0":t}function yr(e,t){t=mr(t,e);for(var n=0,o=t.length;e!=null&&n<o;)e=e[yn(t[n++])];return n&&n==o?e:void 0}function av(e,t,n){var o=e==null?void 0:yr(e,t);return o===void 0?n:o}function sv(e,t){for(var n=-1,o=t.length,r=e.length;++n<o;)e[r+n]=t[n];return e}function lv(){this.__data__=new it,this.size=0}function uv(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function cv(e){return this.__data__.get(e)}function dv(e){return this.__data__.has(e)}var fv=200;function hv(e,t){var n=this.__data__;if(n instanceof it){var o=n.__data__;if(!gn||o.length<fv-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new at(o)}return n.set(e,t),this.size=n.size,this}function ot(e){var t=this.__data__=new it(e);this.size=t.size}ot.prototype.clear=lv;ot.prototype.delete=uv;ot.prototype.get=cv;ot.prototype.has=dv;ot.prototype.set=hv;function gv(e,t){for(var n=-1,o=e==null?0:e.length,r=0,i=[];++n<o;){var a=e[n];t(a,n,e)&&(i[r++]=a)}return i}function pv(){return[]}var vv=Object.prototype,mv=vv.propertyIsEnumerable,xi=Object.getOwnPropertySymbols,yv=xi?function(e){return e==null?[]:(e=Object(e),gv(xi(e),function(t){return mv.call(e,t)}))}:pv,_v=yv;function wv(e,t,n){var o=t(e);return Le(e)?o:sv(o,n(e))}function Ei(e){return wv(e,gr,_v)}var bv=kt(vt,"DataView"),Zo=bv,xv=kt(vt,"Promise"),Ko=xv,Ev=kt(vt,"Set"),Wo=Ev,Si="[object Map]",Sv="[object Object]",Ni="[object Promise]",$i="[object Set]",Ci="[object WeakMap]",Mi="[object DataView]",Nv=Pt(Zo),$v=Pt(gn),Cv=Pt(Ko),Mv=Pt(Wo),Iv=Pt(Uo),yt=eo;(Zo&&yt(new Zo(new ArrayBuffer(1)))!=Mi||gn&&yt(new gn)!=Si||Ko&&yt(Ko.resolve())!=Ni||Wo&&yt(new Wo)!=$i||Uo&&yt(new Uo)!=Ci)&&(yt=function(e){var t=eo(e),n=t==Sv?e.constructor:void 0,o=n?Pt(n):"";if(o)switch(o){case Nv:return Mi;case $v:return Si;case Cv:return Ni;case Mv:return $i;case Iv:return Ci}return t});var Ii=yt,Tv=vt.Uint8Array,Ti=Tv,Pv="__lodash_hash_undefined__";function kv(e){return this.__data__.set(e,Pv),this}function Av(e){return this.__data__.has(e)}function Qn(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new at;++t<n;)this.add(e[t])}Qn.prototype.add=Qn.prototype.push=kv;Qn.prototype.has=Av;function Ov(e,t){for(var n=-1,o=e==null?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}function Dv(e,t){return e.has(t)}var zv=1,Bv=2;function as(e,t,n,o,r,i){var a=n&zv,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var h=-1,g=!0,v=n&Bv?new Qn:void 0;for(i.set(e,t),i.set(t,e);++h<s;){var x=e[h],m=t[h];if(o)var b=a?o(m,x,h,t,e,i):o(x,m,h,e,t,i);if(b!==void 0){if(b)continue;g=!1;break}if(v){if(!Ov(t,function(E,p){if(!Dv(v,p)&&(x===E||r(x,E,n,o,i)))return v.push(p)})){g=!1;break}}else if(!(x===m||r(x,m,n,o,i))){g=!1;break}}return i.delete(e),i.delete(t),g}function Hv(e){var t=-1,n=Array(e.size);return e.forEach(function(o,r){n[++t]=[r,o]}),n}function Rv(e){var t=-1,n=Array(e.size);return e.forEach(function(o){n[++t]=o}),n}var Vv=1,Lv=2,Fv="[object Boolean]",Gv="[object Date]",Yv="[object Error]",qv="[object Map]",Xv="[object Number]",Uv="[object RegExp]",jv="[object Set]",Zv="[object String]",Kv="[object Symbol]",Wv="[object ArrayBuffer]",Qv="[object DataView]",Pi=Ln?Ln.prototype:void 0,Io=Pi?Pi.valueOf:void 0;function Jv(e,t,n,o,r,i,a){switch(n){case Qv:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Wv:return!(e.byteLength!=t.byteLength||!i(new Ti(e),new Ti(t)));case Fv:case Gv:case Xv:return er(+e,+t);case Yv:return e.name==t.name&&e.message==t.message;case Uv:case Zv:return e==t+"";case qv:var s=Hv;case jv:var l=o&Vv;if(s||(s=Rv),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;o|=Lv,a.set(e,t);var d=as(s(e),s(t),o,r,i,a);return a.delete(e),d;case Kv:if(Io)return Io.call(e)==Io.call(t)}return!1}var em=1,tm=Object.prototype,nm=tm.hasOwnProperty;function om(e,t,n,o,r,i){var a=n&em,s=Ei(e),l=s.length,u=Ei(t),d=u.length;if(l!=d&&!a)return!1;for(var h=l;h--;){var g=s[h];if(!(a?g in t:nm.call(t,g)))return!1}var v=i.get(e),x=i.get(t);if(v&&x)return v==t&&x==e;var m=!0;i.set(e,t),i.set(t,e);for(var b=a;++h<l;){g=s[h];var E=e[g],p=t[g];if(o)var I=a?o(p,E,g,t,e,i):o(E,p,g,e,t,i);if(!(I===void 0?E===p||r(E,p,n,o,i):I)){m=!1;break}b||(b=g=="constructor")}if(m&&!b){var N=e.constructor,H=t.constructor;N!=H&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof H=="function"&&H instanceof H)&&(m=!1)}return i.delete(e),i.delete(t),m}var rm=1,ki="[object Arguments]",Ai="[object Array]",kn="[object Object]",im=Object.prototype,Oi=im.hasOwnProperty;function am(e,t,n,o,r,i){var a=Le(e),s=Le(t),l=a?Ai:Ii(e),u=s?Ai:Ii(t);l=l==ki?kn:l,u=u==ki?kn:u;var d=l==kn,h=u==kn,g=l==u;if(g&&jo(e)){if(!jo(t))return!1;a=!0,d=!1}if(g&&!d)return i||(i=new ot),a||is(e)?as(e,t,n,o,r,i):Jv(e,t,l,n,o,r,i);if(!(n&rm)){var v=d&&Oi.call(e,"__wrapped__"),x=h&&Oi.call(t,"__wrapped__");if(v||x){var m=v?e.value():e,b=x?t.value():t;return i||(i=new ot),r(m,b,n,o,i)}}return g?(i||(i=new ot),om(e,t,n,o,r,i)):!1}function _r(e,t,n,o,r){return e===t?!0:e==null||t==null||!an(e)&&!an(t)?e!==e&&t!==t:am(e,t,n,o,_r,r)}var sm=1,lm=2;function um(e,t,n,o){var r=n.length,i=r,a=!o;if(e==null)return!i;for(e=Object(e);r--;){var s=n[r];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<i;){s=n[r];var l=s[0],u=e[l],d=s[1];if(a&&s[2]){if(u===void 0&&!(l in e))return!1}else{var h=new ot;if(o)var g=o(u,d,l,e,t,h);if(!(g===void 0?_r(d,u,sm|lm,o,h):g))return!1}}return!0}function ss(e){return e===e&&!Fn(e)}function cm(e){for(var t=gr(e),n=t.length;n--;){var o=t[n],r=e[o];t[n]=[o,r,ss(r)]}return t}function ls(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function dm(e){var t=cm(e);return t.length==1&&t[0][2]?ls(t[0][0],t[0][1]):function(n){return n===e||um(n,e,t)}}function fm(e,t){return e!=null&&t in Object(e)}function hm(e,t,n){t=mr(t,e);for(var o=-1,r=t.length,i=!1;++o<r;){var a=yn(t[o]);if(!(i=e!=null&&n(e,a)))break;e=e[a]}return i||++o!=r?i:(r=e==null?0:e.length,!!r&&Xi(r)&&tr(a,r)&&(Le(e)||ts(e)))}function gm(e,t){return e!=null&&hm(e,t,fm)}var pm=1,vm=2;function mm(e,t){return pr(e)&&ss(t)?ls(yn(e),t):function(n){var o=av(n,e);return o===void 0&&o===t?gm(n,e):_r(t,o,pm|vm)}}function ym(e){return function(t){return t==null?void 0:t[e]}}function _m(e){return function(t){return yr(t,e)}}function wm(e){return pr(e)?ym(yn(e)):_m(e)}function bm(e){return typeof e=="function"?e:e==null?Ja:typeof e=="object"?Le(e)?mm(e[0],e[1]):dm(e):wm(e)}function xm(e){return function(t,n,o){for(var r=-1,i=Object(t),a=o(t),s=a.length;s--;){var l=a[e?s:++r];if(n(i[l],l,i)===!1)break}return t}}var Em=xm(),Sm=Em;function Nm(e,t){return e&&Sm(e,t,gr)}function $m(e,t){return function(n,o){if(n==null)return n;if(!nr(n))return e(n,o);for(var r=n.length,i=t?r:-1,a=Object(n);(t?i--:++i<r)&&o(a[i],i,a)!==!1;);return n}}var Cm=$m(Nm),Mm=Cm;function Im(e,t){var n=-1,o=nr(e)?Array(e.length):[];return Mm(e,function(r,i,a){o[++n]=t(r,i,a)}),o}function Tm(e,t,n,o){if(!Fn(e))return e;t=mr(t,e);for(var r=-1,i=t.length,a=i-1,s=e;s!=null&&++r<i;){var l=yn(t[r]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(r!=a){var d=s[l];u=o?o(d,l,s):void 0,u===void 0&&(u=Fn(d)?d:tr(t[r+1])?[]:{})}Mg(s,l,u),s=s[l]}return e}function Pm(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function km(e,t){if(e!==t){var n=e!==void 0,o=e===null,r=e===e,i=rn(e),a=t!==void 0,s=t===null,l=t===t,u=rn(t);if(!s&&!u&&!i&&e>t||i&&a&&l&&!s&&!u||o&&a&&l||!n&&l||!r)return 1;if(!o&&!i&&!u&&e<t||u&&n&&r&&!o&&!i||s&&n&&r||!a&&r||!l)return-1}return 0}function Am(e,t,n){for(var o=-1,r=e.criteria,i=t.criteria,a=r.length,s=n.length;++o<a;){var l=km(r[o],i[o]);if(l){if(o>=s)return l;var u=n[o];return l*(u=="desc"?-1:1)}}return e.index-t.index}function Om(e,t,n){t.length?t=Vn(t,function(i){return Le(i)?function(a){return yr(a,i.length===1?i[0]:i)}:i}):t=[Ja];var o=-1;t=Vn(t,os(bm));var r=Im(e,function(i,a,s){var l=Vn(t,function(u){return u(i)});return{criteria:l,index:++o,value:i}});return Pm(r,function(i,a){return Am(i,a,n)})}function Dm(e,t,n,o){return e==null?[]:(Le(t)||(t=t==null?[]:[t]),n=o?void 0:n,Le(n)||(n=n==null?[]:[n]),Om(e,t,n))}function zm(e,t,n){return e==null?e:Tm(e,t,n)}const zt=["jina-embeddings-v2-base-en","jina-colbert-v2","jina-clip-v1","jina-reranker-v2-base-multilingual","jina-embeddings-v3","reader-lm-1.5b"],Bm=["jina-embedding-b-en-v1","reader-lm-1.5b","reader-lm-0.5b"],Di=[{id:"E1-2",source:"jina-embedding-b-en-v1",target:"jina-embeddings-v2-base-en",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E2-3",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-zh",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E2-4",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-de",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E2-5",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-code",sourceHandle:"source-right",targetHandle:"target-left",markerEnd:"arrow",type:"smoothstep",style:"stroke: #323838"},{id:"E2-6",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-es",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E2-7",source:"jina-embeddings-v2-base-en",target:"jina-colbert-v1-en",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E2-9",source:"jina-embeddings-v2-base-en",target:"jina-clip-v1",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E7-8",source:"jina-colbert-v1-en",target:"jina-colbert-v2",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E10-11",source:"jina-reranker-v1-base-en",target:"jina-reranker-v1-tiny-en",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E10-12",source:"jina-reranker-v1-base-en",target:"jina-reranker-v1-turbo-en",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E10-13",source:"jina-reranker-v1-base-en",target:"jina-reranker-v2-base-multilingual",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E2-14",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v3",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E15-16",source:"reader-lm-1.5b",target:"reader-lm-0.5b",sourceHandle:"source-top",targetHandle:"target-bottom",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"}],Hm=[{id:"E1-2",source:"jina-embedding-b-en-v1",target:"jina-embeddings-v2-base-en",sourceHandle:"source-left",targetHandle:"target-bottom",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E2-3",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-zh",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E2-4",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-de",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E2-5",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-code",sourceHandle:"source-right",targetHandle:"target-left",markerEnd:"arrow",type:"smoothstep",style:"stroke: #323838"},{id:"E2-6",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-es",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E2-7",source:"jina-embeddings-v2-base-en",target:"jina-colbert-v1-en",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E2-9",source:"jina-embeddings-v2-base-en",target:"jina-clip-v1",sourceHandle:"source-top",targetHandle:"target-bottom",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E7-8",source:"jina-colbert-v1-en",target:"jina-colbert-v2",sourceHandle:"source-left",targetHandle:"target-right",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E10-11",source:"jina-reranker-v1-base-en",target:"jina-reranker-v1-tiny-en",sourceHandle:"source-right",targetHandle:"target-right",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E10-12",source:"jina-reranker-v1-base-en",target:"jina-reranker-v1-turbo-en",sourceHandle:"source-right",targetHandle:"target-right",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E10-13",source:"jina-reranker-v1-base-en",target:"jina-reranker-v2-base-multilingual",sourceHandle:"source-left",targetHandle:"target-right",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E2-14",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v3",sourceHandle:"source-top",targetHandle:"target-bottom",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"},{id:"E15-16",source:"reader-lm-1.5b",target:"reader-lm-0.5b",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:"stroke: #323838"}];const Rm={class:"row justify-center full-width"},Vm={class:"models-graph-wrapper"},Lm=["id"],Fm={class:"label bg-grey-8 text-black"},lt=100,Wt=340,ut=36,An=50,Gm=Se({__name:"EmbeddingGraph",setup(e){const t=Qo(),n=Gs(),{allModels:o}=To(n),r=fe(!1),{t:i}=Jn({useScope:"global"}),{onNodesInitialized:a,onNodeMouseEnter:s,onNodeMouseLeave:l,onEdgeMouseEnter:u,onEdgeMouseLeave:d,onNodeClick:h,getNodes:g,getEdges:v}=$e(),x=Ys(),{answerChunks:m,isBusy:b,isStreaming:E,isComposing:p}=To(x),I=fe(),N=fe([]),H=fe(Di),Y=fe(null),R=fe(""),K=fe(""),U=fe([]),A=ie(()=>t.screen.lt.md),w=ie(()=>Dm(o.value,["release_date"],["asc"])),oe=ie(()=>{const $=Object.keys(I.value||{});return A.value?$.reverse():$}),se=ie(()=>R.value?g.value.filter($=>$.id.toLowerCase().includes(R.value.toLowerCase())):[]),_=ie(()=>R.value||Y.value),T=ie(()=>!U.value.some($=>$.type===Er.NEWS)),S=$=>{var c;return!_.value||se.value.some(f=>f.id===$)||((c=Y.value)==null?void 0:c.name)===$},O=()=>{if(Y.value=null,!R.value){B();return}z(se.value,"node"),se.value.length&&Ue(()=>{var f,y;const $=le((y=(f=se.value[se.value.length-1])==null?void 0:f.data)==null?void 0:y.release_date),c=document.getElementById(`${$}`);c&&c.scrollIntoView({behavior:"smooth",block:"start"})})},z=($,c)=>{c==="node"?(g.value.forEach(f=>{$.some(y=>y.id===f.id||y.id===f.id)?f.style={opacity:1,border:"1px solid #787d7d"}:f.style={opacity:.3}}),v.value.forEach(f=>{var M;const y=(M=document.querySelector(`.vue-flow__edge[data-id="${f.id}"]`))==null?void 0:M.parentElement;$.some(D=>D.id===f.source||D.id===f.target)?(f.style={stroke:"#929595"},y==null||y.setAttribute("style","z-index: 100"),f.sourceNode.style={opacity:1,border:"1px solid #787d7d"},f.targetNode.style={opacity:1,border:"1px solid #787d7d"}):y==null||y.setAttribute("style","z-index: 0")})):c==="edge"&&(v.value.forEach(f=>{var M;const y=(M=document.querySelector(`.vue-flow__edge[data-id="${f.id}"]`))==null?void 0:M.parentElement;$.some(D=>D.id===f.id||D.id===f.id)?(f.style={stroke:"#929595"},y==null||y.setAttribute("style","z-index: 100")):y==null||y.setAttribute("style","z-index: 0")}),g.value.forEach(f=>{$.some(y=>y.source===f.id||y.target===f.id)?f.style={opacity:1}:f.style={opacity:.3}}))},B=()=>{g.value.forEach($=>{$.style={opacity:1}}),v.value.forEach($=>{var f;const c=(f=document.querySelector(`.vue-flow__edge[data-id="${$.id}"]`))==null?void 0:f.parentElement;$.style={opacity:1,stroke:"#323838"},c==null||c.setAttribute("style","z-index: 0")})},F=async()=>{if(!K.value){U.value=[];return}U.value=await x.composeResult(K.value)},G=async()=>{!K.value||(await x.search(K.value,Er.NEWS),U.value=await x.composeResult(K.value))},ae=$=>{K.value=q($.name),U.value=[],m.value=[],F()},q=$=>$.split("-").slice(0,3).join(" "),V=()=>{Y.value=null,_.value||B()},Q=fe({}),pe=ie(()=>{const $=Object.keys(I.value||{});let c=0;if(A.value)return $.forEach(y=>{var C,ee,te,ge;const M=(ee=(C=I.value)==null?void 0:C[y])==null?void 0:ee.filter(ue=>zt.includes(ue.name)),D=(ge=(te=I.value)==null?void 0:te[y])==null?void 0:ge.filter(ue=>!zt.includes(ue.name)),W=Math.max((M==null?void 0:M.length)||0,(D==null?void 0:D.length)||0);zm(Q.value,y,`${W}fr`),W>1&&(c+=W-1)}),{height:`${$.length*(lt+ut*2)+c*(lt+ut)}px`,width:Wt*2+200+"px"};const f=Math.max(...$.map(y=>{var M,D;return((D=(M=I.value)==null?void 0:M[y])==null?void 0:D.length)||0}));return{width:`${$.length*(Wt+An)}px`,height:f*(lt+ut)+160+"px"}}),he=ie(()=>({"grid-template-columns":A.value?"1fr":`repeat(auto-fill, ${Wt+An}px)`,"grid-template-rows":A.value?Object.values(Q.value).reverse().join(" "):"unset"})),me=ie(()=>({minHeight:A.value?`${lt+ut*2}px`:"unset"})),le=$=>{const c=new Date($).getFullYear(),f=new Date($).getMonth()+1;return`${c}Q${Math.ceil(f/3)}`},ce=($,c)=>{var ge,ue;const f=le($.release_date),y=A.value?Object.keys(I.value||{}).reverse():Object.keys(I.value||{}),M=y.indexOf(f),D=[],W=[];(ue=(ge=I.value)==null?void 0:ge[f])==null||ue.forEach(de=>{zt.includes(de.name)?D.unshift(de):W.unshift(de)});let C=0;A.value?c?C=D.findIndex(de=>de.name===$.name):C=W.findIndex(de=>de.name===$.name):C=D.concat(W).findIndex(de=>de.name===$.name),C===-1&&(C=0);const ee=y.slice(0,M);let te=0;return ee.forEach(de=>{var Qe,_n,wn,bn;const Re=(_n=(Qe=I.value)==null?void 0:Qe[de])==null?void 0:_n.filter(vo=>zt.includes(vo.name)),We=(bn=(wn=I.value)==null?void 0:wn[de])==null?void 0:bn.filter(vo=>!zt.includes(vo.name));te+=Math.max((Re==null?void 0:Re.length)||0,(We==null?void 0:We.length)||0)-1}),A.value?{x:c?100:100+Wt+An,y:(lt+ut)*(C+te)+(lt+ut*2)*M+ut}:{x:25+M*(Wt+An),y:parseInt(pe.value.height)-(100+lt)-C*(lt+ut)}},J=async()=>{var $;r.value=!0,($=o.value)!=null&&$.length||await n.getModels(),I.value={},w.value.forEach(c=>{var y;const f=le(c.release_date);(y=I.value)!=null&&y[f]?I.value[f].push(c):I.value={...I.value,[f]:[c]}}),N.value=w.value.map(c=>{const f=zt.includes(c.name);return{id:c.name,data:{...c,isFrontier:f},position:ce(c,f),type:"custom",class:`node ${f?"is-frontier":"is-variant"}`}}),r.value=!1},ne=async()=>{H.value=A.value?Hm:Di,await J()};return xe(A,()=>{ne()}),Ri(()=>{ne()}),a(()=>{const $=document.querySelector(".models-graph-wrapper");$&&!A.value&&($.scrollLeft=parseInt(pe.value.width))}),h($=>{R.value?se.value.some(c=>c.id===$.node.id)?Y.value=$.node.data:($.event.stopImmediatePropagation(),$.event.preventDefault()):(z([$.node],"node"),Y.value=$.node.data)}),s($=>{_.value||z([$.node],"node")}),l(()=>{_.value||B()}),u($=>{_.value||z([$.edge],"edge")}),d(()=>{_.value||B()}),($,c)=>(j(),ve(Ae,null,[re("div",Rm,[k(wr,{modelValue:R.value,"onUpdate:modelValue":[c[0]||(c[0]=f=>R.value=f),O],outlined:"",square:"",debounce:"300",label:P(i)("model_graph.search_models"),class:"q-my-xl search-box",style:ke({width:A.value?"80%":"40%"}),clearable:""},{prepend:L(()=>[k(_t,{name:"search",class:"cursor-pointer"})]),_:1},8,["modelValue","label","style"])]),re("div",{class:Be(["models-graph",{"is-vertical":A.value}])},[re("div",Vm,[re("div",{class:"models-graph-inner",style:ke(pe.value)},[re("div",{class:"timeline",style:ke(he.value)},[(j(!0),ve(Ae,null,nt(oe.value,f=>(j(),ve("div",{key:f,class:"section",style:ke(me.value),id:f},[re("span",Fm,we(f),1)],12,Lm))),128))],4),r.value?be("",!0):(j(),_e(P(sg),{key:0,nodes:N.value,edges:H.value,"zoom-on-scroll":!1,"zoom-on-double-click":!1,"zoom-on-pinch":!1,"nodes-draggable":!1,"pan-on-drag":!1,"fit-view-on-init":!1},{"node-custom":L(({data:f})=>[xn((j(),_e(ze,{class:"full-width full-height cursor-pointer",style:{"flex-direction":"column"}},{default:L(()=>[k(Fe,{caption:"",class:"justify-end row full-width"},{default:L(()=>[k(mt,{icon:"calendar_month",size:"xs",square:"",dense:"",class:"text-dim",color:"transparent",label:P(Ms).formatDate(f.release_date,"YYYY-MM-DD")},null,8,["label"])]),_:2},1024),k(De,{class:"no-wrap"},{default:L(()=>[k(Fe,{class:"text-weight-bold",style:{"font-size":"14px"}},{default:L(()=>[re("code",null,we(f.name),1)]),_:2},1024),k(Fe,{caption:"",class:"row q-py-sm no-wrap"},{default:L(()=>{var y,M,D,W,C,ee;return[f.tags&&f.tags.includes("multimodal")?(j(),_e(mt,{key:0,square:"",size:"xs",outline:"",style:{"border-radius":"0"},class:"text-dim",label:P(i)("embedding.multimodal"),icon:"mms"},{default:L(()=>[S(f.name)?(j(),_e(Ot,{key:0},{default:L(()=>[Pe(we(P(i)("embedding.multimodal_explain")),1)]),_:1})):be("",!0)]),_:2},1032,["label"])):be("",!0),(y=f.request_path)!=null&&y.includes("multi-embeddings")?(j(),_e(mt,{key:1,class:"text-dim",style:{"border-radius":"0"},icon:"grid_4x4",label:P(i)("embedding.multi_embedding"),square:"",size:"xs",outline:""},{default:L(()=>[k(Ot,null,{default:L(()=>[Pe(we(P(i)("embedding.multi_embedding_explain")),1)]),_:1})]),_:1},8,["label"])):be("",!0),k(mt,{label:(M=f.meta_data)==null?void 0:M.token_length,square:"",size:"xs",outline:"",icon:"notes",class:"text-dim",style:{"border-radius":"0"}},{default:L(()=>[S(f.name)?(j(),_e(Ot,{key:0},{default:L(()=>{var te;return[Pe(we(P(i)("embedding.token_length_explain",{_tokenLength:(te=f.meta_data)==null?void 0:te.token_length})),1)]}),_:2},1024)):be("",!0)]),_:2},1032,["label"]),(D=f.request_path)!=null&&D.includes("embedding")?(j(),_e(mt,{key:2,label:(W=f.meta_data)==null?void 0:W.output_dim,square:"",class:"text-dim",size:"xs",outline:"",icon:"mdi-axis-arrow",style:{"border-radius":"0"}},{default:L(()=>[S(f.name)?(j(),_e(Ot,{key:0},{default:L(()=>{var te;return[Pe(we(P(i)("embedding.output_dim_explain",{_outputDim:(te=f.meta_data)==null?void 0:te.output_dim})),1)]}),_:2},1024)):be("",!0)]),_:2},1032,["label"])):be("",!0),k(mt,{label:(C=f.meta_data)==null?void 0:C.size,square:"",size:"xs",class:"text-dim",outline:"",icon:"mdi-matrix",style:{"border-radius":"0"}},{default:L(()=>[S(f.name)?(j(),_e(Ot,{key:0},{default:L(()=>{var te;return[Pe(we(P(i)("embedding.size_explain",{_size:(te=f.meta_data)==null?void 0:te.size})),1)]}),_:2},1024)):be("",!0)]),_:2},1032,["label"]),k(mt,{label:P(xr)((ee=f.meta_data)==null?void 0:ee.language),square:"",class:"text-dim",size:"xs",outline:"",style:{"border-radius":"0"}},{default:L(()=>[S(f.name)?(j(),_e(Ot,{key:0},{default:L(()=>{var te;return[Pe(we(P(i)("embedding.language_explain",{_language:P(xr)((te=f.meta_data)==null?void 0:te.language)})),1)]}),_:2},1024)):be("",!0)]),_:2},1032,["label"])]}),_:2},1024)]),_:2},1024)]),_:2},1024)),[[En]]),k(Fs,{flat:"","auto-close":"",anchor:A.value?"bottom start":"top right",self:"top left",class:"lock-blur model-menu bg-transparent",style:{width:"400px"},onBeforeShow:y=>ae(f),onBeforeHide:V},{default:L(()=>[k(Hs),P(Bm).includes(f.name)?be("",!0):xn((j(),_e(ze,{key:0,clickable:"",href:`/?sui&model=${f.name}`},{default:L(()=>[k(De,{avatar:""},{default:L(()=>[k(_t,{name:"code"})]),_:1}),k(De,null,{default:L(()=>[k(Fe,{caption:""},{default:L(()=>[Pe(we(P(i)("model_graph.use_it_via")),1)]),_:1}),k(Fe,null,{default:L(()=>[Pe(we(P(i)("model_graph.api")),1)]),_:1})]),_:1})]),_:2},1032,["href"])),[[En]]),(j(!0),ve(Ae,null,nt(P(_s),y=>xn((j(),_e(ze,{clickable:"",key:y.label,href:y.link,target:"_blank"},{default:L(()=>[k(De,{avatar:""},{default:L(()=>[k(_t,{name:y.icon},null,8,["name"])]),_:2},1024),k(De,null,{default:L(()=>[k(Fe,{caption:""},{default:L(()=>[Pe(we(P(i)("model_graph.deploy_it_on")),1)]),_:1}),k(De,null,{default:L(()=>[Pe(we(y.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["href"])),[[En]])),128)),xn((j(),_e(ze,{clickable:"",href:"/contact-sales"},{default:L(()=>[k(De,{avatar:""},{default:L(()=>[k(_t,{name:"handshake"})]),_:1}),k(De,null,{default:L(()=>[k(Fe,null,{default:L(()=>[Pe(we(P(i)("model_graph.contact_sales_about_it")),1)]),_:1})]),_:1})]),_:1})),[[En]]),P(p)?(j(),_e(Ls,{key:1,indeterminate:"",size:"xs"})):be("",!0),!T.value||K.value!==q(f.name)?(j(),_e(ze,{key:2,class:"q-pa-none"},{default:L(()=>[k(De,{onClick:c[2]||(c[2]=ws(()=>{},["stop"]))},{default:L(()=>[k(wr,{filled:"",square:"",autofocus:"",readonly:P(b)||P(E)||P(p),modelValue:K.value,"onUpdate:modelValue":[c[1]||(c[1]=y=>K.value=y),F],class:"full-width"},{prepend:L(()=>[k(_t,{name:"search"})]),append:L(()=>[P(b)||P(p)?(j(),_e(bs,{key:0})):be("",!0)]),_:1},8,["readonly","modelValue"]),k(Lt,{class:"search-result bg-transparent"},{default:L(()=>[U.value.length&&!P(m).length?(j(!0),ve(Ae,{key:0},nt(U.value,(y,M)=>(j(),_e(qs,{key:M,data:y,"show-more-news":!1,"show-on-page-rag":K.value!==q(f.name),onAskQuestion:G},null,8,["data","show-on-page-rag"]))),128)):be("",!0),P(b)||P(m).length?(j(),_e(Xs,{key:1,class:"full-width"})):be("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):be("",!0)]),_:2},1032,["anchor","onBeforeShow"]),k(P(Ve),{id:"source-top",type:"source",position:P(Z).Top},null,8,["position"]),k(P(Ve),{id:"target-top",type:"target",position:P(Z).Top},null,8,["position"]),k(P(Ve),{id:"source-bottom",type:"source",position:P(Z).Bottom},null,8,["position"]),k(P(Ve),{id:"target-bottom",type:"target",position:P(Z).Bottom},null,8,["position"]),k(P(Ve),{id:"source-left",type:"source",position:P(Z).Left},null,8,["position"]),k(P(Ve),{id:"target-left",type:"target",position:P(Z).Left},null,8,["position"]),k(P(Ve),{id:"source-right",type:"source",position:P(Z).Right},null,8,["position"]),k(P(Ve),{id:"target-right",type:"target",position:P(Z).Right},null,8,["position"])]),_:1},8,["nodes","edges"])),k(Gi,{show:r.value},null,8,["show"])],4)])],2)],64))}}),Ym={class:"row justify-center",style:{height:"100vh"}},qm=re("video",{preload:"none",autoplay:"",muted:"",loop:"",playsinline:"",class:"non-selectable",poster:Zs,width:"100%",height:"100%",style:{"object-fit":"cover"}},[re("source",{src:Ks,type:"video/mp4"})],-1),Xm=re("div",{class:"overlay"},null,-1),Um=re("div",{class:"overlay2"},null,-1),jm={class:"row justify-center relative-position"},Zm={class:"col-11 col-md-10 q-py-xl"},Km={class:"row justify-center relative-position",id:"newsroom"},Wm={class:"col-11 col-md-10 col-xl-9 q-py-xl q-my-xl"},Qm={class:"column justify-center items-center q-gutter-y-lg"},Jm={class:"q-py-xl row justify-center relative-position",id:"enterprises"},ey={class:"col-11 col-md-10 col-xl-9",style:{"z-index":"1"}},ty={class:"col-11 col-md-10 col-xl-9 q-my-xl q-pb-xl justify-center",id:"apiform"},ny={class:"row text-r-h4 q-my-sm"},oy={class:"row text-subtitle2 text-dim q-mb-xl items-center"},ry={class:"q-py-xl row justify-center relative-position",id:"research"},iy={class:"col-11 col-md-10 col-xl-9",style:{"z-index":"1"}},ay={class:"row q-mt-xl q-pt-xl"},sy={class:"col-12 col-md-5 col-lg-4"},ly={class:"row text-r-h3 text-white q-mb-lg"},uy={class:"text-dim"},cy={class:"row q-pt-xl"},dy={class:"col-12 col-md-7 col-lg-8"},fy={class:"q-pa-xl row justify-center overflow-hidden"},hy={class:"col-12 col-sm-11 col-md-10",style:{"z-index":"1"}},gy={class:"q-py-xl row justify-center relative-position",id:"power-users"},py={class:"col-11 col-sm-10 col-md-9 col-lg-8"},vy={class:"row justify-center q-py-xl"},my={class:"q-py-xl row justify-center",id:"developers"},yy={class:"col-11 col-md-10 col-xl-9 relative-position",style:{"z-index":"1"}},Zy=Se({__name:"LandingPage",setup(e){const t=xs(),{t:n,te:o}=Jn({useScope:"global"}),r=Qo(),i=As(),a=fe(!1),{blogs:s}=To(i),l=fe({}),u=ie(()=>Ss.value.map(x=>({label:x.label,caption:n(x.caption),homepage:x.homepage,icon:x.icon,tags:x.tags,order:x.orderInGrid,star:l.value[x.star]})));Ze(()=>{Es(t.hash);const x=fetch("https://jina.ai/assets/data.json").then(E=>E.json()).then(E=>{l.value=E.stars}),m=i.getNewsBy({limit:3}),b=i.getNewsBy({limit:3,tag:"featured"});Promise.all([x,m,b]).then(()=>{a.value=!0})});const d=[{label:"landing_page.get_api_now",icon:"code",anchor:"#apiform"},{label:"landing_page.contact_sales",icon:"handshake",anchor:"/contact-sales"},{label:"landing_page.join_community",icon:"forum",anchor:"https://discord.jina.ai"}],h=ie(()=>v("features",["question_answer","app_registration","stadium","webhook","smart_toy"])),g=ie(()=>{switch(r.screen.name){case"xl":return"lg";case"lg":return"lg";case"md":return"md";case"sm":return"md";case"xs":return"md";default:return"sm"}}),v=(x,m)=>{const b=[];for(let E=0;E<5;E++){const p=`promptperfect.${x}[${E}]`;o(p)&&b.push({name:o(`${p}.name`)?n(`${p}.name`):"",title:o(`${p}.title`)?n(`${p}.title`):"",description:o(`${p}.description`)?n(`${p}.description`):"",icon:m==null?void 0:m[E],image:`/landing_${x}_${E+1}.svg`})}return b};return(x,m)=>(j(),_e(Ps,null,{default:L(()=>[re("div",Ym,[k(Lt,{flat:"",class:"col-12 bg-transparent"},{default:L(()=>[qm,Xm,Um,k(Lt,{flat:"",class:Be(["absolute-left bg-transparent non-selectable column justify-center",`q-ml-${P(r).screen.name} q-pl-${P(r).screen.name}`])},{default:L(()=>[k(ht,null,{default:L(()=>[k(Ds,{title:P(n)("landing_page.your_search_foundation1"),subtitle:P(n)("landing_page.supercharged1"),buttons:d},null,8,["title","subtitle"])]),_:1})]),_:1},8,["class"])]),_:1})]),re("div",jm,[re("div",Zm,[k(Vs)])]),re("div",Km,[k(Et,{src:Ws,class:"absolute-bottom",style:{opacity:"0.1"},fit:"contain",loading:"lazy"}),re("div",Wm,[k(jt,{title:"landing_page.newsroom",anchor:"newsroom"}),re("div",Qm,[a.value?(j(),_e(dl,{key:0,featured:P(s).featured[0],latest:P(s).all},null,8,["featured","latest"])):be("",!0),k(Ns,{outline:"",square:"",class:"col-6 lock-blur"},{default:L(()=>[k(At,{square:"",outline:"","no-caps":"",icon:"auto_stories",size:g.value,padding:g.value,to:"/news",label:P(n)("landing_page.read_more")},null,8,["size","padding","label"]),k(br),k(At,{outline:"",square:"",icon:"rss_feed",label:"RSS",href:"https://jina.ai/feed.rss",target:"_blank",size:g.value,padding:g.value},null,8,["size","padding"]),k(br),k(At,{outline:"",square:"",icon:"fa-brands fa-x-twitter",href:"https://x.com/jinaAI_",target:"_blank",size:g.value,padding:g.value},null,8,["size","padding"])]),_:1})])]),k(Gi,{showing:!a.value},null,8,["showing"])]),re("div",Jm,[re("div",ey,[k(jt,{title:"landing_page.for_enterprise",anchor:"enterprises",subtitle:"landing_page.enterprise_desc_v3"}),k(Is)]),re("div",ty,[re("div",ny,we(P(n)("landing_page.try_it_for_free")),1),re("div",oy,[k(_t,{name:"verified_user",class:"q-mr-sm"}),Pe(" "+we(P(n)("footer.soc2"))+" ",1),k(At,{icon:"open_in_new",size:"sm",to:"/legal#security","no-caps":"",flat:"",square:"",class:"q-ml-sm"})]),k(Ts,{"show-function":"all"})]),k(Et,{src:Qs,class:"absolute-bottom",style:{opacity:"0.1","z-index":"-1"},fit:"contain",loading:"lazy"})]),re("div",ry,[re("div",iy,[re("div",ay,[re("div",sy,[re("div",{class:Be(P(r).screen.lt.md?"q-mb-lg q-pb-md":"q-mr-xl")},[re("div",ly,we(P(n)("landing_page.our_publications")),1),re("div",uy,we(P(n)("landing_page.researcher_desc")),1),re("div",cy,[k(At,{square:"",outline:"",class:"lock-blur",label:P(n)("landing_page.read_more"),icon:"school",padding:"md","no-caps":"",to:"/news#academic_research"},null,8,["label"])])],2)]),re("div",dy,[k(ks)])])])]),re("div",fy,[re("div",hy,[k(jt,{title:"model_graph.title",anchor:"models",subtitle:"model_graph.description"}),k(Gm)])]),re("div",gy,[k(Et,{src:Js,class:"absolute-bottom",style:{opacity:"0.1"},fit:"contain",loading:"lazy"}),re("div",py,[k(jt,{title:"landing_page.for_power_users",anchor:"power-users",subtitle:"landing_page.power_users_desc"}),k(nl,{"show-caption":!0,color:"#fff",items:h.value},null,8,["items"]),re("div",vy,[k(At,{label:P(n)("promptperfect.get_started"),square:"",href:"https://promptperfect.jina.ai",target:"_blank",padding:"lg",outline:"",class:"lock-blur",icon:"img:/PromptPerfect-dark.svg"},null,8,["label"])])])]),re("div",my,[re("div",yy,[k(jt,{title:"landing_page.for_developers",anchor:"developers",subtitle:"landing_page.mmstack_desc"}),k(Os,{class:"q-my-xl q-py-xl",products:u.value,"is-card-dark":!0},null,8,["products"])])])]),_:1}))}});export{Zy as default};
