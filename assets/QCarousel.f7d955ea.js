import{i as G,a as x,j as H,h as K,e as R}from"./isArrayLike.11b82f17.js";import{k as M,h as c,i as l,D as U,Z as W,$ as X,w as B,K as Y,x as Z,a8 as J,b6 as j,j as _,a3 as p,C as z}from"./index.f61002b5.js";import{u as ee,a as ne,b as te,c as ae}from"./use-panel.78b7441b.js";import{u as re,a as oe,b as ie}from"./use-fullscreen.09647e2c.js";var le=/\s/;function ce(e){for(var n=e.length;n--&&le.test(e.charAt(n)););return n}var ue=/^\s+/;function se(e){return e&&e.slice(0,ce(e)+1).replace(ue,"")}var N=0/0,ve=/^[-+]0x[0-9a-f]+$/i,fe=/^0b[01]+$/i,ge=/^0o[0-7]+$/i,me=parseInt;function de(e){if(typeof e=="number")return e;if(G(e))return N;if(x(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=x(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=se(e);var t=fe.test(e);return t||ge.test(e)?me(e.slice(2),t?2:8):ve.test(e)?N:+e}var A=1/0,he=17976931348623157e292;function _e(e){if(!e)return e===0?e:0;if(e=de(e),e===A||e===-A){var n=e<0?-1:1;return n*he}return e===e?e:0}function xe(e){var n=_e(e),t=n%1;return n===n?t?n-t:n:0}function Ie(e,n,t){if(!x(t))return!1;var o=typeof n;return(o=="number"?H(t)&&K(n,t.length):o=="string"&&n in t)?R(t[n],e):!1}function ye(e,n,t){var o=-1,a=e.length;n<0&&(n=-n>a?0:a+n),t=t>a?a:t,t<0&&(t+=a),a=n>t?0:t-n>>>0,n>>>=0;for(var u=Array(a);++o<a;)u[o]=e[o+n];return u}var qe=Math.ceil,Ce=Math.max;function Te(e,n,t){(t?Ie(e,n,t):n===void 0)?n=1:n=Ce(xe(n),0);var o=e==null?0:e.length;if(!o||n<1)return[];for(var a=0,u=0,v=Array(qe(o/n));a<o;)v[u++]=ye(e,a,a+=n);return v}var Be=M({name:"QCarouselSlide",props:{...ee,imgSrc:String},setup(e,{slots:n}){const t=c(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>l("div",{class:"q-carousel__slide",style:t.value},U(n.default))}});const be=["top","right","bottom","left"],Se=["regular","flat","outline","push","unelevated"];var Ne=M({name:"QCarousel",props:{...W,...ne,...re,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>Se.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>be.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...oe,...te],setup(e,{slots:n}){const{proxy:{$q:t}}=z(),o=X(e,t);let a=null,u;const{updatePanelsList:v,getPanelContent:D,panelDirectives:E,goToPanel:I,previousPanel:y,nextPanel:q,getEnabledPanels:F,panelIndex:f}=ae(),{inFullscreen:C}=ie(),O=c(()=>C.value!==!0&&e.height!==void 0?{height:e.height}:{}),g=c(()=>e.vertical===!0?"vertical":"horizontal"),Q=c(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(C.value===!0?" fullscreen":"")+(o.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${g.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${P.value}`:"")),b=c(()=>{const r=[e.prevIcon||t.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||t.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&t.lang.rtl===!0?r.reverse():r}),S=c(()=>e.navigationIcon||t.iconSet.carousel.navigationIcon),L=c(()=>e.navigationActiveIcon||S.value),P=c(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),m=c(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));B(()=>e.modelValue,()=>{e.autoplay&&d()}),B(()=>e.autoplay,r=>{r?d():a!==null&&(clearTimeout(a),a=null)});function d(){const r=j(e.autoplay)===!0?Math.abs(e.autoplay):5e3;a!==null&&clearTimeout(a),a=setTimeout(()=>{a=null,r>=0?q():y()},r)}Y(()=>{e.autoplay&&d()}),Z(()=>{a!==null&&clearTimeout(a)});function w(r,s){return l("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${r} q-carousel__navigation--${P.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[l("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},F().map(s))])}function V(){const r=[];if(e.navigation===!0){const s=n["navigation-icon"]!==void 0?n["navigation-icon"]:i=>l(_,{key:"nav"+i.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${i.active===!0?"":"in"}active`,...i.btnProps,onClick:i.onClick}),h=u-1;r.push(w("buttons",(i,k)=>{const $=i.props.name,T=f.value===k;return s({index:k,maxIndex:h,name:$,active:T,btnProps:{icon:T===!0?L.value:S.value,size:"sm",...m.value},onClick:()=>{I($)}})}))}else if(e.thumbnails===!0){const s=e.controlColor!==void 0?` text-${e.controlColor}`:"";r.push(w("thumbnails",h=>{const i=h.props;return l("img",{key:"tmb#"+i.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${i.name===e.modelValue?"":"in"}active`+s,src:i.imgSrc||i["img-src"],onClick:()=>{I(i.name)}})}))}return e.arrows===!0&&f.value>=0&&((e.infinite===!0||f.value>0)&&r.push(l("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${g.value} absolute flex flex-center`},[l(_,{icon:b.value[0],...m.value,onClick:y})])),(e.infinite===!0||f.value<u-1)&&r.push(l("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${g.value} absolute flex flex-center`},[l(_,{icon:b.value[1],...m.value,onClick:q})]))),p(n.control,r)}return()=>(u=v(n),l("div",{class:Q.value,style:O.value},[J("div",{class:"q-carousel__slides-container"},D(),"sl-cont",e.swipeable,()=>E.value)].concat(V())))}});export{Be as Q,Ne as a,Te as c};
