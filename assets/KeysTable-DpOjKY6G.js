import{c8 as ll,c9 as Ud,ca as Kb,cb as Rg,cc as op,cd as Yb,ce as Og,cf as ks,cg as Bg,b7 as Xb,ch as Zb,ci as Qb,cj as Jb,ck as $b,cl as e1,cm as a1,b9 as t1,s as ar,m as H,p as xe,K as Ms,k as z,J as ul,cn as n1,V as Lt,bI as r1,q as ve,O as qc,bP as i1,co as zg,j as Oe,ag as Ze,ao as Ge,cp as Un,W as tr,am as cl,a$ as Ic,b1 as sp,b0 as Ng,a1 as Be,a2 as O,a3 as j,b6 as Gd,a4 as T,aJ as Pt,aj as le,a5 as C,ak as X,ab as me,al as V,ad as B,aR as Rc,ae as ne,bt as dl,ac as Te,an as Qt,a7 as ye,a8 as Me,a9 as ra,aK as Mi,a_ as o1,aQ as Ne,bw as Vg,bx as jg,n as Va,cq as lp,aa as qr,as as Ye,af as ba,aB as Xl,cr as s1,aC as l1,cs as Fg,aw as Ug,ax as Gg,aU as u1,w as Ds,ct as ai,aF as Et,aY as c1,a6 as Ie,h as d1,aW as Hd,aL as hn,cu as Oc,cv as fl,cw as Ir,aN as Zl,aP as qt,cx as Ls,cy as Ps,be as up,ai as f1,u as nr,bv as p1,bs as Hg,F as Wd,b$ as h1,bQ as v1,cz as Ql,aO as m1,cA as g1,cB as _1,L as y1,cC as Wg,au as b1,aX as w1,cD as cp,aZ as x1}from"./index-BPEE_2Y0.js";import{a as S1,Q as pl}from"./QBtnGroup-C-dF1wEO.js";import{Q as co}from"./QSpace-BQpGtn1k.js";import{Q as Ar,a as Kd}from"./QTable-BFp9Oy32.js";import{Q as C1}from"./QMenu-BEbkEnfB.js";import{u as oa,B as Jl,S as Gn,T as _a}from"./embedding-DLs2w9bj.js";import{Q as Ya,a as Yd}from"./QLinearProgress-B1IuF4Mz.js";import{u as A1}from"./blogs-CxkOKBL_.js";import{R as T1,Q as Kg}from"./PurchaseTab-BiaJexHV.js";import{a as K,b as Je,Q as _t}from"./QItemLabel-By4tnZtt.js";import{c as fo}from"./copy-to-clipboard-D5ZR03gB.js";import{V as E1,T as k1,Q as M1,b as D1}from"./QSpinnerRings-yYZ10g0C.js";import{Q as ze}from"./QTooltip-CVHcuM4o.js";import{a as $l}from"./QExpansionItem-DNKP3pl_.js";import{C as Bc}from"./ClosePopup-CvE1bk_2.js";import{l as dp,f as fp,a as Yg,d as ds,b as L1}from"./finetune-vbm2UT-Z.js";import{k as Xg,g as Zg,s as P1,a as q1,b as I1,d as Xd,e as R1,S as eu,f as Qg,h as O1,i as B1,o as z1}from"./orderBy-D1pIlwpE.js";import{T as N1}from"./TouchPan-DI5V1Acr.js";import{b as Tr}from"./format-DyQxkAtJ.js";import{Q as gn}from"./QTab-Dd6v6VXY.js";import{Q as pp}from"./QBtnDropdown-3YDLeJ7i.js";import{Q as V1}from"./QTabs-D1USk3Q9.js";import{u as Zd,U as j1}from"./QForm-Csl1pwa8.js";import{u as F1}from"./use-dialog-plugin-component-DQs4YJK2.js";import{K as xr,P as U1}from"./PurchaseDialog-BMcg4yUl.js";function G1(){}function H1(t,e){for(var a=-1,n=t==null?0:t.length;++a<n&&e(t[a],a,t)!==!1;);return t}function W1(t,e,a,n){for(var r=t.length,i=a+-1;++i<r;)if(e(t[i],i,t))return i;return-1}function K1(t){return t!==t}function Y1(t,e,a){for(var n=a-1,r=t.length;++n<r;)if(t[n]===e)return n;return-1}function X1(t,e,a){return e===e?Y1(t,e,a):W1(t,K1,a)}function Z1(t,e){var a=t==null?0:t.length;return!!a&&X1(t,e,0)>-1}function Q1(t,e){return t&&ll(e,Xg(e),t)}function J1(t,e){return t&&ll(e,Ud(e),t)}function $1(t,e){return ll(t,Zg(t),e)}var e2=Object.getOwnPropertySymbols,Jg=e2?function(t){for(var e=[];t;)q1(e,Zg(t)),t=Kb(t);return e}:P1;function a2(t,e){return ll(t,Jg(t),e)}function t2(t){return I1(t,Ud,Jg)}var n2=Object.prototype,r2=n2.hasOwnProperty;function i2(t){var e=t.length,a=new t.constructor(e);return e&&typeof t[0]=="string"&&r2.call(t,"index")&&(a.index=t.index,a.input=t.input),a}function o2(t,e){var a=e?Rg(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.byteLength)}var s2=/\w*$/;function l2(t){var e=new t.constructor(t.source,s2.exec(t));return e.lastIndex=t.lastIndex,e}var hp=op?op.prototype:void 0,vp=hp?hp.valueOf:void 0;function u2(t){return vp?Object(vp.call(t)):{}}var c2="[object Boolean]",d2="[object Date]",f2="[object Map]",p2="[object Number]",h2="[object RegExp]",v2="[object Set]",m2="[object String]",g2="[object Symbol]",_2="[object ArrayBuffer]",y2="[object DataView]",b2="[object Float32Array]",w2="[object Float64Array]",x2="[object Int8Array]",S2="[object Int16Array]",C2="[object Int32Array]",A2="[object Uint8Array]",T2="[object Uint8ClampedArray]",E2="[object Uint16Array]",k2="[object Uint32Array]";function M2(t,e,a){var n=t.constructor;switch(e){case _2:return Rg(t);case c2:case d2:return new n(+t);case y2:return o2(t,a);case b2:case w2:case x2:case S2:case C2:case A2:case T2:case E2:case k2:return Yb(t,a);case f2:return new n;case p2:case m2:return new n(t);case h2:return l2(t);case v2:return new n;case g2:return u2(t)}}var D2="[object Map]";function L2(t){return Og(t)&&Xd(t)==D2}var mp=ks&&ks.isMap,P2=mp?Bg(mp):L2,q2="[object Set]";function I2(t){return Og(t)&&Xd(t)==q2}var gp=ks&&ks.isSet,R2=gp?Bg(gp):I2,O2=1,B2=2,z2=4,$g="[object Arguments]",N2="[object Array]",V2="[object Boolean]",j2="[object Date]",F2="[object Error]",e_="[object Function]",U2="[object GeneratorFunction]",G2="[object Map]",H2="[object Number]",a_="[object Object]",W2="[object RegExp]",K2="[object Set]",Y2="[object String]",X2="[object Symbol]",Z2="[object WeakMap]",Q2="[object ArrayBuffer]",J2="[object DataView]",$2="[object Float32Array]",ew="[object Float64Array]",aw="[object Int8Array]",tw="[object Int16Array]",nw="[object Int32Array]",rw="[object Uint8Array]",iw="[object Uint8ClampedArray]",ow="[object Uint16Array]",sw="[object Uint32Array]",je={};je[$g]=je[N2]=je[Q2]=je[J2]=je[V2]=je[j2]=je[$2]=je[ew]=je[aw]=je[tw]=je[nw]=je[G2]=je[H2]=je[a_]=je[W2]=je[K2]=je[Y2]=je[X2]=je[rw]=je[iw]=je[ow]=je[sw]=!0;je[F2]=je[e_]=je[Z2]=!1;function fs(t,e,a,n,r,i){var o,s=e&O2,l=e&B2,u=e&z2;if(o!==void 0)return o;if(!Xb(t))return t;var c=a1(t);if(c){if(o=i2(t),!s)return Zb(t,o)}else{var d=Xd(t),f=d==e_||d==U2;if(Qb(t))return Jb(t,s);if(d==a_||d==$g||f&&!r){if(o=l||f?{}:$b(t),!s)return l?a2(t,J1(o,t)):$1(t,Q1(o,t))}else{if(!je[d])return r?t:{};o=M2(t,d,s)}}i||(i=new e1);var p=i.get(t);if(p)return p;i.set(t,o),R2(t)?t.forEach(function(h){o.add(fs(h,e,a,h,t,i))}):P2(t)&&t.forEach(function(h,v){o.set(v,fs(h,e,a,v,t,i))});var m=u?l?t2:R1:l?Ud:Xg,g=c?void 0:m(t);return H1(g||t,function(h,v){g&&(v=h,h=t[v]),t1(o,v,fs(h,e,a,v,t,i))}),o}var lw=1,uw=4;function Di(t){return fs(t,lw|uw)}function cw(t){return t===null}function dw(t){return t===void 0}var fw=1/0,pw=eu&&1/Qg(new eu([,-0]))[1]==fw?function(t){return new eu(t)}:G1,hw=200;function vw(t,e,a){var n=-1,r=Z1,i=t.length,o=!0,s=[],l=s;if(i>=hw){var u=pw(t);if(u)return Qg(u);o=!1,r=B1,l=new O1}else l=s;e:for(;++n<i;){var c=t[n],d=c;if(c=c!==0?c:0,o&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;s.push(c)}else r(l,d,a)||(l!==s&&l.push(d),s.push(c))}return s}function _p(t){return t&&t.length?vw(t):[]}const t_=ar({name:"QTr",props:{props:Object,noHover:Boolean},setup(t,{slots:e}){const a=H(()=>"q-tr"+(t.props===void 0||t.props.header===!0?"":" "+t.props.__trClass)+(t.noHover===!0?" q-tr--no-hover":""));return()=>xe("tr",{class:a.value},Ms(e.default))}});function Li(t,e=new WeakMap){if(Object(t)!==t)return t;if(e.has(t))return e.get(t);const a=t instanceof Date?new Date(t):t instanceof RegExp?new RegExp(t.source,t.flags):t instanceof Set?new Set:t instanceof Map?new Map:typeof t.constructor!="function"?Object.create(null):t.prototype!==void 0&&typeof t.prototype.constructor=="function"?t:new t.constructor;if(typeof t.constructor=="function"&&typeof t.valueOf=="function"){const n=t.valueOf();if(Object(n)!==n){const r=new t.constructor(n);return e.set(t,r),r}}return e.set(t,a),t instanceof Set?t.forEach(n=>{a.add(Li(n,e))}):t instanceof Map&&t.forEach((n,r)=>{a.set(r,Li(n,e))}),Object.assign(a,...Object.keys(t).map(n=>({[n]:Li(t[n],e)})))}const mw=ar({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(t,{slots:e,emit:a}){const{proxy:n}=ul(),{$q:r}=n,i=z(null),o=z(""),s=z("");let l=!1;const u=H(()=>n1({initialValue:o.value,validate:t.validate,set:c,cancel:d,updatePosition:f},"value",()=>s.value,x=>{s.value=x}));function c(){t.validate(s.value)!==!1&&(p()===!0&&(a("save",s.value,o.value),a("update:modelValue",s.value)),m())}function d(){p()===!0&&a("cancel",s.value,o.value),m()}function f(){Lt(()=>{i.value.updatePosition()})}function p(){return r1(s.value,o.value)===!1}function m(){l=!0,i.value.hide()}function g(){l=!1,o.value=Li(t.modelValue),s.value=Li(t.modelValue),a("beforeShow")}function h(){a("show")}function v(){l===!1&&p()===!0&&(t.autoSave===!0&&t.validate(s.value)===!0?(a("save",s.value,o.value),a("update:modelValue",s.value)):a("cancel",s.value,o.value)),a("beforeHide")}function _(){a("hide")}function y(){const x=e.default!==void 0?[].concat(e.default(u.value)):[];return t.title&&x.unshift(xe("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},t.title)),t.buttons===!0&&x.push(xe("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[xe(ve,{flat:!0,color:t.color,label:t.labelCancel||r.lang.label.cancel,onClick:d}),xe(ve,{flat:!0,color:t.color,label:t.labelSet||r.lang.label.set,onClick:c})])),x}return Object.assign(n,{set:c,cancel:d,show(x){i.value!==null&&i.value.show(x)},hide(x){i.value!==null&&i.value.hide(x)},updatePosition:f}),()=>{if(t.disable!==!0)return xe(C1,{ref:i,class:"q-popup-edit",cover:t.cover,onBeforeShow:g,onShow:h,onBeforeHide:v,onHide:_,onEscapeKey:d},y)}}});function gw(t){const e=Object.assign({noopener:!0},t),a=[];for(const n in e){const r=e[n];r===!0?a.push(n):(zg(r)||typeof r=="string"&&r!=="")&&a.push(n+"="+r)}return a.join(",")}function yp(t,e,a){let n=window.open;if(qc.is.cordova===!0){if(cordova!==void 0&&cordova.InAppBrowser!==void 0&&cordova.InAppBrowser.open!==void 0)n=cordova.InAppBrowser.open;else if(navigator!==void 0&&navigator.app!==void 0)return navigator.app.loadUrl(t,{openExternal:!0})}const r=n(t,"_blank",gw(a));if(r)return qc.is.desktop&&r.focus(),r}const _w=(t,e,a)=>{if(qc.is.ios===!0&&window.SafariViewController!==void 0){window.SafariViewController.isAvailable(n=>{n?window.SafariViewController.show({url:t},i1,e):yp(t,e,a)});return}return yp(t,e,a)},bp=[{name:"bge-small-en-v1.5",meta_data:{token_length:512,output_dim:768,size:"45M",language:"en"},request_path:["embedding"]},{name:"bge-base-en-v1.5",meta_data:{token_length:512,output_dim:768,size:"110M",language:"en"},request_path:["embedding"]},{name:"bge-large-en-v1.5",meta_data:{token_length:512,output_dim:1024,size:"340M",language:"en"},request_path:["embedding"]},{name:"bge-small-zh-v1.5",meta_data:{token_length:512,output_dim:768,size:"45M",language:"zh"},request_path:["embedding"]},{name:"bge-base-zh-v1.5",meta_data:{token_length:512,output_dim:768,size:"110M",language:"zh"},request_path:["embedding"]},{name:"bge-large-zh-v1.5",meta_data:{token_length:512,output_dim:1024,size:"340M",language:"zh"},request_path:["embedding"]},{name:"bge-small-en",meta_data:{token_length:512,output_dim:768,size:"45M",language:"en"},request_path:["embedding"]},{name:"bge-base-en",meta_data:{token_length:512,output_dim:768,size:"110M",language:"en"},request_path:["embedding"]},{name:"bge-large-en",meta_data:{token_length:512,output_dim:1024,size:"340M",language:"en"},request_path:["embedding"]},{name:"bge-small-zh",meta_data:{token_length:512,output_dim:768,size:"45M",language:"zh"},request_path:["embedding"]},{name:"bge-base-zh",meta_data:{token_length:512,output_dim:768,size:"110M",language:"zh"},request_path:["embedding"]},{name:"bge-large-zh",meta_data:{token_length:512,output_dim:1024,size:"340M",language:"zh"},request_path:["embedding"]},{name:"bge-m3",meta_data:{token_length:1024,output_dim:2048,size:"1.3B",language:"multilingual"},request_path:["embedding"]}],yw=Oe({__name:"ModelDropDown",props:{currentModel:{},indicator:{type:Boolean,default:!0},category:{default:"embedding"},allowNone:{type:Boolean,default:!1},allowBAAI:{type:Boolean,default:!1},allowClassify:{type:Boolean},subCategory:{},spaceSaving:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["chooseModel","modelsLoaded","switchToRerankerTab","switchToEmbeddingTab"],setup(t,{expose:e,emit:a}){e();const n=["jina-clip-v1","jina-embedding-b-en-v1","jina-reranker-v1-turbo-en","jina-reranker-v1-tiny-en","jina-reranker-v1-base-en","jina-embeddings-v2-base-en","jina-embeddings-v2-base-de","jina-embeddings-v2-base-zh","jina-embeddings-v2-base-es","jina-colbert-v1-en"],{t:r}=Ze({useScope:"global"}),i=oa(),{apiKey:o,allModels:s,models:l,classifiers:u,defaultEmbeddingModel:c,jinaRerankerMultilingual:d,task:f}=Ge(i),p=z([]),m=z(!1),g=t,h=a,v=H({get:()=>g.currentModel,set:F=>{h("chooseModel",F)}});let _=null;const y=Un("componentRef"),x=()=>{var G;const F=(G=y.value)==null?void 0:G.$el;F instanceof HTMLElement?(_=new IntersectionObserver(async ee=>{if(ee[0].isIntersecting){_==null||_.unobserve(F);try{await I(),_==null||_.disconnect()}catch(Z){console.error("Failed to load models:",Z),_==null||_.observe(F)}}},{root:null,threshold:.1}),_.observe(F)):console.error("Element is not an HTMLElement:",F)},E=()=>g.category==="rank"?r("embedding.select_rerank_model"):g.category==="classifier"?r("classifier.select_classifier_or_model"):r("embedding.select_embedding_model"),w=()=>{var F;return g.category==="rank"?Ng:g.category==="classifier"&&((F=v.value)!=null&&F.classifier_id)?sp:Ic},A=()=>{M.value=k.value.concat(),L.value=!0,N()},S=F=>{var ee,$,Z;const G=[];return(ee=F.tags)!=null&&ee.includes("multimodal")&&G.push({label:r("embedding.multimodal"),icon:"mms",tooltip:r("embedding.multimodal_explain")}),($=F.request_path)!=null&&$.includes("multi-embeddings")&&g.category.includes("embedding")&&G.push({label:r("embedding.multi_embedding"),icon:"grid_4x4",tooltip:r("embedding.multi_embedding_explain")}),F.meta_data.token_length&&G.push({label:F.meta_data.token_length,icon:"notes",tooltip:r("embedding.token_length_explain",{_tokenLength:F.meta_data.token_length})}),F.meta_data.output_dim&&((Z=F.request_path)!=null&&Z.includes("embedding"))&&G.push({label:F.meta_data.output_dim,icon:"background_dot_small",tooltip:r("embedding.output_dim_explain",{_outputDim:F.meta_data.output_dim})}),F.meta_data.size&&G.push({label:F.meta_data.size,icon:"data_array",tooltip:r("embedding.size_explain",{_size:F.meta_data.size})}),F.meta_data.language&&G.push({label:dp(F.meta_data.language),tooltip:r("embedding.language_explain",{_language:dp(F.meta_data.language)})}),F.name!=="jina-reranker-v1-base-en"&&G.push({label:"",icon:"img:/huggingface_logo.svg",tooltip:r("embedding.opensource_explain"),clickable:!0,onClick:()=>W(F.name)}),F.release_date&&G.push({label:F.release_date,icon:"calendar_month",tooltip:r("embedding.add_time_explain")}),G};tr(()=>{Lt(()=>{setTimeout(()=>{x()},100)})}),cl(()=>{_&&_.disconnect()});const k=H(()=>{const F=g.category==="embedding",G=ee=>ee!=="jina-embedding-b-en-v1"&&(!F||!ee.includes("colbert"));return z1(p.value.filter(ee=>G(ee.name)),["release_date"],["desc"])}),b=H(()=>{const F=n.some(G=>{var ee;return((ee=g.currentModel)==null?void 0:ee.name)===G})?1:0;switch(g.category){case"embedding":return n.filter(G=>G.includes("embeddings")||G.includes("clip")).length-F;case"rank":return n.filter(G=>G.includes("rerank")||G.includes("colbert")).length-F;case"multi-embeddings":return n.filter(G=>G.includes("embeddings")||G.includes("colbert")||G.includes("clip")).length-F;case"classifier":return 0;default:return 0}}),M=z([]),D=H(()=>{if(g.allowBAAI)return bp;{const F=k.value.filter(G=>{var pe;const ee=g.category==="embedding",Z=n.filter(te=>{var oe;return te!==((oe=g.currentModel)==null?void 0:oe.name)}).includes(G.name);return ee?!G.tags.includes("colbert")&&!Z:g.category==="classifier"?((pe=G.tags)==null?void 0:pe.includes("multimodal"))||G.name==="jina-embeddings-v3":!Z});return g.allowClassify?[...u.value.map(G=>({name:G.classifier_id,...G})),...F]:F}}),L=z(!1),P=(F,G)=>{G(()=>{F?(M.value=k.value.filter(ee=>ee.name.toLowerCase().includes(F.toLowerCase())),L.value=!0):(M.value=D.value,L.value=!1)})},I=async()=>{var G;m.value=!0;const F=g.category==="rank"?"rank":"encode";(G=s.value)!=null&&G.length?l.value=s.value.filter(ee=>{var $;return($=ee==null?void 0:ee.tags)==null?void 0:$.includes(F)}):await i.getModels([F]),p.value=l.value.concat(),g.allowClassify&&!u.value.length&&await i.getClassifiers(o.value),m.value=!1,M.value=D.value,R(),N(),h("modelsLoaded")},R=()=>{const F=new URL(window.location.href),G=F.searchParams.get("model"),ee=G&&p.value.find(Z=>Z.name===G),$=G&&u.value.find(Z=>Z.classifier_id===G);ee||$?(h("chooseModel",ee||{...$,name:G}),F.searchParams.delete("model"),window.history.pushState({},"",F)):U()},U=()=>{switch(g.category){case"embedding":case"multi-embeddings":h("chooseModel",g.allowBAAI?bp[0]:c.value);break;case"rank":h("chooseModel",d.value);break;case"classifier":const F=u.value.length&&g.subCategory==="train"?{name:u.value[0].classifier_id,...u.value[0]}:c.value;h("chooseModel",F);break}},N=async()=>{await Promise.all(M.value.map(async F=>{F.replicas=await i.getReplicas(i.apiKey,F.name)}))},W=F=>{_w(`https://huggingface.co/jinaai/${F}`)},Q=z(""),re=F=>{let G="";switch(g.category){case"embedding":case"multi-embeddings":G="embeddings";break;case"rank":G="reranker";break;case"classifier":G="classifier";break}let ee=`${window.location.origin}?sui=${G}&model=${F}`;g.subCategory&&(ee+=`&task=${g.subCategory}`),fo(ee).then(()=>{Q.value=F}),setTimeout(()=>{Q.value=""},1800)},ue=window.gtag,J=window.document,ie={INVISIBLE_MODELS:n,t:r,embeddingStore:i,apiKey:o,allModels:s,models:l,classifiers:u,defaultEmbeddingModel:c,jinaRerankerMultilingual:d,task:f,taggedModels:p,isModelsLoading:m,props:g,emit:h,selectedModel:v,get observer(){return _},set observer(F){_=F},componentRef:y,initIntersectionObserver:x,getLabel:E,getIcon:w,loadMoreModels:A,getChips:S,sortedModels:k,invisibleModelsQuantity:b,options:M,allOptions:D,hideMoreItem:L,onFilter:P,getModels:I,handleModelSelection:R,selectDefaultModel:U,loadModelReplicas:N,openModelDetailPage:W,copiedModel:Q,copyModel:re,gtag:ue,document:J,get QSelect(){return Ya},get embeddingIcon(){return Ic},get classifyIcon(){return sp}};return Object.defineProperty(ie,"__isScriptSetup",{enumerable:!1,value:!0}),ie}}),bw={class:"ellipsis"};function ww(t,e,a,n,r,i){var o;return O(),j(n.QSelect,{borderless:"",ref:"componentRef",class:"cursor-pointer","use-input":"","fill-input":"",filled:"",square:"","hide-selected":"","input-debounce":"0",modelValue:n.selectedModel,"onUpdate:modelValue":e[2]||(e[2]=s=>n.selectedModel=s),"display-value":(o=n.selectedModel)==null?void 0:o.name,options:n.options,"option-label":s=>s.name,"option-value":s=>s.name,loading:n.isModelsLoading,disable:n.isModelsLoading||a.disabled,"label-color":"grey-5",label:n.getLabel(),onFilter:n.onFilter},Gd({prepend:T(()=>[C(me,{name:a.spaceSaving?void 0:"img:"+n.getIcon()},null,8,["name"])]),"no-option":T(()=>[a.allowNone?Pt((O(),j(le,{key:0,clickable:"",active:!a.currentModel,onClick:e[0]||(e[0]=s=>n.emit("chooseModel",null)),class:"q-pa-md"},{default:T(()=>[C(X,null,{default:T(()=>[C(K,{overline:"",caption:""},{default:T(()=>[V(B(n.t("embedding.none")),1)]),_:1}),C(K,{class:"text-weight-bold"},{default:T(()=>[V(B(n.t(`embedding.${a.category}_none_description`)),1)]),_:1})]),_:1})]),_:1},8,["active"])),[[Rc],[Bc]]):ne("",!0)]),option:T(({opt:s,itemProps:l})=>{var u;return[C(le,dl(l,{active:s.name===((u=n.selectedModel)==null?void 0:u.name),class:"q-pa-md"}),{default:T(()=>[a.allowClassify?(O(),j(X,{key:0,avatar:""},{default:T(()=>[C(me,{name:`img:${s.classifier_id?n.classifyIcon:n.embeddingIcon}`},null,8,["name"])]),_:2},1024)):ne("",!0),s.classifier_id?(O(),j(X,{key:1},{default:T(()=>[C(K,{class:"text-weight-bold"},{default:T(()=>[Te("code",null,B(s.classifier_id),1),C(me,{class:"q-ml-sm cursor-pointer",name:n.copiedModel===s.classifier_id?"done":"content_copy",onClick:Qt(c=>n.copyModel(s.classifier_id),["stop"])},null,8,["name","onClick"])]),_:2},1024),C(K,{overline:"",caption:""},{default:T(()=>[Te("code",null,B(s.model_name),1)]),_:2},1024),s.labels?(O(),j(K,{key:0,caption:"",class:"row"},{default:T(()=>{var c;return[C(Je,{square:"",outline:"",size:"xs",color:s.access==="public"?"warning":"grey-5",icon:s.access==="public"?"public":"lock",label:n.t(`classifier.access_${s.access}`),style:{"border-radius":"0"}},null,8,["color","icon","label"]),(O(!0),ye(Me,null,ra(s.labels.slice(0,5),d=>{var f;return O(),j(Je,{square:"",outline:"",size:"xs",icon:"label",key:d,style:{"border-radius":"0","max-width":"60px"},color:s.name!==((f=n.selectedModel)==null?void 0:f.name)?"grey-5":""},{default:T(()=>[Te("div",bw,B(d),1),C(ze,{"max-width":"300px"},{default:T(()=>[V(B(d),1)]),_:2},1024)]),_:2},1032,["color"])}),128)),s.labels.length>5?(O(),j(Je,{key:0,square:"",outline:"",size:"xs",label:`+${s.labels.length-5} ${n.t("classifier.more")}`,icon:"label",color:s.name!==((c=n.selectedModel)==null?void 0:c.name)?"grey-5":"",style:{"border-radius":"0"}},{default:T(()=>[C(ze,{"max-width":"300px"},{default:T(()=>[V(B(s.labels.slice(5).join(", ")),1)]),_:2},1024)]),_:2},1032,["label","color"])):ne("",!0)]}),_:2},1024)):ne("",!0)]),_:2},1024)):(O(),j(X,{key:2},{default:T(()=>[C(K,{class:"text-weight-bold"},{default:T(()=>[Te("code",null,B(s.name),1),C(me,{class:"q-ml-sm cursor-pointer",name:n.copiedModel===s.name?"done":"content_copy",onClick:Qt(c=>n.copyModel(s.name),["stop"])},null,8,["name","onClick"])]),_:2},1024),C(K,{overline:"",caption:""},{default:T(()=>[V(B(n.t(`embedding.${s.name.replace(".","_")}_description`)),1)]),_:2},1024),C(K,{caption:"",class:"row"},{default:T(()=>[a.allowBAAI?ne("",!0):(O(),j(Je,{key:0,label:s.replicas>0?n.t("embedding.running"):n.t("embedding.sleeping"),square:"",size:"xs",outline:"",icon:s.replicas>0?"o_play_circle":"o_bedtime",color:s.replicas>0?"positive":"warning",style:{"border-radius":"0"}},{default:T(()=>[C(ze,{"max-width":"300px"},{default:T(()=>[V(B(n.t("embedding.status_explain")),1)]),_:1})]),_:2},1032,["label","icon","color"])),(O(!0),ye(Me,null,ra(n.getChips(s),c=>{var d;return O(),j(Je,{key:c.label,square:"",size:"xs",outline:"",color:s.name!==((d=n.selectedModel)==null?void 0:d.name)?"grey-5":"",style:{"border-radius":"0"},label:c.label,icon:c.icon,clickable:c.clickable,onClick:Qt(()=>{var f;return(f=c.onClick)==null?void 0:f.call(c)},["stop"])},{default:T(()=>[C(ze,{"max-width":"300px"},{default:T(()=>[V(B(c.tooltip),1)]),_:2},1024)]),_:2},1032,["color","label","icon","clickable","onClick"])}),128))]),_:2},1024)]),_:2},1024))]),_:2},1040,["active"])]}),_:2},[a.allowClassify&&a.subCategory==="classify"?{name:"before-options",fn:T(()=>[Pt((O(),j(le,{clickable:"",class:"q-pa-md lock-blur bg-transparent z-top",onClick:e[1]||(e[1]=s=>n.task="train"),style:{position:"sticky",top:"0"}},{default:T(()=>[C(X,{avatar:""},{default:T(()=>[C(me,{name:"add"})]),_:1}),C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[V(B(n.t("classifier.create_classifier")),1)]),_:1}),C(K,{caption:""},{default:T(()=>[V(B(n.t("classifier.create_classifier_explain")),1)]),_:1})]),_:1})]),_:1})),[[Rc],[Bc]])]),key:"0"}:void 0,n.invisibleModelsQuantity&&!n.hideMoreItem?{name:"after-options",fn:T(()=>[C(le,{clickable:"",onClick:n.loadMoreModels},{default:T(()=>[C(X,null,{default:T(()=>[C(K,{caption:""},{default:T(()=>[V(B(n.t("embedding.more_models",{_numMore:n.invisibleModelsQuantity})),1)]),_:1})]),_:1})]),_:1})]),key:"1"}:void 0]),1032,["modelValue","display-value","options","option-label","option-value","loading","disable","label"])}const rr=Be(yw,[["render",ww],["__file","ModelDropDown.vue"]]);function n_(t,e){let a=0,n=0,r=0;for(let i=0;i<t.length;i++)a+=t[i]*e[i],n+=t[i]*t[i],r+=e[i]*e[i];return a/(Math.sqrt(n)*Math.sqrt(r))}const xw=Oe({__name:"TestTab",setup(t,{expose:e}){e();const{t:a}=Ze({useScope:"global"}),n=z(!1),r=oa(),i=z(null),{testData:o}=Ge(r),s=S=>{i.value=S,y(o.value).catch(k=>{console.error("calculateScores",k)})},l=[{name:"text1",field:"text1",label:a("embedding.text1"),required:!0,align:"left",sortable:!0},{name:"text2",field:"text1",label:a("embedding.text2"),required:!0,align:"left",sortable:!0},{name:"score",align:"right",label:a("embedding.cosine_similarity"),sortable:!0,field:S=>{var k;return S.scores[((k=i.value)==null?void 0:k.name)||""]||NaN}}],u=S=>{var k,b;return((b=S.scores)==null?void 0:b[((k=i.value)==null?void 0:k.name)||""])||NaN},c=z({page:1,rowsPerPage:10}),d=z([]),f=z(null),p=z(null),m=()=>{o.value=o.value.filter(S=>!d.value.includes(S)),d.value=[]},g=S=>{f.value=S},h=S=>{p.value=S},v=()=>{const S={id:o.value.length,text1:w[Math.floor(Math.random()*w.length)],text2:w[Math.floor(Math.random()*w.length)],scores:{},isNew:!0};o.value.unshift(S),y([S]).catch(k=>{console.error("calculateScores",k)}),c.value.page=1,Lt(()=>{var k;(k=f.value)==null||k.show()})},_=(S,k,b)=>{var M;b[k]=S,b.scores={},b.isNew&&(k==="text1"?(M=p.value)==null||M.show():k==="text2"&&(b.isNew=!1)),y([b]).catch(D=>{console.error("calculateScores",D)})};async function y(S){if(!i.value)return;const k=i.value.name,b=S.filter(M=>M.text1&&M.text2).filter(M=>{var D;return!((D=M.scores)!=null&&D[k])});if(b.length!==0)try{n.value=!0;const M=100;for(let D=0;D<b.length;D+=M){const L=b.slice(D,D+M),P=await E(L,k);for(const I of L){const R=P[I.text1],U=P[I.text2];!R||!U||(I.scores=I.scores||{},I.scores[k]=n_(P[I.text1],P[I.text2]))}}}finally{n.value=!1}}const x={};async function E(S,k){x[k]||(x[k]={});const b="https://api.jina.ai/v1/embeddings",M={"Content-Type":"application/json",Authorization:`Bearer ${r.apiKey}`},D=S.map(L=>[L.text1,L.text2]).flat().filter(Boolean).filter(L=>!x[k][L]);if(D.length>0){const L={input:D,model:k},I=await(await fetch(b,{method:"POST",headers:M,body:JSON.stringify(L)})).json();for(const R of I.data)x[k][L.input[R.index]]=R.embedding}return x[k]}const w=["The only way to do great work is to love what you do.","The purpose of our lives is to be happy.","Life is what happens when you're busy making other plans.","Get busy living or get busy dying.","You only live once, but if you do it right, once is enough.","Many of life’s failures are people who did not realize how close they were to success when they gave up.","If you want to live a happy life, tie it to a goal, not to people or things.","Never let the fear of striking out keep you from playing the game.","Money and success don’t change people; they merely amplify what is already there.","Your time is limited, don’t waste it living someone else’s life.","Not how long, but how well you have lived is the main thing.","If life were predictable it would cease to be life, and be without flavor.","The big lesson in life, baby, is never be scared of anyone or anything.","Sing like no one’s listening, love like you’ve never been hurt, dance like nobody’s watching, and live like it’s heaven on earth.","Curiosity about life in all of its aspects, I think, is still the secret of great creative people.","Life is not a problem to be solved, but a reality to be experienced.","The unexamined life is not worth living.","Turn your wounds into wisdom.","The way to get started is to quit talking and begin doing.","The greatest glory in living lies not in never falling, but in rising every time we fall."],A={t:a,isLoading:n,embeddingStore:r,currentModel:i,rows:o,onModelItemClick:s,columns:l,getScore:u,pagination:c,selectedRows:d,newDataText1Ref:f,newDataText2Ref:p,deleteRows:m,attachText1Ref:g,attachText2Ref:h,addRowManually:v,updateRow:_,calculateScores:y,embeddingCache:x,embedRows:E,quotes:w,get QPopupEdit(){return mw},ModelDropDown:rr};return Object.defineProperty(A,"__isScriptSetup",{enumerable:!1,value:!0}),A}}),Sw={class:"row full-width"};function Cw(t,e,a,n,r,i){return O(),j(Kd,{class:"my-sticky-column-table col key-value-table",flat:"",rows:n.rows,columns:n.columns,"row-key":"id","binary-state-sort":"",selection:"multiple",pagination:n.pagination,"onUpdate:pagination":e[0]||(e[0]=o=>n.pagination=o),selected:n.selectedRows,"onUpdate:selected":e[1]||(e[1]=o=>n.selectedRows=o),loading:n.isLoading,"no-data-label":n.t("embedding.no_data1"),separator:"cell"},{top:T(()=>[Te("div",Sw,[C(S1,{flat:"",square:""},{default:T(()=>[C(ve,{square:"",icon:"add",label:n.t("embedding.add_pair"),flat:"",padding:"md",onClick:n.addRowManually},null,8,["label"]),Pt(C(ve,{square:"",padding:"md",icon:"delete_forever",color:"negative",label:n.t("embedding.delete_pair"),flat:"",onClick:n.deleteRows},null,8,["label"]),[[Mi,n.selectedRows.length>0]])]),_:1}),C(co),C(n.ModelDropDown,{currentModel:n.currentModel,indicator:!1,onChooseModel:n.onModelItemClick},null,8,["currentModel"])])]),body:T(o=>[C(t_,{props:o},{default:T(()=>[C(Ar,{key:"selection"},{default:T(()=>[C(o1,{modelValue:o.selected,"onUpdate:modelValue":s=>o.selected=s},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),C(Ar,{key:"text1",props:o,class:"fixed-cell"},{default:T(()=>[V(B(o.row.text1)+" ",1),C(n.QPopupEdit,{ref:s=>{o.row.isNew&&o.rowIndex===0&&n.attachText1Ref(s)},modelValue:o.row.text1,"onUpdate:modelValue":s=>o.row.text1=s,"auto-save":"",onSave:s=>n.updateRow(s,"text1",o.row)},{default:T(s=>[C(Ne,{modelValue:s.value,"onUpdate:modelValue":l=>s.value=l,dense:"",autofocus:"",counter:"",label:n.t("embedding.edit_text1_text")},null,8,["modelValue","onUpdate:modelValue","label"])]),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]),_:2},1032,["props"]),C(Ar,{key:"text2",props:o,class:"fixed-cell"},{default:T(()=>[V(B(o.row.text2)+" ",1),C(n.QPopupEdit,{ref:s=>{o.row.isNew&&o.rowIndex===0&&n.attachText2Ref(s)},modelValue:o.row.text2,"onUpdate:modelValue":s=>o.row.text2=s,"auto-save":"",onSave:s=>n.updateRow(s,"text2",o.row)},{default:T(s=>[C(Ne,{modelValue:s.value,"onUpdate:modelValue":l=>s.value=l,dense:"",autofocus:"",counter:"",label:n.t("embedding.edit_text2_text")},null,8,["modelValue","onUpdate:modelValue","label"])]),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]),_:2},1032,["props"]),C(Ar,{key:"score",props:o},{default:T(()=>[V(B(n.getScore(o.row).toFixed(8)),1)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","pagination","selected","loading","no-data-label"])}const CR=Be(xw,[["render",Cw],["__scopeId","data-v-66fd5932"],["__file","TestTab.vue"]]),Aw='<g transform="translate(20 50)"><rect x="-10" y="-30" width="20" height="60" fill="currentColor" opacity="0.6"><animateTransform attributeName="transform" type="scale" from="2" to="1" begin="0s" repeatCount="indefinite" dur="1s" calcMode="spline" keySplines="0.1 0.9 0.4 1" keyTimes="0;1" values="2;1"></animateTransform></rect></g><g transform="translate(50 50)"><rect x="-10" y="-30" width="20" height="60" fill="currentColor" opacity="0.8"><animateTransform attributeName="transform" type="scale" from="2" to="1" begin="0.1s" repeatCount="indefinite" dur="1s" calcMode="spline" keySplines="0.1 0.9 0.4 1" keyTimes="0;1" values="2;1"></animateTransform></rect></g><g transform="translate(80 50)"><rect x="-10" y="-30" width="20" height="60" fill="currentColor" opacity="0.9"><animateTransform attributeName="transform" type="scale" from="2" to="1" begin="0.2s" repeatCount="indefinite" dur="1s" calcMode="spline" keySplines="0.1 0.9 0.4 1" keyTimes="0;1" values="2;1"></animateTransform></rect></g>',Tw=ar({name:"QSpinnerFacebook",props:Vg,setup(t){const{cSize:e,classes:a}=jg(t);return()=>xe("svg",{class:a.value,width:e.value,height:e.value,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid",innerHTML:Aw})}}),Ew=`Es fehlenRadbügel an der Kreuzung.In der Nähe gelegene Bügel (zw. Naunyn und Heini) sind zu 100% ausgelastet. Viele Falschparker im 5m Berei
Hier ist es sehr eng auf dem Bürgersteig. Es gibt keine Möglichkeit sein Fahrrad anzuschließen.
Vor dem Haus sind viele Räder abgestellt. Über die Nacht stehen gut 15 Räder vor dem Haus. Lieber auf ehem. Autoparkplatz als Gehweg.
Sperrfläche als Gehwegvorstreckung ausbauen und mit Fahrradbügeln am Rand erweitern.
Sperrfläche als Gehwegvorstreckung ausbauen und mit Fahrradbügeln am Rand erweitern.
Beim Cafe Vereinszimmer halten jeden morgen viele Menschen für einen kurzen Kaffee. Gleichzeitig wird dort oft gefährlich rechts abgebogen.
Vor der Commerzbank
Vor dem Edeke/Gesundheitszentrum könnte man noch mehr Fahrradbügel gebrauchen, damit der Bürgersteig ganz frei von Rädern ist.
Vor dem BMU/der GIZ werden oft Fahrräder geklaut und es gibt nicht genug Ständer.
Beim Cafe Freiraum wird es eng auf dem Bürgersteig.
Bei der Pizzeria +39 kommen viele Menschen mit dem Fahrrad.
Bei Vanille-Marille ist es sehr eng auf dem Bürgersteig.
Bar Italia/Pizzeria Primavera. Extrem eng auf dem Bürgersteig außerdem oft Falschparker auf dem Fahrradweg.
Viel zu enger Bürgersteig. Sehr gefährliche bisherige Parkbügel neben engem Radweg (generelles Problem auf dieser Seite des Mehringdamms)
Vor dem Kino ist das häufig für die restlichen Verkehrsteilnehmer eine Katastrophe ...
Viele informell abgestellteRäder imKreuzungsbereich auf dem eh schon viel zu engenGehweg.Abhilfe könntenRadbügel auf Gehwegvorstreckung sein
Café
Viele Fahrräder auf dem Bürgersteig.
Am Chamissoplatz fehlen sowohl für den Spielplatz als auch für den Wochenmarkt (Ökomarkt) Fahrradbügel.
Überbreite Straßen und kaum Bügel auf der Westseite des Ostbahnhofs. Gerne auch regengeschützt unter Brücke.
Stellplätze für Besucher des Marheinekemarkts, die aus Osten kommen.
An der Amerika-Gedenk-Bibliothek fehlen massenhaft Fahrradbügel
Vor der Kirche und den diversen Lokalitäten fehlen gesicherte Abstellmöglichkeiten
Gerne mehr Bügel an der ZLB. Dabei noch einseitigen Fußgängerüberweg auf der gegenüberliegenden Seite vervollständigen.
Vor der bezirklichen Musikschule gibt es immer noch zu wenige Fahrradbügel, vor allem ab 15 Uhr.
Hier viele Leihacooter
Vor der Treppe zum Skalitzer Park ist neben dem Gehweg genug Platz vor einer Mauer
Nähe zu einer Kita
schlimm
Wikimedia stellt häufig Räume für Initiativen aus der Zivilgesellschaft zur Verfügung.
FALSE
Restaurantbesucher stellen Fahrräder aufgrund mangelnden Platzes immer mitten auf dem Gehweg ab.
Nicht genügend Platz für alle Räder.
Hier gibt es sehr viele Büros und viele Mitarbeiter kommen mit dem Fahrrad. Wer sein Rad hier nicht an etwas anschließt, muss mit Diebstahl
unzählige Fahrräder - privat und Leihräder - blockieren den Gehweg, Autos blockieren den Zuwege zum Bahnhof für jede*n, besonders Menschen m
Vor einer Kita.
Mehrere Wohnhäuser und Geschäfte und viel zu wenig Abstellmöglichkeiten für Fahrräder
Vor dem Ladenkino kaum Möglichkeiten sein Fahrrad anzuschliessen.
Vor dem Zukunft am Ostkreuz kaum Möglichkeiten sein Fahrrad anzuschliessen.
2 Kinderläden direkt davor.
Supermarkt, Drogerie, U-Bahn-Eingang, ... Immer zahlreiche "wild parkende" Fahrräder.
Die ungenutzte Fläche vor der Treppe zum Park eignet sich für mehrere Fahrradbügel. In der Umgebung ist jedes Straßenschild doppelt belegt
Sie müssten gar nicht auf der Strasse sein, es gibt genug Platz für Fahrradbügel vorm Park, zwischen Treppe und kleinem Autoparkplatz.
am bahnhof sind Fahrradbügel immer praktisch
Gegenüber Büro- und Praxenhaus Mariannenstraße 9-10. Hier bräuchte es wegen der vielen Beschäftigten und Besucher dringend mehr Plätze.
Vor dem Modulor fehlt es durchgehend an Radabstellplätzen.
Vor der Treppe neben der Mauer zum Skalitzer Park ist ausreichend Platz für Fahrradbügel
Vor dem Edeka herrscht eigentlich zu jeder Tageszeit Abstellchaos. Die bestehenden Bügel sind nicht ausreichend.
Ggü. befinden sich Restaurants und es ist einer der Eingänge zum Volkspark.
Restaurantbesucher finden keine Abstellmöglichkeiten -> Räder auf Gehweg :(
k.A.
Kleiner Parkplatz neben dem Parkeingang unterhalb des Giebels mit dem Kosmunautenbild. Parkplatz ist abgesperrt, aber kaum genutzt.
Am Heinrichplatz gibt es schon viele Fahrradbügel, sie reichen selbst im Winter nie aus.
Das Anschließen von Fahrrädern ist hier nahezu unmöglich.
Vor der Polizeidienststelle in der Friesenstraße (Eingang Friesenstraße) hat es vor den Bauarbeiten Radbügel gegeben. Die fehlen jetzt.
Am westlichen Ende der Böckhstraße kann ich mein Fahrrad nicht sicher abstellen. Es gibt dort keine / zu wenige Bügel.
Vor den Häusern 15a, 15b, 15c stehen in der Regel abends 15 Räder ohne Bügel. Der Bedarf dürfte vermutlich noch höher sein.
Mehrere Cafes sowie Musikschule - jede Menge Räder auf dem Fußweg, an Baumscheiben etc. Am besten auf die Parkspur.
Die markierte Position ist vor einer Sporthalle. Dort gibt es nur einen einzigen Fahrradbügel und es werden dringend mehr Fahrradbügel benöt
Vor Prinzenbad u. U-Bhf Prinzenstr.:
FALSE
Kita Stralauer Allee 18/Ecke Bödikerstraße 36 sowie gegenüberliegend Kinderarztpraxis Bödikerstraße 1.
wahnsinnig viel fahrräder durch arztpraxen, büros, gastronomie, laufkundschaft aber keinerlei anschlussmöglichkeiten.
Vorhandene Stellplätze reichen nicht aus, Gehweg immer dicht. Urbanhafen-Gastronomie + Touris + Anwohner benötigen mehr Stellplätze.
Es gibt hier schon viele Bügel, aber besonders an Markttagen sind diese voll belegt.
Vorplatz Skalitzer / Ecke Reichenberger. Keine Bügel vorhanden, Räder werden an Straßengitter gekettet. An diesem Ort nicht ausreichend.
Eingang zum Wochenmarkt (3x pro Woche) + lokaler Shoppinghotspot:
FALSE
An diesem 24h/365d Besucher Hotspot gibt es keinerlei Radabstellmöglichkeiten. Folge: Schilder, Brückengeländer, alles dicht.
Hier sind zwar schon viele Bügel aufgestellt, die sind aber konstant (!) belegt.
Kinderladen im Haus Nr 36, Eltern kommen zum Bringen und Abholen meist mit Rad, teilweise auch Lastenrad. Bushaltestelle schräg vor der Tür.
Hier gibt es auch viele Bügel, aber die sind konstant belegt. Auslastung 120%.
An der nördlichen Seite des Ostkreuzes benötigt man unbedingt mehr Bügel.
Hier ist insbesondere am Wochenende an den beiden Markttagen kein Abstellplatz zu kriegen.
Vor Netto Supermarkt. Heilloses Chaos momentan auch wegen vieler Café - Plätze.
Es gibt wenige Fahrradbügel dort. Sie sind nicht ausreichend für die vielen Bücherernutzer*innen.
Süd östlich Kottbusser Tor auf kleinem Platz zw. Reichenberger und Kottbusser str. Die vorhandenen reichen nicht aus. Ergänzen bitte
Vor der Pablo-Neruda-Bibliothek gibt es zwar 3 Fahrradbügel, diese reichen aberbei weitem nicht für diese hoch frequentiere Bibliothek aus.
Verteilt in Dresdner str. zwischen kottoli un O-Platz
Fahrradbügel gegenüber Gebäude Mariannenstraße 9/10
U-Bahn-Station Platz der Luftbrücke (Fahrradbügel sind immer voll belegt, kein Platz für weitere Räder)
Fahrradständer fehlen
Bügel fehlen
Beliebte Restaurants
Die bestehenden Fahrradständer sind in der Regel alle belegt und es ist kaum möglich einen freien Platz zu finden.
Sehr kriminalitätsbelastete Gegend in der es gefährlich ist sein Rad abzustellen.
Stellplätze für Lastenräder und mehr Plätze für normale Fahrräder werden vor der Markthalle gebraucht.
Wohnhaus ohne Fahrradkeller, auf 5 Etagen etwa 20 Erwachsene und etliche Kinder. Nebenan Keramikladen mit Mitarbeiter*innen und Kundschaft.
Kita Kinderbüro e.V. ohne Fahrradabstellmöglichkeit im Hof
Kita Kinderbüro e.V. ohne Fahrradabstellmöglichkeiten im Hof.
Geschützter Ort vor Regen usw. dank der Südkurven Brücke, die Lage ist für Radfahrende sehr Zentral. Da Bus, Regio, S-Bahn usw. erreichbar.
am ostkreuz stehen täglich hunderte von fahrrädern der stralauer pendler, es fehlen tatsächlich hunderte von abstellmöglichkeiten
Viele Räder werden an nicht dafür vorgesehene Dinge (Verkehrsschilder) abgeschlossen, weil Bügel fehlen. Stichwort Kindergarten, Späti, ...
Zum Glück gibt es in der Kinzigstraße schon einen Fahrradbügel vor der Hausnummer 9. Leider ist der Bügel häufig (gerade abends) schon voll.
Hier hat ein Restaurant eröffnet und es ist auch Fastfood zum mitnehmen. Daher werden Fahrräder auf Fuß-&Radweg abgestellt
Boxhagener Platz
vor dem Lovelite Haasestr.
Sperrfläche an der Spitze des Hohenstaufenplatzes ist konsequent von Autos beparkt, daher sehr schlechte Sicht auf Verkehr in dieser Kurve.
Überall vor den Läden in der Dieffenbachstraße fehlen ordentliche Abstellanlagen; diese könnten hier auch Falschparken effektiv verhindern.
S-Bahnhof Ostkreuz
Die Robert-Koch-Oberschule bietet wenige Stellplätze im Hof; auch vor der Schule sollten Abstellanlagen vorhanden sein.
Revaler str. 100
Ring Center
East Side Mall
Ladenkino
Am Kotti ist eindeutig zu wenig Platz für Fahrräder die überall an Masten angeschlossen werden.
Öffentlicher Platz, viele wild geparkte Räder an sehr wenigen Laternen
Komplettes Chaos. Kaum Abstellmöglichkeiten, aber hoher Bedarf
Komplettes Chaos. Ksum Abstellmöglichkeiten, aber hoher Bedarf.
Kaum bis keine sicheren Abstellplätze, aber hoher Bedarf
An dem Ort befinden sich 3 Kindertagesstätten mit über 60 Plätzen, eine Gastwirtschaft, ein Gewerbehof mit diversem Handwerk, Kunst etc
An der NO-Ecke Manteuffel-/Muskauer Str parken tägl. PKW auf der „verlängerten“ Parkspur Muskauer Str (=mitten auf der Gehwegvorstreckung)
Rund um die Kirche In der yorckstrasse ist viel Platz aber wenig Möglichkeit das Fahrrad abzustellen. Kirche, yorck Kino u Kreuzberg Himmel
Bei uns in der Gegend gibt es viele Radfahrer. Auf dem Bürgersteig gibt es jedoch kaum Platz Fahrräder abzuschließen.
Stellplätze für Zalando
Am S Ostkreuz ist auf allen Seiten eine zu geringe Zahl von Fahrrad Stellplätzen. Teilweise eh nur provisorisch.
Am Zugang zum Ostkreuz wären mehr Abstellmöglichkeiten für Fahrräder notwendig. Derzeit wird überwiegend der Bauzaun genutzt.
An der Adresse befindet sich eine Ergotherapiepraxis.
Es handelt sich um den u Bahn Eingang schönmeinstraße. Dort gibt es zu wenige abstellmöglichkeiten.
Dort befinden sich mehrere Hochschulen, Galerien, Läden und Geschäfts- sowie Wohnbebauung. Zwischen den Baumscheiben einfach zu realisieren!
Innenhof
Vor dem fsk Kino wären ein paar mehr Bügel sehr hilfreich
Vor Aldi wären einige zusätzliche Bügel wünschenswert. Die vorhandenen Bügel reichen nicht aus.
Hier ist der Eingang zum Mehringhof und viel Gastro an der Strasse, statt überall tische und stühle für den Konsum hinzustellen besser Bügel
Vor dem Holzmarkt gibt es gerade am Wochenende oder bei Veranstaltungen viel zu wenig Abstellmöglichkeiten
Hier stehen regelmässig 2reihig Fahrräder an den Laternen, die Kaffe-Gäste können ihre Überblicken, für alle anderen braucht es etwas festes
Vor Lidl gibt es zu wenig Anschliessmöglichkeiten
Vor dem Kino Tilsiter Lichtspiele gibt es kaum Anschliessmöglichkeiten
An dieser Ecke stehen immer ca 8-10 Fahrräder lose auf dem Bürgersteig herum (auch Leihfahrräder).
Kunden des Fahrradladens parken den Gehweg zu.
Test
Beim Rewe gibt es immer zu wenig feste Stellplätze für Fahrräder, daher waren ein paar mehr Bügel super. Außerdem viel Platz dafür vorhanden
Vor den Läden hier (Sushi laden etc) gibt es keine feste Stellmöglichkeiten für Fahrräder, diese stehen dann auf dem Bürgersteig herum.
Der Bereich zwischen Park-Ausgang und U-Bahn-Station ist eine einzige wilde Abstellfläche für Räder und Roller.
Bitte in der Nähe der Straßenkreuzung Scharnweberstraße zusätzliche Fahrradbügel aufstellen. Vielen Dank!
Für Anwohner gibt es kaum bzw. keine Fahrradabstellmöglichkeiten in diesem Bereich.
Einige Geschäfte hat es hier, aber keine Abstellmöglichkeiten für Räder.
für die diversen Lokale und die Kirche
Direkt vor dem Supermarkt (Netto)
der Kino-Bereich benötigt dringend ganz viele Bügel, das es dort sehr häuft viele wild abgestellte Fahrräder gibt
für Spielplatz und die Geschäfte ringsherum sowie den Wochenmarkt
Leider keine Möglichkeit, Fahrrad sicher anzuketten.
ein Chaos an wild irgendwo angeschlossenen Rädern
Hier gibt es mehrere Kitas. Fahrräder werden wenn nicht am Bügel angeschlossen, sehr oft geklaut. Industrie im Innenhof.
An der U-Bahn Station stehen immer viele Fahrräder herum, es gibt kaum Möglichkeiten zum festen Anschließen. Auf beiden Straßenseiten nötig.
In der Nähe des S-Bahnhofs Ostkreuz fehlen immer noch Fahrradständer, denn die Anzahl der Fahrräder, die angeschloßen werden müssen ist hoch
Vor dem Vietnamesischen Restaurant (Nr. 16) und dem japanischen Café daneben sucht man immer vergeblich nach Bügeln zum festen Anschließen.
Rewe City, Großbeerenstraße
20 Fahrradbügel auf den bisherigen Parkplätzen vor dem Rathaus Fhain gem. Vortrag Hr. Rabe 2017
Kreuzung Katzbachstraße/Yorckstraße
Mehr Bügel für Nutzer der Gastronomie entlang des Seitenbereichs Yorckstr., da dringender Bedarf
Möckernstr. Ecke Obentrautstraße ist ggf. sogar genügend Platz im Gehwegbereich.
Ein Foto ist hoffentlich nicht nötig. Am Bahnhof Ostkreuz sind dringend sehr viele Fahrradbügel nötig. Sehr viel mehr als man oben angegeben
An der Mauer, die den Skalitzer Park von der Mariannenstr. trennt, ist Platz für sicher 8 Fahrradbügel. Hier wird sonst nur Müll abgeladen.
Es gibt bereits 5 vor der Hausnummer, die sind jedoch ungenügend. Deswegen diese verdoppeln (auf beiden Seiten des jungen Lindenbaums)
Nähe zu Spielplatz, vorhandene Fahrradbügel nicht ausreichend
Vor dem Park neben dem Astronauten ist viel Platz, das Fahrradaufkommen hier steigt stetig.
An der U-Bahn hallesches tor
In der Nähe des S-Bahnhofs Ostkreuz fehlen unzählige (min. 50) Fahrradbügel.
An der Ecke Eisenbahnstr. - Köpenickerstr. fehlen Bügel.
TRUE
Großer Andrang das ganze Jahr über (Kanal, Restaurantschiff, Café, Anwohner) keine Stellplätze bisher.
Sehr viele Besucher, sehr viele Fahrräder, die den Weg vollstellen.
An dieser Stelle verschwenkt sich der Radweg an den Straßenrand und begrenzt ein Ende von Parkplätzen. Da sich dort oft Falschparker auf de.
Vor den Hotels und Veranstaltungshallen sollte man einige Autoparkplätze umwandeln.
Es gibt in der Waldemarstrasse grundsätzlich kaum Fahrradabstellmöglichkeiten. In der Strasse befindet sich der Kinderbauernhof
Vor der Amerika Gedenk Bibliothek ist täglich Radabstell-Not! Alle vorhandenen Plätze sind mehr als ausgelastet!
Bank, Büro Gebäude, Läden, Wohnhäuser. Keine Möglichkeit das Rad fest zu schließen.
Direkt vor dem H2 Veggie sollte es fahrradbügel geben, gerne statt der parkenden Autos, die an dieser unübersichtlichen Stelle eh nur stören
Bei den Eingängen in den gleisdreieckpark fehlen Fahrradparkplätze
Gubener Straße 49, in dem Haus befindet sich ein Kinderladen und ein großer Arbeitgeber, viele Menschen kommen mit Rad.
Am Maybachufer Kann es gar nicht genug Bügel geben
der Ort ist überlastet. Fahradbügel vorhanden, jedoch oft von Schrottbikes besetzt.
FALSE
Fahrradbügel können die chaotische Situation rundum den Markt und den Kottbusser Damm entlasten
Wie vor jedem Bahnhof oder jeder Haltestelle muss die Kapazität an Abstellmöglichkeiten signifikant erhöht werden. Auch hier gibt's zu wenig
hier ist ein toller Knotenpunkt: Märkte starten, Spaziergänge starten, ... mehr Fahrradständer auf dieser oder der anderen Seite des Kanals!
hier ist ein toller Knotenpunkt: Märkte, Spaziergänge, ... starten. mehr Fahrradständer auf dieser oder der anderen Seite des Kanals!
An dieser Position finden sind auf beiden Seiten der Straße viele Geschäfte. Nirgendwo gibt es Fahrradbügel. Die nächsten sind am Boxi
Weitere Informationen zur Falsch-Park-Situation im vorliegenden absoluten Halteverbot incl. Fotos via daniel.wachs@gmx.de.
Es gibt im Haus Ärzte u.a. Einrichtungen mit viel Kundschaft. Viele kommen mit dem Fahrrad, auch die Angestellten. Fahrradbügel fehlen!
Vor dem LPG Markt sind weitere Abstellanlagen nötig.
Dort sitzt ein großer Verband (AWO) mit vielen Fahrradfahrer*innen und vielen (täglichen) Gästen.
Vor der Schoko Fabrik werden weitere Abstellplätze benötigt für Besucher*innen der Restaurants und Freizeiteinrichtungen in der Straße
Der Eingangsweg zu "der Kegel" und Skatehalle steht oft voll mit Fahrräder, die aber nicht sicher geparkt werden können.
Supermarkt und viele Fahrradfahrer im Kiez
Hier wäre sehr viel Platz vorhanden und es gibt für die ganzen Anlieger viel zu wenige Abstellplätze. Direkt am Mauerradweg.
Stallschreiberstraße hat grundsätzlich viel zu weniger Fahrradbügel
Vorplatz EDEKA nördlich. Bestehende "Speichenkiller" zu Stoßzeiten überfüllt. Am besten in Absprache mit EDEKA Ersatz auf dem Platz schaffen
Es gibt keine Möglichkeiten für Bewohner oder Besucher Fahrräder anzuschliessen, außer der Kellereingänge die dadurch behindert werden.
Es gibt hier viele Cafés und Restaurants, genauso wie ein großes Bürogebäude (Mariannenstr. 9-10), von denen viele Mieter mit dem Rad kommen
Entlastung der überfüllten Bügel am Heinrichplatz.
Vorhandene Bügel sind total überlastet. Dadurch wird wieder der Gehsteig zugeparkt. Bügel vor den benachbarten Grunstücken könnten abhilfe s
Plätze für Lastenräder (Eltern kommen mit Lastenrad von Kita/Schule zum Bürohaus) + viele Räder, da hier viel Büros/Praxen/Anwälte
immer mehr Mietwagen/E-Roller (Lärmbelästigung nachts), kein Platz für Räder in der Spielstraße (Fahrradunfreundlicher Belag) + Höfen!
Die Vorhandenen Radbügel vor der Lenau Grundschule reichen bei weitem nicht aus. Diese müssen durch weitere ergänzt werden
Hier möchten alle Shopper, Restaurantbesucher, Nachschwärmer gerne sicher ihre Räder parken
Vor der Markthalle sind zu wenig Bügel. Fahrräder sind dort kreuz und quer abgestellt. Sehr chaotisch und auch für die Fußgänger nicht schön
An der Treppe, die zur U7 hinunter führt, fehlen Fahrradstellplätze.
Hier vor dem Schülerladen gibt es 5 Bügel, die bei weitem nicht ausreichen
Viele Mitarbeiter*innen und Besucher der taz, sowie die meisten Besucher*innen der taz Kantine und der Veranstaltungen dort, fahren Rad.
Hier sitzt die Redaktion der taz. Zwar gibt es einen Fahrradkeller, zu Veranstaltungen in der taz-Kantine kommen Gäste mit Fahrrad
Viele Mitarbeiter des Neubaus müssen ihre Fahrräder "wild" an Zäunen usw anschließen weil es keine richtigen Ständer gibt
Viel zu oft stehen Lasten- und normale Fahrräder auf dem Gehweg rum, weil es keine Fahrradparkplätze gibt
Auf der Nebenstrasse Warschauer Platz gibt es mittig einen Grünstreifen, der nicht genutzt wird und perfekt für einige Bügel wäre
Gäste des Zukunft am Ostkreuz müssen ihre Fahrräder immer an den Zaun des Autohändlers anschließen - das nervt vermutlich beide Seiten
Vor der taz stellen Besucher*innen Fahrräder ab und auch vor dem Communitygardening Projekt Friede Süd daneben. Lastenradplatz wäre toll.
An der Landsberger Allee gegenüber des SPZ befindet sich eine Ladenzeile u.a. mit Rewe, Sparkasse, Netto und diversen Restaurants
Bitte den gesamten Parkstreifen von der Gehwegnase bis zur Einfahrt zur Erschließungsstraße am Südrand des Besselparks mit Bügeln versehen.
Vor dem Verlagshaus der taz in der Friedrichstr. 21 werden dringend Bügel benötigt. Wäre toll, wenn es klappt!
Parkplätze sind nötig, damit man sich am Kanalufer aufhalten oder spaziergehen kann
Gegenüber ist die AWO mit Spielplätzen und das Familienzentrum
Hier liegt das Haus der taz. Die Mitarbeiter kommen zum Großteil mit dem Fahrrad, auch viele Gäste der taz-Gastronomie.
Vor dem Haus am Pflanzenkübel  ist Platz für 2 Bügel.
FALSE

Vor dem Häusern Reichenberger Str. 28 + 29 sind immer min. 20 Fahrräder geparkt, mit extrem schlechter Sicherung gegen Diebstahl.
Im Sommer gibt es viel zu wenig fahrradbügel vorm Prinzenbad inkl dem U-Bahnhof. Nur alte Bückfahrradständer.
Reinhardswaldschule
Durch die zwei yoga studios erhöhter Bedarf.
Prima Platz zum Fahrradbügel aufstellen
Die bereits verbauten Fahrradständer sind deutlich zu wenig am Ostkreuz.
Entlang der Oranienstraße fehlen in regelmäßigen Abständen Radbügel, die Gehwege sind zum Abstellen zu schmal.
Supermarkt (NETTO)
Supermarkt, Laden für Fahrradtaschen, Änderungsschneiderei
Apotheke
Rossmann
Bäckerei, vietnamesisches Restaurant, kleiner Supermarkt
Keine Stellplätze, zwei Hotels, ein Kino, ca. 8-10 Restaurants, 2 Bars und Shoppingläden.
Hintereingang East Side Mall: Zugang Mitarbeiter*innen und Zugang Aufzug FitX
Stellplätze für Lastenfahrräder wegen Kitas
Am Ostkreuz fehlt es deutlich an weiteren Fahrradbügeln.`,kw=`Durante el foro La banca articulador empresarial para el desarrollo sostenible el director de sostenibilidad y clientes globales de BBVA en Colombia Andrés García aseguró que es importante entender que la sostenibilidad no la podemos asociar a mayores costos. Yo creo que el no tener un concepto de negocio sostenible puede tener un mayor impacto de lo que imaginamos.Para García el reto más importante es no cambiar prioridades ni que compitan entre sí necesariamente. En muchos de los casos se debe tratar de mantener la prioridad en cuanto a la ambición de negocios más sostenibles un reto enorme por la coyuntura. La sostenibilidad nos abre oportunidades a mejores fuentes de financiamiento agregó.El directivo argumentó que lo que se encuentra en juego acá no es un tema de rentabilidad o de negocios en particular es un tema de viabilidad del mundo de los negocios y del mundo físico en general como lo conocemos. Además los riesgos físicos y de transición asociados al cambio climático y a la no inclusión social en el desarrollo son reales y están ahí.Esto ya dejó de ser un aspecto en paralelo de responsabilidad social corporativa ahora tiene que estar en el ADN de las estrategias del mismo negocio. Solo de esa manera se logran impulsar proyectos específicos porque van a están incluidos dentro de las aspiraciones concluyó.
El regulador de valores de China dijo el domingo que buscará una cooperación más estrecha con su par estadounidense y que apoyará las salidas a bolsa en el extranjero luego de que supervisores estadounidenses endurecieron las exigencias de divulgación de información para las empresas chinas y expresaron preocupación por medidas de Pekín.La Comisión Reguladora de Valores de China CSRC dijo en un comunicado que tomó nota de los nuevos requisitos de la Comisión de Valores de Estados Unidos SEC para las empresas chinas y que ambas partes deberían mantener el espíritu de respeto mutuo y reforzar las comunicaciones sobre la regulación.La CSRC siempre ha estado abierta a que las empresas elijan dónde salir a bolsa y la política nacional básica de China de avanzar en la reforma y la apertura es inquebrantable y la apertura financiera al mundo exterior continuará dijo en su sitio web.La SEC había dicho el viernes que exigirá a las compañías chinas que revelen la incertidumbre sobre futuras acciones del gobierno de China que puedan afectar significativamente a los resultados financieros de la empresa antes de permitirles captar capital en los mercados de valores estadounidenses.Los emisores chinos también deben revelar si se les denegó el permiso de las autoridades chinas para cotizar en las bolsas estadounidenses y los riesgos de que dicha aprobación pueda ser denegada o rescindida añadió la SEC.China ha reforzado su control regulatorio sobre la emisión de acciones en el extranjero después de que lanzó una investigación de ciberseguridad sobre el gigante del transporte Didi Global Inc el mes pasado apenas unos días después de su cotización en Nueva York.El gabinete chino dijo el 6 de julio que reforzaría la supervisión de todas las empresas chinas que cotizan en el extranjero.El regulador del ciberespacio chino dijo que cualquier empresa con datos de más de un millón de usuarios debe someterse a una revisión de ciberseguridad antes de cotizar en el extranjero.El banco central de China también ha dicho que las empresas de pago no bancarias deben informar de sus planes de cotizar en el extranjero.
En una industria históricamente masculina como lo es la aviación Viva presentó su avión rosado A320NEO que apuesta por la equidad de género la lucha contra el cáncer de mama la inclusión y la diversidad.Desde Francia llegó Go Pink que tuvo un precio promedio de US50 millones convirtiéndose en la aeronave número 20 de las 21 con las que finalizará el año esta aerolínea.En Viva estamos trabajando muy fuerte para que haya más mujeres. Actualmente el grupo ejecutivo está compuesto por 42 mujeres pero la meta es llegar en 2022 con 50 de ellas en nuestro staff señaló Félix Antelo CEO de Viva.Asimismo agregó que están evaluando traer otro avión con esta propuesta para el próximo año así como proyectan un crecimiento de 60 en sillas para el último trimestre de 2021 en comparación con el mismo periodo de 2019.Vamos a estar moviendo más de dos millones de pasajeros para finalizar el año es un número ambicioso pero estamos contentos por la reacción del mercado y porque muchos pasajeros están eligiendo a Viva por la flota nueva la nueva imagen y los precios bajos dijo.Sobre los planes de expansión internacional de la compañía la aerolínea continuará creciendo pues proyectan abrir 15 rutas en tres años.Tenemos una buena apuesta por Florida Nueva York República Dominicana y Buenos Aires probablemente para el próximo año contó Declan Ryan presidente del Grupo Viva.Del mismo modo reveló que se estudia una alianza con Viva Aerobus la aerolínea mexicana que recientemente empezó a operar en Colombia.Viva Aerobus es como un hijo para mí. Juan Carlos el CEO es un gran amigo y seguramente vamos a trabajar con ellos. Es algo que se contempla.Teniendo en cuenta la entrada de más empresas al modelo de low cost muchos cuestionan si la industria va camino a ser solo de este nicho no obstante es algo que no podrán asumir todas las aerolíneas según Ryan.En promedio las personas ahorran US50 al viajar con modelo de bajo costo es decir US14 billones han sido ahorrados por los colombianos. Sin embargo la historia de la aviación nos ha mostrado que cuando las grandes aerolíneas tratan de trabajar bajo el modelo de low cost no les funciona por sus costos.
Con el dato de marzo el IPC interanual encadena su decimoquinta tasa positiva consecutiva. La inflación publicada por el INE se ha mantenido igual respecto al avance del 30 de marzo y se sitúa 22 puntos por encima del dato de febrero que ascendió al 76.De esos 22 puntos de diferencia la mayor parte la colocó el grupo de la vivienda 09 puntos por la subida de la electricidad y el del transporte 07 puntos por el alza de los carburantes. También impulsaron el IPC de marzo el aumento de los precios de la restauración y los servicios de alojamiento y al encarecimiento generalizado de los alimentos especialmente del pescado y el marisco de la carne de las legumbres y hortalizas y de la leche el queso y los huevos.Sin tener en cuenta la rebaja del impuesto especial sobre la electricidad y las variaciones sobre otros impuestos el IPC interanual alcanzó en marzo 107 nueve décimas más que la tasa general del 98. Así lo refleja el IPC a impuestos constantes que el INE también publica en el marco de esta estadística.La inflación subyacente sin alimentos no elaborados ni productos energéticos aumentó en marzo cuatro décimas hasta 34 su valor más alto desde septiembre de 2008. De este modo la subyacente se sitúa más de seis puntos por debajo de la tasa del IPC general.En el último año la calefacción el alumbrado y la distribución de agua se han encarecido 683 los aceites y grasas han elevado sus precios un 321 y el transporte personal es un 193 más caro por el mayor coste de los carburantes. También registran alzas de dos dígitos los huevos y la leche un 11 más caros que hace un año y la carne de ovino y el pescado fresco y congelado con repuntes del 101 en ambos casos.Cómo están los precios por comunidadesCastillaLa Mancha se situó a la cabeza con una tasa de inflación del 117 seguida de Castilla y León 11 Aragón 107 La Rioja 106 Galicia 105 Extremadura 103 Cantabria 102 y Comunidad Valenciana 102.En el otro las comunidades donde se registraron las menores subidas fueron Canarias 84 Madrid 9 Baleares 94 Asturias 95 País Vasco 95 y Cataluña 95.El IPC dispara su tasa mensual al 3En tasa mensual el IPC registró en marzo un incremento del 3 respecto a febrero su mayor alza mensual en cualquier mes desde 2002 cuando se cambió la metodología de esta estadística para recoger mejor la evolución del mercado. Echando la vista más atrás tomando series anteriores el repunte mensual de marzo es el más elevado desde agosto de 1977.En el tercer mes de 2022 el Índice de Precios de Consumo Armonizado IPCA situó su tasa interanual en 98 más de dos puntos por encima de la de febrero. Por su parte el indicador adelantado del IPCA avanzó un 39 en tasa mensual.
Ayer en Cartagena se dio inicio a la versión número 56 de la Convención Bancaria. Este será el primer encuentro de los banqueros del país con el presidente Gustavo Petro quien estará en la sesión de clausura el próximo viernes.Mario Pardo Bayona el presidente de la Junta Directiva de Asobancaria y presidente de Bbva Colombia dio inicio a la sesión de apertura destacando que a pesar de los avances económicos y financieros del país aún existe un reto clave reducir las inequidades.En ese sentido el directivo propuso cinco objetivos desde la banca. Como primer punto resaltó la importancia de seguir financiando infraestructura de telecomunicaciones energía agua y alcantarillado que faciliten la vida y la provisión de servicios en la ruralidad.Como segundo y tercer punto sería clave seguir comprometidos con la bancarización y aumentar el acceso al crédito pues solo 34 de los adultos y 31 de las Pyme en Colombia acceden al crédito formal. Sustituir el gota a gota por el crédito formal es el mejor instrumento para que los colombianos puedan materializar sus sueños y para reducir la pobreza de los microempresarios dijo el directivo.Otro objetivo es trabajar para que los productos financieros cada vez sean más económicos aprovechando la digitalización. Como último punto se debe garantizar que los avances lleguen a todos. A las poblaciones negras raizales palenqueras indígenas mujeres cabeza de familia campesinos jóvenes discapacitados migrantes etc. Para ello debemos trabajar con el Estado en identificar y derribar las barreras que existan y desde el sector debemos medir publicar y comprometer cifras con los avances en los servicios a estos segmentos poblacionales señaló Pardo.A su turno el gerente general del Banco de la República Leonardo Villar resaltó el papel de la banca durante la pandemia. Las cifras a julio excluyendo la cartera de moneda extranjera muestran tasas de crecimiento de 17 en el crédito agregado y cercanas a 23 en la cartera para los consumidores. Sin embargo aseguró que dicho crecimiento tiene su contrapartida en el mayor endeudamiento de los consumidores y las empresas por lo que el aumento de las tasas se reflejaría en un incremento de la carga financiera.De hecho el superintendente financiero Jorge Castaño advirtió un aumento de los cupos de las tarjetas de crédito y el deterioro de las originaciones nuevas. El problema es el sobreendeudamiento que las familias puedan tener al acceder a esos cupos altos de tarjetas de créditos. La Superintendencia Financiera está viendo que la carga financiera de los hogares ha empezado a aumentar. La porción de dinero que las familias utilizan para pagar sus deudas está empezando a crecer. Si a esto le agregamos el efecto de la inflación va a haber una mayor presión en la capacidad de pago. Nuestro mensaje es que sigamos siendo muy responsables en el uso de los créditos aseguró Castaño.Durante la apertura del evento el gerente del Emisor también se refirió al avance de los pagos digitales y aseguró que tomamos la decisión de avanzar hacia un sistema de transferencias digitales inmediatas seguras y eficientes que sea totalmente interoperable y que contribuya a la competitividad de los mercados y el desarrollo del país.Frente al anuncio que hizo el director de la Dian Luis Carlos Reyes sobre avanzar en la emisión de una moneda digital Villar aseguró que a inicios de agosto se instaló un foro para avanzar en las decisiones urgentes relacionadas con los pagos inmediatos y que dicho foro servirá como insumo para en un futuro tomar la decisión sobre emitir o no una moneda digital.Un reto del Estado es seguir ofreciendo garantías para facilitar el acceso al crédito de las mujeres esquema donde todavía hay brechas a favor de los hombres.Confiamos en que el foro se convierta en una herramienta para avanzar en las decisiones que tenemos en los pagos inmediatos. Nuestro referente más cercano es el sistema Pix que se ha desarrollado en Brasil donde tras solo dos años de operación más de 70 de los adultos utiliza el sistema para sus pagos . Este mismo foro podrá servirnos para avanzar en el diseños de esquemas que amplíen la oferta de pagos transfronterizos y así evaluar la conveniencia de emitir una moneda digital del Banco Central dijo Villar.Asobancaria cambió su marca y eslogan después de más de 50 añosEn el inicio de la Convención Bancaria en Cartagena Asobancaria anunció la renovación de su logo por primera vez en 50 años y su slogan que ahora se refiere a acercar la banca a los colombianos.Lo anterior indicó su presidente Hernando José Gómez como reflejo de la transformación que ha experimentado el sector financiero y de su compromiso con el país. Según el dirigente gremial la marca busca reflejar el apoyo al desarrollo sostenible del país y la construcción de caminos hacia un futuro compartido.
El emprendimiento del sector inmobiliario Rentatop cerró una ronda de financiación por US1 millón con la inmobiliaria Century 21 con la que planea acelerar su crecimiento y fortalecer su operación.La startup desarrolló una plataforma que utiliza Big Data e Inteligencia Artificial para realizar en línea todos los procesos presentes en un arriendo residencial oferta y demanda de inmuebles residenciales calificaciones crediticias búsquedas de garantías y firmas de contratos.Adicionalmente un acuerdo comercial entre las compañías significará que la plataforma será la encargada de manejar los arriendos de inmuebles que tiene en su portafolio la inmobiliaria en Colombia.A partir de la alianza la plataforma logra tener desde el inicio un alcance nacional gracias a la presencia de nuestras más de 40 oficinas y nuestra fuerza comercial de más de 500 agentes en diferentes ciudades del país afirmó Alberto Rodríguez presidente y CEO de Century 21.Con esto la plataforma suma en total un portafolio de más de 1.000 propiedades y un valor de mercado superior a los US100 millones según la misma compañía
El país tiene pendiente generar más y mejores acciones para contrarrestar la pobreza laboral y sus causas que de acuerdo con el último reporte del Consejo Nacional de Evaluación de la Política de Desarrollo Social Coneval a nivel nacional y al segundo trimestre de 2022 este indicador medido como el porcentaje de la población sin capacidad de adquirir una canasta básica alimentaria con su ingreso laboral se ubicó en 38.3 que significa una disminución anual de 1.6 puntos porcentuales.Luis Antonio Espinosa Carrasco economista senior de BBVA México señala en la columna Inflación e informalidad retos de la pobreza laboral publicada en el periódico El Economista que los datos del Coneval revelan que un tercio de la población no tiene la posibilidad de costear una canasta básica lo que resulta preocupante y sin duda deja ver que lograr una reducción en los niveles de pobreza en el país se ve aún lejana.Espinosa destaca que dos factores en el corto plazo se plantean como los principales retos para seguir en la senda de reducción de los niveles de pobreza la inflación y el empleo informal. En el caso de la inflación se encuentra en un escenario preocupante con un nivel promedio anual de 7.8 al segundo trimestre de 2022 aumento que está golpeando a las familias de menores recursos ya que un incremento de precios podría significar pasar de una situación de vulnerabilidad a una de carencia.Dos factores en el corto plazo se plantean como los principales retos para seguir en la senda de reducción de los niveles de pobreza la inflación y el empleo informalDe acuerdo con el economista especialista en temas de desarrollo y políticas públicas el daño se hace evidente cuando se observa que los valores monetarios de las canastas de consumo que determinan la Línea de Pobreza Extrema por Ingresos tuvieron un incremento anual promedio en este segundo trimestre de 12.6 y 12.0 para el ámbito rural y urbano respectivamente.En lo que se refiere a la informalidad Espinosa explica que la mitad de la población ocupada es decir el 55.7 labora en la informalidad condición que desencadena menores ingresos salariales y falta de acceso a la seguridad social que a su vez generan condiciones de precariedad que posicionan a sus trabajadores en una situación de vulnerabilidad lo que se hace evidente en el último trimestre al observar la brecha entre los salarios formales promedio de 9312 pesos y los informales de 4524 pesos siendo estos últimos más propensos a un mayor peligro de estar y caer en niveles de pobreza laboral.Inclusión financieraLa disminución del efectivo se ha convertido en uno de los retos financieros más importantes en México. Alfonso Gurza González economista principal de BBVA México destaca en el artículo Inclusión financiera y combate al efectivo publicado en el periódico El Economista la correlación que existe en el uso de dinero físico la inclusión financiera y el alto grado de informalidad en el país.El economista de BBVA Research México puntualiza que desafortunadamente el panorama para ambos indicadores durante los siguientes trimestres muestra poca recuperación en el caso de la inflación aún será elevada en lo que resta del año y se prevé que baje hasta el 2023. Detalla que con cifras de Coneval los ingresos de la población formal ocupada han tenido una mejor recuperación desde los niveles pre pandemia que los informales.Es así como Espinosa advierte que ante el contexto adverso la política económica y social tendrá un papel central en los próximos trimestres para poder contrarrestar los efectos negativos de estos factores sobre el nivel de pobreza en México por lo que sugiere que en la actual revisión al Presupuesto de Egresos de la Federación 2023 se deben destinar más recursos a los programas sociales con mayor evidencia de contribuir a la reducción de la pobreza y por ende a mejorar las condiciones de vida de los mexicanos entre otras acciones de política económica y fiscal para proteger a la población más vulnerable.El artículo se publicó en El Economista el 25 de agosto de 2022 y puede consultarse en este link.
"En el 'podcast' tenemos el placer de entrevistar a Nacho Escobar, profesor en varias Universidades donde introduce Agile entre sus alumnos para prepararles ante la nueva realidad empresarial.
Nacho nos comparte en este 'podcast' de 'Píldoras Agile' su visión de por qué es importante introducir Agile en la formación actual y qué ventaja competitiva supone incorporar estos conceptos para sus alumnos.
Nacho además es Fundador del podcast TalentBoost, dedicado a hablar de tendencias en el mundo del trabajo y las organizaciones y de el Thinktank de RRHH del sector legal ElObservatorio.
Cuenta a su vez con varias publicaciones donde nos comparte las bondades de Agile en el sector Legal. "
"El factor humano, normalmente identificado como el factor más débil, ha estado influyendo y modelando la realidad digital y computacional desde sus comienzos, jugando un papel muy relevante en momentos clave de la historia. Uno de estos momentos, probablemente el más significativo, fue el descifrado de Enigma, el código secreto utilizado por el ejército alemán, durante la Segunda Guerra Mundial.
El cine nos acercó este momento histórico, pero no ahondó en cómo los matemáticos que lo descifraron se dedicaron también a aplicar teoría del comportamiento.
El diseño de Enigma era complejo y excepcional: máquinas portátiles, que recuerdan una máquina de escribir, cuyo elemento fundamental es su sistema de rotores, un panel de clavijas y el circuito eléctrico que los conecta. Como si de las reglas de un juego se tratara, tenía dos características particulares en su diseño:
Las posibilidades de romper Enigma a base de fuerza bruta era 1 entre 158 billones. El  mismo Winston Churchill (¿primer 'behavioral scientist'?) escribió que sobre el éxito del criptoanálisis de enigma:
“Depende para su éxito más de un estudio de la psicología de las personas que envían los mensajes […] que de un estudio y análisis cuidadoso para el que no hay tiempo”
El factor humano conduce a la brecha de información: el primer caso de ingeniería social
Desde el punto de vista psicológico (sesgos, normas sociales, atención y fatiga…) se dieron una serie de elementos que facilitaron enormemente la labor de las fuerzas aliadas para descifrar Enigma:
Como resultado de todo lo anterior, la compleja seguridad de Enigma fue seriamente comprometida, lo que permitió a los aliados romper el código. La estimación dice que se acortó la guerra tres años, salvando un número ingente de vidas. El diseño era perfecto en el papel pero se pasaron por alto (ahora tenemos más información) sobre cómo sería la interacción máquina-humano u otros elementos del 'management'. Precisamente, esa complejidad de diseño y sofisticación, hicieron que las vulnerabilidades del factor humano se manifestaran aún más.
El conocimiento de estas máquinas ha servido para el posterior desarrollo de la computación, la criptografía, las comunicaciones... y, en definitiva, el mundo tal y como lo conocemos hoy. A algunas personas este artículo les puede resultar alejado de la banca, pero merece la pena mencionar que Arthur Scherbius, ingeniero e inventor alemán, construyó Enigma en 1920 con la idea de que sería utilizado por bancos y empresas comerciales para mantener sus comunicaciones en secreto.
Cuando nos preguntamos por qué la gente sigue usando contraseñas poco seguras, debemos también preguntarnos si los sistemas para creación de contraseñas pueden estar influyendo en estos errores. Las personas cometemos errores diariamente, aunque en la gran mayoría de los casos no los hacemos de forma deliberada. Hay 'multitasking', presión, sobrecarga de información… Lamentablemente los errores son explotados y a veces hasta inducidos de forma deliberada por los cibercriminales (con tanta eficacia como los magos del escenario nos desvían para que veamos lo imposible), por lo que comprender los factores humanos es crucial. E implementar medidas en consecuencia.
La capacitación y la información ayudan a que las personas eviten y/o corrijan sus errores cuando ocurren. La desconstrucción de los factores humanos, como se ilustra aquí, significa reconocer, también, que las personas cometen errores y diseñar posteriormente para anticiparnos y prevenirlos."
Los perfiles que se demandan en un banco han evolucionado, al igual que lo ha hecho la gestión del talento. Los bancarios y bancarias ya no llevan traje y visten ‘casual’, pueden teletrabajar desde casa y la sostenibilidad es un ‘must’ para ellos. Es decir, las normas son distintas y el talento que se demanda en las entidades financieras es muy diverso. Buena muestra de ello son las 2. 000 incorporaciones de desarrolladores que se van a llevar a cabo en BBVA en 2022 para el área de Ingeniería. Uno de esos perfiles técnicos que trabaja en BBVA es Rosalía Salas: estudió Matemáticas y en la actualidad es científica de datos en la unidad de Ingeniería del banco. “Nunca pensé que pudiera trabajar en un banco. Pero, por ejemplo, detrás de cosas tan cotidianas como sacar dinero de un cajero hay un conjunto de modelos predictivos y de optimización de rutas para planificar el dinero exacto que se tiene que disponibilizar. Esos son los modelos que los data scientist realizamos”, afirma.
Las vacunas Covid19 para niños más pequeños se examinarán lo antes posible una vez que los fabricantes de medicamentos soliciten autorización para ellas dijeron los reguladores de EE. UU. Y prometieron una revisión rápida en medio de la preocupación por los riesgos de infección que enfrentan los niños.Actualmente los estadounidenses de 12 años o más son elegibles para recibir una vacuna. Pero el reciente aumento de las infecciones alimentadas por la variante delta y el comienzo de un nuevo año escolar han aumentado los pedidos de inmunización para los niños más pequeños.La Administración de Alimentos y Medicamentos está preparada para completar su revisión lo más rápido posible probablemente en cuestión de semanas en lugar de meses Janet Woodcock comisionada interina de la Administración de Alimentos y Medicamentos y Peter Marks director del Centro de la agencia para la Investigación y Evaluación Biológicas dijo en un comunicado el viernes.Sabemos que ha habido preguntas y comentarios públicos sobre el proceso que rodea a las vacunas para niños pequeños por lo que creemos que es importante compartir información sobre el proceso y las consideraciones necesarias involucradas para brindar mayor claridad al público sobre este esfuerzo dijeron los funcionarios. .Hasta la fecha ninguna de las tres empresas cuyas vacunas han sido aprobadas en EE. UU. Ha solicitado autorización para su uso en niños más pequeños. La capacidad de los reguladores para evaluar rápidamente la seguridad y eficacia de las vacunas para los menores de 12 años dependerá de la calidad y puntualidad de las presentaciones de los fabricantes dijeron Woodcock y Marks.El presidente Joe Biden dijo en un discurso en la Casa Blanca el jueves en el que describió las nuevas medidas para frenar la pandemia que el gobierno equilibraría la necesidad de examinar cuidadosamente una vacuna frente a la situación urgente creada por el reciente brote.No podemos tomar atajos con ese trabajo científico pero he dejado en claro que haré todo lo que esté en mi poder para apoyar a la FDA con cualquier recurso que necesite para continuar haciendo esto de la manera más segura y rápida posible dijo. dijo.
"BBVA ha presentado BBVA Spark, su propuesta integral de servicios financieros para acompañar a las compañías innovadoras en sus distintas fases de crecimiento. Spark permitirá a estas compañías cubrir todas sus necesidades financieras en un mismo lugar, así como contar con productos de financiación sofisticados como el ‘venture debt’ o los ‘growth loans’. Para ello, BBVA Spark pondrá a su disposición un modelo de relación diferencial con un equipo de especialistas que hablan su propio idioma.
Innovación
BBVA ha adelantado durante la jornada de clausura de South Summit que está preparando una completa propuesta de servicios financieros adaptados a los distintos momentos de crecimiento de las ‘startups’ y ‘scaleups’. “Queremos ser el banco de las empresas de alto crecimiento y financiarles”, aseguró Roberto Albaladejo, responsable de Banking for Growth Companies, quien añadió que existe una “gran oportunidad” en ayudarles y construir con ellas “relaciones a largo plazo”.
BBVA Spark arranca su andadura en España y México con el objetivo de impulsar la innovación y ayudar en su crecimiento a las empresas que están definiendo el futuro con propuestas innovadoras, basadas en tecnología y con una estrategia de llegar rápidamente a nuevos mercados.
“Estas compañías recurren fundamentalmente a la financiación en capital de inversores privados. En gran medida por encontrarse en fases muy tempranas, pero también por la falta de un mercado de financiación bancaria desarrollado. En BBVA vemos una enorme oportunidad para acompañar a estas compañías de alto crecimiento”, resaltó David Puente, responsable Global de Client Solutions de BBVA durante la presentación de BBVA Spark.
Para ello, BBVA ha desarrollado una oferta integral que se adapta a las distintas etapas del ciclo de vida de estas empresas, desde sus fases iniciales hasta convertirse en grandes corporaciones, que combina con una experiencia de usuario única, al contar con su propia red de banqueros y asesores especializados, completamente dedicados a este segmento.
“Queremos ser un banco universal para las compañías de alto crecimiento con un objetivo claro: generar relaciones de largo plazo con estos clientes”, subrayó Roberto Albaladejo, responsable de BBVA Spark.
De este modo, las empresas dependiendo de la etapa en la que se encuentren podrán acceder a toda la oferta de productos para empresas de BBVA (nóminas, pagos, tarjetas, seguros, etc.), y a la financiación específica que necesitan gracias a un modelo de riesgos adaptado a la realidad de estos clientes y que permite tener una visión prospectiva de los negocios.
En concreto, BBVA Spark va a sumar a su oferta financiera modelos como el ‘venture debt’, muy habitual en otros mercados de innovación como Silicon Valley, pues permite a las compañías acceder a financiación bancaria y reducir la dilución sobre su participación accionarial que se produce en las rondas de financiación privada.
“Pondremos al servicio de nuestros clientes todas las capacidades de producto de BBVA”.
Innovación
Santiago Muguruza, responsable de Inversiones de Capital Riesgo en BBVA Spark, ha resaltado durante el evento B-Venture el importante papel que van a jugar las empresas disruptivas de rápido crecimiento en el desarrollo de las tecnologías necesarias para afrontar los retos de futuro. “Tienen modelos de negocio diferenciales y ambiciosos, equipos de primerísimo nivel y necesitan mucho apoyo e inversión”, subrayó Muguruza durante esta cita, a la que asistieron más de 100 ‘startups’ y 70 inversores y corporaciones.
La oferta de BBVA Spark se extiende también a las compañías tecnológicas en fases más avanzadas con financiación a través de productos como los ‘growth loans’, que permite a las compañías acometer proyectos de inversión, como entrar en nuevos mercados, u operaciones corporativas. Pero también con asesoramiento en operaciones de M&A o en la preparación de su salida a Bolsa, apoyándose en las capacidades de banca de inversión de BBVA: “En BBVA Spark pondremos al servicio de nuestros clientes todas las capacidades de producto de BBVA, lo cual nos permitirá atenderles desde sus fases más tempranas hasta que se conviertan en grandes corporaciones y pasen a ser atendidas por nuestros equipos de BBVA Corporate and Investment Banking”, reflexionó su responsable global.
Estos tipos de operaciones de financiación y asesoramiento se prestarán a través de equipos especializados, que acompañarán a las empresas en los momentos clave de su desarrollo.
La combinación de estos servicios financieros y asesoramiento con las inversiones en fondos de ‘venture capital’ y la conexión con el ecosistema de innovación es posible gracias a la organización de BBVA Spark, que gestiona también estas dos actividades, en las que BBVA tiene una larga trayectoria.
Fintech
Varios 'hubs' de innovación por toda América Latina dibujan un panorama del emprendimiento en ebullición, pero desigualmente distribuido: la capital de Brasil acumula un número creciente de unicornios, mientras que Lima trata de hacerse un hueco. Con sectores como 'fintech' o 'e-commerce' liderando la innovación y un apoyo creciente por parte de los inversores, Latinoamérica pisa con fuerza en el escenario internacional.
BBVA Spark incluye el área que decide la estrategia de inversión en fondos de capital riesgo. Estas inversiones incluyen Propel o Sinovation Ventures, y las últimas realizadas en Leadwind, Lowercarbon o Fifth Wall. “Sobre esta base, vamos a incrementar nuestras inversiones en estos fondos, apoyando a las empresas del futuro en cuatro verticales clave: compañías tecnológicas e innovadoras de alto crecimiento; ‘fintech’; activos digitales; y descarbonización”, añadió David Puente.
Además, BBVA Spark integra las actividades de Open Innovation para impulsar el ecosistema de innovación y la colaboración de ‘startups’ con el banco.
La nueva unidad nace con el objetivo de crecer y consolidarse como el banco de referencia para apoyar el crecimiento de las empresas que están definiendo el futuro. Los clientes pueden registrarse digitalmente a través de su página web y tendrán a su disposición toda la red de BBVA.
En los próximos meses, BBVA Spark se extenderá al resto de los países donde BBVA tiene presencia."
"Con acciones que se comprometen con el desarrollo sostenible, ambas organizaciones trabajan  en conjunto para buscar soluciones que impulsen el acceso al agua potable en comunidades vulnerables del interior del país.
En Argentina se consume un promedio de 180 litros diarios por persona, casi cuatro veces más que lo aconsejado por la Organización Mundial de la Salud. Además, la huella hídrica que deja en promedio cada argentino por día no baja de los 4400 litros, según un reporte de la Unesco. Al mismo tiempo se sabe que la mitad de las 18.000 escuelas rurales, tienen una necesidad concreta de agua segura.
En línea con sus prioridades estratégicas, BBVA entiende a la sostenibilidad no sólo como una oportunidad de negocio, sino también como el compromiso de trabajar por  un mundo más incluivo. En ese sentido, BBVA financió la construcción de un sistema de recolección de agua de lluvia denominado SCALL,  junto a la Fundación Aguas, ofreciendo una solución sostenible a la falta de agua en escuelas de la localidad Pampa del Infierno, en la provincia de Chaco.
El sistema de captación de agua de lluvia (SCALL) es una técnica que permite aprovechar el agua de lluvia para el uso y consumo humano, es una opción complementaria a otros sistemas con los que se pueden contar como abastecimiento del preciado líquido. Brinda agua segura a gran número de personas e instala capacidad para la autogestión del recurso con programas educativos y capacitación del personal.
Finanzas Sostenibles
El presidente de BBVA, Carlos Torres Vila, ha anunciado este miércoles que la entidad aumentará un 50% su objetivo de movilizar financiación sostenible. “La sostenibilidad es una oportunidad de negocio”, porque la cantidad de inversión requerida es inmensa (275 billones de dólares hasta 2050), ha explicado en la reunión anual del Institute for International Finance (IIF), celebrada en Washington. En este sentido, ha señalado que el banco está canalizando financiación sostenible “a un ritmo realmente rápido”, que llevó en junio pasado a que superase el objetivo que se marcó en un inicio para 2025. Por ello, “hoy quiero anunciar que aumentamos de nuevo nuestro objetivo hasta los 300.000 millones de euros en el periodo 2018-2025”, ha declarado.
“En BBVA nos comprometemos con el cuidado del  ambiente y en este sentido,  tomar conciencia de la importancia de nuestros recursos es fundamental. Por eso nos dedicamos a ello y ayudamos a la comunidad a lograrlo, en este caso,  enfocados en la importancia que tiene el agua para la población”, manifestó María Deleonardis, principal manager de Negocio Responsable de BBVA.
Por su parte, Juan Lapetini, director de Fundación Aguas señaló que en el caso de las escuelas de  Pampa del Infierno, la ayuda consistió en la instalación del sistema SCALL, que cuenta con una cisterna de 52.000 litros para la cosecha de agua de lluvia. “Pero no sólo se trata de eso. A esta obra se suma “un proceso educativo integral que lo que busca es concientizar para que este tipo de tecnología se pueda utilizar correctamente y que la comunidad se pueda apropiar de él”.
En ese sentido, la alianza estratégica entre BBVA y Fundación Aguas busca profundizar el camino en la lucha contra el cambio climático y en favor de la inclusión social, contribuyendo al Objetivo de Desarrollo Sostenible (ODS) n° 6 Agua limpia y saneamiento.
BBVA y Fundación Aguas visitaron las escuelas E.E.P.657 y  E.E.P.65 de Pampa del Infierno, en las que fueron recibidos por estudiantes, docentes y autoridades de las escuelas. Entregaron el KIT escolar Caja del Manual de Agua que forma parte del material utilizado en las capacitaciones a los alumnos y compartieron distintas actividades con la comunidad educativa.
En el encuentro con los alumnos de primero, segundo y tercer grado se compartieron distintas demostraciones sobre el uso correcto del agua. Entre otras cosas, presentaron obras de teatro, maquetas, videos y capacitaciones. De esta forma, pusieron en práctica de manera creativa lo aprendido en los últimos meses sobre el cuidado del agua.
En la escuela secundaria EEP. 63 junto a docentes y autoridades pudieron apreciar cómo funciona el sistema de cosecha de agua de lluvia (SCALL)."
Las plataformas de domicilios fueron uno de los jugadores más importantes de la pandemia pero acabando el confinamiento es hora de pasar la página y enfocarse en los temas de fondo del sector. Felipe Ossa CEO de Domicilios.com dijo que es muy bueno que se empiece a hablar de regulación aunque dijo que si Colombia no resuelve rápido las reglas de juego el país se quedará rezagado.Cuánto crecieron en pandemia es sostenibleTodas las plataformas crecieron sobre todo al inicio de la cuarentena. En el momento en que las personas empiezan a salir de sus casas se ve un repunte de los restaurantes lo que ha tenido un impacto negativo para las plataformas y pero se agrandó la base de usuarios y hay una base sobre la cual construir.Ahora es muy difícil prever qué va a ocurrir porque vamos de la mano de las definiciones del Gobierno y vemos que países que van más adelantados en la pandemia han vuelto a cerrar.Qué planes tienenHablar de planes en este momento es complejo. Estamos trabajando en el ideal que es ser la mejor opción delivery y actualmente estamos esperando la autorización de la SIC para fusionarnos con iFood.Qué opinan de los avances regulatoriosSomos parte de un ecosistema más allá de los domiciliarios en el que estamos todos. Nuestra filosofía de negocio es que tenemos que hacer las cosas bien aportarle valor a cada actor del ecosistema.Desde el punto de vista de los domiciliarios eso significa la oportunidad de generar ingresos flexibilidad y seguridad y salud pero nos dimos cuenta que tienen dos retos uno netamente financiero y dos la complejidad alrededor del sistema.Por eso decidimos dos cosas primero pagarles más para que no sientan en su bolsillo los aportes a seguridad social y segundo hacemos toda la gestión operativa. Cuando entran firman dos contratos de prestación de servicios son contratistas independientes y el otro un contrato de mandato que nos autoriza a hacer los aportes.Se necesita una reforma integral para velar por los derechos de los trabajadores y prestadores de servicios que permitan la operatividad legal de los nuevos negocios digitales.Están bien enfocados los proyectosNo quiero tomar partido en ninguno de los proyectos pero es muy positivo que la conversación se esté dando. Es un universo mucho más grande de personas que van a participar en el futuro de esta industria pero se necesita que se entienda cómo funciona esta industria la economía colaborativa llegó para cambiar radicalmente la manera de prestar servicios.Estas demoras en la regulación hacen que Colombia sea un país atractivo para la inversión de las plataformasEsta conversación está ocurriendo en diferentes niveles de madurez en todos los países del mundo. Somos una entidad dentro de un grupo muy grande que opera más de 40 países y es donde se toman decisiones estratégicas de en dónde se invierte. Nos hemos atrasado mucho en empezar la conversación. Si después de todo esto seguimos en el limbo definitivamente como país nos vamos a quedar un poco atrasados.Qué opina de lo que dispone el Plan MarshallEs demasiado importante tener una conversación abierta. Sí las plataformas crecimos nuestro volumen de negocio en pandemia pero gran parte no se tradujo en utilidad y esta clase de impuestos desconoce la realidad de cómo operamos es sin duda un freno tecnológico.
El regulador bancario de China dijo que las recientes medidas para frenar el monopolio de las empresas de tecnología financiera y que han afectado fuertemente a gigantes como Ant Group de Jack Ma no apuntaban a ninguna empresa específica y han sido bien recibidas en la industria.Algunas de las empresas tienen una actitud relativamente positiva hacia los nuevos requisitos y han logrado efectos iniciales en sus esfuerzos de rectificación dijo Liang Tao vicepresidente de la Comisión Reguladora de Banca y Seguros de China en una sesión informativa en Shanghái hoy viernes sin entrar en detalles.Funcionarios han revelado una serie de nuevas reglas para contener su floreciente industria de tecnología financiera y evitar que algunas empresas se vuelvan demasiado poderosas. Las medidas obligaron a cancelar una Oferta Pública Inicial de US 35 mil millones de Ant Group en noviembre y las autoridades han ordenado a la firma volver a sus raíces como proveedor de pagos en línea.Las nuevas reglas diseñadas para evitar la formación de monopolios y competencia desleal están alineadas con el apoyo al desarrollo estable a largo plazo de las empresas privadas dijo Liang. Al tomar las medidas las plataformas de Internet pueden volver a servir a la economía real y convertirse en una fuerza importante para apoyar el crecimiento económico dijo.En la misma sesión informativa el director de riesgos del ente regulador Xiao Yuanqi dijo que los funcionarios están monitoreando los riesgos en las empresas dedicadas a la financiación colectiva en el sector de la atención médica y tomarán las medidas correspondientes.El banco central de China anunció el viernes que las empresas de pagos no bancarios deberán comenzar a colocar sus reservas en el banco o en bancos comerciales elegibles y que las transferencias de reservas deben ser realizadas por cámaras de compensación calificadas. Las regulaciones entrarán en vigencia el 1 de marzo pero las compañías tendrán un período de gracia de seis meses para cumplir plenamente.
JPMorgan dijo el lunes que los cambios regulatorios chinos eran un problema local más que global y que el banco seguía sobreponderado las acciones de los mercados emergentes.El banco dijo que si bien es probable que continúe la revisión de la regulación China evitaría cambios que causen un impacto en el crecimiento económico.Las acciones chinas sufrieron una gran liquidación la semana pasada con el índice referencial CSI300 registrando su peor mes en casi tres años luego de una serie de medidas regulatorias dirigidas a los sectores de educación superior tecnología y propiedad.Vemos el riesgo de más cambios regulatorios en China como un problema local más que global escribieron analistas de JPMorgan en una nota fechada el lunes.Dada la corrección sustancial en los segmentos de mercado afectados este riesgo parece estar ya descontado y podría disminuir a partir de aquí agregó.JPMorgan dijo que seguía sobreponderando las acciones de los mercados emergentes ya que excluyendo el riesgo regulatorio de China las complicaciones para dichos mercados parecían estar disminuyendo.Se esperaba que convergieran los diferenciales de crecimiento ganancias y tasa de vacunación entre los países emergentes y desarrollados señaló el banco.Aunque el crédito chino estaba cerca del mínimo y las valoraciones amplias parecían excesivas el banco señaló que se esperaba que la volatilidad a corto plazo se mantuviera alta.
Bancolombia y Prosegur Alarms se unen con el fin de ofrecerle a los usuarios de la solución Tu360Inmobiliario los servicios que ofrece la empresa de seguridad para cuidado de las personas y sus bienes inmuebles.Esta se convierte en la primera alianza estratégica en el país y en Latinoamérica entre empresas líderes del sector de la banca y de la seguridad. Bancolombia brindará la posibilidad de que las personas accedan a créditos inmediatos para la contratación de estos servicios a través de Tu360Inmobiliario.Para Bancolombia esta alianza significa una valiosa oportunidad para seguir entregando soluciones integrales a sus clientes y usuarios en este caso desde Tu360Inmobiliario. La seguridad del hogar es indispensable y unidos a Prosegur empresa líder en el monitoreo de alarmas ofreceremos un portafolio diferencial que les permita tener tranquilidad y protección para sus activos expresa Cristina Arrastía vicepresidenta de Negocios de Bancolombia.Entre los retos que enfrentan está ampliar el acceso de las personas a las opciones con que hoy cuentan empresas como Prosegur y fomentar una cultura de la prevención en seguridad en los hogares.Por su parte Ana Carolina Ramírez Amaya directora general de Prosegur Alarms Colombia asegura que esta alianza representa una apuesta importante para poder ofrecer una mejor calidad de vida a las personas gracias a servicios de seguridad de última tecnología accesibles a los hogares colombianos y poder contar así con entornos más seguros para las personas. Ser aliados de Bancolombia un banco que cuida a las personas en esta iniciativa tiene un gran valor para Prosegur.De acuerdo con la empresa de seguridad la penetración del mercado de alarmas en Colombia representa 1 una gran diferencia si se compara con otros mercados de la región.
Los precios al consumidor subieron 238 en agosto respecto al año anterior impulsados por productos básicos como los huevos y el azúcar en comparación con un aumento de 222 en julio según mostraron los datos publicados el viernes.El banco central al mantener la tasa de política clave sin cambios en el nivel más alto desde 2015 dijo el jueves que las presiones sobre los precios habían disminuido levemente debido a una caída más rápida de lo esperado en los precios mundiales del combustible y un aumento más lento en el costo de algunos vegetales. Esperaba una inflación en agosto de 23.Aun así la inflación sigue siendo un dolor de cabeza para los responsables políticos ya que la guerra golpea la economía y afecta tanto el suministro como los costos de transporte. La devaluación de la hryvnia a fines de julio estuvo por detrás de la tasa que ya se usa en el mercado según Oleksiy Blinov jefe de investigación de Alfa Bank Ucrania con sede en Kyiv.No tuvo un gran impacto en los precios en agosto dijo Blinov quien prevé una inflación de fin de año de 28 en comparación con el pronóstico del banco central de 31.
BBVA acompañó la realización de la primera edición de Impulsando Argentina un evento organizado por Unión Argentina de Jóvenes Empresarios UNAJE que se dio cita en la Torre BBVA en Buenos Aires.El encuentro se inició con la participación de Martín Zarich presidente de BBVA en Argentina en el panel titulado Consensos Económicos que invitó a reflexionar desde distintos ángulos los acuerdos políticos que se requieren para el crecimiento de Argentina tanto desde el sector público pero también del sector privado.Martín Zarich explicó Tanto el sector público como las empresas tenemos que tener el compromiso y hacer un diagnóstico sobre las necesidades de la sociedad y así generar los consensos necesarios. Es central hacer sentir la voz de nuestro sector en relación a las necesidades del país para poder crecer.Seguidamente Cecilia Todesca Bocco secretaria de Relaciones Económicas Internacionales de la Cancillería argentina indicó que hoy hay sectores que Argentina tiene para desarrollar y hacer crecer y concluyó que teniendo la mano de obra la tecnología la ciencia y sectores como los recursos naturales podríamos pensar una hoja de ruta basada en eso entre el sector público y el privado.Por su parte el diputado nacional y vicepresidente de la Comisión de Presupuesto y Hacienda de la Cámara de Diputados Luciano Laspina resaltó Para construir un diálogo debemos tener una base de acuerdos o ideas en común para el futuro de nuestro país. Ese es el consenso que necesitamos.Por último Carlos Cirimelo CEO de Grupo Logístico Andreani remarcó que asumir riesgos está en la genética de las empresas y el sector privado pero se necesita que el sector público genere las políticas públicas acordes y ampliar los caminos para que crezcamos como sociedad.Este primer panel contó con Florencia Donovan como moderadora especializada en economía y negocio y columnista del diario La Nación.Como segunda instancia de debate el moderador Diego Pasjalidis CCO y director de Innovación de Stefanini Group y miembro de la Comisión Directiva del Buenos Aires Tech Cluster ahondó en el interrogante de cómo hacer que Argentina adopte un papel protagónico en la región ante la oportunidad que significa la Economía del Conocimiento.Por su parte Matías Peire CEO y CoFundador de GridX explicó que necesitamos cambiar la matriz productiva para poder expandir las fronteras de crecimiento tecnológico.A su vez la directora de Global Learning  DEI en Globant Melina Masnatta contó que nos propusimos entender qué pasó en post pandemia dentro del sistema de las tecnologías y descubrimos que el 41 de las entrevistadas recibió un crecimiento en su sueldo pero somos minorías las que ejercemos nuestro mundo laboral dentro de las tecnologías. Por eso en el desarrollo de las tecnologías vemos la brecha y redistribución de los equipos diversos. En esta misma línea de pensamiento y desafíos Nahuel Lema cofundador de Coderhouse explicó Todas las empresas de hoy son tecnológicas y están apostando a generar y crear la chispa en los trabajadores. Ese futuro genera las habilidades para reinventar y tener un mejor futuro como sociedad.Seguidamente Marcelo Scaglione exSubsecretario del Ministro de Hacienda y Representante de Argentina ante OCDE se centró en los desafíos que enfrentan los países dentro del movimiento global del mundo digital Tenemos una gran capacidad de crecimiento y talento en Argentina. Además de la tecnología para crecer y exportar. Esta es una política de Estado que se continuó a lo largo de los años y ese es un activo a aprovechar porque el mundo lo necesita.El evento continuó con el tercer panel de debate donde expuso la fundadora de la Fundación Multipolar Malena Famá quien en post de concientizar sobre la educación y el empleo comentó la labor que se realiza constantemente para promover nuevas vías de inserción laboral de personas en situación de calle. Y alentó a las empresas presentes a brindar oportunidades laborales reales a este colectivo vulnerable.Por último y cómo cierre de la jornada organizada por UNAJE el debate se centró en torno a pensar en los próximos pasos que llevarán a Argentina hacia el 2030.Moderados por Rosendo Grobocopatel coordinador de Comunicación del Pro María Migliore ministra Desarrollo Humano y Hábitat de la Ciudad de Buenos Aires Juan Manuel Valdés legislador de la Ciudad de Buenos Aires Joaquín Zoilo Vedoya presidente de UNAJE y Marysol Rodríguez secretaria de la Unión Industrial Argentina Joven conversaron sobre propuestas concretas en materia de producción y empleo para que sean cada vez más las empresas nacionales que se sumen al objetivo de crecimiento del país.
El regulador de los mercados de Nigeria publicó un conjunto de regulaciones para los activos digitales lo que indica que el país más poblado de África está tratando de encontrar un término medio entre una prohibición total de los criptoactivos y su uso no regulado.El año pasado el banco central de Nigeria prohibió a los bancos e instituciones financieras negociar o facilitar transacciones en monedas digitales.Pero la población joven y experta en tecnología del país ha adoptado con entusiasmo las criptomonedas por ejemplo utilizando el comercio entre pares ofrecido por los intercambios de criptomonedas para evitar la prohibición del sector financiero.La Comisión de Bolsa y Valores de Nigeria SEC publicó las Nuevas reglas sobre emisión plataformas de oferta y custodia de activos digitales en su sitio web.El documento de 54 páginas establece los requisitos de registro para las ofertas y custodios de activos digitales y clasifica los activos como valores regulados por la SEC.La SEC nigeriana dijo que no se permitiría el intercambio de activos digitales para facilitar el comercio de activos a menos que haya recibido una decisión de no objeción de la comisión.Se requerirá que un intercambio de activos digitales pague 30 millones de naira US72.289 como tarifa de registro entre otras tarifas.En octubre Nigeria lanzó una moneda digital eNaira con la esperanza de ampliar el acceso a la banca. Las monedas digitales oficiales a diferencia de las criptomonedas como el bitcoin están respaldadas y controladas por el banco central.
En las últimas décadas las empresas globales han redefinido sus estrategias de producción por medio del outsourcing externalización para aprovechar las ventajas en costos de producción que la operación en otro país representa. Gerónimo Ugarte Bedwell economista principal de  BBVA México explica en su artículo Financiamiento bancario potenciaría valor en redes de nearshoring publicado en el periódico El Economista los desafíos que trae la externalización nearshoring o el traslado de la producción a un país cercano por razones geográficas o culturales.Ugarte señala que mientras que el offshoring proceso de producción en geografías lejanas a la empresa matriz permite ventajas de rentabilidad operativa el nearshoring como un esquema de producción cercana en el país donde se ubica la matriz de la empresa ayuda a mitigar riesgos geográficos y culturales v.gr. al hablar el mismo idioma que la producción en otro país puede representar incluso si algunos de los insumos no tienen un costo unitario menor.Para el economista el nearshoring es una alternativa que constituye un mecanismo de balance de riesgos para las empresas transnacionales por lo que en el caso de México aplicado a las empresas estadounidenses por las ventajas competitivas de productividad geográficas de mano de obra y culturales que además le otorga certeza al TMEC ha redireccionado operaciones fuera de China con lo cual se han generado oportunidades de inversión reflejadas en las regiones industrializadas como el Bajío y la frontera Norte.El nearshoring es una alternativa que constituye un mecanismo de balance de riesgos para las empresas transnacionalesEn su análisis Ugarte puntualiza cómo estas nuevas formas de operación benefician a las redes productivas porque fortalecen la rentabilidad y mitigan los riesgos que pueden existir en el entorno global empresarial. Asimismo retoma el caso de México en el que las industrias integradas a cadenas globales de valor como la automotriz poseen arquitecturas de tipo estrella en las cuáles la planta nearshore representa el nodo de menor excentricidad a nivel local esto es la mayor distancia al resto de los nodos es de pocos pasos en la cadena logística facilitando los flujos de valor e información a través de la red.De acuerdo con el especialista el nearshoring en el país más allá de provocar un balance de los riesgos para empresas estadounidenses localmente le da un gran impulso a la inversión pero también podría ayudar a que se formen las llamadas redes generatrices de valor complementarias como las empresariales para proveedores pymes y microempresas además de tener impacto en términos laborales de logística y financieros.InflaciónCarlos Serrano Herrera economista Jefe de BBVA México expone en la columna Inflación niveles muy elevados pero algunas buenas señales publicada en el periódico El Financiero un análisis sobre el momento que atraviesa la economía en torno a la elevada inflación que aun cuando seguirá elevada se prevé que para 2023 empezará a disminuir significativamente.El economista principal de BBVA México señala que por las facilidades regulatorias y el respeto del marco legal vigente tanto mercantil como internacional se desarrolla una cercanía en la red de valor transnacional aumentando el atractivo de un país como receptor de flujos de capitales en forma de nearshoring. Es por ello que advierte que las instituciones financieras principalmente la banca comercial pueden ser fundamentales para otorgar recursos financieros para la construcción de una estructura de redes solvente que potencie las derramas de valor generadas por dicha inversión.Al cierre de su análisis Ugarte detalla que la banca comercial se encuentra ante el gran desafío de evolucionar para acoplarse de forma ágil y veloz a la continua transformación que el nearshoring implica lo que requiere sinergia entre la operación de clusters industriales transnacionales y el financiamiento bancario.El artículo se publicó en El Economista el 14 de julio de 2022 y puede consultarse en este link.
Fitch Ratings afirmó la calificación nacional de calidad de administración de inversiones de Bbva en Excelentecol de Bbva Asset Management S.A. La calificación aplica únicamente para la gestión de recursos de fondos de inversión colectiva pasivos pensionales y portafolios individuales de inversión de activos tradicionales locales e internacionales.Esta categorización refleja el proceso de inversión sobresaliente de Bbva Fiduciaria el cual tiene fuerte sinergia con el Grupo Bbva. Este se basa en un análisis fundamental respaldado en análisis técnico incorpora varias instancias de discusión y decisión lo que a su vez se apoya en modelos cuantitativos y portafolios de referencia internos para los Fondos de Inversión Colectiva FIC y fideicomisos que lo soliciten.La compañía además ha establecido una estructura rigurosa de riesgos controles y lineamientos robustos de gobierno corporativo. La agencia destaca el proceso disciplinado de monitoreo medición y pruebas de estrés sobre la gestión de riesgos financieros así como su constante mejora. La calificación también toma en cuenta las sinergias y el amplio respaldo de la filial colombiana así como de su casa matriz en España.La firma calificadora identifica como retos principales implementar controles automáticos de tipo ex ante o ex post desde el área front office sobre la política de inversión de los portafolios además de lograr la integración con las plataformas transaccionales y mayor automatización en el flujo de la operación. El área de riesgos presentó una rotación alta en los últimos tres años por lo que Fitch estará atenta a su consolidación en el mediano plazo.Para dicha empresa Bbva Fiduciaria tiene un proceso de inversión robusto consistente con su estrategia y objetivos de inversión los cuales están claramente definidos. La filosofía de inversión se enfoca principalmente en un análisis topdown y también cuenta con análisis fundamental de compañías del mercado local. Las decisiones de inversión se soportan en modelos cuantitativos internos en los que se evidencia constante mejora.Así mismo integran la investigación de mercado de Bbva Research Colombia y el grupo de análisis de Bbva Global Investment Strategy GIS. Las discusiones se formalizan en comités locales regionales y globales. Destaca la realización de ejercicios de performance attribution atribución de desempeño para medir el desempeño de FIC.Fitch observa un marco de control de riesgos robusto con políticas documentadas en manuales aplicables a todo el grupo y encaminadas a velar por la actuación correcta en el mercado de valores. Incorpora además diversos comités de supervisión que respaldan la labor de la Junta Directiva. Cuenta con un proceso disciplinado de monitoreo medición y pruebas de estrés sobre la gestión de riesgos financieros que es actualizado constantemente.Para las políticas de inversión existe un control ex post diario por parte del área de riesgos. El sistema interno tiene parametrizado los cupos por emisor sin embargo este es asignado de manera global y no por portafolio lo que limita la efectividad del control. Sobresale la estructura de remuneración variable en el área de gestión de activos que promueve la alineación de intereses con los clientes así como la política fuerte y detallada para el control de inversiones personales y los mecanismos formales de preasignación de operaciones.
"BBVA invertirá un total de 15 millones de euros en Leadwind, un fondo de capital riesgo gestionado por K Fund. En esta primera fase, el fondo acumula 140 millones de euros con los que apoyará a empresas tecnológicas en España, Portugal y Latinoamérica.
Leadwind ha logrado compromisos de capital de inversores corporativos como Telefónica, BBVA, Global Omnium a través de GoHub, y SATEC, entre otras, así como inversores institucionales como AXIS-ICO a través de la iniciativa Fond-ICO Next Tech y distintos ‘family offices’.
La intención de K Fund es llegar a reunir hasta 250 millones de euros, por lo que sigue abierto a nuevos inversores. BBVA y el resto de socios no solo contribuirán con capital, sino que aportarán a las empresas de la cartera del fondo el conocimiento de sus respectivos negocios y mercados. Leadwind representa la mayor captación realizada por una gestora independiente en España y una oportunidad para promover una nueva ola de emprendimiento y la creación de tecnologías punteras que compitan a nivel mundial.
Su objetivo es realizar inversiones en empresas basadas en tecnologías habilitadoras como IoT, redes, servicios en la nube, AI o ‘blockchain’, alrededor de las cuales se prevé que se creen nuevos negocios e industrias prometedoras e impactantes.
Innovación
BBVA ha presentado BBVA Spark, su propuesta integral de servicios financieros para acompañar a las compañías innovadoras en sus distintas fases de crecimiento. Spark permitirá a estas compañías cubrir todas sus necesidades financieras en un mismo lugar, así como contar con productos de financiación sofisticados como el ‘venture debt’ o los ‘growth loans’. Para ello, BBVA Spark pondrá a su disposición un modelo de relación diferencial con un equipo de especialistas que hablan su propio idioma.
“En BBVA estamos comprometidos en apoyar al ecosistema emprendedor y fomentar la innovación a través de inversión, servicios bancarios y financiación. Nuestra participación en Leadwind nos permitirá estar más cerca de compañías con un alto componente tecnológico en fase de crecimiento acelerado o ‘scaleup’, las cuales ya cuentan con un modelo de negocio probado y necesitan financiación para crecer y llegar a nuevos mercados”, explica Roberto Albaladejo, responsable de Banking for Growth Companies de BBVA.
Fundado en 2016, K Fund comenzó como un fondo para etapas tempranas centrado en el mercado español y en las etapas pre-semilla y semilla. La firma fue uno de los primeros inversores institucionales en invertir en empresas como Factorial, Exoticca, Abacum y La Gran Familia Mediterránea.
Leadwind es la evolución natural de un proceso iniciado hace más de cinco años y supone una importante expansión geográfica, sectorial y de etapas para la firma. Prevé un cierre final de 250 millones de euros, y una capacidad para realizar inversiones de, al menos, cinco millones de euros.
El fondo, que estará liderado por un equipo de antiguos operadores con experiencia en el crecimiento y gestión de ‘scaleups’ como CARTO, Stripe o Tinybird, se centrará en realizar inversiones de Serie A+ en el sur de Europa y Latinoamérica. “El ecosistema local está preparado; vemos a diario grandes emprendedores a nuestro alrededor, desde Barcelona o Madrid hasta Lisboa, Oporto o São Paulo, demostrando que Silicon Valley es una actitud, abordando proyectos complejos sin miedo y creando proyectos globales ganadores”, afirma Miguel Arias, partner de K Fund.
“Las ‘scaleups’ son factores críticos en la creación de puestos de trabajo de calidad y riqueza”.
Emprendimiento
Detrás de las llamadas ‘scaleups’ se encuentran emprendedores con un negocio ya probado y que ahora buscan ayuda para redimensionar ese modelo. ¿Cuál es el perfil de estas compañías?
“Todos estos ecosistemas cuentan con universidades de prestigio, acceso a talento sofisticado y experimentado y redes crecientes de emprendedores que tuvieron éxito en el pasado y que están ayudando a crear redes de confianza para los recién llegados. También hay un fuerte apoyo público y empresarial, ya que ahora se entiende bien que las ‘scaleups’ son factores críticos en la creación de puestos de trabajo de calidad y riqueza, con un crecimiento previsto del 10% año tras año hasta 2025, tal y como se recoge en el Informe Europeo sobre Startups”, afirma Arias.
El equipo cree que la combinación del tamaño del fondo, la experiencia previa de sus gestores como emprendedores y operadores, así como la profunda intimidad que se creará con los fundadores debido a la proximidad local, se convertirán en atributos clave en sus mercados objetivo.
En los últimos años, más de 1.000 ‘scaleups’ han recaudado entre 1 y 5 millones de euros en el sur de Europa y Latinoamérica, lo que ilustra la oportunidad de un mercado creciente. El equipo de Leadwind ha contactado de forma proactiva con más de 150 ‘scaleups’ hasta la fecha y la cartera de proyectos seguirá creciendo en un futuro próximo. “Ya hemos conocido a algunos grandes equipos que han desarrollado tecnologías increíbles, y no podemos esperar a asociarnos con ‘scaleups’ para ayudarles a llegar a la siguiente fase y a competir a nivel mundial”, añade Arias."
Un indicador clave de la inflación de EE. UU. se aceleró en agosto mientras que el gasto del consumidor aumentó lo que sugiere resistencia entre los hogares estadounidenses frente al aumento de los precios en toda la economía.El índice de precios de gastos de consumo personal que la Reserva Federal utiliza para su objetivo de inflación subió 03 respecto al mes anterior superando las estimaciones. Desde hace un año el indicador subió 62 también más alto de lo previsto y muy por encima de la meta de 2 del banco central.Excluyendo alimentos y energía el índice de precios subió 06 en el mes y 49 desde agosto de 2021 según mostraron el viernes datos del Departamento de Comercio. Ambos marcaron una aceleración en la inflación respecto al mes anterior y superaron las expectativas de los economistas.Los bonos del Tesoro de EE. UU. avanzaron mientras que las acciones fluctuaron en la apertura de operaciones del viernes.Al igual que el índice de precios al consumidor del Departamento de Trabajo a principios de este mes las últimas cifras subrayan la amplitud y profundidad del problema de inflación de la Fed. La semana pasada el banco central elevó las tasas de interés en 75 puntos básicos históricamente una vez más e indicó un camino de ajuste más agresivo para los próximos meses de lo que se pensaba anteriormente.Las compras de bienes y servicios ajustadas por cambios en los precios aumentaron 01 el mes pasado luego de una caída de 01 en julio. Ayudados por una caída en los precios de la gasolina y respaldados por ganancias salariales sostenidas y un mercado laboral sólido los estadounidenses aumentaron el gasto en servicios.La durabilidad de la demanda de los consumidores ha sido una fuente clave de apoyo para la economía pero también ha contribuido a las persistentes presiones sobre los precios.No está claro cuánto tiempo pueden seguir gastando los estadounidenses a ese ritmo. La deuda del consumidor incluidas las tarjetas de crédito está en su punto más alto para 90 inferior de los hogares estadounidenses. El informe del Departamento de Comercio mostró que la tasa de ahorro se mantuvo en un mínimo histórico de 35.Mientras tanto las rápidas subidas de tipos del banco central están destinadas a desacelerar la economía y debilitar la fuente clave del poder adquisitivo el mercado laboral.El último informe sobre el producto interno bruto mostró revisiones al alza del índice de precios PCE y la medida subyacente para el primer y segundo trimestre. También mostró una clara desaceleración de la actividad económica en la primera mitad del año y una importante revisión a la baja de los ingresos reales disponibles.Los ingresos personales sin ajustar por inflación aumentaron 03 por segundo mes. El crecimiento de los sueldos y salarios se desaceleró subiendo 03 en agosto el menor avance desde principios de año. Esa es una buena señal para la Fed ya que busca enfriar el ritmo de crecimiento de los salarios.El presidente de la Fed Jerome Powell reiteró la semana pasada el compromiso del banco central de restaurar la estabilidad de precios e indicó que el público estadounidense tendrá que soportar cierto dolor para que la inflación vuelva a su objetivo. Una de las cosas clave que buscan los formuladores de políticas es un mayor equilibrio en la oferta y la demanda laboral que ayudaría a aliviar la presión sobre el crecimiento de los salarios dijo.Los últimos datos mostraron que el gasto en bienes ajustado por inflación disminuyó por segundo mes mientras que los gastos en servicios aumentaron 02. El informe destaca un cambio continuo en los patrones de consumo en el que los estadounidenses asignan una mayor parte de sus ingresos discrecionales a los servicios y no a los bienes. Sin ajustar por inflación el gasto subió un 04 tras caer el mes anterior.Un informe separado el viernes mostró que las expectativas de inflación a largo plazo de EE. UU. continuaron disminuyendo en septiembre lo que ayudó a impulsar la confianza aunque las condiciones de compra de bienes duraderos como automóviles y electrodomésticos se mantuvieron cerca de un mínimo histórico.Los últimos resultados trimestrales de CarMax Inc. son un claro ejemplo de los crecientes obstáculos a los que se enfrentan muchas empresas. El distribuidor de autos usados dijo el jueves que la capacidad de los compradores potenciales para pagar los vehículos se ha vuelto un desafío en un contexto de aumento de los costos de los préstamos inflación generalizada y persistente y el cambio en las preferencias de gasto.El IPC  que suele ser más alto que el índice de precios del PCE se aceleró en agosto con una ganancia generalizada. Año tras año el IPC subió un 83 en agosto. Si bien Powell ha dicho que el índice de precios PCE es un mejor indicador de la inflación los responsables políticos observan de cerca ambas medidas.
Desde que empezara a finales de febrero la invasión rusa de Ucrania se está examinando a fondo la dependencia europea del gas natural importado de Rusia con dos objetivos principales. Por un lado hasta qué punto en cantidades y plazos puede la Unión Europea UE recortar esta vinculación y por otro qué impacto tendría que Rusia dejara de exportar gas a la UE.Y es que el conjunto de la Unión importó en 2021 desde Rusia un total de 155 billones americanos de metros cúbicos bcm de gas representando el 38 del consumo de la UE ese mismo año cifras que están reduciéndose a toda prisa.3010AudioBBVA PodcastReproducirBBVA PodcastEn línea con el plan REPowerEU de la Comisión Europea de poner fin a la dependencia respecto a los combustibles fósiles rusos se están llevando a cabo varias actuaciones. En primer lugar la sustitución de alrededor de 50 bcm anuales de gas ruso por mayores importaciones por gasoductos principalmente desde Noruega y por gas natural licuado GNL transportado por metaneros. En lo que llevamos de 2022 ya se ha avanzado bastante y con los datos provisionales de las importaciones del primer semestre se concluye que la substitución de 50 bcm de gas ruso es realista. Sin embargo superar de forma significativa estos niveles a corto plazo no va a ser posible debido tanto a la ausencia de gas disponible de ser importado como a la escasez de metaneros y de terminales de GNL en Europa infraestructuras que tardarán años en construirse.En segundo lugar se está produciendo un ahorro de gas y el consumo ha caído un 10 en el primer semestre de 2022 respecto a 2021. Si extrapolamos este dato al conjunto del año estaríamos hablando que en el presente ejercicio se consumiría en torno a 40 bcm menos que en 2021 esto sin contar con todas las medidas que van a ser impulsadas para el segundo semestre con el fin de reducir la demanda de gas.Además existen iniciativas muy positivas de impulso a las energías renovables que tendrán efectos a mediolargo plazo y no tanto para el próximo invierno. Por citar algunas acelerar el despliegue del hidrógeno duplicar la capacidad solar fotovoltaica de aquí a 2025 y elevar la cuota de energías renovables al 45 para el año 2030.Esta reducción de la dependencia del gas ruso vía substitución de las importaciones y menor consumo de gas sería suficiente para resistir el próximo invierno sin racionamientos aunque con precios históricamente elevados siempre y cuando Rusia mantuviera el ritmo de suministro de junio alrededor de 55 bcm de forma anualizada o cerca de un tercio de lo que exportó en 2021. Sin embargo la UE se enfrenta a una nueva realidad cada vez más posible y es un corte total del suministro de gas ruso.El pasado 11 de julio dieron comienzo las labores de mantenimiento de carácter anual del gasoducto Nord Stream 1 que se desarrollarán hasta el próximo 21 de julio y existe la alarma entre los países europeos por la posibilidad de que el suministro no se restablezca. De hecho este temor está siendo recogido en las últimas semanas con fuertes subidas tanto en el precio spot del gas natural TTF precio de referencia en Europa como en los contratos de futuros para el próximo invierno.Un corte indefinido del gas ruso supondría que aunque las reservas de gas natural de la UE como muestra el gráfico han subido a buen ritmo en los últimos dos meses no serían suficientes para compensar el mayor consumo de gas que se producirá en los meses fríos. Distintos análisis sitúan en este caso la carencia de gas natural el próximo invierno en alrededor de 20 bcm de forma conjunta en la UE.Más relevante si cabe es que el impacto sería muy desigual por países debido tanto a la distinta intensidad en el uso de gas natural como a la falta de infraestructuras de conexión que aseguren un auténtico mercado interior del gas en la UE. Así algunos países necesitarán recortes de la demanda mucho más pronunciados. Los países más afectados son los países de Europa del Este que tenían mayor dependencia del gas ruso a principio de año. Seguidos por los países de Centroeuropa como el caso de Alemania donde se estima que sería necesaria una caída de la demanda de gas en torno al 30 respecto a 2021. España Portugal y Francia serían los menos impactados y su ahorro de gas podría servir en función de las posibilidades de conexión a otros países.El ejercicio de un enfoque coordinado por parte de la UE es la mejor opción para mitigar el shock de oferta en los países más vulnerables al gas ruso. Ejemplo de una mayor cooperación sería aprovechar mejor la capacidad española de regasificación de GNL. De esta forma se podría desviar en mayor medida el gas argelino de España a Italia y utilizar completamente la limitada conexión de España con Francia sobre 8 bcm al año para redirigir a Centroeuropa GNL importado por España de países como Estados Unidos.Además la Comisión Europa está trabajando en un plan que presentará al Consejo de Transporte Telecomunicaciones y Energía el próximo 26 de julio con el título autoexplicativo Save gas for a safe Winter. Queda ver el detalle pero algunos de los puntos filtrados recogen incentivos para que las empresas recorten el uso del gas campañas de información para animar a los consumidores a usar menos la calefacción y el aire acondicionado o establecer un mecanismo de solidaridad entre los países de la UE para garantizar siempre el suministro de gas a los consumidores más vulnerables. También se pide a los países de la UE que estudien la posibilidad de cambiar el gas utilizado para la producción de electricidad por mayor uso de carbón y energía nuclear.A corto plazo si Rusia cierra el grifo no existe otra opción que no pase por una caída del consumo de gas natural por parte de la UE racionamiento incluido a algunos demandantes un escenario que las autoridades no descartan dado que se están filtrando ya criterios de intensidad de uso de gas y vulnerabilidad ante su falta para ordenar la demanda en caso necesario.Nuevas infraestructuras de transporte y gasificación compatibles con el hidrógeno verde han de facilitar el tránsito a medio y largo plazo hacia un escenario en el que la expansión de las energías renovables y el desarrollo del almacenamiento para gestionar la interrumpibilidad permitan junto a un consumo más eficiente que la demanda de gas sea menor y que el procedente de Rusia sea totalmente prescindible. El reto es que las políticas públicas logren que la crisis generada por Rusia a corto plazo sólo retrase la transición energética acelerándola incluso a medio y largo plazo.
"La responsable de soluciones para clientes y banca digital de Garanti BBVA, Işıl Akdemir Evlioğlu, repasa los 15 años de la banca móvil y los avances de la sostenibilidad en el mundo financiero.
Los bancos se han considerado siempre como refugio seguro del dinero, y tradicionalmente el sector bancario crecía mediante la expansión de su red de sucursales físicas. Actualmente, en cambio, la pandemia ha transformado la banca digital en el canal de preferencia, por la facilidad que ofrece para realizar toda clase de operaciones.
La banca ya es, por ello, uno de los sectores digitales más potentes del mundo. Gracias a la analítica de datos, la banca móvil ha evolucionado hasta convertirse en mucho más que una plataforma de productos. “En Garanti BBVA fuimos pioneros, al ofrecer servicios de banca móvil por primera vez en 2007 en wap.garanti.com.tr, y lanzar nuestra aplicación móvil en iOS y Android en 2012", recuerda Evlioğlu en una entrevista con Anadolu, la agencia de noticias turca de referencia.
El número de clientes de banca móvil de Garanti BBVA se incrementó en un 50% durante la pandemia y ya asciende a 12,6 millones. El banco se centró en el desarrollo de productos y servicios innovadores que aceleraron la transición a la banca digital, abordando problemas que antes se resolvían en las sucursales. "Los clientes descubrieron funciones digitales que les facilitaron la vida de forma sorprendente", subraya la ejecutiva.
En la actualidad, el banco cuenta con más de 500 funciones en su 'app’ móvil, y más del 86% de las ventas de productos se realizan por canales digitales. El número de operaciones digitales se dobló durante la pandemia, aumento que todavía se mantiene.
Por otra parte, Garanti BBVA sitúa la sostenibilidad y la lucha contra el cambio climático en el centro de su negocio. Eviloglu explica que para promover el desarrollo sostenible de Turquía y la transición a una economía baja en carbono, el banco trabaja para minimizar el impacto de sus propias actividades y comparte mejores prácticas con la sociedad y sus clientes, ofreciendo más de 50 productos y servicios en el ámbito de las finanzas sostenibles.
Por ejemplo, Garanti BBVA ha lanzado una función en su aplicación móvil que sensibiliza sobre la lucha contra la crisis climática al permitir a cada cliente ver su huella de carbono y elegir que se le envíen los extractos bancarios en formato electrónico, sin consumo de papel.
El banco es consciente, por otra parte, de que aún se encuentra en el inicio del camino. “Seguiremos trabajando en desarrollar hábitos y soluciones sostenibles para minimizar el impacto medioambiental”, concluye la ejecutiva."
"BBVA cuenta ya en Italia con un total de 108.000 nuevos clientes casi un año después de su entrada en el país transalpino. De este modo, el banco supera el objetivo que se había marcado en octubre de 2021.
El liderazgo de BBVA en la digitalización en el sector bancario y el potencial de su ‘app’ constituyeron el punto de partida para desembarcar en Italia con una propuesta totalmente digital basada en ‘Zero Commission Daily Mobile Banking’, una experiencia en la que los clientes sólo pagan por aquellos servicios de financiación que necesitan a precios muy competitivos, mientras que la operativa diaria es totalmente gratuita.
Antes de cumplir el primer aniversario, la ‘app’ de BBVA se encuentra entre las tres aplicaciones bancarias en Italia mejor valoradas de Google e iOS, con unas valoraciones de 4,6 y 4,7 puntos respectivamente, rozando la máxima puntuación permitida en ambos ‘markets’, que se sitúa en el 5.
Durante estos diez primeros meses de actividad, BBVA ha ido incorporando a su oferta en Italia una amplia gama de servicios digitales que permite a los clientes realizar la operativa diaria de una forma ágil.
Tras anunciar recientemente el préstamo inmediato, el banco ha implementado la firma biométrica en todas las operativas de los clientes. Esta funcionalidad, gracias al reconocimiento facial o dactilar, permite a los clientes acceder a la ‘app’ y autorizar operaciones con total seguridad, lo que permite proteger aún más a los clientes ante posibles fraudes y acelerar la gestión de los trámites.
Asimismo, BBVA ha introducido el pago de tasas e impuestos a través de las plataformas digitales ‘Cbill’ y ‘Pago PA’, y la domiciliación de recibos a través de la aplicación. Ambas herramientas permiten a los clientes italianos realizar estas gestiones de forma cómoda y sencilla, en apenas unos minutos y sin necesidad de desplazamientos físicos. La oferta de servicios del banco en el país se irá ampliando, además, con nuevos productos y promociones en los próximos meses.
Asimismo, la entidad financiera ha puesto en marcha para este verano dos nuevas promociones para los nuevos clientes que finalizan el 31 de octubre. Por un lado, ‘Cashback 20%’, con la que los clientes podrán conseguir un 20% de reembolso en todas sus compras del primer mes hasta un máximo de 100 euros por compra -y un máximo de 500 euros en total-. El reembolso se activa automáticamente comprando con la tarjeta de débito de BBVA y el importe acumulado se reembolsa directamente en la cuenta del cliente.
La otra promoción, ‘Passaparola’, permite a los nuevos clientes recibir 20 euros por cada persona que inviten a BBVA –siempre que se abran una cuenta y realicen al menos una primera compra–. Los clientes podrán invitar hasta un máximo de cinco amigos, consiguiendo así hasta 100 euros. Las personas invitadas obtendrán también un regalo de 20 euros.
Dentro de su apuesta por el mercado italiano, BBVA anunció un acuerdo estratégico a tres años con Zurich Connect, que tiene como objetivo continuar ampliando los servicios en Italia, esta vez de la mano de los seguros.
Gracias a esta alianza estratégica, los clientes de BBVA y Zurich Connect en Italia pueden acceder a una experiencia única, cómoda y sencilla, y a las mejores coberturas en los ramos de motor y hogar.
Recientemente, BBVA y Zurich han anunciado la primera promoción, por la que premiarán con un bono regalo de Amazon.it de 75 euros a aquellos clientes que renueven su póliza con Zurich Connect en el periodo habilitado y se den de alta como clientes en BBVA. El acuerdo se irá ampliando con diferentes acciones como la posibilidad de ofrecer productos combinados de banca y seguros."
"En los focos de interior, el panel fotovoltaico va separado de la fuente de luz por un cable, de manera que se pueda colocar en una ventana o cualquier otro punto donde dé la luz. Su consumo y emisión de dióxido de carbono (CO2) es cero, y son muy útiles como luces complementarias, para decorar o crear ambiente.
Lámpara solar LED de techo para exteriores e interiores, con luz ‘blanca cálida’, 10 vatios de potencia eléctrica, controlada en remoto mediante un mando a distancia, con sensor de movimiento (opcional) para estar encendida solo si hay gente, y la posibilidad de programarla según cinco niveles de intensidad, de la más brillante a la más tenue. Esta descripción corresponde a un producto real vendido en la página web de un gigante del comercio ‘online’. Que figure en su catálogo da idea de cómo se ha democratizado la tecnología solar aplicada a la iluminación.
“El uso habitual de las lámparas solares está más extendido en zonas de exterior”, reconoce Kike Aganzo, responsable de comunicación de Idealo.es (comparador de precios y ofertas ‘online’). Aunque también funcionan en interiores. Esta plataforma dedicó en 2020 un artículo al aumento de la demanda de la tecnología solar incorporada a ‘gadgets’: ha crecido un 15 % respecto a 2019, según sus cálculos. Entrando al detalle, estimó que “las categorías con un mayor aumento de la demanda han sido los calentadores solares de piscina (un 111,49 %), las duchas solares (un 52,54 %) y las lámparas solares (un 29,61 %)”.
Causas Contaminación
Para muchas especies, la oscuridad de la noche es un lugar de oportunidades. En el caso de los humanos, la luz artificial es una necesidad y también un problema. La contaminación lumínica provoca que una de cada tres personas apenas vea el cielo estrellado. Por no hablar de cómo afecta al sueño y al consumo de energía.
Conquistados los espacios al aire libre –patios, balcones, jardines–, las luces solares empiezan a explorar el interior de las viviendas, eso sí, con una oferta significativamente inferior, al menos por ahora. En este tipo de productos, el panel fotovoltaico (con la batería incorporada) está separado de la lámpara mediante un cable más o menos largo, de manera que se pueda instalar en la ventana, en la terraza o en cualquier otro punto donde dé más el sol (la iluminación eléctrica también sirve para cargar, siempre que sea lo suficientemente brillante), mientras que el foco queda situado en el punto que deseemos, según describe Aganzo. Es importante colocar la placa fotovoltaica estratégicamente, en un sitio donde reciba luz regularmente y durante el máximo de horas posible, sin nada alrededor (como un árbol, un edificio, una farola) que le pueda hacer sombra.
“La iluminación supone alrededor del 12 % del consumo eléctrico de una casa, por lo que mejorar su eficiencia resultará en un ahorro considerable”, señala un informe que elaboró la OCU (Organización de Consumidores y Usuarios) con motivo de la entrada en vigor, en septiembre de 2021, de la nueva etiqueta energética para lámparas y bombillas. Según sus datos, si un piso de 90 m2 hiciese el cambio de la tecnología menos eficiente, bombillas halógenas, a la más eficiente, LED de clase A, en 10 años habría gastado unos 110 euros menos, y si a esta medida se sumarán 100 pisos, se evitaría la emisión de unas 6,1 toneladas de CO2. Pues bien, este ahorro no sería nada comparado con el de las lámparas solares, con las que tanto el consumo como las emisiones se reducen a 0.
El evidente problema de las lámparas solares situadas dentro del hogar es que su exposición a la luz resulta mucho menor. Si el clima (por ejemplo, que esté nublado) o las estaciones del año (recordemos que en invierno los días son más cortos y no amanecen tan despejados como en verano) afectan a la iluminación exterior, aún más en la interior, restándole fiabilidad. “Al menos hoy en día, yo la tecnología solar la utilizaría en interiores no tanto como foco principal sino a modo de luces complementarias de una habitación, más cálidas, para decorar, crear ambiente o iluminar los espacios en penumbra que pueda dejar la lámpara dominante”, recomienda Aganzo. También para los LED que se quedan encendidos toda la noche en las habitaciones infantiles, con el fin de que los niños no tengan miedo a la oscuridad si se despiertan; o para las zonas de paso, como un recibidor o un pasillo, que no necesitan tantos vatios de potencia.
El mercado ofrece apliques para la pared o el suelo, y lámparas de mesa y de techo, para instalar de puertas para dentro. Una vez cargadas sus baterías, pueden durar hasta 8 horas encendidas, según la intensidad de su luz y según la información que suelen suministrar los fabricantes. La mayoría son regulables, y cuentan con un mando a distancia."
México vive un momento económico en el que desde la perspectiva de Iván Martínez Urquijo economista principal de BBVA México es importante analizar el financiamiento a la economía tanto del lado de sus fuentes como de sus usos y con base en eso tener un panorama general acerca de la vulnerabilidad del país ante un escenario de mayor riesgo. De acuerdo con Martínez en su artículo Vulnerabilidades en el financiamiento de la economía mexicana publicado en El Economista durante los últimos años el sector público ha hecho un mayor uso de los flujos de financiamiento a la economía mexicana además de que este uso se ha concentrado en gastos recurrentes y prácticamente ineludibles. Para poner esto en contexto el autor destaca que tan solo en 2023 el Proyecto de Presupuesto de Egresos de la Federación plantea destinar el 63.2 del gasto total a los rubros de pensiones costo financiero de la deuda y el gasto federalizado de acuerdo con datos del Centro de Investigación Económica y Presupuestaria.
"El presidente de BBVA, Carlos Torres Vila, ha anunciado este miércoles que la entidad aumentará un 50% su objetivo de movilizar financiación sostenible. “La sostenibilidad es una oportunidad de negocio”, porque la cantidad de inversión requerida es inmensa (275 billones de dólares hasta 2050), ha explicado en la reunión anual del Institute for International Finance (IIF), celebrada en Washington. En este sentido, ha señalado que el banco está canalizando financiación sostenible “a un ritmo realmente rápido”, que llevó en junio pasado a que superase el objetivo que se marcó en un inicio para 2025. Por ello, “hoy quiero anunciar que aumentamos de nuevo nuestro objetivo hasta los 300.000 millones de euros en el periodo 2018-2025”, ha declarado.
El 28 de febrero de 2018,BBVA anunció su primer objetivo de financiación sostenible: 100.000 millones de euros. El 8 de julio de 2021, la entidad duplicó dicho objetivo hasta 200.000 millones. A 30 de junio de 2022, ya había alcanzado los 112.000 millones, un ritmo que ha llevado a elevar de nuevo la meta hasta los 300.000 millones, triplicando el compromiso inicial. 
Esta cifra sitúa a BBVA como uno de los bancos europeos con mayor ambición en su objetivo de movilizar financiación sostenible. Pero sobre todo, es un ejemplo tangible del compromiso del banco con la sostenibilidad, una de sus prioridades estratégicas.
Esta decisión se enmarca, además, en un contexto crítico en materia energética y climática. Durante su participación en una charla junto a Tim Adams, presidente y CEO del IIF, Carlos Torres Vila ha destacado que el momento actual exige que todos redoblemos nuestros esfuerzos en favor de las energías limpias y contra el cambio climático y la desigualdad.
En su intervención, el presidente de BBVA también ha repasado los principales retos económicos globales en un momento de incertidumbre sin precedentes. Asimismo, se ha referido a las tres tendencias que, en su opinión, están redefiniendo el mundo: la digitalización, la irrupción de nuevas tecnologías transformadoras y la descarbonización. ”El mundo cambia rápido y debemos abrazar esos cambios”, ha señalado.
Video
Finanzas Sostenibles
Ver Video
Ver Video
Finanzas Sostenibles
Entre 2018 y junio de 2022, BBVA alcanzó 112.000 millones de euros en movilización de financiación sostenible. Esta financiación de operaciones sostenibles por parte de BBVA en la primera mitad de 2022 creció un 50% respecto al mismo periodo del año anterior. Trimestre tras trimestre, BBVA ha superado sus previsiones en la movilización de este tipo de financiación.
Desde 2018 hasta junio de 2022, el 77% de la movilización de financiación sostenible ha estado relacionada con la acción climática, y el 23% con crecimiento inclusivo. Por segmentos, procede mayoritariamente (65%) de operaciones de banca de inversión y corporativa para grandes clientes (Corporate and Investment Banking); seguida de empresas, con un 18%; y financiación minorista, con un 17%.
BBVA acaba de anunciar nuevos objetivos de descarbonización de su cartera, en concreto, en el sector del petróleo y gas. La entidad se ha fijado la meta de reducir un 30% las emisiones de los clientes de dicho sector antes de 2030. En este sentido, BBVA se ha comprometido en su Marco Ambiental y Social a no financiar nuevos proyectos de exploración, perforación y extracción en estos sectores. En paralelo, continuará impulsando proyectos de energía renovable y sostenible para estas empresas con el fin de ayudar en su transición energética.
En noviembre de 2021, BBVA fijó objetivos intermedios para descarbonizar su cartera en cuatro industrias intensivas en emisiones de CO2. Concretamente, entre 2020 y 2030 ha fijado el objetivo de reducir la intensidad de carbono de su cartera crediticia un 52% en generación eléctrica; un 46% en la fabricación de automóviles; un 23% en la producción del acero; y un 17% en la producción de cemento.
Y anteriormente, en marzo de 2021, BBVA se comprometió a dejar de financiar a clientes del carbón en las economías desarrolladas en 2030 y en las emergentes en 2040.
Todos estos sectores son los más intensivos en emisiones, y en su totalidad suponen el 80% de las emisiones de CO2 en el mundo. 
Con todo ello, BBVA pretende cumplir su compromiso de ser neutro en emisiones de carbono en 2050, no sólo en sus propias emisiones (donde ya lo es) sino también en las de los clientes.
Además, BBVA forma parte de la alianza bancaria de cero emisiones netas (Net-Zero Banking Alliance, NZBA, por sus siglas en inglés). Los bancos de esta alianza internacional se han comprometido a que todas sus carteras de crédito y de inversión sean neutras en emisiones netas de gases de efecto invernadero en 2050 como fecha límite, en línea con la ciencia y los objetivos más ambiciosos del Acuerdo de París.
Según el Dow Jones Sustainability Index, BBVA es el banco más sostenible del mundo."
Carrefour decidió poner fin a su interés en una posible alianza con Auchan luego de que los dos minoristas franceses mantuvieran conversaciones exploratorias en los últimos meses informó el sábado el diario Le Figaro.La decisión fue tomada por el comité estratégico de Carrefour el jueves por recomendación del presidente ejecutivo Alexandre Bompard quien consideró un posible acuerdo con Auchan como demasiado complejo dijo Le Figaro.Carrefour y Auchan no pudieron ser contactados de inmediato para hacer comentarios.La empresa privada Auchan propuso un acuerdo que habría valorado a Carrefour en unos 21 euros por acción o unos 16.600 millones de euros 19.200 millones de dólares. La acción cerró a 1603 euros el viernes. La dirección de Carrefour y los accionistas clave vieron el rango de 20 euros a 2125 euros como demasiado bajo dijeron las fuentes. La compleja estructura de una transacción de efectivo y acciones también resultó ser un obstáculo.Le Monde otro diario francés había informado a finales de septiembre que Bompard estaba examinando opciones para la consolidación del sector y su grupo había mantenido conversaciones con la familia Mulliez que controla Auchan.
La inflación constituye una de las principales preocupaciones de la población en el complicado panorama económico con una aceleración por la que desde octubre ya van ocho datos consecutivos por encima del 3 y el acumulado hasta mayo ya es del doble que la del mismo período de 2020.Pero los datos de estos últimos años no son aislados dado que desde 2007 Argentina registra una cifra anual de dos dígitos y está entre los 10 países con mayores incrementos del índice según las cifras recopiladas por el FMI.Para las proyecciones de 2021 el Fondo no publicó números para Argentina al igual que para Siria y Líbano. No obstante el consenso actual entre las consultoras es que oscile entre 45 y 50 lo que le alcanza con tener la cuarta mayor inflación en el mundo detrás de Venezuela Sudán del Sur y Zimbabue de este último muy cerca.Argentina tiene el agravante de que los analistas no consideran confiables los datos de entre 2007 y 2015 dada la sospecha de intervención del Indec con lo que se suelen tener en cuenta las cifras del IPC Congreso que arrojan guarismos bastante más altos que los que dejó el centro de estadísticas en ese período.Si bien en ningún año estuvo a la vanguardia del mundo en 2002 con un 409 se ubicó en el tercer puesto tras la salida de la convertibilidad que permitieron casi una década sin inflación y la pesificación asimétrica sólo por detrás de Angola y Birmania.Luego entre 2003 y 2005 Argentina tuvo una inflación creciente de hecho casi la duplicó año a año mientras que en 2006 quedó por debajo del 10 pero nunca entre las peores cifras del mundo.Desde 2007 los analistas y consultoras comenzaron a tomar datos complementarios al IPC del Indec debido a la poca confiabilidad del índice y de acuerdo con las cifras del IPC Congreso Argentina entró en el top 10 de mayores inflaciones y salvo en 2009 nunca bajó del 20 anual. En 2010 y 2014 quedó en segundo lugar ambas por detrás de Venezuela y en 2007 y en 2013 en el tercero.Con la normalización del Indec al inicio de la era Macri la inflación argentina siguió siendo de las más elevadas del planeta entre el cuarto y el noveno puesto. En 2020 fue la novena más elevada y para este año según la proyección de las consultoras quedaría en cuarto lugar apenas debajo de Zimbabue.
La inflación anual de Argentina llegó a 64 en junio la tasa más alta en 30 años según datos gubernamentales publicados el jueves. Aunque los responsables políticos hablaron sobre la necesidad de que las tasas de interés superen la inflación a principios de esta semana se dijo que el comité de política monetaria del banco central mantuvo la tasa de referencia en 52 en la reunión semanal del jueves.Los argentinos enfrentan la perspectiva de una inflación de 90 para fin de año luego de que la salida del ministro de Economía provocó aumentos de precios durante la noche y el banco central se ve presionado para permitir que el peso se deprecie más rápidamente.  Ese sería el ritmo más rápido desde la hiperinflación hace tres décadas y la tasa más alta del mundo fuera de Venezuela y Sudán según pronósticos del Fondo Monetario Internacional.  La dramática salida del exministro de Economía Martín Guzmán este mes llevó a que muchas empresas aumentaran los precios. Algunos argentinos corrieron a las tiendas la mañana después de la renuncia de Guzmán para tratar de abastecerse antes de la devaluación del peso y las alzas de precios.Las consultoras de Buenos Aires como EconViews FMyA Alberdi Partners y EcoGo pronostican una inflación de 90 para fines de 2022. Un pronosticador FIEL espera que los precios al consumidor aumenten 92 mientras que otros analistas como EcoLatina y Empiria Consultores prevén que la inflación terminará el año en 85.Antes de la salida de Guzmán los economistas encuestados por el banco central habían pronosticado una inflación de 76 para fin de año. La impresión de dinero para financiar el gasto público y el aumento de los precios internacionales de las materias primas también han contribuido al aumento galopante de los precios.De cara al futuro los analistas ven al gobierno del presidente Alberto Fernández sin herramientas ni una estrategia creíble para enfriar la inflación. Algunos esperan que el banco central acelere sus devaluaciones diarias del peso lo que le permitiría gastar menos dinero en defender la paridad móvil aunque esto ejercería aún más presión sobre los precios.Los poderosos sindicatos de Argentina pueden renegociar los aumentos salariales de los trabajadores para compensar también los aumentos de precios.
Según las previsiones de BBVA Research en 2022 el dinamismo de la inversión y las exportaciones justifican una revisión al alza en algunas comunidades del norte. Por otro lado el menor avance del consumo afecta más a las regiones del Mediterráneo y el sur peninsular lo que se traslada en una revisión a la baja en sus crecimientos. Para 2023 se rebajan de forma generalizada las previsiones de crecimiento en todas las comunidades. Esto se debe principalmente a la menor demanda europea de bienes y turismo que afectará en mayor medida a los territorios más expuestos al mercado europeo. También el incremento de los tipos de interés la incertidumbre sobre la política económica y el aumento de la inflación podrían condicionar el crecimiento para el próximo año. Con todo en 2023 Extremadura CastillaLa Mancha Murcia Andalucía la Comunitat Valenciana y Madrid podrían recuperar el nivel de PIB de 2019.El Observatorio Regional del tercer trimestre de 2022 de BBVA Research traslada a nivel autonómico el escenario planteado para el conjunto de España que prevé una revisión al alza para este año de la inversión en maquinaria y equipo así como las exportaciones tanto de bienes como de servicios turísticos. Por ello en Aragón el crecimiento esperado aumenta en 04 puntos porcentuales pp debido a la recuperación de la actividad industrial. En Asturias 02pp el País Vasco 02 pp y Navarra 01pp  se une además un mayor dinamismo exportador. También en La Rioja se revisa al alza en 03pp apoyada por el sector industrial y la recuperación de la inversión. Sin embargo la mejora en las previsiones no es suficiente para que estas regiones crezcan por encima del conjunto de España en 2022. Asimismo la aceleración del turismo extranjero favorece el crecimiento en Baleares 03pp y Canarias cuyas previsiones se mantienen y se sitúan a la cabeza del incremento del PIB en este año.Por el contrario el servicio de estudios de BBVA prevé un menor crecimiento del consumo privado en España lo que impactaría en mayor medida en las comunidades más dependientes del turismo nacional. En concreto se rebaja la previsión de crecimiento en Murcia 03pp así como en Comunitat Valenciana y Cataluña con 01 pp. También en Madrid y Extremadura se revisan a la baja las previsiones en 02 pp y 06 pp respectivamente. Esto se debe a una recuperación del turismo urbano algo más lenta de lo esperado y a que la ejecución de los fondos europeos Next Generation EU NGEU avanza más lentamente de lo anticipado.Por su parte en Cantabria Castilla y León Galicia Andalucía y CastillaLa Mancha se mantiene el nivel de crecimiento esperado hace tres meses. Con todo las comunidades insulares Madrid y Andalucía liderarán el crecimiento este año.BBVA Research prevé para 2023 una desaceleración de la economía algo mayor de la esperada hace tres meses por lo que reduce las previsiones de crecimiento de forma generalizada. No obstante todas las comunidades autónomas continuarán su recuperación el próximo año. Así el crecimiento de Baleares 35 Canarias 30 Madrid 26 Extremadura 24 y Andalucía 20 se situaría por encima del conjunto de España 18. Por su parte Comunitat Valenciana Cataluña y CastillaLa Mancha podrían crecer en línea con el promedio nacional mientras que el crecimiento esperado sería inferior a la media en Murcia y La Rioja 16 Aragón 12 Cantabria Castilla y León y País Vasco 11 Asturias Galicia y Navarra 08.De cumplirse estas previsiones Extremadura CastillaLa Mancha Murcia Andalucía Comunitat Valenciana y Madrid podrían recuperar a finales de 2023 el nivel de PIB previo a la crisis. Diversos factores explicarían la revisión a la baja para 2023.Por un lado las menores perspectivas de crecimiento de la Unión Europea como consecuencia de los efectos de la guerra en Ucrania suponen una ralentización de la demanda europea de bienes y turismo. Esto limitará el crecimiento de Aragón Navarra Galicia y País Vasco entre las comunidades industriales. También Cataluña la Comunitat Valenciana Canarias y Baleares se verán impactadas por el menor avance de las exportaciones de servicios turísticos. Por ello la revisión a la baja de las previsiones de crecimiento es mayor en estas comunidades.Además una energía que se mantendrá con precios muy elevados y su posible escasez podrían dificultar la recuperación de las comunidades industriales las más dependientes del consumo de energía en su producción y en las que el gas natural es una fuente energética relevante. En concreto en Murcia el consumo de gas natural por unidad de PIB es el triple que el del conjunto nacional mientras que Navarra Aragón y Asturias prácticamente lo duplican. Asimismo el aumento de los tipos de interés y la desaceleración económica incrementará la carga financiera de las familias y las empresas aunque el impacto sería heterogéneo a nivel regional.Por otro lado la aceleración en la gestión de los Fondos NGEU y en la inversión pública permitirá una menor reducción del crecimiento esperado en Asturias Castilla y León y Extremadura. Por su parte el consumo podría continuar creciendo en el sector servicios lo que contribuye al crecimiento en las comunidades turísticas y Madrid.La recuperación podría continuar en 2023 favorecida también por el ahorro embalsado el dinamismo de la construcción de viviendas y la reforma laboral que podría apoyar el avance del consumo y la mejora de la productividad.El escenario de recuperación previsto para los próximos trimestres podría verse afectado por el aumento de la inflación debido en parte al elevado coste de la energía. En este sentido la inflación subyacente se encuentra en torno al 5 interanual en España y supera el 6 en Murcia y Galicia. Por el contrario es menor en Navarra Cantabria Cataluña y Madrid.La inflación persistente que impulsa el crecimiento salarial y los costes empresariales también supone el riesgo de una pérdida de competitividad cuyos efectos podrían ser más relevantes para las comunidades con especialización en producción de bienes comerciables y exposición al exterior.Además se mantiene la incertidumbre respecto a las inversiones asociadas a la ejecución de los Fondos NGEU que se mantiene lenta aunque la transferencia de fondos avanza.
Colombia siempre ha vivido de espaldas al Océano Pacífico desconociendo una región de casi 85.000 kilómetros cuadrados todo lo contrario que han hecho países como Perú y Chile que se han concentrado en desarrollar sus puertos Callao y Valparaíso de cara a los negocios y el comercio con los otrora Tigres Asiáticos y las todopoderosas economías de China Australia e India. Es más el Pacífico como gran bloque económica es escenario de iniciativas vanguardistas como el Foro de Cooperación Económica AsiaPacífico Apec conformado por Australia Brunéi Canadá Chile China Corea del Sur Estados Unidos Filipinas Hong Kong Indonesia Japón Malasia México Nueva Zelanda Papúa Nueva Guinea Perú Rusia Singapur Tailandia Taiwán Vietnam del cual Colombia no hace parte por pura falta de preocupación por el tema. También opera el Acuerdo Transpacífico de Cooperación Económica un tratado de libre comercio creado en 2016 por países como Brunéi Chile Nueva Zelanda Singapur Australia Canadá Estados Unidos Japón Malasia México Perú y Vietnam. Nuevamente Colombia ha estado ausente de este bloque ratificando el descuido el desinterés por ese polo de desarrollo. Pero para evitar ese rezago y enmendando ese error ha sido líder en la conformación de la Alianza del Pacífico bloque que no es un tratado de libre comercio sino un grupo de naciones con intereses comunes Chile Colombia México y Perú países que suman una población de unos 225 millones de personas y un PIB de US21 billones. Esta semana se ha dado un paso importante en el fortalecimiento de esta idea en el marco de la VIII Cumbre Empresarial de la Alianza del Pacífico y el Consejo Empresarial de este organismo el Ceap anunció que espera que los países miembros sigan dando importancia a este mecanismo de integración y pidió que esta segunda década de la Alianza sea de aceleración de los propósitos y objetivos de integración y desarrollo comunes. El Consejo está conformado por representantes del sector privado de los países partícipes que dan recomendaciones a los gobiernos y distintas entidades para construir una agenda de trabajo que facilite los negocios entre Colombia México Chile y Perú. En ese sentido y mucho más avanzada va la integración del mercado secundario. Un nuevo paso se dio en el proceso de integración de las bolsas de Chile Perú y Colombia. La próxima semana la Bolsa de Valores de Colombia BVC y el Grupo BVL de la Bolsa de Valores de Lima votarán continuar con el proceso de integración ya aprobado por la Bolsa de Valores de Chile. El objetivo es que las plataformas de negociación compensación y liquidación de cada una de ellas operen como una unidad que seduzca inversionistas de todo el mundo pero especialmente que se convierta en una verdadera alternativa en el mercado de valores global. Nadie puede dudar que el ingreso de Singapur a este bloque la integración de las bolsas y el salto de las economías de la Cuenca del Pacífico a la lista de países desarrollados es toda un tendencia que no puede pasar desapercibida por las autoridades económicas de turno y que es un indicio de que las décadas prodigiosas por venir será el momento económico para los departamentos colombianos con costa sobre el Mar de Balboa.
Paola Bonilla acaba de comenzar su período como directora ejecutiva de la Comisión de Regulación de Comunicaciones en reemplazo de Sergio Martínez. Ella ganó en un proceso de elección unánime entre los comisionados de la entidad. Bonilla es economista de la Universidad de Ibagué con Maestría en Economía de la Universidad del Rosario.Cuenta con más de 15 años de experiencia en la misma CRC el DNP y otras entidades. Aterriza en la dirección ejecutiva en un momento lleno de retos que pondrán a prueba su carácter inteligencia emocional y capacidad de toma de decisiones.La CRC debe intervenir en la trifulca jurídica entre WOM y Claro. El ente regulador debe garantizar que las condiciones y reglas del mercado sean lo suficientemente detalladas y específicas para evitar que el conflicto crezca entre ambos operadores o que se sumen Tigo y Movistar eventualmente.Debe determinar si es cierta o no la denuncia de Claro de que su competidor hizo portaciones masivas y ficticias sin conocimiento de los usuarios de Avantel con el objetivo de saltarse una norma de la CRC que pide anunciar a la autoridad la integración tecnológica de las redes de Avantel y WOM por lo menos con tres meses de anticipación.También hay una acusación de no implementar una herramienta de separación de tráficos para diferenciar los pagos de entrante y establecido. WOM por su parte acusó ante la CRC a Claro de no ampliar la capacidad de los enlaces infraestructura para que sus clientes pudieran comunicarse con los usuarios de Claro. Dicha capacidad de interconexión y la señalización para usar la red de Claro con el Roaming Automático Nacional en las llamadas de voz.Para consolidar la independencia del regulador otro gran reto que tiene al frente Bonilla es el de publicar la resolución que determinará la remuneración de redes móviles. El documento ya recibió todo tipo de comentarios del sector.Quedará establecido el valor exacto que deben pagar los operadores entrantes y establecidos en Roaming Automático Nacional e Interconexión. Hay dudas sobre el modelo ya que en algunos países se mantiene la asimetría en precios entre un operador nuevo y uno que lleva más de 35 años invirtiendo en redes. Hay otras visiones que buscan eliminar la asimetría y equiparar los cargos a todas las empresas como si fueran iguales.Es un debate filosófico espeso en donde los grandes expertos tienen opiniones divididas. Hay que tener en cuenta los costos eficientes pero garantizando a la vez incentivar la inversión en infraestructura.Retos adicionales de Bonilla serán la revisión del régimen de calidad para incorporar nuevas tecnologías y mecanismos de medición de indicadores así como culminar el proceso de revisión de los mercados fijos. Debe acelerar la implementación de los sandboxes regulatorios y calcular la metodología de análisis de impacto normativo. Es deseable que publique pronto decisiones y conclusiones de los estudios de mercados relevantes pendientes hace años por actualizar.En resumen con decisiones y voluntad se puede lograr un mayor respeto y visibilidad de la entidad ante el sector que regula y a partir de las medidas definir el futuro de la competencia en el sector móvil y el desarrollo tecnológico de las redes en Colombia.
Las ganancias de los precios al consumidor en EE.UU. se aceleraron en febrero a un nuevo máximo en 40 años en consonancia con la rápida inflación que se volvió aún más pronunciada tras la invasión de Ucrania por parte de Rusia.El índice de precios al consumidor subió 79 respecto al año anterior luego de una ganancia anual del 75 en enero según mostraron datos del Departamento de Trabajo el jueves. El indicador de inflación ampliamente seguido aumentó un 08 en febrero respecto al mes anterior lo que refleja mayores costos de gasolina alimentos y vivienda.Las proyecciones medianas de los economistas en una encuesta de Bloomberg indicaron que el IPC aumentaría 79 respecto al año anterior y 08 desde enero.Excluyendo los componentes volátiles de alimentos y energía los llamados precios subyacentes aumentaron 05 respecto al mes anterior y 64 respecto al año anterior.Los datos ilustran hasta qué punto la inflación estaba apretando su control sobre la economía antes de que la guerra de Rusia provocara un aumento en las materias primas incluido el precio minorista de gasolina más alto registrado. La mayoría de los economistas esperaban que febrero fuera el pico de la inflación anual pero el conflicto probablemente signifique impresiones de inflación aún más altas en los próximos meses.
"La alianza entre American Express y BBVA permite a los pequeños y medianos comercios clientes del banco en España aceptar pagos en sus Terminales de Punto de Venta (TPV) con tarjetas American Express, de la misma forma que con el resto de tarjetas y mediante liquidación conjunta. Esto amplía las opciones de aceptación de pagos que los comercios pueden ofrecer a sus clientes, ya que existen más de 119 millones de tarjetas American Express en todo el mundo.
Con este acuerdo, BBVA incluye en sus Terminales para Puntos de Venta (TPV) la posibilidad de contratar el servicio de cobro con tarjetas American Express, tanto para transacciones online como presenciales. De esta forma, la entidad se encargará de procesar las transacciones con tarjetas American Express y de toda la operativa relacionada con el servicio de cobros a través del terminal. Los comercios que deseen dar de alta un nuevo terminal de BBVA, así como los que ya dispongan de uno en sus establecimientos, podrán aceptar pagos con las tarjetas American Express y recibir el abono de las transacciones de forma conjunta con la misma facilidad que con el resto de tarjetas.
Pymes
BBVA lanza en España la primera cuenta sin comisión de administración y mantenimiento para las pequeñas y medianas empresas que se den de alta como clientes de la entidad. La Cuenta Empresas Bienvenida se puede contratar de manera sencilla tanto en oficina como por canales digitales. Además, incluye sin coste una tarjeta y permite realizar transferencias o emitir nóminas, entre otras operaciones habituales, sin comisión. De forma inmediata, las pymes podrán operar con total seguridad a través de la banca ‘online’.
Además, los comercios contarán con la ventaja de tener un único interlocutor, tanto para el alta del servicio, como para las gestiones diarias de los cobros con tarjeta a través del terminal. De esta manera, cada establecimiento tendrá centralizadas todas las transacciones realizadas a través de sus TPVs.
Gracias a la gran capilaridad de BBVA, que ya cuenta con más de 300.000 comercios clientes con TPV a lo largo de toda España, los titulares de American Express podrán elegir pagar con esta tarjeta en un mayor número de establecimientos en España. Estos establecimientos podrán sumarse a los más de 300.000 puntos de venta en España que American Express ha añadido a su red de comercios en los últimos tres años, lo que, entre otros beneficios, permitirá a sus titulares incrementar su capacidad de acumular puntos con sus compras para posteriormente canjear en experiencias, viajes, comidas o futuras compras.
Julia López, vicepresidenta y directora general del área de Establecimientos de American Express en España, afirma: “Estamos encantados de tener a BBVA como compañero de viaje en el que consideramos un momento clave de expansión de American Express en nuestro país. Esto demuestra nuestro compromiso de seguir aumentando significativamente los lugares que aceptan American Express en España y el resto del mundo. Gracias a la alta penetración de BBVA, podremos dar acceso a nuestros titulares a un número de comercios aún mayor, en todas las regiones de España y de todo tipo de sectores, especialmente a muchos comercios locales y de proximidad.”
Por su parte, Roberto Pagan, director de Medios de Pago de BBVA en España, señala que “Nuestro objetivo en BBVA es ayudar a los comercios a impulsar sus ventas. Por eso, con la incorporación de American Express, pueden ofrecer a sus clientes un mayor número de métodos de pago, de una forma sencilla e integrada con el proceso de liquidación habitual.”"
La Organización para la Cooperación y el Desarrollo Económico Ocde presentó un documento en el que analiza las consecuencias mundiales que traerá el conflicto entre Rusia y Ucrania el cual causará interferencias en el comercio internacional y presionará aún más las cadenas de suministro.Debido a esto según proyecta la Ocde el crecimiento económico global será 108 menor este año como resultado del conflicto. Además la inflación mundial que venía manteniendo picos de varias décadas en muchos países por la reactivación económica también se verá presionada y tendrá un incremento de 247 de lo que hubiera aumentado sin la crisis en Europa del Este.Según explica el documento el considerable aumento de los precios de las materias primas se debe a que Rusia y Ucrania representan una tercera parte de todas las exportaciones mundiales de trigo.También son importantes productores de fertilizantes de los que dependen países como Colombia y de metales utilizados en la industria como el níquel y el paladio.Señala que las menores exportaciones de trigo maíz y fertilizantes desde esa región aumentaría el hambre y la inseguridad alimentaria en todo el mundo. Así como el incremento de los precios de los metales que podría prolongar las afectaciones sobre el golpeado mercado de chips y tendría consecuencias sobre otras industrias como la fabricación de aviones y automóviles.Con el aumento de los precios sobre una inflación ya elevada la Ocde recomendó a los bancos centrales que deberían empezar a normalizar su política monetaria y dijo que deberían estar preparados para mantener el funcionamiento de los mercados financieros en dado caso que tengan que intervenir si siguen aumentando las tensiones.En cuanto al aumento de la inflación que también se ve reflejada en los precios de la energía la Ocde dice que el principal afectado será Europa ya que depende en gran medida de las importaciones de energía rusa. Rusia suministra alrededor de 16 del gas natural del mundo y 11 del crudo de acuerdo con cifras de la organización.Alrededor de 27 de las importaciones de petróleo crudo de la UE 41 de sus importaciones de gas natural y 47 de las importaciones de combustible sólido provienen de Rusia. Tomará algunos años compensar por completo esta dependencia y construir la seguridad energética en Europa pero la acción debe comenzar ahora señaló el secretario general de la Ocde Mathias Cormann.Entre los territorios que resultarán más golpeados por la inflación de alimentos y de la energía están EE.UU. América Latina y varias economías de Europa Central y del Este.En concreto la Ocde proyecta que el impacto negativo de la guerra en Ucrania sobre la economía de la Zona Euro podría ser de 14 mientras que en Estados Unidos sería de 088 y en el propio bloque de 099.Sin embargo sobre las consecuencias que tendría la crisis en América Latina Garret Melson estratega de Natixis Investment Managers opina que los exportadores netos incluidos México y otros productores latinoamericanos saldrían claramente beneficiados. Aunque fuera del complejo energético es probable que el efecto de contagio sea mucho más moderado ya que Rusia y Ucrania son actores pequeños en el escenario de las exportaciones mundiales. Por lo tanto el mayor riesgo para las economías de los mercados emergentes y de América Latina es probablemente el canal de la confianza.
El Consumption Tracker es un indicador de consumo que construye Bbva haciendo uso de las transacciones realizadas por sus clientes con tarjetas débito y crédito y desagregándolas según el sector económico al que pertenecen. Los datos de la última edición tienen cierre al 25 de octubre de 2021.La entidad destacó que el consumo en lo corrido del mes mantuvo una buena dinámica con un crecimiento de 191 frente al mismo periodo en 2019 año sin pandemia ligeramente superior al registro de septiembre 178 y el mayor desde el inicio de la crisis.El gasto en servicios se ubicó en 03 por encima de lo observado por el  banco en el mismo periodo de 2019 los bienes mostraron un mejor comportamiento creciendo 312 frente a 2019 y superior a 270 registrado en septiembre.Aerolíneas hoteles combustible y restaurantes fueron las categorías que más aumentaron el gasto de los hogares durante la semana de receso escolar.El consumo en hoteles registró la mayor recuperación en el mes 30 puntos porcentuales frente a septiembre un nuevo máximo desde el inicio de la pandemia y con un crecimiento de 26 frente a 2019.Se mantuvo una buena dinámica en el gasto en vestuario que en lo corrido del mes creció 222 frente al mismo periodo en 2019 el registro más alto desde el inicio de la pandemia. Dentro de esta categoría se destaca el impulso que campañas como el CyberMonday o la CyberWeek han tenido sobre el consumo en este rubro.Barranquilla lideró la recuperación del consumo siendo la única ciudad que superó el promedio nacional.
Exxon Mobil Corp. fue suspendida del Alianza Internacional para la Conservación un grupo centrista de investigación y defensa que une a grupos conservacionistas y algunos de los mayores perforadores de petróleo del mundo en la formulación de políticas para abordar el cambio climático.La medida se produce pocas semanas después de que Greenpeace registrara en secreto a un cabildero de Exxon diciendo que algunos de los compromisos climáticos clave de la compañía eran falsos. Los miembros fundadores del grupo incluyen BP Plc World Wildlife Foundation ConocoPhillips y Conservation International.Después de una cuidadosa consideración hemos decidido suspender la membresía de ExxonMobil tanto en el Council como en Americans for Carbon Dividends nuestro brazo de defensa dijo el presidente ejecutivo Greg Bertelsen en un comunicado el viernes.La decisión de CLC es decepcionante y contraproducente dijo el portavoz de Exxon Casey Norton en un correo electrónico. De ninguna manera disuadirá nuestros esfuerzos para promover la fijación de precios del carbono que creemos es un requisito político fundamental para abordar el cambio climático.
"¡Arranca la tercera temporada de los podcast de OpenMind! En este programa analizamos un concepto fundamental en la lucha por salvar nuestro planeta: la neutralidad climática. ¿Qué es? ¿Cómo podemos alcanzarla?
La neutralidad de carbono consiste en emitir la misma cantidad de dióxido de carbono o CO2 a la atmósfera que la que se retira por distintas vías, dejando así un balance cero, también denominado huella cero de carbono.
Esto se puede lograr de diferentes maneras. Por una parte, emitiendo menos CO2, mejorando por ejemplo la eficiencia energética y apostando por las energías renovables. Pero no es suficiente. Hay industrias que no se pueden descarbonizar completamente y hagan lo que hagan seguirán emitiendo algo de CO2.
Aquí entran en juego las tecnologías llamadas CAUC, es decir de captura, transporte, almacenamiento y usos y transformación del CO2. En este podcast te contamos qué son y cómo pueden ayudar. También hablamos sobre los sumideros naturales de carbono, otro aliado clave en la lucha contra el cambio climático, y explicamos algunos de los proyectos que se están llevando a cabo para conservarlos y restaurarlos."
La pandemia del COVID 19 continúa su paso por el mundo y ante la aparición de la nueva variante Ómicron la economía ha presentado algunos efectos que se explican por la incertidumbre que provoca no contar aún con información suficiente para determinar qué tan grave es esta nueva cepa del virus.Carlos Serrano Herrera economista Jefe de BBVA México señala en el artículo Ómicron efectos económicos publicado en el periódico El Financiero que la variante está generando gran incertidumbre desde que se dio a conocer su existencia y debido a ello existen muchas preguntas sobre un posible nuevo confinamiento que podría ocasionar impactos de mayor preocupación en la economía mundial.Es muy importante que los países entiendan la relevancia de acelerar su proceso de vacunaciónSerrano destaca que desde el viernes pasado cuando se reveló que Ómicron estaba presente en algunos países de África y que podría convertirse en una variante más contagiosa que la predominante Delta las bolsas de valores y los precios de los bonos cayeron mientras que el dólar se apreció contra la mayoría de monedas. Sin embargo la poca información que hay en torno a esta cepa genera preguntas como por ejemplo si ocasiona síntomas más graves o si las personas que se contagien tendrán mayor probabilidad de hospitalización o de morir y también si las vacunas actuales son eficaces o habrá necesidad de desarrollar otra específicamente para esta variante.Los brotes iniciales que se han dado de Ómicron sucedieron en países con bajo nivel de vacunación por lo que el economista explica que lo que sí parece ser más claro es que como Delta esta variante se propagará globalmente pues apenas ayer se dio a conocer el primer caso en Estados Unidos. Esta situación de incertidumbre genera dudas con relación a una probable toma de medidas de aislamiento que puedan retrasar la recuperación económica lo que ha resultado en un incremento de la volatilidad financiera que se mantendrá hasta no determinar el daño potencial de Ómicron.Análisis económicoLos proyectos de infraestructura que forman parte de la estrategia económica de los países son de alta relevancia porque además de generar empleos e impactar en la economía también pueden propiciar beneficios en el entorno social como es potenciar el tránsito tanto de personas como de carácter comercial así como ayudar a mejorar el medio ambiente y disminuir la desigualdad.De acuerdo con Serrano es importante considerar que de darse nuevamente este distanciamiento social si habrá efectos significativos para empezar la recuperación económica que se ha venido observando perderá fuerza y por ende los escenarios de inflación también serán elevados es decir que nuevas restricciones en fábricas puertos embarcaciones y otros medios de transporte significarán más cuellos de botella en la distribución de insumos y bienes finales y este confinamiento podría propiciar más demanda de bienes que de servicios que crearán situaciones de exceso de demanda que presionarán los precios.Otro de los posibles impactos que daría Ómicron ante un menor crecimiento económico y más inflación es que los bancos centrales estarían enfrentando una situación complicada. Sin embargo Serrano detalla que las cepa también demuestra que hasta el momento las decisiones tomadas por la Reserva Federal de Estados Unidos han sido adecuadas por lo que reitera que ser pacientes para conocer la información que se vaya compartiendo sobre la variante y no apretar la política monetaria pues es un hecho que la crisis sanitaria aún no ha terminado.El economista Jefe de BBVA México estima que es probable que se presenten nuevas cepas y con ellos se vea una reducción en la actividad económica y por ende el nivel del empleo por lo que advierte que los bancos centrales deben de actuar a la primera señal de que las expectativas inflacionarias aumenten de forma significativa e insiste en que la política monetaria no debe ser la única herramienta ante la pandemia es muy importante que los países entiendan la relevancia de acelerar su proceso de vacunación y que las economías desarrolladas aumenten sus donativos de vacunas que permitan inocular en países pobres lo cual resultaría muy efectivo para evitar que el virus siga mutando y con ello impactando de diferentes formas a la economía global.El artículo se publicó completo en El Financiero el 2 de diciembre de 2021 y puede consultarse en este link.
Cerrejón Drummond y Cerro Matoso fueron las empresas de minería con las mejores posiciones según el ranking de reputación presentado por Brújula Minera. Las tres reunieron ingresos operacionales por más de 1817 billones en 2021. Así lo indicó el informe de 1.000 empresas presentado por la Superintendencia de Sociedades. Seguido en el ranking reputacional se ubicó Argos Mineros Zijin C.I. Milpa mientras que en los tres últimos lugares aparecieron AngloGold Coquecol y Paz del Río. Esto indica que de las 10 empresas con mayor desempeño en el país cinco se dedican a la producción de carbón.El indicador reputacional pasó de 30 en 2021 a 40 en 2022. Ahora el reto del sector será convencer a la sociedad sobre su compromiso con el medio ambiente y escalar ese 33 obtenido en las encuestas este año y superar 34 de 2021.Los avances del sector también tuvieron un mejor desempeño entre la ciudadanía. De ahí que 80 de los habitantes de municipios mineros consideraran que esta actividad bien gestionada trae desarrollo a las regiones donde opera.En las regiones productoras de carbón térmico metalúrgico y de metales y piedras preciosas creen que este sector de la economía es el que más aporta a las comunidades donde trabaja según el estudio realizado por Jaime Arteaga y Asociados y el Centro Nacional de Consultoría.Aunque después de estos resultados y de un importante diálogo entre los actores del sector la conclusión fue que sí es posible construir una relación basada en la confianza y la generación de valor con el territorio y los grupos de interés la tarea ahora además de seguir avanzando en estas variables y otras dimensiones está en que el sector logre vincularse de manera proactiva en asuntos críticos como un proceso de transición energética justa con los habitantes y el territorio. Asimismo con la diversificación y disminución de la dependencia de las economías locales del sector y en el establecimiento de relaciones participativas con los territorios indica el estudio.Para gestionar exitosamente la reputación del sector es necesario construir relaciones sostenibles y ganar confianza con los grupos de interés lo que sólo puede lograrse reconociendo estos desafíos y abordándolos. Siempre a partir de los cuatro pilares fundamentales el cumplimiento la contribución el compromiso y la credibilidad anotó el gremio.Estos resultados fueron presentados ante diferentes actores del gremio en el marco del Octavo Panel de Reputación del Sector Minero. En el espacio se dio a conocer además que la percepción de los funcionarios del Gobierno frente al sector ha mejorado. Al menos 10 más de esta población manifiesta sentirse satisfecha con la contribución de la minería al desarrollo.
El mayorista tecnológico Impresistem brinda amplias soluciones corporativas reconocidas en el mercado por su eficiencia y productividad entre ellas se encuentran propuestas de servidores de alto rendimiento que crean arquitecturas tecnológicas para la respectiva gestión de la información.  Para la distribución y comercialización de productos y soluciones Dell ha establecido una estrategia soportada principalmente por canales de venta y mayoristas como Impresistem con quienes han logrado establecer una alianza para la consolidación del negocio en el país.La alianza tiene como propósito desarrollar entornos dirigidos en la eficiencia corporativa además de brindar soluciones rápidas y efectivas de cómputo gracias al modelo de cobertura que aplica Impresistem. Incluso con esta unión empresarial ambas compañías pudieron configurar elementos para alcanzar un mayor posicionamiento del modelo de mayorista.Dell es una marca que de la mano de Intel ha hecho una importante gestión para responder al desabastecimiento de productos tecnológicos causado por diferentes situaciones que se están presentando en el mundo. Para esto ha implementado una estrategia exitosa para garantizar la disponibilidad de inventario de forma permanente. Es también un fabricante que al mantener una plataforma estable garantiza mayor accesibilidad de los productos en materia de precios y una mayor adaptabilidad de las soluciones afirma César Cortés Director de la Unidad de Negocios SmartCorp de Impresistem.
Bbva Colombia fue reconocido por el Banco de Desarrollo Empresarial de Colombia Bancóldex por su apoyo en la financiación del crecimiento de las empresas colombianas donde se destacó a las compañías exportadoras.La entidad se ubicó como la líder en materia de colocación de créditos a través de las líneas de redescuento que ofrece la entidad gubernamental. Bbva desembolsó recursos por 465.000 millones destinados a las empresas del país con el fin de apoyar la reactivación económica.Bbva fue reconocido por su apoyo a los exportadores constituyéndose en el principal colocador de créditos a exportadores y como la entidad con mayores desembolsos de recursos a municipios apartados.Mario Pardo Bayona presidente ejecutivo de BBVA en Colombia expresó que este reconocimiento demuestra nuestro total compromiso con el empresariado colombiano y el sector exportador. El apoyo a las empresas y la reactivación económica es clave para el país y por tanto es prioritario para Bbva.Por su parte Javier Díaz presidente de Bancoldex aseguró que quiero expresarles a nuestros aliados financieros mi más profundo agradecimiento por la labor realizada para impulsar a los empresarios colombianos seguimos trabajando todos hacia el mismo horizonte. En Bancoldex nos enorgullece tener colegas con los que buscamos constantemente nuevas formas de trabajar para seguir fortaleciendo el desarrollo empresarial.
Según las previsiones de BBVA Research el crecimiento del gasto de los hogares se situaría alrededor del 45 en 2021 menos de lo previsto hace tres meses debido al deterioro de la capacidad de compra de las familias y las disrupciones en las cadenas de producción. En 2022 el consumo privado podría acelerarse hasta el entorno del 5565 favorecido por el avance de la renta disponible de los hogares una inflación más contenida la absorción de una parte del ahorro acumulado y el empuje de los fondos europeos NextGeneration NGEU.  BBVA Research señala que si se mantiene el escenario de previsión a finales de 2022 el consumo no habría recuperado los niveles prepandemia.El informe de BBVA Research Situación Consumo del segundo semestre de 2021 señala que el gasto en servicios y bienes de primera necesidad habría aumentado en 2021 favorecido por el progreso de la vacunación y la desaparición de las restricciones de movilidad así como por la apertura de establecimientos comerciales. Por el contrario los últimos datos disponibles apuntan a una reducción del 9 de la demanda de bienes duraderos en los tres primeros trimestres de este año.La menor capacidad de compra de las familias y la escasez de bienes provocada por la interrupción de las cadenas de suministro entre otros factores explicarían una recuperación del consumo menor que la prevista en el anterior informe. En este contexto el Servicio de Estudios de BBVA prevé para 2021 un crecimiento del consumo en el entorno del 45 y una aceleración hasta el 55  65 en 2022. El deterioro de la situación sanitaria el mantenimiento prolongado de las restricciones de oferta la evolución de la inflación y del empleo así como el nivel de ejecución de los fondos europeos y la menor utilización del ahorro acumulado podrían condicionar estas previsiones.Esta debilidad del consumo de bienes duraderos se observa especialmente en el sector del automóvil. Así las matriculaciones de turismos hasta noviembre de 2021 se redujeron un 33 respecto a las realizadas en el mismo periodo de 2019 aunque fueron un 4 superiores a las efectuadas de enero a noviembre de 2020.Este descenso de las ventas de vehículos es generalizado para todas las comunidades autónomas. La mayor contracción se registró en Murcia 52 Comunitad Valenciana 45 Baleares 45 y Canarias 40. Mientras que las menores caídas respecto a 2019 tuvieron lugar en Ceuta y Melilla 21 la Comunidad de Madrid 22 y Aragón 27.Diversos factores explican esta caída de las ventas de automóviles. Por el lado de la demanda el descenso de la renta disponible de las familias y el encarecimiento del carburante. No obstante los últimos datos apuntan a que la renta disponible de los hogares crecerá tanto en la parte final de 2021 como en 2022. Asimismo BBVA Research prevé que el precio relativo de los combustibles se reduzca en torno a un 8 el próximo año. Todo ello contribuirá a incrementar las matriculaciones de turismos.Por el lado de la oferta los problemas de abastecimiento de materias primas y los cuellos de botella en el sector explican buena parte del descenso de la producción de automóviles. En concreto las estimaciones de BBVA Research indican que en ausencia de restricciones de oferta las matriculaciones de turismos habrían crecido entre 3 y 7 puntos porcentuales más en 2021. En 2022 la recuperación dependerá de la duración de los cuellos de botella.En este contexto BBVA Research prevé que en 2022 se podrían matricular 1.000.000 turismos un 21 menos respecto a 2019. Por el contrario si las restricciones de oferta se prolongan durante todo el año las ventas apenas superarían las 940.000 unidades lo que situaría la caída en un 25 respecto a los niveles prepandemia.El crecimiento sostenido de las ventas de vehículos eléctricos impulsadas por las preferencias de los consumidores la disponibilidad creciente de modelos y la determinación de las administraciones ha acotado la disminución de las matriculaciones de automóviles. . En particular las matriculaciones de turismos eléctricos en 2021 prácticamente duplican las efectuadas en 2020 y casi multiplican por cuatro las realizadas antes de la pandemia.Este crecimiento junto con la contracción de la demanda de automóviles de combustión interna han generado un incremento de la cuota de mercado de este tipo de vehículos. Así entre enero y noviembre los turismos eléctricos representaron el 76 de las matriculaciones frente al 14 en 2019.Programas como el MOVES III que incentivan la compra de vehículos eléctricos y bonifican entre un 30 y un 80 el coste de la instalación de puntos de recarga suponen un impulso en la electrificación del transporte. Por todo esto para los próximos trimestres BBVA Research prevé un aumento de las ventas de vehículos eléctricos.Es por ello que BBVA Consumer Finance y Faconauto han lanzado una campaña para financiar a través de las soluciones digitales del banco vehículos híbridos enchufables y eléctricos a un tipo de interés preferente y sin gastos de apertura. Una iniciativa con la que los clientes podrán acogerse al Plan MOVES III.
Mientras este jueves se conmemoraba el Día de Acción de Gracias en Estados Unidos el dólar operó en modalidad next day. Durante la jornada aumentó 1254 y cerró a un precio promedio de 3.98203. La Tasa Representativa del Mercado TRM para hoy será 3.96949 la misma de ayer.Durante la sesión se negociaron US97 millones a través de 218 transacciones. La divisa tocó un máximo de 3.99199 y un mínimo de 3.968.Las minutas de la reunión del 2 y 3 de noviembre de la Reserva Federal impulsaron al dólar a mitad de semana. Los documentos indicaron que la entidad está más preocupada por la aceleración de la inflación indicador que a mitad de año consideraba transitorio pero que con el tiempo se ha evidenciado una permanencia indeseada.Varias autoridades aseguraron estar abiertas a acelerar la reducción de su programa de compra de bonos si se mantiene el IPC alto. Además buscarían la forma de subir más apresuradamente las tasas de interés sin perder de vista el plan ya estipulado de reducción de compra de bonos.Un reporte publicado en la víspera de entrega del nuevo dato mostró que las solicitudes de subsidio por desempleo en Estados Unidos estaban en un mínimo de 51 años mientras que el gasto de los consumidores aumentó más de lo esperado en octubre y la inflación siguió acelerándose.En paralelo los precios del petróleo cayeron levemente a medida que los inversionistas observaban cómo los principales productores respondieron a la liberación de petróleo de emergencia liderada por EE.UU.El crudo estadounidense WTI bajó 040 a US7808 el barril mientras que el petróleo europeo Brent disminuyó 020 a US8225.
Cuando un comité del Congreso se preparaba para interrogar públicamente a los directores ejecutivos de cuatro gigantes tecnológicos en 2020 Brad Smith de Microsoft cuyo empleador no estaba en el banquillo dio a los legisladores una sesión informativa privada. Cuando Australia propuso una ley para forzar a Facebook y Google para pagar los artículos de noticias Smith lo respaldó y ofreció Bing de Microsoft como alternativa. Cuando Estados Unidos consideró una legislación similar fue a Washington a testificar ante el Congreso para mostrar su apoyo.Smith un veterano de Microsoft de casi 30 años y presidente durante siete ha llevado a su empresa a una posición envidiable en un entorno regulatorio que es cada vez más hostil hacia los titanes de la tecnología . Alguna vez un paria antimonopolio los reguladores ahora ven a Microsoft como la parte amistosa entre las principales empresas tecnológicas de la actualidad  un estatus que los funcionarios del gobierno y los expertos de Microsoft dicen que se deriva en gran medida del cultivo de amigos de Smith en Washington.Los rivales dicen que también es hábil para dirigir la atención negativa hacia los competidores en beneficio de Microsoft.La influencia del hombre de 63 años está siendo puesta a prueba mientras la compañía trata de allanar el camino para su adquisición más grande hasta ahora una compra de US75.000 millones de Activision Blizzard Inc. Si bien los reguladores aún tienen que aprobar el acuerdo los legisladores y los representantes de la industria dicen que es difícil imaginar a cualquiera de las otras cuatro compañías tecnológicas más grandes de EE. UU. Apple Inc.  Amazon.com Inc. la matriz de Google Alphabet Inc. o propietaria de Facebook Meta Platforms Inc.  estando en posición de incluso intentar obtener la aprobación para una adquisición de ese tamaño en el entorno actual.Si este fuera cualquiera de los otros cuatro sospechosos habituales el retroceso sería mucho mayor dijo el senador Mark Warner D. Virginia.La estrategia de Smith ha sido cooperar con los reguladores que a menudo tienen a los rivales de Microsoft en la mira. Ha criticado el funcionamiento de la App Store de Apple  ya que Microsoft intenta llevar su servicio  Netflix para juegos al iPhone. Ha apoyado medidas para reducir el dominio de Facebook y Google en la publicidad digital lo que podría beneficiar a los negocios de búsqueda y publicidad digital de Microsoft. Su apoyo a las regulaciones del sector tecnológico ha afectado los esfuerzos de Amazon el feroz rival de Microsoft en computación en la nube para luchar contra las restricciones en sus prácticas comerciales.Su equipo sacó a Microsoft de las asociaciones comerciales creadas para ayudar a la industria de la tecnología a hablar con una sola voz sobre las acciones del gobierno y dejó que caducara una tregua con Google bajo la cual las compañías habían acordado dejar de presentar quejas regulatorias entre sí.Kent Walker  director legal de Google dijo en una publicación de blog a principios del año pasado que la postura de Smith sobre algunos temas olía a oportunismo corporativo desnudo .Si bien el escrutinio del gobierno y la competencia entre las empresas tecnológicas más grandes han ido en aumento las posturas que adopta Microsoft no están calculadas para socavar a los competidores dijo Smith en una entrevista.En cambio dijo que la compañía está buscando alinearse con las próximas regulaciones y principios con los que está de acuerdo incluso si crea más obstáculos regulatorios.Dibujó un paralelo con los bancos que enfrentaron nuevas reglas en la década de 1930 luego de una serie de pánicos financieros. Los convirtió de empresas no reguladas a negocios regulados dijo. La resistencia resultó inútil.Antiguedad y experienciaPocos otros ejecutivos de tecnología tienen la combinación de antigüedad de Smith dentro de sus empresas y experiencia en lidiar con los centros de poder político y regulatorio. Uno de los líderes con más años de servicio dentro de Microsoft se unió en 1993 y se desempeñó como asesor legal durante sus amargas disputas antimonopolio con los reguladores de todo el mundo en la década de 1990.El abogado general de Microsoft en los años 90 tenía un enfoque más conflictivo con los reguladores dijeron ex empleados de Microsoft. En 2001 Smith hizo un llamado a la junta directiva de Microsoft para que se convirtiera en el próximo asesor general con una sola diapositiva de PowerPoint que decía Es hora de hacer las paces. Comenzó el trabajo al año siguiente.Luego de un importante acuerdo con el Departamento de Justicia de EE. UU. en 2001 que impuso una serie de restricciones a las prácticas comerciales de Microsoft el Sr. Smith buscó la resolución de docenas de casos con gobiernos y empresas de todo el mundo. La nueva amistad se convirtió en un arma en el arsenal competitivo de Microsoft.En 2007 Microsoft perdió frente a Google en la adquisición de la empresa de tecnología publicitaria DoubleClick  que el rival compró por 3.100 millones de dólares. Steve Ballmer  entonces director ejecutivo de Microsoft le dijo a Smith que se asegurara de que Google enfrentara el mismo escrutinio regulatorio que había resistido dijeron ex empleados que trabajaron con Smith.Smith presionó a los funcionarios para que bloquearan el acuerdo de DoubleClick por el dominio de Google en los anuncios digitales. El esfuerzo fracasó pero provocó una pelea desagradable con Google que estaba comenzando a competir con Microsoft en áreas como el software de productividad de oficina un enfoque estratégico central para Microsoft.Smith creó un nuevo grupo llamado Oficina de Relaciones Estratégicas integrado por abogados y cabilderos para impulsar casos antimonopolio contra Google en Estados Unidos y Europa. Respaldó a los grupos antiGoogle y brindó asistencia financiera y experiencia a las empresas que desafiaron a Google como el pequeño sitio web de comparación de precios Foundem con sede en el Reino Unido  que presentó una denuncia antimonopolio en 2009. Los funcionarios europeos multaron a Google con casi  3 mil millones en relación con la denuncia en 2017.Ballmer quería una acción aún más agresiva y recurrió al estratega político Mark Penn  quien diseñó una serie de anuncios de ataque contra Google de 2012 a 2014 conocida como la campaña Scroogled. Un anuncio de video señaló que los resultados de búsqueda de Google presentan anuncios pagados diciendo No se deje scroogled es posible que se esté perdiendo los mejores precios y los productos de la más alta calidad. Para una búsqueda honesta pruebe con Bing.El papel de Smith volvió a cambiar después de 2014 cuando Satya Nadella  un ingeniero de voz suave se convirtió en director ejecutivo y rápidamente cambió la cultura de Microsoft de una política corporativa combativa a una mayor colaboración dentro y fuera de la empresa. Una de sus primeras acciones públicas fue hacer que el software de productividad Office de Microsoft estuviera disponible en el iPad de Apple un paso para alejarse de la vinculación estrecha de sus aplicaciones con su sistema operativo Windows.Smith se convirtió en uno de los partidarios más entusiastas de los esfuerzos del Sr. Nadella dijeron ex empleados. El nuevo director ejecutivo ascendió al Sr. Smith a presidente en 2015 lo que le dio más influencia para reunirse con funcionarios del gobierno y testificar en audiencias del Congreso. Al año siguiente Microsoft y Google acordaron una tregua de cinco años para poner fin a las quejas entre sí ante los reguladores. Por entonces Smith cerró el grupo de competencia de la Oficina de Relaciones Estratégicas.Choque con los rivalesDesde que asumió el cargo de presidente el Sr. Smith se ha convertido en una cara pública más prominente de Microsoft. Le gustaba el papel los miembros de su equipo a veces se referían a él como Gobernador Smith y a menudo hablaba de tener números de teléfono de miembros importantes del Congreso dijeron personas que trabajaron con él. Describió su gran visión global para el mundo de la tecnología incluida una Convención Digital de Ginebra para gobernar la guerra cibernética en su libro de 2019 Herramientas y armas.A medida que el escrutinio regulatorio de las grandes empresas de tecnología se ha intensificado recientemente Smith se ha quitado los guantes nuevamente con los competidores de Microsoft lanzando su nombre detrás de propuestas de políticas a las que los rivales se oponen firmemente a menudo en casos en los que los resultados de Microsoft se verían menos afectados.Microsoft ha seguido una estrategia de tratar de posicionarse aparte de Big Tech y como el jugador más responsable dijo Adam Kovacevich un ex cabildero de Google que ahora dirige la Cámara del Progreso un grupo de defensa sin fines de lucro financiado por Amazon Apple Google  Facebook y otras empresas tecnológicas.Frank Shaw vicepresidente corporativo de comunicaciones corporativas de Microsoft dijo Nadie es perfecto pero nos esforzamos por tener principios y en ocasiones esto crea una oportunidad para separarnos de la competencia.Los legisladores y los asistentes del Congreso dicen que Microsoft ha estado más dispuesto que otros gigantes tecnológicos a poner a disposición tanto a los altos ejecutivos como al personal experto mientras abordan problemas espinosos de política tecnológica como responder a ataques cibernéticos o enviar datos de usuarios a través de fronteras internacionales.Hemos tratado de identificar las preocupaciones que la gente podría tener y luego abordarlas de manera proactiva dijo el Sr. Smith. Creo que eso nos servirá mejor para que se apruebe la adquisición de Activision.Después de que la compañía anunciara la oferta de Activision a principios de este año el equipo de Smith contactó a los ayudantes del representante Ken Buck  el principal republicano en el Subcomité Antimonopolio de la Cámara de Representantes a quien el ejecutivo de tecnología conoce desde hace años.Smith quería disipar cualquier preocupación que el congresista de Colorado pudiera tener sobre el impacto del acuerdo en la competencia de la industria un tema que Buck ha defendido.Buck uno de los críticos más vocales de las grandes empresas de tecnología en un Congreso repleto de ellas parecía persuadido. A las pocas horas del anuncio del acuerdo publicó al respecto en su cuenta de Twitter que utiliza habitualmente para atacar a Amazon Apple Facebook y Google. Las garantías que he recibido de Microsoft son alentadoras tuiteó y agregó que Microsoft dijo que enfatizaría el acceso a los títulos de juegos y la competencia en el mercado.Smith ha cultivado una relación con Buck durante años desayunando con él poco después de que el residente de Colorado fuera elegido por primera vez para la Cámara en 2014. Ambos hombres se graduaron de Princeton en 1981 pero no se conocían previamente recordó Buck. Desde entonces Smith ha compartido regularmente sus comentarios privados y su apoyo público sobre la legislación tecnológica.Creo que Brad aprendió de su experiencia como abogado que representa a Microsoft que la mejor manera de tratar con esas personas en The Hill es visitarlas en persona dijo Buck. Simplemente no recibo ese tipo de comentarios de los altos ejecutivos de otras empresas.Activision en el punto de miraEl acuerdo de Activision pone a Microsoft en el punto de mira de los reguladores. Microsoft no espera cerrar el trato hasta junio de 2023. Está siendo revisado por la Comisión Federal de Comercio  encabezada por la presidenta Lina Khan quien ha transmitido sus planes para aumentar el escrutinio de las fusiones.El jueves cuatro senadores de EE. UU. enviaron una carta a la FTC citando preocupaciones sobre el acuerdo diciendo que podría socavar los pedidos de rendición de cuentas de los empleados por supuestas malas conductas en Activision.Cuando se anunció el acuerdo en enero Smith dijo que se despertó a las 4 am con la mente llena de ideas. Incapaz de volver a dormirse comenzó a esbozar un plan para mitigar las críticas abordando los problemas de competencia de frente.Llamó al jefe de juegos de Microsoft Phil Spencer a las 8 am para elaborar planes para contactar a Sony Group Corp. el principal competidor de Microsoft en juegos para informarle que Microsoft continuaría haciendo juegos de Activision para las consolas PlayStation de Sony.Smith decidió con Nadella el CEO anunciar que Microsoft planeaba hacer que su tienda de aplicaciones fuera más abierta que la de Apple sin presiones del gobierno por ejemplo al no requerir que los desarrolladores usen un sistema de pago patentado.La compañía vio esto como parte de un lanzamiento a los reguladores de todo el mundo de que sería un buen administrador de una gran adición a su ya gran negocio de juegos. El mes siguiente dio a conocer los principios de la nueva tienda de aplicaciones en Washington a los legisladores y la prensa.Estamos más concentrados en adaptarnos a la regulación que en luchar contra ella dijo Smith a los periodistas. Queremos ser claros con los reguladores y con el público en cuanto a que si se aprueba esta adquisición pueden contar con Microsoft para adaptarse a las reglas que están surgiendo y administrar nuestro negocio de manera responsable.
Bbva publicó el Consumption Tracker al 19 de julio un indicador de consumo de la entidad bancaria que mide el gasto en bienes y servicios de sus clientes a través de las transacciones realizadas a través de tarjetas débito y crédito.El consumo en lo corrido de julio consolida una buena dinámica pues se ubica 16 por encima de lo registrado en el mismo periodo de 2019 es decir antes de la pandemia. Este es el registro más alto observado desde enero de 2020.El hallazgo más relevante de esta edición del estudio es que el gasto en restaurantes alcanzó un nuevo máximo y en lo corrido del mes se ubicó 22 por encima de lo registrado en el mismo periodo del año anterior a la pandemia un registro que no se había visto desde hace 15 meses. Cuando inició la crisis de salud pública este segmento cayó cerca de 87 frente a 2019.La entidad destacó que el gasto en bienes principalmente alimentos y de salud creció 29 por encima de su nivel prepandemia mientras que el consumo de servicios moderó el ritmo de recuperación que traía en los primeros días del mes. Sin embargo mantuvo una buena dinámica y se ubicó 35 por debajo de periodo sin crisis.El gasto en entretenimiento mostró una mejor dinámica en julio aunque continuó en mínimos. Su recuperación permaneció más lenta frente a otros sectores.
Colombia cierra un año de múltiples aristas con una economía creciente teniendo en cuenta el efecto base generado por el impacto de la pandemia.Para 2022 si bien la dinámica de crecimiento no se mantendría igual que la revisión al alza de 97 para 2021 sí se evidenciará una senda positiva apoyada en los sectores de petróleo y vivienda como principales jalonadores. Así para el año entrante según las estimaciones del Banco de la República el PIB nacional crecerá 47.El mejoramiento de las condiciones financieras externas los términos de intercambio la política fiscal anticíclica y la política monetaria expansiva ayudarían a esa capacidad de recuperación.El presidente de Campetrol Nelson Castañeda afirmó que el plan de vacunación contra el covid19 y el surgimiento y propagación de nuevas variantes del virus incidirán directamente en el comportamiento de los precios del crudo para el próximo año. Además será clave el ajuste de producción de la Opep y el acelerado crecimiento del suministro de Estados Unidos.Esperamos que en los primeros meses de 2022 los precios experimenten presiones a la baja como resultado de la disminución de la demanda debido al aumento de nuevos casos especialmente en Europa y Estados Unidos. Así mismo es importante resaltar que con la última decisión del cartel petrolero y la recuperación del ritmo de producción en Estados Unidos se podría evidenciar un exceso de oferta en el primer trimestre expresó Castañeda.Este un escenario que no incorpora nuevos paros y una nueva ola de contagio.Con la recuperación del ritmo de producción de crudo en Estados Unidos se podría evidenciar un exceso de oferta en el primer semestre. Opep revisaría la política de flexibilización de recortesLas tasas de interés a nivel internacional empezarán a subir con retiro de estímulos de la Fed por lo que los incentivos del Gobierno a tomar créditos en moneda extranjera podrían moderarseDel lado del sector constructor después de cerrar el mejor año en ventas de vivienda de la historia con más de 239.000 unidades vendidas la presidente de Camacol Sandra Forero aseguró que en 2022 se proyecta un crecimiento de 177 en el PIB del sector edificador.La cifra significa crecer 35 veces más que la economía en su conjunto y será la actividad productiva de mayor dinamismo el próximo año puntualizó Forero.En cuanto a la deuda externa total esta representa 568 del PIB y 33 en el caso de la deuda pública. Así lo afirmó Jackeline Piraján economista de Scotiabank Colpatria quien agregó que para los doce meses venideros las buenas noticias en el recaudo fiscal derivado de los buenos niveles de la actividad económica pueden motivar un menor endeudamiento del Gobierno en mercados externos.Sin embargo Iván Jaramillo investigador del Observatorio Laboral de la Universidad del Rosario explicó que preocupa la inflación la cual puede llegar a dañar el proceso de reactivación y repercutir en el desempleo.De hecho para 2022 el Emisor estima un IPC de 37 mientras que Corficolombiana y varios analistas proyectan entre 42 y 5 al término del año.El profesor de economía de la Universidad Externado Isidro Hernández dijo que los niveles de demanda agregada dependerán de la tasa de desempleo que podría estar cercana a 10.Y además del escenario sanitario Francisco Azuero profesor de la Universidad de los Andes hizo especial énfasis en el plano político y lo que suceda en las elecciones 2022.
"La importancia que cada día más empresas le otorgan al tema de la sostenibilidad como parte esencial de su modelo de negocio está cambiando las estructuras corporativas. Esto se debe a la urgencia que existe en la materia en todo el mundo. Para conocer con mayor detalle los esfuerzos que se realizan en México, se llevó a cabo un panel sobre sostenibilidad como parte de Diálogos BBVA 2022: Talento hecho en México.
El panel “Relevancia de las empresas e instituciones en la transformación de sociedades sostenibles”, moderado por Sergio Torres Lebrija, director de Estrategia e Innovación de la Banca Digital y Sostenibilidad de BBVA México, contó con la participación de María José Treviño, directora general de Acclaim Energy México; Luis Darío Ochoa Rodríguez, director de Sostenibilidad y Licencia Social de Coca-Cola FEMSA (KOF); y de Carlos Mendieta Zerón, presidente del Pacto Mundial México y director de sustentabilidad en PetStar.
15:24Audio
Cambio climático
Reproducir
Cambio climático
La sostenibilidad es definida como “asegurar las necesidades del presente sin comprometer las necesidades de las generaciones futuras, siempre sin renunciar a la protección del medioambiente, el crecimiento económico y el desarrollo social”. Desde la perspectiva de Mendieta, se trata de “la gran posibilidad de imaginar ese futuro deseable para las personas y para el ambiente. Es un ejercicio de reflexión continua y de un actuar constante”.
La reflexión continua es esencial para la empresa. A través de un ejercicio crítico y sincero, se podrá llegar a sitios incómodos, pero necesarios, que muestren las áreas de oportunidad que tiene la compañía. Por eso el ejercicio debe acompañarse de un actuar constante, de pasar a la acción y comprender hacia dónde llevan esas acciones. Para conocer los caminos a seguir, las empresas tienen como referencia y hoja de ruta los Objetivos de Desarrollo Sostenible (ODS) y la agenda 2030 de la Organización de las Naciones Unidas (ONU).
La aplicación práctica de las acciones sostenibles en las empresas dependerá en buena medida de su actividad esencial y su relación con el medio ambiente. Ochoa ejemplifica muy bien lo anterior. En KOF son prioritarios los proyectos relacionados con el cuidado del agua, economía circular y la reducción de emisiones en la cadena de valor. Se trabaja hacia atrás de la cadena de producción con proveedores y hacia adelante con los clientes. Esta estrategia puntualiza claramente el terreno sostenible donde se debe de actuar y que abarca todo el espectro de producción, desde los proveedores, la actividad propia, de los clientes, del consumidor final y del manejo de residuos.
De forma más reciente han evolucionado la estrategia y se han reforzado los aspectos sociales y de gobernanza, es decir, en la integración de un modelo con criterios Ambientales, Sociales y de Gobernanza (ESG, por sus siglas en inglés). La incorporación de estos criterios es fundamental para toda empresa que desee ser sostenible.
La energía es un tema que impacta a las empresas e industrias en mayor o menor medida, pero todas requieren utilizarla. Por ello es un aspecto donde existen importantes áreas de oportunidad para ejercer una acción a favor del medio ambiente. Para dimensionar este impacto en el consumo de energía, Treviño indica que de acuerdo con la ONU el 42% de las emisiones de gases de efecto invernadero en el mundo provienen de la energía.
Uno de los objetivos de la compañía liderada por Treviño, es orientar a los grandes consumidores de energía eléctrica y gas natural a entender el impacto de su cadena de valor y como mejorar su eficiencia en general, reduciendo costos y minimizando significativamente la huella de carbono. Se trata de clarificar los riesgos y costos a los que se enfrenta la empresa al no aprovechar las oportunidades que los principios ESG pueden generar para la organización y a su vez los beneficios económicos que estos presentan.
En los últimos cinco años Acclaim Energy México ha logrado ayudar a las empresas a reducir sus impactos ambientales a un equivalente a plantar 31 millones de árboles anualmente, que al ponerlo en perspectiva, serían 1,700 veces la dimensión de Central Park en Nueva York.
Retomando el tema de reflexión y actuar constante que Mendieta explicó, esta dinámica se ejemplifica por el directivo de Coca-Cola FEMSA, quién detalla que han decidido acelerar sus objetivos y se han fijado metas para el 2030. En materia de emisiones, establecieron una disminución del 50% en emisiones de sus operaciones directas, donde la movilidad sostenible presenta retos importantes en infraestructura y tecnología. Otras metas son la disminución de un 20% en emisiones de alcance 3 (aquellas indirectas que no son controladas por la empresa) y el impulso en economía circular para lograr el 100% en la recolección de residuos. Establecer una meta implica que sea clara, medible, alcanzable, que presente un desafío a la organización, pero que sea posible conseguirla.
Desde la perspectiva del uso de energía, existen retos muy diversos para las empresas en México. Treviño menciona que los principales van desde los cambios regulatorios que se están presentando en el sector, la dificultad de dar claridad y precisión a las acciones para lograr los objetivos que se fijan en la empresa, los constantes cambios en los indicadores y en la forma de medir, así como los tiempos de implementación y migración de infraestructura a suministros renovables.
“Si caminas solo, irás más rápido, si caminas acompañado, llegarás más lejos”. Este proverbio chino aplica para las empresas que buscan ser sostenibles. Existen redes de empresas como las del Pacto Mundial México que fomentan la creación de comunidades para lograr los objetivos sostenibles. Crear sinergias entre empresas del sector o incorporar nuevos participantes y asesores sostenibles en las mismas, ayudará a impulsar y presionar positivamente a toda la cadena de producción a sumarse a los objetivos planteados por la agenda 2030.
El camino necesario para toda organización es lograr una transformación a un modelo sostenible, coincidieron los expertos de la mesa. Para lograr que las empresas sean sostenibles, se requiere de un compromiso a todos los niveles de la organización. La incorporación de los criterios Ambientales, Sociales y de Gobernanza en el ADN de las empresas es una necesidad que ayudará a las organizaciones a ser más rentables, a estar mejor preparadas para el futuro y a mejorar sus perspectivas de continuidad en el tiempo."
La inflación en el área de la Ocde subió a 77 en el segundo mes del año luego de analizar el consolidado de países para ese periodo frente al 72  de enero y solo 17  en febrero de 2021 alcanzando su tasa más alta desde diciembre de 1990. Según explicó el bloque este aumento reflejó en parte otra fuerte subida de la inflación en Turquía pasando del 487 en enero al 544 en febrero la cual aunque no aparece en el consolidado desde ya se sabe que en marzo llegó a más de 60. Excluyendo Turquía la inflación en el área de la Ocde aumentó 63 tras una tasa del 58  en enero de 2022.Según detalló la organización si bien la energía siguió impulsando la inflación en la mayoría de los países de la Ocde la inflación de los precios de los alimentos también mostró un aumento notable. Excluyendo alimentos y energía la inflación interanual en el área subió hasta 55  desde 51  de enero de 2022.La inflación interanual en el área del G20 también aumentó en febrero de 2022 alcanzando 68 frente al 65 de enero de 2022. Fuera del área de la Ocde la inflación interanual aumentó significativamente en Argentina. Se mantuvo estable en China y Sudáfrica mientras que disminuyó en India.Preocupación por inflación entre países más pobresExpertos del Banco Mundial aseguraron que la inflación provocada por la reactivación tras la pandemia y ahora por el conflicto entre Rusia y Ucrania puede provocar estragos en la población pobre del mundo.Según el organismo multilateral la inflación está en máximos desde 2011 en las economías emergentes y los países en desarrollo que superan en su mayoría a las metas establecidas por los bancos centrales.Dice que los hogares de ingresos bajos y medios tienden a ser más vulnerables que los hogares ricos por el aumento de los precios debido a las diferencias en los tipos de ingresos activos y de la canasta familiar.El Banco Mundial explica que los hogares de ingresos bajos y medianos de los países desarrollados dependen más de sus salarios mensuales lo que les complica el poder adquisitivo ya que la inflación generalmente sube más que el sueldo.Sucede lo contrario con las familias ricas que diversifican sus ingresos por medio de inversiones o tienen negocios propios debido a que estas ganancias a menudo van al mismo ritmo de la inflación.
El Consumption Tracker es un indicador de consumo que construye Bbva haciendo uso de las transacciones realizadas por sus clientes con tarjetas débito y crédito y desagregándolas según el sector económico al que pertenece. Los datos tienen cierre al 11 de octubre de 2021.La publicación destacó que el consumo en lo corrido de octubre tuvo buena dinámica creció 181 frente al mismo periodo en 2019 año sin pandemia ligeramente superior al dato de septiembre 178 y el mayor desde el inicio de la pandemia.El sector de restaurantes alcanzó los niveles más altos desde el inicio de la pandemia y lideró la recuperación . En los primeros días de octubre el gasto en estos establecimientos creció 407 frente al mismo periodo en 2019.El consumo en aerolíneas se mantuvo dinámico en los días previos a la semana de receso y se ubicó tan solo 168 por debajo de lo registrado en el mismo periodo en 2019.La categoría de entretenimiento mostró una caída frente a la buena dinámica registrada en septiembre retrocedió 585 frente a 2019.El consumo en Barranquilla y Pereira se aceleró en lo corrido del mes mientras que en Bogotá y Medellín se observó una moderación del gasto.
"Pasar la tarjeta (o últimamente el teléfono móvil) por un datáfono para pagar las compras en tienda es un gesto automático muy habitual. Pero en el pasado no era tan sencillo y en el futuro podría volverse menos frecuente. Los terminales puntos de venta (TPV), los sistemas informáticos con los que los comercios tramitan los cobros, han dado un salto tecnológico para aportar aún más valor: desde permitir financiar una compra con pagos fraccionados hasta facilitar a las empresas la logística, el envío de artículos, las ventas de ‘ecommerce’ o los trámites fiscales, entre otros.
Si se dejan al margen las cajas registradoras, que se consideran el antecedente de los TPV, el primer sistema para saldar compras a través de una tarjeta se creó en 1959 en Estados Unidos. Las primeras tarjetas de crédito de plástico, que llegaron de la mano de American Express, tenían impresos en relieve los datos del cliente y una numeración única. Esto permitía usar unas máquinas validadoras que, mediante un rodillo manual, imprimían los datos de la tarjeta en copias carbón de las facturas de compra. Los comercios enviaban una de estas copias a los bancos, que validaban los cobros una vez al mes.
Este sistema llegó a España en 1971, con la tarjeta de crédito del Banco de Bilbao (entidad precursora de BBVA) con BankAmericard, la actual Visa. La tarjeta, que se lanzó inicialmente en Madrid, Barcelona y Bilbao, tenía una caducidad de 6 meses y permitía comprar a crédito en cualquier establecimiento asociado con un límite máximo de 25.000 pesetas de la época (algo menos de 3.000 euros de 2020).
Pronto se bautizó a las máquinas validadoras con el nombre de ‘bacaladeras’, ya que el ruido que hacían cuando se validaba una tarjeta era muy parecido al del aparato de cortado que utilizaban las pescaderías. A pesar de los avances tecnológicos posteriores, y de que era un sistema poco seguro de cara al fraude, algunos negocios siguieron utilizándolas hasta bien entrados los años 2000.
Entretanto, en los años 70, IBM introducía los primeros TPV para restaurantes en Estados Unidos. Con estos primeros sistemas electrónicos, los camareros podían transmitir al instante sus pedidos a la cocina mediante impresión remota, información que luego se trasladaba a un recibo de pago para los clientes con los impuestos ya incluidos. El sistema agilizó el cobro, pero los locales todavía eran reacios a ofrecer el pago con tarjeta, ya que tardaba al menos medio minuto en procesarse. En 1979 aparecieron las máquinas de tarjetas electrónicas de Visa y Master Charge (que ese año se rebautizó como MasterCard) para las primeras tarjetas con banda magnética. Gracias a estas máquinas, se informatizaron tanto los bancos como los comercios y el pago con tarjeta pudo despegar.
En las siguientes décadas, se desarrollaron innovaciones tecnológicas para los TPV y las tarjetas (de crédito y débito), que aumentaron la agilidad y seguridad de las transacciones. En las tarjetas la banda magnética, que permitía comunicarse en tiempo real con el banco para autorizar o rechazar el pago, dio paso al ‘chip’, un microprocesador que hizo las operaciones aún más seguras; se ideó el PIN de cuatro dígitos, que en combinación con el ‘chip’ redujo el fraude; y posteriormente hizo su aparición la tecnología ‘contactless’ a través de NFC, que conecta la tarjeta y el datáfono de manera inalámbrica sin necesidad de un lector de banda o de ‘chip’.
En paralelo, los TPV también se han ido sofisticando: si en los primeros años se conectaban mediante una línea telefónica fija, desde la irrupción de internet pueden conectarse también a través de redes Ethernet, 3G, 4G, GPRS, WiFi o Bluetooth. En cuanto a los datáfonos, de los modelos que solo autorizaban el pago se pasó a otros con impresora que también imprimían el recibo de compra. Como apunte curioso, en 1990 el ya por entonces Banco Bilbao Vizcaya adquirió un modelo, el TRANZ 420 de Verifone, que contaba con baterías para conseguir autonomía en puntos de venta sin red eléctrica. Una innovación que al banco le interesaba para poder ofrecer pago con tarjeta en estaciones de esquí. Las operaciones se guardaban en un cartucho y podían descargarse en otro terminal.
Los datáfonos se han ido adaptando a la evolución de las tarjetas e incluyendo lectores para bandas magnéticas, ‘chips’ y, finalmente, NFC, que permiten pagos ‘contactless’ o de proximidad al acercar la tarjeta al dispositivo. También muestran en pantalla la opción de dividir el pago de la compra en varias cuotas, que ofrecen algunas tarjetas bancarias y el servicio Plazox. BBVA forma parte de esta solución de la industria y además acaba de lanzar sus propias tarjetas, Aqua Más y Aqua Máxima, con las que sus clientes pueden fraccionar el pago en plazos de hasta tres meses sin intereses ni comisiones directamente desde la ‘app’.
Por otro lado, la incorporación de la tecnología NFC a los ‘smartphones’ permite que el cliente pague en los TPV con el móvil en lugar de con la tarjeta, lo que cambia el paradigma del último medio siglo.
En los últimos años, las nuevas tecnologías están permitiendo ir mucho más allá. “Se está produciendo una revolución tecnológica en los pagos que está impactando favorablemente a los comercios”, afirma Ignacio Bañón, responsable global de Soluciones de Pagos en BBVA. “Las soluciones para aceptar pagos son cada vez más sencillas, flexibles y adaptadas a las necesidades de los comercios. Pero el gran cambio es que los nuevos TPVs son ‘inteligentes’, permitiendo que el comercio pueda disfrutar de servicios de valor añadido que ayudan a mejorar sus procesos y su negocio. Y BBVA está liderando esta innovación, tanto en los pagos como en el desarrollo de nuevas soluciones para comercios”.
BBVA ofrece a los comercios en España el TPV Android, basado en el sistema operativo de Google. Los comerciantes pueden agregar aplicaciones en la pantalla del datáfono, como si de un móvil se tratase, que les permiten reembolsar automáticamente el IVA en la operativa de ‘Tax free’, realizar fácilmente devoluciones de compras o leer QR para cobrar a través de Alipay o WechatPay, lo que mejora la experiencia de compra de los clientes extranjeros. Recientemente se han lanzado dos nuevas aplicaciones en España: BBVA Smart Business Lite, que permite la gestión cotidiana de un pequeño establecimiento de hostelería; y Paack, con la que el comercio puede gestionar su logística y el envío de artículos a sus clientes desde el propio terminal.
Por otro lado, hay una tendencia a reducir el tamaño y peso de los dispositivos. Se consigue sustituyendo los ‘tickets’ físicos por digitales, lo que elimina la necesidad de impresora y permite desarrollar un ‘hardware’ más pequeño y ligero. Son los ‘dongles’ o ‘Mobile POS’, lectores de tarjetas que se conectan a los teléfonos directamente o vía ‘bluetooth. BBVA ofrece esta opción a los comercios de España y México con el TPV Móvil SmartPay, un pequeño dispositivo que permite cobrar las ventas a través de un móvil Android o iPhone. Para ello, basta con descargar la ‘app’ BBVA SmartPay y vincular el TPV al móvil vía ‘bluetooth’.
También se están desarrollando TPV virtuales adaptados al ‘ecommerce’, que integran una pasarela de pago en las tiendas ‘online’ y webs. BBVA cuenta con dos opciones. Por un lado, el TPV virtual, presente en todos los mercados en los que opera el banco, permite cobrar con tarjeta o Bizum, programar pagos (por ejemplo, la suscripción mensual a una plataforma de contenidos audiovisuales) y gestionar devoluciones de compras. Por otro, la solución Paygold (o Link de Cobro) permite a un comercio que no tenga página web generar un enlace o un código QR que puede enviar al cliente por ‘email’, SMS o redes sociales, para cobrar a distancia con tarjeta o Bizum. El banco ya lo ha implantado también en todas las geografías.
Las empresas de España, México y Perú que tengan uno o varios de estos TPV de BBVA, sean físicos o virtuales, pueden gestionarlos a través de My Business. Esta funcionalidad es accesible tanto desde la ‘app’ como desde la web y permite centralizar en un solo espacio las ventas de hasta diez TPV y todos los medios de cobro que el negocio haya establecido (tarjetas, Bizum, Wechat…).
Gracias a los avances tecnológicos, las nuevas soluciones de TPV dependen menos del ‘hardware’ tradicional y potencian sus capacidades de ‘software’ para agilizar la gestión de la actividad empresarial. Y las soluciones ‘tap-to-pay’ y ‘tap-on-phone’ simplifican aún más el cobro, ya que no es necesario tener un TPV o ‘dongle’: basta con acercar la tarjeta o el móvil del cliente al móvil o ‘tablet’ del establecimiento, como en el proyecto piloto pionero en España que BBVA lanzó en diciembre de 2020.
Pero, aunque quizá en el futuro la presencia de los tradicionales datáfonos no sea tan familiar, gracias a estos desarrollos los TPV serán un aliado cada vez más importante de los negocios."
La entidad de la Fundación Microfinanzas Bbva firmó la adhesión a los principios de Iniciativa Financiera del Programa de las Naciones Unidas para el Medio Ambiente uniéndose así a la comunidad bancaría.Son 300 bancos de todo el mundo los que se han unido para lograr los Objetivos de Desarrollo Sostenible y el Acuerdo Climático de París. Con esta firma se comprometen a asumir un papel de liderazgo para apoyar y acelerar los cambios para esta y futuras generaciones generando impactos positivos.Adherirnos a los Principios de Banca Responsable de las Naciones Unidas promovidos por Unep FI nos lleva a asumir un reto muy importante por el bienestar de las poblaciones que atendemos y la salud del planeta porque en Bancamía 86 de nuestros clientes emprendedores viven en condiciones de vulnerabilidad 40 a lo sumo tienen educación primaria 54 son mujeres y 43 viven en zonas rurales realidades que merecen un trabajo de finanzas sostenibles que vaya más allá de entregar un producto financiero y en eso hemos mostrados importantes avances cuenta Luis Germán Linares Peña presidente ejecutivo de Bancamía.Es la primera entidad de microfinanzas en Colombia en hacer parte de este grupo que trabaja en pro de la sostenibilidad y mejores prácticas rompiendo brechas de desigualdad y ofreciendo mayores oportunidades a las personas más necesitadas en sus ideas productivas.Desde su creación en 2008 la entidad de la Fundación Microfinanzas Bbva se ha propuesto mejorar la calidad de vida de las familias de bajos ingresos con procesos de inclusión financiera la creación de una oferta de valor hecha a la medida de las realidades de los más vulnerables.
A partir de las 800 a.m. de hoy se realizará en Medellín el Foro LR Logística y nuevo entorno mundial en alianza con EPM un espacio donde se abordarán los desafíos del comercio exterior con las voces de expertos.El encuentro que se hará en Plaza Mayor iniciará con una breve intervención del gerente general de EPM Jorge Andrés Carrillo. Además habrá una conferencia del viceministro del Ministerio de Transporte Carlos Eduardo Enríquez quien hablará sobre las oportunidades de hoy en el comercio exterior y habrá una segunda a cargo del subdirector de logística del DNP Diego Díaz del Castillo quien explicará los retos para la digitalización en logística.Los bloques de discusión serán dos el primero de ellos titulado Retos de la operación logística en Colombia donde participarán el director de comercio exterior del MinCIT y el CEO de Compras Inteligentes y el segundo fue titulado Casos de éxito en logística.
La economía global sigue dando señales crecientes de desaceleración. Las presiones inflacionistas podrían requerir subidas aún mayores de los tipos de interés lo que podría llevar a una profunda recesión aumentando además la probabilidad de turbulencias financieras. A todo esto hay que sumar el impacto de la guerra de Ucrania que podría generar escasez de energía en Europa y otras tensiones geopolíticas. En este entorno el servicio de estudios de BBVA ha decidido elevar sus previsiones de crecimiento en España para 2022 al 44 aunque rebaja las de 2023 al 1. Rafael Doménech responsable de análisis económico de BBVA Research nos detalla en este podcast de Blink la situación y previsible evolución de la economía española.
Esta semana en Blink hablamos de la X Encuesta del Instituto BBVA de pensiones en la que se analiza la visión que los baby boomers la generación nacida entre 1957 y 1977 tienen de cara a su jubilación.JubilaciónLos baby boomers temen que pertenecer a la generación nacida entre 1957 y 1977 les pueda perjudicar en el momento de la jubilación. Así se desprende de la última encuesta sobre pensiones y hábitos de ahorro elaborada por el Instituto BBVA de Pensiones. Siete de cada diez baby boomers considera que la vida de los jubilados de su propia generación será peor que la de los actuales jubilados. La mayoría piensa que tendrá que jubilarse más tarde y percibirá una menor pensión.De acuerdo con los resultados de esta encuesta los nacidos durante estos años piensan que su vida de jubilados será peor que la de generaciones anteriores. De hecho los baby boomers prevén que trabajarán durante más años y tendrán que asumir reducciones en la pensión. Nos lo cuenta con detalle Miguel Rodríguez Canfranc responsable de comunicación del Instituto BBVA de Pensiones.Todos los capítulos deBBVA Podcastlos podrás encontrar en las siguientes plataformasiVooxApple PodcastSpotifyGoogle Podcasty enbbva.com.
Tras la revelación del Departamento Administrativo Nacional de Estadísticas Dane de que el Índice de Precios al Consumidor IPC de 2021 llegó a 562 401 puntos porcentuales mayor a la del mismo periodo de 2020 el presidente de la República Iván Duque Márquez salió en defensa del valor que está siendo cuestionado por diferentes sectores.Cerramos 2021 con una inflación alta en comparación con los últimos años pero ojo que no aparezcan ahora esas aves de mal agüero los oportunistas y los politiqueros a tratar de decir que este es un fenómeno endógeno. La humanidad hoy con la recuperación poscovid está viendo un fenómeno inflacionario mundial Colombia ha mostrado que comparativamente con otros países de América Latina en tamaño y dimensión económica que nuestra inflación es una de las más bajas expresó el presidente desde San Onofre Sucre.El mandatario también expresó que en comparación con el mundo Colombia sigue teniendo una de las inflaciones más bajas con países que hacen parte de la Organización para la Cooperación y el Desarrollo Económicos Ocde. Según Duque el fenómeno inflacionario mundial se debe a la crisis de materias primas de logística entre otros.Lo estamos enfrentando con pie derecho no es lo mismo tener una inflación alta y un crecimiento bajo nosotros crecimos el año pasado como mínimo en 97 y tuvimos una inflación de 56 hay países grandes y desarrollados que crecieron 3 con una inflación de 68 queda demostrada la solidez y fortaleza de la economía colombiana no vamos a bajar la guardia vamos a seguir actuando afirmó Duque.Uno de los que criticó la cifra de la inflación fue el senador Gustavo Bolívar quien expresó que el Gobierno debería dejar de mentir con el costo de los alimentos.Dejen de mentir. Los alimentos no están caros por un paro que terminó hace siete meses. Están caros porque este país importa 14 millones de toneladas de alimentos con dólar a 4.000 y lo poco que produce tiene que pagar insumos importados por la quiebra que el Gobierno propició en monómeros expresó en su cuenta de Twitter el senador.El director del Departamento Administrativo de la Presidencia Dapre Víctor Muñoz le respondió a Bolívar recordándole que el paro nacional ocasionó un nefasto impacto en el sector agropecuario.Le recuerdo el nefasto impacto del paro para el sector agropecuario y sus precios 13 millones de aves muertas 180 millones de huevos perdidos 50 millones de litros de leche no acopiados secamiento de ubres incremento de costos de insumos por bloqueos. No minimice el daño causado expresó Muñoz.Además el funcionario afirmó que si iba a hablar de precios de alimentos e inflación tenía que evaluar cómo estaba el mundo en esas variables Cuando vaya a hablar de precios en alimentos y de inflación por lo menos mire cómo está en el mundo y no desinforme. El paro fue nefasto para la clase trabajadora campesinos y los más necesitados insistió.Dicho cuadro y según la Ocde países como Turquía Brasil Estonia Rusia Polonia Hungría México Estados Unidos Chile España Perú República Checa y Bélgica son territorios que tienen una inflación más alta que Colombia.Apoyando a Muñoz comentó el periodista y jefe de comunicaciones de la Presidencia Hassan Nassar Estimado Víctor ese señor libretista de la primera línea del populismo y la demagogia no sabe de vacunación menos de economía y mucho menos del sector agropecuario o inflación. En cambio es un experto en falacias y replicarlas masivamente en redes sociales.En defensa del senador Bolívar entró a la discusión el senador y precandidato presidencial Gustavo Petro quien afirmó que la inflación se derivó del alza de 17 que tuvieron los alimentos durante el 2021.La responsabilidad en el crecimiento de la inflación está en el alza en 17 anual del precio de los alimentos lo cual aumentará la pobreza y el hambre. Los alimentos que más crecieron son carne de res y aves. Por qué creció el precio de la carne Por el paro El precio de la carne subió básicamente por la exportación masiva de ganado en pie que restringió la oferta en Colombia. En los otros alimentos el crecimiento tiene que ver con la subida de los alimentos en el mundo y la caída del peso colombiano enfatizó Petro.Finalmente Petro aseguró que esos aumentos a los pobres como él les afectaba Muñoz le expresó a Petro que a él no le gustaba que nombraran el paro que él apoyo y que causó muertes desempleo e inflación.
"LSQA concreta el lanzamiento de la 'certificación MAS', el primer certificado de construcción sostenible desarrollado en Uruguay.
Uruguay sigue avanzando en su camino sostenible. El pasado 24 de marzo, con el apoyo de BBVA en Uruguay, APPCU, la Cámara de la Construcción del Uruguay y Bosch & Cia., se concretó el lanzamiento de MAS, la primera certificación sostenible para la construcción de edificios.
La certificación MAS tiene como objetivo incentivar la construcción sostenible, mejorando la calidad de vida de los usuarios al controlar y reducir el consumo de materias primas, minimizando el impacto en el medioambiente y buscando obtener el mejor producto arquitectónico.
En el evento de lanzamiento participaron Jorge Arismendi (CEO de LSQA), Agustín Russi (gerente de Desarrollo de Negocios, LSQA), Alberto Charro (presidente ejecutivo de BBVA en Uruguay), quienes se conectaron de forma remota con arquitectos y parte del equipo de desarrolladores del proyecto en Chile. Norberto Cánepa (ejecutivo de negocios de LSQA) ofició de moderador.
Jorge Arismendi destacó que, desde el inicio de su actividad en 1995, LSQA estuvo alineada “con lo que hoy conocemos como sostenibilidad” y que, este lanzamiento, es una manera de “hacer que la sostenibilidad no sea un enunciado sino que se materialice en un sector de actividad que nos es muy cercano”.
Por su parte, Russi destacó la colaboración de todos los equipos de LSQA en el mundo y comentó que, para este proyecto –que conjuga sostenibilidad y construcción- buscaron a aquellos expertos que estuvieran en línea con la realidad uruguaya pero con la experiencia de mercados líderes en la materia.
Fue así que desembarcaron en Chile y, aprovechando la experiencia y profundidad de ese mercado, sumaron al proyecto a Gonzalo Mut y Rodrigo Tonda quienes, con el equipo técnico y tras más de un año de trabajo, concretaron el lanzamiento del certificado MAS.
Durante su participación en el evento, Alberto Charro, 'country manager' de BBVA en Uruguay, destacó las credenciales sostenibles de la entidad financiera, que actualmente es el banco más sostenible del mundo según el ránking del Dow Jones Sustainability Index. En ese sentido, recordó que el banco ha incrementado su 'Compromiso 2025’, por el cual se ha comprometido a canalizar 200.000 millones de euros en financiamiento sostenible.
Según el ejecutivo, para BBVA “es prioritario acompañar a nuestros clientes en la transición hacia un futuro sostenible” y remarcó que en Uruguay se trabaja dando pasos concretos para “poder transformar el mercado y que el país pueda consolidarse como un referente en materia de sostenibilidad”.
En 2019, BBVA en Uruguay fue el primer banco en ofrecer un préstamo con condiciones diferenciales para la financiación de vehículos eléctricos; en febrero de 2021, con el apoyo de BID Invest, el banco emitió el primer bono sostenible del sistema financiero local y, en diciembre del mismo año, el banco lanzó el primer préstamo ‘hipotecario verde’ del mercado.
Charro finalizó indicando que el banco “dará los pasos necesarios para conseguir la validación de la certificación MAS” y así dinamizar el mercado de financiación sostenible."
Una inflación que se mantiene en niveles inusualmente altos la tendencia al alza de los tipos de interés la desaceleración del crecimiento europeo la invasión de Ucrania por parte de Rusia la importancia de que se defina un pacto de rentas  un trimestre más son muchas y muy significativas las incertidumbres a las que se enfrenta la economía española.De ahí que dediquemos el último Blink de la temporada a analizar las claves que marcarán su evolución en los próximo meses. Para ello contamos de nuevo con Rafael Doménech responsable de análisis económico de BBVA Research. Él nos cuenta las razones que han llevado al servicio de estudios de BBVA a mantener las previsiones de crecimiento del PIB para 2022 y a rebajar las de 2023 hasta el 18.Todos los capítulos deBBVA Podcastlos podrás encontrar en las siguientes plataformasiVooxApple PodcastSpotifyGoogle Podcasty enbbva.com.
"Santiago Muguruza, responsable de Inversiones de Capital Riesgo en BBVA Spark, ha resaltado durante el evento B-Venture el importante papel que van a jugar las empresas disruptivas de rápido crecimiento en el desarrollo de las tecnologías necesarias para afrontar los retos de futuro. “Tienen modelos de negocio diferenciales y ambiciosos, equipos de primerísimo nivel y necesitan mucho apoyo e inversión”, subrayó Muguruza durante esta cita, a la que asistieron más de 100 ‘startups’ y 70 inversores y corporaciones.
Santiago Muguruza ha incidido en B-Venture en dos megatendencias, la descarbonización y la disrupción tecnológica, que tienen el potencial de transformar todas las industrias y suponen una gran oportunidad para la innovación y el emprendimiento.
Por un lado, todos los sectores deben encontrar nuevos modelos de negocio orientados a la descarbonización. Por otro, las nuevas tecnologías como ‘blockchain’, la inteligencia artificial o la computación en la nube, entre otras, están alcanzando una fase de madurez y experimentarán un crecimiento aún más acusado en la próxima década. “Según algunas estimaciones, en los próximos diez años el valor agregado de estas tecnologías se multiplicará por 15, de los 14 a los 210 billones de dólares”, ha explicado.
“El ecosistema emprendedor es el protagonista de esta revolución tecnológica imparable, que implica un futuro con nuevos materiales, energías, modos de producción y modelos de negocio”, ha afirmado Muguruza. Estos desarrollos suponen un gran reto, pero las empresas disruptivas de rápido crecimiento o ‘scaleups’, por sus características, están capacitadas para afrontarlo, ha afirmado.
“BBVA Spark ofrece un servicio especializado de banqueros que entienden el lenguaje y el modelo de negocio de las empresas de rápido crecimiento”.
El responsable de Inversiones de Capital Riesgo de BBVA Spark ha explicado la filosofía de la nueva unidad del banco para identificar y acompañar el crecimiento de estas empresas y hacer frente a estos retos de futuro. “Son compañías que se caracterizan por tener modelos de negocio diferenciales y escalables, apalancarse en la tecnología y la innovación, poner el foco en la ejecución y contar con equipos ambiciosos de primerísimo nivel. Sus tasas de crecimiento son espectaculares, sus planes de negocio, ambiciosos, y requieren mucho apoyo y financiación”.
Desde BBVA Spark, “les ofrecemos un servicio de banca integral y herramientas de financiación alternativas al capital riesgo”, ha explicado. “En nuestra oferta de valor incluimos un servicio especializado de banqueros que entiende su lenguaje y modelo de negocio y una combinación de servicios financieros sofisticados y tradicionales adaptados a sus necesidades”. Además, ha enfatizado que “nuestro proceso de toma de decisiones es más rápido e independiente de los circuitos tradicionales de riesgo, lo que nos permite actuar con autonomía”.
BBVA Spark se suma a una primera iniciativa de inversión a ‘scaleups’ a través de Leadwind, fondo dirigido a compañías tecnológicas de la Península Ibérica y América Latina, y a la constelación de iniciativas del banco para apoyar e interactuar con todo el ecosistema emprendedor. Estas iniciativas incluyen el establecimiento de colaboraciones y sinergias, a través de BBVA Open Innovation o mediante colaboraciones directas de ‘open banking’; inversiones en ‘fintech’ como Atom Bank, Solarisbank y Neon; y la participación en el laboratorio de ‘startups’ Anthemis Venture Partnership y los fondos Propel, Sinnovation, Hy24, Lowercarbon o Fifth Wall Climate, que cubren áreas tan diversas como el ‘fintech’, los activos digitales y las tecnologías verdes.
Santiago Muguruza ha recordado que la revolución tecnológica y sostenible es imparable y que la transformación debe hacerse de manera global y transversal. “Las empresas que lo hagan seguirán vivas en los próximos años, y las que no, se verán atacadas por nuevos jugadores. Unos en mayor medida que otros, todos los sectores y empresas se tendrán que transformar”."
Desde este lunes está al aire y funcionando Uber Taxi la alianza entre Uber y TaxExpress. Esta entró en funcionamiento en Bogotá y Cali.Esta nueva opción permitirá a los usuarios solicitar un servicio de taxi de TaxExpress en alianza con Uber en Bogotá y Cali y a los taxistas les permitirá potenciar sus oportunidades.Desde el anuncio de la alianza 2.300 taxistas se han inscrito a la aplicación de Uber. Los conductores registrados en TaxExpress que deseen recibir solicitudes pueden adquirir una suscripción.Para hacerlo deberán pasar por los filtros de ley en TaxExpress que incluyen la revisión tecnomecánica y las tarjetas de operación y algunos adicionales en Uber que incluyen entre otros la verificación de antecedentes judiciales.Después de ocho años seguimos creando nuevas oportunidades para la generación de ganancias. Hemos demostrado que sí se puede hacer posible lo que se creía imposible afirmó Marcela Torres gerente general de Uber enColombia.
"La Medicina se encuentra en un punto de transformación sin precedentes. La pandemia ha puesto de relieve la importancia de la digitalización y numerosas tecnologías impactan en este ámbito con soluciones tanto en el diagnóstico como en el tratamiento. En el Día Mundial de la Salud, nos acercamos a esta ola de emprendimiento para conocer cuáles son las tendencias y avances que guían el sector.
¿Qué puede ser tan importante como para que un ingeniero de telecomunicaciones cambie por completo el rumbo de su vida? "Tras muchos congresos y publicaciones, me planteé si esto es lo que quería seguir haciendo en el futuro. Así que decidí cruzar la barrera y emprender en el sector de la salud para diseñar un producto útil destinado a los hospitales y que mejorase el día a día de los pacientes", asegura Ángel Alberich-Bayarri cofundador de Quibim, compañía que se está posicionando en el área de las imágenes médicas y las biopsias virtuales a nivel mundial.
La salud es algo que nos afecta a todos. Sin salud, no hay nada más. Por eso, el germen del emprendimiento en este sector es tan potente y la tecnología aplicada a él hace que se encuentre en plena transformación. Historias como la de Alberich-Bayarri comienzan a proliferar y la pandemia del coronavirus ha sido el detonante definitivo para impulsar el sector. Solo en 2020, España aumentó su gasto sanitario en nuevas tecnologías hasta los 783 millones de euros, un 11% más respecto al año anterior según el último Índice SEIS, elaborado por la Sociedad Española de Informática de la Salud (SEIS).
Bajo este marco, el sector está siendo rebautizado como 'healthtech', una de las tendencias tecnológicas de 2022: empresas que unen innovación y tecnologías como inteligencia artificial (IA) y 'big data', para crear nuevas soluciones que se implementan en hospitales y centros de salud con el fin de mejorar la vida de los ciudadanos.
"Si conseguimos optimizar los perfiles de población con la que se va a investigar antes del ensayo clínico, se van a ahorrar costes"
Fruto de esta apuesta también se ha producido una mezcla de perfiles que abarca desde profesionales de la salud, a ingenieros, informáticos, matemáticos e, incluso, expertos en Derecho. Esta miscelánea de equipos multidisciplinares se reúne en proyectos innovadores que vuelven a poner de relieve la importancia del emprendimiento y el fomento de las ideas en un ámbito clave para el desarrollo y evolución de cualquier sociedad.
La innovación sanitaria también capta cada vez más interés por parte de los inversores. Según CB Insights, existen 73 unicornios (compañías tecnológicas que superan una valoración de 1.000 millones de dólares antes de salir a bolsa) del sector alrededor del mundo.  En el Día Mundial de la Salud, BBVA Open Innovation realiza un recorrido sobre el impacto de la tecnología en el sector sanitario, así como las oportunidades y retos que abre y enfrenta.
La sostenibilidad y el empleo eficiente de los recursos disponibles son dos aspectos que la tecnología puede potenciar en el ámbito de la salud. Por ejemplo, el cofundador de Quibim sostiene que la utilización de análisis de datos sanitarios e IA pueden rediseñar los ensayos clínicos. "Nuestro objetivo es que no se hagan tantos experimentos en animales y humanos. Si conseguimos optimizar la población con la que se va a investigar antes del ensayo clínico, se van a ahorrar costes", señala.
La IA también es la tecnología clave detrás de AcceXible, una plataforma para detectar y realizar un seguimiento de enfermedades relacionadas con el deterioro cognitivo. En 2018, Carla Zaldua, quien tiene un máster en Sistemas de Información por la London School of Economics, puso en marcha este proyecto tras leer los resultados de un estudio en el que habían analizado el deterioro cognitivo leve y la demencia a través del habla. Fue entonces cuando decidió emprender y utilizar las ventajas de la inteligencia artificial en beneficio de pacientes que sufren estas patologías, para lo que ideó un modelo más preciso para detectar y adelantar el diagnóstico.
"La tecnología nos sirve para estar más cerca en la comunicación entre personas y en el monitoreo de los indicadores de salud"
De igual forma, la 'startup' HumanITCare emplea inteligencia artificial y análisis de datos para que los especialistas médicos puedan monitorizar y prever anomalías en la salud de los pacientes que sufren enfermedades crónicas, una innovación que la ha llevado a ser ganadora del 4YFN Awards 2022, el evento de emprendimiento del Mobile World Congress.
Casos como el de Zaldua o Alberich-Bayarri demuestran que el emprendimiento en el sector de la salud no requiere, necesariamente, tener una formación médica. Sin embargo, también es posible encontrar ejemplos de profesionales sanitarios que decidieron dar el paso para emprender.
Es el caso de Karen Salirrosas, médica especialista en Endocrinología por la Universidad Ricardo Palma en Perú y fundadora de Smart Doctor. Esta compañía sirve de puente entre profesionales de la salud y pacientes a través de un servicio de telemedicina que elimina las barreras físicas para realizar o recibir diagnósticos desde cualquier lugar. "La tecnología nos sirve para estar más cerca de las personas, tanto en el plano de la comunicación como en la monitorización de sus indicadores de salud gracias a la ayuda de dispositivos conectados", asegura Salirrosas.
A raíz de la pandemia, que ha impulsado las consultas digitales, las plataformas de telemedicina han experimentado un gran auge, como confirman las responsables de AcceXible y Smart Doctor. Salirrosas valora: "Las teleconsultas permiten llegar desde entornos rurales a especialistas que tan solo se concentran en grandes ciudades".
Para nutrir los algoritmos, la disponibilidad de los datos va a ser cada vez más relevante, un factor que debe conjugarse con la preservación de la información sensible de los pacientes. En ese sentido, el Plan de Recuperación, Transformación y Resiliencia de España, presentado en el marco de los fondos europeos Next Generation, contempla la creación de un 'data lake' sanitario, es decir, un repositorio de datos que aglutina información para realizar un análisis masivo que mejore la identificación y mejora de diagnósticos y tratamientos.
Por ello, su incorporación a sistemas compartidos, así como su procesamiento, será fundamental. "Vamos a tener un momento de singularidad en el que habrá un gran almacén de datos de salud, con sistemas interoperables en la nube", afirma Ángel Alberich-Bayarri, de Quibim. Compartir datos podrá ayudar al avance de la Medicina a juicio de este experto. “Compartir pruebas médicas anonimizadas en un 'software online' y permitir su acceso a profesionales permitirá que médicos e investigadores de todo el mundo realicen avances”, señala.
De esta forma, tal vez países punteros en donación de órganos, como España, se reinventen para convertirse en líderes en donación de datos. Con la apertura de la información, la colaboración entre expertos, desde matemáticos a informáticos y médicos, y el impulso de las tecnologías, el sector de la salud ya vislumbra un futuro mejor para todos los pacientes."
La accesibilidad a la educación es la columna vertebral sobre la que trabaja Crehana plataforma de desarrollo y aprendizaje que le apuesta a la centralización de experiencias educativas en un solo lugar compromiso que reafirma por medio de la creación de alinazas estratégicas con diferentes proveedores. Para este caso su más reciente asociación ha sido con las empresas Perlego y getAbstract. La primera empresa es una librería digital que brinda acceso a 850.000 libros académicos de no ficción y recursos educativos en seis idiomas. Su amplio catálogo cuenta con más de 950 áreas temas y subtemas trabajando bajo un modelo de suscripción. GetAbstract maneja recursos y más de 25.000 contenidos en  siete idiomas. La plataforma permite alinear contenido relevante según la estrategia de aprendizaje deseada ahorrando muchas horas de búsqueda y evaluación de contenido con el fin de que los usuarios hagan un uso eficiente de su tiempo.Es así como Crehana facilita el acceso a la educación de sus usuarios por medio de un acceso organizado a diferentes recursos como libros consolas para programar y resúmenes que aporten al desarrollo del talento de sus usuarios.
`,Mw=`陆军领导机构火箭军战略支援部队成立大会在京举行 习近平向中国人民解放军陆军火箭军战略支援部队授予军旗并致训词
中央军委印发《关于深化国防和军队改革的意见》
《习近平关于严明党的纪律和规矩论述摘编》出版发行
以实际行动向党中央看齐 向高标准努力
【年终特稿】关键之年 改革挺进深水区
【2016 我们来了！】全国各地举行2016新年倒计时活动
【2016 我们来了！】世界各国多种形式喜迎2016年
【年终特稿】依法治国按下“快进键”
新年贺卡——一年感恩 一路有你
　　【这一年，什么让你最愧疚?】
　　【这一年，什么让你最难忘?】
　【你想对谁，说声感谢?】
【新理念 新发展】辽宁：一张关于绿色发展的“军令状”
【新理念 新发展】海南：精准发力 拓旅游扶贫新路
【时代先锋】锻造能打胜仗的空中王牌
公安机关多措并举 保节日平安
2015年中国电影票房突破440亿
公民民族成份满18周岁可申请变更
　　中巴海军举行海上联合演习
　　首届中日韩“东亚文化之都”活动年落幕
2016厦门国际马拉松赛举行
　　《记住乡愁》专题音乐会今晚播出
　　纪录片《深潜》新年开播
十八届五中全会精神宣介团访问多国
叙利亚人在动荡中迎接新年
金正恩呼吁改善北南关系 韩方欢迎
印度一空军基地遭武装分子袭击
普京签署新版俄国家安全战略
【年终特稿】变革世界 中国担当
新华社长篇通讯：风帆高扬 向着伟大复兴的光辉彼岸
新年贺卡：2016只要付出 总有回报
【新理念 新发展】织密交通网 补短板 促发展
浙江：巡视整改清单 倒逼建章立制
人民日报评论员文章：领导干部要当好“三严三实”表率
黑龙江：规范收储 好粮卖好价
【全国交通迎来返程客流高峰】
以色列枪击事件在逃枪手身份确认
沙特处决知名什叶派宗教人士
洪水肆虐 美国4州31人死亡
墨西哥女市长上任一天惨遭枪杀
太行山上新农人
中共中央印发《中国共产党地方委员会工作条例》
张德江与加拿大参议长举行会谈
张高丽在北京市调研大气污染防治工作
【年终特稿】改革对接民生冷暖 夯实百姓“获得感”
人民日报评论员文章：践行“三严三实”是一辈子的事
人民日报文章：七问供给侧结构性改革——权威人士谈当前经济怎么看怎么干
新华社综述：奏响实现“四个全面”的时代最强音
国务院办公厅印发《关于推进农村一二三产业融合发展的指导意见》
中央环保督察组进驻河北
吕敬一：卫国戍边的“千里神眼”
浙江临安：传承好家风 凝聚正能量
中国保险投资基金正式设立
两次触发熔断 股市停止交易至收盘
元旦假日各地消除火灾隐患10万余处
吉林脱贫攻坚：单位包村 干部包户
浙江614个重大项目集中开工
　社会组织今起统一信用代码
新疆阿勒泰持续降雪 积雪最厚两米
沙特宣布与伊朗断绝外交关系
印度东北部发生6.5级地震
美俄勒冈武装牧民占领政府办公楼
印度驻阿富汗领事馆遭袭
中共中央 国务院 关于实施全面两孩政策改革完善计划生育服务管理的决定
全国宣传部长会议在京召开 刘云山出席会议并讲话
中央批准中央纪委对中央一级党和国家机关派驻纪检机构全覆盖
【年终特稿】2015 文化强国路上的新跨越
《国务院大众创业万众创新政策选编》出版发行
人民日报文章：阔步走在中华民族伟大复兴的历史征程上
国地税征管改革 服务管理上台阶
中央纪委：北京市委原副书记吕锡文被开除党籍公职
丙申年猴票今日正式发行
我国推广应用节能环保粮食烘干装备
多地大雾 公路港口影响大
冰雪节开幕 冬季到东北去玩雪
多国与伊朗断交或降低外交关系级别
美国公布系列控枪举措以遏制暴力
气温骤降 欧洲多国遭遇严寒天气
控制难民 瑞典和丹麦加强边检
秘鲁斗牛活动8人受伤
习近平在重庆调研时强调 落实创新协调绿色开放共享发展理念 确保如期实现全面建成小康社会目标
习近平对加强安全生产工作作出重要指示强调 坚定不移保障安全发展 坚决遏制重特大事故频发势头 李克强作出批示
国务院召开全国安全生产电视电话会议
李克强主持召开国务院常务会议
李克强会见英国外交大臣
全国政协召开双周协商座谈会 围绕“加快推进品牌建设”建言献策 俞正声主持
全国城市民族工作会议在京召开
外交部就朝鲜进行核试验发表声明
朝鲜宣布成功进行首次氢弹试验
习近平召开推动长江经济带发展座谈会
习近平在视察第13集团军时强调 深入推进政治建军改革强军依法治军 坚定信心狠抓落实开创强军兴军新局面
中共中央政治局常务委员会召开会议 听取全国人大常委会、国务院、全国政协、最高人民法院、最高人民检察院党组工作汇报 听取中央书记处工作报告 中共中央总书记习近平主持会议
李克强在钢铁煤炭行业化解过剩产能实现脱困发展工作座谈会上强调 综合施策 标本兼治 以结构性改革促进困难行业脱困发展
李克强对全国计划生育工作电视电话会议作出重要批示强调 切实把实施全面两孩政策这件惠民生利长远的好事办好 实现人口与经济社会协调可持续发展
王岐山在筹备中央纪委六次全会座谈会上强调 正风反腐要力度不减节奏不变 厚植党执政的政治基础
国务院印发《关于支持沿边重点地区开发开放若干政策措施的意见》
【治国理政新实践】新发展 中国高端装备业走向世界
新华社综述：凝聚共同奋斗的磅礴力量——2015年统一战线工作成绩斐然
　　两高发布司法解释规范办理刑事赔偿案件
2015十大“扫黄打非”案件发布
　　股市二次熔断暂停交易至收市
安理会强烈谴责朝鲜进行核试验
伊朗指责沙特空袭伊驻也门使馆
科隆跨年夜性侵案确认3名嫌疑人
　　亚太主要股市全线下挫
中共中央国务院隆重举行国家科学技术奖励大会
【2015年度国家科学技术奖励大会】创新引领产业发展 服务国家战略
全国统战部长会议在京召开 俞正声出席会议并讲话
重庆：建设创新开放的内陆发展高地
【治国理政新实践】坚持自主创新 弯道超车引领科技发展
创新派驻监督体制 党内监督不留空白
《当代精品直通世界 文学翻译沟通心灵——中国当代作品翻译工程成效纪实》今天播发
黑龙江镜泊湖冬捕开网
中老警方联手摧毁跨国电信网络诈骗集团
多地海关连续破获冻品走私大案
第十三届网博会开幕
法国纪念《查理周刊》遇袭一周年
中英互推公民两年期多次往返签证
利警察训练中心遭袭 至少65人死亡
普拉蒂尼退出国际足联主席竞选
【治国理政新实践】把纪律挺在前面 扎牢制度笼子
李克强会见美国客人
2015中国经济年报
【新理念 新发展】村官拍荒山 强壮“空壳村”
城中村改造 共享城市发展红利
【时代先锋】育种专家王辉 把麦子当成孩子
落实全面两孩政策 改革完善计生服务
全球供应链长三角交易平台正式启动
我国北方大型渔港潍坊渔港正式投用
黄河宁夏段 河曲段出现大面积流凌
　《丝海梦寻》将启动全国巡演
中国以主宾国身份参加新德里书展
科隆性侵案已确认嫌犯中难民过半
人道救援物资获准进入叙被围城镇
埃及旅游城市胡尔加达酒店遭袭
美国推出打击暴力极端主义新举措
朝韩双方重启扩音喊话
墨西哥越狱毒枭古斯曼再度落网
韩证实中东呼吸综合征病毒变异
中国企业携新品参加国际消费电子展
【治国理政新实践·脱贫军令状】精准扶贫：钱怎么用到刀刃上？
新华社述评：激扬正气定乾坤
【治国理政新实践·助力全面从严治党】持续保持高压 强化“不敢腐败”氛围
习近平在接见军委机关各部门负责同志时强调 讲政治谋打赢搞服务做表率 努力建设“四铁”军委机关
习近平主持召开中央全面深化改革领导小组第二十次会议强调 扭住全面深化改革各项目标 落实主体责任拧紧责任螺丝
【治国理政新实践·脱贫军令状】精准扶贫：扶贫产业如何长效？
国家卫计委回应全面两孩政策热点问题
宁夏：10项民生计划如期“交账”
　环保部启动中朝边境辐射环境应急监测
　“潜龙二号”成功完成大洋首潜
十二五期间全国水利投资超2万亿
阿富汗问题四方对话在巴举行
伊朗沙特承诺断交风波不影响叙和谈
　“无国界医生”驻也门一医院遭袭
科隆性侵案警方重点调查外来移民
习近平在十八届中央纪委六次全会上发表重要讲话强调 坚持全面从严治党依规治党 创新体制机制强化党内监督
国务院印发《关于整合城乡居民基本医疗保险制度的意见》
【助力全面从严治党】聚焦问题 发挥巡视利剑和尖兵作用
【治国理政新实践·脱贫军令状】内抓培训 外推品牌 天镇扶贫闯新路
全国干部人事档案专项审核工作取得阶段性成效
文艺评奖制度改革取得明显成效
《全面小康热点面对面》今日发行
世界首条±1100千伏特高压工程开工
　　春节“两会”期间加强火灾防控
　　甘肃建成全国首个精准扶贫大数据库
　　第四届金砖国家财经论坛今天举行
万达集团35亿美元收购美国传奇影业
叙利亚被困城镇获救援物资
　　阿富汗问题四方机制会议发表声明
　　缅甸开启全国和平政治对话
　　西班牙公主因涉腐案出庭受审
　梅西五夺国际足联金球奖
【治国理政新实践·脱贫军令状】异地搬迁：搬得出 稳得住 能致富
李克强主持召开国务院党组会议
李克强主持召开国务院常务会议
全面从严治党永远在路上——学习习近平总书记讲话 推进全面从严治党
【助力全面从严治党】打造忠诚干净担当的纪检监察队伍
解放军报述评：按能打仗打胜仗要求阔步前行
审计署发布2016年首次公告
前三季度查处食药品违法案件24.6万件
锡盟至山东特高压线路全面放线
江西高速公路突破5000公里
新型坦克登陆舰加入海军战斗序列
河北省通过大气污染防治条例
国际油价盘中跌破30美元关口
伊朗释放其扣押的10名美军方人员
巴基斯坦遭自杀式袭击 致15人死亡
奥巴马发表任内最后一次国情咨文
土耳其旅游景点爆炸至少11人死亡
　德国政府或升级对犯罪难民的处罚
中国共产党第十八届中央纪律检查委员会第六次全体会议公报
人民日报评论员文章：肩负起管党治党的政治责任
【治国理政新实践·脱贫军令状】全面实现小康 一个民族都不能少
国务院办公厅印发《关于解决无户口人员登记户口问题的意见》
新华社综述：加强自律引领行风 推动新闻业健康发展
财政部规范行政事业单位资产管理
“嫦娥四号”探测器将于2018年发射
电视剧《陆军一号》今晚开播
印尼首都发生连环爆炸袭击
俄总理：俄经济遇十年来最严峻挑战
叙政府军收复北部反对派大本营
伊斯坦布尔袭击者以难民身份入境
莫斯科突降大雪 一天积雪24厘米
习近平将对沙特、埃及、伊朗进行国事访问
李克强会见欧洲复兴开发银行行长 中国正式加入欧洲复兴开发银行
张德江主持全国人大常委会党组会议
俞正声主持召开全国政协党组会议
全国组织部长会议在京召开 刘云山出席会议并讲话
中央党校举行2015年秋季学期毕业典礼 刘云山出席并为学员颁发毕业证书
张高丽主持推进“一带一路”建设工作会议
国务院印发《推进普惠金融发展规划（2016-2020年）》
【治国理政新实践·脱贫军令状】坚持开发式扶贫 既扶贫又扶志
人民日报评论员文章：正风反腐顺党心和民意
【助力全面从严治党】越往后越严 纠“四风”寸土不让
去年我国对外非金融类直接投资创新高
去年人民币贷款增加首超10万亿
2015年我国旅游投资突破万亿元
海尔54亿美元整合通用电气家电业务
我国版权产业国民经济贡献率达7.27%
国测一大队先进事迹报告会举行
　北京互联网公益十大项目揭晓
关注雅加达系列爆炸袭击案
国际田联被指纵容俄兴奋剂丑闻
伊朗移除阿拉克重水反应堆内核
疫情反复 塞拉利昂再现埃博拉病例
美宇航局挑选3家公司为空间站运货
2016年印度“中国旅游年”开幕
习近平出席亚洲基础设施投资银行开业仪式并致辞
李克强出席亚洲基础设施投资银行理事会成立大会并致辞
习近平向2016印度“中国旅游年”开幕式致贺词
习近平同卢卡申科互致贺电 庆祝中白合作通信卫星发射成功
我国成功发射白俄罗斯通信卫星一号
【治国理政新实践·脱贫军令状】建档立卡“回头看”确保扶真贫
人民日报评论员文章：反腐败斗争的决心和目标不会变
2015年税收增长6.6% 结构调整见效
十二五期间货物贸易超124万亿
世界最大跨度客货共用铁路桥合龙
文艺工作者学习阎肃同志先进事迹
布基纳法索首都一酒店遭袭
《防止暴力极端主义行动计划》出炉
国际油价收盘跌破30美元
巴成立中巴经济走廊建设指导委员会
【治国理政新实践·脱贫军令状】梯度搬迁 “阳光院”助特困户脱贫
各国期待亚投行助力区域经济发展
人民日报评论员文章：把握全面从严治党的新内涵新要求
【时代先锋】李双星：群众的笑容是最大的回报
全国铁路9千余公里新线助力春运
多部门合力保障无户口人员依法落户
陕西：生态“组合拳”保一江清水送京津
山东：推动绿色出行 打造绿色消费
河南：加速跨境电子商务试验区建设
中台办、国台办负责人就台湾地区选举结果发表谈话
第十三届全国冬运会准备工作就绪
精准扶贫 甘肃去年减贫100万人
中国海军舰艇首访东帝汶
福建八闽古村落摄影展在京举行
黄河山西芮城段出现大面积流凌
伊核问题全面协议开始执行
布基纳法索酒店遭袭 遇难人数上升
首届缅甸联邦和平会议未达成协议
大熊猫“贝贝”在美首次与公众见面
习近平在省部级主要领导干部学习贯彻十八届五中全会精神专题研讨班开班式上发表重要讲话
习近平在沙特媒体发表题为《做共同发展的好伙伴》的署名文章
外交部就习近平主席对沙特、埃及、伊朗进行国事访问举行中外媒体吹风会
人民日报署名文章：为中东和平发展注入强大正能量
中东三国各界人士期待习主席访问
新华社长篇通讯《击楫勇进在中流——以习近平同志为总书记的党中央深改关键之年工作述评》
国务院印发《关于促进加工贸易创新发展的若干意见》
人民日报评论员文章：把强化党内监督摆在重要位置
《全面小康热点面对面》深受关注
70城市房价环比继续小幅上涨
藏传佛教活佛查询系统正式上线
UNDP大熊猫形象大使征名活动启动
鄱阳湖白鹤万里迁徙路线首次公布
我台推出《中国经济年报》特别报道
美宣布针对伊朗导弹计划新制裁
法国一药物试验致1名志愿者死亡
“猎鹰9”火箭海上回收尝试再次失败
习近平离京对沙特阿拉伯、埃及、伊朗进行国事访问
习近平在埃及媒体发表题为《让中阿友谊如尼罗河水奔涌向前》的署名文章
携手促友谊 三国期待习主席到访
李克强应约同希腊总理通电话
全国政协召开第三十九次主席会议
国务院办公厅印发《关于全面治理拖欠农民工工资问题的意见》
加减乘除看数据 新常态下布新局
【治国理政新实践·基层新答卷】刘土楼村的冬天
新华社播发《党的十八大以来我国推进京津冀协同发展纪实》
人民银行加大对市场流动性支持
中国胜诉欧盟紧固件反倾销案
“2016猴年春节春联征集活动”引发全球华人春联创作热潮
去年全国保障房开工783万套
去年全国接待游客超41亿人次
　北京启动充电设施公共服务管理平台
多国遭遇暴雪天气
　德国科隆性侵案首名嫌疑人被捕
　　媒体爆网球顶级赛事存在打假球
　宇航员培育出太空第一朵花
习近平抵达利雅得 开始对沙特阿拉伯进行国事访问
习近平出席沙特阿拉伯国王举行的欢迎仪式
习近平同沙特阿拉伯国王举行会谈 两国元首共同宣布建立中沙全面战略伙伴关系
习近平会见沙特阿拉伯王储继承人
习近平会见伊斯兰合作组织秘书长
习近平会见海湾阿拉伯国家合作委员会秘书长
习近平为《今日中国》杂志出版“纪念中埃建交60周年专刊”致辞
《今日中国》专刊首发式在开罗举行
中国主题图书展销周在开罗开幕
沙特各界高度评价习近平主席访问
纪念萧华同志诞辰100周年座谈会在京举行 俞正声出席
中央组织部划拨党费8020万元用于元旦春节期间走访慰问生活困难党员和老党员
第十三届全国冬季运动会隆重开幕
去年消费对经济增长贡献率达66.4%
支持水利水电工程建设用地政策发布
中央艺术院团开展文化进万家活动
《全面小康热点面对面》举办网上访谈
今年经贸摩擦预警点将突破百个
陆军新型作战力量融入作战体系运用
达沃斯论坛开幕 聚焦“第四次工业革命”
IMF报告下调世界经济增长预期
　韩日两国暴风雪肆虐
习近平参观“四方宫”
习近平同沙特阿拉伯国王共同出席中沙延布炼厂投产启动仪式
习近平抵达开罗开始对埃及进行国事访问
习近平会见埃及总统
习近平出席埃及总统举行的欢迎仪式
习近平同埃及总统举行会谈强调 携手努力 不断开创中埃友好互利合作新局面
习近平会见埃及总理
习近平在伊朗媒体发表题为《共创中伊关系美好明天》的署名文章
埃及各界和阿盟高度关注习近平主席到访
习近平向印尼总统佐科致贺信 祝贺雅加达至万隆高铁项目动工
印尼雅加达至万隆高速铁路正式开工
李克强在主持召开国务院专题会时强调 攻坚克难推进改革 加快新旧动能转换 善谋善为狠抓落实 确保实现良好开局
李克强应约同德国总理默克尔通电话
刘云山出席省部级主要领导干部学习贯彻党的十八届五中全会精神专题研讨班结业式并作总结讲话
人民日报评论员文章：以新理念把握引领新常态
中国共产党理论数据库延安中心启动
阿语版中国电视作品在埃及开播
习近平会见埃及议长
习近平会见阿拉伯国家联盟秘书长
习近平在阿拉伯国家联盟总部发表重要演讲 共同开创中阿关系发展美好未来 推动中阿民族复兴形成更多交汇
习近平和埃及总统共同出席中埃建交60周年庆祝活动暨2016中埃文化年开幕式
埃及阿盟高度评价习主席访问
习近平就政法工作作出重要指示强调 防控风险服务发展 破解难题补齐短板 提高维护国家安全和社会稳定的能力水平
中央政法工作会议在京召开
习近平致电祝贺本扬当选老挝人民革命党中央总书记
李克强主持召开国务院全体会议 讨论《政府工作报告（征求意见稿）》和《“十三五”规划纲要（草案）（征求意见稿）》
全国政协召开双周协商座谈会 围绕“《快递条例》的制定”建言献策 俞正声主持
国务院印发《关于取消一批职业资格许可和认定事项的决定》
人民日报评论员文章：从供给侧着力实现新跃升
加强文艺人才培训 建设德艺双馨文艺队伍
寒潮来袭 多地低温降雪
　　《不动产登记暂行条例实施细则》公布
春运全国旅客发送量将达29.1亿人次
第13届全国冬运会各路健儿激烈角逐
44家单位联合惩戒失信被执行人
　　俄质疑前特工中毒案调查报告
　　欧洲央行决定维持主导利率不变
　　美东部地区周末将遭强暴风雪
习近平抵达德黑兰开始对伊朗进行国事访问
习近平出席伊朗总统举行的欢迎仪式
习近平同伊朗总统举行会谈 两国元首一致同意建立中伊全面战略伙伴关系
伊朗各界高度评价习近平主席访问
“一带一路”：共同发展的钥匙
【治国理政新实践·基层新答卷】刘土楼村的冬天
人民日报评论员文章：用新状态贯彻落实新理念
我国将全面启动司法体制改革
【时代先锋】李双星：不让一个贫困户掉队
新业态打造临沂商城“升级版”
寒潮“凶猛” 气象预警升级
青海门源：震区物资充足 群众生活有保障
全国铁警“猎鹰2016”取得重大成果
武警部队组织大规模野营拉练
　全国自然类首个博物馆重新开放
超强暴风雪来袭 美国多地严阵以待
两艘难民船希腊海域倾覆 43人丧生
突尼斯宣布在全国范围内实行宵禁
习近平会见伊朗最高领袖
习近平会见伊朗伊斯兰议会议长
习近平结束对沙特阿拉伯 埃及 伊朗国事访问回到北京
【治国理政新实践】2016大国外交再起航
中国媒体架起文化交流桥梁
李克强主持召开国务院常务会议
新华社播发王岐山同志在中国共产党第十八届中央纪律检查委员会第六次全体会议上的工作报告
新华社播发：“一带一路”当梦想照进现实
全国春运启动 预计29亿人次出行
寒潮来袭 多地低温破极值
新闻特写：“极寒”天气里的坚守
农业电商助力农民增收
中缅国际铁路怒江特大桥今天开工
《了不起的挑战》今晚播出
超强暴风雪继续席卷美东北部
拜登称不排除军事手段铲除极端组织
巴基斯坦拘捕大学袭击事件嫌疑人
强风巨浪袭击古巴首都 居民区被淹
【治国理政新实践·基层新答卷】福建屏南：大塅村的“造血路”
李克强在全面推开营改增 加快财税体制改革座谈会上强调 以营改增作为加快财税体制改革重头戏 激发市场活力 调动两个积极性
2015年全国领导干部个人有关事项报告抽查核实工作取得良好成效
北方气温回升 南方低温持续
为严寒中坚守一线的劳动者点赞
【数据春运】透过售票看变化
天津：大数据审计严防违规违纪
江西吉安：告别土坯房 喜圆安居梦
【最美基层干部】夏明臣：一生清廉 一心为民
特赦部分服刑人员工作圆满完成
海军陆战队寒训 提升全域作战能力
　　我国成为全球第三大保险市场
　《全面小康热点面对面》赠书活动举行
　　世界最小直径硬岩掘进机成功下线
　　济南黄河公铁两用桥主体完工
2015CCTV体坛风云人物评选揭晓
全球多地遭遇低温和降雪天气
　　叙政府军收复北部边境重镇
　　中右翼候选人当选葡萄牙新总统
伊朗计划从空客购买127架飞机
习近平主持召开中央财经领导小组第十二次会议 研究供给侧结构性改革方案、长江经济带发展规划、森林生态安全工作
李克强主持召开各民主党派全国工商联负责人和无党派人士代表座谈会 听取对政府工作报告和“十三五”规划纲要的意见建议
全国政协邀请已故知名人士和党外全国政协委员夫人茶话迎春
刘云山看望著名科技专家 代表习近平总书记和党中央向广大科技工作者致以诚挚问候和新春祝福
人民日报文章：大格局 大手笔 大胸怀
新华社综述：催生属于这个时代的文艺
【治国理政新实践·基层新答卷】福建屏南：一线干部的“扶贫经”
【数据春运】热门线路购票难 关键节点巧“捡漏”
山东：科技创新 拓展蓝色经济新空间
陕西：完善分级诊疗 共享医疗资源
二十国集团工商界活动首次在华举办
广西教育帮扶建档立卡贫困户子女
新疆开通首条直飞东南亚定期航班
中国海军舰艇编队抵达印尼访问
叙利亚和谈推迟至本月29日
欧盟部分国家拟延长边境管控期限
伊朗总统访问意大利带来巨额订单
世卫：寨卡病毒或传播至美洲多地
习近平会见美国国务卿克里
中共中央 国务院 关于落实发展新理念加快农业现代化实现全面小康目标的若干意见
李克强主持召开国务院常务会议
李克强主持召开专家学者和企业界人士座谈会 听取对政府工作报告和“十三五”规划纲要的意见建议
刘云山主持召开中央文明委第四次全体会议
人民日报文章：同心打造人类命运共同体
人民日报综述：让人民对改革有更多获得感
我国发布《中国的核应急》白皮书
【数据春运】
各地工会扶贫帮困送温暖
长沙：“东湖夜话”架起干群沟通桥梁
《全面小康热点面对面》引发关注
中韩俄国际物流大通道正式开启
北京铁路警方捣毁一制贩假票窝点
气温回升 渤海西部海域冰情缓解
文化进万家活动在多地展开
寨卡病毒多洲持续扩散
叙利亚政府军收复南部战略要地
　俄外长：发展本国经济是当前重点
美进一步放松对古出口旅行限制
丹麦新法案规定没收难民贵重财物
中央军委举行慰问驻京部队老干部迎新春文艺演出 习近平向全军老同志祝贺新春
习近平对食品安全工作作出重要指示强调 牢固树立以人民为中心的发展理念 落实“四个最严”的要求 切实保障人民群众“舌尖上的安全”
张高丽主持召开国务院食品安全委员会第三次全体会议并讲话
习近平致电祝贺阮富仲再次当选越南共产党中央总书记
李克强主持召开教育科技文化卫生体育界人士和基层群众代表座谈会 听取对政府工作报告和“十三五”规划纲要的意见建议
国务院大督查 坚持鼓励有作为和整肃不作为并重 第三批督查问责和督查表扬工作完成
李克强应约同国际货币基金组织总裁拉加德通电话 就世界和中国经济金融形势等问题交换意见
【治国理政新实践·开局话三农】落实发展新理念 加快农业现代化
新华社通讯：“壮士断腕”打造发展新动能
中央纪委公开曝光五起违反中央八项规定精神问题
我国金属矿业最大并购项目正式投产
“猎狐2015”行动抓获外逃人员857名
2015年我国粮食收储创历史新高
铁路部门节前将加开旅客列车110列
义乌至德黑兰国际货运班列今日首发
　北京今年将提前完成污染企业关停任务
寨卡病毒在多洲持续扩散
越共十二大公布新一届领导集体
伊朗总统访问法国 促两国经济合作
中共中央政治局召开会议 审议《中央政治局常委会听取和研究全国人大常委会、国务院、全国政协、最高人民法院、最高人民检察院党组工作汇报和中央书记处工作报告的综合情况报告》 中共中央总书记习近平主持会议
【治国理政新实践·开局话三农】践行绿色新理念 打造美丽新农村
人民日报述评：创新 引领发展的第一动力
全国民生保障性财政支出保持增长
四川：把财政预算放在阳光下
【新春走基层·“小儿科”无小事】全国多地“小儿科”频告急
北京新发地：春节果蔬供应充足
春运暖心归乡路
【时代先锋】国投罗钾：生命禁区的拓荒者
稀土大集团实质性组建今年完成
住建部公布首批国家生态园林城市
我国旅游业将进行全面改革
宁夏110多万贫困群众饮水安全获保障
　卫星导航仿真与测试实验室落户泉州
中国海军护航编队访问孟加拉国
珠三角最大迎春花市开市
全国寻找“最美家庭”活动启动
第三季《中国好歌曲》今晚首播
叙利亚和谈定于今天举行
世卫：寨卡病毒在美洲呈爆炸式传播
日本经济再生大臣因受贿丑闻辞职
　德执政联盟就难民新政达成一致
　也门总统官邸附近遭自杀式炸弹袭击
习近平在中共中央政治局第三十次集体学习时强调 准确把握和抓好我国发展战略重点 扎实把“十三五”发展蓝图变为现实
习近平同党外人士共迎新春
新华社通讯：行稳致远 驶向新航程
山东平邑石膏矿坍塌事故救援
跨越36昼夜的生命大营救
人民日报文章：用爱书写奇迹
中宣部要求各新闻单位认真组织开展2016年“新春走基层”活动
【猴年春晚倒计时】东西南北中 全民大联欢
　第十三届全国冬运会闭幕
西藏首批包虫病患者康复返乡
“一虎带四崽”野生东北虎影像公布
新一轮叙利亚和谈在日内瓦启动
荷兰宣布参与空袭叙境内极端组织
日本央行宣布推行负利率政策
世卫：寨卡冬季在欧洲传播风险极低
“好奇”号火星车发回“自拍照”
【治国理政新实践·开局话三农】提升农业价值链 带动农民增收
人民日报述评：迈出大国经济铿锵步履
我国消费贡献率创15年来新高
江西整合创新资源 促产业升级发展
北京腾退天坛周边简易楼 改善居民居住环境
【新春走基层·“小儿科”无小事】重症监护室一夜
春运变化大 贴心服务暖
【猴年春晚倒计时】用精品力作抒怀中国梦
“时代楷模”尕布龙和燕振昌事迹发布
中宣部、中央文明办开展慰问帮扶道德模范活动
中国政府网等网站启动“我向总理说句话”活动
南方多地遭遇雨雪天气
在自主创新中实现转型升级
俄土再因战机事件起风波
土耳其难民船倾覆致39人死亡
默克尔：战争结束难民就得回家
哥伦比亚超2千孕妇感染寨卡病毒
中国人民解放军战区成立大会在北京举行 习近平向各战区授予军旗发布训令 宣布建立中国人民解放军东部战区、南部战区、西部战区、北部战区、中部战区
李克强对全国优秀农民工和农民工工作先进集体表彰大会作出重要批示强调 着力稳定和扩大农民工就业 切实维护劳动保障权益 让发展成果更多惠及全体农民工
刘云山看望文化界知名人士 代表习近平总书记和党中央向文化工作者致以诚挚问候和新春祝福
中共中央办公厅 国务院办公厅印发《关于加大脱贫攻坚力度支持革命老区开发建设的指导意见》
欢迎中外记者采访十二届全国人大四次会议和全国政协十二届四次会议
新华社长篇述评：奋力迈向中高端
腊月二十三 年味渐浓喜气添
【猴年春晚倒计时】原创节目攀高峰出精品
《记住乡愁》热播 展现民族精神图谱
“e租宝”涉案人员21人被批捕
1月份制造业采购经理指数为49.4%
　南方地区迎来大范围雨雪天气
陈满案再审宣告无罪 当庭释放
新一轮叙利亚和谈
欧洲刑警组织：上万难民儿童“失踪”
【治国理政新实践·深改攻坚进行时】瞄准供给侧 经济改革多策齐发
张德江主持召开部分在京全国人大代表座谈会 听取对全国人大常委会工作报告的意见建议
俞正声出席2016年对台工作会议并作重要讲话
俞正声主持召开民营企业家座谈会
中央文明办部署开展“我们的节日”主题活动
全国双拥工作领导小组向全国双拥模范致慰问信
全国双拥工作领导小组致信慰问广大官兵和优抚对象
人民日报将刊发《党的十八大以来正风反腐要闻录》
【新春走基层】小车票 大变迁
【新春走基层·春节说吧】说出思念 让爱回家
【猴年春晚倒计时】语言类节目新人新作溯源气
非“限购”城市房贷首付比例调整
第五颗新一代北斗导航卫星发射成功
环保部：8家直属环评机构全部脱钩
我国新型两栖船坞登陆舰入列海军
雨雪影响 广州火车站列车大面积晚点
小头症等构成“突发公共卫生事件”
古巴领导人首访法国
联合国特使：叙问题和谈正式开始
沙特联军空袭也门已致超7000人丧生
被控“黑池”交易 巴克莱银行被罚款
习近平春节前夕赴江西看望慰问广大干部群众 祝全国各族人民健康快乐吉祥 祝改革发展人民生活蒸蒸日上
李克强在宁夏考察时强调 以新理念新动能推结构升级 促进经济发展和社会公正
新华社述评：正风肃纪 把纪律挺在前面
国家发改委：中国经济结构优化 新动力正在积聚
深化改革带来更多获得感
财政部将清查行政事业单位国有资产
中国文联赴多地开展文化进万家活动
少儿频道《过年啦》开启“春节时间”
外交部：希望朝方保持克制 慎重行事
叙利亚问题日内瓦和谈陷入僵局
传承红色基因 让人民生活蒸蒸日上
李克强主持召开国务院常务会议
俞正声与全国性宗教团体负责人迎春座谈
俞正声会见柬埔寨副首相
全国政协主席俞正声4日在人民大会堂会见柬埔寨副首相兼外交国际合作大臣贺南洪。
国务院印发《关于钢铁行业化解过剩产能实现脱困发展的意见》
       经李克强总理签批，国务院日前印发《关于钢铁行业化解过剩产能实现脱困发展的意见》。
中共中央办公厅、国务院办公厅印发《关于进一步加强和改进离退休干部工作的意见》
新华社播发：为国家立心 为民族铸魂
【2015年中央第三轮巡视公布问题清单】31家被巡视单位管党治党问题突出
【深入基层 精心打磨】中央主要媒体踊跃赴基层采访
立春时节 民俗登场年味浓
【猴年春晚倒计时】巧创意打造好节目
　多项新规出台推动驾考改革
2015年全国城市空气质量总体好转
我国9条特高压输电通道全部开工
沂蒙老区跑起电动公交
新一轮叙利亚问题和谈暂时中止
联合国秘书长叙利亚问题特使德米斯图拉3号晚在日内瓦宣布，新一轮叙利亚问题日内瓦和谈暂时中止，和谈重启时间暂定为2月25日。
约旦国王呼吁国际社会解决难民潮
中央领导同志看望老同志
李克强同外国专家举行新春座谈会
国务院印发《关于煤炭行业化解过剩产能实现脱困发展的意见》
新华社播发：从“高原”迈向“高峰”
【新春走基层】坚守在极寒中的列车上水工
【新春走基层·“小儿科”无小事】北医三院：一个儿科医生的日记
【猴年春晚倒计时】春晚舞台非遗元素绽放异彩
`,au="https://api.jina.ai/v1/embeddings",wp="https://api.jina.ai/v1/rerank",Dw=Oe({__name:"SearchTab",props:{asVisualizer:{type:Boolean,default:!1},maximizedWindow:{type:Boolean,default:!1}},setup(t,{expose:e}){e();const a=Va(),n=oa(),{t:r}=Ze({useScope:"global"}),i=A1(),{featuredBlogs:o}=Ge(i),s=z(""),l=z(null),u=z(null),{userDocuments:c}=Ge(n),d=z(null),f=z(!0),p=z(10),m=z(5),g=window.gtag,h=z(""),v=$=>{l.value=$,ue(),J()},_=$=>{u.value=$,ue(),J()},y=z(""),x=z(""),E={"Content-Type":"application/json",Authorization:`Bearer ${n.apiKey}`},w=z([]),A=z([]),S=z(0),k=z(0),b=z(!0),M=z(!0),D=z(!1),L=z([]),P=z(""),I=z(!1),R=t,U=z(!1),N=()=>{U.value=!0;const $=o.value[0].url;fetch(`https://r.jina.ai/${$}`,{method:"GET"}).then(Z=>Z.text()).then(Z=>{c.value=Z.split(new RegExp("(?<=[.!?;])\\s+")).map(pe=>pe.trim()).join(`
`)}).catch(Z=>{console.error("Error:",Z)}).finally(()=>{U.value=!1})},W=()=>{var $,Z,pe,te;(($=l.value)==null?void 0:$.name)==="jina-embeddings-v2-base-de"?c.value=Ew:((Z=l.value)==null?void 0:Z.name)==="jina-embeddings-v2-base-zh"?c.value=Mw:((pe=l.value)==null?void 0:pe.name)==="jina-embeddings-v2-base-es"?c.value=kw:((te=l.value)==null?void 0:te.name)==="jina-embeddings-v2-base-code"?c.value=`import pygame
import sys

# Initialize Pygame
pygame.init()

# Set up display
screen = pygame.display.set_mode((400, 300))
pygame.display.set_caption("Pac-Man")

# Colors
BLACK = (0, 0, 0)
YELLOW = (255, 255, 0)

# Pac-Man Settings
pacman_x = 200
pacman_y = 150
pacman_radius = 15

# Game loop
running = True
while running:
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            running = False

    # Movement
    keys = pygame.key.get_pressed()
    if keys[pygame.K_LEFT]:
        pacman_x -= 1
    if keys[pygame.K_RIGHT]:
        pacman_x += 1
    if keys[pygame.K_UP]:
        pacman_y -= 1
    if keys[pygame.K_DOWN]:
        pacman_y += 1

    # Game Logic (collision, eating dots, etc.) would go here

    # Drawing
    screen.fill(BLACK)
    pygame.draw.circle(screen, YELLOW, (pacman_x, pacman_y), pacman_radius)

    pygame.display.flip()

    # FPS limit
    pygame.time.Clock().tick(60)

pygame.quit()
sys.exit()`:N()},Q=()=>{P.value===""?ie():window.open(P.value,"_blank")},re=async()=>{var $,Z,pe,te;if((($=s.value)==null?void 0:$.trim())!==""){if(M.value=!1,l.value){const oe={input:[(Z=s.value)==null?void 0:Z.trim()],model:l.value.name},He=await fetch(au,{method:"POST",headers:E,body:JSON.stringify(oe)}),{data:We}=await He.json(),wa=We[0].embedding;L.value=A.value.map((qa,$a)=>({document:w.value[$a],similarity:n_(wa,qa)})),L.value.sort((qa,$a)=>$a.similarity-qa.similarity)}else L.value=w.value.map(oe=>({document:oe,similarity:0}));if(u.value){const oe={model:(pe=u.value)==null?void 0:pe.name,query:(te=s.value)==null?void 0:te.trim(),documents:L.value.map(wa=>wa.document).slice(0,l.value?p.value:-1),top_n:m.value},We=await(await fetch(wp,{method:"POST",headers:E,body:JSON.stringify(oe)})).json();L.value=We.results.map(wa=>({document:wa.document.text,similarity:wa.relevance_score}))}M.value=!0}},ue=()=>{L.value=[],w.value=[],k.value=0,b.value=!1,S.value=0,A.value=[],P.value=""},J=()=>{w.value=c.value.split(`
`).filter($=>$.trim()!==""),k.value=w.value.length},ie=async()=>{J(),l.value&&await F(w.value)};async function F($){var pe,te,oe;const Z=Math.max(20,Math.min(50,$.length/10));for(let He=0;He<$.length;He+=Z){D.value=!0;const We=$.slice(He,He+Z),wa={input:We,model:(pe=l.value)==null?void 0:pe.name};try{const $a=await(await fetch(au,{method:"POST",headers:E,body:JSON.stringify(wa)})).json();if(!((te=$a.data)!=null&&te.length)&&$a.detail){h.value=$a.detail;return}for(const zt of $a.data)A.value[He+zt.index]=zt.embedding;if(S.value+=We.length,S.value>=k.value&&(b.value=!0,y.value="",x.value="",A.value.forEach((zt,_o)=>{y.value+=zt.join("	")+`
`,x.value+=w.value[_o].replaceAll("	"," ").trim()+`
`}),R.asVisualizer)){I.value=!0;const zt={description:"Projector Data Files",public:!0,files:{"tensor.tsv":{content:y.value},"metadata.tsv":{content:x.value}}},ei=await(await fetch("https://api.github.com/gists",{method:"POST",headers:{Authorization:`Bearer ${lp}`,"Content-Type":"application/json"},body:JSON.stringify(zt)})).json(),Ul={tensorName:((oe=l.value)==null?void 0:oe.name)||"Jina Embeddings",tensorShape:[A.value.length,A.value[0].length],tensorPath:ei.files["tensor.tsv"].raw_url,metadataPath:ei.files["metadata.tsv"].raw_url},Gl={description:"Projector Meta Files",public:!0,files:{"project_config.json":{content:JSON.stringify({embeddings:[Ul]})}}},Hl=await(await fetch("https://api.github.com/gists",{method:"POST",headers:{Authorization:`Bearer ${lp}`,"Content-Type":"application/json"},body:JSON.stringify(Gl)})).json();P.value=`https://projector.tensorflow.org/?config=${Hl.files["project_config.json"].raw_url}`,I.value=!1}}catch(qa){console.error("An error occurred while embedding documents:",qa)}finally{D.value=!1}}}const G=[{name:"document",field:"document",label:r("embedding.document"),required:!0,align:"left",sortable:!0},{name:"similarity",align:"right",label:r("embedding.score"),sortable:!0,field:"similarity"}],ee={$q:a,embeddingStore:n,t:r,newsStore:i,featuredBlogs:o,query:s,currentModel:l,currentRankModel:u,userDocuments:c,userInput:d,modelLoading:f,topK:p,topN:m,gtag:g,errorMsg:h,onModelItemClick:v,onRankModelItemClick:_,tensorsTsv:y,metadataTsv:x,url:au,rerankUrl:wp,headers:E,embeddedDocuments:w,embeddedVectors:A,embeddedCount:S,totalDocuments:k,isEmbeddingDone:b,isSearchingDone:M,isBusy:D,similarityScores:L,tfBoardUrl:P,generateTFBoardUrl:I,props:R,isFillingExample:U,getRandomBlogPostAsExample:N,fillExample:W,openTFBoard:Q,searchAndSortBySimilarity:re,clearDocs:ue,splitDocs:J,splitAndEmbedDocs:ie,embedDocumentsInBatches:F,columns:G,ModelDropDown:rr,get QInput(){return Ne}};return Object.defineProperty(ee,"__isScriptSetup",{enumerable:!1,value:!0}),ee}}),Lw={class:"row full-width"},Pw={key:0,class:"row full-width"},qw={class:"text-negative"};function Iw(t,e,a,n,r,i){return O(),j(ba,{flat:"",class:"column no-wrap full-height"},{default:T(()=>[Te("div",Lw,[n.userDocuments?ne("",!0):(O(),j(ve,{key:0,icon:"lightbulb",label:n.t("embedding.fill_example"),onClick:n.fillExample,flat:"",square:"",loading:n.isFillingExample,padding:"md"},null,8,["label","loading"])),!n.currentModel&&!n.currentRankModel&&!n.modelLoading?(O(),j(ve,{key:1,padding:"md",label:n.t("embedding.please_select_model"),icon:"error",color:"negative",square:"",flat:"",disable:"","no-caps":""},null,8,["label"])):!a.asVisualizer&&(!n.isEmbeddingDone||n.isBusy)&&n.currentModel?(O(),j(ve,{key:2,label:n.t("embedding.index_and_search"),onClick:n.splitAndEmbedDocs,icon:"play_arrow",disable:n.userDocuments===""||n.isBusy,padding:"md",flat:"",square:""},null,8,["label","disable"])):!a.asVisualizer&&!n.isBusy?(O(),j(n.QInput,{key:3,class:"col",clearable:"",modelValue:n.query,"onUpdate:modelValue":[e[0]||(e[0]=o=>n.query=o),n.searchAndSortBySimilarity],debounce:"500",label:n.totalDocuments===0?n.t("embedding.please_fill_docs_first"):n.t("embedding.query"),loading:n.isBusy,"hide-bottom-space":""},{prepend:T(()=>[C(me,{name:"search",class:"q-mx-md"})]),_:1},8,["modelValue","label","loading"])):a.asVisualizer?(O(),j(ve,{key:4,stretch:"",flat:"",padding:"md",disable:n.userDocuments===""||n.isBusy,label:n.tfBoardUrl?n.t("embedding.open_tensorboard"):n.t("embedding.visualize"),onClick:n.openTFBoard,icon:n.tfBoardUrl?"open_in_new":"play_arrow",loading:n.generateTFBoardUrl},null,8,["disable","label","icon","loading"])):ne("",!0),C(co),a.asVisualizer?(O(),j(n.ModelDropDown,{key:5,currentModel:n.currentModel,indicator:!1,onChooseModel:n.onModelItemClick,onModelsLoaded:e[1]||(e[1]=o=>n.modelLoading=!1),"allow-none":!a.asVisualizer,class:"col-auto"},null,8,["currentModel","allow-none"])):ne("",!0)]),a.asVisualizer?ne("",!0):(O(),ye("div",Pw,[C(n.ModelDropDown,{currentModel:n.currentModel,indicator:!1,onChooseModel:n.onModelItemClick,onModelsLoaded:e[2]||(e[2]=o=>n.modelLoading=!1),"allow-none":!a.asVisualizer,class:"col-auto"},null,8,["currentModel","allow-none"]),n.currentModel&&n.currentRankModel?(O(),j(n.QInput,{key:0,filled:"",modelValue:n.topK,"onUpdate:modelValue":e[3]||(e[3]=o=>n.topK=o),class:qr([n.$q.screen.lt.sm?"full-width q-py-md":"","col"]),type:"number",square:"",min:"1",max:"100",label:n.t("embedding.results_fed_to_reranker")},null,8,["modelValue","class","label"])):ne("",!0),C(n.ModelDropDown,{currentModel:n.currentRankModel,onChooseModel:n.onRankModelItemClick,onModelsLoaded:e[4]||(e[4]=o=>n.modelLoading=!1),category:"rank","allow-none":!0,class:"col-auto"},null,8,["currentModel"]),n.currentRankModel?(O(),j(n.QInput,{key:1,filled:"",modelValue:n.topN,"onUpdate:modelValue":e[5]||(e[5]=o=>n.topN=o),type:"number",class:qr([n.$q.screen.lt.sm?"full-width q-py-md":"","col"]),square:"",min:"1",max:"100",label:n.t("embedding.results_as_final_result")},null,8,["modelValue","class","label"])):ne("",!0)])),C(Ye),Pt(C(Yd,{value:n.embeddedCount/n.totalDocuments,indeterminate:n.generateTFBoardUrl},null,8,["value","indeterminate"]),[[Mi,n.currentModel&&(n.totalDocuments>0&&n.isBusy||n.generateTFBoardUrl)]]),n.similarityScores.length>0&&n.query?(O(),j(Kd,{key:1,columns:n.columns,class:"my-sticky-column-table col key-value-table",loading:!n.isSearchingDone,rows:n.similarityScores,pagination:{rowsPerPage:10}},{body:T(o=>[C(t_,{props:o},{default:T(()=>[C(Ar,{key:"document",props:o,class:"fixed-cell"},{default:T(()=>[V(B(o.row.document),1)]),_:2},1032,["props"]),C(Ar,{key:"similarity",props:o},{default:T(()=>[V(B(o.row.similarity.toFixed(8)),1)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["loading","rows"])):(O(),j(n.QInput,{key:2,modelValue:n.userDocuments,"onUpdate:modelValue":[e[6]||(e[6]=o=>n.userDocuments=o),n.clearDocs],ref:"userInput",label:n.t("embedding.original_documents"),placeholder:n.t("embedding.original_documents_hint"),filled:"",rows:"15",square:"",type:"textarea","bottom-slots":"",class:"q-mb-md",style:{"flex-grow":"1"}},{hint:T(()=>[n.totalDocuments>0&&n.isBusy&&n.currentModel?(O(),ye(Me,{key:0},[C(Tw,{size:"20px"}),V(" "+B(n.t("embedding.total_documents",{_Processed:n.embeddedCount,_Count:n.totalDocuments})),1)],64)):n.isEmbeddingDone&&n.totalDocuments>0&&!a.asVisualizer?(O(),ye(Me,{key:1},[C(me,{name:"done"}),V(" "+B(n.t("embedding.embedding_done",{_Count:n.totalDocuments})),1)],64)):n.generateTFBoardUrl?(O(),ye(Me,{key:2},[C(me,{name:"polyline"}),V(" "+B(n.t("embedding.generating_visualization")),1)],64)):n.tfBoardUrl?(O(),ye(Me,{key:3},[C(me,{name:"open_in_new"}),V(" "+B(n.t("embedding.visualize_done")),1)],64)):n.totalDocuments<=1&&n.currentModel?(O(),ye(Me,{key:4},[C(me,{name:"info"}),V(" "+B(n.t("embedding.more_than_two2")),1)],64)):n.errorMsg?(O(),ye(Me,{key:5},[C(me,{name:"error",color:"negative"}),Te("span",qw,B(n.errorMsg),1)],64)):ne("",!0)]),_:1},8,["modelValue","label","placeholder"]))]),_:1})}const AR=Be(Dw,[["render",Iw],["__scopeId","data-v-d6eff69b"],["__file","SearchTab.vue"]]),ti=ar({name:"QTimelineEntry",props:{heading:Boolean,tag:{type:String,default:"h3"},side:{type:String,default:"right",validator:t=>["left","right"].includes(t)},icon:String,avatar:String,color:String,title:String,subtitle:String,body:String},setup(t,{slots:e}){const a=l1(Fg,Xl);if(a===Xl)return console.error("QTimelineEntry needs to be child of QTimeline"),Xl;const n=H(()=>`q-timeline__entry q-timeline__entry--${t.side}`+(t.icon!==void 0||t.avatar!==void 0?" q-timeline__entry--icon":"")),r=H(()=>`q-timeline__dot text-${t.color||a.color}`),i=H(()=>a.layout==="comfortable"&&a.side==="left");return()=>{const o=s1(e.default,[]);if(t.body!==void 0&&o.unshift(t.body),t.heading===!0){const u=[xe("div"),xe("div"),xe(t.tag,{class:"q-timeline__heading-title"},o)];return xe("div",{class:"q-timeline__heading"},i.value===!0?u.reverse():u)}let s;t.icon!==void 0?s=[xe(me,{class:"row items-center justify-center",name:t.icon})]:t.avatar!==void 0&&(s=[xe("img",{class:"q-timeline__dot-img",src:t.avatar})]);const l=[xe("div",{class:"q-timeline__subtitle"},[xe("span",{},Ms(e.subtitle,[t.subtitle]))]),xe("div",{class:r.value},s),xe("div",{class:"q-timeline__content"},[xe("h6",{class:"q-timeline__title"},Ms(e.title,[t.title]))].concat(o))];return xe("li",{class:n.value},i.value===!0?l.reverse():l)}}}),Rw='<circle cx="12.5" cy="12.5" r="12.5"><animate attributeName="fill-opacity" begin="0s" dur="1s" values="1;.2;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="12.5" cy="52.5" r="12.5" fill-opacity=".5"><animate attributeName="fill-opacity" begin="100ms" dur="1s" values="1;.2;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="52.5" cy="12.5" r="12.5"><animate attributeName="fill-opacity" begin="300ms" dur="1s" values="1;.2;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="52.5" cy="52.5" r="12.5"><animate attributeName="fill-opacity" begin="600ms" dur="1s" values="1;.2;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="92.5" cy="12.5" r="12.5"><animate attributeName="fill-opacity" begin="800ms" dur="1s" values="1;.2;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="92.5" cy="52.5" r="12.5"><animate attributeName="fill-opacity" begin="400ms" dur="1s" values="1;.2;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="12.5" cy="92.5" r="12.5"><animate attributeName="fill-opacity" begin="700ms" dur="1s" values="1;.2;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="52.5" cy="92.5" r="12.5"><animate attributeName="fill-opacity" begin="500ms" dur="1s" values="1;.2;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="92.5" cy="92.5" r="12.5"><animate attributeName="fill-opacity" begin="200ms" dur="1s" values="1;.2;1" calcMode="linear" repeatCount="indefinite"></animate></circle>',Ow=ar({name:"QSpinnerGrid",props:Vg,setup(t){const{cSize:e,classes:a}=jg(t);return()=>xe("svg",{class:a.value,fill:"currentColor",width:e.value,height:e.value,viewBox:"0 0 105 105",xmlns:"http://www.w3.org/2000/svg",innerHTML:Rw})}}),Bw=ar({name:"QTimeline",props:{...Ug,color:{type:String,default:"primary"},side:{type:String,default:"right",validator:t=>["left","right"].includes(t)},layout:{type:String,default:"dense",validator:t=>["dense","comfortable","loose"].includes(t)}},setup(t,{slots:e}){const a=ul(),n=Gg(t,a.proxy.$q);u1(Fg,t);const r=H(()=>`q-timeline q-timeline--${t.layout} q-timeline--${t.layout}--${t.side}`+(n.value===!0?" q-timeline--dark":""));return()=>xe("ul",{class:r.value},Ms(e.default))}}),zw=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],Nw=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],Vw=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],jw=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],xp=(t,e,a)=>{let n=t;return typeof e=="string"||Array.isArray(e)?n=t.toLocaleString(e,a):(e===!0||a!==void 0)&&(n=t.toLocaleString(void 0,a)),n};function Sp(t,e){if(!Number.isFinite(t))throw new TypeError(`Expected a finite number, got ${typeof t}: ${t}`);e={bits:!1,binary:!1,space:!0,...e};const a=e.bits?e.binary?jw:Vw:e.binary?Nw:zw,n=e.space?" ":"";if(e.signed&&t===0)return` 0${n}${a[0]}`;const r=t<0,i=r?"-":e.signed?"+":"";r&&(t=-t);let o;if(e.minimumFractionDigits!==void 0&&(o={minimumFractionDigits:e.minimumFractionDigits}),e.maximumFractionDigits!==void 0&&(o={maximumFractionDigits:e.maximumFractionDigits,...o}),t<1){const c=xp(t,e.locale,o);return i+c+n+a[0]}const s=Math.min(Math.floor(e.binary?Math.log(t)/Math.log(1024):Math.log10(t)/3),a.length-1);t/=(e.binary?1024:1e3)**s,o||(t=t.toPrecision(3));const l=xp(Number(t),e.locale,o),u=a[s];return i+l+n+u}const Cp=200*1024*1024,Fw=Oe({__name:"BulkTab",setup(t,{expose:e}){e();const{t:a,locale:n}=Ze({useScope:"global"}),r=oa(),{isApiKeyInfoLoading:i,apiKeyTokens:o,apiKey:s}=Ge(r),l=z(null),u=z(""),c=z(null),d=z(s.value),f=y=>{c.value=y},p=([y])=>{const{failedPropValidation:x}=y;switch(x){case"max-file-size":ai.create({message:a("embedding.file_size_exceed",{_size:Sp(Cp,{locale:n.value,binary:!0})}),color:"negative"});break;case"accept":ai.create({message:a("embedding.file_type_not_supported"),color:"negative"});break}};Ds(()=>({file:l,currentModel:c}),()=>{g.value=""},{deep:!0});const m=z(!1),g=z(""),h=z(!1),_={t:a,locale:n,embeddingStore:r,isApiKeyInfoLoading:i,apiKeyTokens:o,apiKey:s,file:l,email:u,currentModel:c,inputApiKey:d,onModelItemClick:f,MAX_FILE_SIZE:Cp,onRejected:p,processing:m,resultUrl:g,jobAcknowledged:h,process:async()=>{if(h.value=!0,!c.value){ai.create({message:a("embedding.model_required"),color:"negative"}),h.value=!1;return}if(!l.value){ai.create({message:a("embedding.file_required"),color:"negative"}),h.value=!1;return}let y;try{m.value=!0;const{id:x}=await r.bulkEmbedding(d.value,{email:u.value,model:c.value.name,file:l.value}),E=60;let w=0;g.value=await new Promise((A,S)=>{y=setInterval(async()=>{w++;const k=await r.checkBulk(d.value,x);if(console.log(k),w>E&&clearInterval(y),k.status===Jl.COMPLETED){const b=await r.getBulkResult(d.value,x);clearInterval(y),A(b)}else k.status===Jl.FAILED?(h.value=!1,clearInterval(y),S(new Error(a("embedding.bulk_embedding_failed")))):k.status===Jl.IN_PROGRESS&&(h.value=!0)},1e3*30)})}catch(x){h.value=!1,ai.create({message:x instanceof Error?x.message:String(x),color:"negative"})}finally{m.value=!1}cl(()=>{clearInterval(y)})},get prettyBytes(){return Sp},ModelDropDown:rr,get REG_EMAIL(){return T1}};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}}),Uw={class:"row justify-center items-center"};function Gw(t,e,a,n,r,i){return O(),j(ba,{flat:"",class:"column no-wrap full-height"},{default:T(()=>[C(Bw,{class:"q-pa-lg"},{default:T(()=>[C(ti,{subtitle:n.t("embedding.batch_upload_hint"),heading:!1},{default:T(()=>[Te("div",Uw,[C(n.ModelDropDown,{currentModel:n.currentModel,indicator:!1,onChooseModel:n.onModelItemClick},null,8,["currentModel"]),C(Ne,{"hide-bottom-space":"",filled:"",loading:n.isApiKeyInfoLoading,square:"",modelValue:n.inputApiKey,"onUpdate:modelValue":e[0]||(e[0]=o=>n.inputApiKey=o),label:n.t("embedding.key"),class:"col",error:n.apiKeyTokens<0,"error-message":n.inputApiKey?n.t("embedding.input_api_key_error1"):""},{prepend:T(()=>[C(me,{name:"key"})]),_:1},8,["loading","modelValue","label","error","error-message"])])]),_:1},8,["subtitle"]),C(ti,{subtitle:n.t("embedding.original_documents_hint"),color:n.currentModel&&n.inputApiKey?"":"bg-dark"},{default:T(()=>[C(Kg,{"bottom-slots":"",filled:"",square:"",modelValue:n.file,"onUpdate:modelValue":e[1]||(e[1]=o=>n.file=o),label:n.t("embedding.upload_file"),accept:"text/*",onRejected:n.onRejected,"max-file-size":n.MAX_FILE_SIZE},{prepend:T(()=>[C(me,{name:"file_upload"})]),hint:T(()=>[V(B(n.t("embedding.max_file_size",{_maxSize:n.prettyBytes(n.MAX_FILE_SIZE,{locale:n.locale,binary:!0})})),1)]),_:1},8,["modelValue","label"])]),_:1},8,["subtitle","color"]),C(ti,{subtitle:n.t("embedding.write_email_here"),color:n.file&&n.currentModel&&n.inputApiKey?"":"bg-dark"},{default:T(()=>[C(Ne,{filled:"",square:"",label:n.t("subscribe_system.email"),type:"email",modelValue:n.email,"onUpdate:modelValue":e[2]||(e[2]=o=>n.email=o),"lazy-rules":"",rules:[o=>!!o||n.t("subscribe_system.email_required"),o=>n.REG_EMAIL.test(o)||n.t("subscribe_system.email_invalid")]},{prepend:T(()=>[C(me,{name:"email"})]),_:1},8,["label","modelValue","rules"])]),_:1},8,["subtitle","color"]),C(ti,{subtitle:n.t("embedding.click_upload_btn_above"),color:n.email&&n.file&&n.currentModel&&n.inputApiKey?"":"bg-dark"},{default:T(()=>[C(ve,{square:"",label:n.t("embedding.start_batch"),icon:"send",onClick:n.process,outline:"",padding:"md",disable:!n.file||!n.email||n.processing},null,8,["label","disable"])]),_:1},8,["subtitle","color"]),n.jobAcknowledged?(O(),j(ti,{key:0,subtitle:n.t("embedding.wait_for_processing")},{default:T(()=>[C(Ow,{class:"q-mr-sm"}),V(" "+B(n.t("embedding.you_can_leave")),1)]),_:1},8,["subtitle"])):ne("",!0)]),_:1})]),_:1})}const TR=Be(Fw,[["render",Gw],["__file","BulkTab.vue"]]),Hw="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M30.3755%205.34993C28.3609%202.95973%2026.6262%200.532193%2026.2718%200.0280101C26.2345%20-0.00933671%2026.1785%20-0.00933671%2026.1412%200.0280101C25.7868%200.532193%2024.052%202.95973%2022.0375%205.34993C4.74595%2027.4031%2024.7609%2042.2859%2024.7609%2042.2859L24.9287%2042.398C25.0779%2044.6947%2025.451%2048%2025.451%2048H26.1972H26.9433C26.9433%2048%2027.3164%2044.7134%2027.4656%2042.398L27.6335%2042.2673C27.6521%2042.2859%2047.6671%2027.4031%2030.3755%205.34993ZM26.1972%2041.9498C26.1972%2041.9498%2025.3018%2041.1842%2025.0593%2040.7922V40.7546L26.1412%2016.7407C26.1412%2016.666%2026.2531%2016.666%2026.2531%2016.7407L27.335%2040.7546V40.7922C27.0925%2041.1842%2026.1972%2041.9498%2026.1972%2041.9498Z'%20fill='%2301ED65'/%3e%3c/svg%3e",Ww="/assets/icon-Weaviate-CfbkPZsU.svg",Kw="/assets/icon-Milvus-Bz_cf8R2.png",Yw="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M35.6895%2044.1207L34.7324%2017.7332L32.999%2010.7764L44.5686%2012.0012V43.921L37.5012%2047.9998L35.6895%2044.1207Z'%20fill='%2324386C'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M44.5671%2011.9995L37.4997%2016.0812L22.9152%2012.8819L5.84415%2019.8325L3%2011.9995L13.3901%205.99973L23.7833%200L34.1737%205.99973L44.5671%2011.9995Z'%20fill='%237589BE'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M3.00098%2011.9993L10.0684%2016.081L14.1652%2028.2651L27.998%2039.3329L23.7846%2047.9977L13.3914%2041.9977L3.00098%2035.9979V11.9993Z'%20fill='%23B2BFE8'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M28.4696%2032.9307L23.7842%2039.8381V47.9983L30.4327%2044.1623L33.8584%2039.0469'%20fill='%2324386C'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M23.7871%2031.6805L17.1357%2020.1645L18.5684%2016.3477L24.0148%2013.707L30.4327%2020.1647L23.7871%2031.6805Z'%20fill='%237589BE'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M17.1351%2020.1631L23.7836%2023.9991V31.6775L17.6346%2031.9421L13.915%2027.1927L17.1351%2020.1631Z'%20fill='%23B2BFE8'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M23.7842%2023.9988L30.4327%2020.1631L34.9575%2027.6972L29.4819%2032.2214L23.7842%2031.6775V23.9988Z'%20fill='%2324386C'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M30.4328%2044.1621L37.5002%2047.9985V16.0818L30.6407%2012.1229L23.7843%208.16406L16.9247%2012.1229L10.0684%2016.0818V31.9202L16.9247%2035.879L23.7843%2039.8382L30.4328%2035.9987V44.1621ZM30.4328%2027.8384L23.7843%2031.6776L17.1358%2027.8384V20.1632L23.7843%2016.324L30.4328%2020.1632V27.8384Z'%20fill='%23DC244C'/%3e%3c/svg%3e",Xw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA98SURBVHgB7Z0L1FRVGYa3imR4R/GKSGpq3jV1kZKhmeUlY5XL0kS7sNIszcqsNMysLNQs0nRZarZSs9C8mxoVlhdULBU1WqKgqZAR4gVQUN6+h++wGM6/z5kzM+fMjD//u9a7fpjZc84++/Zd9z4h9KGjWCn0UkgaYH/eb9zJ+JJxwkorrTQ19KF6WONvZRxrnGpcZJxrvMM4KPShGljjrmxcy/hZ47+MC7Q8FhuvNa4X+lAurFHXNB5ivC4Z8Vl43fjjZHnqQxmwxtzF+Avjv1UM/zOODn1oHtaA/YxbG88yTjO+qcYwz7iHceXQh8ZgjbaR8dPGf6g1PG7c3dhrNcHSYY31YePvjf9V63jDeINxo9CH+rCG2tc4S/nLDQL4GeMrke8WRz5baBxvXCP0IR/WSG83PqVsvGi8xjgy4/tnc377Da4f+pAPa6Qvqqd+D/5sHGUcmNMB31S23Hgh+f0qoQ/ZsAbaxHhTTcM9bfyqcTMlGo39/XqkgVmS3ms8MPlNGixPU4z7hRUVcmNqnRqi7QxVSkjKDa57jWcrIkDts1sjDfxP4w6McOMnjM8rDmbIu0Ib0S9UDLmAG2bc1LhOcMcYn61fU4ypv6Fx1ZrP1k/KPWw8qebzCcZpOY61zSKfTTPOsd8gwK+3fw8xjo2UW2xcPfQmyLUMpj1CckHyd56KY5JxYMF7DTbOjFwDS3mtmnJrGK+q+Z4l6C7jrqE3wR7oy2odLAtDC97vIHkH1wJ9/9RI2SHy5QoBfHZtB7UTVS9BB4f2YvOw/DIGZhmfSRe05Qh74XT75xbGG+z/r4cOoOoO2Dy0F9uFnmv4i8E7oQes0Sfbn8mhg6isA2x0bRNciOYBoTcv4SLjmzXfIayfNT5tnB/q34+G3yDy1XPGJ0MByFXZc/in8argwvsV6yiFilDlDKADVqtTZoHxFuN5xiftQeeE5oFT7Q/G14yDjYMSzgzekUVA+HJU8rtjjTcZb7aOud/+zrD6vRHeKpBbra/Wl7FLjKQTQkmQu6oRsLsZP2Qc3sBvT1dPS5v6/c34E+OOxlVDt0MeHrxQxf30zxmPNvYPHYI8jvzXnDqiTeEMvF5uDA7sZH1zIbdkr4s8BCrizIwHxFod2YmHSgbM4fJoWVE8IHfi7WNcLXQTrELbyt0FafDZqYq7i8HDxh1Dm5F0wHbyCNuTKg5izBiZP5fbIN3REXLH17RIhX9mHGD8tnxKp4FFynpLuLGtkSruZ3yb3P/0KbkFzowouozi7j5C3RDmtEocpvgoH518z4NenYygNOgY/PpbqIPhQrt3f+MHjZfJw5cLVR+/M64dOgm5x/FLGRXcr6Ycy9RExWfCfONJ6gKNgwY1HmN8TPWB3FunketXMV1otCEZ302p+fcTxlOMd6bKYPQ8brzb9O5FoSDk6uc7jFuGksA17c++xk8aNynwE+q7OHQScg3oj5HR8XRGefJ6HkjKsCSh5hVOIUxG6MFaJvQXJdfA/9/UEib3lu6X8Rx5OCvptM5BHrWKRZ1uy/nN/vI8zkv5fcH7MOKHyQV7Wn1kWRuvJnJB7Tcj5O7rF9QYWDY/HjoNq8T6cqvxTuOcmgqel/MbNKOdVHD9lAfozzQ+oexURD4fEwpCHoE7Q55V0WiiF8CY3D90G6xSg+Quge1Ci0ga6Sj5bCkCDL8TVCcXVD5rnypwvZfl1nIsw2JyGc/YEqwCG6sCzUW+3GBxXqeeAZd6YJbQaf1zrk9W9ZU510AFfVDu30K23Bcpg9Ouc+nv8tF5iSLRpxavyww6K2nIZsBygptjz5x7YAnj34nJLlwnY+SOOFRsnHyxGXiFOmWEyS3XiUlFMMDQ4Zv26SQNQpbEaON/VA5o3AE591zVeIG8wxDibOpgQA1MlfuoevqzUAJOCe1G0lB7GiekKtSSY01uBTOi6lmf8xQ35LKAljUo574k65IfhAbFjOgXKcMylLbySY0/KrQT8uk4XL4exhoBx9ouoQnIHWP31WlMlqQfqfi+AICqyHIyIOO+yJq9lZGwK3dPjI1cl04bFtoFu9lqxmPlqles8fkMr+KI0ASShjhRPUcaqiXT/XLjNsYD1NPpxxLCcni34kA1/ryaMNLsNxsafxO5Jip3exJ85YGIryieowlYNlDVhqsFZ5rcGr2j5rosN+OTRu+flGGfQForotOOS+6f5Vp+SU2MWLmsmxS53tWhHZBrJN9Tfn4+5jtGVcsaQdLYNDBTHMG+cep7YgtpQ4wZsn/y/ZHKjj2wxO0WGoBcA4ppSqeFKiH3lW8gd7fOz3ggRijZZluFkiC3kOmELZVKH5fPxMsi9UBD2Topw1JJsu6cSDka8ojQAORyDxnxheTezAZk0IGhKsg1HXr+WmWDUfpDtXG3iTwN8ZZIXaakyuEaOT01cNDSUCdbNhrlRlx1kTC7+M7y/PssnwsCd5wa9IOXUC8s0imR+lwTKTsoGbHUlaXnkNAlKOI6Pd64d05ZBC0+c3R3fPyPBc9ofsL8+S+F6rBmiMcdeiRhWT2QWWOT34wz3h9KhF17YIs5TbkXn6XmgYOLjXA/MI4KJUIe9ozh8NAGyF0vZFLghEMtrkYNVevbQZdiZigRdr3vZNynIc2mifsi2FEMah2DCOIjQxMooir+Miyfs9ksHg/lYnbw5WZhzWekID4fqgUz7GLjyOAbTgBBJDIihoSyIdc2yKOPbfPks6LBiwtCBZAHZ94tz6zDeVdpbo48g+6ByPOhhmOrlLvbUq6G4k+PGV+vyTdOo2GgEk5Rtr/+6NBLIM+Ii+ER42ahbMh13ZjOzei/WO69ZKagGmKosBHu+/LcH46OIUl3ROglkBuBscQz1NyTQxWQByRiZj0+oY+EFQzy7LmYPwyBvEOoAoon3IIbtYJt909m/J2RtiC1Bn9Z+bJInisTc0bhazks9CIkz8om8CUJBUoFl+Sy8biMVQFXR/nxAXlA4jzFcbuqUMN61gEHHbEAolskYJ2jknV/udON67PE4F3FGCVd5abkfiglpFbuqmWh2Frgthlb1SzYXnEfDJVtKRZc4N4I+XPVM06M9lHauiv3/N6qfKCAsOM+K1mAmbFnKBvJ6Dgl46aEIUtXw+SjnlHHmhvLqCYIRAy5FG+sioVEiwDZWP6AlKeXp2Oxs+VLQmnLkDwq9j55JKxedgSGEMKv5Q3XclfD82odyMZqNES5AHoxIdO1tB0i8pgwGQrj1FgiFrODrIWWEmTlApiwKgrHAjUPlqlcD0ArFb3WSM4MbtibzR1bdCtoLqzC69qf44w4t7YNjdWR6Y4hNIM6heYxKakDSxp7j9lwzikqWyZ1Wr/gdUi1r24HvtwPU9oaJ88x4tCM19QaSCMsTTOSz8jV5Rbw4KSex8sDVa/n1INlc6/Q7ZDvy7pIjed95gF5tEWoAPKBRwdk7arESUls+qBQFbRsE8Phyd8Rcr143QYvxbVOVn3wsBPVGEg1LPWU3OS5ScvJyrZg3SdIwwmP1W3WkO9G/7V8mk1PyGa2E0ODkKexTM94IBxcLEukCo7JKDM543M8uKXZJvIlCAMrb6Y+Kldjqz1/Tr4f68ZIBc4IDUIeZcK2qB1VaB/43UdpWSLWbzMamdT1Pykem0CdZIa15KeXD7gsXxhAFmCLtOdwcGUbKyfm/AZhtlrGd3TohKQRcfWSSrJVqkwsPHqbPOsBNziGYCxwhM3SVKxYbnjuJY9tZ4FBgIVeuSumtmJsrovlyX8so/zSbUXEcteOfI9zizgCPhjykPpHysSSwvBNsS7jpzpS2Vl76PQNzwL5yGfzRVamNnXC9mivNzhppNi2npGpciwvCOmluxiZqseGBiFX/WIgDNmvphwG4tya7xcn9fxcaBLyVPtHU/dFNjEAq9N06lSK5NfY4XvDasqwNLCUTE+VYTQ2tJ9K8TQU5MTwVDlmw/nykUkj4T9CgLckiJP716qd98s1v85sS01uHsPQ5HtkxKWp0ViLn6oBFVG+gzGNGUoZXPI8VrKYkScIZgZKyxqJXH6xzrMUPSSf1Z07aVe+tzcNBCgq5THyoERWxgSfLzmUo+C9aNSYxvUXRXbGy+UJQp3kqdLOm5Bvm2JfxB6h05Dr12ng/cM2yDPPmRGok0MbuNe6xnsi1/qVCp4pGrlmvzrfI7sqf9VJ2esXB+dxrkLWqOO02/ON15vzrpEEKtS72CkknIb4amgQSefzsp/LrR5ZB/oRTPmMlaHO5JJOsrJ1Dw9sFK10QEztigk6PIIczndvcE/lY40cwpGARuAM0vcYOdAJ+2B740N2rYVFLyI3kg4wfs24sxHL9mS7xoJUOdb2Q4MPpkVJ/ZndV9jfC0n2DZ2GPCG1CFDV2CRR6ibmZJ0vnN8v3+QxTssrBfx7dKQsO+dvjzwLQr2z5wEtheKJWmlgpSKsO/5yBGVnU2Mlpy1uXBux/WXnhpLRyj6uIiOBB/uAkTcWEehGsHXqSC/OAH0w+JJYC84YRSVeIsyT+rG8xdwKt4RugeJJSXkgc+Fb8njrtp2YFXJ/UWxfMU7A0+TBfwy5qyNl5oZugjwgMVeNg4fFqYZbt6mN3C3UeUAyCGK+fNJLeFEQ638s7/Oa0E2wCq1nRE3DV1/kQLs0cBMfGtqMpIFjJ2FhHJLpfYTiBmTD/qu2QR5SxAnGaYd/l3skF9XpALZ4duQdXvIc/6wTsWKjnwzvSmZr6cdCWkXJGtg9uL6Ow42gdMxavcj06ePrXIuMBDZdE9vFZiED4x7jI43o/xnX5rUo3w097RkO3UsrCpcYx9g9Z4W3CuT+fzIICGYgL1Bba3NsDqvze5x5LBWza5aE+cloLLQzXTmCXq6VjVd9MJNxeb/1X3El1zAOlW/qyGscthzVO6eT16PU8+c8WFOeY8YQ/kTx0HIwJIly1VMkcCruHlYUyPNvyGaodw4QHbRDnWtNV+uo9CiybnydKx7IfYK/2ioP7EysemSyO5TdnbNDRejGDsCjuk2Bcljim2Z9aaMWC7fVdBQ8rZOrfIVJN3YA2s0LBcrhocxzRZN90aqWx9uXJoQK0dljduPgHTCcNTG4TjlcwlNzvkdl5NUonA/Bc+LbYUYwc3hrH53D2k6iLQORs4jWSP3+zMrOgEjQjR2Az+VKI2G/DTLKoKvfFdwmiMIajtlBBveSkGbwZ10lIf9e+tnSNqBz6AhmDp3PG5SeCSsitCz/MmatEu5kP0KveBN2175PXZ7ohCubA7HfGVw4zzBODB7SnBp6Abr+hfZJR6CasjzwHq+XW3VD9KEPfehDH5bg/0KiBLCW1REBAAAAAElFTkSuQmCC",Zw="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M31.2387%2038.1393C39.6948%2038.1393%2046.5498%2031.5585%2046.5498%2023.4408C46.5498%2015.323%2039.6948%208.74219%2031.2387%208.74219C22.7827%208.74219%2015.9277%2015.323%2015.9277%2023.4408C15.9277%2031.5585%2022.7827%2038.1393%2031.2387%2038.1393Z'%20fill='%23FFDE2D'/%3e%3cpath%20d='M15.9282%2038.1393C24.3842%2038.1393%2031.2392%2031.5585%2031.2392%2023.4408C31.2392%2015.323%2024.3842%208.74219%2015.9282%208.74219C7.47216%208.74219%200.617188%2015.323%200.617188%2023.4408C0.617188%2031.5585%207.47216%2038.1393%2015.9282%2038.1393Z'%20fill='%23327EFF'/%3e%3cpath%20d='M0.617188%2023.4407C0.617185%2015.3229%207.47214%208.74219%2015.9282%208.74219V23.4407H0.617188Z'%20fill='%23327EFF'/%3e%3cpath%20d='M31.2388%2023.4404C31.2388%2031.5583%2024.3838%2038.1389%2015.9277%2038.1389V23.4404H31.2388Z'%20fill='%23FF6446'/%3e%3cpath%20d='M15.9277%2023.4407C15.9277%2015.3229%2022.7827%208.74219%2031.2388%208.74219V23.4407H15.9277Z'%20fill='%23FF6446'/%3e%3c/svg%3e",Qw="/assets/icon-Langchain-hPS1w007.png",Jw="/assets/icon-LlamaIndex-CKyGrd9a.png",$w="/assets/icon-Dify-BQetVg9h.png",ex="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.56%200H38.44C40.41%200%2042%201.59%2042%203.56V43.44C42%2045.4%2040.41%2047%2038.44%2047H8.56C6.59%2047%205%2045.4%205%2043.44V3.56C5%201.59%206.59%200%208.56%200Z'%20fill='%2303AF9D'/%3e%3cpath%20d='M12.0001%2018.51C12.0001%2012.15%2017.1601%207%2023.5201%207C29.8801%207%2035.0401%2012.16%2035.0401%2018.52V35.5C35.0401%2035.78%2034.8201%2036%2034.5401%2036C32.0501%2036%2030.0401%2033.99%2030.0401%2031.5V18.51C30.0401%2014.91%2027.1201%2011.99%2023.5201%2011.99C19.9201%2011.99%2017.0001%2014.92%2017.0001%2018.51V23.49C17.0001%2023.77%2017.2201%2023.99%2017.5001%2023.99H20.5001C20.7801%2023.99%2021.0001%2023.77%2021.0001%2023.49V19.49C21.0001%2018.827%2021.2635%2018.1911%2021.7323%2017.7222C22.2012%2017.2534%2022.8371%2016.99%2023.5001%2016.99C24.1632%2016.99%2024.799%2017.2534%2025.2679%2017.7222C25.7367%2018.1911%2026.0001%2018.827%2026.0001%2019.49V39.49C26.0001%2039.77%2025.7801%2039.99%2025.5001%2039.99C23.0101%2039.99%2021.0001%2037.98%2021.0001%2035.49V29.49C21.0001%2029.21%2020.7801%2028.99%2020.5001%2028.99H17.5001C17.2201%2028.99%2017.0001%2029.21%2017.0001%2029.49V31.49C17.0001%2033.98%2014.9901%2035.99%2012.5001%2035.99C12.4346%2035.9928%2012.3692%2035.982%2012.3079%2035.9585C12.2467%2035.935%2012.1909%2035.8992%2012.144%2035.8532C12.0972%2035.8073%2012.0602%2035.7523%2012.0355%2035.6915C12.0107%2035.6308%2011.9987%2035.5656%2012.0001%2035.5V18.51Z'%20fill='%23F3F3F7'/%3e%3c/svg%3e",ax="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1822_544)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M47.0411%2016.7178V0.0339975H19.9095C12.6477%200.0339975%206.69079%206.0208%206.54804%2013.3944H6.54423V20.9514H9.80254V13.3944H9.80629C9.9491%207.8547%2014.4463%203.35742%2019.9095%203.35742H43.7804V13.3944H23.6055C21.6685%2013.3944%2019.8837%2014.4534%2019.8837%2016.7178H47.0411ZM0%2031.2822V47.9666H27.1292C34.391%2047.9666%2040.3478%2041.9799%2040.4906%2034.6062H40.4944V27.0486H37.2361V34.6056H37.2304C37.0902%2040.1453%2032.5923%2044.6458%2027.1292%2044.6458H3.25829V34.6056H23.4332C25.3701%2034.6056%2027.155%2033.5466%2027.155%2031.2822H0ZM6.51656%2037.9297H26.76C29.6453%2037.9297%2030.6811%2036.1285%2030.6811%2033.3516V20.1285H47.0411V34.9045C47.0411%2041.0933%2042.9446%2046.3521%2037.3807%2048C41.0988%2044.9774%2043.7829%2040.3769%2043.7829%2034.9045V23.4519H33.9395V33.3516C33.9395%2037.8418%2031.4062%2041.3192%2026.76%2041.3192H6.51656V37.9297ZM40.5221%2010.071H20.2786C17.3933%2010.071%2016.3575%2011.8722%2016.3575%2014.6484V27.8722H0V13.0955C0%206.90725%204.09661%201.64856%209.6604%200C5.9424%203.02257%203.25829%207.62312%203.25829%2013.0955V24.5481H13.0992V14.6484C13.0992%2010.1582%2015.6324%206.68085%2020.2786%206.68085H40.5221V10.071Z'%20fill='%237628F8'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1822_544'%3e%3crect%20width='48'%20height='48'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",tx="/assets/icon-Epsilla-BPYuTwuZ.png",nx="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1855_4873)'%3e%3cg%20clip-path='url(%23clip1_1855_4873)'%3e%3cpath%20d='M24%2048C37.2548%2048%2048%2037.2548%2048%2024C48%2010.7452%2037.2548%200%2024%200C10.7452%200%200%2010.7452%200%2024C0%2037.2548%2010.7452%2048%2024%2048Z'%20fill='%239995F7'/%3e%3cpath%20d='M34.7344%2013.2656V34.7364H30.1118V21.866L25.8771%2034.7364H22.1563L17.8863%2021.8434V34.7364H13.2637V13.2656H18.7126L24.0406%2028.1337L29.3107%2013.2656H34.7344Z'%20fill='white'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1855_4873'%3e%3crect%20width='48'%20height='48'%20fill='white'/%3e%3c/clipPath%3e%3cclipPath%20id='clip1_1855_4873'%3e%3crect%20width='48'%20height='48'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",rx="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='_图层_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2056.71%2063.78'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23ff6a00;}%3c/style%3e%3c/defs%3e%3cg%20id='_页面-1'%3e%3cg%20id='_画板'%3e%3cg%20id='_编组-4备份-6'%3e%3cpath%20class='cls-1'%20d='m28.41,62.28L2,47.03v-30.5L28.41,1.28l26.41,15.25v30.5l-26.41,15.25ZM6,44.72l22.41,12.94,22.41-12.94v-25.88L28.41,5.9,6,18.84v25.88Z'/%3e%3ccircle%20id='_椭圆形备份'%20class='cls-1'%20cx='28.55'%20cy='4'%20r='4'/%3e%3ccircle%20id='_椭圆形备份-2'%20class='cls-1'%20cx='52.71'%20cy='17.9'%20r='4'/%3e%3ccircle%20id='_椭圆形备份-3'%20class='cls-1'%20cx='52.23'%20cy='45.65'%20r='4'/%3e%3ccircle%20id='_椭圆形备份-4'%20class='cls-1'%20cx='28.4'%20cy='59.78'%20r='4'/%3e%3ccircle%20id='_椭圆形备份-5'%20class='cls-1'%20cx='4'%20cy='46.13'%20r='4'/%3e%3ccircle%20id='_椭圆形备份-6'%20class='cls-1'%20cx='4.09'%20cy='17.68'%20r='4'/%3e%3cpath%20class='cls-1'%20d='m12.18,43.54l-1.52-2.59,18-10.55,1.52,2.59-18,10.55Zm25.28-14.47l-1.59-2.54,15.95-9.99,1.59,2.54-15.95,9.99Z'/%3e%3crect%20class='cls-1'%20x='1.21'%20y='30.76'%20width='54.58'%20height='3'%20transform='translate(-3.8%2060.72)%20rotate(-89.93)'/%3e%3crect%20class='cls-1'%20x='30.52'%20y='10.19'%20width='3'%20height='47.42'%20transform='translate(-13.3%2044.91)%20rotate(-60.3)'/%3e%3ccircle%20id='_椭圆形'%20class='cls-1'%20cx='28.91'%20cy='31.28'%20r='5'/%3e%3cpolygon%20class='cls-1'%20points='42.43%2030.75%2035.08%2029.1%2036.37%2021.5%2039.33%2022.01%2038.51%2026.8%2043.09%2027.82%2042.43%2030.75'/%3e%3cpolygon%20class='cls-1'%20points='16.75%2045.55%209.43%2043.77%2010.86%2036.19%2013.8%2036.75%2012.9%2041.53%2017.46%2042.63%2016.75%2045.55'/%3e%3cpolygon%20class='cls-1'%20points='11.02%2028.19%209.54%2020.8%2017.01%2018.89%2017.75%2021.8%2013.04%2023%2013.96%2027.6%2011.02%2028.19'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",ix="data:image/svg+xml,%3csvg%20width='11.41em'%20height='1.06em'%20viewBox='0%200%20183%2017'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M109.189%202.94031V0H95.0865L91.2567%202.94031V6.97789L95.0865%209.9182H107.377V14.0627H92.0184V17H106.502L110.332%2014.0627V9.9182L106.502%206.97789H94.2112V2.94031H109.189Z'%20fill='%23fff'%3e%3c/path%3e%3cpath%20d='M35.3706%200H32.6803L22.8126%2017H26.2247L34.0316%203.55466L41.8293%2017H45.2383L35.3706%200Z'%20fill='%23fff'%3e%3c/path%3e%3cpath%20d='M64.7034%200H45.6284V2.94031H53.6902V17H56.6416V2.94031H64.7034V0Z'%20fill='%23fff'%3e%3c/path%3e%3cpath%20d='M134.146%200H115.074V2.94031H123.132V17H126.087V2.94031H134.146V0Z'%20fill='%23fff'%3e%3c/path%3e%3cpath%20d='M15.2453%200H0V17H15.2453L19.075%2014.0597V2.94031L15.2453%200ZM2.95447%202.94031H16.1206V14.0627H2.95447V2.94031Z'%20fill='%23fff'%3e%3c/path%3e%3cpath%20d='M169.034%208.5L167.327%205.55969V5.56275L164.099%200H160.687L165.622%208.5L160.687%2017H164.099L167.327%2011.4403L169.034%208.5Z'%20fill='%23fff'%3e%3c/path%3e%3cpath%20d='M173.887%208.5L175.594%205.55969V5.56275L178.825%200H182.234L177.302%208.5L182.234%2017H178.825L175.594%2011.4403L173.887%208.5Z'%20fill='%23fff'%3e%3c/path%3e%3cpath%20d='M74.9611%200H77.6515L87.5191%2017H84.1071L76.3001%203.55466L68.5024%2017H65.0934L74.9611%200Z'%20fill='%23fff'%3e%3c/path%3e%3cpath%20d='M144.403%200H147.094L156.961%2017H153.552L145.742%203.55466L137.948%2017H134.536L144.403%200Z'%20fill='%23fff'%3e%3c/path%3e%3c/svg%3e",ox="/assets/icon-portkey-BY2A2xDT.png",sx="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='logosandtypes_com'%20data-name='logosandtypes%20com'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20150%20150'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20none;%20}%20.cls-2%20{%20fill:%20%23009959;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='cls-1'%20d='M0,0H150V150H0V0Z'/%3e%3cpath%20class='cls-2'%20d='M121.27,75.14c0-5.46-3.19-10.62-8.84-15.22,31.38-27.87-26.6-50.54-77.85-49.81V140.15c51.2,.73,109.24-21.91,77.85-49.81,5.65-4.58,8.84-9.74,8.84-15.2ZM42.93,18.56c16.67,.62,35.43,3.58,49.86,9.37,8.36,3.45,19.59,9.21,20.16,16.76,.21,3.49-4.27,8.02-7.84,10.34-14.21-7.92-36.56-13.35-62.18-14.32V18.56h0Zm0,52.27v-21.82c18.21,.76,37.77,3.83,53.44,10.9-15.66,7.07-35.24,10.15-53.44,10.91Zm24.01,11.05c11.38,1.98,20.4,4.43,29.43,8.47-15.66,7.08-35.23,10.15-53.44,10.9v-21.8c8.29,.33,16.33,1.14,24.01,2.44Zm41.79,16.24c2.79,2.63,4.21,5.14,4.21,7.45-.55,7.54-11.81,13.32-20.16,16.76-14.43,5.8-33.18,8.75-49.86,9.37v-22.14c25.62-.97,47.98-6.41,62.18-14.32,1.37,.95,2.59,1.92,3.63,2.89Zm0-15.54c-1.04,.98-2.26,1.94-3.63,2.89-7.66-4.27-17.69-7.82-29.33-10.34,11.64-2.52,21.67-6.07,29.33-10.34,7.24,5.11,11.34,10.82,3.63,17.79Z'/%3e%3c/svg%3e",lx="/assets/icon-tidb-vhSazXAM.png",ux="/assets/icon-lancedb-r57HMIMm.png",cx="/assets/icon-carbon-ERjBNjcr.svg",dx=[{label:"MongoDB",tags:["vector_store"],homepage:"https://www.mongodb.com/developer/products/atlas/jina-ai-semantic-search/",icon:Hw,products:["embedding"]},{label:"DataStax",tags:["vector_store"],homepage:"https://docs.datastax.com/en/astra/astra-db-vector/get-started/concepts.html#popular-embedding-models",icon:ix,products:["embedding"]},{label:"Qdrant",tags:["vector_store"],homepage:"https://qdrant.tech/documentation/integrations/jina-embeddings/",icon:Yw,products:["embedding"]},{label:"Pinecone",tags:["vector_store"],homepage:"https://docs.pinecone.io/integrations/jina",icon:Xw,products:["embedding"]},{label:"Chroma",tags:["vector_store"],homepage:"https://docs.trychroma.com/integrations/jinaai",icon:Zw,products:["embedding"]},{label:"Weaviate",tags:["vector_store"],homepage:"https://weaviate.io/developers/weaviate/modules/retriever-vectorizer-modules/text2vec-jinaai",icon:Ww,products:["embedding"]},{label:"Milvus",tags:["vector_store"],homepage:"https://milvus.io/docs/integrate_with_jina.md",homepageReranker:"https://milvus.io/docs/rerankers-jina.md",icon:Kw,products:["embedding","reranker"]},{label:"Epsilla",tags:["vector_store"],homepage:"https://epsilla-inc.gitbook.io/epsilladb/vector-database/embeddings#jina-ai-embedding",icon:tx,products:["embedding"]},{label:"MyScale",tags:["vector_store"],homepage:"https://myscale.com/docs/en/functions/ai-functions/embedding-functions/#jina-ai-embedding",homepageReranker:"https://myscale.com/docs/en/functions/ai-functions/reranking-functions/#jina-ai-rerank",icon:nx,products:["embedding","reranker"]},{label:"LlamaIndex",tags:["llm1","rag1"],homepage:"https://docs.llamaindex.ai/en/stable/examples/embeddings/jinaai_embeddings.html",homepageReranker:"https://docs.llamaindex.ai/en/stable/examples/node_postprocessor/JinaRerank/",icon:Jw,products:["embedding","reranker"]},{label:"Haystack",tags:["rag1"],homepage:"https://haystack.deepset.ai/integrations/jina",homepageReranker:"https://docs.haystack.deepset.ai/docs/jinaranker",icon:ex,products:["embedding","reranker"]},{label:"Langchain",tags:["llm1"],homepage:"https://python.langchain.com/docs/integrations/text_embedding/jina",icon:Qw,products:["embedding"]},{label:"Dify",tags:["llm1","rag1"],homepage:"https://dify.ai/blog/integrating-jina-embeddings-v2-dify-enhancing-rag-applications",homepageReranker:"https://docs.dify.ai/getting-started/readme/model-providers",icon:$w,products:["embedding","reranker","reader"]},{label:"SuperDuperDB",tags:["vector_store"],homepage:"https://docs.superduper.io/docs/ai_plugins/jina",icon:ax,products:["embedding"]},{label:"DashVector",tags:["vector_store"],homepage:"https://help.aliyun.com/document_detail/2668339.html",icon:rx,products:["embedding"]},{label:"Portkey",tags:["observability"],homepage:"https://portkey.ai/docs/welcome/integration-guides/jina-ai#id-3.-invoke-embeddings-with-jina-ai",homepageReranker:"https://portkey.ai/docs/welcome/integration-guides/jina-ai#using-jina-ai-reranker-models",icon:ox,products:["embedding","reranker"]},{label:"Baseten",tags:[],homepage:"https://www.baseten.co/library/jina-embeddings-v2-base-en/",icon:sx,products:["embedding"]},{label:"TiDB",tags:["vector_store"],homepage:"https://docs.pingcap.com/tidbcloud/vector-search-integrate-with-jinaai-embedding",icon:lx,products:["embedding"]},{label:"LanceDB",tags:["vector_store"],homepage:"https://lancedb.github.io/lancedb/embeddings/default_embedding_functions/#jina-embeddings",homepageReranker:"https://lancedb.github.io/lancedb/reranking/jina/",products:["embedding","reranker"],icon:ux},{label:"Carbon",tags:["llm1"],homepage:"https://docs.carbon.ai/learn/models/models#text-embeddings",homepageReranker:"https://docs.carbon.ai/learn/models/models#reranking-models",products:["embedding","reranker"],icon:cx}],fx=Oe({__name:"IntegrationTab",props:{showFunction:{default:"all"}},setup(t,{expose:e}){e();const{t:a}=Ze({useScope:"global"}),n=Va(),r=t,i=z(!1),o=async()=>{i.value=!0;try{const f=await fetch("https://docs.jina.ai",{headers:{accept:"text/plain"}});if(!f.ok)throw new Error("Failed to fetch content");const p=await f.text();await fo(p),n.notify({message:a("copy_to_clipboard_success"),icon:"done"})}catch(f){n.notify({message:f instanceof Error?f.message:String(f),type:"negative",icon:"error"})}finally{i.value=!1}},s=f=>{r.showFunction.startsWith("all")&&f.products.length>1?u(f):r.showFunction==="embedding"?Et(f.homepage):r.showFunction==="reranker"&&f.homepageReranker?Et(f.homepageReranker):Et(f.homepage)},l=f=>{switch(f){case"embedding":return`img:${Ic}`;case"reranker":return`img:${Ng}`;case"reader":return`img:${c1}`}},u=f=>{n.dialog({title:a("integrations.which_to_go",{_vendor:f.label}),options:{type:"radio",model:"opt1",items:[{label:a("integrations.embedding"),value:"embedding"},{label:a("integrations.reranker"),value:"reranker"}]},cancel:!0,persistent:!0}).onOk(p=>{p==="embedding"?Et(f.homepage):p==="reranker"&&f.homepageReranker?Et(f.homepageReranker):Et(f.homepage)}).onCancel(()=>{}).onDismiss(()=>{})},d={t:a,$q:n,props:r,isCopyPromptBusy:i,copyPrompt:o,gotoPage:s,getProductIcon:l,showSelector:u,openVideoDialog:()=>{n.dialog({component:E1,componentProps:{videoSrc:"https://jina-ai-gmbh.ghost.io/content/media/2024/10/meta-prompt-square-VEED.mp4",title:"integrations.meta_prompt",description:"contact_us_page.turn_on_volume",icon:"volume_up"}})},get redirect(){return Et},get vectorDBs(){return dx}};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}}),px=["innerHTML"];function hx(t,e,a,n,r,i){return O(),j(ba,{flat:"",class:"column no-wrap full-height"},{default:T(()=>[C(le,{class:"q-pt-lg"},{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[V(B(n.t("integrations.meta_prompt")),1)]),_:1}),C(K,{caption:""},{default:T(()=>[V(B(n.t("integrations.meta_prompt_description")),1)]),_:1})]),_:1})]),_:1}),C(le,null,{default:T(()=>[C(X,null,{default:T(()=>[C(Ne,{square:"","model-value":"https://docs.jina.ai",class:"full-width",filled:"","input-style":"font-family: monospace;",readonly:""},{prepend:T(()=>[C(ve,{flat:"",square:"",icon:"open_in_new",onClick:e[0]||(e[0]=o=>n.redirect("https://docs.jina.ai")),stretch:""})]),append:T(()=>[C(ve,{flat:"",square:"",stretch:"",icon:"content_copy",onClick:n.copyPrompt,loading:n.isCopyPromptBusy,label:n.$q.screen.gt.sm?n.t("integrations.copy_full_prompt"):void 0},null,8,["loading","label"]),C(ve,{flat:"",square:"",stretch:"",icon:"smart_display",label:n.$q.screen.gt.sm?n.t("integrations.how_to_use_meta_prompt"):void 0,onClick:n.openVideoDialog},null,8,["label"]),C(ve,{flat:"",square:"",stretch:"",icon:"question_answer",onClick:e[1]||(e[1]=o=>n.redirect("https://github.com/jina-ai/meta-prompt/")),label:n.$q.screen.gt.sm?n.t("embedding.raise_issue"):void 0},null,8,["label"])]),_:1})]),_:1})]),_:1}),C(le,{class:"q-py-lg"},{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[Te("span",{innerHTML:n.t("embedding.3p_integration",{_numPartners:n.vectorDBs.length})},null,8,px)]),_:1}),C(K,{caption:""},{default:T(()=>[V(B(n.t("embedding.3p_integration_desc")),1)]),_:1})]),_:1})]),_:1}),C(_t,{class:"row q-pb-lg q-px-sm"},{default:T(()=>[(O(!0),ye(Me,null,ra(n.vectorDBs.filter(o=>o.products.includes(a.showFunction)||a.showFunction.startsWith("all")),(o,s)=>(O(),j(le,{key:s,class:"col-6 col-md-4 col-lg-3 col-xl-2 q-pa-sm"},{default:T(()=>[Pt((O(),j(ba,{bordered:"",flat:"",class:"q-hoverable cursor-pointer full-width bg-mixed-200",square:"",onClick:l=>n.gotoPage(o)},{default:T(()=>[e[2]||(e[2]=Te("span",{class:"q-focus-helper"},null,-1)),C(Ie,{class:"column items-center non-selectable q-py-lg"},{default:T(()=>[o.icon?(O(),j(pl,{key:0,fit:"contain",height:"40px",width:"40px",src:o.icon,loading:"lazy"},null,8,["src"])):ne("",!0)]),_:2},1024),C(Ie,{class:"text-center non-selectable"},{default:T(()=>[V(B(o.label),1)]),_:2},1024),a.showFunction.startsWith("all")?(O(),j(Ie,{key:0,class:"text-center non-selectable"},{default:T(()=>[(O(!0),ye(Me,null,ra(o.products,(l,u)=>(O(),j(Je,{key:u,label:n.t(`landing_page.${l}`),outline:"",size:"xs",square:"",style:{"border-radius":"0"},icon:n.getProductIcon(l)},null,8,["label","icon"]))),128))]),_:2},1024)):ne("",!0)]),_:2},1032,["onClick"])),[[Rc]])]),_:2},1024))),128))]),_:1})]),_:1})}const ER=Be(fx,[["render",hx],["__file","IntegrationTab.vue"]]);var r_={exports:{}},ni={},yo={exports:{}},tu={},nu={},Ap;function Qd(){if(Ap)return nu;Ap=1;function t(n){this.__parent=n,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}t.prototype.clone_empty=function(){var n=new t(this.__parent);return n.set_indent(this.__indent_count,this.__alignment_count),n},t.prototype.item=function(n){return n<0?this.__items[this.__items.length+n]:this.__items[n]},t.prototype.has_match=function(n){for(var r=this.__items.length-1;r>=0;r--)if(this.__items[r].match(n))return!0;return!1},t.prototype.set_indent=function(n,r){this.is_empty()&&(this.__indent_count=n||0,this.__alignment_count=r||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},t.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},t.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},t.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var n=this.__parent.current_line;return n.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),n.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),n.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,n.__items[0]===" "&&(n.__items.splice(0,1),n.__character_count-=1),!0}return!1},t.prototype.is_empty=function(){return this.__items.length===0},t.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},t.prototype.push=function(n){this.__items.push(n);var r=n.lastIndexOf(`
`);r!==-1?this.__character_count=n.length-r:this.__character_count+=n.length},t.prototype.pop=function(){var n=null;return this.is_empty()||(n=this.__items.pop(),this.__character_count-=n.length),n},t.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},t.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},t.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1},t.prototype.toString=function(){var n="";return this.is_empty()?this.__parent.indent_empty_lines&&(n=this.__parent.get_indent_string(this.__indent_count)):(n=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),n+=this.__items.join("")),n};function e(n,r){this.__cache=[""],this.__indent_size=n.indent_size,this.__indent_string=n.indent_char,n.indent_with_tabs||(this.__indent_string=new Array(n.indent_size+1).join(n.indent_char)),r=r||"",n.indent_level>0&&(r=new Array(n.indent_level+1).join(this.__indent_string)),this.__base_string=r,this.__base_string_length=r.length}e.prototype.get_indent_size=function(n,r){var i=this.__base_string_length;return r=r||0,n<0&&(i=0),i+=n*this.__indent_size,i+=r,i},e.prototype.get_indent_string=function(n,r){var i=this.__base_string;return r=r||0,n<0&&(n=0,i=""),r+=n*this.__indent_size,this.__ensure_cache(r),i+=this.__cache[r],i},e.prototype.__ensure_cache=function(n){for(;n>=this.__cache.length;)this.__add_column()},e.prototype.__add_column=function(){var n=this.__cache.length,r=0,i="";this.__indent_size&&n>=this.__indent_size&&(r=Math.floor(n/this.__indent_size),n-=r*this.__indent_size,i=new Array(r+1).join(this.__indent_string)),n&&(i+=new Array(n+1).join(" ")),this.__cache.push(i)};function a(n,r){this.__indent_cache=new e(n,r),this.raw=!1,this._end_with_newline=n.end_with_newline,this.indent_size=n.indent_size,this.wrap_line_length=n.wrap_line_length,this.indent_empty_lines=n.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new t(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}return a.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},a.prototype.get_line_number=function(){return this.__lines.length},a.prototype.get_indent_string=function(n,r){return this.__indent_cache.get_indent_string(n,r)},a.prototype.get_indent_size=function(n,r){return this.__indent_cache.get_indent_size(n,r)},a.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},a.prototype.add_new_line=function(n){return this.is_empty()||!n&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)},a.prototype.get_code=function(n){this.trim(!0);var r=this.current_line.pop();r&&(r[r.length-1]===`
`&&(r=r.replace(/\n+$/g,"")),this.current_line.push(r)),this._end_with_newline&&this.__add_outputline();var i=this.__lines.join(`
`);return n!==`
`&&(i=i.replace(/[\n]/g,n)),i},a.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},a.prototype.set_indent=function(n,r){return n=n||0,r=r||0,this.next_line.set_indent(n,r),this.__lines.length>1?(this.current_line.set_indent(n,r),!0):(this.current_line.set_indent(),!1)},a.prototype.add_raw_token=function(n){for(var r=0;r<n.newlines;r++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(n.whitespace_before),this.current_line.push(n.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},a.prototype.add_token=function(n){this.__add_space_before_token(),this.current_line.push(n),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},a.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},a.prototype.remove_indent=function(n){for(var r=this.__lines.length;n<r;)this.__lines[n]._remove_indent(),n++;this.current_line._remove_wrap_indent()},a.prototype.trim=function(n){for(n=n===void 0?!1:n,this.current_line.trim();n&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},a.prototype.just_added_newline=function(){return this.current_line.is_empty()},a.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},a.prototype.ensure_empty_line_above=function(n,r){for(var i=this.__lines.length-2;i>=0;){var o=this.__lines[i];if(o.is_empty())break;if(o.item(0).indexOf(n)!==0&&o.item(-1)!==r){this.__lines.splice(i+1,0,new t(this)),this.previous_line=this.__lines[this.__lines.length-2];break}i--}},nu.Output=a,nu}var ru={},Tp;function i_(){if(Tp)return ru;Tp=1;function t(e,a,n,r){this.type=e,this.text=a,this.comments_before=null,this.newlines=n||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}return ru.Token=t,ru}var iu={},Ep;function o_(){return Ep||(Ep=1,function(t){var e="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",a="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",n="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",r="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",i="\\\\u[0-9a-fA-F]{4}|\\\\u\\{[0-9a-fA-F]+\\}",o="(?:"+i+"|["+e+n+"])",s="(?:"+i+"|["+a+n+r+"])*";t.identifier=new RegExp(o+s,"g"),t.identifierStart=new RegExp(o),t.identifierMatch=new RegExp("(?:"+i+"|["+a+n+r+"])+"),t.newline=/[\n\r\u2028\u2029]/,t.lineBreak=new RegExp(`\r
|`+t.newline.source),t.allLineBreaks=new RegExp(t.lineBreak.source,"g")}(iu)),iu}var ou={},ri={},kp;function Jd(){if(kp)return ri;kp=1;function t(n,r){this.raw_options=e(n,r),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","angular","django","erb","handlebars","php","smarty"],["auto"])}t.prototype._get_array=function(n,r){var i=this.raw_options[n],o=r||[];return typeof i=="object"?i!==null&&typeof i.concat=="function"&&(o=i.concat()):typeof i=="string"&&(o=i.split(/[^a-zA-Z0-9_\/\-]+/)),o},t.prototype._get_boolean=function(n,r){var i=this.raw_options[n],o=i===void 0?!!r:!!i;return o},t.prototype._get_characters=function(n,r){var i=this.raw_options[n],o=r||"";return typeof i=="string"&&(o=i.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),o},t.prototype._get_number=function(n,r){var i=this.raw_options[n];r=parseInt(r,10),isNaN(r)&&(r=0);var o=parseInt(i,10);return isNaN(o)&&(o=r),o},t.prototype._get_selection=function(n,r,i){var o=this._get_selection_list(n,r,i);if(o.length!==1)throw new Error("Invalid Option Value: The option '"+n+`' can only be one of the following values:
`+r+`
You passed in: '`+this.raw_options[n]+"'");return o[0]},t.prototype._get_selection_list=function(n,r,i){if(!r||r.length===0)throw new Error("Selection list cannot be empty.");if(i=i||[r[0]],!this._is_valid_selection(i,r))throw new Error("Invalid Default Value!");var o=this._get_array(n,i);if(!this._is_valid_selection(o,r))throw new Error("Invalid Option Value: The option '"+n+`' can contain only the following values:
`+r+`
You passed in: '`+this.raw_options[n]+"'");return o},t.prototype._is_valid_selection=function(n,r){return n.length&&r.length&&!n.some(function(i){return r.indexOf(i)===-1})};function e(n,r){var i={};n=a(n);var o;for(o in n)o!==r&&(i[o]=n[o]);if(r&&n[r])for(o in n[r])i[o]=n[r][o];return i}function a(n){var r={},i;for(i in n){var o=i.replace(/-/g,"_");r[o]=n[i]}return r}return ri.Options=t,ri.normalizeOpts=a,ri.mergeOpts=e,ri}var Mp;function s_(){if(Mp)return ou;Mp=1;var t=Jd().Options,e=["before-newline","after-newline","preserve-newline"];function a(n){t.call(this,n,"js");var r=this.raw_options.brace_style||null;r==="expand-strict"?this.raw_options.brace_style="expand":r==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var i=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var o=0;o<i.length;o++)i[o]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=i[o];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",e),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}return a.prototype=new t,ou.Options=a,ou}var or={},su={},Dp;function $d(){if(Dp)return su;Dp=1;var t=RegExp.prototype.hasOwnProperty("sticky");function e(a){this.__input=a||"",this.__input_length=this.__input.length,this.__position=0}return e.prototype.restart=function(){this.__position=0},e.prototype.back=function(){this.__position>0&&(this.__position-=1)},e.prototype.hasNext=function(){return this.__position<this.__input_length},e.prototype.next=function(){var a=null;return this.hasNext()&&(a=this.__input.charAt(this.__position),this.__position+=1),a},e.prototype.peek=function(a){var n=null;return a=a||0,a+=this.__position,a>=0&&a<this.__input_length&&(n=this.__input.charAt(a)),n},e.prototype.__match=function(a,n){a.lastIndex=n;var r=a.exec(this.__input);return r&&!(t&&a.sticky)&&r.index!==n&&(r=null),r},e.prototype.test=function(a,n){return n=n||0,n+=this.__position,n>=0&&n<this.__input_length?!!this.__match(a,n):!1},e.prototype.testChar=function(a,n){var r=this.peek(n);return a.lastIndex=0,r!==null&&a.test(r)},e.prototype.match=function(a){var n=this.__match(a,this.__position);return n?this.__position+=n[0].length:n=null,n},e.prototype.read=function(a,n,r){var i="",o;return a&&(o=this.match(a),o&&(i+=o[0])),n&&(o||!a)&&(i+=this.readUntil(n,r)),i},e.prototype.readUntil=function(a,n){var r="",i=this.__position;a.lastIndex=this.__position;var o=a.exec(this.__input);return o?(i=o.index,n&&(i+=o[0].length)):i=this.__input_length,r=this.__input.substring(this.__position,i),this.__position=i,r},e.prototype.readUntilAfter=function(a){return this.readUntil(a,!0)},e.prototype.get_regexp=function(a,n){var r=null,i="g";return n&&t&&(i="y"),typeof a=="string"&&a!==""?r=new RegExp(a,i):a&&(r=new RegExp(a.source,i)),r},e.prototype.get_literal_regexp=function(a){return RegExp(a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},e.prototype.peekUntilAfter=function(a){var n=this.__position,r=this.readUntilAfter(a);return this.__position=n,r},e.prototype.lookBack=function(a){var n=this.__position-1;return n>=a.length&&this.__input.substring(n-a.length,n).toLowerCase()===a},su.InputScanner=e,su}var bo={},lu={},Lp;function vx(){if(Lp)return lu;Lp=1;function t(e){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=e}return t.prototype.restart=function(){this.__position=0},t.prototype.isEmpty=function(){return this.__tokens_length===0},t.prototype.hasNext=function(){return this.__position<this.__tokens_length},t.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__tokens[this.__position],this.__position+=1),e},t.prototype.peek=function(e){var a=null;return e=e||0,e+=this.__position,e>=0&&e<this.__tokens_length&&(a=this.__tokens[e]),a},t.prototype.add=function(e){this.__parent_token&&(e.parent=this.__parent_token),this.__tokens.push(e),this.__tokens_length+=1},lu.TokenStream=t,lu}var uu={},cu={},Pp;function hl(){if(Pp)return cu;Pp=1;function t(e,a){this._input=e,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,a&&(this._starting_pattern=this._input.get_regexp(a._starting_pattern,!0),this._match_pattern=this._input.get_regexp(a._match_pattern,!0),this._until_pattern=this._input.get_regexp(a._until_pattern),this._until_after=a._until_after)}return t.prototype.read=function(){var e=this._input.read(this._starting_pattern);return(!this._starting_pattern||e)&&(e+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),e},t.prototype.read_match=function(){return this._input.match(this._match_pattern)},t.prototype.until_after=function(e){var a=this._create();return a._until_after=!0,a._until_pattern=this._input.get_regexp(e),a._update(),a},t.prototype.until=function(e){var a=this._create();return a._until_after=!1,a._until_pattern=this._input.get_regexp(e),a._update(),a},t.prototype.starting_with=function(e){var a=this._create();return a._starting_pattern=this._input.get_regexp(e,!0),a._update(),a},t.prototype.matching=function(e){var a=this._create();return a._match_pattern=this._input.get_regexp(e,!0),a._update(),a},t.prototype._create=function(){return new t(this._input,this)},t.prototype._update=function(){},cu.Pattern=t,cu}var qp;function mx(){if(qp)return uu;qp=1;var t=hl().Pattern;function e(a,n){t.call(this,a,n),n?this._line_regexp=this._input.get_regexp(n._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}return e.prototype=new t,e.prototype.__set_whitespace_patterns=function(a,n){a+="\\t ",n+="\\n\\r",this._match_pattern=this._input.get_regexp("["+a+n+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+n+"]")},e.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var a=this._input.read(this._match_pattern);if(a===" ")this.whitespace_before_token=" ";else if(a){var n=this.__split(this._newline_regexp,a);this.newline_count=n.length-1,this.whitespace_before_token=n[this.newline_count]}return a},e.prototype.matching=function(a,n){var r=this._create();return r.__set_whitespace_patterns(a,n),r._update(),r},e.prototype._create=function(){return new e(this._input,this)},e.prototype.__split=function(a,n){a.lastIndex=0;for(var r=0,i=[],o=a.exec(n);o;)i.push(n.substring(r,o.index)),r=o.index+o[0].length,o=a.exec(n);return r<n.length?i.push(n.substring(r,n.length)):i.push(""),i},uu.WhitespacePattern=e,uu}var Ip;function qs(){if(Ip)return bo;Ip=1;var t=$d().InputScanner,e=i_().Token,a=vx().TokenStream,n=mx().WhitespacePattern,r={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},i=function(o,s){this._input=new t(o),this._options=s||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new n(this._input)};return i.prototype.tokenize=function(){this._input.restart(),this.__tokens=new a,this._reset();for(var o,s=new e(r.START,""),l=null,u=[],c=new a;s.type!==r.EOF;){for(o=this._get_next_token(s,l);this._is_comment(o);)c.add(o),o=this._get_next_token(s,l);c.isEmpty()||(o.comments_before=c,c=new a),o.parent=l,this._is_opening(o)?(u.push(l),l=o):l&&this._is_closing(o,l)&&(o.opened=l,l.closed=o,l=u.pop(),o.parent=l),o.previous=s,s.next=o,this.__tokens.add(o),s=o}return this.__tokens},i.prototype._is_first_token=function(){return this.__tokens.isEmpty()},i.prototype._reset=function(){},i.prototype._get_next_token=function(o,s){this._readWhitespace();var l=this._input.read(/.+/g);return l?this._create_token(r.RAW,l):this._create_token(r.EOF,"")},i.prototype._is_comment=function(o){return!1},i.prototype._is_opening=function(o){return!1},i.prototype._is_closing=function(o,s){return!1},i.prototype._create_token=function(o,s){var l=new e(o,s,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return l},i.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},bo.Tokenizer=i,bo.TOKEN=r,bo}var du={},Rp;function ef(){if(Rp)return du;Rp=1;function t(e,a){e=typeof e=="string"?e:e.source,a=typeof a=="string"?a:a.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+a,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+a,"g")}return t.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var a={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(e);n;)a[n[1]]=n[2],n=this.__directive_pattern.exec(e);return a},t.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)},du.Directives=t,du}var fu={},Op;function l_(){if(Op)return fu;Op=1;var t=hl().Pattern,e={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1,angular:!1};function a(n,r){t.call(this,n,r),this.__template_pattern=null,this._disabled=Object.assign({},e),this._excluded=Object.assign({},e),r&&(this.__template_pattern=this._input.get_regexp(r.__template_pattern),this._excluded=Object.assign(this._excluded,r._excluded),this._disabled=Object.assign(this._disabled,r._disabled));var i=new t(n);this.__patterns={handlebars_comment:i.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:i.starting_with(/{{{/).until_after(/}}}/),handlebars:i.starting_with(/{{/).until_after(/}}/),php:i.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:i.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:i.starting_with(/{%/).until_after(/%}/),django_value:i.starting_with(/{{/).until_after(/}}/),django_comment:i.starting_with(/{#/).until_after(/#}/),smarty:i.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:i.starting_with(/{\*/).until_after(/\*}/),smarty_literal:i.starting_with(/{literal}/).until_after(/{\/literal}/)}}return a.prototype=new t,a.prototype._create=function(){return new a(this._input,this)},a.prototype._update=function(){this.__set_templated_pattern()},a.prototype.disable=function(n){var r=this._create();return r._disabled[n]=!0,r._update(),r},a.prototype.read_options=function(n){var r=this._create();for(var i in e)r._disabled[i]=n.templating.indexOf(i)===-1;return r._update(),r},a.prototype.exclude=function(n){var r=this._create();return r._excluded[n]=!0,r._update(),r},a.prototype.read=function(){var n="";this._match_pattern?n=this._input.read(this._starting_pattern):n=this._input.read(this._starting_pattern,this.__template_pattern);for(var r=this._read_template();r;)this._match_pattern?r+=this._input.read(this._match_pattern):r+=this._input.readUntil(this.__template_pattern),n+=r,r=this._read_template();return this._until_after&&(n+=this._input.readUntilAfter(this._until_pattern)),n},a.prototype.__set_templated_pattern=function(){var n=[];this._disabled.php||n.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||n.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||n.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(n.push(this.__patterns.django._starting_pattern.source),n.push(this.__patterns.django_value._starting_pattern.source),n.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||n.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&n.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+n.join("|")+")")},a.prototype._read_template=function(){var n="",r=this._input.peek();if(r==="<"){var i=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&i==="?"&&(n=n||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&i==="%"&&(n=n||this.__patterns.erb.read())}else r==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(n=n||this.__patterns.handlebars_comment.read(),n=n||this.__patterns.handlebars_unescaped.read(),n=n||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(n=n||this.__patterns.django_value.read()),this._excluded.django||(n=n||this.__patterns.django_comment.read(),n=n||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(n=n||this.__patterns.smarty_comment.read(),n=n||this.__patterns.smarty_literal.read(),n=n||this.__patterns.smarty.read()));return n},fu.TemplatablePattern=a,fu}var Bp;function wo(){if(Bp)return or;Bp=1;var t=$d().InputScanner,e=qs().Tokenizer,a=qs().TOKEN,n=ef().Directives,r=o_(),i=hl().Pattern,o=l_().TemplatablePattern;function s(w,A){return A.indexOf(w)!==-1}var l={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:a.START,RAW:a.RAW,EOF:a.EOF},u=new n(/\/\*/,/\*\//),c=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,d=/[0-9]/,f=/[^\d\.]/,p=">>> === !== &&= ??= ||= << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),m=">>>= ... >>= <<= === >>> !== **= &&= ??= ||= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";m=m.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),m="\\?\\.(?!\\d) "+m,m=m.replace(/ /g,"|");var g=new RegExp(m),h="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),v=h.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as","class","extends"]),_=new RegExp("^(?:"+v.join("|")+")$"),y,x=function(w,A){e.call(this,w,A),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var S=new i(this._input),k=new o(this._input).read_options(this._options);this.__patterns={template:k,identifier:k.starting_with(r.identifier).matching(r.identifierMatch),number:S.matching(c),punct:S.matching(g),comment:S.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:S.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:S.matching(/<!--/),html_comment_end:S.matching(/-->/),include:S.starting_with(/#include/).until_after(r.lineBreak),shebang:S.starting_with(/#!/).until_after(r.lineBreak),xml:S.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[^}]+?}|!\[CDATA\[[^\]]*?\]\]|)(\s*{[^}]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{([^{}]|{[^}]+?})+?}))*\s*(\/?)\s*>/),single_quote:k.until(/['\\\n\r\u2028\u2029]/),double_quote:k.until(/["\\\n\r\u2028\u2029]/),template_text:k.until(/[`\\$]/),template_expression:k.until(/[`}\\]/)}};x.prototype=new e,x.prototype._is_comment=function(w){return w.type===l.COMMENT||w.type===l.BLOCK_COMMENT||w.type===l.UNKNOWN},x.prototype._is_opening=function(w){return w.type===l.START_BLOCK||w.type===l.START_EXPR},x.prototype._is_closing=function(w,A){return(w.type===l.END_BLOCK||w.type===l.END_EXPR)&&A&&(w.text==="]"&&A.text==="["||w.text===")"&&A.text==="("||w.text==="}"&&A.text==="{")},x.prototype._reset=function(){y=!1},x.prototype._get_next_token=function(w,A){var S=null;this._readWhitespace();var k=this._input.peek();return k===null?this._create_token(l.EOF,""):(S=S||this._read_non_javascript(k),S=S||this._read_string(k),S=S||this._read_pair(k,this._input.peek(1)),S=S||this._read_word(w),S=S||this._read_singles(k),S=S||this._read_comment(k),S=S||this._read_regexp(k,w),S=S||this._read_xml(k,w),S=S||this._read_punctuation(),S=S||this._create_token(l.UNKNOWN,this._input.next()),S)},x.prototype._read_word=function(w){var A;if(A=this.__patterns.identifier.read(),A!=="")return A=A.replace(r.allLineBreaks,`
`),!(w.type===l.DOT||w.type===l.RESERVED&&(w.text==="set"||w.text==="get"))&&_.test(A)?(A==="in"||A==="of")&&(w.type===l.WORD||w.type===l.STRING)?this._create_token(l.OPERATOR,A):this._create_token(l.RESERVED,A):this._create_token(l.WORD,A);if(A=this.__patterns.number.read(),A!=="")return this._create_token(l.WORD,A)},x.prototype._read_singles=function(w){var A=null;return w==="("||w==="["?A=this._create_token(l.START_EXPR,w):w===")"||w==="]"?A=this._create_token(l.END_EXPR,w):w==="{"?A=this._create_token(l.START_BLOCK,w):w==="}"?A=this._create_token(l.END_BLOCK,w):w===";"?A=this._create_token(l.SEMICOLON,w):w==="."&&f.test(this._input.peek(1))?A=this._create_token(l.DOT,w):w===","&&(A=this._create_token(l.COMMA,w)),A&&this._input.next(),A},x.prototype._read_pair=function(w,A){var S=null;return w==="#"&&A==="{"&&(S=this._create_token(l.START_BLOCK,w+A)),S&&(this._input.next(),this._input.next()),S},x.prototype._read_punctuation=function(){var w=this.__patterns.punct.read();if(w!=="")return w==="="?this._create_token(l.EQUALS,w):w==="?."?this._create_token(l.DOT,w):this._create_token(l.OPERATOR,w)},x.prototype._read_non_javascript=function(w){var A="";if(w==="#"){if(this._is_first_token()&&(A=this.__patterns.shebang.read(),A))return this._create_token(l.UNKNOWN,A.trim()+`
`);if(A=this.__patterns.include.read(),A)return this._create_token(l.UNKNOWN,A.trim()+`
`);w=this._input.next();var S="#";if(this._input.hasNext()&&this._input.testChar(d)){do w=this._input.next(),S+=w;while(this._input.hasNext()&&w!=="#"&&w!=="=");return w==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(S+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(S+="{}",this._input.next(),this._input.next())),this._create_token(l.WORD,S)}this._input.back()}else if(w==="<"&&this._is_first_token()){if(A=this.__patterns.html_comment_start.read(),A){for(;this._input.hasNext()&&!this._input.testChar(r.newline);)A+=this._input.next();return y=!0,this._create_token(l.COMMENT,A)}}else if(y&&w==="-"&&(A=this.__patterns.html_comment_end.read(),A))return y=!1,this._create_token(l.COMMENT,A);return null},x.prototype._read_comment=function(w){var A=null;if(w==="/"){var S="";if(this._input.peek(1)==="*"){S=this.__patterns.block_comment.read();var k=u.get_directives(S);k&&k.ignore==="start"&&(S+=u.readIgnored(this._input)),S=S.replace(r.allLineBreaks,`
`),A=this._create_token(l.BLOCK_COMMENT,S),A.directives=k}else this._input.peek(1)==="/"&&(S=this.__patterns.comment.read(),A=this._create_token(l.COMMENT,S))}return A},x.prototype._read_string=function(w){if(w==="`"||w==="'"||w==='"'){var A=this._input.next();return this.has_char_escapes=!1,w==="`"?A+=this._read_string_recursive("`",!0,"${"):A+=this._read_string_recursive(w),this.has_char_escapes&&this._options.unescape_strings&&(A=E(A)),this._input.peek()===w&&(A+=this._input.next()),A=A.replace(r.allLineBreaks,`
`),this._create_token(l.STRING,A)}return null},x.prototype._allow_regexp_or_xml=function(w){return w.type===l.RESERVED&&s(w.text,["return","case","throw","else","do","typeof","yield"])||w.type===l.END_EXPR&&w.text===")"&&w.opened.previous.type===l.RESERVED&&s(w.opened.previous.text,["if","while","for"])||s(w.type,[l.COMMENT,l.START_EXPR,l.START_BLOCK,l.START,l.END_BLOCK,l.OPERATOR,l.EQUALS,l.EOF,l.SEMICOLON,l.COMMA])},x.prototype._read_regexp=function(w,A){if(w==="/"&&this._allow_regexp_or_xml(A)){for(var S=this._input.next(),k=!1,b=!1;this._input.hasNext()&&(k||b||this._input.peek()!==w)&&!this._input.testChar(r.newline);)S+=this._input.peek(),k?k=!1:(k=this._input.peek()==="\\",this._input.peek()==="["?b=!0:this._input.peek()==="]"&&(b=!1)),this._input.next();return this._input.peek()===w&&(S+=this._input.next(),S+=this._input.read(r.identifier)),this._create_token(l.STRING,S)}return null},x.prototype._read_xml=function(w,A){if(this._options.e4x&&w==="<"&&this._allow_regexp_or_xml(A)){var S="",k=this.__patterns.xml.read_match();if(k){for(var b=k[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),M=b.indexOf("{")===0,D=0;k;){var L=!!k[1],P=k[2],I=!!k[k.length-1]||P.slice(0,8)==="![CDATA[";if(!I&&(P===b||M&&P.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(L?--D:++D),S+=k[0],D<=0)break;k=this.__patterns.xml.read_match()}return k||(S+=this._input.match(/[\s\S]*/g)[0]),S=S.replace(r.allLineBreaks,`
`),this._create_token(l.STRING,S)}}return null};function E(w){for(var A="",S=0,k=new t(w),b=null;k.hasNext();)if(b=k.match(/([\s]|[^\\]|\\\\)+/g),b&&(A+=b[0]),k.peek()==="\\"){if(k.next(),k.peek()==="x")b=k.match(/x([0-9A-Fa-f]{2})/g);else if(k.peek()==="u")b=k.match(/u([0-9A-Fa-f]{4})/g),b||(b=k.match(/u\{([0-9A-Fa-f]+)\}/g));else{A+="\\",k.hasNext()&&(A+=k.next());continue}if(!b||(S=parseInt(b[1],16),S>126&&S<=255&&b[0].indexOf("x")===0))return w;S>=0&&S<32||S>1114111?A+="\\"+b[0]:S===34||S===39||S===92?A+="\\"+String.fromCharCode(S):A+=String.fromCharCode(S)}return A}return x.prototype._read_string_recursive=function(w,A,S){var k,b;w==="'"?b=this.__patterns.single_quote:w==='"'?b=this.__patterns.double_quote:w==="`"?b=this.__patterns.template_text:w==="}"&&(b=this.__patterns.template_expression);for(var M=b.read(),D="";this._input.hasNext();){if(D=this._input.next(),D===w||!A&&r.newline.test(D)){this._input.back();break}else D==="\\"&&this._input.hasNext()?(k=this._input.peek(),k==="x"||k==="u"?this.has_char_escapes=!0:k==="\r"&&this._input.peek(1)===`
`&&this._input.next(),D+=this._input.next()):S&&(S==="${"&&D==="$"&&this._input.peek()==="{"&&(D+=this._input.next()),S===D&&(w==="`"?D+=this._read_string_recursive("}",A,"`"):D+=this._read_string_recursive("`",A,"${"),this._input.hasNext()&&(D+=this._input.next())));D+=b.read(),M+=D}return M},or.Tokenizer=x,or.TOKEN=l,or.positionable_operators=p.slice(),or.line_starters=h.slice(),or}var zp;function gx(){if(zp)return tu;zp=1;var t=Qd().Output,e=i_().Token,a=o_(),n=s_().Options,r=wo().Tokenizer,i=wo().line_starters,o=wo().positionable_operators,s=wo().TOKEN;function l(b,M){return M.indexOf(b)!==-1}function u(b){return b.replace(/^\s+/g,"")}function c(b){for(var M={},D=0;D<b.length;D++)M[b[D].replace(/-/g,"_")]=b[D];return M}function d(b,M){return b&&b.type===s.RESERVED&&b.text===M}function f(b,M){return b&&b.type===s.RESERVED&&l(b.text,M)}var p=["case","return","do","if","throw","else","await","break","continue","async"],m=["before-newline","after-newline","preserve-newline"],g=c(m),h=[g.before_newline,g.preserve_newline],v={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function _(b,M){M.multiline_frame||M.mode===v.ForInitializer||M.mode===v.Conditional||b.remove_indent(M.start_line_index)}function y(b){b=b.replace(a.allLineBreaks,`
`);for(var M=[],D=b.indexOf(`
`);D!==-1;)M.push(b.substring(0,D)),b=b.substring(D+1),D=b.indexOf(`
`);return b.length&&M.push(b),M}function x(b){return b===v.ArrayLiteral}function E(b){return l(b,[v.Expression,v.ForInitializer,v.Conditional])}function w(b,M){for(var D=0;D<b.length;D++){var L=b[D].trim();if(L.charAt(0)!==M)return!1}return!0}function A(b,M){for(var D=0,L=b.length,P;D<L;D++)if(P=b[D],P&&P.indexOf(M)!==0)return!1;return!0}function S(b,M){M=M||{},this._source_text=b||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new n(M)}S.prototype.create_flags=function(b,M){var D=0;b&&(D=b.indentation_level,!this._output.just_added_newline()&&b.line_indent_level>D&&(D=b.line_indent_level));var L={mode:M,parent:b,last_token:b?b.last_token:new e(s.START_BLOCK,""),last_word:b?b.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,class_start_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,case_block:!1,indentation_level:D,alignment:0,line_indent_level:b?b.line_indent_level:D,start_line_index:this._output.get_line_number(),ternary_depth:0};return L},S.prototype._reset=function(b){var M=b.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new t(this._options,M),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(v.BlockStatement);var D=new r(b,this._options);return this._tokens=D.tokenize(),b},S.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var b,M=this._reset(this._source_text),D=this._options.eol;this._options.eol==="auto"&&(D=`
`,M&&a.lineBreak.test(M||"")&&(D=M.match(a.lineBreak)[0]));for(var L=this._tokens.next();L;)this.handle_token(L),this._last_last_text=this._flags.last_token.text,this._flags.last_token=L,L=this._tokens.next();return b=this._output.get_code(D),b},S.prototype.handle_token=function(b,M){b.type===s.START_EXPR?this.handle_start_expr(b):b.type===s.END_EXPR?this.handle_end_expr(b):b.type===s.START_BLOCK?this.handle_start_block(b):b.type===s.END_BLOCK?this.handle_end_block(b):b.type===s.WORD?this.handle_word(b):b.type===s.RESERVED?this.handle_word(b):b.type===s.SEMICOLON?this.handle_semicolon(b):b.type===s.STRING?this.handle_string(b):b.type===s.EQUALS?this.handle_equals(b):b.type===s.OPERATOR?this.handle_operator(b):b.type===s.COMMA?this.handle_comma(b):b.type===s.BLOCK_COMMENT?this.handle_block_comment(b,M):b.type===s.COMMENT?this.handle_comment(b,M):b.type===s.DOT?this.handle_dot(b):b.type===s.EOF?this.handle_eof(b):b.type===s.UNKNOWN?this.handle_unknown(b,M):this.handle_unknown(b,M)},S.prototype.handle_whitespace_and_comments=function(b,M){var D=b.newlines,L=this._options.keep_array_indentation&&x(this._flags.mode);if(b.comments_before)for(var P=b.comments_before.next();P;)this.handle_whitespace_and_comments(P,M),this.handle_token(P,M),P=b.comments_before.next();if(L)for(var I=0;I<D;I+=1)this.print_newline(I>0,M);else if(this._options.max_preserve_newlines&&D>this._options.max_preserve_newlines&&(D=this._options.max_preserve_newlines),this._options.preserve_newlines&&D>1){this.print_newline(!1,M);for(var R=1;R<D;R+=1)this.print_newline(!0,M)}};var k=["async","break","continue","return","throw","yield"];return S.prototype.allow_wrap_or_preserved_newline=function(b,M){if(M=M===void 0?!1:M,!this._output.just_added_newline()){var D=this._options.preserve_newlines&&b.newlines||M,L=l(this._flags.last_token.text,o)||l(b.text,o);if(L){var P=l(this._flags.last_token.text,o)&&l(this._options.operator_position,h)||l(b.text,o);D=D&&P}if(D)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(f(this._flags.last_token,k))return;this._output.set_wrap_point()}}},S.prototype.print_newline=function(b,M){if(!M&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==s.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var D=this._tokens.peek();this._flags.mode===v.Statement&&!(this._flags.if_block&&d(D,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(b)&&(this._flags.multiline_frame=!0)},S.prototype.print_token_line_indentation=function(b){this._output.just_added_newline()&&(this._options.keep_array_indentation&&b.newlines&&(b.text==="["||x(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(b.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},S.prototype.print_token=function(b){if(this._output.raw){this._output.add_raw_token(b);return}if(this._options.comma_first&&b.previous&&b.previous.type===s.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var M=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(M),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(b),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(b),this._output.non_breaking_space=!0,this._output.add_token(b.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)},S.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},S.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},S.prototype.set_mode=function(b){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,b),this._flags=this.create_flags(this._previous_flags,b),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},S.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===v.Statement&&_(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},S.prototype.start_of_object_property=function(){return this._flags.parent.mode===v.ObjectLiteral&&this._flags.mode===v.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||f(this._flags.last_token,["get","set"]))},S.prototype.start_of_statement=function(b){var M=!1;return M=M||f(this._flags.last_token,["var","let","const"])&&b.type===s.WORD,M=M||d(this._flags.last_token,"do"),M=M||!(this._flags.parent.mode===v.ObjectLiteral&&this._flags.mode===v.Statement)&&f(this._flags.last_token,k)&&!b.newlines,M=M||d(this._flags.last_token,"else")&&!(d(b,"if")&&!b.comments_before),M=M||this._flags.last_token.type===s.END_EXPR&&(this._previous_flags.mode===v.ForInitializer||this._previous_flags.mode===v.Conditional),M=M||this._flags.last_token.type===s.WORD&&this._flags.mode===v.BlockStatement&&!this._flags.in_case&&!(b.text==="--"||b.text==="++")&&this._last_last_text!=="function"&&b.type!==s.WORD&&b.type!==s.RESERVED,M=M||this._flags.mode===v.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||f(this._flags.last_token,["get","set"])),M?(this.set_mode(v.Statement),this.indent(),this.handle_whitespace_and_comments(b,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(b,f(b,["do","for","if","while"])),!0):!1},S.prototype.handle_start_expr=function(b){this.start_of_statement(b)||this.handle_whitespace_and_comments(b);var M=v.Expression;if(b.text==="["){if(this._flags.last_token.type===s.WORD||this._flags.last_token.text===")"){f(this._flags.last_token,i)&&(this._output.space_before_token=!0),this.print_token(b),this.set_mode(M),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}M=v.ArrayLiteral,x(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),l(this._flags.last_token.type,[s.START_EXPR,s.END_EXPR,s.WORD,s.OPERATOR,s.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===s.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,M=v.ForInitializer):l(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,M=v.Conditional):l(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&b.whitespace_before===""?this._output.space_before_token=!1:(l(this._flags.last_token.text,i)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===s.EQUALS||this._flags.last_token.type===s.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(b);else if(this._flags.last_token.type===s.WORD){this._output.space_before_token=!1;var D=this._tokens.peek(-3);if(this._options.space_after_named_function&&D){var L=this._tokens.peek(-4);f(D,["async","function"])||D.text==="*"&&f(L,["async","function"])?this._output.space_before_token=!0:this._flags.mode===v.ObjectLiteral?(D.text==="{"||D.text===","||D.text==="*"&&(L.text==="{"||L.text===","))&&(this._output.space_before_token=!0):this._flags.parent&&this._flags.parent.class_start_block&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(b);(this._flags.last_token.type===s.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(l(this._last_last_text,["function","yield"])||this._flags.mode===v.ObjectLiteral&&l(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===s.START_BLOCK?this.print_newline():(this._flags.last_token.type===s.END_EXPR||this._flags.last_token.type===s.START_EXPR||this._flags.last_token.type===s.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===s.COMMA)&&this.allow_wrap_or_preserved_newline(b,b.newlines),this.print_token(b),this.set_mode(M),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},S.prototype.handle_end_expr=function(b){for(;this._flags.mode===v.Statement;)this.restore_mode();this.handle_whitespace_and_comments(b),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(b,b.text==="]"&&x(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===s.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(b),this.restore_mode(),_(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===v.Conditional&&(this._previous_flags.mode=v.Expression,this._flags.do_block=!1,this._flags.do_while=!1)},S.prototype.handle_start_block=function(b){this.handle_whitespace_and_comments(b);var M=this._tokens.peek(),D=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===s.END_EXPR?(this.set_mode(v.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(v.BlockStatement):D&&(l(D.text,[":",","])&&l(M.type,[s.STRING,s.WORD,s.RESERVED])||l(M.text,["get","set","..."])&&l(D.type,[s.WORD,s.RESERVED]))?l(this._last_last_text,["class","interface"])&&!l(D.text,[":",","])?this.set_mode(v.BlockStatement):this.set_mode(v.ObjectLiteral):this._flags.last_token.type===s.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(v.BlockStatement):l(this._flags.last_token.type,[s.EQUALS,s.START_EXPR,s.COMMA,s.OPERATOR])||f(this._flags.last_token,["return","throw","import","default"])?this.set_mode(v.ObjectLiteral):this.set_mode(v.BlockStatement),this._flags.last_token&&f(this._flags.last_token.previous,["class","extends"])&&(this._flags.class_start_block=!0);var L=!M.comments_before&&M.text==="}",P=L&&this._flags.last_word==="function"&&this._flags.last_token.type===s.END_EXPR;if(this._options.brace_preserve_inline){var I=0,R=null;this._flags.inline_frame=!0;do if(I+=1,R=this._tokens.peek(I-1),R.newlines){this._flags.inline_frame=!1;break}while(R.type!==s.EOF&&!(R.type===s.END_BLOCK&&R.opened===b))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&b.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==s.OPERATOR&&(P||this._flags.last_token.type===s.EQUALS||f(this._flags.last_token,p)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(x(this._previous_flags.mode)&&(this._flags.last_token.type===s.START_EXPR||this._flags.last_token.type===s.COMMA)&&((this._flags.last_token.type===s.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===s.COMMA||this._flags.last_token.type===s.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(b),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==s.OPERATOR&&this._flags.last_token.type!==s.START_EXPR&&(l(this._flags.last_token.type,[s.START_BLOCK,s.SEMICOLON])&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(b),this.indent(),!L&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()},S.prototype.handle_end_block=function(b){for(this.handle_whitespace_and_comments(b);this._flags.mode===v.Statement;)this.restore_mode();var M=this._flags.last_token.type===s.START_BLOCK;this._flags.inline_frame&&!M?this._output.space_before_token=!0:this._options.brace_style==="expand"?M||this.print_newline():M||(x(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(b)},S.prototype.handle_word=function(b){if(b.type===s.RESERVED){if(l(b.text,["set","get"])&&this._flags.mode!==v.ObjectLiteral)b.type=s.WORD;else if(b.text==="import"&&l(this._tokens.peek().text,["(","."]))b.type=s.WORD;else if(l(b.text,["as","from"])&&!this._flags.import_block)b.type=s.WORD;else if(this._flags.mode===v.ObjectLiteral){var M=this._tokens.peek();M.text===":"&&(b.type=s.WORD)}}if(this.start_of_statement(b)?f(this._flags.last_token,["var","let","const"])&&b.type===s.WORD&&(this._flags.declaration_statement=!0):b.newlines&&!E(this._flags.mode)&&(this._flags.last_token.type!==s.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==s.EQUALS&&(this._options.preserve_newlines||!f(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(b),this.print_newline()):this.handle_whitespace_and_comments(b),this._flags.do_block&&!this._flags.do_while)if(d(b,"while")){this._output.space_before_token=!0,this.print_token(b),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&d(b,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===v.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&f(b,["case","default"])){this.print_newline(),!this._flags.case_block&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(b),this._flags.in_case=!0;return}if((this._flags.last_token.type===s.COMMA||this._flags.last_token.type===s.START_EXPR||this._flags.last_token.type===s.EQUALS||this._flags.last_token.type===s.OPERATOR)&&!this.start_of_object_property()&&!(l(this._flags.last_token.text,["+","-"])&&this._last_last_text===":"&&this._flags.parent.mode===v.ObjectLiteral)&&this.allow_wrap_or_preserved_newline(b),d(b,"function")){(l(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(l(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===s.OPERATOR))&&!this._output.just_added_blankline()&&!b.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===s.RESERVED||this._flags.last_token.type===s.WORD?f(this._flags.last_token,["get","set","new","export"])||f(this._flags.last_token,k)?this._output.space_before_token=!0:d(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===s.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(E(this._flags.mode)||x(this._flags.mode))||this.print_newline(),this.print_token(b),this._flags.last_word=b.text;return}var D="NONE";if(this._flags.last_token.type===s.END_BLOCK?this._previous_flags.inline_frame?D="SPACE":f(b,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&b.newlines?D="NEWLINE":(D="SPACE",this._output.space_before_token=!0):D="NEWLINE":this._flags.last_token.type===s.SEMICOLON&&this._flags.mode===v.BlockStatement?D="NEWLINE":this._flags.last_token.type===s.SEMICOLON&&E(this._flags.mode)?D="SPACE":this._flags.last_token.type===s.STRING?D="NEWLINE":this._flags.last_token.type===s.RESERVED||this._flags.last_token.type===s.WORD||this._flags.last_token.text==="*"&&(l(this._last_last_text,["function","yield"])||this._flags.mode===v.ObjectLiteral&&l(this._last_last_text,["{",","]))?D="SPACE":this._flags.last_token.type===s.START_BLOCK?this._flags.inline_frame?D="SPACE":D="NEWLINE":this._flags.last_token.type===s.END_EXPR&&(this._output.space_before_token=!0,D="NEWLINE"),f(b,i)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?D="SPACE":D="NEWLINE"),f(b,["else","catch","finally"]))if((!(this._flags.last_token.type===s.END_BLOCK&&this._previous_flags.mode===v.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&b.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var L=this._output.current_line;L.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else D==="NEWLINE"?f(this._flags.last_token,p)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&f(b,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==s.END_EXPR?(this._flags.last_token.type!==s.START_EXPR||!f(b,["var","let","const"]))&&this._flags.last_token.text!==":"&&(d(b,"if")&&d(b.previous,"else")?this._output.space_before_token=!0:this.print_newline()):f(b,i)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&x(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():D==="SPACE"&&(this._output.space_before_token=!0);b.previous&&(b.previous.type===s.WORD||b.previous.type===s.RESERVED)&&(this._output.space_before_token=!0),this.print_token(b),this._flags.last_word=b.text,b.type===s.RESERVED&&(b.text==="do"?this._flags.do_block=!0:b.text==="if"?this._flags.if_block=!0:b.text==="import"?this._flags.import_block=!0:this._flags.import_block&&d(b,"from")&&(this._flags.import_block=!1))},S.prototype.handle_semicolon=function(b){this.start_of_statement(b)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(b);for(var M=this._tokens.peek();this._flags.mode===v.Statement&&!(this._flags.if_block&&d(M,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(b)},S.prototype.handle_string=function(b){b.text.startsWith("`")&&b.newlines===0&&b.whitespace_before===""&&(b.previous.text===")"||this._flags.last_token.type===s.WORD)||(this.start_of_statement(b)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(b),this._flags.last_token.type===s.RESERVED||this._flags.last_token.type===s.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===s.COMMA||this._flags.last_token.type===s.START_EXPR||this._flags.last_token.type===s.EQUALS||this._flags.last_token.type===s.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(b):b.text.startsWith("`")&&this._flags.last_token.type===s.END_EXPR&&(b.previous.text==="]"||b.previous.text===")")&&b.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(b)},S.prototype.handle_equals=function(b){this.start_of_statement(b)||this.handle_whitespace_and_comments(b),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(b),this._output.space_before_token=!0},S.prototype.handle_comma=function(b){this.handle_whitespace_and_comments(b,!0),this.print_token(b),this._output.space_before_token=!0,this._flags.declaration_statement?(E(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(b)):this._flags.mode===v.ObjectLiteral||this._flags.mode===v.Statement&&this._flags.parent.mode===v.ObjectLiteral?(this._flags.mode===v.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(b)},S.prototype.handle_operator=function(b){var M=b.text==="*"&&(f(this._flags.last_token,["function","yield"])||l(this._flags.last_token.type,[s.START_BLOCK,s.COMMA,s.END_BLOCK,s.SEMICOLON])),D=l(b.text,["-","+"])&&(l(this._flags.last_token.type,[s.START_BLOCK,s.START_EXPR,s.EQUALS,s.OPERATOR])||l(this._flags.last_token.text,i)||this._flags.last_token.text===",");if(!this.start_of_statement(b)){var L=!M;this.handle_whitespace_and_comments(b,L)}if(b.text==="*"&&this._flags.last_token.type===s.DOT){this.print_token(b);return}if(b.text==="::"){this.print_token(b);return}if(l(b.text,["-","+"])&&this.start_of_object_property()){this.print_token(b);return}if(this._flags.last_token.type===s.OPERATOR&&l(this._options.operator_position,h)&&this.allow_wrap_or_preserved_newline(b),b.text===":"&&this._flags.in_case){this.print_token(b),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==s.START_BLOCK?(this.indent(),this.print_newline(),this._flags.case_block=!1):(this._flags.case_block=!0,this._output.space_before_token=!0);return}var P=!0,I=!0,R=!1;if(b.text===":"?this._flags.ternary_depth===0?P=!1:(this._flags.ternary_depth-=1,R=!0):b.text==="?"&&(this._flags.ternary_depth+=1),!D&&!M&&this._options.preserve_newlines&&l(b.text,o)){var U=b.text===":",N=U&&R,W=U&&!R;switch(this._options.operator_position){case g.before_newline:this._output.space_before_token=!W,this.print_token(b),(!U||N)&&this.allow_wrap_or_preserved_newline(b),this._output.space_before_token=!0;return;case g.after_newline:this._output.space_before_token=!0,!U||N?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(b):this._output.space_before_token=!1,this.print_token(b),this._output.space_before_token=!0;return;case g.preserve_newline:W||this.allow_wrap_or_preserved_newline(b),P=!(this._output.just_added_newline()||W),this._output.space_before_token=P,this.print_token(b),this._output.space_before_token=!0;return}}if(M){this.allow_wrap_or_preserved_newline(b),P=!1;var Q=this._tokens.peek();I=Q&&l(Q.type,[s.WORD,s.RESERVED])}else if(b.text==="...")this.allow_wrap_or_preserved_newline(b),P=this._flags.last_token.type===s.START_BLOCK,I=!1;else if(l(b.text,["--","++","!","~"])||D){if((this._flags.last_token.type===s.COMMA||this._flags.last_token.type===s.START_EXPR)&&this.allow_wrap_or_preserved_newline(b),P=!1,I=!1,b.newlines&&(b.text==="--"||b.text==="++"||b.text==="~")){var re=f(this._flags.last_token,p)&&b.newlines;re&&(this._previous_flags.if_block||this._previous_flags.else_block)&&this.restore_mode(),this.print_newline(re,!0)}this._flags.last_token.text===";"&&E(this._flags.mode)&&(P=!0),this._flags.last_token.type===s.RESERVED?P=!0:this._flags.last_token.type===s.END_EXPR?P=!(this._flags.last_token.text==="]"&&(b.text==="--"||b.text==="++")):this._flags.last_token.type===s.OPERATOR&&(P=l(b.text,["--","-","++","+"])&&l(this._flags.last_token.text,["--","-","++","+"]),l(b.text,["+","-"])&&l(this._flags.last_token.text,["--","++"])&&(I=!0)),(this._flags.mode===v.BlockStatement&&!this._flags.inline_frame||this._flags.mode===v.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline()}this._output.space_before_token=this._output.space_before_token||P,this.print_token(b),this._output.space_before_token=I},S.prototype.handle_block_comment=function(b,M){if(this._output.raw){this._output.add_raw_token(b),b.directives&&b.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(b.directives){this.print_newline(!1,M),this.print_token(b),b.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!a.newline.test(b.text)&&!b.newlines){this._output.space_before_token=!0,this.print_token(b),this._output.space_before_token=!0;return}else this.print_block_commment(b,M)},S.prototype.print_block_commment=function(b,M){var D=y(b.text),L,P=!1,I=!1,R=b.whitespace_before,U=R.length;if(this.print_newline(!1,M),this.print_token_line_indentation(b),this._output.add_token(D[0]),this.print_newline(!1,M),D.length>1){for(D=D.slice(1),P=w(D,"*"),I=A(D,R),P&&(this._flags.alignment=1),L=0;L<D.length;L++)P?(this.print_token_line_indentation(b),this._output.add_token(u(D[L]))):I&&D[L]?(this.print_token_line_indentation(b),this._output.add_token(D[L].substring(U))):(this._output.current_line.set_indent(-1),this._output.add_token(D[L])),this.print_newline(!1,M);this._flags.alignment=0}},S.prototype.handle_comment=function(b,M){b.newlines?this.print_newline(!1,M):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(b),this.print_newline(!1,M)},S.prototype.handle_dot=function(b){this.start_of_statement(b)||this.handle_whitespace_and_comments(b,!0),this._flags.last_token.text.match("^[0-9]+$")&&(this._output.space_before_token=!0),f(this._flags.last_token,p)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(b,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(b)},S.prototype.handle_unknown=function(b,M){this.print_token(b),b.text[b.text.length-1]===`
`&&this.print_newline(!1,M)},S.prototype.handle_eof=function(b){for(;this._flags.mode===v.Statement;)this.restore_mode();this.handle_whitespace_and_comments(b)},tu.Beautifier=S,tu}var Np;function _x(){if(Np)return yo.exports;Np=1;var t=gx().Beautifier,e=s_().Options;function a(n,r){var i=new t(n,r);return i.beautify()}return yo.exports=a,yo.exports.defaultOptions=function(){return new e},yo.exports}var xo={exports:{}},pu={},hu={},Vp;function u_(){if(Vp)return hu;Vp=1;var t=Jd().Options;function e(a){t.call(this,a,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var n=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||n;var r=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var i=0;i<r.length;i++)r[i]!=="expand"?this.brace_style="collapse":this.brace_style=r[i]}return e.prototype=new t,hu.Options=e,hu}var jp;function yx(){if(jp)return pu;jp=1;var t=u_().Options,e=Qd().Output,a=$d().InputScanner,n=ef().Directives,r=new n(/\/\*/,/\*\//),i=/\r\n|[\r\n]/,o=/\r\n|[\r\n]/g,s=/\s/,l=/(?:\s|\n)+/g,u=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,c=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function d(f,p){this._source_text=f||"",this._options=new t(p),this._ch=null,this._input=null,this.NESTED_AT_RULE={page:!0,"font-face":!0,keyframes:!0,media:!0,supports:!0,document:!0},this.CONDITIONAL_GROUP_RULE={media:!0,supports:!0,document:!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}return d.prototype.eatString=function(f){var p="";for(this._ch=this._input.next();this._ch;){if(p+=this._ch,this._ch==="\\")p+=this._input.next();else if(f.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return p},d.prototype.eatWhitespace=function(f){for(var p=s.test(this._input.peek()),m=0;s.test(this._input.peek());)this._ch=this._input.next(),f&&this._ch===`
`&&(m===0||m<this._options.max_preserve_newlines)&&(m++,this._output.add_new_line(!0));return p},d.prototype.foundNestedPseudoClass=function(){for(var f=0,p=1,m=this._input.peek(p);m;){if(m==="{")return!0;if(m==="(")f+=1;else if(m===")"){if(f===0)return!1;f-=1}else if(m===";"||m==="}")return!1;p++,m=this._input.peek(p)}return!1},d.prototype.print_string=function(f){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(f)},d.prototype.preserveSingleSpace=function(f){f&&(this._output.space_before_token=!0)},d.prototype.indent=function(){this._indentLevel++},d.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},d.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var f=this._source_text,p=this._options.eol;p==="auto"&&(p=`
`,f&&i.test(f||"")&&(p=f.match(i)[0])),f=f.replace(o,`
`);var m=f.match(/^[\t ]*/)[0];this._output=new e(this._options,m),this._input=new a(f),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var g=0,h=!1,v=!1,_=!1,y=!1,x=!1,E=this._ch,w=!1,A,S,k;A=this._input.read(l),S=A!=="",k=E,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),E=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var b=this._input.read(u),M=r.get_directives(b);M&&M.ignore==="start"&&(b+=r.readIgnored(this._input)),this.print_string(b),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(c)),this.eatWhitespace(!0);else if(this._ch==="$"){this.preserveSingleSpace(S),this.print_string(this._ch);var D=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);D.match(/[ :]$/)&&(D=this.eatString(": ").replace(/\s+$/,""),this.print_string(D),this._output.space_before_token=!0),g===0&&D.indexOf(":")!==-1&&(v=!0,this.indent())}else if(this._ch==="@")if(this.preserveSingleSpace(S),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var L=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);L.match(/[ :]$/)&&(L=this.eatString(": ").replace(/\s+$/,""),this.print_string(L),this._output.space_before_token=!0),g===0&&L.indexOf(":")!==-1?(v=!0,this.indent()):L in this.NESTED_AT_RULE?(this._nestedLevel+=1,L in this.CONDITIONAL_GROUP_RULE&&(_=!0)):g===0&&!v&&(y=!0)}else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(S),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")v&&(v=!1,this.outdent()),y=!1,_?(_=!1,h=this._indentLevel>=this._nestedLevel):h=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&h&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(k==="("?this._output.space_before_token=!1:k!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),k==="{"&&this._output.trim(!0),v&&(this.outdent(),v=!1),this.print_string(this._ch),h=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var P=0;P<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;P++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[P])){w=!0;break}(h||_)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!y&&g===0?(this.print_string(":"),v||(v=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":"))}else if(this._ch==='"'||this._ch==="'"){var I=k==='"'||k==="'";this.preserveSingleSpace(I||S),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)}else if(this._ch===";")w=!1,g===0?(v&&(this.outdent(),v=!1),y=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0);else if(this._ch==="(")if(this._input.lookBack("url"))this.print_string(this._ch),this.eatWhitespace(),g++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),g&&(g--,this.outdent()));else{var R=!1;this._input.lookBack("with")&&(R=!0),this.preserveSingleSpace(S||R),this.print_string(this._ch),v&&k==="$"&&this._options.selector_separator_newline?(this._output.add_new_line(),x=!0):(this.eatWhitespace(),g++,this.indent())}else if(this._ch===")")g&&(g--,this.outdent()),x&&this._input.peek()===";"&&this._options.selector_separator_newline&&(x=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch);else if(this._ch===",")this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&(!v||x)&&g===0&&!y?this._output.add_new_line():this._output.space_before_token=!0;else if((this._ch===">"||this._ch==="+"||this._ch==="~")&&!v&&g===0)this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&s.test(this._ch)&&(this._ch=""));else if(this._ch==="]")this.print_string(this._ch);else if(this._ch==="[")this.preserveSingleSpace(S),this.print_string(this._ch);else if(this._ch==="=")this.eatWhitespace(),this.print_string("="),s.test(this._ch)&&(this._ch="");else if(this._ch==="!"&&!this._input.lookBack("\\"))this._output.space_before_token=!0,this.print_string(this._ch);else{var U=k==='"'||k==="'";this.preserveSingleSpace(U||S),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===`
`&&w&&this._output.add_new_line()}var N=this._output.get_code(p);return N},pu.Beautifier=d,pu}var Fp;function bx(){if(Fp)return xo.exports;Fp=1;var t=yx().Beautifier,e=u_().Options;function a(n,r){var i=new t(n,r);return i.beautify()}return xo.exports=a,xo.exports.defaultOptions=function(){return new e},xo.exports}var So={exports:{}},vu={},mu={},Up;function c_(){if(Up)return mu;Up=1;var t=Jd().Options;function e(a){t.call(this,a,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_min_attrs=this._get_number("wrap_attributes_min_attrs",2),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.inline_custom_elements=this._get_boolean("inline_custom_elements",!0),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}return e.prototype=new t,mu.Options=e,mu}var Co={},Gp;function Hp(){if(Gp)return Co;Gp=1;var t=qs().Tokenizer,e=qs().TOKEN,a=ef().Directives,n=l_().TemplatablePattern,r=hl().Pattern,i={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",CONTROL_FLOW_OPEN:"TK_CONTROL_FLOW_OPEN",CONTROL_FLOW_CLOSE:"TK_CONTROL_FLOW_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:e.START,RAW:e.RAW,EOF:e.EOF},o=new a(/<\!--/,/-->/),s=function(l,u){t.call(this,l,u),this._current_tag_name="";var c=new n(this._input).read_options(this._options),d=new r(this._input);if(this.__patterns={word:c.until(/[\n\r\t <]/),word_control_flow_close_excluded:c.until(/[\n\r\t <}]/),single_quote:c.until_after(/'/),double_quote:c.until_after(/"/),attribute:c.until(/[\n\r\t =>]|\/>/),element_name:c.until(/[\n\r\t >\/]/),angular_control_flow_start:d.matching(/\@[a-zA-Z]+[^({]*[({]/),handlebars_comment:d.starting_with(/{{!--/).until_after(/--}}/),handlebars:d.starting_with(/{{/).until_after(/}}/),handlebars_open:d.until(/[\n\r\t }]/),handlebars_raw_close:d.until(/}}/),comment:d.starting_with(/<!--/).until_after(/-->/),cdata:d.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:d.starting_with(/<!\[/).until_after(/]>/),processing:d.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars"),this.__patterns.word_control_flow_close_excluded=this.__patterns.word_control_flow_close_excluded.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var f=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=d.matching(f).until_after(f)}};return s.prototype=new t,s.prototype._is_comment=function(l){return!1},s.prototype._is_opening=function(l){return l.type===i.TAG_OPEN||l.type===i.CONTROL_FLOW_OPEN},s.prototype._is_closing=function(l,u){return l.type===i.TAG_CLOSE&&u&&((l.text===">"||l.text==="/>")&&u.text[0]==="<"||l.text==="}}"&&u.text[0]==="{"&&u.text[1]==="{")||l.type===i.CONTROL_FLOW_CLOSE&&l.text==="}"&&u.text.endsWith("{")},s.prototype._reset=function(){this._current_tag_name=""},s.prototype._get_next_token=function(l,u){var c=null;this._readWhitespace();var d=this._input.peek();return d===null?this._create_token(i.EOF,""):(c=c||this._read_open_handlebars(d,u),c=c||this._read_attribute(d,l,u),c=c||this._read_close(d,u),c=c||this._read_control_flows(d,u),c=c||this._read_raw_content(d,l,u),c=c||this._read_content_word(d,u),c=c||this._read_comment_or_cdata(d),c=c||this._read_processing(d),c=c||this._read_open(d,u),c=c||this._create_token(i.UNKNOWN,this._input.next()),c)},s.prototype._read_comment_or_cdata=function(l){var u=null,c=null,d=null;if(l==="<"){var f=this._input.peek(1);f==="!"&&(c=this.__patterns.comment.read(),c?(d=o.get_directives(c),d&&d.ignore==="start"&&(c+=o.readIgnored(this._input))):c=this.__patterns.cdata.read()),c&&(u=this._create_token(i.COMMENT,c),u.directives=d)}return u},s.prototype._read_processing=function(l){var u=null,c=null,d=null;if(l==="<"){var f=this._input.peek(1);(f==="!"||f==="?")&&(c=this.__patterns.conditional_comment.read(),c=c||this.__patterns.processing.read()),c&&(u=this._create_token(i.COMMENT,c),u.directives=d)}return u},s.prototype._read_open=function(l,u){var c=null,d=null;return(!u||u.type===i.CONTROL_FLOW_OPEN)&&l==="<"&&(c=this._input.next(),this._input.peek()==="/"&&(c+=this._input.next()),c+=this.__patterns.element_name.read(),d=this._create_token(i.TAG_OPEN,c)),d},s.prototype._read_open_handlebars=function(l,u){var c=null,d=null;return(!u||u.type===i.CONTROL_FLOW_OPEN)&&this._options.indent_handlebars&&l==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(c=this.__patterns.handlebars_comment.read(),c=c||this.__patterns.handlebars.read(),d=this._create_token(i.COMMENT,c)):(c=this.__patterns.handlebars_open.read(),d=this._create_token(i.TAG_OPEN,c))),d},s.prototype._read_control_flows=function(l,u){var c="",d=null;if(!this._options.templating.includes("angular")||!this._options.indent_handlebars)return d;if(l==="@"){if(c=this.__patterns.angular_control_flow_start.read(),c==="")return d;for(var f=c.endsWith("(")?1:0,p=0;!(c.endsWith("{")&&f===p);){var m=this._input.next();if(m===null)break;m==="("?f++:m===")"&&p++,c+=m}d=this._create_token(i.CONTROL_FLOW_OPEN,c)}else l==="}"&&u&&u.type===i.CONTROL_FLOW_OPEN&&(c=this._input.next(),d=this._create_token(i.CONTROL_FLOW_CLOSE,c));return d},s.prototype._read_close=function(l,u){var c=null,d=null;return u&&u.type===i.TAG_OPEN&&(u.text[0]==="<"&&(l===">"||l==="/"&&this._input.peek(1)===">")?(c=this._input.next(),l==="/"&&(c+=this._input.next()),d=this._create_token(i.TAG_CLOSE,c)):u.text[0]==="{"&&l==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),d=this._create_token(i.TAG_CLOSE,"}}"))),d},s.prototype._read_attribute=function(l,u,c){var d=null,f="";if(c&&c.text[0]==="<")if(l==="=")d=this._create_token(i.EQUALS,this._input.next());else if(l==='"'||l==="'"){var p=this._input.next();l==='"'?p+=this.__patterns.double_quote.read():p+=this.__patterns.single_quote.read(),d=this._create_token(i.VALUE,p)}else f=this.__patterns.attribute.read(),f&&(u.type===i.EQUALS?d=this._create_token(i.VALUE,f):d=this._create_token(i.ATTRIBUTE,f));return d},s.prototype._is_content_unformatted=function(l){return this._options.void_elements.indexOf(l)===-1&&(this._options.content_unformatted.indexOf(l)!==-1||this._options.unformatted.indexOf(l)!==-1)},s.prototype._read_raw_content=function(l,u,c){var d="";if(c&&c.text[0]==="{")d=this.__patterns.handlebars_raw_close.read();else if(u.type===i.TAG_CLOSE&&u.opened.text[0]==="<"&&u.text[0]!=="/"){var f=u.opened.text.substr(1).toLowerCase();if(f==="script"||f==="style"){var p=this._read_comment_or_cdata(l);if(p)return p.type=i.TEXT,p;d=this._input.readUntil(new RegExp("</"+f+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(f)&&(d=this._input.readUntil(new RegExp("</"+f+"[\\n\\r\\t ]*?>","ig")))}return d?this._create_token(i.TEXT,d):null},s.prototype._read_content_word=function(l,u){var c="";if(this._options.unformatted_content_delimiter&&l===this._options.unformatted_content_delimiter[0]&&(c=this.__patterns.unformatted_content_delimiter.read()),c||(c=u&&u.type===i.CONTROL_FLOW_OPEN?this.__patterns.word_control_flow_close_excluded.read():this.__patterns.word.read()),c)return this._create_token(i.TEXT,c)},Co.Tokenizer=s,Co.TOKEN=i,Co}var Wp;function xx(){if(Wp)return vu;Wp=1;var t=c_().Options,e=Qd().Output,a=Hp().Tokenizer,n=Hp().TOKEN,r=/\r\n|[\r\n]/,i=/\r\n|[\r\n]/g,o=function(h,v){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=h.max_preserve_newlines,this.preserve_newlines=h.preserve_newlines,this._output=new e(h,v)};o.prototype.current_line_has_match=function(h){return this._output.current_line.has_match(h)},o.prototype.set_space_before_token=function(h,v){this._output.space_before_token=h,this._output.non_breaking_space=v},o.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},o.prototype.add_raw_token=function(h){this._output.add_raw_token(h)},o.prototype.print_preserved_newlines=function(h){var v=0;h.type!==n.TEXT&&h.previous.type!==n.TEXT&&(v=h.newlines?1:0),this.preserve_newlines&&(v=h.newlines<this.max_preserve_newlines+1?h.newlines:this.max_preserve_newlines+1);for(var _=0;_<v;_++)this.print_newline(_>0);return v!==0},o.prototype.traverse_whitespace=function(h){return h.whitespace_before||h.newlines?(this.print_preserved_newlines(h)||(this._output.space_before_token=!0),!0):!1},o.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},o.prototype.print_newline=function(h){this._output.add_new_line(h)},o.prototype.print_token=function(h){h.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(h.text))},o.prototype.indent=function(){this.indent_level++},o.prototype.deindent=function(){this.indent_level>0&&(this.indent_level--,this._output.set_indent(this.indent_level,this.alignment_size))},o.prototype.get_full_indent=function(h){return h=this.indent_level+(h||0),h<1?"":this._output.get_indent_string(h)};var s=function(h){for(var v=null,_=h.next;_.type!==n.EOF&&h.closed!==_;){if(_.type===n.ATTRIBUTE&&_.text==="type"){_.next&&_.next.type===n.EQUALS&&_.next.next&&_.next.next.type===n.VALUE&&(v=_.next.next.text);break}_=_.next}return v},l=function(h,v){var _=null,y=null;return v.closed?(h==="script"?_="text/javascript":h==="style"&&(_="text/css"),_=s(v)||_,_.search("text/css")>-1?y="css":_.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?y="javascript":_.search(/(text|application|dojo)\/(x-)?(html)/)>-1?y="html":_.search(/test\/null/)>-1&&(y="null"),y):null};function u(h,v){return v.indexOf(h)!==-1}function c(h,v,_){this.parent=h||null,this.tag=v?v.tag_name:"",this.indent_level=_||0,this.parser_token=v||null}function d(h){this._printer=h,this._current_frame=null}d.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},d.prototype.record_tag=function(h){var v=new c(this._current_frame,h,this._printer.indent_level);this._current_frame=v},d.prototype._try_pop_frame=function(h){var v=null;return h&&(v=h.parser_token,this._printer.indent_level=h.indent_level,this._current_frame=h.parent),v},d.prototype._get_frame=function(h,v){for(var _=this._current_frame;_&&h.indexOf(_.tag)===-1;){if(v&&v.indexOf(_.tag)!==-1){_=null;break}_=_.parent}return _},d.prototype.try_pop=function(h,v){var _=this._get_frame([h],v);return this._try_pop_frame(_)},d.prototype.indent_to_tag=function(h){var v=this._get_frame(h);v&&(this._printer.indent_level=v.indent_level)};function f(h,v,_,y){this._source_text=h||"",v=v||{},this._js_beautify=_,this._css_beautify=y,this._tag_stack=null;var x=new t(v,"html");this._options=x,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}f.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var h=this._source_text,v=this._options.eol;this._options.eol==="auto"&&(v=`
`,h&&r.test(h)&&(v=h.match(r)[0])),h=h.replace(i,`
`);var _=h.match(/^[\t ]*/)[0],y={text:"",type:""},x=new p,E=new o(this._options,_),w=new a(h,this._options).tokenize();this._tag_stack=new d(E);for(var A=null,S=w.next();S.type!==n.EOF;)S.type===n.TAG_OPEN||S.type===n.COMMENT?(A=this._handle_tag_open(E,S,x,y,w),x=A):S.type===n.ATTRIBUTE||S.type===n.EQUALS||S.type===n.VALUE||S.type===n.TEXT&&!x.tag_complete?A=this._handle_inside_tag(E,S,x,y):S.type===n.TAG_CLOSE?A=this._handle_tag_close(E,S,x):S.type===n.TEXT?A=this._handle_text(E,S,x):S.type===n.CONTROL_FLOW_OPEN?A=this._handle_control_flow_open(E,S):S.type===n.CONTROL_FLOW_CLOSE?A=this._handle_control_flow_close(E,S):E.add_raw_token(S),y=A,S=w.next();var k=E._output.get_code(v);return k},f.prototype._handle_control_flow_open=function(h,v){var _={text:v.text,type:v.type};return h.set_space_before_token(v.newlines||v.whitespace_before!=="",!0),v.newlines?h.print_preserved_newlines(v):h.set_space_before_token(v.newlines||v.whitespace_before!=="",!0),h.print_token(v),h.indent(),_},f.prototype._handle_control_flow_close=function(h,v){var _={text:v.text,type:v.type};return h.deindent(),v.newlines?h.print_preserved_newlines(v):h.set_space_before_token(v.newlines||v.whitespace_before!=="",!0),h.print_token(v),_},f.prototype._handle_tag_close=function(h,v,_){var y={text:v.text,type:v.type};return h.alignment_size=0,_.tag_complete=!0,h.set_space_before_token(v.newlines||v.whitespace_before!=="",!0),_.is_unformatted?h.add_raw_token(v):(_.tag_start_char==="<"&&(h.set_space_before_token(v.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&_.has_wrapped_attrs&&h.print_newline(!1)),h.print_token(v)),_.indent_content&&!(_.is_unformatted||_.is_content_unformatted)&&(h.indent(),_.indent_content=!1),!_.is_inline_element&&!(_.is_unformatted||_.is_content_unformatted)&&h.set_wrap_point(),y},f.prototype._handle_inside_tag=function(h,v,_,y){var x=_.has_wrapped_attrs,E={text:v.text,type:v.type};return h.set_space_before_token(v.newlines||v.whitespace_before!=="",!0),_.is_unformatted?h.add_raw_token(v):_.tag_start_char==="{"&&v.type===n.TEXT?h.print_preserved_newlines(v)?(v.newlines=0,h.add_raw_token(v)):h.print_token(v):(v.type===n.ATTRIBUTE?h.set_space_before_token(!0):(v.type===n.EQUALS||v.type===n.VALUE&&v.previous.type===n.EQUALS)&&h.set_space_before_token(!1),v.type===n.ATTRIBUTE&&_.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(h.traverse_whitespace(v),x=x||v.newlines!==0),this._is_wrap_attributes_force&&_.attr_count>=this._options.wrap_attributes_min_attrs&&(y.type!==n.TAG_OPEN||this._is_wrap_attributes_force_expand_multiline)&&(h.print_newline(!1),x=!0)),h.print_token(v),x=x||h.previous_token_wrapped(),_.has_wrapped_attrs=x),E},f.prototype._handle_text=function(h,v,_){var y={text:v.text,type:"TK_CONTENT"};return _.custom_beautifier_name?this._print_custom_beatifier_text(h,v,_):_.is_unformatted||_.is_content_unformatted?h.add_raw_token(v):(h.traverse_whitespace(v),h.print_token(v)),y},f.prototype._print_custom_beatifier_text=function(h,v,_){var y=this;if(v.text!==""){var x=v.text,E,w=1,A="",S="";_.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?E=this._js_beautify:_.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?E=this._css_beautify:_.custom_beautifier_name==="html"&&(E=function(P,I){var R=new f(P,I,y._js_beautify,y._css_beautify);return R.beautify()}),this._options.indent_scripts==="keep"?w=0:this._options.indent_scripts==="separate"&&(w=-h.indent_level);var k=h.get_full_indent(w);if(x=x.replace(/\n[ \t]*$/,""),_.custom_beautifier_name!=="html"&&x[0]==="<"&&x.match(/^(<!--|<!\[CDATA\[)/)){var b=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(x);if(!b){h.add_raw_token(v);return}A=k+b[1]+`
`,x=b[4],b[5]&&(S=k+b[5]),x=x.replace(/\n[ \t]*$/,""),(b[2]||b[3].indexOf(`
`)!==-1)&&(b=b[3].match(/[ \t]+$/),b&&(v.whitespace_before=b[0]))}if(x)if(E){var M=function(){this.eol=`
`};M.prototype=this._options.raw_options;var D=new M;x=E(k+x,D)}else{var L=v.whitespace_before;L&&(x=x.replace(new RegExp(`
(`+L+")?","g"),`
`)),x=k+x.replace(/\n/g,`
`+k)}A&&(x?x=A+x+`
`+S:x=A+S),h.print_newline(!1),x&&(v.text=x,v.whitespace_before="",v.newlines=0,h.add_raw_token(v),h.print_newline(!0))}},f.prototype._handle_tag_open=function(h,v,_,y,x){var E=this._get_tag_open_token(v);if((_.is_unformatted||_.is_content_unformatted)&&!_.is_empty_element&&v.type===n.TAG_OPEN&&!E.is_start_tag?(h.add_raw_token(v),E.start_tag_token=this._tag_stack.try_pop(E.tag_name)):(h.traverse_whitespace(v),this._set_tag_position(h,v,E,_,y),E.is_inline_element||h.set_wrap_point(),h.print_token(v)),E.is_start_tag&&this._is_wrap_attributes_force){var w=0,A;do A=x.peek(w),A.type===n.ATTRIBUTE&&(E.attr_count+=1),w+=1;while(A.type!==n.EOF&&A.type!==n.TAG_CLOSE)}return(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(E.alignment_size=v.text.length+1),!E.tag_complete&&!E.is_unformatted&&(h.alignment_size=E.alignment_size),E};var p=function(h,v){if(this.parent=h||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!v)this.tag_complete=!0;else{var _;this.tag_start_char=v.text[0],this.text=v.text,this.tag_start_char==="<"?(_=v.text.match(/^<([^\s>]*)/),this.tag_check=_?_[1]:""):(_=v.text.match(/^{{~?(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=_?_[1]:"",(v.text.startsWith("{{#>")||v.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check===">"&&v.next!==null?this.tag_check=v.next.text.split(" ")[0]:this.tag_check=v.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),v.type===n.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||v.closed&&v.closed.text==="/>";var y=2;this.tag_start_char==="{"&&this.text.length>=3&&this.text.charAt(2)==="~"&&(y=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(y)))}};f.prototype._get_tag_open_token=function(h){var v=new p(this._tag_stack.get_parser_token(),h);return v.alignment_size=this._options.wrap_attributes_indent_size,v.is_end_tag=v.is_end_tag||u(v.tag_check,this._options.void_elements),v.is_empty_element=v.tag_complete||v.is_start_tag&&v.is_end_tag,v.is_unformatted=!v.tag_complete&&u(v.tag_check,this._options.unformatted),v.is_content_unformatted=!v.is_empty_element&&u(v.tag_check,this._options.content_unformatted),v.is_inline_element=u(v.tag_name,this._options.inline)||this._options.inline_custom_elements&&v.tag_name.includes("-")||v.tag_start_char==="{",v},f.prototype._set_tag_position=function(h,v,_,y,x){if(_.is_empty_element||(_.is_end_tag?_.start_tag_token=this._tag_stack.try_pop(_.tag_name):(this._do_optional_end_element(_)&&(_.is_inline_element||h.print_newline(!1)),this._tag_stack.record_tag(_),(_.tag_name==="script"||_.tag_name==="style")&&!(_.is_unformatted||_.is_content_unformatted)&&(_.custom_beautifier_name=l(_.tag_check,v)))),u(_.tag_check,this._options.extra_liners)&&(h.print_newline(!1),h._output.just_added_blankline()||h.print_newline(!0)),_.is_empty_element){if(_.tag_start_char==="{"&&_.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),_.indent_content=!0;var E=h.current_line_has_match(/{{#if/);E||h.print_newline(!1)}_.tag_name==="!--"&&x.type===n.TAG_CLOSE&&y.is_end_tag&&_.text.indexOf(`
`)===-1||(_.is_inline_element||_.is_unformatted||h.print_newline(!1),this._calcluate_parent_multiline(h,_))}else if(_.is_end_tag){var w=!1;w=_.start_tag_token&&_.start_tag_token.multiline_content,w=w||!_.is_inline_element&&!(y.is_inline_element||y.is_unformatted)&&!(x.type===n.TAG_CLOSE&&_.start_tag_token===y)&&x.type!=="TK_CONTENT",(_.is_content_unformatted||_.is_unformatted)&&(w=!1),w&&h.print_newline(!1)}else _.indent_content=!_.custom_beautifier_name,_.tag_start_char==="<"&&(_.tag_name==="html"?_.indent_content=this._options.indent_inner_html:_.tag_name==="head"?_.indent_content=this._options.indent_head_inner_html:_.tag_name==="body"&&(_.indent_content=this._options.indent_body_inner_html)),!(_.is_inline_element||_.is_unformatted)&&(x.type!=="TK_CONTENT"||_.is_content_unformatted)&&h.print_newline(!1),this._calcluate_parent_multiline(h,_)},f.prototype._calcluate_parent_multiline=function(h,v){v.parent&&h._output.just_added_newline()&&!((v.is_inline_element||v.is_unformatted)&&v.parent.is_inline_element)&&(v.parent.multiline_content=!0)};var m=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","menu","nav","ol","p","pre","section","table","ul"],g=["a","audio","del","ins","map","noscript","video"];return f.prototype._do_optional_end_element=function(h){var v=null;if(!(h.is_empty_element||!h.is_start_tag||!h.parent)){if(h.tag_name==="body")v=v||this._tag_stack.try_pop("head");else if(h.tag_name==="li")v=v||this._tag_stack.try_pop("li",["ol","ul","menu"]);else if(h.tag_name==="dd"||h.tag_name==="dt")v=v||this._tag_stack.try_pop("dt",["dl"]),v=v||this._tag_stack.try_pop("dd",["dl"]);else if(h.parent.tag_name==="p"&&m.indexOf(h.tag_name)!==-1){var _=h.parent.parent;(!_||g.indexOf(_.tag_name)===-1)&&(v=v||this._tag_stack.try_pop("p"))}else h.tag_name==="rp"||h.tag_name==="rt"?(v=v||this._tag_stack.try_pop("rt",["ruby","rtc"]),v=v||this._tag_stack.try_pop("rp",["ruby","rtc"])):h.tag_name==="optgroup"?v=v||this._tag_stack.try_pop("optgroup",["select"]):h.tag_name==="option"?v=v||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):h.tag_name==="colgroup"?v=v||this._tag_stack.try_pop("caption",["table"]):h.tag_name==="thead"?(v=v||this._tag_stack.try_pop("caption",["table"]),v=v||this._tag_stack.try_pop("colgroup",["table"])):h.tag_name==="tbody"||h.tag_name==="tfoot"?(v=v||this._tag_stack.try_pop("caption",["table"]),v=v||this._tag_stack.try_pop("colgroup",["table"]),v=v||this._tag_stack.try_pop("thead",["table"]),v=v||this._tag_stack.try_pop("tbody",["table"])):h.tag_name==="tr"?(v=v||this._tag_stack.try_pop("caption",["table"]),v=v||this._tag_stack.try_pop("colgroup",["table"]),v=v||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(h.tag_name==="th"||h.tag_name==="td")&&(v=v||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),v=v||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return h.parent=this._tag_stack.get_parser_token(),v}},vu.Beautifier=f,vu}var Kp;function Sx(){if(Kp)return So.exports;Kp=1;var t=xx().Beautifier,e=c_().Options;function a(n,r,i,o){var s=new t(n,r,i,o);return s.beautify()}return So.exports=a,So.exports.defaultOptions=function(){return new e},So.exports}var Yp;function Cx(){if(Yp)return ni;Yp=1;var t=_x(),e=bx(),a=Sx();function n(r,i,o,s){return o=o||t,s=s||e,a(r,i,o,s)}return n.defaultOptions=a.defaultOptions,ni.js=t,ni.css=e,ni.html=n,ni}(function(t){function e(a,n,r){var i=function(o,s){return a.js_beautify(o,s)};return i.js=a.js_beautify,i.css=n.css_beautify,i.html=r.html_beautify,i.js_beautify=a.js_beautify,i.css_beautify=n.css_beautify,i.html_beautify=r.html_beautify,i}(function(a){var n=Cx();n.js_beautify=n.js,n.css_beautify=n.css,n.html_beautify=n.html,a.exports=e(n,n,n)})(t)})(r_);var Ax=r_.exports;const Tx=d1(Ax);function Rt(t){return Array.isArray?Array.isArray(t):p_(t)==="[object Array]"}const Ex=1/0;function kx(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-Ex?"-0":e}function Mx(t){return t==null?"":kx(t)}function ht(t){return typeof t=="string"}function d_(t){return typeof t=="number"}function Dx(t){return t===!0||t===!1||Lx(t)&&p_(t)=="[object Boolean]"}function f_(t){return typeof t=="object"}function Lx(t){return f_(t)&&t!==null}function Ra(t){return t!=null}function gu(t){return!t.trim().length}function p_(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Px="Incorrect 'index' type",qx=t=>`Invalid value for key ${t}`,Ix=t=>`Pattern length exceeds max of ${t}.`,Rx=t=>`Missing ${t} property in key`,Ox=t=>`Property 'weight' in key '${t}' must be a positive integer`,Xp=Object.prototype.hasOwnProperty;class Bx{constructor(e){this._keys=[],this._keyMap={};let a=0;e.forEach(n=>{let r=h_(n);this._keys.push(r),this._keyMap[r.id]=r,a+=r.weight}),this._keys.forEach(n=>{n.weight/=a})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function h_(t){let e=null,a=null,n=null,r=1,i=null;if(ht(t)||Rt(t))n=t,e=Zp(t),a=zc(t);else{if(!Xp.call(t,"name"))throw new Error(Rx("name"));const o=t.name;if(n=o,Xp.call(t,"weight")&&(r=t.weight,r<=0))throw new Error(Ox(o));e=Zp(o),a=zc(o),i=t.getFn}return{path:e,id:a,weight:r,src:n,getFn:i}}function Zp(t){return Rt(t)?t:t.split(".")}function zc(t){return Rt(t)?t.join("."):t}function zx(t,e){let a=[],n=!1;const r=(i,o,s)=>{if(Ra(i))if(!o[s])a.push(i);else{let l=o[s];const u=i[l];if(!Ra(u))return;if(s===o.length-1&&(ht(u)||d_(u)||Dx(u)))a.push(Mx(u));else if(Rt(u)){n=!0;for(let c=0,d=u.length;c<d;c+=1)r(u[c],o,s+1)}else o.length&&r(u,o,s+1)}};return r(t,ht(e)?e.split("."):e,0),n?a:a[0]}const Nx={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Vx={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},jx={location:0,threshold:.6,distance:100},Fx={useExtendedSearch:!1,getFn:zx,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var he={...Vx,...Nx,...jx,...Fx};const Ux=/[^ ]+/g;function Gx(t=1,e=3){const a=new Map,n=Math.pow(10,e);return{get(r){const i=r.match(Ux).length;if(a.has(i))return a.get(i);const o=1/Math.pow(i,.5*t),s=parseFloat(Math.round(o*n)/n);return a.set(i,s),s},clear(){a.clear()}}}class af{constructor({getFn:e=he.getFn,fieldNormWeight:a=he.fieldNormWeight}={}){this.norm=Gx(a,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((a,n)=>{this._keysMap[a.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ht(this.docs[0])?this.docs.forEach((e,a)=>{this._addString(e,a)}):this.docs.forEach((e,a)=>{this._addObject(e,a)}),this.norm.clear())}add(e){const a=this.size();ht(e)?this._addString(e,a):this._addObject(e,a)}removeAt(e){this.records.splice(e,1);for(let a=e,n=this.size();a<n;a+=1)this.records[a].i-=1}getValueForItemAtKeyId(e,a){return e[this._keysMap[a]]}size(){return this.records.length}_addString(e,a){if(!Ra(e)||gu(e))return;let n={v:e,i:a,n:this.norm.get(e)};this.records.push(n)}_addObject(e,a){let n={i:a,$:{}};this.keys.forEach((r,i)=>{let o=r.getFn?r.getFn(e):this.getFn(e,r.path);if(Ra(o)){if(Rt(o)){let s=[];const l=[{nestedArrIndex:-1,value:o}];for(;l.length;){const{nestedArrIndex:u,value:c}=l.pop();if(Ra(c))if(ht(c)&&!gu(c)){let d={v:c,i:u,n:this.norm.get(c)};s.push(d)}else Rt(c)&&c.forEach((d,f)=>{l.push({nestedArrIndex:f,value:d})})}n.$[i]=s}else if(ht(o)&&!gu(o)){let s={v:o,n:this.norm.get(o)};n.$[i]=s}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function v_(t,e,{getFn:a=he.getFn,fieldNormWeight:n=he.fieldNormWeight}={}){const r=new af({getFn:a,fieldNormWeight:n});return r.setKeys(t.map(h_)),r.setSources(e),r.create(),r}function Hx(t,{getFn:e=he.getFn,fieldNormWeight:a=he.fieldNormWeight}={}){const{keys:n,records:r}=t,i=new af({getFn:e,fieldNormWeight:a});return i.setKeys(n),i.setIndexRecords(r),i}function Ao(t,{errors:e=0,currentLocation:a=0,expectedLocation:n=0,distance:r=he.distance,ignoreLocation:i=he.ignoreLocation}={}){const o=e/t.length;if(i)return o;const s=Math.abs(n-a);return r?o+s/r:s?1:o}function Wx(t=[],e=he.minMatchCharLength){let a=[],n=-1,r=-1,i=0;for(let o=t.length;i<o;i+=1){let s=t[i];s&&n===-1?n=i:!s&&n!==-1&&(r=i-1,r-n+1>=e&&a.push([n,r]),n=-1)}return t[i-1]&&i-n>=e&&a.push([n,i-1]),a}const jn=32;function Kx(t,e,a,{location:n=he.location,distance:r=he.distance,threshold:i=he.threshold,findAllMatches:o=he.findAllMatches,minMatchCharLength:s=he.minMatchCharLength,includeMatches:l=he.includeMatches,ignoreLocation:u=he.ignoreLocation}={}){if(e.length>jn)throw new Error(Ix(jn));const c=e.length,d=t.length,f=Math.max(0,Math.min(n,d));let p=i,m=f;const g=s>1||l,h=g?Array(d):[];let v;for(;(v=t.indexOf(e,m))>-1;){let A=Ao(e,{currentLocation:v,expectedLocation:f,distance:r,ignoreLocation:u});if(p=Math.min(A,p),m=v+c,g){let S=0;for(;S<c;)h[v+S]=1,S+=1}}m=-1;let _=[],y=1,x=c+d;const E=1<<c-1;for(let A=0;A<c;A+=1){let S=0,k=x;for(;S<k;)Ao(e,{errors:A,currentLocation:f+k,expectedLocation:f,distance:r,ignoreLocation:u})<=p?S=k:x=k,k=Math.floor((x-S)/2+S);x=k;let b=Math.max(1,f-k+1),M=o?d:Math.min(f+k,d)+c,D=Array(M+2);D[M+1]=(1<<A)-1;for(let P=M;P>=b;P-=1){let I=P-1,R=a[t.charAt(I)];if(g&&(h[I]=+!!R),D[P]=(D[P+1]<<1|1)&R,A&&(D[P]|=(_[P+1]|_[P])<<1|1|_[P+1]),D[P]&E&&(y=Ao(e,{errors:A,currentLocation:I,expectedLocation:f,distance:r,ignoreLocation:u}),y<=p)){if(p=y,m=I,m<=f)break;b=Math.max(1,2*f-m)}}if(Ao(e,{errors:A+1,currentLocation:f,expectedLocation:f,distance:r,ignoreLocation:u})>p)break;_=D}const w={isMatch:m>=0,score:Math.max(.001,y)};if(g){const A=Wx(h,s);A.length?l&&(w.indices=A):w.isMatch=!1}return w}function Yx(t){let e={};for(let a=0,n=t.length;a<n;a+=1){const r=t.charAt(a);e[r]=(e[r]||0)|1<<n-a-1}return e}class m_{constructor(e,{location:a=he.location,threshold:n=he.threshold,distance:r=he.distance,includeMatches:i=he.includeMatches,findAllMatches:o=he.findAllMatches,minMatchCharLength:s=he.minMatchCharLength,isCaseSensitive:l=he.isCaseSensitive,ignoreLocation:u=he.ignoreLocation}={}){if(this.options={location:a,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:s,isCaseSensitive:l,ignoreLocation:u},this.pattern=l?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(f,p)=>{this.chunks.push({pattern:f,alphabet:Yx(f),startIndex:p})},d=this.pattern.length;if(d>jn){let f=0;const p=d%jn,m=d-p;for(;f<m;)c(this.pattern.substr(f,jn),f),f+=jn;if(p){const g=d-jn;c(this.pattern.substr(g),g)}}else c(this.pattern,0)}searchIn(e){const{isCaseSensitive:a,includeMatches:n}=this.options;if(a||(e=e.toLowerCase()),this.pattern===e){let m={isMatch:!0,score:0};return n&&(m.indices=[[0,e.length-1]]),m}const{location:r,distance:i,threshold:o,findAllMatches:s,minMatchCharLength:l,ignoreLocation:u}=this.options;let c=[],d=0,f=!1;this.chunks.forEach(({pattern:m,alphabet:g,startIndex:h})=>{const{isMatch:v,score:_,indices:y}=Kx(e,m,g,{location:r+h,distance:i,threshold:o,findAllMatches:s,minMatchCharLength:l,includeMatches:n,ignoreLocation:u});v&&(f=!0),d+=_,v&&y&&(c=[...c,...y])});let p={isMatch:f,score:f?d/this.chunks.length:1};return f&&n&&(p.indices=c),p}}class vn{constructor(e){this.pattern=e}static isMultiMatch(e){return Qp(e,this.multiRegex)}static isSingleMatch(e){return Qp(e,this.singleRegex)}search(){}}function Qp(t,e){const a=t.match(e);return a?a[1]:null}class Xx extends vn{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const a=e===this.pattern;return{isMatch:a,score:a?0:1,indices:[0,this.pattern.length-1]}}}class Zx extends vn{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class Qx extends vn{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const a=e.startsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[0,this.pattern.length-1]}}}class Jx extends vn{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const a=!e.startsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[0,e.length-1]}}}class $x extends vn{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const a=e.endsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class eS extends vn{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const a=!e.endsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[0,e.length-1]}}}class g_ extends vn{constructor(e,{location:a=he.location,threshold:n=he.threshold,distance:r=he.distance,includeMatches:i=he.includeMatches,findAllMatches:o=he.findAllMatches,minMatchCharLength:s=he.minMatchCharLength,isCaseSensitive:l=he.isCaseSensitive,ignoreLocation:u=he.ignoreLocation}={}){super(e),this._bitapSearch=new m_(e,{location:a,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:s,isCaseSensitive:l,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class __ extends vn{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let a=0,n;const r=[],i=this.pattern.length;for(;(n=e.indexOf(this.pattern,a))>-1;)a=n+i,r.push([n,a-1]);const o=!!r.length;return{isMatch:o,score:o?0:1,indices:r}}}const Nc=[Xx,__,Qx,Jx,eS,$x,Zx,g_],Jp=Nc.length,aS=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,tS="|";function nS(t,e={}){return t.split(tS).map(a=>{let n=a.trim().split(aS).filter(i=>i&&!!i.trim()),r=[];for(let i=0,o=n.length;i<o;i+=1){const s=n[i];let l=!1,u=-1;for(;!l&&++u<Jp;){const c=Nc[u];let d=c.isMultiMatch(s);d&&(r.push(new c(d,e)),l=!0)}if(!l)for(u=-1;++u<Jp;){const c=Nc[u];let d=c.isSingleMatch(s);if(d){r.push(new c(d,e));break}}}return r})}const rS=new Set([g_.type,__.type]);class iS{constructor(e,{isCaseSensitive:a=he.isCaseSensitive,includeMatches:n=he.includeMatches,minMatchCharLength:r=he.minMatchCharLength,ignoreLocation:i=he.ignoreLocation,findAllMatches:o=he.findAllMatches,location:s=he.location,threshold:l=he.threshold,distance:u=he.distance}={}){this.query=null,this.options={isCaseSensitive:a,includeMatches:n,minMatchCharLength:r,findAllMatches:o,ignoreLocation:i,location:s,threshold:l,distance:u},this.pattern=a?e:e.toLowerCase(),this.query=nS(this.pattern,this.options)}static condition(e,a){return a.useExtendedSearch}searchIn(e){const a=this.query;if(!a)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;e=r?e:e.toLowerCase();let i=0,o=[],s=0;for(let l=0,u=a.length;l<u;l+=1){const c=a[l];o.length=0,i=0;for(let d=0,f=c.length;d<f;d+=1){const p=c[d],{isMatch:m,indices:g,score:h}=p.search(e);if(m){if(i+=1,s+=h,n){const v=p.constructor.type;rS.has(v)?o=[...o,...g]:o.push(g)}}else{s=0,i=0,o.length=0;break}}if(i){let d={isMatch:!0,score:s/i};return n&&(d.indices=o),d}}return{isMatch:!1,score:1}}}const Vc=[];function oS(...t){Vc.push(...t)}function jc(t,e){for(let a=0,n=Vc.length;a<n;a+=1){let r=Vc[a];if(r.condition(t,e))return new r(t,e)}return new m_(t,e)}const Is={AND:"$and",OR:"$or"},Fc={PATH:"$path",PATTERN:"$val"},Uc=t=>!!(t[Is.AND]||t[Is.OR]),sS=t=>!!t[Fc.PATH],lS=t=>!Rt(t)&&f_(t)&&!Uc(t),$p=t=>({[Is.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function y_(t,e,{auto:a=!0}={}){const n=r=>{let i=Object.keys(r);const o=sS(r);if(!o&&i.length>1&&!Uc(r))return n($p(r));if(lS(r)){const l=o?r[Fc.PATH]:i[0],u=o?r[Fc.PATTERN]:r[l];if(!ht(u))throw new Error(qx(l));const c={keyId:zc(l),pattern:u};return a&&(c.searcher=jc(u,e)),c}let s={children:[],operator:i[0]};return i.forEach(l=>{const u=r[l];Rt(u)&&u.forEach(c=>{s.children.push(n(c))})}),s};return Uc(t)||(t=$p(t)),n(t)}function uS(t,{ignoreFieldNorm:e=he.ignoreFieldNorm}){t.forEach(a=>{let n=1;a.matches.forEach(({key:r,norm:i,score:o})=>{const s=r?r.weight:null;n*=Math.pow(o===0&&s?Number.EPSILON:o,(s||1)*(e?1:i))}),a.score=n})}function cS(t,e){const a=t.matches;e.matches=[],Ra(a)&&a.forEach(n=>{if(!Ra(n.indices)||!n.indices.length)return;const{indices:r,value:i}=n;let o={indices:r,value:i};n.key&&(o.key=n.key.src),n.idx>-1&&(o.refIndex=n.idx),e.matches.push(o)})}function dS(t,e){e.score=t.score}function fS(t,e,{includeMatches:a=he.includeMatches,includeScore:n=he.includeScore}={}){const r=[];return a&&r.push(cS),n&&r.push(dS),t.map(i=>{const{idx:o}=i,s={item:e[o],refIndex:o};return r.length&&r.forEach(l=>{l(i,s)}),s})}class Gr{constructor(e,a={},n){this.options={...he,...a},this.options.useExtendedSearch,this._keyStore=new Bx(this.options.keys),this.setCollection(e,n)}setCollection(e,a){if(this._docs=e,a&&!(a instanceof af))throw new Error(Px);this._myIndex=a||v_(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Ra(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const a=[];for(let n=0,r=this._docs.length;n<r;n+=1){const i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,r-=1,a.push(i))}return a}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:a=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:i,sortFn:o,ignoreFieldNorm:s}=this.options;let l=ht(e)?ht(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return uS(l,{ignoreFieldNorm:s}),i&&l.sort(o),d_(a)&&a>-1&&(l=l.slice(0,a)),fS(l,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){const a=jc(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach(({v:i,i:o,n:s})=>{if(!Ra(i))return;const{isMatch:l,score:u,indices:c}=a.searchIn(i);l&&r.push({item:i,idx:o,matches:[{score:u,value:i,norm:s,indices:c}]})}),r}_searchLogical(e){const a=y_(e,this.options),n=(s,l,u)=>{if(!s.children){const{keyId:d,searcher:f}=s,p=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(l,d),searcher:f});return p&&p.length?[{idx:u,item:l,matches:p}]:[]}const c=[];for(let d=0,f=s.children.length;d<f;d+=1){const p=s.children[d],m=n(p,l,u);if(m.length)c.push(...m);else if(s.operator===Is.AND)return[]}return c},r=this._myIndex.records,i={},o=[];return r.forEach(({$:s,i:l})=>{if(Ra(s)){let u=n(a,s,l);u.length&&(i[l]||(i[l]={idx:l,item:s,matches:[]},o.push(i[l])),u.forEach(({matches:c})=>{i[l].matches.push(...c)}))}}),o}_searchObjectList(e){const a=jc(e,this.options),{keys:n,records:r}=this._myIndex,i=[];return r.forEach(({$:o,i:s})=>{if(!Ra(o))return;let l=[];n.forEach((u,c)=>{l.push(...this._findMatches({key:u,value:o[c],searcher:a}))}),l.length&&i.push({idx:s,item:o,matches:l})}),i}_findMatches({key:e,value:a,searcher:n}){if(!Ra(a))return[];let r=[];if(Rt(a))a.forEach(({v:i,i:o,n:s})=>{if(!Ra(i))return;const{isMatch:l,score:u,indices:c}=n.searchIn(i);l&&r.push({score:u,key:e,value:i,idx:o,norm:s,indices:c})});else{const{v:i,n:o}=a,{isMatch:s,score:l,indices:u}=n.searchIn(i);s&&r.push({score:l,key:e,value:i,norm:o,indices:u})}return r}}Gr.version="7.0.0";Gr.createIndex=v_;Gr.parseIndex=Hx;Gr.config=he;Gr.parseQuery=y_;oS(iS);const pS=Oe({__name:"CodeTranslator",props:{src:String},emits:["reset2Bash","translate"],setup(t,{expose:e,emit:a}){e();const{t:n}=Ze({useScope:"global"}),r=Va(),i=z("Bash"),o=z(!1),s=["Python","JavaScript","TypeScript","Java","C++","C#","Go","Rust","Ruby","PHP","Swift","Kotlin","Dart","Scala","Bash"],l=z(s),u=z(!1),c=z(!1),d=z(""),f=z(),p=t,m=a,g=(x,E)=>{if(x===""){E(()=>{l.value=s});return}E(()=>{const w=x.toLowerCase();l.value=s.filter(A=>A.toLowerCase().indexOf(w)>-1)})},h=()=>{i.value="Bash",c.value=!1,u.value=!1},v=async()=>{var E,w,A;if(i.value==="Bash"){m("reset2Bash");return}const x={parameters:{lang:i.value,curl:p.src}};o.value=!0,d.value="";try{const S=await fetch("https://api.promptperfect.jina.ai/q4WyOMb4lmmVGniJSgQi",{headers:{"content-type":"application/json"},body:JSON.stringify(x),method:"POST"});if(!S.ok)throw new Error(`HTTP error! status: ${S.status}`);if((E=S.headers.get("content-type"))!=null&&E.includes("text/event-stream")){if((w=f.value)==null||w.resetPrint(),S.body){const k=S.body.getReader(),b=new TextDecoder;for(;;){const{done:M,value:D}=await k.read();if(M)break;D&&(c.value=!0,u.value=!0,b.decode(D).split(`

`).forEach(I=>{const R=I.replace(/data: /g,"");R&&(d.value+=R)}))}}}else if((A=S.headers.get("content-type"))!=null&&A.includes("application/json")){const k=(await S.json()).data;u.value=!0,d.value=k}else throw new Error("Unknown response type")}catch(S){r.notify({color:"negative",message:n("landing_page.error",{message:S}),icon:"report_problem"})}finally{o.value=!1,c.value=!1}},y={t:n,$q:r,selected:i,isBusy:o,stringOptions:s,options:l,showTranslatedCode:u,isStreaming:c,translatedCode:d,typingRef:f,props:p,emit:m,filterFn:g,reset:h,translateCode:v,onUpdateLanguage:x=>{if(!(o.value||!x)){if(x==="Bash"){h();return}v()}},TypingText:k1};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}}),hS={class:"row justify-between items-center"};function vS(t,e,a,n,r,i){const o=Hd("q-markdown");return O(),j(Ie,{class:"q-pa-none"},{default:T(()=>[Te("div",hS,[C(Je,{icon:"upload",square:"",size:"sm",label:n.t("embedding.input"),class:"text-dim q-mr-sm",style:{"border-radius":"0"}},null,8,["label"]),C(Ya,{modelValue:n.selected,"onUpdate:modelValue":[e[0]||(e[0]=s=>n.selected=s),n.onUpdateLanguage],options:n.options,behavior:"menu","stack-label":"","options-selected-class":"text-primary","options-dense":"",clearable:n.selected!=="Bash",style:{width:"200px"},onFilter:n.filterFn,filled:"",square:"",dense:"",onClear:n.reset,label:n.t("translator.select_language"),disable:n.isBusy,loading:n.isBusy},null,8,["modelValue","options","clearable","label","disable","loading"])]),n.isStreaming?(O(),j(Yd,{key:0,indeterminate:"",size:"xs",class:"q-my-xs"})):ne("",!0),C(hn,{name:"list2"},{default:T(()=>[n.showTranslatedCode?(O(),j(n.TypingText,{key:0,ref:"typingRef",class:"q-pa-sm",text:n.translatedCode,loading:n.isStreaming,"show-copy":""},null,8,["text","loading"])):(O(),j(o,{src:a.src,"show-copy":"","no-line-numbers":"","copy-icon":"content_copy","copy-tooltip-text":n.t("copy"),key:"original","copy-response-text":n.t("copy_to_clipboard_success"),class:"q-pa-sm"},null,8,["src","copy-tooltip-text","copy-response-text"]))]),_:1})]),_:1})}const b_=Be(pS,[["render",vS],["__file","CodeTranslator.vue"]]),mS=t=>new Promise((e,a)=>{const n=new FileReader;n.readAsDataURL(t),n.onload=()=>e(n.result),n.onerror=a});var ce=(t=>(t.COMMON="common",t.ADVANCED="advanced",t))(ce||{}),$e=(t=>(t.READER="reader",t.SEARCH="search",t.GROUNDING="grounding",t))($e||{});const gS=Oe({__name:"BasicUsage",props:Oc({showHeader:Boolean},{rawQuery:{required:!0,type:String},rawQueryModifiers:{},rawUrl:{required:!0,type:String},rawUrlModifiers:{},rawGroundingQuestion:{required:!0,type:String},rawGroundingQuestionModifiers:{}}),emits:Oc(["update:expandedItem"],["update:rawQuery","update:rawUrl","update:rawGroundingQuestion"]),setup(t,{expose:e,emit:a}){e();const n=Va(),{t:r}=Ze({useScope:"global"}),i=z(!0),o=z(!1),s=z(!1),l=a;fl(()=>{i.value&&l("update:expandedItem",$e.READER),o.value&&l("update:expandedItem",$e.SEARCH),s.value&&l("update:expandedItem",$e.GROUNDING)});const u=Ir(t,"rawQuery"),c=Ir(t,"rawUrl"),d=Ir(t,"rawGroundingQuestion"),f={$q:n,t:r,isReaderExpanded:i,isSearchExpanded:o,isGroundingExpanded:s,emit:l,rawQuery:u,rawUrl:c,rawGroundingQuestion:d,get copyToClipboard(){return fo},get redirect(){return Et}};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}}),_S=["innerHTML"],yS=["innerHTML"],bS=["innerHTML"],wS={class:"col-12 row q-pt-lg"};function xS(t,e,a,n,r,i){return O(),ye(Me,null,[C($l,{group:"somegroup",modelValue:n.isReaderExpanded,"onUpdate:modelValue":e[3]||(e[3]=o=>n.isReaderExpanded=o),"header-class":n.isReaderExpanded?"text-primary text-bold":void 0},{header:T(()=>[C(X,{avatar:""},{default:T(()=>[C(Zl,{icon:"double_arrow"})]),_:1}),C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[Te("span",{innerHTML:n.t("reader.demo.basic_usage1")},null,8,_S)]),_:1}),C(K,{caption:"",class:"text-dim"},{default:T(()=>[V(B(n.t("reader.demo.how_to_use1")),1)]),_:1})]),_:1})]),default:T(()=>[C(le,{class:"row items-center q-gutter-x-md wrap-sm wrap-xs"},{default:T(()=>[C(Ne,{square:"",filled:"",modelValue:n.rawUrl,"onUpdate:modelValue":e[0]||(e[0]=o=>n.rawUrl=o),class:"col-md col-sm-12 col-xs-12",label:n.t("reader.demo.your_url")},null,8,["modelValue","label"]),C(me,{name:n.$q.screen.gt.sm?"arrow_forward":"arrow_downward",size:"sm",class:"col-auto"},null,8,["name"]),C(Ne,{square:"",outlined:"",readonly:"",prefix:"https://r.jina.ai/","model-value":n.rawUrl,class:"col-md col-sm-12 col-xs-12",label:n.t("reader.demo.reader_url")},{append:T(()=>[C(ve,{flat:"",dense:"",square:"",icon:"content_copy",onClick:e[1]||(e[1]=o=>n.copyToClipboard("https://r.jina.ai/"+n.rawUrl))},{default:T(()=>[C(ze,null,{default:T(()=>[V(B(n.t("reader.demo.copy")),1)]),_:1})]),_:1}),C(ve,{flat:"",dense:"",square:"",icon:"open_in_new",onClick:e[2]||(e[2]=o=>n.redirect("https://r.jina.ai/"+n.rawUrl))},{default:T(()=>[C(ze,null,{default:T(()=>[V(B(n.t("reader.demo.open")),1)]),_:1})]),_:1})]),_:1},8,["model-value","label"])]),_:1})]),_:1},8,["modelValue","header-class"]),C($l,{group:"somegroup",modelValue:n.isSearchExpanded,"onUpdate:modelValue":e[7]||(e[7]=o=>n.isSearchExpanded=o),"header-class":n.isSearchExpanded?"text-primary text-bold":void 0},{header:T(()=>[C(X,{avatar:""},{default:T(()=>[C(Zl,{icon:"search"})]),_:1}),C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[Te("span",{innerHTML:n.t("reader.demo.basic_usage2")},null,8,yS)]),_:1}),C(K,{caption:"",class:"text-dim"},{default:T(()=>[V(B(n.t("reader.demo.how_to_use2")),1)]),_:1})]),_:1})]),default:T(()=>[C(le,{class:"row items-center q-gutter-x-md wrap-sm wrap-xs"},{default:T(()=>[C(Ne,{square:"",filled:"",modelValue:n.rawQuery,"onUpdate:modelValue":e[4]||(e[4]=o=>n.rawQuery=o),class:"col-md col-sm-12 col-xs-12",label:n.t("reader.demo.your_query")},null,8,["modelValue","label"]),C(me,{name:n.$q.screen.gt.sm?"arrow_forward":"arrow_downward",size:"sm",class:"col-auto"},null,8,["name"]),C(Ne,{square:"",outlined:"",readonly:"",prefix:"https://s.jina.ai/","model-value":n.rawQuery,class:"col-md col-sm-12 col-xs-12",label:n.t("reader.demo.reader_url")},{prepend:T(()=>[C(me,{name:"key",color:"warning"},{default:T(()=>[C(ze,null,{default:T(()=>[V(B(n.t("reader.demo.key_required")),1)]),_:1})]),_:1})]),append:T(()=>[C(ve,{flat:"",dense:"",square:"",icon:"content_copy",onClick:e[5]||(e[5]=o=>n.copyToClipboard("https://s.jina.ai/"+n.rawQuery))},{default:T(()=>[C(ze,null,{default:T(()=>[V(B(n.t("reader.demo.copy")),1)]),_:1})]),_:1}),C(ve,{flat:"",dense:"",square:"",icon:"open_in_new",onClick:e[6]||(e[6]=o=>n.redirect("https://s.jina.ai/"+n.rawQuery))},{default:T(()=>[C(ze,null,{default:T(()=>[V(B(n.t("reader.demo.open")),1)]),_:1})]),_:1})]),_:1},8,["model-value","label"])]),_:1})]),_:1},8,["modelValue","header-class"]),C($l,{group:"somegroup",modelValue:n.isGroundingExpanded,"onUpdate:modelValue":e[9]||(e[9]=o=>n.isGroundingExpanded=o),"header-class":n.isGroundingExpanded?"text-primary text-bold":void 0},{header:T(()=>[C(X,{avatar:""},{default:T(()=>[C(Zl,{icon:"fact_check"})]),_:1}),C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[Te("span",{innerHTML:n.t("reader.demo.basic_usage3")},null,8,bS)]),_:1}),C(K,{caption:"",class:"text-dim"},{default:T(()=>[V(B(n.t("reader.demo.how_to_use3")),1)]),_:1})]),_:1}),C(X,{side:"",top:""},{default:T(()=>[C(Je,{icon:"o_science",label:n.t("reader.beta"),size:"sm",square:"",outline:"",style:{"border-radius":"0"},class:"text-warning"},null,8,["label"])]),_:1})]),default:T(()=>[C(le,{class:"row items-center q-gutter-x-md wrap-xs wrap-sm"},{default:T(()=>[C(Ne,{square:"",filled:"",modelValue:n.rawGroundingQuestion,"onUpdate:modelValue":e[8]||(e[8]=o=>n.rawGroundingQuestion=o),class:"col-md col-sm-12 col-xs-12",label:n.t("reader.demo.your_query")},null,8,["modelValue","label"]),C(me,{name:n.$q.screen.gt.sm?"arrow_forward":"arrow_downward",size:"sm",class:"col-auto"},null,8,["name"]),C(Ne,{square:"",outlined:"",readonly:"",prefix:"https://g.jina.ai/","model-value":n.rawGroundingQuestion,class:"col-md col-sm-12 col-xs-12",label:n.t("reader.demo.reader_url")},{prepend:T(()=>[C(me,{name:"key",color:"warning"},{default:T(()=>[C(ze,null,{default:T(()=>[V(B(n.t("reader.demo.key_required")),1)]),_:1})]),_:1})]),_:1},8,["model-value","label"]),Te("div",wS,[C(ve,{square:"",outline:"",to:"/news/fact-checking-with-new-grounding-api-in-jina-reader",label:n.t("reader.read_grounding_release_note"),"icon-right":"arrow_forward"},null,8,["label"])])]),_:1})]),_:1},8,["modelValue","header-class"])],64)}const SS=Be(gS,[["render",xS],["__file","BasicUsage.vue"]]),CS=Oe({__name:"BaseParams",props:{param:{}},setup(t,{expose:e}){e();const{t:a}=Ze({useScope:"global"}),n=t,r=(p,m)=>{p.trim().length>0&&m(p.trim(),"add-unique")},i=Un("toggleRef"),o=Un("multiTextRef"),s=(p,m)=>{var g;p.relatedTarget!==((g=i.value)==null?void 0:g.$el)&&m.value.length===0&&m.setIndicator(!1)};fl(()=>{n.param.type==="multi-text"?n.param.indicator&&Lt(()=>{var p;(p=o.value)==null||p.focus()}):n.param.type==="text"?n.param.indicator&&Lt(()=>{var p;(p=l.value)==null||p.focus()}):n.param.type==="textarea"&&n.param.indicator&&Lt(()=>{var p;(p=c.value)==null||p.focus()})});const l=Un("textRef"),u=(p,m)=>{var g;p.relatedTarget!==((g=i.value)==null?void 0:g.$el)&&(m.value||m.setIndicator(!1))},c=Un("textareaRef"),f={t:a,props:n,createValue:r,toggleRef:i,multiTextRef:o,onMultiTextBlur:s,textRef:l,onTextBlur:u,textareaRef:c,onTextareaBlur:(p,m)=>{var g;p.relatedTarget!==((g=i.value)==null?void 0:g.$el)&&(m.value||m.setIndicator(!1))},get QInput(){return Ne},get QSelect(){return Ya},get QToggle(){return qt}};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}}),AS={class:"ellipsis"};function TS(t,e,a,n,r,i){return O(),ye("div",null,[C(le,{tag:"label"},{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[V(B(n.t(`reader.demo.headers.${a.param.label}`))+" ",1),a.param.postOnly?(O(),j(Je,{key:0,label:"POST",size:"xs",class:"bg-mixed-300",square:""},{default:T(()=>[C(ze,{"max-width":"240px"},{default:T(()=>[V(B(n.t("reader.demo.requires_post_method")),1)]),_:1})]),_:1})):ne("",!0)]),_:1}),C(K,{caption:""},{default:T(()=>[V(B(n.t(`reader.demo.headers.${a.param.label}_explain`)),1)]),_:1}),a.param.url?(O(),j(K,{key:0,caption:"",class:"q-pt-sm"},{default:T(()=>[C(ve,{href:a.param.url,label:n.t("reader.demo.learn_more"),size:"xs",outline:"",square:"",icon:"open_in_new",target:"_blank"},null,8,["href","label"])]),_:1})):ne("",!0)]),_:1}),a.param.hideIndicator?ne("",!0):(O(),j(X,{key:0,side:""},{default:T(()=>[C(n.QToggle,{disable:a.param.disabled,"model-value":a.param.indicator,"onUpdate:modelValue":e[0]||(e[0]=o=>a.param.setIndicator(o)),ref:"toggleRef"},null,8,["disable","model-value"])]),_:1})),a.param.type==="selector"?(O(),j(X,{key:1,side:""},{default:T(()=>[C(n.QSelect,{options:a.param.options,"model-value":a.param.value,"onUpdate:modelValue":e[1]||(e[1]=o=>a.param.set(o)),filled:"",square:"","emit-value":"","map-options":""},{option:T(o=>[C(le,Ls(Ps(o.itemProps)),{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[V(B(n.t(`reader.demo.headers.${o.opt.value}`)),1)]),_:2},1024),C(K,{caption:""},{default:T(()=>[V(B(n.t(`reader.demo.headers.${o.opt.value}_explain`)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["options","model-value"])]),_:1})):ne("",!0),a.param.type==="number"?(O(),j(X,{key:2,side:""},{default:T(()=>[C(n.QInput,{"model-value":a.param.value,"onUpdate:modelValue":e[2]||(e[2]=o=>a.param.set(o)),filled:"",square:"",type:"number",style:{"max-width":"100px"},disable:!a.param.indicator,placeholder:a.param.placeholder},null,8,["model-value","disable","placeholder"])]),_:1})):ne("",!0),a.param.type==="file"?(O(),j(X,{key:3,side:""},{default:T(()=>[C(Kg,{filled:"",square:"","model-value":a.param.value,"onUpdate:modelValue":e[4]||(e[4]=o=>a.param.set(o)),accept:".pdf,.html",style:{"max-width":"200px"}},Gd({prepend:T(()=>[C(me,{name:"upload"})]),_:2},[a.param.value?{name:"append",fn:T(()=>[C(me,{name:"close",onClick:e[3]||(e[3]=Qt(o=>a.param.set(null),["stop","prevent"])),class:"cursor-pointer"})]),key:"0"}:void 0]),1032,["model-value"])]),_:1})):ne("",!0)]),_:1}),a.param.type==="multi-text"?Pt((O(),j(le,{key:0},{default:T(()=>[C(X,null,{default:T(()=>[C(n.QSelect,{ref:"multiTextRef",filled:"",square:"","model-value":a.param.value,"onUpdate:modelValue":e[5]||(e[5]=o=>a.param.set(o)),"use-input":"","use-chips":"",multiple:"",onNewValue:n.createValue,onRemove:e[6]||(e[6]=o=>a.param.remove(o.index)),onBlur:e[7]||(e[7]=o=>n.onMultiTextBlur(o,a.param)),"hide-dropdown-icon":"","input-debounce":"0",style:{"max-width":"100%"}},{selected:T(()=>[(O(!0),ye(Me,null,ra(a.param.value,o=>(O(),j(Je,{dense:"",key:o,square:"","text-color":"primary",class:"bg-mixed-300"},{default:T(()=>[Te("div",AS,[V(B(o)+" ",1),C(ze,null,{default:T(()=>[V(B(o),1)]),_:2},1024)])]),_:2},1024))),128))]),_:1},8,["model-value"])]),_:1})]),_:1},512)),[[Mi,a.param.indicator]]):ne("",!0),a.param.type==="text"?Pt((O(),j(le,{key:1},{default:T(()=>[C(X,null,{default:T(()=>[C(n.QInput,{ref:"textRef",onBlur:e[8]||(e[8]=o=>n.onTextBlur(o,a.param)),"model-value":a.param.value,"onUpdate:modelValue":e[9]||(e[9]=o=>a.param.set(o)),filled:"",square:"",type:"text",disable:!a.param.indicator,placeholder:a.param.placeholder},null,8,["model-value","disable","placeholder"])]),_:1})]),_:1},512)),[[Mi,a.param.indicator]]):ne("",!0),a.param.type==="textarea"?Pt((O(),j(le,{key:2},{default:T(()=>[C(n.QInput,{ref:"textareaRef",onBlur:e[10]||(e[10]=o=>n.onTextareaBlur(o,a.param)),"model-value":a.param.value,"onUpdate:modelValue":e[11]||(e[11]=o=>a.param.set(o)),filled:"",square:"",type:"textarea",disable:!a.param.indicator,placeholder:a.param.placeholder,class:"full-width","input-style":"font-family: monospace"},null,8,["model-value","disable","placeholder"])]),_:1},512)),[[Mi,a.param.indicator]]):ne("",!0)])}const tf=Be(CS,[["render",TS],["__file","BaseParams.vue"]]);function nf(t,e){const a=z({headers:{},searchParameters:{},post:!1,file:null,customScripts:[]});return Ds(()=>a.value.post,n=>{n?a.value.headers["Content-Type"]="application/json":delete a.value.headers["Content-Type"]},{immediate:!0}),Ds(a,n=>{e("update:output",n)},{deep:!0}),tr(async()=>{for(const n of t)typeof n.init=="function"&&await n.init()}),{output:a}}const ES=Oe({__name:"ReaderParams",props:{filter:{type:Function}},emits:["update:output"],setup(t,{expose:e,emit:a}){e();const{t:n}=Ze({useScope:"global"}),r=oa(),{apiKey:i}=Ge(r),o=a,s=z([{type:"indicator",header:"Authorization",value:`Bearer ${i.value}`,label:"auth_token",url:"/reader#rate-limit",get disabled(){return!i.value},indicator:!!i.value,setIndicator(c){this.indicator=c,c===!1?delete l.value.headers[this.header]:l.value.headers[this.header]=this.value},set(c){this.setIndicator(c)},classification:ce.COMMON,async init(){i.value&&this.set(!0)}},{type:"indicator",body:"url",value:!0,label:"post_with_url",url:"https://github.com/jina-ai/reader?tab=readme-ov-file#spas-with-hash-based-routing",indicator:!1,setIndicator(c){this.indicator=c,l.value.post=c},set(c){this.setIndicator(c)},classification:ce.COMMON},{type:"selector",header:"Return-Format",value:"default",label:"return_format",hideIndicator:!0,get options(){return[{label:n("reader.demo.headers.default"),value:"default"},{label:n("reader.demo.headers.markdown"),value:"markdown"},{label:n("reader.demo.headers.html"),value:"html"},{label:n("reader.demo.headers.text"),value:"text"},{label:n("reader.demo.headers.screenshot"),value:"screenshot"},{label:n("reader.demo.headers.pageshot"),value:"pageshot"}]},set(c){typeof c=="string"&&(this.value=c,c==="default"?delete l.value.headers["X-Return-Format"]:l.value.headers["X-Return-Format"]=c)},classification:ce.ADVANCED},{type:"number",header:"X-Timeout",value:10,label:"x_timeout",indicator:!1,setIndicator(c){this.indicator=c,c===!1?delete l.value.headers[this.header]:this.set(this.value)},set(c){typeof c=="string"&&parseInt(c)>0?(this.value=parseInt(c),l.value.headers[this.header]=`${this.value}`):typeof c=="number"&&c>0&&(this.value=c,l.value.headers[this.header]=`${this.value}`)},classification:ce.ADVANCED},{type:"multi-text",header:"X-Target-Selector",value:["body",".class","#id"],label:"target_selector",indicator:!1,setIndicator(c){this.indicator=c,c===!1?delete l.value.headers[this.header]:this.set(this.value)},set(c){this.value=c,l.value.headers[this.header]=this.value.join(", ")},add(c){this.value.push(c),this.set(this.value)},remove(c){this.value.splice(c,1),this.set(this.value)},classification:ce.ADVANCED},{type:"multi-text",header:"X-Wait-For-Selector",value:["body",".class","#id"],label:"wait_for_selector",indicator:!1,setIndicator(c){this.indicator=c,c===!1?delete l.value.headers[this.header]:this.set(this.value)},set(c){this.value=c,l.value.headers[this.header]=this.value.join(", ")},add(c){this.value.push(c),this.set(this.value)},remove(c){this.value.splice(c,1),this.set(this.value)},classification:ce.ADVANCED},{type:"multi-text",header:"X-Remove-Selector",value:["header",".class","#id"],label:"remove_selector",indicator:!1,setIndicator(c){this.indicator=c,c===!1?delete l.value.headers[this.header]:this.set(this.value)},set(c){this.value=c,l.value.headers[this.header]=this.value.join(", ")},add(c){this.value.push(c),this.set(this.value)},remove(c){this.value.splice(c,1),this.set(this.value)},classification:ce.ADVANCED},{type:"indicator",header:"X-Retain-Images",value:"none",label:"remove_all_images",indicator:!1,setIndicator(c){this.indicator=c,c===!1?delete l.value.headers[this.header]:l.value.headers[this.header]=this.value},set(c){this.setIndicator(c)},classification:ce.ADVANCED},{type:"indicator",header:"X-With-Links-Summary",value:!0,label:"links_summary",get disabled(){var c;return((c=s.value.findLast(d=>d.label==="return_format"))==null?void 0:c.value)!=="default"},indicator:!1,setIndicator(c){this.indicator=c,c===!1?delete l.value.headers[this.header]:l.value.headers[this.header]=this.value},set(c){this.setIndicator(c)},classification:ce.ADVANCED},{type:"indicator",header:"X-With-Images-Summary",value:!0,label:"images_summary",get disabled(){var c;return((c=s.value.findLast(d=>d.label==="return_format"))==null?void 0:c.value)!=="default"},indicator:!1,setIndicator(c){this.indicator=c,c===!1?delete l.value.headers[this.header]:l.value.headers[this.header]=this.value},set(c){this.setIndicator(c)},classification:ce.ADVANCED},{type:"indicator",header:"Accept",value:"application/json",label:"json_response",indicator:!1,setIndicator(c){if(this.indicator=c,c===!1)delete l.value.headers[this.header];else{const d=s.value.filter(f=>f.header===this.header&&f.label!==this.label);for(const f of d)f.setIndicator(!1);l.value.headers[this.header]=this.value}},set(c){this.setIndicator(c)},classification:ce.COMMON},{type:"multi-text",header:"X-Set-Cookie",value:["<cookie-name>=<cookie-value>","<cookie-name-1>=<cookie-value>; domain=<cookie-1-domain>"],label:"set_cookie",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie",indicator:!1,setIndicator(c){this.indicator=c,c===!1?delete l.value.headers[this.header]:this.set(this.value)},set(c){this.value=c,l.value.headers[this.header]=this.value.join(", ")},add(c){this.value.push(c),this.set(this.value)},remove(c){this.value.splice(c,1),this.set(this.value)},classification:ce.ADVANCED},{type:"indicator",header:"X-With-Generated-Alt",value:!0,label:"image_caption",get disabled(){var c;return((c=s.value.findLast(d=>d.label==="return_format"))==null?void 0:c.value)!=="default"},indicator:!1,setIndicator(c){this.indicator=c,c===!1?delete l.value.headers[this.header]:l.value.headers[this.header]=this.value},set(c){this.setIndicator(c)},classification:ce.ADVANCED},{type:"text",header:"X-Proxy-Url",value:"http://your_proxy_server.com",label:"proxy_server",url:"https://en.wikipedia.org/wiki/Proxy_server",indicator:!1,setIndicator(c){this.indicator=c,c===!1?delete l.value.headers[this.header]:this.set(this.value)},set(c){typeof c=="string"||typeof c=="number"?(this.value=c.toString(),l.value.headers[this.header]=this.value):this.setIndicator(!1)},classification:ce.COMMON},{type:"indicator",header:"X-No-Cache",value:!0,label:"no_cache",indicator:!1,setIndicator(c){this.indicator=c,c===!1?delete l.value.headers[this.header]:l.value.headers[this.header]=this.value},set(c){this.setIndicator(c)},classification:ce.COMMON},{type:"selector",header:"X-No-Gfm",value:"with_gfm",label:"opt_out_gfm",hideIndicator:!0,get options(){return[{label:n("reader.demo.headers.with_gfm"),value:"with_gfm"},{label:n("reader.demo.headers.no_gfm"),value:"no_gfm"},{label:n("reader.demo.headers.no_gfm_table"),value:"no_gfm_table"}]},set(c){switch(this.value=`${c}`,c){case"with_gfm":{delete l.value.headers["X-No-Gfm"];break}case"no_gfm":{l.value.headers["X-No-Gfm"]="true";break}case"no_gfm_table":{l.value.headers["X-No-Gfm"]="table";break}default:delete l.value.headers["X-No-Gfm"]}},classification:ce.ADVANCED},{type:"indicator",header:"Accept",value:"text/event-stream",label:"stream_mode",url:"https://github.com/jina-ai/reader?tab=readme-ov-file#streaming-mode",indicator:!1,setIndicator(c){if(this.indicator=c,c===!1)delete l.value.headers[this.header];else{const d=s.value.filter(f=>f.header===this.header&&f.label!==this.label);for(const f of d)f.setIndicator(!1);l.value.headers[this.header]=this.value}},set(c){this.setIndicator(c)},classification:ce.ADVANCED},{type:"text",header:"X-Locale",value:"en-US",label:"browser_locale",url:"https://developer.mozilla.org/en-US/docs/Web/API/Navigator/language",indicator:!1,setIndicator(c){this.indicator=c,c===!1?delete l.value.headers[this.header]:this.set(this.value)},set(c){typeof c=="string"||typeof c=="number"?(this.value=c.toString(),l.value.headers[this.header]=this.value):this.setIndicator(!1)},classification:ce.COMMON},{type:"indicator",header:"X-With-Iframe",value:!0,label:"with_iframe",indicator:!1,setIndicator(c){this.indicator=c,c===!1?delete l.value.headers[this.header]:l.value.headers[this.header]=this.value},set(c){this.setIndicator(c)},classification:ce.ADVANCED},{type:"indicator",header:"X-With-Shadow-Dom",value:!0,label:"with_shadow_dom",indicator:!1,setIndicator(c){this.indicator=c,c===!1?delete l.value.headers[this.header]:l.value.headers[this.header]=this.value},set(c){this.setIndicator(c)},classification:ce.ADVANCED},{type:"file",value:null,label:"file",hideIndicator:!0,postOnly:!0,set(c){if(typeof c=="boolean"){l.value.file=null,this.value=null;return}c?(s.value.findLast(f=>f.label==="post_with_url").setIndicator(!0),l.value.file=c,this.value=c):(l.value.file=null,this.value=null)},classification:ce.ADVANCED},{type:"textarea",value:`// Remove headers, footers, navigation elements
document.querySelectorAll('header, footer, nav').forEach(el => el.remove());

// Or a url that returns a valid JavaScript code snippet
// https://example.com/script.js`,label:"custom_script",indicator:!1,url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript",postOnly:!0,setIndicator(c){this.indicator=c,c===!1?l.value.customScripts=[]:this.set(this.value)},set(c){typeof c=="string"||typeof c=="number"?(s.value.findLast(f=>f.label==="post_with_url").setIndicator(!0),this.value=c.toString(),l.value.customScripts=[this.value]):this.setIndicator(!1)},classification:ce.ADVANCED}]),{output:l}=nf(s.value,o),u={t:n,embeddingStore:r,apiKey:i,emit:o,params:s,output:l,BaseParams:tf};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}});function kS(t,e,a,n,r,i){return O(),j(hn,{name:"list2"},{default:T(()=>[(O(!0),ye(Me,null,ra(a.filter(n.params),o=>(O(),j(n.BaseParams,{key:o.label,param:o},null,8,["param"]))),128))]),_:1})}const MS=Be(ES,[["render",kS],["__file","ReaderParams.vue"]]),DS=Oe({__name:"SearchParams",props:{filter:{type:Function}},emits:["update:output"],setup(t,{expose:e,emit:a}){e();const{t:n}=Ze({useScope:"global"}),r=oa(),{apiKey:i}=Ge(r),o=a,s=z([{type:"indicator",header:"Authorization",value:`Bearer ${i.value}`,label:"auth_token",url:"/reader#rate-limit",disabled:!0,indicator:!!i.value,setIndicator(c){this.indicator=c,c===!1?delete l.value.headers[this.header]:l.value.headers[this.header]=this.value},set(c){this.setIndicator(c)},classification:ce.COMMON,async init(){i.value&&this.set(!0)}},{type:"indicator",body:"url",value:!0,label:"post_with_url",url:"https://github.com/jina-ai/reader?tab=readme-ov-file#spas-with-hash-based-routing",indicator:!1,setIndicator(c){this.indicator=c,l.value.post=c},set(c){this.setIndicator(c)},classification:ce.COMMON},{type:"selector",header:"Return-Format",value:"default",label:"return_format",hideIndicator:!0,get options(){return[{label:n("reader.demo.headers.default"),value:"default"},{label:n("reader.demo.headers.markdown"),value:"markdown"},{label:n("reader.demo.headers.html"),value:"html"},{label:n("reader.demo.headers.text"),value:"text"},{label:n("reader.demo.headers.screenshot"),value:"screenshot"},{label:n("reader.demo.headers.pageshot"),value:"pageshot"}]},set(c){typeof c=="string"&&(this.value=c,c==="default"?delete l.value.headers["X-Return-Format"]:l.value.headers["X-Return-Format"]=c)},classification:ce.ADVANCED},{type:"text",header:"X-Site",value:"https://jina.ai",label:"site_selector",indicator:!1,setIndicator(c){this.indicator=c,c===!1?delete l.value.headers[this.header]:this.set(this.value)},set(c){typeof c=="string"||typeof c=="number"?(this.value=c.toString(),l.value.headers[this.header]=this.value):this.setIndicator(!1)},classification:ce.ADVANCED},{type:"indicator",header:"X-With-Links-Summary",value:!0,label:"links_summary",get disabled(){var c;return((c=s.value.findLast(d=>d.label==="return_format"))==null?void 0:c.value)!=="default"},indicator:!1,setIndicator(c){this.indicator=c,c===!1?delete l.value.headers[this.header]:l.value.headers[this.header]=this.value},set(c){this.setIndicator(c)},classification:ce.ADVANCED},{type:"indicator",header:"X-Retain-Images",value:"none",label:"remove_all_images",indicator:!1,setIndicator(c){this.indicator=c,c===!1?delete l.value.headers[this.header]:l.value.headers[this.header]=this.value},set(c){this.setIndicator(c)},classification:ce.ADVANCED,async init(){this.set(!0)}},{type:"indicator",header:"X-With-Images-Summary",value:!0,label:"images_summary",get disabled(){var c;return((c=s.value.findLast(d=>d.label==="return_format"))==null?void 0:c.value)!=="default"},indicator:!1,setIndicator(c){this.indicator=c,c===!1?delete l.value.headers[this.header]:l.value.headers[this.header]=this.value},set(c){this.setIndicator(c)},classification:ce.ADVANCED},{type:"indicator",header:"Accept",value:"application/json",label:"json_response",indicator:!1,setIndicator(c){if(this.indicator=c,c===!1)delete l.value.headers[this.header];else{const d=s.value.filter(f=>f.header===this.header&&f.label!==this.label);for(const f of d)f.setIndicator(!1);l.value.headers[this.header]=this.value}},set(c){this.setIndicator(c)},classification:ce.COMMON},{type:"multi-text",header:"X-Set-Cookie",value:["<cookie-name>=<cookie-value>","<cookie-name-1>=<cookie-value>; domain=<cookie-1-domain>"],label:"set_cookie",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie",indicator:!1,setIndicator(c){this.indicator=c,c===!1?delete l.value.headers[this.header]:this.set(this.value)},set(c){this.value=c,l.value.headers[this.header]=this.value.join(", ")},add(c){this.value.push(c),this.set(this.value)},remove(c){this.value.splice(c,1),this.set(this.value)},classification:ce.ADVANCED},{type:"indicator",header:"X-With-Generated-Alt",value:!0,label:"image_caption",get disabled(){var c;return((c=s.value.findLast(d=>d.label==="return_format"))==null?void 0:c.value)!=="default"},indicator:!1,setIndicator(c){this.indicator=c,c===!1?delete l.value.headers[this.header]:l.value.headers[this.header]=this.value},set(c){this.setIndicator(c)},classification:ce.ADVANCED},{type:"text",header:"X-Proxy-Url",value:"http://your_proxy_server.com",label:"proxy_server",url:"https://en.wikipedia.org/wiki/Proxy_server",indicator:!1,setIndicator(c){this.indicator=c,c===!1?delete l.value.headers[this.header]:this.set(this.value)},set(c){typeof c=="string"||typeof c=="number"?(this.value=c.toString(),l.value.headers[this.header]=this.value):this.setIndicator(!1)},classification:ce.COMMON},{type:"indicator",header:"X-No-Cache",value:!0,label:"no_cache",indicator:!1,setIndicator(c){this.indicator=c,c===!1?delete l.value.headers[this.header]:l.value.headers[this.header]=this.value},set(c){this.setIndicator(c)},classification:ce.COMMON},{type:"selector",header:"X-No-Gfm",value:"with_gfm",label:"no_gfm",hideIndicator:!0,get options(){return[{label:n("reader.demo.headers.no_gfm"),value:"no_gfm"},{label:n("reader.demo.headers.no_gfm_table"),value:"no_gfm_table"},{label:n("reader.demo.headers.with_gfm"),value:"with_gfm"}]},set(c){c&&c!=="with_gfm"?(this.value=`${c}`,l.value.headers["X-No-Gfm"]=`${c}`):(this.value="with_gfm",delete l.value.headers["X-Return-Format"])},classification:ce.ADVANCED},{type:"indicator",header:"Accept",value:"text/event-stream",label:"stream_mode",url:"https://github.com/jina-ai/reader?tab=readme-ov-file#streaming-mode",indicator:!1,setIndicator(c){if(this.indicator=c,c===!1)delete l.value.headers[this.header];else{const d=s.value.filter(f=>f.header===this.header&&f.label!==this.label);for(const f of d)f.setIndicator(!1);l.value.headers[this.header]=this.value}},set(c){this.setIndicator(c)},classification:ce.ADVANCED},{type:"text",header:"X-Locale",value:"en-US",label:"browser_locale",url:"https://developer.mozilla.org/en-US/docs/Web/API/Navigator/language",indicator:!1,setIndicator(c){this.indicator=c,c===!1?delete l.value.headers[this.header]:this.set(this.value)},set(c){typeof c=="string"||typeof c=="number"?(this.value=c.toString(),l.value.headers[this.header]=this.value):this.setIndicator(!1)},classification:ce.COMMON}]),{output:l}=nf(s.value,o),u={t:n,embeddingStore:r,apiKey:i,emit:o,params:s,output:l,BaseParams:tf};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}});function LS(t,e,a,n,r,i){return O(),j(hn,{name:"list2"},{default:T(()=>[(O(!0),ye(Me,null,ra(a.filter(n.params),o=>(O(),j(n.BaseParams,{key:o.label,param:o},null,8,["param"]))),128))]),_:1})}const PS=Be(DS,[["render",LS],["__file","SearchParams.vue"]]),qS=Oe({__name:"GroundingParams",props:{filter:{type:Function}},emits:["update:output"],setup(t,{expose:e,emit:a}){e();const n=oa(),{apiKey:r}=Ge(n),i=a,o=z([{type:"indicator",header:"Authorization",value:`Bearer ${r.value}`,label:"auth_token",url:"/reader#rate-limit",disabled:!0,indicator:!!r.value,setIndicator(u){this.indicator=u,u===!1?delete s.value.headers[this.header]:s.value.headers[this.header]=this.value},set(u){this.setIndicator(u)},classification:ce.COMMON,async init(){r.value&&this.set(!0)}},{type:"indicator",body:"url",value:!0,label:"post_with_url",url:"https://github.com/jina-ai/reader?tab=readme-ov-file#spas-with-hash-based-routing",indicator:!1,setIndicator(u){this.indicator=u,s.value.post=u},set(u){this.setIndicator(u)},classification:ce.COMMON},{type:"multi-text",header:"X-Site",value:["https://jina.ai","https://linkedin.com"],label:"references",url:"https://jina.ai/news/fact-checking-with-new-grounding-api-in-jina-reader/",indicator:!1,setIndicator(u){this.indicator=u,u===!1?delete s.value.headers[this.header]:this.set(this.value)},set(u){this.value=u,s.value.headers[this.header]=this.value.join(", ")},add(u){this.value.push(u),this.set(this.value)},remove(u){this.value.splice(u,1),this.set(this.value)},classification:ce.ADVANCED},{type:"indicator",header:"Accept",value:"application/json",label:"json_response",indicator:!1,setIndicator(u){if(this.indicator=u,u===!1)delete s.value.headers[this.header];else{const c=o.value.filter(d=>d.header===this.header&&d.label!==this.label);for(const d of c)d.setIndicator(!1);s.value.headers[this.header]=this.value}},set(u){this.setIndicator(u)},classification:ce.COMMON,async init(){this.set(!0)}},{type:"text",header:"X-Proxy-Url",value:"http://your_proxy_server.com",label:"proxy_server",url:"https://en.wikipedia.org/wiki/Proxy_server",indicator:!1,setIndicator(u){this.indicator=u,u===!1?delete s.value.headers[this.header]:this.set(this.value)},set(u){typeof u=="string"||typeof u=="number"?(this.value=u.toString(),s.value.headers[this.header]=this.value):u===null&&this.setIndicator(!1)},classification:ce.COMMON},{type:"indicator",header:"X-No-Cache",value:!0,label:"no_cache",indicator:!1,setIndicator(u){this.indicator=u,u===!1?delete s.value.headers[this.header]:s.value.headers[this.header]=this.value},set(u){this.setIndicator(u)},classification:ce.COMMON},{type:"text",header:"X-Locale",value:"en-US",label:"browser_locale",url:"https://developer.mozilla.org/en-US/docs/Web/API/Navigator/language",indicator:!1,setIndicator(u){this.indicator=u,u===!1?delete s.value.headers[this.header]:this.set(this.value)},set(u){typeof u=="string"||typeof u=="number"?(this.value=u.toString(),s.value.headers[this.header]=this.value):u===null&&this.setIndicator(!1)},classification:ce.COMMON},{type:"indicator",search:"deepdive",value:!1,label:"deepdive",indicator:!1,setIndicator(u){this.indicator=u,u?s.value.searchParameters.deepdive=`${u}`:delete s.value.searchParameters.deepdive},set(u){this.setIndicator(u)},classification:ce.ADVANCED}]),{output:s}=nf(o.value,i),l={embeddingStore:n,apiKey:r,emit:i,params:o,output:s,BaseParams:tf};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}});function IS(t,e,a,n,r,i){return O(),j(hn,{name:"list2"},{default:T(()=>[(O(!0),ye(Me,null,ra(a.filter(n.params),o=>(O(),j(n.BaseParams,{key:o.label,param:o},null,8,["param"]))),128))]),_:1})}const RS=Be(qS,[["render",IS],["__file","GroundingParams.vue"]]),OS=Oe({__name:"APIPanel",props:{code:{},loading:{type:Boolean},response:{},showInfo:{type:Boolean,default:!0},maxHeight:{default:"300px"}},emits:["execute"],setup(t,{expose:e,emit:a}){e();const n={200:"OK",201:"Created",204:"No Content",301:"Moved Permanently",400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",408:"Request Timeout",405:"Method Not Allowed",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout"},r=t,i=a,o=oa(),{t:s}=Ze({useScope:"global"}),l=z(0),u=z();fl(()=>{if(r.loading){clearInterval(u.value),l.value=0;const h=Date.now();u.value=setInterval(()=>{l.value=Date.now()-h},100)}else clearInterval(u.value)});const c=H(()=>{const h=Math.floor(l.value/1e3),v=Math.floor(l.value%1e3/100);return`${h}.${v} s`}),d=H(()=>l.value?`${s("reader.demo.get_response").toUpperCase()} (${c.value})`:s("reader.demo.get_response").toUpperCase()),f=H(()=>{var h,v,_,y,x,E,w,A,S,k,b,M,D,L,P,I,R,U;if(((h=r.response)==null?void 0:h.status)===200){if((_=(v=r.response)==null?void 0:v.data)!=null&&_.usage)return((E=(x=(y=r.response)==null?void 0:y.data)==null?void 0:x.usage)==null?void 0:E.total_tokens)||((S=(A=(w=r.response)==null?void 0:w.data)==null?void 0:A.usage)==null?void 0:S.tokens);if((D=(M=(b=(k=r.response)==null?void 0:k.data)==null?void 0:b.content)==null?void 0:M.data)!=null&&D.usage)return(U=(R=(I=(P=(L=r.response)==null?void 0:L.data)==null?void 0:P.content)==null?void 0:I.data)==null?void 0:R.usage)==null?void 0:U.tokens}}),p=H(()=>{var v,_;const h=(v=r.response)==null?void 0:v.data;if(!h)return"";if(h.content)switch(h.type){case"json":return fp(h.content);case"image":return`![screenshot-image](${h.content})`;default:return`\`\`\`text
${h.content}
\`\`\``}else return fp((_=r.response)==null?void 0:_.data)}),m=H(()=>{var h;if((h=r.response)!=null&&h.status){if(r.response.status===200)return"positive";if(r.response.status>=400)return"negative"}else return"";return""}),g={STATUS_MSG:n,props:r,emit:i,embeddingStore:o,t:s,responseTime:l,interval:u,responseTimeString:c,responseLabel:d,tokens:f,responseString:p,statusColor:m,CodeTranslator:b_,get formatNumber(){return Yg},get isUndefined(){return dw}};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}}),BS={class:"row items-center text-dim justify-between"},zS={class:"col-auto no-wrap ellipsis"},NS={key:0,style:{"font-size":"10px"}},VS={class:"col-auto no-wrap"};function jS(t,e,a,n,r,i){const o=Hd("q-markdown");return O(),j(Ie,{class:"col q-pa-none"},{default:T(()=>[up(t.$slots,"request",{},()=>[C(n.CodeTranslator,{src:a.code},null,8,["src"])]),C(Ye),C(ve,{label:n.responseLabel,"no-caps":"",onClick:e[0]||(e[0]=s=>n.emit("execute")),disable:a.loading,class:"full-width",icon:"send",flat:"",square:"",padding:"lg"},null,8,["label","disable"]),a.loading||n.responseString?(O(),j(Ye,{key:0})):ne("",!0),t.$slots.visualization?(O(),ye(Me,{key:1},[C(Ie,{class:"q-pa-none"},{default:T(()=>[up(t.$slots,"visualization")]),_:3}),C(Ye)],64)):ne("",!0),!a.loading&&n.responseString?(O(),j(Ie,{key:2,class:"q-pa-none"},{default:T(()=>{var s,l;return[Te("div",BS,[C(Je,{icon:"download",square:"",size:"sm",label:n.t("embedding.output"),class:"text-dim q-mr-sm",style:{"border-radius":"0"}},null,8,["label"]),Te("div",zS,[C(Je,{square:"",size:"sm",class:"bh-transparent text-dim"},{default:T(()=>{var u,c;return[C(me,{name:"o_fiber_manual_record",color:n.statusColor,size:"xs",class:"q-mr-xs"},null,8,["color"]),V(" "+B(`${(u=a.response)==null?void 0:u.status} ${(c=a.response)!=null&&c.status?n.STATUS_MSG[a.response.status]||"Error":""}`),1)]}),_:1}),(s=a.response)!=null&&s.statusText?(O(),ye("span",NS,[V(B((l=a.response)==null?void 0:l.statusText)+" ",1),C(ze,null,{default:T(()=>{var u;return[V(B((u=a.response)==null?void 0:u.statusText),1)]}),_:1})])):ne("",!0)]),C(co),Te("div",VS,[C(Je,{icon:"timer",label:`${n.responseTimeString}`,size:"sm",class:"text-dim"},null,8,["label"]),n.isUndefined(n.tokens)?ne("",!0):(O(),j(Je,{key:0,icon:"straighten",label:`${n.formatNumber(n.tokens)} ${n.t("embedding.tokens")}`,size:"sm",class:"text-dim"},null,8,["label"]))])]),C(o,{src:n.responseString,"no-line-numbers":"","copy-tooltip-text":n.t("copy"),"copy-icon":"content_copy","show-copy":!n.responseString.startsWith("![screenshot-image]"),"copy-response-text":n.t("copy_to_clipboard_success"),style:f1({maxHeight:n.embeddingStore.showMaximized?"unset":a.maxHeight}),class:"overflow-auto q-pa-sm"},null,8,["src","copy-tooltip-text","show-copy","copy-response-text","style"])]}),_:1})):a.loading?(O(),j(Ie,{key:3},{default:T(()=>[(O(),ye(Me,null,ra([0,1,2,3],s=>C(M1,{key:s,class:"q-my-xs",width:s>0?"":"100px",type:"text"},null,8,["width"])),64))]),_:1})):ne("",!0)]),_:3})}const po=Be(OS,[["render",jS],["__file","APIPanel.vue"]]),FS=Oe({__name:"UsageHeader",props:{homeLink:{},issueLink:{},isSupportCSP:{type:Boolean,default:!0},faqLink:{},apiLink:{},statusLink:{default:"https://status.jina.ai"}},setup(t,{expose:e}){e();const a=nr(),{settings:n}=Ge(a),r=oa(),{showMaximized:i}=Ge(r),{t:o}=Ze({useScope:"global"}),s={userStore:a,settings:n,embeddingStore:r,showMaximized:i,t:o,get cloudPartners(){return p1}};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),US={class:"text-no-wrap"},GS={class:"text-no-wrap"};function HS(t,e,a,n,r,i){return O(),ye("div",null,[C(V1,{shrink:"","no-caps":"",dense:"","inline-label":!n.showMaximized,"indicator-color":"transparent",class:"full-width"},{default:T(()=>[C(gn,{class:"q-pa-none","content-class":"q-pa-none"},{default:T(()=>[C(ve,{flat:"",icon:"home",to:a.homeLink,"aria-label":"home",square:"",stretch:"",padding:"md"},{default:T(()=>[C(ze,null,{default:T(()=>[V(B(n.t("landing_page.go_to_product_homepage")),1)]),_:1})]),_:1},8,["to"])]),_:1}),C(gn,{class:"q-py-none","content-class":"q-pa-none"},{default:T(()=>[C(qt,{modelValue:n.settings.enableAutoAPIRequest,"onUpdate:modelValue":e[0]||(e[0]=o=>n.settings.enableAutoAPIRequest=o),class:"q-pr-xs",label:n.t("embedding.auto_request")},{default:T(()=>[C(ze,{"max-width":"200px"},{default:T(()=>[V(B(n.t("embedding.auto_request_tooltip")),1)]),_:1})]),_:1},8,["modelValue","label"])]),_:1}),a.issueLink?(O(),j(gn,{key:0,class:"q-pa-none","content-class":"q-pa-none"},{default:T(()=>[C(ve,{flat:"","no-caps":"",stretch:"",padding:"md",href:a.issueLink,target:"_blank"},{default:T(()=>[Te("span",US,[C(me,{name:"forum",class:"on-left"}),V(" "+B(n.t("embedding.raise_issue")),1)])]),_:1},8,["href"])]),_:1})):ne("",!0),a.isSupportCSP?(O(),j(gn,{key:1,class:"q-pa-none","content-class":"q-pa-none"},{default:T(()=>[C(pp,{flat:"",stretch:"","no-wrap":"","no-caps":"",unelevated:"",icon:"cloud",align:"left",padding:"md",label:n.t("embedding.oncsp")},{default:T(()=>[(O(!0),ye(Me,null,ra(n.cloudPartners,(o,s)=>(O(),j(le,{key:s,href:o.link,target:"_blank",disable:o.disabled},{default:T(()=>[C(X,{avatar:""},{default:T(()=>[C(me,{name:o.icon},null,8,["name"])]),_:2},1024),C(X,null,{default:T(()=>[V(B(o.label),1)]),_:2},1024)]),_:2},1032,["href","disable"]))),128))]),_:1},8,["label"])]),_:1})):ne("",!0),a.faqLink?(O(),j(gn,{key:2,class:"q-pa-none","content-class":"q-pa-none"},{default:T(()=>[C(ve,{flat:"",stretch:"","no-wrap":"",padding:"md",label:n.t("contact_us_page.faq"),icon:"help_outline",href:a.faqLink},null,8,["label","href"])]),_:1})):ne("",!0),C(co),a.apiLink?(O(),j(gn,{key:3,class:"q-pa-none","content-class":"q-pa-none"},{default:T(()=>[typeof a.apiLink=="string"?(O(),j(ve,{key:0,flat:"","no-caps":"",stretch:"",icon:"api",href:a.apiLink,padding:"md",target:"_blank"},null,8,["href"])):ne("",!0),Array.isArray(a.apiLink)?(O(),j(pp,{key:1,flat:"","no-caps":"",stretch:"",padding:"md",icon:"api"},{default:T(()=>[(O(!0),ye(Me,null,ra(a.apiLink,o=>(O(),j(le,{key:o,href:o,target:"_blank",class:"q-pa-md"},{default:T(()=>[V(B(o),1)]),_:2},1032,["href"]))),128))]),_:1})):ne("",!0)]),_:1})):ne("",!0),C(gn,{class:"q-pa-none","content-class":"q-pa-none"},{default:T(()=>[C(ve,{href:a.statusLink,"no-caps":"",flat:"",square:"",target:"_blank",stretch:"",padding:"md",class:"text-no-wrap"},{default:T(()=>[Te("span",GS,[C(D1,{color:"green-13",class:"q-mr-xs"}),V(" "+B(n.t("footer.status_short")),1)])]),_:1},8,["href"])]),_:1})]),_:1},8,["inline-label"])])}const ho=Be(FS,[["render",HS],["__file","UsageHeader.vue"]]),WS=Oe({__name:"UsageComponent",setup(t,{expose:e}){e();const{t:a,te:n}=Ze({useScope:"global"}),r=Va(),i=z("https://example.com"),o=z("When was Jina AI founded?"),s=z("In 2012, President Barack Hussein Obama repealed the Smith-Mundt act, which had been in place in 1948. The law prevented the government from putting its propaganda on TV and Radio."),l=nr(),{settings:u}=Ge(l),c=z(),d=z($e.READER),f={[$e.READER]:MS,[$e.SEARCH]:PS,[$e.GROUNDING]:RS},p={[$e.READER]:"1400px",[$e.SEARCH]:"900px",[$e.GROUNDING]:"300px"},m=z([ce.COMMON,ce.ADVANCED]),g=H(()=>[{label:a("reader.demo.common_parameters"),explain:a("reader.demo.common_parameter_explain",{_product1:"Reader",_product2:"Search",_product3:"Grounding"}),value:ce.COMMON},{label:a("reader.demo.advanced_parameters"),explain:a("reader.demo.advanced_parameter_explain",{_product:d.value[0].toUpperCase()+d.value.slice(1)}),value:ce.ADVANCED}]),h=z(""),v=H(()=>R=>(R=R.filter(N=>m.value.includes(N.classification)),h.value?new Gr(R,{keys:[{name:"label",getFn:N=>n(`reader.demo.headers.${N.label}`)?a(`reader.demo.headers.${N.label}`):N.label},{name:"header",getFn:N=>{var W;return(W=N.header)!=null?W:""}},{name:"search",getFn:N=>{var W;return(W=N.search)!=null?W:""}}],isCaseSensitive:!1}).search(h.value).map(N=>N.item):R)),_=H(()=>({[$e.READER]:{url:i.value},[$e.SEARCH]:{q:o.value},[$e.GROUNDING]:{statement:s.value}})),y=H(()=>`https://${{[$e.READER]:"r",[$e.SEARCH]:"s",[$e.GROUNDING]:"g"}[d.value]}.jina.ai/`),x=H(()=>{var N,W;if((N=c.value)!=null&&N.post)return y.value;const R=`${y.value}${{[$e.READER]:i.value,[$e.SEARCH]:o.value,[$e.GROUNDING]:s.value}[d.value]}`,U=new URL(R);for(const[Q,re]of Object.entries(((W=c.value)==null?void 0:W.searchParameters)||{}))if(Array.isArray(re))for(const ue of re)U.searchParams.append(Q,ue);else re&&U.searchParams.set(Q,re);return U.toString()}),E=z(!1),w=z({}),A=async()=>{r.dialog({title:a("reader.demo.warn_grounding_title"),message:a("reader.demo.warn_grounding_message"),cancel:!0}).onOk(async()=>{await k()})},S=async()=>{d.value===$e.GROUNDING?await A():await k()},k=async()=>{var W,Q,re,ue,J,ie,F,G,ee;const R={};for(const[$,Z]of Object.entries(((W=c.value)==null?void 0:W.headers)||{}))Z&&(typeof Z=="string"?R[$]=Z:typeof Z=="boolean"?R[$]=Z.toString():Array.isArray(Z)&&(R[$]=Z.join(", ")));const U={method:"GET",headers:void 0};if((Q=c.value)!=null&&Q.post){U.method="POST";const $={..._.value[d.value]};((re=c.value)==null?void 0:re.file)instanceof File&&((ue=c.value)!=null&&ue.file.name.endsWith(".pdf")?$.pdf=(await mS((J=c.value)==null?void 0:J.file)).slice(28):$.html=await((ie=c.value)==null?void 0:ie.file.text())),(G=(F=c.value)==null?void 0:F.customScripts)!=null&&G.length&&($.injectPageScript=c.value.customScripts),(ee=c.value)!=null&&ee.searchParameters&&Object.assign($,c.value.searchParameters),U.body=JSON.stringify($),R["Content-Type"]="application/json"}Object.keys(R).length>0&&(U.headers=R);const N=R.Accept==="application/json";E.value=!0,w.value={},fetch(x.value,U).then($=>{var Z;return w.value={status:$.status,statusText:$.statusText},N?$.json().then(pe=>({type:"json",content:pe})):(Z=$.headers.get("content-type"))!=null&&Z.startsWith("image")?{type:"image",content:$.url}:$.text().then(pe=>({type:"text",content:pe}))}).then($=>{E.value=!1,w.value={...w.value,data:$}}).catch($=>console.error("Error:",$)).finally(()=>E.value=!1)},b=H(()=>{var re,ue,J,ie,F;let R="",U="GET";if((re=c.value)!=null&&re.post){U="POST";const G={..._.value[d.value]};c.value.file instanceof File&&(c.value.file.name.endsWith(".pdf")?G.pdf="<BASE_64_OF_YOUR_PDF_FILE>":G.html="<HTML_CONTENT>"),(J=(ue=c.value)==null?void 0:ue.customScripts)!=null&&J.length&&(G.injectPageScript=c.value.customScripts),(ie=c.value)!=null&&ie.searchParameters&&Object.assign(G,c.value.searchParameters),R="body: JSON.stringify("+JSON.stringify(G)+"),"}const N={};for(const[G,ee]of Object.entries(((F=c.value)==null?void 0:F.headers)||{}))ee&&(typeof ee=="string"?N[G]=ee:typeof ee=="boolean"?N[G]=ee.toString():Array.isArray(ee)&&(N[G]=ee.join(", ")));const W=Object.keys(N).length>0?`headers: ${JSON.stringify(N)},`:"",Q=`fetch('${x.value}', {method: '${U}',${R}${W}})`.trim();return`
\`\`\`javascript
${Tx.js(Q,{indent_size:2})}
\`\`\`
  `}),M=H(()=>{var W,Q,re,ue,J,ie,F;const R=[];for(const[G,ee]of Object.entries(((W=c.value)==null?void 0:W.headers)||{}))if(ee){if(typeof ee=="string")R.push(`${G}: ${ee}`);else if(typeof ee=="boolean")R.push(`${G}: ${ee.toString()}`);else if(Array.isArray(ee))for(const $ of ee)R.push(`${G}: ${$}`)}const U=[`curl ${x.value}`,...R.sort().map(G=>`  -H "${G}"`)],N={};return(Q=c.value)!=null&&Q.post&&(Object.assign(N,_.value[d.value]),((re=c.value)==null?void 0:re.file)instanceof File&&((ue=c.value)!=null&&ue.file.name.endsWith(".pdf")?N.pdf="<BASE_64_OF_YOUR_PDF_FILE>":N.html="<HTML_CONTENT>"),(ie=(J=c.value)==null?void 0:J.customScripts)!=null&&ie.length&&(N.injectPageScript=c.value.customScripts),(F=c.value)!=null&&F.searchParameters&&Object.assign(N,c.value.searchParameters),U.push(`  -d @- <<EOFEOF
  {
    ${JSON.stringify(N,null,4).slice(1,-1).trim()}
  }
EOFEOF`)),`
\`\`\`bash
${U.join(` \\
`)}
\`\`\`
  `});let D=null;const L=Un("componentRef"),P=()=>{var U;const R=(U=L.value)==null?void 0:U.$el;R instanceof HTMLElement?(D=new IntersectionObserver(N=>{N[0].isIntersecting&&(u.value.enableAutoAPIRequest&&S(),D==null||D.disconnect())},{root:null,threshold:.1}),D.observe(R)):console.error("Element is not an HTMLElement:",R)};tr(()=>{Lt(()=>{setTimeout(()=>{P()},100)})}),cl(()=>{D&&D.disconnect()});const I={t:a,te:n,$q:r,rawUrl:i,rawQuery:o,rawGroundingQuestion:s,userStore:l,settings:u,output:c,readerMode:d,MODE_COMPONENT:f,responseHeight:p,paramClassifications:m,paramClassificationOptions:g,query:h,paramsFilter:v,MODE_BODY:_,BASE_URL:y,BASE_URL_WITH_QUERY:x,isBusy:E,exampleResponse:w,confirmBeforeExecuteCode:A,executeAdaptableJSCode:S,executeAdaptableJSCodeNoConfirm:k,jsCode:b,bashCode:M,get observer(){return D},set observer(R){D=R},componentRef:L,initIntersectionObserver:P,get QCardSection(){return Ie},CodeTranslator:b_,BasicUsage:SS,APIPanel:po,UsageHeader:ho};return Object.defineProperty(I,"__isScriptSetup",{enumerable:!1,value:!0}),I}});function KS(t,e,a,n,r,i){const o=Hd("q-markdown");return O(),j(ba,{flat:"",class:"column no-wrap full-height"},{default:T(()=>[C(n.UsageHeader,{"home-link":"/reader","issue-link":"https://github.com/jina-ai/reader/issues","faq-link":"/reader#faq","is-support-c-s-p":!1,"api-link":["https://r.jina.ai/docs","https://s.jina.ai/docs","https://g.jina.ai/docs"]}),C(Ye),C(n.QCardSection,{ref:"componentRef",class:"q-pa-none"},{default:T(()=>[C(_t,{class:"q-gutter-y-sm"},{default:T(()=>[C(n.BasicUsage,{"raw-url":n.rawUrl,"onUpdate:rawUrl":e[0]||(e[0]=s=>n.rawUrl=s),"raw-query":n.rawQuery,"onUpdate:rawQuery":e[1]||(e[1]=s=>n.rawQuery=s),"show-header":!0,"raw-grounding-question":n.rawGroundingQuestion,"onUpdate:rawGroundingQuestion":e[2]||(e[2]=s=>n.rawGroundingQuestion=s),"onUpdate:expandedItem":e[3]||(e[3]=s=>n.readerMode=s)},null,8,["raw-url","raw-query","raw-grounding-question"]),C(ba,{flat:"",square:""},{default:T(()=>[C(Ye),C(n.QCardSection,{horizontal:n.$q.screen.gt.sm,class:"q-pa-none"},{default:T(()=>[C(n.QCardSection,{class:"col-md-6 col-lg-5 col-xl-4 q-pa-none"},{default:T(()=>[C(_t,null,{default:T(()=>[C(le,{class:"row q-pa-none"},{default:T(()=>[C(Ne,{filled:"",square:"",label:n.t("reader.demo.search_params"),modelValue:n.query,"onUpdate:modelValue":e[5]||(e[5]=s=>n.query=s),class:"full-width full-height"},{prepend:T(()=>[C(Ya,{filled:"",square:"",modelValue:n.paramClassifications,"onUpdate:modelValue":e[4]||(e[4]=s=>n.paramClassifications=s),options:n.paramClassificationOptions,label:n.t("reader.demo.params_classification"),multiple:"","emit-value":"","map-options":""},{prepend:T(()=>[C(me,{name:"o_filter_alt",size:"xs"})]),option:T(({itemProps:s,opt:l,selected:u,toggleOption:c})=>[C(le,dl(s,{style:{"max-width":"400px"}}),{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[V(B(l.label),1)]),_:2},1024),C(K,{caption:""},{default:T(()=>[V(B(l.explain),1)]),_:2},1024)]),_:2},1024),C(X,{side:""},{default:T(()=>[C(qt,{"model-value":u,"onUpdate:modelValue":d=>c(l)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","label"])]),_:1},8,["label","modelValue"])]),_:1}),(O(),j(Hg(n.MODE_COMPONENT[n.readerMode]),{"onUpdate:output":e[6]||(e[6]=s=>n.output=s),filter:n.paramsFilter},null,40,["filter"]))]),_:1})]),_:1}),C(Ye,{vertical:n.$q.screen.gt.sm},null,8,["vertical"]),C(n.APIPanel,{code:n.bashCode,onExecute:n.executeAdaptableJSCode,loading:n.isBusy,response:n.exampleResponse,"max-height":n.responseHeight[n.readerMode]},{request:T(()=>[C(n.CodeTranslator,{src:n.bashCode},null,8,["src"]),C(Ye),C(n.QCardSection,{class:"q-pa-none"},{default:T(()=>[C(Je,{icon:"upload",square:"",size:"sm",label:`${n.t("embedding.input")} (javascript)`,class:"text-dim q-mr-sm",style:{"border-radius":"0"}},null,8,["label"]),C(o,{src:n.jsCode,"show-copy":"","no-line-numbers":"","copy-tooltip-text":n.t("copy"),class:"q-pa-sm","copy-icon":"content_copy","copy-response-text":n.t("copy_to_clipboard_success")},null,8,["src","copy-tooltip-text","copy-response-text"])]),_:1})]),_:1},8,["code","loading","response","max-height"])]),_:1},8,["horizontal"])]),_:1})]),_:1})]),_:1},512)]),_:1})}const kR=Be(WS,[["render",KS],["__file","UsageComponent.vue"]]),YS=Oe({__name:"EmbeddingDemoComponent",emits:["focusRerankerTab"],setup(t,{expose:e,emit:a}){e();const n=Va(),r=nr(),{settings:i}=Ge(r),o=oa(),{apiKey:s}=Ge(o),{t:l}=Ze({useScope:"global"}),u=z(null),c=J=>{var ie,F,G,ee,$,Z,pe,te,oe,He;u.value=J,((ie=u.value)==null?void 0:ie.name)==="jina-embeddings-v2-base-zh"?M.value=w:((F=u.value)==null?void 0:F.name)==="jina-embeddings-v2-base-de"?M.value=A:((G=u.value)==null?void 0:G.name)==="jina-embeddings-v2-base-code"?M.value=k:((ee=u.value)==null?void 0:ee.name)==="jina-embeddings-v2-base-es"?M.value=S:(($=u.value)==null?void 0:$.name)==="jina-embeddings-v2-base-en"?M.value=E:(pe=(Z=u.value)==null?void 0:Z.tags)!=null&&pe.includes("multimodal")?(g.value=1024,M.value=((te=u.value)==null?void 0:te.meta_data.language)==="multilingual"?x:y):((oe=u.value)==null?void 0:oe.name)==="jina-colbert-v1-en"?M.value=E:((He=u.value)==null?void 0:He.name)==="jina-colbert-v2"?(g.value=128,M.value=b):(g.value=1024,M.value=b),i.value.enableAutoAPIRequest&&re()},d=z("float"),f=z([{label:"embedding.return_binary",value:"binary",icon:"money"},{label:"embedding.return_ubinary",value:"ubinary",icon:"o_money"},{label:"embedding.return_base64",value:"base64",icon:"short_text"},{label:"embedding.return_float",value:"float",icon:"123"}]),p=z(!0),m=z(!1),g=z(128),h=z("text-matching"),v=z(!1),_=a,y=[{value:"A blue cat",type:"text"},{value:"A red dog",type:"text"},{value:"btw to represent image u can either use URL or encode image into base64 like below.",type:"text"},{value:"https://i.pinimg.com/600x315/21/48/7e/21487e8e0970dd366dafaed6ab25d8d8.jpg",type:"image"},{value:"R0lGODlhEAAQAMQAAORHHOVSKudfOulrSOp3WOyDZu6QdvCchPGolfO0o/XBs/fNwfjZ0frl3/zy7////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAkAABAALAAAAAAQABAAAAVVICSOZGlCQAosJ6mu7fiyZeKqNKToQGDsM8hBADgUXoGAiqhSvp5QAnQKGIgUhwFUYLCVDFCrKUE1lBavAViFIDlTImbKC5Gm2hB0SlBCBMQiB0UjIQA7",type:"image"}],x=[{value:"A beautiful sunset over the beach",type:"text"},{value:"Un beau coucher de soleil sur la plage",type:"text"},{value:"海滩上美丽的日落",type:"text"},{value:"浜辺に沈む美しい夕日",type:"text"},{value:"https://i.ibb.co/nQNGqL0/beach1.jpg",type:"image"},{value:"https://i.ibb.co/r5w8hG8/beach2.jpg",type:"image"}],E=[{value:"Your text string goes here",type:"text"},{value:"You can send multiple texts",type:"text"},{value:"Each text can be up to 8192 tokens long",type:"text"}],w=[{value:"您的查询可以是中文",type:"text"},{value:"or in English only",type:"text"},{value:"或是query-doc中英混杂的like this one.",type:"text"},{value:"每个文本最多可以有8192个词元",type:"text"}],A=[{value:"Heute ist ein wunderschöner Tag. Die Sonne scheint, und die Vögel singen.",type:"text"},{value:"Today is a beautiful day. The sun is shining, and the birds are singing.",type:"text"},{value:"Today ist ein wunderschöner Tag. The sun scheint, und die birds are singing.",type:"text"},{value:"Jeder Text kann bis zu 8192 Token lang sein.",type:"text"}],S=[{value:"El sol brilla intensamente hoy.",type:"text"},{value:"The sky is clear and blue.",type:"text"},{value:"I love going to the playa, it is so relaxing, ¿no?",type:"text"},{value:"Cada texto puede tener hasta 8192 tokens.",type:"text"}],k=[{type:"text",value:"Calculates the square of a number. Parameters: number (int or float) - The number to square. Returns: int or float - The square of the number."},{type:"text",value:"This function calculates the square of a number you give it."},{type:"text",value:"def square(number): return number ** 2"},{type:"text",value:"print(square(5))"},{type:"text",value:"Output: 25"},{type:"text",value:"Each text can be up to 8192 tokens long"}],b=[{type:"text",value:"Organic skincare for sensitive skin with aloe vera and chamomile: Imagine the soothing embrace of nature with our organic skincare range, crafted specifically for sensitive skin. Infused with the calming properties of aloe vera and chamomile, each product provides gentle nourishment and protection. Say goodbye to irritation and hello to a glowing, healthy complexion."},{type:"text",value:"Bio-Hautpflege für empfindliche Haut mit Aloe Vera und Kamille: Erleben Sie die wohltuende Wirkung unserer Bio-Hautpflege, speziell für empfindliche Haut entwickelt. Mit den beruhigenden Eigenschaften von Aloe Vera und Kamille pflegen und schützen unsere Produkte Ihre Haut auf natürliche Weise. Verabschieden Sie sich von Hautirritationen und genießen Sie einen strahlenden Teint."},{type:"text",value:"Cuidado de la piel orgánico para piel sensible con aloe vera y manzanilla: Descubre el poder de la naturaleza con nuestra línea de cuidado de la piel orgánico, diseñada especialmente para pieles sensibles. Enriquecidos con aloe vera y manzanilla, estos productos ofrecen una hidratación y protección suave. Despídete de las irritaciones y saluda a una piel radiante y saludable."},{type:"text",value:"针对敏感肌专门设计的天然有机护肤产品：体验由芦荟和洋甘菊提取物带来的自然呵护。我们的护肤产品特别为敏感肌设计，温和滋润，保护您的肌肤不受刺激。让您的肌肤告别不适，迎来健康光彩。"},{type:"text",value:"新しいメイクのトレンドは鮮やかな色と革新的な技術に焦点を当てています: 今シーズンのメイクアップトレンドは、大胆な色彩と革新的な技術に注目しています。ネオンアイライナーからホログラフィックハイライターまで、クリエイティビティを解き放ち、毎回ユニークなルックを演出しましょう。"}],M=z(b),D=z("document"),L=z([{label:"embedding.query",value:"query"},{label:"embedding.document",value:"document"}]),P=H(()=>{var J;return(J=u.value)==null?void 0:J.request_path.includes("multi-vector")}),I=H(()=>{var J,ie;return!((ie=(J=u.value)==null?void 0:J.tags)!=null&&ie.includes("multimodal"))||!m.value?M.value:M.value.filter(F=>F.type!=="image")||[]}),R=H(()=>{var J;return((J=u.value)==null?void 0:J.name)==="jina-embeddings-v3"?32:64}),U=H(()=>{var ie,F,G,ee,$,Z,pe,te;const J={model:(ie=u.value)==null?void 0:ie.name};return((F=u.value)==null?void 0:F.name)==="jina-colbert-v2"&&(J.dimensions=g.value),((G=u.value)==null?void 0:G.name)==="jina-embeddings-v3"&&(h.value!=="none"&&(J.task=h.value),J.late_chunking=v.value),(((ee=u.value)==null?void 0:ee.name)==="jina-embeddings-v3"||(($=u.value)==null?void 0:$.name)==="jina-clip-v2")&&(J.dimensions=g.value),((Z=u.value)==null?void 0:Z.name)==="jina-clip-v2"&&(D.value==="query"?J.task="retrieval.query":delete J.task),P.value&&(J.input_type=D.value),!((pe=u.value)!=null&&pe.name.includes("jina-colbert"))&&((te=u.value)==null?void 0:te.name)!=="jina-embeddings-v3"&&(J.normalized=p.value),J.embedding_type=d.value,J.input=I.value.map(oe=>{var He;return(He=u.value)!=null&&He.tags.includes("multimodal")&&!m.value?{[oe.type]:oe.value}:oe.value}),J}),N=H(()=>{let J=`${Gn}/v1/embeddings`;return P.value&&(J=`${Gn}/v1/multi-vector`),`
\`\`\`bash
${[`curl ${J}`,'  -H "Content-Type: application/json"',`  -H "Authorization: Bearer ${s.value}"`,`  -d @- <<EOFEOF
  {
    ${JSON.stringify(U.value,null,4).slice(1,-1).trim()}
  }
EOFEOF`].join(` \\
`)}
\`\`\`
  `}),W=z(!1),Q=z({}),re=()=>{let J=`${Gn}/v1/embeddings`;P.value&&(J=`${Gn}/v1/multi-vector`);const ie={"Content-Type":"application/json",Authorization:`Bearer ${s.value}`};W.value=!0,fetch(J,{method:"POST",headers:ie,body:JSON.stringify(U.value)}).then(F=>(Q.value={status:F.status,statusText:F.statusText},F.json())).then(F=>{var ee;W.value=!1;let G=F;if((ee=F.data)!=null&&ee.length){const $=Z=>typeof Z=="string"?Z.length>20?Z.slice(0,20)+"...":Z:Z.length>5?[...Z.slice(0,5),"..."]:Z;G={...F,data:F.data.map(Z=>Z.object==="embeddings"?{...Z,embeddings:Z.embeddings.length>1?[$(Z.embeddings[0]),"..."]:Z.embeddings.map($)}:Z.object==="embedding"?{...Z,embedding:$(Z.embedding)}:Z)}}Q.value={...Q.value,data:G}}).catch(F=>{console.error("Error:",F),Q.value={status:500,data:F.message}}).finally(()=>W.value=!1)},ue={$q:n,userStore:r,settings:i,embeddingStore:o,apiKey:s,t:l,currentModel:u,onModelItemClick:c,encodingType:d,encodingTypes:f,normalized:p,compatibleMode:m,dimensions:g,taskType:h,lateChunking:v,emit:_,INPUT_CONTENT_CLIP:y,INPUT_CONTENT_CLIP_MULTILINGUAL:x,INPUT_CONTENT_EN_ARRAY:E,INPUT_CONTENT_ZH_ARRAY:w,INPUT_CONTENT_DE_ARRAY:A,INPUT_CONTENT_ES_ARRAY:S,INPUT_CONTENT_CODE_ARRAY:k,INPUT_MULTILINGUAL:b,exampleInputs:M,inputType:D,inputTypeOptions:L,isMultiVectorEmbedding:P,filteredExampleInputs:I,minDimension:R,adaptablePayload:U,adaptableCode:N,isBusy:W,exampleResponse:Q,executeAdaptableJSCode:re,ModelDropDown:rr,APIPanel:po,UsageHeader:ho};return Object.defineProperty(ue,"__isScriptSetup",{enumerable:!1,value:!0}),ue}}),XS={class:"text-warning"},ZS={class:"text-negative"};function QS(t,e,a,n,r,i){return O(),j(ba,{flat:"",class:"column no-wrap full-height"},{default:T(()=>{var o;return[C(n.UsageHeader,{"home-link":"/embeddings","issue-link":`https://huggingface.co/jinaai/${(o=n.currentModel)==null?void 0:o.name}/discussions`,"faq-link":"/embeddings#faq","api-link":"https://api.jina.ai/redoc#tag/embeddings"},null,8,["issue-link"]),C(Ye),C(Ie,{horizontal:n.$q.screen.gt.sm,class:"q-pa-none",style:{"flex-grow":"1"}},{default:T(()=>[C(Ie,{class:"col-md-6 col-lg-5 col-xl-4 q-pa-none"},{default:T(()=>[C(_t,null,{default:T(()=>{var s,l,u,c,d,f,p,m;return[C(n.ModelDropDown,{class:"full-width",currentModel:n.currentModel,category:"multi-embeddings",onChooseModel:n.onModelItemClick,onSwitchToRerankerTab:e[0]||(e[0]=g=>n.emit("focusRerankerTab"))},null,8,["currentModel"]),((s=n.currentModel)==null?void 0:s.name)==="jina-embeddings-v3"?(O(),ye(Me,{key:0},[C(le,{tag:"label"},{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[V(B(n.t("embedding.task_type")),1)]),_:1}),C(K,{caption:""},{default:T(()=>[V(B(n.t("embedding.task_type_explain")),1)]),_:1}),C(K,{caption:"",class:"q-pt-sm"},{default:T(()=>[C(ve,{href:"https://jina.ai/news/jina-embeddings-v3-a-frontier-multilingual-embedding-model#parameter-task",label:n.t("reader.demo.learn_more"),size:"xs",outline:"",square:"",icon:"open_in_new",target:"_blank"},null,8,["label"])]),_:1})]),_:1}),C(X,{side:""},{default:T(()=>[C(Ya,{modelValue:n.taskType,"onUpdate:modelValue":e[1]||(e[1]=g=>n.taskType=g),options:["retrieval.query","retrieval.passage","separation","classification","text-matching","none"],filled:"",square:""},{option:T(g=>[C(le,Ls(Ps(g.itemProps)),{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[Te("code",null,B(g.opt),1)]),_:2},1024),C(K,{caption:""},{default:T(()=>[V(B(n.t(`embedding.task_type_${g.opt.replace(".","_")}_explain`)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue"])]),_:1})]),_:1}),C(le,{tag:"label"},{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[V(B(n.t("embedding.late_chunking")),1)]),_:1}),C(K,{caption:""},{default:T(()=>[V(B(n.t("embedding.late_chunking_explain")),1)]),_:1}),C(K,{caption:"",class:"q-pt-sm"},{default:T(()=>[C(ve,{href:"https://jina.ai/news/jina-embeddings-v3-a-frontier-multilingual-embedding-model#parameter-latechunking",label:n.t("reader.demo.learn_more"),size:"xs",outline:"",square:"",icon:"open_in_new",target:"_blank"},null,8,["label"])]),_:1})]),_:1}),C(X,{side:""},{default:T(()=>[C(qt,{modelValue:n.lateChunking,"onUpdate:modelValue":e[2]||(e[2]=g=>n.lateChunking=g)},null,8,["modelValue"])]),_:1})]),_:1})],64)):ne("",!0),((l=n.currentModel)==null?void 0:l.name)==="jina-embeddings-v3"||((u=n.currentModel)==null?void 0:u.name)==="jina-clip-v2"?(O(),j(le,{key:1,tag:"label"},{default:T(()=>[C(X,null,{default:T(()=>{var g,h;return[C(K,null,{default:T(()=>[V(B(n.t("embedding.dimensions")),1)]),_:1}),C(K,{caption:""},{default:T(()=>[V(B(n.t("embedding.dimensions_explain")),1)]),_:1}),n.dimensions<n.minDimension&&n.dimensions>=1?(O(),j(K,{key:0,caption:""},{default:T(()=>[C(me,{name:"warning",color:"warning",class:"q-mr-xs"}),Te("span",XS,B(n.t("embedding.dimensions_warning",{_minDimension:n.minDimension})),1)]),_:1})):ne("",!0),n.dimensions>1024||n.dimensions<1?(O(),j(K,{key:1,caption:"",color:"negative"},{default:T(()=>[C(me,{name:"error",color:"negative",class:"q-mr-xs"}),Te("span",ZS,B(n.t("embedding.dimensions_error")),1)]),_:1})):ne("",!0),((g=n.currentModel)==null?void 0:g.name)==="jina-embeddings-v3"?(O(),j(K,{key:2,caption:"",class:"q-pt-sm"},{default:T(()=>[C(ve,{href:"https://jina.ai/news/jina-embeddings-v3-a-frontier-multilingual-embedding-model#parameter-dimensions",label:n.t("reader.demo.learn_more"),size:"xs",outline:"",square:"",icon:"open_in_new",target:"_blank"},null,8,["label"])]),_:1})):((h=n.currentModel)==null?void 0:h.name)==="jina-clip-v2"?(O(),j(K,{key:3,caption:"",class:"q-pt-sm"},{default:T(()=>[C(ve,{href:"https://jina.ai/news/jina-clip-v2-multilingual-multimodal-embeddings-for-text-and-images#matryoshka-representation-performance",label:n.t("reader.demo.learn_more"),size:"xs",outline:"",square:"",icon:"open_in_new",target:"_blank"},null,8,["label"])]),_:1})):ne("",!0)]}),_:1}),C(X,{side:""},{default:T(()=>[C(Ne,{modelValue:n.dimensions,"onUpdate:modelValue":e[3]||(e[3]=g=>n.dimensions=g),min:"1",max:"1024",step:"1",type:"number",rules:[g=>g&&g>=1&&g<=1024],filled:"",square:""},null,8,["modelValue","rules"])]),_:1})]),_:1})):ne("",!0),((c=n.currentModel)==null?void 0:c.name)==="jina-colbert-v2"?(O(),j(le,{key:2,tag:"label"},{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[V(B(n.t("embedding.dimensions")),1)]),_:1}),C(K,{caption:""},{default:T(()=>[V(B(n.t("embedding.colbert_dimensions_explain")),1)]),_:1})]),_:1}),C(X,{side:""},{default:T(()=>[C(Ya,{modelValue:n.dimensions,"onUpdate:modelValue":e[4]||(e[4]=g=>n.dimensions=g),options:[128,64],filled:"",square:""},null,8,["modelValue"])]),_:1})]),_:1})):ne("",!0),n.isMultiVectorEmbedding||((d=n.currentModel)==null?void 0:d.name)==="jina-clip-v2"?(O(),j(le,{key:3,tag:"label"},{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[V(B(n.t("embedding.input_type")),1)]),_:1}),C(K,{caption:""},{default:T(()=>[V(B(n.t("embedding.input_type_explain")),1)]),_:1})]),_:1}),C(X,{side:""},{default:T(()=>[C(Ya,{modelValue:n.inputType,"onUpdate:modelValue":e[5]||(e[5]=g=>n.inputType=g),options:n.inputTypeOptions,filled:"",square:"","emit-value":"","map-options":"","option-label":g=>n.t(g.label)},null,8,["modelValue","options","option-label"])]),_:1})]),_:1})):ne("",!0),(f=n.currentModel)!=null&&f.tags.includes("multimodal")?(O(),j(le,{key:4,tag:"label"},{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[V(B(n.t("embedding.compatible")),1)]),_:1}),C(K,{caption:""},{default:T(()=>[V(B(n.t("embedding.compatible_explain")),1)]),_:1})]),_:1}),C(X,{side:""},{default:T(()=>[C(qt,{modelValue:n.compatibleMode,"onUpdate:modelValue":e[6]||(e[6]=g=>n.compatibleMode=g)},null,8,["modelValue"])]),_:1})]),_:1})):ne("",!0),!((p=n.currentModel)!=null&&p.name.includes("jina-colbert"))&&((m=n.currentModel)==null?void 0:m.name)!=="jina-embeddings-v3"?(O(),j(le,{key:5,tag:"label"},{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[V(B(n.t("embedding.normalized")),1)]),_:1}),C(K,{caption:""},{default:T(()=>[V(B(n.t("embedding.normalized_explain")),1)]),_:1})]),_:1}),C(X,{side:""},{default:T(()=>[C(qt,{modelValue:n.normalized,"onUpdate:modelValue":e[7]||(e[7]=g=>n.normalized=g)},null,8,["modelValue"])]),_:1})]),_:1})):ne("",!0),C(le,{tag:"label"},{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[V(B(n.t("embedding.return_format_title")),1)]),_:1}),C(K,{caption:""},{default:T(()=>[V(B(n.t("embedding.return_format_explain")),1)]),_:1})]),_:1}),C(X,{side:""},{default:T(()=>[C(Ya,{modelValue:n.encodingType,"onUpdate:modelValue":e[8]||(e[8]=g=>n.encodingType=g),options:n.encodingTypes,filled:"",square:"","emit-value":"","map-options":"","option-label":g=>n.t(g.label)},{option:T(g=>[C(le,Ls(Ps(g.itemProps)),{default:T(()=>[C(X,{avatar:""},{default:T(()=>[C(me,{name:g.opt.icon},null,8,["name"])]),_:2},1024),C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[V(B(n.t(`${g.opt.label}`)),1)]),_:2},1024),C(K,{caption:""},{default:T(()=>[V(B(n.t(`embedding.${g.opt.value}_description`)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","option-label"])]),_:1})]),_:1}),C(Ye,{spaced:""}),C(le,null,{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[V(B(n.t("embedding.example_inputs")),1)]),_:1}),C(K,{caption:""},{default:T(()=>[V(B(n.t("reranker.customize_urself_pl")),1)]),_:1})]),_:1})]),_:1}),(O(!0),ye(Me,null,ra(n.filteredExampleInputs,(g,h)=>{var v;return O(),j(Ne,{modelValue:g.value,"onUpdate:modelValue":_=>g.value=_,key:h,class:"full-width text-caption",filled:"",square:"",placeholder:(v=n.currentModel)!=null&&v.name.includes("clip")?n.t("embedding.mminput_placeholder"):void 0},{prepend:T(()=>[C(Je,{label:h+1,size:"xs",outline:""},null,8,["label"]),g.type==="text"?(O(),j(me,{key:0,name:"text_fields",size:"xs"})):(O(),j(pl,{key:1,src:g.value,style:{width:"18px",height:"18px"}},{error:T(()=>[C(me,{name:"'image'",size:"xs",class:"absolute-top"})]),_:2},1032,["src"]))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])}),128))]}),_:1})]),_:1}),C(Ye,{vertical:n.$q.screen.gt.sm},null,8,["vertical"]),C(n.APIPanel,{code:n.adaptableCode,onExecute:n.executeAdaptableJSCode,loading:n.isBusy,response:n.exampleResponse},null,8,["code","loading","response"])]),_:1},8,["horizontal"])]}),_:1})}const MR=Be(YS,[["render",QS],["__file","EmbeddingDemoComponent.vue"]]),JS=Oe({__name:"RerankerDemoComponent",emits:["focusEmbeddingTab"],setup(t,{expose:e,emit:a}){e();const n=nr(),{settings:r}=Ge(n),i=oa(),{apiKey:o}=Ge(i),{t:s}=Ze({useScope:"global"}),l=z(null),u=w=>{var A,S;l.value=w,(A=l.value)!=null&&A.name.includes("multilingual")||((S=l.value)==null?void 0:S.meta_data.language)==="multilingual"?m.value=p:m.value=f,r.value.enableAutoAPIRequest&&x()},c=a,d=z("Organic skincare products for sensitive skin"),f=["Eco-friendly kitchenware for modern homes: Elevate your culinary experience with our eco-friendly kitchenware, crafted for the discerning modern home. Each piece is designed with sustainability and style in mind, ensuring your kitchen remains both functional and environmentally conscious. Transform your cooking space into a haven of green living with utensils and cookware that reflect your commitment to the planet.","Biodegradable cleaning supplies for eco-conscious consumers: Step into the realm of green cleaning with our biodegradable supplies, tailor-made for the eco-conscious. Harnessing the power of nature, these products are designed to degrade naturally, leaving no trace behind. Clean with confidence, knowing each scrub and spray brings you closer to a zero-waste lifestyle.","Organic cotton baby clothes for sensitive skin: Wrap your little one in the softest organic cotton baby clothes, perfect for delicate skin. These garments are not only free from harsh chemicals but also provide unparalleled comfort and breathability. Available in a variety of charming designs, they ensure your baby stays snug, stylish, and safe from any skin irritations.","Natural organic skincare range for sensitive skin: Our natural organic skincare range is a sanctuary for sensitive skin, offering products infused with the purest botanical extracts. Each item is meticulously crafted to soothe, hydrate, and protect, ensuring your skin receives the gentle care it deserves. Dive into a world of natural beauty and let your skin blossom with health.","Tech gadgets for smart homes: 2024 edition: Embrace the future with the 2024 edition of tech gadgets designed for smart homes. These cutting-edge devices integrate seamlessly into your living space, offering enhanced convenience, security, and efficiency. From AI-driven assistants to intelligent lighting systems, upgrade your home with technology that anticipates your needs.","Sustainable gardening tools and compost solutions: Revolutionize your gardening routine with our sustainable tools and compost solutions. Made from eco-friendly materials, these tools are designed to minimize environmental impact while maximizing efficiency. Turn your organic waste into nutrient-rich compost and watch your garden flourish like never before, all while contributing to a greener planet.","Sensitive skin-friendly facial cleansers and toners: Discover the gentle touch of our facial cleansers and toners, formulated for sensitive skin. Each product is a testament to our commitment to purity, free from artificial fragrances and harsh chemicals. Cleanse and tone with confidence, knowing your skin is treated with the utmost care and respect it deserves.","Organic food wraps and storage solutions: Say goodbye to plastic with our organic food wraps and storage solutions. Crafted from sustainable materials like beeswax and organic cotton, these wraps are perfect for preserving the freshness of your food. Embrace a waste-free kitchen and keep your produce, snacks, and leftovers fresh and safe, naturally.","All-natural pet food for dogs with allergies: Give your dog the gift of health with our all-natural pet food, formulated especially for dogs with allergies. Made with premium, allergen-free ingredients, this food ensures your furry friend gets the nutrition they need without any harmful additives. Watch your pet thrive with every meal, enjoying better digestion and increased vitality.","Yoga mats made from recycled materials: Unroll a new chapter in your yoga journey with our mats made from recycled materials. These mats provide exceptional support and grip, enhancing your practice while promoting sustainability. Perfect for yogis who value both performance and the planet, our mats are a testament to mindful living and responsible choices."],p=["Organic skincare for sensitive skin with aloe vera and chamomile: Imagine the soothing embrace of nature with our organic skincare range, crafted specifically for sensitive skin. Infused with the calming properties of aloe vera and chamomile, each product provides gentle nourishment and protection. Say goodbye to irritation and hello to a glowing, healthy complexion.","New makeup trends focus on bold colors and innovative techniques: Step into the world of cutting-edge beauty with this seasons makeup trends. Bold, vibrant colors and groundbreaking techniques are redefining the art of makeup. From neon eyeliners to holographic highlighters, unleash your creativity and make a statement with every look.","Bio-Hautpflege für empfindliche Haut mit Aloe Vera und Kamille: Erleben Sie die wohltuende Wirkung unserer Bio-Hautpflege, speziell für empfindliche Haut entwickelt. Mit den beruhigenden Eigenschaften von Aloe Vera und Kamille pflegen und schützen unsere Produkte Ihre Haut auf natürliche Weise. Verabschieden Sie sich von Hautirritationen und genießen Sie einen strahlenden Teint.","Neue Make-up-Trends setzen auf kräftige Farben und innovative Techniken: Tauchen Sie ein in die Welt der modernen Schönheit mit den neuesten Make-up-Trends. Kräftige, lebendige Farben und innovative Techniken setzen neue Maßstäbe. Von auffälligen Eyelinern bis hin zu holografischen Highlightern – lassen Sie Ihrer Kreativität freien Lauf und setzen Sie jedes Mal ein Statement.","Cuidado de la piel orgánico para piel sensible con aloe vera y manzanilla: Descubre el poder de la naturaleza con nuestra línea de cuidado de la piel orgánico, diseñada especialmente para pieles sensibles. Enriquecidos con aloe vera y manzanilla, estos productos ofrecen una hidratación y protección suave. Despídete de las irritaciones y saluda a una piel radiante y saludable.","Las nuevas tendencias de maquillaje se centran en colores vivos y técnicas innovadoras: Entra en el fascinante mundo del maquillaje con las tendencias más actuales. Colores vivos y técnicas innovadoras están revolucionando el arte del maquillaje. Desde delineadores neón hasta iluminadores holográficos, desata tu creatividad y destaca en cada look.","针对敏感肌专门设计的天然有机护肤产品：体验由芦荟和洋甘菊提取物带来的自然呵护。我们的护肤产品特别为敏感肌设计，温和滋润，保护您的肌肤不受刺激。让您的肌肤告别不适，迎来健康光彩。","新的化妆趋势注重鲜艳的颜色和创新的技巧：进入化妆艺术的新纪元，本季的化妆趋势以大胆的颜色和创新的技巧为主。无论是霓虹眼线还是全息高光，每一款妆容都能让您脱颖而出，展现独特魅力。","敏感肌のために特別に設計された天然有機スキンケア製品: アロエベラとカモミールのやさしい力で、自然の抱擁を感じてください。敏感肌用に特別に設計された私たちのスキンケア製品は、肌に優しく栄養を与え、保護します。肌トラブルにさようなら、輝く健康な肌にこんにちは。","新しいメイクのトレンドは鮮やかな色と革新的な技術に焦点を当てています: 今シーズンのメイクアップトレンドは、大胆な色彩と革新的な技術に注目しています。ネオンアイライナーからホログラフィックハイライターまで、クリエイティビティを解き放ち、毎回ユニークなルックを演出しましょう。"],m=z(p),g=z(3),h=H(()=>{var w;return{model:(w=l.value)==null?void 0:w.name,query:d.value,top_n:g.value,documents:m.value}}),v=H(()=>`
\`\`\`bash
${["curl https://api.jina.ai/v1/rerank",'  -H "Content-Type: application/json"',`  -H "Authorization: Bearer ${o.value}"`,`  -d @- <<EOFEOF
  {
    ${JSON.stringify(h.value,null,4).slice(1,-1).trim()}
  }
EOFEOF`].join(` \\
`)}
\`\`\`
  `),_=z(!1),y=z({}),x=()=>{const w="https://api.jina.ai/v1/rerank",A={"Content-Type":"application/json",Authorization:`Bearer ${o.value}`};_.value=!0,fetch(w,{method:"POST",headers:A,body:JSON.stringify(h.value)}).then(S=>(y.value={status:S.status,statusText:S.statusText},S.json())).then(S=>{_.value=!1,y.value={...y.value,data:S}}).catch(S=>{console.error("Error:",S),y.value={status:500,data:S.message}}).finally(()=>_.value=!1)},E={userStore:n,settings:r,embeddingStore:i,apiKey:o,t:s,currentModel:l,onModelItemClick:u,emit:c,exampleQuery:d,INPUT_EN:f,INPUT_MULTILINGUAL:p,exampleInputs:m,topN:g,adaptablePayload:h,adaptableCode:v,isBusy:_,exampleResponse:y,executeAdaptableJSCode:x,ModelDropDown:rr,APIPanel:po,UsageHeader:ho};return Object.defineProperty(E,"__isScriptSetup",{enumerable:!1,value:!0}),E}});function $S(t,e,a,n,r,i){return O(),j(ba,{flat:"",class:"column no-wrap full-height"},{default:T(()=>{var o;return[C(n.UsageHeader,{"home-link":"/reranker","issue-link":`https://huggingface.co/jinaai/${(o=n.currentModel)==null?void 0:o.name}/discussions`,"faq-link":"/reranker#faq","api-link":"https://api.jina.ai/redoc#tag/rerank"},null,8,["issue-link"]),C(Ye),C(Ie,{horizontal:t.$q.screen.gt.sm,class:"q-pa-none",style:{"flex-grow":"1"}},{default:T(()=>[C(Ie,{class:"col-md-6 col-lg-5 col-xl-4 q-pa-none"},{default:T(()=>[C(_t,null,{default:T(()=>[C(n.ModelDropDown,{class:"full-width",currentModel:n.currentModel,category:"rank",onChooseModel:n.onModelItemClick,onSwitchToEmbeddingTab:e[0]||(e[0]=s=>n.emit("focusEmbeddingTab"))},null,8,["currentModel"]),C(le,null,{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[V(B(n.t("reranker.top_n")),1)]),_:1}),C(K,{caption:""},{default:T(()=>[V(B(n.t("reranker.top_n_explain")),1)]),_:1})]),_:1}),C(X,{side:""},{default:T(()=>[C(Ne,{modelValue:n.topN,"onUpdate:modelValue":e[1]||(e[1]=s=>n.topN=s),type:"number",min:"1",max:"10",step:"1",square:"",filled:""},null,8,["modelValue"])]),_:1})]),_:1}),C(Ye,{spaced:""}),C(le,null,{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[V(B(n.t("reranker.example_input_query")),1)]),_:1}),C(K,{caption:""},{default:T(()=>[V(B(n.t("reranker.customize_urself")),1)]),_:1})]),_:1})]),_:1}),C(Ne,{modelValue:n.exampleQuery,"onUpdate:modelValue":e[2]||(e[2]=s=>n.exampleQuery=s),class:"full-width text-caption",filled:"",square:""},null,8,["modelValue"]),C(le,null,{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[V(B(n.t("reranker.example_input_document")),1)]),_:1}),C(K,{caption:""},{default:T(()=>[V(B(n.t("reranker.customize_urself_pl")),1)]),_:1})]),_:1})]),_:1}),(O(!0),ye(Me,null,ra(n.exampleInputs,(s,l)=>(O(),j(Ne,{modelValue:n.exampleInputs[l],"onUpdate:modelValue":u=>n.exampleInputs[l]=u,key:l,class:"full-width text-caption",filled:"",square:""},{prepend:T(()=>[C(Je,{label:l+1,size:"xs",outline:""},null,8,["label"])]),_:2},1032,["modelValue","onUpdate:modelValue"]))),128))]),_:1})]),_:1}),C(Ye,{vertical:t.$q.screen.gt.sm},null,8,["vertical"]),C(n.APIPanel,{code:n.adaptableCode,onExecute:n.executeAdaptableJSCode,loading:n.isBusy,response:n.exampleResponse},null,8,["code","loading","response"])]),_:1},8,["horizontal"])]}),_:1})}const DR=Be(JS,[["render",$S],["__file","RerankerDemoComponent.vue"]]),Wi=[{value:"Calculate the compound interest on a principal of $10,000 invested for 5 years at an annual rate of 5%, compounded quarterly.",type:"text",label:"Simple task"},{value:"分析使用CRISPR基因编辑技术在人类胚胎中的伦理影响。考虑潜在的医疗益处和长期社会后果。",type:"text",label:"Complex reasoning"},{value:"AIが自意識を持つディストピアの未来を舞台にした短編小説を書いてください。人間とAIの関係や意識の本質をテーマに探求してください。",type:"text",label:"Creative writing"},{value:"Erklären Sie die Unterschiede zwischen Merge-Sort und Quicksort-Algorithmen in Bezug auf Zeitkomplexität, Platzkomplexität und Leistung in der Praxis.",type:"text",label:"Complex reasoning"},{value:"Write a poem about the beauty of nature and its healing power on the human soul.",type:"text",label:"Creative writing"},{value:"Translate the following sentence into French: The quick brown fox jumps over the lazy dog.",type:"text",label:"Simple task"}],Gc=[{value:"A sleek smartphone with a high-resolution display and multiple camera lenses",type:"text",label:"Technology and Gadgets"},{value:"Fresh sushi rolls served on a wooden board with wasabi and ginger",type:"text",label:"Food and Dining"},{value:"https://picsum.photos/id/11/367/267",type:"image",label:"Nature and Outdoors"},{value:"https://picsum.photos/id/22/367/267",type:"image",label:"Urban and Architecture"},{value:"Vibrant autumn leaves in a dense forest with sunlight filtering through",type:"text",label:"Nature and Outdoors"},{value:"https://picsum.photos/id/8/367/267",type:"image",label:"Technology and Gadgets"}];var sa=(t=>(t.CLASSIFY="classify",t.TRAIN="train",t.MANAGE="manage",t))(sa||{});const eC=Oe({__name:"ManagePanel",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(t,{expose:e}){e();const a=Ir(t,"modelValue"),n=oa(),{classifiers:r}=Ge(n),{t:i}=Ze({useScope:"global"}),o=Va(),s=z(null),u={payload:a,embeddingStore:n,classifiers:r,t:i,$q:o,inputRef:s,switchAction:c=>{var d,f,p;((d=a.value)==null?void 0:d.action)!==c&&(a.value.action=c,a.value.classifier_id="",c==="delete"?(f=s.value)==null||f.validate():(p=s.value)==null||p.resetValidation())}};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}});function aC(t,e,a,n,r,i){return O(),j(Ie,{class:"col-md-6 col-lg-5 col-xl-4 q-pa-none",horizontal:n.$q.screen.gt.sm},{default:T(()=>[C(_t,{class:"full-width"},{default:T(()=>[C(le,{clickable:"",class:"q-py-md",onClick:e[0]||(e[0]=o=>n.switchAction("list")),active:n.payload.action==="list"},{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[V(B(n.t("classifier.api_list")),1)]),_:1}),C(K,{caption:""},{default:T(()=>[V(B(n.t("classifier.api_list_explain")),1)]),_:1})]),_:1})]),_:1},8,["active"]),C(le,{clickable:"",onClick:e[3]||(e[3]=o=>n.switchAction("delete")),active:n.payload.action==="delete"},{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[V(B(n.t("classifier.api_delete")),1)]),_:1}),C(K,{caption:""},{default:T(()=>[V(B(n.t("classifier.api_delete_explain")),1)]),_:1})]),_:1}),C(X,{side:""},{default:T(()=>[C(Ya,{"use-input":"","fill-input":"",filled:"",square:"","hide-selected":"","hide-bottom-space":"","map-options":"","emit-value":"",clearable:"",ref:"inputRef",modelValue:n.payload.classifier_id,"onUpdate:modelValue":e[1]||(e[1]=o=>n.payload.classifier_id=o),options:n.classifiers,"option-label":o=>o.classifier_id,"option-value":o=>o.classifier_id,class:"full-width",style:{"max-width":"200px"},label:n.t("classifier.classifier_id"),rules:[o=>!!o],onNewValue:e[2]||(e[2]=o=>n.payload.classifier_id=o)},{option:T(({opt:o,itemProps:s})=>[C(le,dl(s,{active:o.classifier_id===n.payload.classifier_id,class:"q-pa-md"}),{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[Te("code",null,B(o.classifier_id),1)]),_:2},1024),C(K,{caption:""},{default:T(()=>[Te("code",null,B(o.model_name),1)]),_:2},1024)]),_:2},1024)]),_:2},1040,["active"])]),_:1},8,["modelValue","options","option-label","option-value","label","rules"])]),_:1})]),_:1},8,["active"])]),_:1})]),_:1},8,["horizontal"])}const tC=Be(eC,[["render",aC],["__file","ManagePanel.vue"]]),nC=Oe({__name:"ClassifyPanel",props:{modelValue:{required:!0},modelModifiers:{}},emits:Oc(["execute"],["update:modelValue"]),setup(t,{expose:e,emit:a}){e();const n=nr(),{settings:r}=Ge(n),{t:i}=Ze({useScope:"global"}),o=Va(),s=z(null),l=a,u=Ir(t,"modelValue"),c=E=>{var w,A;E&&(s.value=E,g.value=m.value.concat(),(w=s.value)!=null&&w.classifier_id?u.value={classifier_id:s.value.classifier_id,input:Di(p.value)}:u.value={model:(A=s.value)==null?void 0:A.name,input:Di(p.value),labels:Di(m.value)},r.value.enableAutoAPIRequest&&l("execute"))},d=H(()=>{var E;return s.value&&!((E=s.value)!=null&&E.classifier_id)}),f=H(()=>{var E,w,A,S;return((w=(E=s.value)==null?void 0:E.tags)==null?void 0:w.includes("multimodal"))||((S=(A=s.value)==null?void 0:A.model_name)==null?void 0:S.startsWith("jina-clip"))}),p=H(()=>f.value?Gc:Wi),m=H(()=>f.value?_p(Gc.map(E=>E.label)):_p(Wi.map(E=>E.label))),g=z(m.value.concat()),h=z(g.value),v=(E,w)=>{E.length>0&&(g.value.includes(E)||g.value.push(E),w(E,"toggle"))},_=(E="")=>{if(E==="")h.value=g.value;else{const w=E.toLowerCase();h.value=g.value.filter(A=>A.toLowerCase().includes(w)).concat()}},x={userStore:n,settings:r,t:i,$q:o,currentModel:s,emit:l,payload:u,onModelItemClick:c,isZeroShot:d,isMultimodal:f,inputExamples:p,labelExamples:m,allOptions:g,filterOptions:h,createValue:v,updateFilterOptions:_,filterFn:(E,w)=>{w(()=>_(E))},ModelDropDown:rr,get QSelect(){return Ya}};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}});function rC(t,e,a,n,r,i){return O(),j(Ie,{class:"col-md-6 col-lg-5 col-xl-4 q-pa-none",horizontal:n.$q.screen.gt.sm},{default:T(()=>[C(_t,{class:"full-width"},{default:T(()=>[C(n.ModelDropDown,{class:"full-width",currentModel:n.currentModel,"allow-classify":!0,category:"classifier","sub-category":"classify",onChooseModel:n.onModelItemClick},null,8,["currentModel"]),C(Ye),C(hn,{name:"list2"},{default:T(()=>[C(le,null,{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[V(B(n.t("classifier.classify_inputs")),1)]),_:1}),C(K,{caption:""},{default:T(()=>[V(B(n.t("classifier.classify_inputs_explain")),1)]),_:1})]),_:1})]),_:1}),(O(!0),ye(Me,null,ra(n.payload.input,(o,s)=>(O(),j(le,{key:s,class:"q-pa-none"},{default:T(()=>[C(X,null,{default:T(()=>[C(Ne,{modelValue:o.value,"onUpdate:modelValue":l=>o.value=l,class:"full-width text-caption",filled:"",square:"","hide-bottom-space":"",rules:[l=>!!l]},{prepend:T(()=>[C(Je,{label:s+1,size:"xs",outline:""},null,8,["label"]),o.type==="text"?(O(),j(me,{key:0,name:"text_fields",size:"xs"})):(O(),j(pl,{key:1,src:o.value,style:{width:"18px",height:"18px"}},{error:T(()=>[C(me,{name:"image",size:"xs"})]),_:2},1032,["src"]))]),_:2},1032,["modelValue","onUpdate:modelValue","rules"])]),_:2},1024)]),_:2},1024))),128)),n.isZeroShot?(O(),ye(Me,{key:0},[C(le,null,{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[V(B(n.t("classifier.classify_labels")),1)]),_:1}),C(K,{caption:""},{default:T(()=>[V(B(n.t("classifier.classify_labels_explain")),1)]),_:1})]),_:1})]),_:1}),C(le,{class:"q-pa-none"},{default:T(()=>[C(X,null,{default:T(()=>[C(n.QSelect,{square:"",class:"full-width",label:n.t("classifier.classify_labels"),filled:"",modelValue:n.payload.labels,"onUpdate:modelValue":e[0]||(e[0]=o=>n.payload.labels=o),"use-input":"","use-chips":"",multiple:"","hide-dropdown-icon":"","input-debounce":"0",onNewValue:n.createValue,options:n.filterOptions,rules:[o=>o.length>0],onFilter:n.filterFn},{selected:T(()=>[(O(!0),ye(Me,null,ra(n.payload.labels,o=>(O(),j(Je,{dense:"",key:o,square:"","text-color":"primary",class:"bg-mixed-300"},{default:T(()=>[V(B(o),1)]),_:2},1024))),128))]),_:1},8,["label","modelValue","options","rules"])]),_:1})]),_:1})],64)):ne("",!0)]),_:1})]),_:1})]),_:1},8,["horizontal"])}const iC=Be(nC,[["render",rC],["__file","ClassifyPanel.vue"]]),oC=Oe({__name:"TrainPanel",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(t,{expose:e}){const a=Ir(t,"modelValue"),{t:n}=Ze({useScope:"global"}),r=Va(),i=z(null),o=d=>{var f,p;d&&(i.value=d,(f=i.value)!=null&&f.classifier_id?a.value={classifier_id:i.value.classifier_id,num_iters:10,input:Di(l.value)}:a.value={model:(p=i.value)==null?void 0:p.name,access:"private",num_iters:10,input:Di(l.value)})},s=H(()=>{var d;return!((d=i.value)!=null&&d.classifier_id)}),l=H(()=>{var d,f,p,m;return(f=(d=i.value)==null?void 0:d.tags)!=null&&f.includes("multimodal")||(m=(p=i.value)==null?void 0:p.model_name)!=null&&m.startsWith("jina-clip")?Gc:Wi}),u=d=>{d&&o({classifier_id:d.classifier_id,name:d.classifier_id,model_name:d.model_name,labels:d.labels})};e({selectClassifier:u});const c={payload:a,t:n,$q:r,currentModel:i,onModelItemClick:o,isFirstTrain:s,exampleInputs:l,selectClassifier:u,ModelDropDown:rr};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),sC=["innerHTML"];function lC(t,e,a,n,r,i){return O(),j(Ie,{class:"col-md-6 col-lg-5 col-xl-4 q-pa-none",horizontal:n.$q.screen.gt.sm},{default:T(()=>[C(_t,{class:"full-width"},{default:T(()=>[C(n.ModelDropDown,{class:"full-width",currentModel:n.currentModel,"allow-classify":!0,category:"classifier","sub-category":"train",onChooseModel:n.onModelItemClick},null,8,["currentModel"]),n.isFirstTrain?(O(),j(le,{key:0,tag:"label"},{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[V(B(n.t("classifier.access")),1)]),_:1}),C(K,{caption:""},{default:T(()=>[Te("span",{innerHTML:n.t("classifier.access_explain")},null,8,sC)]),_:1}),C(K,{caption:"",class:"q-pt-sm"},{default:T(()=>[C(ve,{href:"https://jina.ai/news/jina-classifier-for-high-performance-zero-shot-and-few-shot-classification#parameter-access",label:n.t("reader.demo.learn_more"),size:"xs",outline:"",square:"",icon:"open_in_new",target:"_blank"},null,8,["label"])]),_:1})]),_:1}),C(X,{side:""},{default:T(()=>[C(qt,{modelValue:n.payload.access,"onUpdate:modelValue":e[0]||(e[0]=o=>n.payload.access=o),"true-value":"public","false-value":"private","checked-icon":"public","unchecked-icon":"lock"},null,8,["modelValue"])]),_:1})]),_:1})):ne("",!0),C(le,{tag:"label"},{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[V(B(n.t("classifier.num_iters")),1)]),_:1}),C(K,{caption:""},{default:T(()=>[V(B(n.t("classifier.num_iters_explain")),1)]),_:1}),n.payload.num_iters&&(n.payload.num_iters<1||n.payload.num_iters>1e3)?(O(),j(K,{key:0,caption:"",class:"text-negative"},{default:T(()=>[C(me,{name:"error",color:"negative"}),V(" "+B(n.t("classifier.train_iters_error")),1)]),_:1})):ne("",!0),C(K,{caption:"",class:"q-pt-sm"},{default:T(()=>[C(ve,{href:"https://jina.ai/news/jina-classifier-for-high-performance-zero-shot-and-few-shot-classification#parameter-num_iters",label:n.t("reader.demo.learn_more"),size:"xs",outline:"",square:"",icon:"open_in_new",target:"_blank"},null,8,["label"])]),_:1})]),_:1}),C(X,{side:""},{default:T(()=>[C(Ne,{modelValue:n.payload.num_iters,"onUpdate:modelValue":e[1]||(e[1]=o=>n.payload.num_iters=o),type:"number",min:"1",max:"1000",step:"1",square:"",filled:"","hide-bottom-space":"",rules:[o=>o>=1&&o<=1e3]},null,8,["modelValue","rules"])]),_:1})]),_:1}),C(Ye,{spaced:""}),C(hn,{name:"list2"},{default:T(()=>[C(le,null,{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[V(B(n.t("classifier.train_inputs")),1)]),_:1}),C(K,{caption:""},{default:T(()=>[V(B(n.t("classifier.train_inputs_explain")),1)]),_:1})]),_:1})]),_:1}),(O(!0),ye(Me,null,ra(n.payload.input,(o,s)=>(O(),j(le,{key:s,class:"q-pa-none"},{default:T(()=>[C(X,null,{default:T(()=>[C(Ne,{modelValue:o.value,"onUpdate:modelValue":l=>o.value=l,class:"text-caption",filled:"",square:"","hide-bottom-space":"",rules:[l=>!!l]},{prepend:T(()=>[C(Je,{label:s+1,size:"xs",outline:""},null,8,["label"]),o.type==="text"?(O(),j(me,{key:0,name:"text_fields",size:"xs"})):(O(),j(pl,{key:1,src:o.value,style:{width:"18px",height:"18px"}},{error:T(()=>[C(me,{name:"image",size:"xs"})]),_:2},1032,["src"]))]),_:2},1032,["modelValue","onUpdate:modelValue","rules"])]),_:2},1024),C(Ye,{vertical:""}),C(X,{side:"",style:{"padding-left":"0"}},{default:T(()=>[C(Ne,{modelValue:o.label,"onUpdate:modelValue":l=>o.label=l,label:n.t("classifier.train_label"),class:"text-caption",filled:"",square:"","hide-bottom-space":"",rules:[l=>!!l]},null,8,["modelValue","onUpdate:modelValue","label","rules"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["horizontal"])}const uC=Be(oC,[["render",lC],["__file","TrainPanel.vue"]]),cC=Oe({__name:"UsageComponent",setup(t,{expose:e}){e();const{t:a}=Ze({useScope:"global"}),n=Va(),r=oa(),{task:i,apiKey:o,classifiers:s}=Ge(r),l=z({input:Wi,labels:Wi.map(S=>S.label),model:"jina-embeddings-v3",action:"list"}),u=z(!1),c=Un("componentRef"),d=z({}),f=[sa.CLASSIFY,sa.TRAIN,sa.MANAGE],p=H({get:()=>i.value||sa.CLASSIFY,set:S=>{i.value=S}}),m={[sa.CLASSIFY]:iC,[sa.TRAIN]:uC,[sa.MANAGE]:tC},g={[sa.CLASSIFY]:`${Gn}/v1/classify`,[sa.TRAIN]:`${Gn}/v1/train`,[sa.MANAGE]:`${Gn}/v1/classifiers`},h=H(()=>{var k,b,M;const S={};for(const D in l.value)l.value[D]&&(D==="input"?S.input=(b=(k=l.value)==null?void 0:k.input)==null?void 0:b.map(L=>{if(p.value===sa.TRAIN)return{[L.type]:L.value,label:L.label};if(p.value===sa.CLASSIFY){const P=s.value.find(I=>I.classifier_id===l.value.classifier_id);if((P==null?void 0:P.model_name)==="jina-embeddings-v3"||l.value.model==="jina-embeddings-v3")return L.value}return{[L.type]:L.value}}):D==="labels"?S.labels=(M=l.value)==null?void 0:M.labels:S[D]=l.value[D]);return S}),v=H(()=>`
\`\`\`bash
${[`curl ${g[p.value]}`,'  -H "Content-Type: application/json"',`  -H "Authorization: Bearer ${o.value}"`,`  -d @- <<EOFEOF
  {
    ${JSON.stringify(h.value,null,4).slice(1,-1).trim()}
  }
EOFEOF`].join(` \\
`)}
\`\`\`
  `),_=H(()=>`
\`\`\`bash
${[`curl ${g[p.value]}`,'	 -H "Content-Type: application/json"',`	 -H "Authorization: Bearer ${o.value}"`].join(` \\
`)}
\`\`\`
  `),y=H(()=>`
\`\`\`bash
${[`curl ${g[p.value]}/${l.value.classifier_id||"classifier_id"}`,'	 -X "DELETE"','	 -H "Content-Type: application/json"',`	 -H "Authorization: Bearer ${o.value}"`].join(` \\
`)}
\`\`\`
  `),x=H(()=>p.value===sa.MANAGE?l.value.action==="list"?_.value:y.value:v.value),A={t:a,$q:n,embeddingStore:r,task:i,apiKey:o,classifiers:s,payload:l,isBusy:u,componentRef:c,response:d,taskOptions:f,taskType:p,PANELS:m,baseUrl:g,adaptablePayload:h,adaptableCode:v,listCode:_,deleteCode:y,code:x,onChangeTask:S=>{S===sa.MANAGE&&(l.value.action="list",l.value.classifier_id="")},onExecute:()=>{d.value={};const S=p.value===sa.MANAGE,k=S&&l.value.action==="delete",b=k?`${g[p.value]}/${l.value.classifier_id}`:g[p.value];if(k&&!l.value.classifier_id)return;const M={"Content-Type":"application/json",Authorization:`Bearer ${o.value}`};u.value=!0,fetch(b,{method:S?k?"DELETE":"GET":"POST",headers:M,body:S?void 0:JSON.stringify(h.value)}).then(D=>(d.value={status:D.status,statusText:D.statusText},D.json())).then(async D=>{var L;if(u.value=!1,d.value={...d.value,data:D},p.value===sa.TRAIN||k){if(await r.getClassifiers(o.value),D.classifier_id){const P=s.value.find(I=>I.classifier_id===D.classifier_id);(L=c.value)==null||L.selectClassifier(P)}}else p.value===sa.MANAGE&&!k&&(s.value=D)}).catch(D=>{console.error("Error:",D),d.value={status:500,data:D.message}}).finally(()=>u.value=!1)},APIPanel:po,UsageHeader:ho};return Object.defineProperty(A,"__isScriptSetup",{enumerable:!1,value:!0}),A}});function dC(t,e,a,n,r,i){return O(),j(ba,{flat:"",class:"column no-wrap full-height"},{default:T(()=>[C(n.UsageHeader,{"home-link":"/classifier","faq-link":"/classifier#faq","is-support-c-s-p":!1,"api-link":"https://api.jina.ai/redoc#tag/classification"}),C(Ye),C(Ie,{horizontal:n.$q.screen.gt.sm,class:"q-pa-none",style:{"flex-grow":"1"}},{default:T(()=>[C(Ie,{class:"col-md-6 col-lg-5 col-xl-4 q-pa-none"},{default:T(()=>[C(Ya,{filled:"",square:"",class:"full-width",modelValue:n.taskType,"onUpdate:modelValue":[e[0]||(e[0]=o=>n.taskType=o),n.onChangeTask],options:n.taskOptions,label:n.t("classifier.task_select"),"display-value":n.t(`classifier.task_${n.taskType}`),"options-selected-class":"text-primary"},{option:T(o=>[C(le,Ls(Ps(o.itemProps)),{default:T(()=>[C(X,null,{default:T(()=>[C(K,{class:"text-bold"},{default:T(()=>[V(B(n.t(`classifier.task_${o.opt}`)),1)]),_:2},1024),C(K,{caption:""},{default:T(()=>[V(B(n.t(`classifier.task_${o.opt}_explain`)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","label","display-value"]),C(Ye),(O(),j(Hg(n.PANELS[n.taskType]),{ref:"componentRef",modelValue:n.payload,"onUpdate:modelValue":e[1]||(e[1]=o=>n.payload=o),onExecute:n.onExecute},null,40,["modelValue"]))]),_:1}),C(Ye,{vertical:n.$q.screen.gt.sm},null,8,["vertical"]),C(n.APIPanel,{code:n.code,onExecute:n.onExecute,loading:n.isBusy,response:n.response},null,8,["code","loading","response"])]),_:1},8,["horizontal"])]),_:1})}const LR=Be(cC,[["render",dC],["__file","UsageComponent.vue"]]),eh="q-slider__marker-labels",fC=t=>({value:t}),pC=({marker:t})=>xe("div",{key:t.value,style:t.style,class:t.classes},t.label),w_=[34,37,40,33,39,38],hC={...Ug,...h1,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:t=>t>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},vC=["pan","update:modelValue","change"];function mC({updateValue:t,updatePosition:e,getDragging:a,formAttrs:n}){const{props:r,emit:i,slots:o,proxy:{$q:s}}=ul(),l=Gg(r,s),u=g1(n),c=z(!1),d=z(!1),f=z(!1),p=z(!1),m=H(()=>r.vertical===!0?"--v":"--h"),g=H(()=>"-"+(r.switchLabelSide===!0?"switched":"standard")),h=H(()=>r.vertical===!0?r.reverse===!0:r.reverse!==(s.lang.rtl===!0)),v=H(()=>isNaN(r.innerMin)===!0||r.innerMin<r.min?r.min:r.innerMin),_=H(()=>isNaN(r.innerMax)===!0||r.innerMax>r.max?r.max:r.innerMax),y=H(()=>r.disable!==!0&&r.readonly!==!0&&v.value<_.value),x=H(()=>{if(r.step===0)return _e=>_e;const Y=(String(r.step).trim().split(".")[1]||"").length;return _e=>parseFloat(_e.toFixed(Y))}),E=H(()=>r.step===0?1:r.step),w=H(()=>y.value===!0?r.tabindex||0:-1),A=H(()=>r.max-r.min),S=H(()=>_.value-v.value),k=H(()=>te(v.value)),b=H(()=>te(_.value)),M=H(()=>r.vertical===!0?h.value===!0?"bottom":"top":h.value===!0?"right":"left"),D=H(()=>r.vertical===!0?"height":"width"),L=H(()=>r.vertical===!0?"width":"height"),P=H(()=>r.vertical===!0?"vertical":"horizontal"),I=H(()=>{const Y={role:"slider","aria-valuemin":v.value,"aria-valuemax":_.value,"aria-orientation":P.value,"data-step":r.step};return r.disable===!0?Y["aria-disabled"]="true":r.readonly===!0&&(Y["aria-readonly"]="true"),Y}),R=H(()=>`q-slider q-slider${m.value} q-slider--${c.value===!0?"":"in"}active inline no-wrap `+(r.vertical===!0?"row":"column")+(r.disable===!0?" disabled":" q-slider--enabled"+(y.value===!0?" q-slider--editable":""))+(f.value==="both"?" q-slider--focus":"")+(r.label||r.labelAlways===!0?" q-slider--label":"")+(r.labelAlways===!0?" q-slider--label-always":"")+(l.value===!0?" q-slider--dark":"")+(r.dense===!0?" q-slider--dense q-slider--dense"+m.value:""));function U(Y){const _e="q-slider__"+Y;return`${_e} ${_e}${m.value} ${_e}${m.value}${g.value}`}function N(Y){const _e="q-slider__"+Y;return`${_e} ${_e}${m.value}`}const W=H(()=>{const Y=r.selectionColor||r.color;return"q-slider__selection absolute"+(Y!==void 0?` text-${Y}`:"")}),Q=H(()=>N("markers")+" absolute overflow-hidden"),re=H(()=>N("track-container")),ue=H(()=>U("pin")),J=H(()=>U("label")),ie=H(()=>U("text-container")),F=H(()=>U("marker-labels-container")+(r.markerLabelsClass!==void 0?` ${r.markerLabelsClass}`:"")),G=H(()=>"q-slider__track relative-position no-outline"+(r.trackColor!==void 0?` bg-${r.trackColor}`:"")),ee=H(()=>{const Y={[L.value]:r.trackSize};return r.trackImg!==void 0&&(Y.backgroundImage=`url(${r.trackImg}) !important`),Y}),$=H(()=>"q-slider__inner absolute"+(r.innerTrackColor!==void 0?` bg-${r.innerTrackColor}`:"")),Z=H(()=>{const Y=b.value-k.value,_e={[M.value]:`${100*k.value}%`,[D.value]:Y===0?"2px":`${100*Y}%`};return r.innerTrackImg!==void 0&&(_e.backgroundImage=`url(${r.innerTrackImg}) !important`),_e});function pe(Y){const{min:_e,max:Ke,step:Qe}=r;let da=_e+Y*(Ke-_e);if(Qe>0){const Nt=(da-v.value)%Qe;da+=(Math.abs(Nt)>=Qe/2?(Nt<0?-1:1)*Qe:0)-Nt}return da=x.value(da),Tr(da,v.value,_.value)}function te(Y){return A.value===0?0:(Y-r.min)/A.value}function oe(Y,_e){const Ke=v1(Y),Qe=r.vertical===!0?Tr((Ke.top-_e.top)/_e.height,0,1):Tr((Ke.left-_e.left)/_e.width,0,1);return Tr(h.value===!0?1-Qe:Qe,k.value,b.value)}const He=H(()=>zg(r.markers)===!0?r.markers:E.value),We=H(()=>{const Y=[],_e=He.value,Ke=r.max;let Qe=r.min;do Y.push(Qe),Qe+=_e;while(Qe<Ke);return Y.push(Ke),Y}),wa=H(()=>{const Y=` ${eh}${m.value}-`;return eh+`${Y}${r.switchMarkerLabelsSide===!0?"switched":"standard"}${Y}${h.value===!0?"rtl":"ltr"}`}),qa=H(()=>r.markerLabels===!1?null:_o(r.markerLabels).map((Y,_e)=>({index:_e,value:Y.value,label:Y.label||Y.value,classes:wa.value+(Y.classes!==void 0?" "+Y.classes:""),style:{...ei(Y.value),...Y.style||{}}}))),$a=H(()=>({markerList:qa.value,markerMap:Ul.value,classes:wa.value,getStyle:ei})),zt=H(()=>{const Y=S.value===0?"2px":100*He.value/S.value;return{...Z.value,backgroundSize:r.vertical===!0?`2px ${Y}%`:`${Y}% 2px`}});function _o(Y){if(Y===!1)return null;if(Y===!0)return We.value.map(fC);if(typeof Y=="function")return We.value.map(Ke=>{const Qe=Y(Ke);return Ql(Qe)===!0?{...Qe,value:Ke}:{value:Ke,label:Qe}});const _e=({value:Ke})=>Ke>=r.min&&Ke<=r.max;return Array.isArray(Y)===!0?Y.map(Ke=>Ql(Ke)===!0?Ke:{value:Ke}).filter(_e):Object.keys(Y).map(Ke=>{const Qe=Y[Ke],da=Number(Ke);return Ql(Qe)===!0?{...Qe,value:da}:{value:da,label:Qe}}).filter(_e)}function ei(Y){return{[M.value]:`${100*(Y-r.min)/A.value}%`}}const Ul=H(()=>{if(r.markerLabels===!1)return null;const Y={};return qa.value.forEach(_e=>{Y[_e.value]=_e}),Y});function Gl(){if(o["marker-label-group"]!==void 0)return o["marker-label-group"]($a.value);const Y=o["marker-label"]||pC;return qa.value.map(_e=>Y({marker:_e,...$a.value}))}const rp=H(()=>[[N1,Hl,void 0,{[P.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Hl(Y){Y.isFinal===!0?(p.value!==void 0&&(e(Y.evt),Y.touch===!0&&t(!0),p.value=void 0,i("pan","end")),c.value=!1,f.value=!1):Y.isFirst===!0?(p.value=a(Y.evt),e(Y.evt),t(),c.value=!0,i("pan","start")):(e(Y.evt),t())}function ip(){f.value=!1}function jb(Y){e(Y,a(Y)),t(),d.value=!0,c.value=!0,document.addEventListener("mouseup",Wl,!0)}function Wl(){d.value=!1,c.value=!1,t(!0),ip(),document.removeEventListener("mouseup",Wl,!0)}function Fb(Y){e(Y,a(Y)),t(!0)}function Ub(Y){w_.includes(Y.keyCode)&&t(!0)}function Gb(Y){if(r.vertical===!0)return null;const _e=s.lang.rtl!==r.reverse?1-Y:Y;return{transform:`translateX(calc(${2*_e-1} * ${r.thumbSize} / 2 + ${50-100*_e}%))`}}function Hb(Y){const _e=H(()=>d.value===!1&&(f.value===Y.focusValue||f.value==="both")?" q-slider--focus":""),Ke=H(()=>`q-slider__thumb q-slider__thumb${m.value} q-slider__thumb${m.value}-${h.value===!0?"rtl":"ltr"} absolute non-selectable`+_e.value+(Y.thumbColor.value!==void 0?` text-${Y.thumbColor.value}`:"")),Qe=H(()=>({width:r.thumbSize,height:r.thumbSize,[M.value]:`${100*Y.ratio.value}%`,zIndex:f.value===Y.focusValue?2:void 0})),da=H(()=>Y.labelColor.value!==void 0?` text-${Y.labelColor.value}`:""),Nt=H(()=>Gb(Y.ratio.value)),Kl=H(()=>"q-slider__text"+(Y.labelTextColor.value!==void 0?` text-${Y.labelTextColor.value}`:""));return()=>{const Yl=[xe("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[xe("path",{d:r.thumbPath})]),xe("div",{class:"q-slider__focus-ring fit"})];return(r.label===!0||r.labelAlways===!0)&&(Yl.push(xe("div",{class:ue.value+" absolute fit no-pointer-events"+da.value},[xe("div",{class:J.value,style:{minWidth:r.thumbSize}},[xe("div",{class:ie.value,style:Nt.value},[xe("span",{class:Kl.value},Y.label.value)])])])),r.name!==void 0&&r.disable!==!0&&u(Yl,"push")),xe("div",{class:Ke.value,style:Qe.value,...Y.getNodeData()},Yl)}}function Wb(Y,_e,Ke,Qe){const da=[];r.innerTrackColor!=="transparent"&&da.push(xe("div",{key:"inner",class:$.value,style:Z.value})),r.selectionColor!=="transparent"&&da.push(xe("div",{key:"selection",class:W.value,style:Y.value})),r.markers!==!1&&da.push(xe("div",{key:"marker",class:Q.value,style:zt.value})),Qe(da);const Nt=[m1("div",{key:"trackC",class:re.value,tabindex:_e.value,...Ke.value},[xe("div",{class:G.value,style:ee.value},da)],"slide",y.value,()=>rp.value)];if(r.markerLabels!==!1){const Kl=r.switchMarkerLabelsSide===!0?"unshift":"push";Nt[Kl](xe("div",{key:"markerL",class:F.value},Gl()))}return Nt}return Wd(()=>{document.removeEventListener("mouseup",Wl,!0)}),{state:{active:c,focus:f,preventFocus:d,dragging:p,editable:y,classes:R,tabindex:w,attributes:I,roundValueFn:x,keyStep:E,trackLen:A,innerMin:v,innerMinRatio:k,innerMax:_,innerMaxRatio:b,positionProp:M,sizeProp:D,isReversed:h},methods:{onActivate:jb,onMobileClick:Fb,onBlur:ip,onKeyup:Ub,getContent:Wb,getThumbRenderFn:Hb,convertRatioToModel:pe,convertModelToRatio:te,getDraggingRatio:oe}}}const gC=()=>({}),_C=ar({name:"QSlider",props:{...hC,modelValue:{required:!0,default:null,validator:t=>typeof t=="number"||t===null},labelValue:[String,Number]},emits:vC,setup(t,{emit:e}){const{proxy:{$q:a}}=ul(),{state:n,methods:r}=mC({updateValue:m,updatePosition:h,getDragging:g,formAttrs:_1(t)}),i=z(null),o=z(0),s=z(0);function l(){s.value=t.modelValue===null?n.innerMin.value:Tr(t.modelValue,n.innerMin.value,n.innerMax.value)}Ds(()=>`${t.modelValue}|${n.innerMin.value}|${n.innerMax.value}`,l),l();const u=H(()=>r.convertModelToRatio(s.value)),c=H(()=>n.active.value===!0?o.value:u.value),d=H(()=>{const y={[n.positionProp.value]:`${100*n.innerMinRatio.value}%`,[n.sizeProp.value]:`${100*(c.value-n.innerMinRatio.value)}%`};return t.selectionImg!==void 0&&(y.backgroundImage=`url(${t.selectionImg}) !important`),y}),f=r.getThumbRenderFn({focusValue:!0,getNodeData:gC,ratio:c,label:H(()=>t.labelValue!==void 0?t.labelValue:s.value),thumbColor:H(()=>t.thumbColor||t.color),labelColor:H(()=>t.labelColor),labelTextColor:H(()=>t.labelTextColor)}),p=H(()=>n.editable.value!==!0?{}:a.platform.is.mobile===!0?{onClick:r.onMobileClick}:{onMousedown:r.onActivate,onFocus:v,onBlur:r.onBlur,onKeydown:_,onKeyup:r.onKeyup});function m(y){s.value!==t.modelValue&&e("update:modelValue",s.value),y===!0&&e("change",s.value)}function g(){return i.value.getBoundingClientRect()}function h(y,x=n.dragging.value){const E=r.getDraggingRatio(y,x);s.value=r.convertRatioToModel(E),o.value=t.snap!==!0||t.step===0?E:r.convertModelToRatio(s.value)}function v(){n.focus.value=!0}function _(y){if(!w_.includes(y.keyCode))return;y1(y);const x=([34,33].includes(y.keyCode)?10:1)*n.keyStep.value,E=([34,37,40].includes(y.keyCode)?-1:1)*(n.isReversed.value===!0?-1:1)*(t.vertical===!0?-1:1)*x;s.value=Tr(n.roundValueFn.value(s.value+E),n.innerMin.value,n.innerMax.value),m()}return()=>{const y=r.getContent(d,n.tabindex,p,x=>{x.push(f())});return xe("div",{ref:i,class:n.classes.value+(t.modelValue===null?" q-slider--no-value":""),...n.attributes.value,"aria-valuenow":t.modelValue},y)}}}),yC=Oe({__name:"ColorChunks",props:{chunks:{}},setup(t,{expose:e}){e();const a=t,n=["red-3","cyan-3","orange-3","blue-3","yellow-3","purple-3","lime-3","deep-purple-3","green-3","pink-3","teal-3","deep-orange-3","indigo-3","amber-3","light-blue-3","brown-3","light-green-3"],r=H(()=>a.chunks.map(o=>o.replace(/\s/g,s=>s===`
`?`↵
`:s==="	"?"→	":s))),i={props:a,colors:n,visualChunks:r};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),bC={class:"dense-lines"},wC={style:{"white-space":"pre-line","word-break":"break-word"}};function xC(t,e,a,n,r,i){return O(),ye("div",bC,[Te("pre",wC,[(O(!0),ye(Me,null,ra(n.visualChunks,(o,s)=>(O(),ye("span",{key:s,class:qr(`cursor-pointer bg-${n.colors[s%n.colors.length]} text-dark hoverShowBorder dense-lines`)},B(o),3))),128))])])}const SC=Be(yC,[["render",xC],["__scopeId","data-v-c0d2e7eb"],["__file","ColorChunks.vue"]]),CC=Oe({__name:"TokenVisualizer",props:{exampleTokens:Array,exampleChunks:{type:Array,default:()=>[]}},setup(t,{expose:e}){e();const{t:a}=Ze({useScope:"global"}),n=z(!0),r=t,i=u=>Array.isArray(u)&&Array.isArray(u[0])&&Array.isArray(u[0][0]),o=H(()=>i(r.exampleTokens)),s=H(()=>o.value?r.exampleTokens:[r.exampleTokens]),l={t:a,showSpace:n,props:r,isTripleNestedArray:i,isExampleTripleNestedArray:o,unifyExampleTokensToTripleNestedArray:s,ColorChunks:SC};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}});function AC(t,e,a,n,r,i){return O(),j(Ie,{class:"q-pa-none"},{default:T(()=>[C(Wg,null,{default:T(()=>[C(qt,{label:n.t("tokenizer.show_space"),modelValue:n.showSpace,"onUpdate:modelValue":e[0]||(e[0]=o=>n.showSpace=o),"checked-icon":"space_bar"},null,8,["label","modelValue"])]),_:1}),a.exampleChunks.length?(O(),j(Ie,{key:0},{default:T(()=>[C(n.ColorChunks,{chunks:a.exampleChunks},null,8,["chunks"])]),_:1})):ne("",!0),(O(!0),ye(Me,null,ra(n.unifyExampleTokensToTripleNestedArray,(o,s)=>(O(),j(ba,{flat:"",square:"",key:s,class:"q-my-xs q-hoverable"},{default:T(()=>[e[1]||(e[1]=Te("span",{class:"q-focus-helper"},null,-1)),n.unifyExampleTokensToTripleNestedArray.length>1?(O(),j(Ie,{key:0,class:"text-caption text-dim q-pb-none row items-center"},{default:T(()=>[C(me,{name:"segment",class:"q-mr-xs"}),V(" "+B(n.t("tokenizer.chunk"))+" "+B(s),1)]),_:2},1024)):ne("",!0),C(Ie,null,{default:T(()=>[C(hn,{name:"list"},{default:T(()=>[(O(!0),ye(Me,null,ra(o,(l,u)=>(O(),j(Je,{key:`${l[0]}_${u}`,label:n.showSpace?l[0].replace(" ","␣"):l[0],outline:"",style:{"border-radius":"0"},class:"q-py-none q-px-xs",size:n.unifyExampleTokensToTripleNestedArray.length>1?"sm":void 0},{default:T(()=>[C(ze,null,{default:T(()=>[V(B(n.t("tokenizer.token_index",{_index:l[1].join(",")})),1)]),_:2},1024)]),_:2},1032,["label","size"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})}const TC=Be(CC,[["render",AC],["__file","TokenVisualizer.vue"]]),ah="https://segment.jina.ai/?content=",EC=Oe({__name:"TokenizerUsageComponent",setup(t,{expose:e}){e();const{t:a}=Ze({useScope:"global"}),n=Va(),r=z(!1),i=oa(),{apiKey:o}=Ge(i),s=z({}),l=z(`
  Jina AI: Your Search Foundation, Supercharged! 🚀
  Ihrer Suchgrundlage, aufgeladen! 🚀
  您的搜索底座，从此不同！🚀
  検索ベース,もう二度と同じことはありません！🚀
`),u=z(null);let c=null;const d=z({}),f=nr(),{settings:p}=Ge(f),m=z(!1),g=z(0),h=z({}),v=z(null),_=z("cl100k_base"),y=z(null),x={cl100k_base:["gpt-4","gpt-3.5-turbo","gpt-3.5","gpt-35-turbo","davinci-002","babbage-002","text-embedding-ada-002","text-embedding-3-small","text-embedding-3-large"],o200k_base:["gpt-4o","gpt-4o-mini"],p50k_base:["text-davinci-003","text-davinci-002","code-davinci-002","code-davinci-001","code-cushman-002","code-cushman-001","davinci-codex","cushman-codex"],r50k_base:["text-davinci-001","text-curie-001","text-babbage-001","text-ada-001","davinci","curie","babbage","ada","text-similarity-davinci-001","text-similarity-curie-001","text-similarity-babbage-001","text-similarity-ada-001","text-search-davinci-doc-001","text-search-curie-doc-001","text-search-babbage-doc-001","text-search-ada-doc-001","code-search-babbage-code-001","code-search-ada-code-001"],p50k_edit:["text-davinci-edit-001","code-davinci-edit-001"],gpt2:["gpt2","gpt-2"]},E=z(Object.keys(x).map(L=>({label:a(`${L}`),value:L})).flat()),w=function(L){return a(`${L.value}`)},A=()=>{h.value={};let L="https://segment.jina.ai/";for(const I of b.value)I.disabled&&I.key!=="max_chunk_length"&&I.set(!1);const P={};for(const[I,R]of Object.entries(d.value))R&&(typeof R=="string"?P[I]=R:Array.isArray(R)&&(P[I]=R.join(", ")));m.value=!0,fetch(L,{method:"POST",headers:{"Content-Type":"application/json",...P},body:JSON.stringify(S.value)}).then(I=>(h.value={status:I.status,statusText:I.statusText},I.json())).then(I=>{m.value=!1,v.value=I.tokens,y.value=I.chunks,h.value={...h.value,data:I}}).catch(I=>{console.error("Error:",I),h.value={status:500,data:I.message}}).finally(()=>m.value=!1)},S=H(()=>{const L={content:l.value};_.value!=="cl100k_base"&&(L.tokenizer=_.value);for(const[P,I]of Object.entries(s.value))I&&(typeof I=="string"||typeof I=="number"||typeof I=="boolean"?L[P]=I:Array.isArray(I)&&(L[P]=I.join(", ")));return L}),k=H(()=>{let L="https://segment.jina.ai/";for(const U of b.value)U.disabled&&U.key!=="max_chunk_length"&&U.set(!1);const P=["Content-Type: application/json"];for(const[U,N]of Object.entries(d.value))if(N){if(typeof N=="string")P.push(`${U}: ${N}`);else if(Array.isArray(N))for(const W of N)P.push(`${U}: ${W}`)}let I="";return I=" -X POST",`
\`\`\`bash
${[`curl${I} '${L}'`,...P.map(U=>`  -H "${U}"`),cw(S.value)?null:`  -d @- <<EOFEOF
  {
    ${JSON.stringify(S.value,null,4).slice(1,-1).trim()}
  }
EOFEOF
`].filter(Boolean).join(` \\
`)}
\`\`\`
  `}),b=z([{header:"Authorization",value:`Bearer ${o.value}`,label:"auth_token",url:"/segmenter#rate-limit",get disabled(){return!o.value},get indicator(){return!!d.value[this.header]},set(L){L?d.value[this.header]=this.value:delete d.value[this.header]}},{key:"return_tokens",value:!1,label:"return_tokens",get indicator(){return s.value[this.key]===this.value||!1},set(L){this.value=L,L?s.value[this.key]=this.value:delete s.value[this.key]}},{key:"return_chunks",value:!1,label:"return_chunks",get indicator(){return s.value[this.key]===this.value||!1},set(L){this.value=L,L?(s.value[this.key]=this.value,s.value.max_chunk_length=1e3):(delete s.value[this.key],delete s.value.max_chunk_length)}},{key:"max_chunk_length",value:1e3,type:"slider",label:"max_chunk_length",min:500,max:2e3,step:100,get disabled(){return!s.value.return_chunks},get indicator(){return!!s.value.return_chunks},set(L){this.value=L,L&&(s.value[this.key]=this.value)}},{key:"head",value:5,type:"number",label:"head",get indicator(){return s.value[this.key]===this.value||!1},set(L){typeof L=="boolean"?L?(delete s.value.tail,s.value[this.key]=this.value):delete s.value[this.key]:(this.value=L,delete s.value.tail,s.value[this.key]=this.value)}},{key:"tail",value:5,type:"number",label:"tail",get indicator(){return s.value[this.key]===this.value||!1},set(L){typeof L=="boolean"?L?(delete s.value.head,s.value[this.key]=this.value):delete s.value[this.key]:(this.value=L,delete s.value.head,s.value[this.key]=L)}}]);o.value&&(b.value[0].set(!0),b.value[1].set(!0),b.value[2].set(!0)),fl(()=>{r.value=!0,fetch(ah+encodeURIComponent(l.value)).then(L=>L.text()).then(L=>{g.value=Number(L)}).catch(L=>console.error("Error:",L)).finally(()=>r.value=!1)});const M=()=>{var P;const L=((P=u.value)==null?void 0:P.$el)||u.value;L instanceof HTMLElement?(c=new IntersectionObserver(I=>{I[0].isIntersecting&&(p.value.enableAutoAPIRequest&&A(),c==null||c.disconnect())},{root:null,threshold:.1}),c.observe(L)):console.error("Element is not an HTMLElement:",L)};tr(()=>{Lt(()=>{setTimeout(()=>{M()},100)})}),cl(()=>{c&&c.disconnect()});const D={t:a,$q:n,isBusyGET:r,embeddingStore:i,apiKey:o,tokenizeParameters:s,rawContent:l,componentRef:u,get observer(){return c},set observer(L){c=L},baseGETURL:ah,headers:d,userStore:f,settings:p,isBusy:m,baseGETURLTokenCounter:g,exampleResponse:h,exampleTokens:v,returnFormat:_,exampleChunks:y,modelsGroupedByTokenizer:x,returnFormats:E,returnFormatLabel:w,executeAdaptableJSCode:A,adaptablePayload:S,adaptableCode:k,availableParameters:b,initIntersectionObserver:M,get copyToClipboard(){return fo},get redirect(){return Et},TokenVisualizer:TC,APIPanel:po,UsageHeader:ho};return Object.defineProperty(D,"__isScriptSetup",{enumerable:!1,value:!0}),D}}),kC={class:"row text-primary items-center"},MC=["innerHTML"];function DC(t,e,a,n,r,i){return O(),j(ba,{flat:"",class:"column no-wrap full-height"},{default:T(()=>[C(n.UsageHeader,{"home-link":"/segmenter","faq-link":"/segmenter#faq","is-support-c-s-p":!1,"api-link":"https://segment.jina.ai/docs"}),C(Ye),C(Ie,{ref:"componentRef",class:"q-pa-none"},{default:T(()=>[C(_t,{class:"q-gutter-y-sm"},{default:T(()=>[C(K,{header:""},{default:T(()=>[V(B(n.t("tokenizer.basic_usage")),1)]),_:1}),C(le,{class:"row"},{default:T(()=>[C(Ne,{square:"",filled:"",prefix:n.baseGETURL,modelValue:n.rawContent,"onUpdate:modelValue":e[2]||(e[2]=o=>n.rawContent=o),class:"col-md col-sm-12",label:n.t("tokenizer.change_content"),"bottom-slots":"",debounce:"500"},{hint:T(()=>{var o;return[Te("div",kC,[n.isBusyGET?(O(),j(b1,{key:0,class:"q-mr-sm"})):ne("",!0),Te("span",{innerHTML:n.t("tokenizer.count_tokens_hint",{_numChars:((o=n.rawContent)==null?void 0:o.length)||0,_numTokens:n.baseGETURLTokenCounter})},null,8,MC)])]}),append:T(()=>[C(ve,{flat:"",dense:"",square:"",icon:"content_copy",onClick:e[0]||(e[0]=o=>n.copyToClipboard(n.baseGETURL+n.rawContent))},{default:T(()=>[C(ze,null,{default:T(()=>[V(B(n.t("reader.demo.copy")),1)]),_:1})]),_:1}),C(ve,{flat:"",dense:"",square:"",icon:"open_in_new",onClick:e[1]||(e[1]=o=>n.redirect(n.baseGETURL+n.rawContent))},{default:T(()=>[C(ze,null,{default:T(()=>[V(B(n.t("reader.demo.open")),1)]),_:1})]),_:1})]),_:1},8,["modelValue","label"])]),_:1}),C(ba,{flat:"",square:""},{default:T(()=>[C(Ye),C(Ie,{horizontal:n.$q.screen.gt.sm,class:"q-pa-none"},{default:T(()=>[C(Ie,{class:"col-md-6 col-lg-5 col-xl-4 q-pa-none"},{default:T(()=>[C(_t,{padding:""},{default:T(()=>[C(K,{header:""},{default:T(()=>[V(B(n.t("tokenizer.advance_usage")),1)]),_:1}),C(hn,{name:"list2"},{default:T(()=>[(O(!0),ye(Me,null,ra(n.availableParameters,o=>(O(),ye(Me,{key:o.label},[o.disabled?ne("",!0):(O(),j(le,{key:0,tag:"label"},{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[V(B(n.t(`tokenizer.parameters.${o.label}`)),1)]),_:2},1024),C(K,{caption:""},{default:T(()=>[V(B(n.t(`tokenizer.parameters.${o.label}_explain`)),1)]),_:2},1024),o.url?(O(),j(K,{key:0,caption:"",class:"q-pt-sm"},{default:T(()=>[C(ve,{href:o.url,label:n.t("tokenizer.parameters.learn_more"),size:"xs",outline:"",square:"",icon:"open_in_new",target:"_blank"},null,8,["href","label"])]),_:2},1024)):ne("",!0)]),_:2},1024),o.key!=="max_chunk_length"?(O(),j(X,{key:0,side:""},{default:T(()=>[C(qt,{disable:o.disabled,"model-value":o.indicator,"onUpdate:modelValue":s=>o.set(s)},null,8,["disable","model-value","onUpdate:modelValue"])]),_:2},1024)):ne("",!0),o.type==="text"||o.type==="number"?(O(),j(X,{key:1,side:""},{default:T(()=>[C(Ne,{"model-value":o.value,"onUpdate:modelValue":s=>o.set(s),filled:"",square:"",type:o.type,style:{"max-width":"100px"},disable:!o.indicator},null,8,["model-value","onUpdate:modelValue","type","disable"])]),_:2},1024)):ne("",!0),o.type==="slider"?(O(),j(X,{key:2,side:""},{default:T(()=>[C(_C,{label:"",snap:"",modelValue:o.value,"onUpdate:modelValue":s=>o.value=s,onChange:s=>o.set(s),min:o.min,max:o.max,step:o.step,style:{"min-width":"150px"},"label-text-color":"dark"},null,8,["modelValue","onUpdate:modelValue","onChange","min","max","step"])]),_:2},1024)):ne("",!0)]),_:2},1024))],64))),128)),C(le,{tag:"label"},{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[V(B(n.t("tokenizer.parameters.type")),1)]),_:1}),C(K,{caption:""},{default:T(()=>[V(B(n.t("tokenizer.parameters.type_explain")),1)]),_:1})]),_:1}),C(X,{side:""},{default:T(()=>[C(Ya,{options:n.returnFormats,modelValue:n.returnFormat,"onUpdate:modelValue":e[3]||(e[3]=o=>n.returnFormat=o),filled:"",square:"","emit-value":"","map-options":"","option-label":n.returnFormatLabel},{option:T(o=>[C(le,dl(o.itemProps,{style:{"max-width":"300px"}}),{default:T(()=>[C(X,null,{default:T(()=>[C(K,null,{default:T(()=>[V(B(o.opt.value),1)]),_:2},1024),C(K,{caption:"",lines:"2"},{default:T(()=>[V(B(n.t("tokenizer.parameters.used_by_models",{_usedBy:n.modelsGroupedByTokenizer[o.opt.value].join(", ")})),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["options","modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),C(Ye,{vertical:n.$q.screen.gt.sm},null,8,["vertical"]),C(n.APIPanel,{code:n.adaptableCode,onExecute:n.executeAdaptableJSCode,loading:n.isBusy,response:n.exampleResponse},Gd({_:2},[n.exampleChunks?{name:"visualization",fn:T(()=>[C(Je,{icon:"download",square:"",size:"sm",label:n.t("tokenizer.visualization"),class:"text-dim q-mr-sm",style:{"border-radius":"0"}},null,8,["label"]),C(n.TokenVisualizer,{exampleTokens:n.exampleTokens,exampleChunks:n.exampleChunks},null,8,["exampleTokens","exampleChunks"])]),key:"0"}:void 0]),1032,["code","loading","response"])]),_:1},8,["horizontal"])]),_:1})]),_:1})]),_:1},512)]),_:1})}const PR=Be(EC,[["render",DC],["__file","TokenizerUsageComponent.vue"]]),LC=Oe({__name:"AddKeyDialog",setup(t,{expose:e}){e();const{t:a}=Ze({useScope:"global"}),{dialogRef:n,onDialogOK:r}=F1(),i=oa(),o=Zd(),s=z(""),l=z(!1),u=z(!0),c=z(""),d=z(!0),p={t:a,dialogRef:n,onDialogOK:r,embeddingStore:i,apiKeyStore:o,apiKey:s,isBusy:l,isKeyValid:u,errorMsg:c,isPwd:d,onAdd:async()=>{if(s.value.trim()===""){u.value=!1,c.value=a("key_manager.invalid_key");return}try{l.value=!0,await i.getKeyInfo(s.value)?await o.addKey(s.value)?r():(u.value=!1,c.value=a("key_manager.existing_key")):(u.value=!1,c.value=a("key_manager.invalid_key"))}catch(m){u.value=!1,c.value=m instanceof Error?m.message:String(m)}finally{l.value=!1}},get KEY_ACTIONS(){return xr}};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}});function PC(t,e,a,n,r,i){return O(),j(w1,{ref:"dialogRef",persistent:""},{default:T(()=>[C(ba,{flat:"",square:"",class:"bg-mixed-200 q-pa-md"},{default:T(()=>[C(Ie,null,{default:T(()=>[V(B(n.t("key_manager.add_key_explain")),1)]),_:1}),C(Ie,{class:"flex justify-center"},{default:T(()=>[C(Ne,{modelValue:n.apiKey,"onUpdate:modelValue":e[1]||(e[1]=o=>n.apiKey=o),autofocus:"",filled:"",square:"",clearable:"",class:"full-width","input-class":"ellipsis",label:n.t("key_manager.add"),error:!n.isKeyValid,"error-message":n.errorMsg,type:n.isPwd?"password":"text",style:{width:"400px"}},{prepend:T(()=>[C(me,{name:"key"})]),append:T(()=>[C(me,{name:n.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[0]||(e[0]=o=>n.isPwd=!n.isPwd)},null,8,["name"])]),_:1},8,["modelValue","label","error","error-message","type"])]),_:1}),C(Wg,{align:"left"},{default:T(()=>[C(ve,{flat:"",square:"",label:n.t("key_manager.generate_new_key"),disable:n.isBusy,onClick:e[2]||(e[2]=o=>n.onDialogOK(n.KEY_ACTIONS.GENERATE))},{default:T(()=>[C(ze,null,{default:T(()=>[V(B(n.t("key_manager.generate_new_key_tooltip")),1)]),_:1})]),_:1},8,["label","disable"]),C(co),Pt(C(ve,{flat:"",square:"",label:n.t("key_manager.cancel")},null,8,["label"]),[[Bc]]),C(ve,{flat:"",square:"",label:n.t("key_manager.ok"),color:"primary",loading:n.isBusy,onClick:n.onAdd},null,8,["label","loading"])]),_:1})]),_:1})]),_:1},512)}const qC=Be(LC,[["render",PC],["__file","AddKeyDialog.vue"]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Hc=function(t,e){return Hc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])},Hc(t,e)};function qe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Hc(t,e);function a(){this.constructor=t}t.prototype=e===null?Object.create(e):(a.prototype=e.prototype,new a)}var IC=function(){function t(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return t}(),RC=function(){function t(){this.browser=new IC,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window!="undefined"}return t}(),ke=new RC;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(ke.wxa=!0,ke.touchEventsSupported=!0):typeof document=="undefined"&&typeof self!="undefined"?ke.worker=!0:typeof navigator=="undefined"||navigator.userAgent.indexOf("Node.js")===0?(ke.node=!0,ke.svgSupported=!0):OC(navigator.userAgent,ke);function OC(t,e){var a=e.browser,n=t.match(/Firefox\/([\d.]+)/),r=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),i=t.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(t);n&&(a.firefox=!0,a.version=n[1]),r&&(a.ie=!0,a.version=r[1]),i&&(a.edge=!0,a.version=i[1],a.newEdge=+i[1].split(".")[0]>18),o&&(a.weChat=!0),e.svgSupported=typeof SVGRect!="undefined",e.touchEventsSupported="ontouchstart"in window&&!a.ie&&!a.edge,e.pointerEventsSupported="onpointerdown"in window&&(a.edge||a.ie&&+a.version>=11),e.domSupported=typeof document!="undefined";var s=document.documentElement.style;e.transform3dSupported=(a.ie&&"transition"in s||a.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),e.transformSupported=e.transform3dSupported||a.ie&&+a.version>=9}var rf=12,BC="sans-serif",Qn=rf+"px "+BC,zC=20,NC=100,VC="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function jC(t){var e={};if(typeof JSON=="undefined")return e;for(var a=0;a<t.length;a++){var n=String.fromCharCode(a+32),r=(t.charCodeAt(a)-zC)/NC;e[n]=r}return e}var FC=jC(VC),Hr={createCanvas:function(){return typeof document!="undefined"&&document.createElement("canvas")},measureText:function(){var t,e;return function(a,n){if(!t){var r=Hr.createCanvas();t=r&&r.getContext("2d")}if(t)return e!==n&&(e=t.font=n||Qn),t.measureText(a);a=a||"",n=n||Qn;var i=/((?:\d+)?\.?\d*)px/.exec(n),o=i&&+i[1]||rf,s=0;if(n.indexOf("mono")>=0)s=o*a.length;else for(var l=0;l<a.length;l++){var u=FC[a[l]];s+=u==null?o:u*o}return{width:s}}}(),loadImage:function(t,e,a){var n=new Image;return n.onload=e,n.onerror=a,n.src=t,n}},x_=Wr(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(t,e){return t["[object "+e+"]"]=!0,t},{}),S_=Wr(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(t,e){return t["[object "+e+"Array]"]=!0,t},{}),vo=Object.prototype.toString,vl=Array.prototype,UC=vl.forEach,GC=vl.filter,of=vl.slice,HC=vl.map,th=(function(){}).constructor,To=th?th.prototype:null,sf="__proto__",WC=2311;function C_(){return WC++}function lf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];typeof console!="undefined"&&console.error.apply(console,t)}function De(t){if(t==null||typeof t!="object")return t;var e=t,a=vo.call(t);if(a==="[object Array]"){if(!Pi(t)){e=[];for(var n=0,r=t.length;n<r;n++)e[n]=De(t[n])}}else if(S_[a]){if(!Pi(t)){var i=t.constructor;if(i.from)e=i.from(t);else{e=new i(t.length);for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}}}else if(!x_[a]&&!Pi(t)&&!Wc(t)){e={};for(var o in t)t.hasOwnProperty(o)&&o!==sf&&(e[o]=De(t[o]))}return e}function Ve(t,e,a){if(!fe(e)||!fe(t))return a?De(e):t;for(var n in e)if(e.hasOwnProperty(n)&&n!==sf){var r=t[n],i=e[n];fe(i)&&fe(r)&&!se(i)&&!se(r)&&!Wc(i)&&!Wc(r)&&!nh(i)&&!nh(r)&&!Pi(i)&&!Pi(r)?Ve(r,i,a):(a||!(n in t))&&(t[n]=De(e[n]))}return t}function ae(t,e){if(Object.assign)Object.assign(t,e);else for(var a in e)e.hasOwnProperty(a)&&a!==sf&&(t[a]=e[a]);return t}function Se(t,e,a){for(var n=Xe(e),r=0;r<n.length;r++){var i=n[r];t[i]==null&&(t[i]=e[i])}return t}function Ue(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var a=0,n=t.length;a<n;a++)if(t[a]===e)return a}return-1}function KC(t,e){var a=t.prototype;function n(){}n.prototype=e.prototype,t.prototype=new n;for(var r in a)a.hasOwnProperty(r)&&(t.prototype[r]=a[r]);t.prototype.constructor=t,t.superClass=e}function wt(t,e,a){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r];i!=="constructor"&&t[i]==null&&(t[i]=e[i])}else Se(t,e)}function Ma(t){return!t||typeof t=="string"?!1:typeof t.length=="number"}function q(t,e,a){if(t&&e)if(t.forEach&&t.forEach===UC)t.forEach(e,a);else if(t.length===+t.length)for(var n=0,r=t.length;n<r;n++)e.call(a,t[n],n,t);else for(var i in t)t.hasOwnProperty(i)&&e.call(a,t[i],i,t)}function de(t,e,a){if(!t)return[];if(!e)return uf(t);if(t.map&&t.map===HC)return t.map(e,a);for(var n=[],r=0,i=t.length;r<i;r++)n.push(e.call(a,t[r],r,t));return n}function Wr(t,e,a,n){if(t&&e){for(var r=0,i=t.length;r<i;r++)a=e.call(n,a,t[r],r,t);return a}}function va(t,e,a){if(!t)return[];if(!e)return uf(t);if(t.filter&&t.filter===GC)return t.filter(e,a);for(var n=[],r=0,i=t.length;r<i;r++)e.call(a,t[r],r,t)&&n.push(t[r]);return n}function Xe(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var a in t)t.hasOwnProperty(a)&&e.push(a);return e}function YC(t,e){for(var a=[],n=2;n<arguments.length;n++)a[n-2]=arguments[n];return function(){return t.apply(e,a.concat(of.call(arguments)))}}var ma=To&&we(To.bind)?To.call.bind(To.bind):YC;function Xa(t){for(var e=[],a=1;a<arguments.length;a++)e[a-1]=arguments[a];return function(){return t.apply(this,e.concat(of.call(arguments)))}}function se(t){return Array.isArray?Array.isArray(t):vo.call(t)==="[object Array]"}function we(t){return typeof t=="function"}function be(t){return typeof t=="string"}function XC(t){return vo.call(t)==="[object String]"}function ta(t){return typeof t=="number"}function fe(t){var e=typeof t;return e==="function"||!!t&&e==="object"}function nh(t){return!!x_[vo.call(t)]}function Da(t){return!!S_[vo.call(t)]}function Wc(t){return typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.ownerDocument=="object"}function ml(t){return t.colorStops!=null}function ZC(t){return t.image!=null}function Rs(t){return t!==t}function Ki(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var a=0,n=t.length;a<n;a++)if(t[a]!=null)return t[a]}function Ae(t,e){return t!=null?t:e}function ps(t,e,a){return t!=null?t:e!=null?e:a}function uf(t){for(var e=[],a=1;a<arguments.length;a++)e[a-1]=arguments[a];return of.apply(t,e)}function A_(t){if(typeof t=="number")return[t,t,t,t];var e=t.length;return e===2?[t[0],t[1],t[0],t[1]]:e===3?[t[0],t[1],t[2],t[1]]:t}function sn(t,e){if(!t)throw new Error(e)}function Jt(t){return t==null?null:typeof t.trim=="function"?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var T_="__ec_primitive__";function Kc(t){t[T_]=!0}function Pi(t){return t[T_]}var QC=function(){function t(){this.data={}}return t.prototype.delete=function(e){var a=this.has(e);return a&&delete this.data[e],a},t.prototype.has=function(e){return this.data.hasOwnProperty(e)},t.prototype.get=function(e){return this.data[e]},t.prototype.set=function(e,a){return this.data[e]=a,this},t.prototype.keys=function(){return Xe(this.data)},t.prototype.forEach=function(e){var a=this.data;for(var n in a)a.hasOwnProperty(n)&&e(a[n],n)},t}(),E_=typeof Map=="function";function JC(){return E_?new Map:new QC}var $C=function(){function t(e){var a=se(e);this.data=JC();var n=this;e instanceof t?e.each(r):e&&q(e,r);function r(i,o){a?n.set(i,o):n.set(o,i)}}return t.prototype.hasKey=function(e){return this.data.has(e)},t.prototype.get=function(e){return this.data.get(e)},t.prototype.set=function(e,a){return this.data.set(e,a),a},t.prototype.each=function(e,a){this.data.forEach(function(n,r){e.call(a,n,r)})},t.prototype.keys=function(){var e=this.data.keys();return E_?Array.from(e):e},t.prototype.removeKey=function(e){this.data.delete(e)},t}();function ge(t){return new $C(t)}function eA(t,e){for(var a=new t.constructor(t.length+e.length),n=0;n<t.length;n++)a[n]=t[n];for(var r=t.length,n=0;n<e.length;n++)a[n+r]=e[n];return a}function gl(t,e){var a;if(Object.create)a=Object.create(t);else{var n=function(){};n.prototype=t,a=new n}return e&&ae(a,e),a}function k_(t){var e=t.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function Yi(t,e){return t.hasOwnProperty(e)}function Za(){}var aA=180/Math.PI;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Yc=function(t,e){return Yc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])},Yc(t,e)};function Re(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Yc(t,e);function a(){this.constructor=t}t.prototype=e===null?Object.create(e):(a.prototype=e.prototype,new a)}function Kr(t,e){return t==null&&(t=0),e==null&&(e=0),[t,e]}function tA(t){return[t[0],t[1]]}function rh(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t}function nA(t,e,a){return t[0]=e[0]-a[0],t[1]=e[1]-a[1],t}function rA(t){return Math.sqrt(iA(t))}function iA(t){return t[0]*t[0]+t[1]*t[1]}function _u(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t}function oA(t,e){var a=rA(e);return a===0?(t[0]=0,t[1]=0):(t[0]=e[0]/a,t[1]=e[1]/a),t}function Xc(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var sA=Xc;function lA(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var Rr=lA;function uA(t,e,a,n){return t[0]=e[0]+n*(a[0]-e[0]),t[1]=e[1]+n*(a[1]-e[1]),t}function Qa(t,e,a){var n=e[0],r=e[1];return t[0]=a[0]*n+a[2]*r+a[4],t[1]=a[1]*n+a[3]*r+a[5],t}function Er(t,e,a){return t[0]=Math.min(e[0],a[0]),t[1]=Math.min(e[1],a[1]),t}function kr(t,e,a){return t[0]=Math.max(e[0],a[0]),t[1]=Math.max(e[1],a[1]),t}var sr=function(){function t(e,a){this.target=e,this.topTarget=a&&a.topTarget}return t}(),cA=function(){function t(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(e){for(var a=e.target;a&&!a.draggable;)a=a.parent||a.__hostTarget;a&&(this._draggingTarget=a,a.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new sr(a,e),"dragstart",e.event))},t.prototype._drag=function(e){var a=this._draggingTarget;if(a){var n=e.offsetX,r=e.offsetY,i=n-this._x,o=r-this._y;this._x=n,this._y=r,a.drift(i,o,e),this.handler.dispatchToElement(new sr(a,e),"drag",e.event);var s=this.handler.findHover(n,r,a).target,l=this._dropTarget;this._dropTarget=s,a!==s&&(l&&s!==l&&this.handler.dispatchToElement(new sr(l,e),"dragleave",e.event),s&&s!==l&&this.handler.dispatchToElement(new sr(s,e),"dragenter",e.event))}},t.prototype._dragEnd=function(e){var a=this._draggingTarget;a&&(a.dragging=!1),this.handler.dispatchToElement(new sr(a,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new sr(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},t}(),xt=function(){function t(e){e&&(this._$eventProcessor=e)}return t.prototype.on=function(e,a,n,r){this._$handlers||(this._$handlers={});var i=this._$handlers;if(typeof a=="function"&&(r=n,n=a,a=null),!n||!e)return this;var o=this._$eventProcessor;a!=null&&o&&o.normalizeQuery&&(a=o.normalizeQuery(a)),i[e]||(i[e]=[]);for(var s=0;s<i[e].length;s++)if(i[e][s].h===n)return this;var l={h:n,query:a,ctx:r||this,callAtLast:n.zrEventfulCallAtLast},u=i[e].length-1,c=i[e][u];return c&&c.callAtLast?i[e].splice(u,0,l):i[e].push(l),this},t.prototype.isSilent=function(e){var a=this._$handlers;return!a||!a[e]||!a[e].length},t.prototype.off=function(e,a){var n=this._$handlers;if(!n)return this;if(!e)return this._$handlers={},this;if(a){if(n[e]){for(var r=[],i=0,o=n[e].length;i<o;i++)n[e][i].h!==a&&r.push(n[e][i]);n[e]=r}n[e]&&n[e].length===0&&delete n[e]}else delete n[e];return this},t.prototype.trigger=function(e){for(var a=[],n=1;n<arguments.length;n++)a[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[e],i=this._$eventProcessor;if(r)for(var o=a.length,s=r.length,l=0;l<s;l++){var u=r[l];if(!(i&&i.filter&&u.query!=null&&!i.filter(e,u.query)))switch(o){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,a[0]);break;case 2:u.h.call(u.ctx,a[0],a[1]);break;default:u.h.apply(u.ctx,a);break}}return i&&i.afterTrigger&&i.afterTrigger(e),this},t.prototype.triggerWithContext=function(e){for(var a=[],n=1;n<arguments.length;n++)a[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[e],i=this._$eventProcessor;if(r)for(var o=a.length,s=a[o-1],l=r.length,u=0;u<l;u++){var c=r[u];if(!(i&&i.filter&&c.query!=null&&!i.filter(e,c.query)))switch(o){case 0:c.h.call(s);break;case 1:c.h.call(s,a[0]);break;case 2:c.h.call(s,a[0],a[1]);break;default:c.h.apply(s,a.slice(1,o-1));break}}return i&&i.afterTrigger&&i.afterTrigger(e),this},t}(),dA=Math.log(2);function Zc(t,e,a,n,r,i){var o=n+"-"+r,s=t.length;if(i.hasOwnProperty(o))return i[o];if(e===1){var l=Math.round(Math.log((1<<s)-1&~r)/dA);return t[a][l]}for(var u=n|1<<a,c=a+1;n&1<<c;)c++;for(var d=0,f=0,p=0;f<s;f++){var m=1<<f;m&r||(d+=(p%2?-1:1)*t[a][f]*Zc(t,e-1,c,u,r|m,i),p++)}return i[o]=d,d}function fA(t,e){var a=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],n={},r=Zc(a,8,0,0,0,n);if(r!==0){for(var i=[],o=0;o<8;o++)for(var s=0;s<8;s++)i[s]==null&&(i[s]=0),i[s]+=((o+s)%2?-1:1)*Zc(a,7,o===0?1:0,1<<o,1<<s,n)/r*e[o];return function(l,u,c){var d=u*i[6]+c*i[7]+1;l[0]=(u*i[0]+c*i[1]+i[2])/d,l[1]=(u*i[3]+c*i[4]+i[5])/d}}}var ih="___zrEVENTSAVED";function pA(t,e,a,n,r){if(e.getBoundingClientRect&&ke.domSupported&&!M_(e)){var i=e[ih]||(e[ih]={}),o=hA(e,i),s=vA(o,i);if(s)return s(t,a,n),!0}return!1}function hA(t,e){var a=e.markers;if(a)return a;a=e.markers=[];for(var n=["left","right"],r=["top","bottom"],i=0;i<4;i++){var o=document.createElement("div"),s=o.style,l=i%2,u=(i>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",r[u]+":0",n[1-l]+":auto",r[1-u]+":auto",""].join("!important;"),t.appendChild(o),a.push(o)}return a}function vA(t,e,a){for(var n="trans",r=e[n],i=e.srcCoords,o=[],s=[],l=!0,u=0;u<4;u++){var c=t[u].getBoundingClientRect(),d=2*u,f=c.left,p=c.top;o.push(f,p),l=l&&i&&f===i[d]&&p===i[d+1],s.push(t[u].offsetLeft,t[u].offsetTop)}return l&&r?r:(e.srcCoords=o,e[n]=fA(o,s))}function M_(t){return t.nodeName.toUpperCase()==="CANVAS"}var mA=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,yu=[],gA=ke.browser.firefox&&+ke.browser.version.split(".")[0]<39;function Qc(t,e,a,n){return a=a||{},n?oh(t,e,a):gA&&e.layerX!=null&&e.layerX!==e.offsetX?(a.zrX=e.layerX,a.zrY=e.layerY):e.offsetX!=null?(a.zrX=e.offsetX,a.zrY=e.offsetY):oh(t,e,a),a}function oh(t,e,a){if(ke.domSupported&&t.getBoundingClientRect){var n=e.clientX,r=e.clientY;if(M_(t)){var i=t.getBoundingClientRect();a.zrX=n-i.left,a.zrY=r-i.top;return}else if(pA(yu,t,n,r)){a.zrX=yu[0],a.zrY=yu[1];return}}a.zrX=a.zrY=0}function cf(t){return t||window.event}function nt(t,e,a){if(e=cf(e),e.zrX!=null)return e;var n=e.type,r=n&&n.indexOf("touch")>=0;if(r){var o=n!=="touchend"?e.targetTouches[0]:e.changedTouches[0];o&&Qc(t,o,e,a)}else{Qc(t,e,e,a);var i=_A(e);e.zrDelta=i?i/120:-(e.detail||0)/3}var s=e.button;return e.which==null&&s!==void 0&&mA.test(e.type)&&(e.which=s&1?1:s&2?3:s&4?2:0),e}function _A(t){var e=t.wheelDelta;if(e)return e;var a=t.deltaX,n=t.deltaY;if(a==null||n==null)return e;var r=Math.abs(n!==0?n:a),i=n>0?-1:n<0?1:a>0?-1:1;return 3*r*i}function yA(t,e,a,n){t.addEventListener(e,a,n)}function bA(t,e,a,n){t.removeEventListener(e,a,n)}var D_=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0},wA=function(){function t(){this._track=[]}return t.prototype.recognize=function(e,a,n){return this._doTrack(e,a,n),this._recognize(e)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(e,a,n){var r=e.touches;if(r){for(var i={points:[],touches:[],target:a,event:e},o=0,s=r.length;o<s;o++){var l=r[o],u=Qc(n,l,{});i.points.push([u.zrX,u.zrY]),i.touches.push(l)}this._track.push(i)}},t.prototype._recognize=function(e){for(var a in bu)if(bu.hasOwnProperty(a)){var n=bu[a](this._track,e);if(n)return n}},t}();function sh(t){var e=t[1][0]-t[0][0],a=t[1][1]-t[0][1];return Math.sqrt(e*e+a*a)}function xA(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var bu={pinch:function(t,e){var a=t.length;if(a){var n=(t[a-1]||{}).points,r=(t[a-2]||{}).points||n;if(r&&r.length>1&&n&&n.length>1){var i=sh(n)/sh(r);!isFinite(i)&&(i=1),e.pinchScale=i;var o=xA(n);return e.pinchX=o[0],e.pinchY=o[1],{type:"pinch",target:t[0].target,event:e}}}}};function Or(){return[1,0,0,1,0,0]}function df(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function SA(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Br(t,e,a){var n=e[0]*a[0]+e[2]*a[1],r=e[1]*a[0]+e[3]*a[1],i=e[0]*a[2]+e[2]*a[3],o=e[1]*a[2]+e[3]*a[3],s=e[0]*a[4]+e[2]*a[5]+e[4],l=e[1]*a[4]+e[3]*a[5]+e[5];return t[0]=n,t[1]=r,t[2]=i,t[3]=o,t[4]=s,t[5]=l,t}function Jc(t,e,a){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+a[0],t[5]=e[5]+a[1],t}function ff(t,e,a,n){n===void 0&&(n=[0,0]);var r=e[0],i=e[2],o=e[4],s=e[1],l=e[3],u=e[5],c=Math.sin(a),d=Math.cos(a);return t[0]=r*d+s*c,t[1]=-r*c+s*d,t[2]=i*d+l*c,t[3]=-i*c+d*l,t[4]=d*(o-n[0])+c*(u-n[1])+n[0],t[5]=d*(u-n[1])-c*(o-n[0])+n[1],t}function CA(t,e,a){var n=a[0],r=a[1];return t[0]=e[0]*n,t[1]=e[1]*r,t[2]=e[2]*n,t[3]=e[3]*r,t[4]=e[4]*n,t[5]=e[5]*r,t}function pf(t,e){var a=e[0],n=e[2],r=e[4],i=e[1],o=e[3],s=e[5],l=a*o-i*n;return l?(l=1/l,t[0]=o*l,t[1]=-i*l,t[2]=-n*l,t[3]=a*l,t[4]=(n*s-o*r)*l,t[5]=(i*r-a*s)*l,t):null}var Ce=function(){function t(e,a){this.x=e||0,this.y=a||0}return t.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(e,a){return this.x=e,this.y=a,this},t.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},t.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},t.prototype.scale=function(e){this.x*=e,this.y*=e},t.prototype.scaleAndAdd=function(e,a){this.x+=e.x*a,this.y+=e.y*a},t.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},t.prototype.dot=function(e){return this.x*e.x+this.y*e.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},t.prototype.distance=function(e){var a=this.x-e.x,n=this.y-e.y;return Math.sqrt(a*a+n*n)},t.prototype.distanceSquare=function(e){var a=this.x-e.x,n=this.y-e.y;return a*a+n*n},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(e){if(e){var a=this.x,n=this.y;return this.x=e[0]*a+e[2]*n+e[4],this.y=e[1]*a+e[3]*n+e[5],this}},t.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},t.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},t.set=function(e,a,n){e.x=a,e.y=n},t.copy=function(e,a){e.x=a.x,e.y=a.y},t.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.lenSquare=function(e){return e.x*e.x+e.y*e.y},t.dot=function(e,a){return e.x*a.x+e.y*a.y},t.add=function(e,a,n){e.x=a.x+n.x,e.y=a.y+n.y},t.sub=function(e,a,n){e.x=a.x-n.x,e.y=a.y-n.y},t.scale=function(e,a,n){e.x=a.x*n,e.y=a.y*n},t.scaleAndAdd=function(e,a,n,r){e.x=a.x+n.x*r,e.y=a.y+n.y*r},t.lerp=function(e,a,n,r){var i=1-r;e.x=i*a.x+r*n.x,e.y=i*a.y+r*n.y},t}(),Eo=Math.min,ko=Math.max,_n=new Ce,yn=new Ce,bn=new Ce,wn=new Ce,ii=new Ce,oi=new Ce,Le=function(){function t(e,a,n,r){n<0&&(e=e+n,n=-n),r<0&&(a=a+r,r=-r),this.x=e,this.y=a,this.width=n,this.height=r}return t.prototype.union=function(e){var a=Eo(e.x,this.x),n=Eo(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=ko(e.x+e.width,this.x+this.width)-a:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=ko(e.y+e.height,this.y+this.height)-n:this.height=e.height,this.x=a,this.y=n},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(e){var a=this,n=e.width/a.width,r=e.height/a.height,i=Or();return Jc(i,i,[-a.x,-a.y]),CA(i,i,[n,r]),Jc(i,i,[e.x,e.y]),i},t.prototype.intersect=function(e,a){if(!e)return!1;e instanceof t||(e=t.create(e));var n=this,r=n.x,i=n.x+n.width,o=n.y,s=n.y+n.height,l=e.x,u=e.x+e.width,c=e.y,d=e.y+e.height,f=!(i<l||u<r||s<c||d<o);if(a){var p=1/0,m=0,g=Math.abs(i-l),h=Math.abs(u-r),v=Math.abs(s-c),_=Math.abs(d-o),y=Math.min(g,h),x=Math.min(v,_);i<l||u<r?y>m&&(m=y,g<h?Ce.set(oi,-g,0):Ce.set(oi,h,0)):y<p&&(p=y,g<h?Ce.set(ii,g,0):Ce.set(ii,-h,0)),s<c||d<o?x>m&&(m=x,v<_?Ce.set(oi,0,-v):Ce.set(oi,0,_)):y<p&&(p=y,v<_?Ce.set(ii,0,v):Ce.set(ii,0,-_))}return a&&Ce.copy(a,f?ii:oi),f},t.prototype.contain=function(e,a){var n=this;return e>=n.x&&e<=n.x+n.width&&a>=n.y&&a<=n.y+n.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return this.width===0||this.height===0},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(e,a){e.x=a.x,e.y=a.y,e.width=a.width,e.height=a.height},t.applyTransform=function(e,a,n){if(!n){e!==a&&t.copy(e,a);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var r=n[0],i=n[3],o=n[4],s=n[5];e.x=a.x*r+o,e.y=a.y*i+s,e.width=a.width*r,e.height=a.height*i,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}_n.x=bn.x=a.x,_n.y=wn.y=a.y,yn.x=wn.x=a.x+a.width,yn.y=bn.y=a.y+a.height,_n.transform(n),wn.transform(n),yn.transform(n),bn.transform(n),e.x=Eo(_n.x,yn.x,bn.x,wn.x),e.y=Eo(_n.y,yn.y,bn.y,wn.y);var l=ko(_n.x,yn.x,bn.x,wn.x),u=ko(_n.y,yn.y,bn.y,wn.y);e.width=l-e.x,e.height=u-e.y},t}(),L_="silent";function AA(t,e,a){return{type:t,event:a,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:a.zrX,offsetY:a.zrY,gestureEvent:a.gestureEvent,pinchX:a.pinchX,pinchY:a.pinchY,pinchScale:a.pinchScale,wheelDelta:a.zrDelta,zrByTouch:a.zrByTouch,which:a.which,stop:TA}}function TA(){D_(this.event)}var EA=function(t){Re(e,t);function e(){var a=t!==null&&t.apply(this,arguments)||this;return a.handler=null,a}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(xt),si=function(){function t(e,a){this.x=e,this.y=a}return t}(),kA=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],wu=new Le(0,0,0,0),P_=function(t){Re(e,t);function e(a,n,r,i,o){var s=t.call(this)||this;return s._hovered=new si(0,0),s.storage=a,s.painter=n,s.painterRoot=i,s._pointerSize=o,r=r||new EA,s.proxy=null,s.setHandlerProxy(r),s._draggingMgr=new cA(s),s}return e.prototype.setHandlerProxy=function(a){this.proxy&&this.proxy.dispose(),a&&(q(kA,function(n){a.on&&a.on(n,this[n],this)},this),a.handler=this),this.proxy=a},e.prototype.mousemove=function(a){var n=a.zrX,r=a.zrY,i=q_(this,n,r),o=this._hovered,s=o.target;s&&!s.__zr&&(o=this.findHover(o.x,o.y),s=o.target);var l=this._hovered=i?new si(n,r):this.findHover(n,r),u=l.target,c=this.proxy;c.setCursor&&c.setCursor(u?u.cursor:"default"),s&&u!==s&&this.dispatchToElement(o,"mouseout",a),this.dispatchToElement(l,"mousemove",a),u&&u!==s&&this.dispatchToElement(l,"mouseover",a)},e.prototype.mouseout=function(a){var n=a.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",a),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:a})},e.prototype.resize=function(){this._hovered=new si(0,0)},e.prototype.dispatch=function(a,n){var r=this[a];r&&r.call(this,n)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(a){var n=this.proxy;n.setCursor&&n.setCursor(a)},e.prototype.dispatchToElement=function(a,n,r){a=a||{};var i=a.target;if(!(i&&i.silent)){for(var o="on"+n,s=AA(n,a,r);i&&(i[o]&&(s.cancelBubble=!!i[o].call(i,s)),i.trigger(n,s),i=i.__hostTarget?i.__hostTarget:i.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(n,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[o]=="function"&&l[o].call(l,s),l.trigger&&l.trigger(n,s)}))}},e.prototype.findHover=function(a,n,r){var i=this.storage.getDisplayList(),o=new si(a,n);if(lh(i,o,a,n,r),this._pointerSize&&!o.target){for(var s=[],l=this._pointerSize,u=l/2,c=new Le(a-u,n-u,l,l),d=i.length-1;d>=0;d--){var f=i[d];f!==r&&!f.ignore&&!f.ignoreCoarsePointer&&(!f.parent||!f.parent.ignoreCoarsePointer)&&(wu.copy(f.getBoundingRect()),f.transform&&wu.applyTransform(f.transform),wu.intersect(c)&&s.push(f))}if(s.length)for(var p=4,m=Math.PI/12,g=Math.PI*2,h=0;h<u;h+=p)for(var v=0;v<g;v+=m){var _=a+h*Math.cos(v),y=n+h*Math.sin(v);if(lh(s,o,_,y,r),o.target)return o}}return o},e.prototype.processGesture=function(a,n){this._gestureMgr||(this._gestureMgr=new wA);var r=this._gestureMgr;n==="start"&&r.clear();var i=r.recognize(a,this.findHover(a.zrX,a.zrY,null).target,this.proxy.dom);if(n==="end"&&r.clear(),i){var o=i.type;a.gestureEvent=o;var s=new si;s.target=i.target,this.dispatchToElement(s,o,i.event)}},e}(xt);q(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){P_.prototype[t]=function(e){var a=e.zrX,n=e.zrY,r=q_(this,a,n),i,o;if((t!=="mouseup"||!r)&&(i=this.findHover(a,n),o=i.target),t==="mousedown")this._downEl=o,this._downPoint=[e.zrX,e.zrY],this._upEl=o;else if(t==="mouseup")this._upEl=o;else if(t==="click"){if(this._downEl!==this._upEl||!this._downPoint||sA(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,t,e)}});function MA(t,e,a){if(t[t.rectHover?"rectContain":"contain"](e,a)){for(var n=t,r=void 0,i=!1;n;){if(n.ignoreClip&&(i=!0),!i){var o=n.getClipPath();if(o&&!o.contain(e,a))return!1}n.silent&&(r=!0);var s=n.__hostTarget;n=s||n.parent}return r?L_:!0}return!1}function lh(t,e,a,n,r){for(var i=t.length-1;i>=0;i--){var o=t[i],s=void 0;if(o!==r&&!o.ignore&&(s=MA(o,a,n))&&(!e.topTarget&&(e.topTarget=o),s!==L_)){e.target=o;break}}}function q_(t,e,a){var n=t.painter;return e<0||e>n.getWidth()||a<0||a>n.getHeight()}var I_=32,li=7;function DA(t){for(var e=0;t>=I_;)e|=t&1,t>>=1;return t+e}function uh(t,e,a,n){var r=e+1;if(r===a)return 1;if(n(t[r++],t[e])<0){for(;r<a&&n(t[r],t[r-1])<0;)r++;LA(t,e,r)}else for(;r<a&&n(t[r],t[r-1])>=0;)r++;return r-e}function LA(t,e,a){for(a--;e<a;){var n=t[e];t[e++]=t[a],t[a--]=n}}function ch(t,e,a,n,r){for(n===e&&n++;n<a;n++){for(var i=t[n],o=e,s=n,l;o<s;)l=o+s>>>1,r(i,t[l])<0?s=l:o=l+1;var u=n-o;switch(u){case 3:t[o+3]=t[o+2];case 2:t[o+2]=t[o+1];case 1:t[o+1]=t[o];break;default:for(;u>0;)t[o+u]=t[o+u-1],u--}t[o]=i}}function xu(t,e,a,n,r,i){var o=0,s=0,l=1;if(i(t,e[a+r])>0){for(s=n-r;l<s&&i(t,e[a+r+l])>0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=r,l+=r}else{for(s=r+1;l<s&&i(t,e[a+r-l])<=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=r-l,l=r-u}for(o++;o<l;){var c=o+(l-o>>>1);i(t,e[a+c])>0?o=c+1:l=c}return l}function Su(t,e,a,n,r,i){var o=0,s=0,l=1;if(i(t,e[a+r])<0){for(s=r+1;l<s&&i(t,e[a+r-l])<0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=r-l,l=r-u}else{for(s=n-r;l<s&&i(t,e[a+r+l])>=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=r,l+=r}for(o++;o<l;){var c=o+(l-o>>>1);i(t,e[a+c])<0?l=c:o=c+1}return l}function PA(t,e){var a=li,n,r,i=0,o=[];n=[],r=[];function s(p,m){n[i]=p,r[i]=m,i+=1}function l(){for(;i>1;){var p=i-2;if(p>=1&&r[p-1]<=r[p]+r[p+1]||p>=2&&r[p-2]<=r[p]+r[p-1])r[p-1]<r[p+1]&&p--;else if(r[p]>r[p+1])break;c(p)}}function u(){for(;i>1;){var p=i-2;p>0&&r[p-1]<r[p+1]&&p--,c(p)}}function c(p){var m=n[p],g=r[p],h=n[p+1],v=r[p+1];r[p]=g+v,p===i-3&&(n[p+1]=n[p+2],r[p+1]=r[p+2]),i--;var _=Su(t[h],t,m,g,0,e);m+=_,g-=_,g!==0&&(v=xu(t[m+g-1],t,h,v,v-1,e),v!==0&&(g<=v?d(m,g,h,v):f(m,g,h,v)))}function d(p,m,g,h){var v=0;for(v=0;v<m;v++)o[v]=t[p+v];var _=0,y=g,x=p;if(t[x++]=t[y++],--h===0){for(v=0;v<m;v++)t[x+v]=o[_+v];return}if(m===1){for(v=0;v<h;v++)t[x+v]=t[y+v];t[x+h]=o[_];return}for(var E=a,w,A,S;;){w=0,A=0,S=!1;do if(e(t[y],o[_])<0){if(t[x++]=t[y++],A++,w=0,--h===0){S=!0;break}}else if(t[x++]=o[_++],w++,A=0,--m===1){S=!0;break}while((w|A)<E);if(S)break;do{if(w=Su(t[y],o,_,m,0,e),w!==0){for(v=0;v<w;v++)t[x+v]=o[_+v];if(x+=w,_+=w,m-=w,m<=1){S=!0;break}}if(t[x++]=t[y++],--h===0){S=!0;break}if(A=xu(o[_],t,y,h,0,e),A!==0){for(v=0;v<A;v++)t[x+v]=t[y+v];if(x+=A,y+=A,h-=A,h===0){S=!0;break}}if(t[x++]=o[_++],--m===1){S=!0;break}E--}while(w>=li||A>=li);if(S)break;E<0&&(E=0),E+=2}if(a=E,a<1&&(a=1),m===1){for(v=0;v<h;v++)t[x+v]=t[y+v];t[x+h]=o[_]}else{if(m===0)throw new Error;for(v=0;v<m;v++)t[x+v]=o[_+v]}}function f(p,m,g,h){var v=0;for(v=0;v<h;v++)o[v]=t[g+v];var _=p+m-1,y=h-1,x=g+h-1,E=0,w=0;if(t[x--]=t[_--],--m===0){for(E=x-(h-1),v=0;v<h;v++)t[E+v]=o[v];return}if(h===1){for(x-=m,_-=m,w=x+1,E=_+1,v=m-1;v>=0;v--)t[w+v]=t[E+v];t[x]=o[y];return}for(var A=a;;){var S=0,k=0,b=!1;do if(e(o[y],t[_])<0){if(t[x--]=t[_--],S++,k=0,--m===0){b=!0;break}}else if(t[x--]=o[y--],k++,S=0,--h===1){b=!0;break}while((S|k)<A);if(b)break;do{if(S=m-Su(o[y],t,p,m,m-1,e),S!==0){for(x-=S,_-=S,m-=S,w=x+1,E=_+1,v=S-1;v>=0;v--)t[w+v]=t[E+v];if(m===0){b=!0;break}}if(t[x--]=o[y--],--h===1){b=!0;break}if(k=h-xu(t[_],o,0,h,h-1,e),k!==0){for(x-=k,y-=k,h-=k,w=x+1,E=y+1,v=0;v<k;v++)t[w+v]=o[E+v];if(h<=1){b=!0;break}}if(t[x--]=t[_--],--m===0){b=!0;break}A--}while(S>=li||k>=li);if(b)break;A<0&&(A=0),A+=2}if(a=A,a<1&&(a=1),h===1){for(x-=m,_-=m,w=x+1,E=_+1,v=m-1;v>=0;v--)t[w+v]=t[E+v];t[x]=o[y]}else{if(h===0)throw new Error;for(E=x-(h-1),v=0;v<h;v++)t[E+v]=o[v]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:s}}function hs(t,e,a,n){a||(a=0),n||(n=t.length);var r=n-a;if(!(r<2)){var i=0;if(r<I_){i=uh(t,a,n,e),ch(t,a,n,a+i,e);return}var o=PA(t,e),s=DA(r);do{if(i=uh(t,a,n,e),i<s){var l=r;l>s&&(l=s),ch(t,a,a+l,a+i,e),i=l}o.pushRun(a,i),o.mergeRuns(),r-=i,a+=i}while(r!==0);o.forceMergeRuns()}}var za=1,Si=2,Sr=4,dh=!1;function Cu(){dh||(dh=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function fh(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var qA=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=fh}return t.prototype.traverse=function(e,a){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,a)},t.prototype.getDisplayList=function(e,a){a=a||!1;var n=this._displayList;return(e||!n.length)&&this.updateDisplayList(a),n},t.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var a=this._roots,n=this._displayList,r=0,i=a.length;r<i;r++)this._updateAndAddDisplayable(a[r],null,e);n.length=this._displayListLen,hs(n,fh)},t.prototype._updateAndAddDisplayable=function(e,a,n){if(!(e.ignore&&!n)){e.beforeUpdate(),e.update(),e.afterUpdate();var r=e.getClipPath();if(e.ignoreClip)a=null;else if(r){a?a=a.slice():a=[];for(var i=r,o=e;i;)i.parent=o,i.updateTransform(),a.push(i),o=i,i=i.getClipPath()}if(e.childrenRef){for(var s=e.childrenRef(),l=0;l<s.length;l++){var u=s[l];e.__dirty&&(u.__dirty|=za),this._updateAndAddDisplayable(u,a,n)}e.__dirty=0}else{var c=e;a&&a.length?c.__clipPaths=a:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&(Cu(),c.z=0),isNaN(c.z2)&&(Cu(),c.z2=0),isNaN(c.zlevel)&&(Cu(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var d=e.getDecalElement&&e.getDecalElement();d&&this._updateAndAddDisplayable(d,a,n);var f=e.getTextGuideLine();f&&this._updateAndAddDisplayable(f,a,n);var p=e.getTextContent();p&&this._updateAndAddDisplayable(p,a,n)}},t.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},t.prototype.delRoot=function(e){if(e instanceof Array){for(var a=0,n=e.length;a<n;a++)this.delRoot(e[a]);return}var r=Ue(this._roots,e);r>=0&&this._roots.splice(r,1)},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}(),Os;Os=ke.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)};var qi={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return .5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return t===0?0:Math.pow(1024,t-1)},exponentialOut:function(t){return t===1?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,a=.1,n=.4;return t===0?0:t===1?1:(!a||a<1?(a=1,e=n/4):e=n*Math.asin(1/a)/(2*Math.PI),-(a*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)))},elasticOut:function(t){var e,a=.1,n=.4;return t===0?0:t===1?1:(!a||a<1?(a=1,e=n/4):e=n*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},elasticInOut:function(t){var e,a=.1,n=.4;return t===0?0:t===1?1:(!a||a<1?(a=1,e=n/4):e=n*Math.asin(1/a)/(2*Math.PI),(t*=2)<1?-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)):a*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-qi.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?qi.bounceIn(t*2)*.5:qi.bounceOut(t*2-1)*.5+.5}},Mo=Math.pow,an=Math.sqrt,Bs=1e-8,R_=1e-4,ph=an(3),Do=1/3,pt=Kr(),Wa=Kr(),zr=Kr();function $t(t){return t>-Bs&&t<Bs}function O_(t){return t>Bs||t<-Bs}function ua(t,e,a,n,r){var i=1-r;return i*i*(i*t+3*r*e)+r*r*(r*n+3*i*a)}function hh(t,e,a,n,r){var i=1-r;return 3*(((e-t)*i+2*(a-e)*r)*i+(n-a)*r*r)}function zs(t,e,a,n,r,i){var o=n+3*(e-a)-t,s=3*(a-e*2+t),l=3*(e-t),u=t-r,c=s*s-3*o*l,d=s*l-9*o*u,f=l*l-3*s*u,p=0;if($t(c)&&$t(d))if($t(s))i[0]=0;else{var m=-l/s;m>=0&&m<=1&&(i[p++]=m)}else{var g=d*d-4*c*f;if($t(g)){var h=d/c,m=-s/o+h,v=-h/2;m>=0&&m<=1&&(i[p++]=m),v>=0&&v<=1&&(i[p++]=v)}else if(g>0){var _=an(g),y=c*s+1.5*o*(-d+_),x=c*s+1.5*o*(-d-_);y<0?y=-Mo(-y,Do):y=Mo(y,Do),x<0?x=-Mo(-x,Do):x=Mo(x,Do);var m=(-s-(y+x))/(3*o);m>=0&&m<=1&&(i[p++]=m)}else{var E=(2*c*s-3*o*d)/(2*an(c*c*c)),w=Math.acos(E)/3,A=an(c),S=Math.cos(w),m=(-s-2*A*S)/(3*o),v=(-s+A*(S+ph*Math.sin(w)))/(3*o),k=(-s+A*(S-ph*Math.sin(w)))/(3*o);m>=0&&m<=1&&(i[p++]=m),v>=0&&v<=1&&(i[p++]=v),k>=0&&k<=1&&(i[p++]=k)}}return p}function B_(t,e,a,n,r){var i=6*a-12*e+6*t,o=9*e+3*n-3*t-9*a,s=3*e-3*t,l=0;if($t(o)){if(O_(i)){var u=-s/i;u>=0&&u<=1&&(r[l++]=u)}}else{var c=i*i-4*o*s;if($t(c))r[0]=-i/(2*o);else if(c>0){var d=an(c),u=(-i+d)/(2*o),f=(-i-d)/(2*o);u>=0&&u<=1&&(r[l++]=u),f>=0&&f<=1&&(r[l++]=f)}}return l}function ln(t,e,a,n,r,i){var o=(e-t)*r+t,s=(a-e)*r+e,l=(n-a)*r+a,u=(s-o)*r+o,c=(l-s)*r+s,d=(c-u)*r+u;i[0]=t,i[1]=o,i[2]=u,i[3]=d,i[4]=d,i[5]=c,i[6]=l,i[7]=n}function IA(t,e,a,n,r,i,o,s,l,u,c){var d,f=.005,p=1/0,m,g,h,v;pt[0]=l,pt[1]=u;for(var _=0;_<1;_+=.05)Wa[0]=ua(t,a,r,o,_),Wa[1]=ua(e,n,i,s,_),h=Rr(pt,Wa),h<p&&(d=_,p=h);p=1/0;for(var y=0;y<32&&!(f<R_);y++)m=d-f,g=d+f,Wa[0]=ua(t,a,r,o,m),Wa[1]=ua(e,n,i,s,m),h=Rr(Wa,pt),m>=0&&h<p?(d=m,p=h):(zr[0]=ua(t,a,r,o,g),zr[1]=ua(e,n,i,s,g),v=Rr(zr,pt),g<=1&&v<p?(d=g,p=v):f*=.5);return an(p)}function RA(t,e,a,n,r,i,o,s,l){for(var u=t,c=e,d=0,f=1/l,p=1;p<=l;p++){var m=p*f,g=ua(t,a,r,o,m),h=ua(e,n,i,s,m),v=g-u,_=h-c;d+=Math.sqrt(v*v+_*_),u=g,c=h}return d}function Ca(t,e,a,n){var r=1-n;return r*(r*t+2*n*e)+n*n*a}function vh(t,e,a,n){return 2*((1-n)*(e-t)+n*(a-e))}function OA(t,e,a,n,r){var i=t-2*e+a,o=2*(e-t),s=t-n,l=0;if($t(i)){if(O_(o)){var u=-s/o;u>=0&&u<=1&&(r[l++]=u)}}else{var c=o*o-4*i*s;if($t(c)){var u=-o/(2*i);u>=0&&u<=1&&(r[l++]=u)}else if(c>0){var d=an(c),u=(-o+d)/(2*i),f=(-o-d)/(2*i);u>=0&&u<=1&&(r[l++]=u),f>=0&&f<=1&&(r[l++]=f)}}return l}function z_(t,e,a){var n=t+a-2*e;return n===0?.5:(t-e)/n}function Ns(t,e,a,n,r){var i=(e-t)*n+t,o=(a-e)*n+e,s=(o-i)*n+i;r[0]=t,r[1]=i,r[2]=s,r[3]=s,r[4]=o,r[5]=a}function BA(t,e,a,n,r,i,o,s,l){var u,c=.005,d=1/0;pt[0]=o,pt[1]=s;for(var f=0;f<1;f+=.05){Wa[0]=Ca(t,a,r,f),Wa[1]=Ca(e,n,i,f);var p=Rr(pt,Wa);p<d&&(u=f,d=p)}d=1/0;for(var m=0;m<32&&!(c<R_);m++){var g=u-c,h=u+c;Wa[0]=Ca(t,a,r,g),Wa[1]=Ca(e,n,i,g);var p=Rr(Wa,pt);if(g>=0&&p<d)u=g,d=p;else{zr[0]=Ca(t,a,r,h),zr[1]=Ca(e,n,i,h);var v=Rr(zr,pt);h<=1&&v<d?(u=h,d=v):c*=.5}}return an(d)}function zA(t,e,a,n,r,i,o){for(var s=t,l=e,u=0,c=1/o,d=1;d<=o;d++){var f=d*c,p=Ca(t,a,r,f),m=Ca(e,n,i,f),g=p-s,h=m-l;u+=Math.sqrt(g*g+h*h),s=p,l=m}return u}var NA=/cubic-bezier\(([0-9,\.e ]+)\)/;function N_(t){var e=t&&NA.exec(t);if(e){var a=e[1].split(","),n=+Jt(a[0]),r=+Jt(a[1]),i=+Jt(a[2]),o=+Jt(a[3]);if(isNaN(n+r+i+o))return;var s=[];return function(l){return l<=0?0:l>=1?1:zs(0,n,i,1,l,s)&&ua(0,r,o,1,s[0])}}}var VA=function(){function t(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||Za,this.ondestroy=e.ondestroy||Za,this.onrestart=e.onrestart||Za,e.easing&&this.setEasing(e.easing)}return t.prototype.step=function(e,a){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=a;return}var n=this._life,r=e-this._startTime-this._pausedTime,i=r/n;i<0&&(i=0),i=Math.min(i,1);var o=this.easingFunc,s=o?o(i):i;if(this.onframe(s),i===1)if(this.loop){var l=r%n;this._startTime=e-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(e){this.easing=e,this.easingFunc=we(e)?e:qi[e]||N_(e)},t}(),V_=function(){function t(e){this.value=e}return t}(),jA=function(){function t(){this._len=0}return t.prototype.insert=function(e){var a=new V_(e);return this.insertEntry(a),a},t.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},t.prototype.remove=function(e){var a=e.prev,n=e.next;a?a.next=n:this.head=n,n?n.prev=a:this.tail=a,e.next=e.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),mo=function(){function t(e){this._list=new jA,this._maxSize=10,this._map={},this._maxSize=e}return t.prototype.put=function(e,a){var n=this._list,r=this._map,i=null;if(r[e]==null){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=n.head;n.remove(l),delete r[l.key],i=l.value,this._lastRemovedEntry=l}s?s.value=a:s=new V_(a),s.key=e,n.insertEntry(s),r[e]=s}return i},t.prototype.get=function(e){var a=this._map[e],n=this._list;if(a!=null)return a!==n.tail&&(n.remove(a),n.insertEntry(a)),a.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}(),mh={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function tn(t){return t=Math.round(t),t<0?0:t>255?255:t}function $c(t){return t<0?0:t>1?1:t}function Au(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?tn(parseFloat(e)/100*255):tn(parseInt(e,10))}function Ii(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?$c(parseFloat(e)/100):$c(parseFloat(e))}function Tu(t,e,a){return a<0?a+=1:a>1&&(a-=1),a*6<1?t+(e-t)*a*6:a*2<1?e:a*3<2?t+(e-t)*(2/3-a)*6:t}function Lo(t,e,a){return t+(e-t)*a}function Ua(t,e,a,n,r){return t[0]=e,t[1]=a,t[2]=n,t[3]=r,t}function ed(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var j_=new mo(20),Po=null;function lr(t,e){Po&&ed(Po,e),Po=j_.put(t,Po||e.slice())}function nn(t,e){if(t){e=e||[];var a=j_.get(t);if(a)return ed(e,a);t=t+"";var n=t.replace(/ /g,"").toLowerCase();if(n in mh)return ed(e,mh[n]),lr(t,e),e;var r=n.length;if(n.charAt(0)==="#"){if(r===4||r===5){var i=parseInt(n.slice(1,4),16);if(!(i>=0&&i<=4095)){Ua(e,0,0,0,1);return}return Ua(e,(i&3840)>>4|(i&3840)>>8,i&240|(i&240)>>4,i&15|(i&15)<<4,r===5?parseInt(n.slice(4),16)/15:1),lr(t,e),e}else if(r===7||r===9){var i=parseInt(n.slice(1,7),16);if(!(i>=0&&i<=16777215)){Ua(e,0,0,0,1);return}return Ua(e,(i&16711680)>>16,(i&65280)>>8,i&255,r===9?parseInt(n.slice(7),16)/255:1),lr(t,e),e}return}var o=n.indexOf("("),s=n.indexOf(")");if(o!==-1&&s+1===r){var l=n.substr(0,o),u=n.substr(o+1,s-(o+1)).split(","),c=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?Ua(e,+u[0],+u[1],+u[2],1):Ua(e,0,0,0,1);c=Ii(u.pop());case"rgb":if(u.length>=3)return Ua(e,Au(u[0]),Au(u[1]),Au(u[2]),u.length===3?c:Ii(u[3])),lr(t,e),e;Ua(e,0,0,0,1);return;case"hsla":if(u.length!==4){Ua(e,0,0,0,1);return}return u[3]=Ii(u[3]),gh(u,e),lr(t,e),e;case"hsl":if(u.length!==3){Ua(e,0,0,0,1);return}return gh(u,e),lr(t,e),e;default:return}}Ua(e,0,0,0,1)}}function gh(t,e){var a=(parseFloat(t[0])%360+360)%360/360,n=Ii(t[1]),r=Ii(t[2]),i=r<=.5?r*(n+1):r+n-r*n,o=r*2-i;return e=e||[],Ua(e,tn(Tu(o,i,a+1/3)*255),tn(Tu(o,i,a)*255),tn(Tu(o,i,a-1/3)*255),1),t.length===4&&(e[3]=t[3]),e}function _h(t,e){var a=nn(t);if(a){for(var n=0;n<3;n++)a[n]=a[n]*(1-e)|0,a[n]>255?a[n]=255:a[n]<0&&(a[n]=0);return hf(a,a.length===4?"rgba":"rgb")}}function FA(t,e,a){if(!(!(e&&e.length)||!(t>=0&&t<=1))){var n=t*(e.length-1),r=Math.floor(n),i=Math.ceil(n),o=nn(e[r]),s=nn(e[i]),l=n-r,u=hf([tn(Lo(o[0],s[0],l)),tn(Lo(o[1],s[1],l)),tn(Lo(o[2],s[2],l)),$c(Lo(o[3],s[3],l))],"rgba");return a?{color:u,leftIndex:r,rightIndex:i,value:n}:u}}function hf(t,e){if(!(!t||!t.length)){var a=t[0]+","+t[1]+","+t[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(a+=","+t[3]),e+"("+a+")"}}function Vs(t,e){var a=nn(t);return a?(.299*a[0]+.587*a[1]+.114*a[2])*a[3]/255+(1-a[3])*e:0}var yh=new mo(100);function bh(t){if(be(t)){var e=yh.get(t);return e||(e=_h(t,-.1),yh.put(t,e)),e}else if(ml(t)){var a=ae({},t);return a.colorStops=de(t.colorStops,function(n){return{offset:n.offset,color:_h(n.color,-.1)}}),a}return t}function UA(t){return t.type==="linear"}function GA(t){return t.type==="radial"}(function(){return ke.hasGlobalWindow&&we(window.btoa)?function(t){return window.btoa(unescape(encodeURIComponent(t)))}:typeof Buffer!="undefined"?function(t){return Buffer.from(t).toString("base64")}:function(t){return null}})();var ad=Array.prototype.slice;function kt(t,e,a){return(e-t)*a+t}function Eu(t,e,a,n){for(var r=e.length,i=0;i<r;i++)t[i]=kt(e[i],a[i],n);return t}function HA(t,e,a,n){for(var r=e.length,i=r&&e[0].length,o=0;o<r;o++){t[o]||(t[o]=[]);for(var s=0;s<i;s++)t[o][s]=kt(e[o][s],a[o][s],n)}return t}function qo(t,e,a,n){for(var r=e.length,i=0;i<r;i++)t[i]=e[i]+a[i]*n;return t}function wh(t,e,a,n){for(var r=e.length,i=r&&e[0].length,o=0;o<r;o++){t[o]||(t[o]=[]);for(var s=0;s<i;s++)t[o][s]=e[o][s]+a[o][s]*n}return t}function WA(t,e){for(var a=t.length,n=e.length,r=a>n?e:t,i=Math.min(a,n),o=r[i-1]||{color:[0,0,0,0],offset:0},s=i;s<Math.max(a,n);s++)r.push({offset:o.offset,color:o.color.slice()})}function KA(t,e,a){var n=t,r=e;if(!(!n.push||!r.push)){var i=n.length,o=r.length;if(i!==o){var s=i>o;if(s)n.length=o;else for(var l=i;l<o;l++)n.push(a===1?r[l]:ad.call(r[l]))}for(var u=n[0]&&n[0].length,l=0;l<n.length;l++)if(a===1)isNaN(n[l])&&(n[l]=r[l]);else for(var c=0;c<u;c++)isNaN(n[l][c])&&(n[l][c]=r[l][c])}}function vs(t){if(Ma(t)){var e=t.length;if(Ma(t[0])){for(var a=[],n=0;n<e;n++)a.push(ad.call(t[n]));return a}return ad.call(t)}return t}function ms(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=t[3]==null?1:t[3],"rgba("+t.join(",")+")"}function YA(t){return Ma(t&&t[0])?2:1}var Io=0,gs=1,F_=2,Ci=3,td=4,nd=5,xh=6;function Sh(t){return t===td||t===nd}function Ro(t){return t===gs||t===F_}var ui=[0,0,0,0],XA=function(){function t(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(e,a,n){this._needsSort=!0;var r=this.keyframes,i=r.length,o=!1,s=xh,l=a;if(Ma(a)){var u=YA(a);s=u,(u===1&&!ta(a[0])||u===2&&!ta(a[0][0]))&&(o=!0)}else if(ta(a)&&!Rs(a))s=Io;else if(be(a))if(!isNaN(+a))s=Io;else{var c=nn(a);c&&(l=c,s=Ci)}else if(ml(a)){var d=ae({},l);d.colorStops=de(a.colorStops,function(p){return{offset:p.offset,color:nn(p.color)}}),UA(a)?s=td:GA(a)&&(s=nd),l=d}i===0?this.valType=s:(s!==this.valType||s===xh)&&(o=!0),this.discrete=this.discrete||o;var f={time:e,value:l,rawValue:a,percent:0};return n&&(f.easing=n,f.easingFunc=we(n)?n:qi[n]||N_(n)),r.push(f),f},t.prototype.prepare=function(e,a){var n=this.keyframes;this._needsSort&&n.sort(function(g,h){return g.time-h.time});for(var r=this.valType,i=n.length,o=n[i-1],s=this.discrete,l=Ro(r),u=Sh(r),c=0;c<i;c++){var d=n[c],f=d.value,p=o.value;d.percent=d.time/e,s||(l&&c!==i-1?KA(f,p,r):u&&WA(f.colorStops,p.colorStops))}if(!s&&r!==nd&&a&&this.needsAnimate()&&a.needsAnimate()&&r===a.valType&&!a._finished){this._additiveTrack=a;for(var m=n[0].value,c=0;c<i;c++)r===Io?n[c].additiveValue=n[c].value-m:r===Ci?n[c].additiveValue=qo([],n[c].value,m,-1):Ro(r)&&(n[c].additiveValue=r===gs?qo([],n[c].value,m,-1):wh([],n[c].value,m,-1))}},t.prototype.step=function(e,a){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,r=n?"additiveValue":"value",i=this.valType,o=this.keyframes,s=o.length,l=this.propName,u=i===Ci,c,d=this._lastFr,f=Math.min,p,m;if(s===1)p=m=o[0];else{if(a<0)c=0;else if(a<this._lastFrP){var g=f(d+1,s-1);for(c=g;c>=0&&!(o[c].percent<=a);c--);c=f(c,s-2)}else{for(c=d;c<s&&!(o[c].percent>a);c++);c=f(c-1,s-2)}m=o[c+1],p=o[c]}if(p&&m){this._lastFr=c,this._lastFrP=a;var h=m.percent-p.percent,v=h===0?1:f((a-p.percent)/h,1);m.easingFunc&&(v=m.easingFunc(v));var _=n?this._additiveValue:u?ui:e[l];if((Ro(i)||u)&&!_&&(_=this._additiveValue=[]),this.discrete)e[l]=v<1?p.rawValue:m.rawValue;else if(Ro(i))i===gs?Eu(_,p[r],m[r],v):HA(_,p[r],m[r],v);else if(Sh(i)){var y=p[r],x=m[r],E=i===td;e[l]={type:E?"linear":"radial",x:kt(y.x,x.x,v),y:kt(y.y,x.y,v),colorStops:de(y.colorStops,function(A,S){var k=x.colorStops[S];return{offset:kt(A.offset,k.offset,v),color:ms(Eu([],A.color,k.color,v))}}),global:x.global},E?(e[l].x2=kt(y.x2,x.x2,v),e[l].y2=kt(y.y2,x.y2,v)):e[l].r=kt(y.r,x.r,v)}else if(u)Eu(_,p[r],m[r],v),n||(e[l]=ms(_));else{var w=kt(p[r],m[r],v);n?this._additiveValue=w:e[l]=w}n&&this._addToTarget(e)}}},t.prototype._addToTarget=function(e){var a=this.valType,n=this.propName,r=this._additiveValue;a===Io?e[n]=e[n]+r:a===Ci?(nn(e[n],ui),qo(ui,ui,r,1),e[n]=ms(ui)):a===gs?qo(e[n],e[n],r,1):a===F_&&wh(e[n],e[n],r,1)},t}(),vf=function(){function t(e,a,n,r){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=a,a&&r){lf("Can' use additive animation on looped animation.");return}this._additiveAnimators=r,this._allowDiscrete=n}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(e){this._target=e},t.prototype.when=function(e,a,n){return this.whenWithKeys(e,a,Xe(a),n)},t.prototype.whenWithKeys=function(e,a,n,r){for(var i=this._tracks,o=0;o<n.length;o++){var s=n[o],l=i[s];if(!l){l=i[s]=new XA(s);var u=void 0,c=this._getAdditiveTrack(s);if(c){var d=c.keyframes,f=d[d.length-1];u=f&&f.value,c.valType===Ci&&u&&(u=ms(u))}else u=this._target[s];if(u==null)continue;e>0&&l.addKeyframe(0,vs(u),r),this._trackKeys.push(s)}l.addKeyframe(e,vs(a[s]),r)}return this._maxTime=Math.max(this._maxTime,e),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var a=e.length,n=0;n<a;n++)e[n].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,a=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,a)for(var n=0;n<a.length;n++)a[n].call(this)},t.prototype._setTracksFinished=function(){for(var e=this._tracks,a=this._trackKeys,n=0;n<a.length;n++)e[a[n]].setFinished()},t.prototype._getAdditiveTrack=function(e){var a,n=this._additiveAnimators;if(n)for(var r=0;r<n.length;r++){var i=n[r].getTrack(e);i&&(a=i)}return a},t.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var a=this,n=[],r=this._maxTime||0,i=0;i<this._trackKeys.length;i++){var o=this._trackKeys[i],s=this._tracks[o],l=this._getAdditiveTrack(o),u=s.keyframes,c=u.length;if(s.prepare(r,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var d=u[c-1];d&&(a._target[s.propName]=d.rawValue),s.setFinished()}else n.push(s)}if(n.length||this._force){var f=new VA({life:r,loop:this._loop,delay:this._delay||0,onframe:function(p){a._started=2;var m=a._additiveAnimators;if(m){for(var g=!1,h=0;h<m.length;h++)if(m[h]._clip){g=!0;break}g||(a._additiveAnimators=null)}for(var h=0;h<n.length;h++)n[h].step(a._target,p);var v=a._onframeCbs;if(v)for(var h=0;h<v.length;h++)v[h](a._target,p)},ondestroy:function(){a._doneCallback()}});this._clip=f,this.animation&&this.animation.addClip(f),e&&f.setEasing(e)}else this._doneCallback();return this}},t.prototype.stop=function(e){if(this._clip){var a=this._clip;e&&a.onframe(1),this._abortedCallback()}},t.prototype.delay=function(e){return this._delay=e,this},t.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},t.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},t.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(e){return this._tracks[e]},t.prototype.getTracks=function(){var e=this;return de(this._trackKeys,function(a){return e._tracks[a]})},t.prototype.stopTracks=function(e,a){if(!e.length||!this._clip)return!0;for(var n=this._tracks,r=this._trackKeys,i=0;i<e.length;i++){var o=n[e[i]];o&&!o.isFinished()&&(a?o.step(this._target,1):this._started===1&&o.step(this._target,0),o.setFinished())}for(var s=!0,i=0;i<r.length;i++)if(!n[r[i]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},t.prototype.saveTo=function(e,a,n){if(e){a=a||this._trackKeys;for(var r=0;r<a.length;r++){var i=a[r],o=this._tracks[i];if(!(!o||o.isFinished())){var s=o.keyframes,l=s[n?0:s.length-1];l&&(e[i]=vs(l.rawValue))}}}},t.prototype.__changeFinalValue=function(e,a){a=a||Xe(e);for(var n=0;n<a.length;n++){var r=a[n],i=this._tracks[r];if(i){var o=i.keyframes;if(o.length>1){var s=o.pop();i.addKeyframe(s.time,e[r]),i.prepare(this._maxTime,i.getAdditiveTrack())}}}},t}();function Mr(){return new Date().getTime()}var ZA=function(t){Re(e,t);function e(a){var n=t.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,a=a||{},n.stage=a.stage||{},n}return e.prototype.addClip=function(a){a.animation&&this.removeClip(a),this._head?(this._tail.next=a,a.prev=this._tail,a.next=null,this._tail=a):this._head=this._tail=a,a.animation=this},e.prototype.addAnimator=function(a){a.animation=this;var n=a.getClip();n&&this.addClip(n)},e.prototype.removeClip=function(a){if(a.animation){var n=a.prev,r=a.next;n?n.next=r:this._head=r,r?r.prev=n:this._tail=n,a.next=a.prev=a.animation=null}},e.prototype.removeAnimator=function(a){var n=a.getClip();n&&this.removeClip(n),a.animation=null},e.prototype.update=function(a){for(var n=Mr()-this._pausedTime,r=n-this._time,i=this._head;i;){var o=i.next,s=i.step(n,r);s&&(i.ondestroy(),this.removeClip(i)),i=o}this._time=n,a||(this.trigger("frame",r),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var a=this;this._running=!0;function n(){a._running&&(Os(n),!a._paused&&a.update())}Os(n)},e.prototype.start=function(){this._running||(this._time=Mr(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=Mr(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=Mr()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var a=this._head;a;){var n=a.next;a.prev=a.next=a.animation=null,a=n}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(a,n){n=n||{},this.start();var r=new vf(a,n.loop);return this.addAnimator(r),r},e}(xt),QA=300,ku=ke.domSupported,Mu=function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],a={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=de(t,function(r){var i=r.replace("mouse","pointer");return a.hasOwnProperty(i)?i:r});return{mouse:t,touch:e,pointer:n}}(),Ch={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},Ah=!1;function rd(t){var e=t.pointerType;return e==="pen"||e==="touch"}function JA(t){t.touching=!0,t.touchTimer!=null&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}function Du(t){t&&(t.zrByTouch=!0)}function $A(t,e){return nt(t.dom,new eT(t,e),!0)}function U_(t,e){for(var a=e,n=!1;a&&a.nodeType!==9&&!(n=a.domBelongToZr||a!==e&&a===t.painterRoot);)a=a.parentNode;return n}var eT=function(){function t(e,a){this.stopPropagation=Za,this.stopImmediatePropagation=Za,this.preventDefault=Za,this.type=a.type,this.target=this.currentTarget=e.dom,this.pointerType=a.pointerType,this.clientX=a.clientX,this.clientY=a.clientY}return t}(),rt={mousedown:function(t){t=nt(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=nt(this.dom,t);var e=this.__mayPointerCapture;e&&(t.zrX!==e[0]||t.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=nt(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){t=nt(this.dom,t);var e=t.toElement||t.relatedTarget;U_(this,e)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){Ah=!0,t=nt(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){Ah||(t=nt(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){t=nt(this.dom,t),Du(t),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),rt.mousemove.call(this,t),rt.mousedown.call(this,t)},touchmove:function(t){t=nt(this.dom,t),Du(t),this.handler.processGesture(t,"change"),rt.mousemove.call(this,t)},touchend:function(t){t=nt(this.dom,t),Du(t),this.handler.processGesture(t,"end"),rt.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<QA&&rt.click.call(this,t)},pointerdown:function(t){rt.mousedown.call(this,t)},pointermove:function(t){rd(t)||rt.mousemove.call(this,t)},pointerup:function(t){rt.mouseup.call(this,t)},pointerout:function(t){rd(t)||rt.mouseout.call(this,t)}};q(["click","dblclick","contextmenu"],function(t){rt[t]=function(e){e=nt(this.dom,e),this.trigger(t,e)}});var id={pointermove:function(t){rd(t)||id.mousemove.call(this,t)},pointerup:function(t){id.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function aT(t,e){var a=e.domHandlers;ke.pointerEventsSupported?q(Mu.pointer,function(n){_s(e,n,function(r){a[n].call(t,r)})}):(ke.touchEventsSupported&&q(Mu.touch,function(n){_s(e,n,function(r){a[n].call(t,r),JA(e)})}),q(Mu.mouse,function(n){_s(e,n,function(r){r=cf(r),e.touching||a[n].call(t,r)})}))}function tT(t,e){ke.pointerEventsSupported?q(Ch.pointer,a):ke.touchEventsSupported||q(Ch.mouse,a);function a(n){function r(i){i=cf(i),U_(t,i.target)||(i=$A(t,i),e.domHandlers[n].call(t,i))}_s(e,n,r,{capture:!0})}}function _s(t,e,a,n){t.mounted[e]=a,t.listenerOpts[e]=n,yA(t.domTarget,e,a,n)}function Lu(t){var e=t.mounted;for(var a in e)e.hasOwnProperty(a)&&bA(t.domTarget,a,e[a],t.listenerOpts[a]);t.mounted={}}var Th=function(){function t(e,a){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=a}return t}(),nT=function(t){Re(e,t);function e(a,n){var r=t.call(this)||this;return r.__pointerCapturing=!1,r.dom=a,r.painterRoot=n,r._localHandlerScope=new Th(a,rt),ku&&(r._globalHandlerScope=new Th(document,id)),aT(r,r._localHandlerScope),r}return e.prototype.dispose=function(){Lu(this._localHandlerScope),ku&&Lu(this._globalHandlerScope)},e.prototype.setCursor=function(a){this.dom.style&&(this.dom.style.cursor=a||"default")},e.prototype.__togglePointerCapture=function(a){if(this.__mayPointerCapture=null,ku&&+this.__pointerCapturing^+a){this.__pointerCapturing=a;var n=this._globalHandlerScope;a?tT(this,n):Lu(n)}},e}(xt),G_=1;ke.hasGlobalWindow&&(G_=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var js=G_,od=.4,sd="#333",ld="#ccc",rT="#eee",Eh=df,kh=5e-5;function xn(t){return t>kh||t<-kh}var Sn=[],ur=[],Pu=Or(),qu=Math.abs,_l=function(){function t(){}return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},t.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},t.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},t.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},t.prototype.needLocalTransform=function(){return xn(this.rotation)||xn(this.x)||xn(this.y)||xn(this.scaleX-1)||xn(this.scaleY-1)||xn(this.skewX)||xn(this.skewY)},t.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,a=this.needLocalTransform(),n=this.transform;if(!(a||e)){n&&(Eh(n),this.invTransform=null);return}n=n||Or(),a?this.getLocalTransform(n):Eh(n),e&&(a?Br(n,e,n):SA(n,e)),this.transform=n,this._resolveGlobalScaleRatio(n)},t.prototype._resolveGlobalScaleRatio=function(e){var a=this.globalScaleRatio;if(a!=null&&a!==1){this.getGlobalScale(Sn);var n=Sn[0]<0?-1:1,r=Sn[1]<0?-1:1,i=((Sn[0]-n)*a+n)/Sn[0]||0,o=((Sn[1]-r)*a+r)/Sn[1]||0;e[0]*=i,e[1]*=i,e[2]*=o,e[3]*=o}this.invTransform=this.invTransform||Or(),pf(this.invTransform,e)},t.prototype.getComputedTransform=function(){for(var e=this,a=[];e;)a.push(e),e=e.parent;for(;e=a.pop();)e.updateTransform();return this.transform},t.prototype.setLocalTransform=function(e){if(e){var a=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],r=Math.atan2(e[1],e[0]),i=Math.PI/2+r-Math.atan2(e[3],e[2]);n=Math.sqrt(n)*Math.cos(i),a=Math.sqrt(a),this.skewX=i,this.skewY=0,this.rotation=-r,this.x=+e[4],this.y=+e[5],this.scaleX=a,this.scaleY=n,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,a=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||Or(),Br(ur,e.invTransform,a),a=ur);var n=this.originX,r=this.originY;(n||r)&&(Pu[4]=n,Pu[5]=r,Br(ur,a,Pu),ur[4]-=n,ur[5]-=r,a=ur),this.setLocalTransform(a)}},t.prototype.getGlobalScale=function(e){var a=this.transform;return e=e||[],a?(e[0]=Math.sqrt(a[0]*a[0]+a[1]*a[1]),e[1]=Math.sqrt(a[2]*a[2]+a[3]*a[3]),a[0]<0&&(e[0]=-e[0]),a[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},t.prototype.transformCoordToLocal=function(e,a){var n=[e,a],r=this.invTransform;return r&&Qa(n,n,r),n},t.prototype.transformCoordToGlobal=function(e,a){var n=[e,a],r=this.transform;return r&&Qa(n,n,r),n},t.prototype.getLineScale=function(){var e=this.transform;return e&&qu(e[0]-1)>1e-10&&qu(e[3]-1)>1e-10?Math.sqrt(qu(e[0]*e[3]-e[2]*e[1])):1},t.prototype.copyTransform=function(e){iT(this,e)},t.getLocalTransform=function(e,a){a=a||[];var n=e.originX||0,r=e.originY||0,i=e.scaleX,o=e.scaleY,s=e.anchorX,l=e.anchorY,u=e.rotation||0,c=e.x,d=e.y,f=e.skewX?Math.tan(e.skewX):0,p=e.skewY?Math.tan(-e.skewY):0;if(n||r||s||l){var m=n+s,g=r+l;a[4]=-m*i-f*g*o,a[5]=-g*o-p*m*i}else a[4]=a[5]=0;return a[0]=i,a[3]=o,a[1]=p*i,a[2]=f*o,u&&ff(a,a,u),a[4]+=n+c,a[5]+=r+d,a},t.initDefaultProps=function(){var e=t.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),t}(),Xi=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function iT(t,e){for(var a=0;a<Xi.length;a++){var n=Xi[a];t[n]=e[n]}}var Mh={};function Na(t,e){e=e||Qn;var a=Mh[e];a||(a=Mh[e]=new mo(500));var n=a.get(t);return n==null&&(n=Hr.measureText(t,e).width,a.put(t,n)),n}function Dh(t,e,a,n){var r=Na(t,e),i=gf(e),o=Ai(0,r,a),s=Cr(0,i,n),l=new Le(o,s,r,i);return l}function mf(t,e,a,n){var r=((t||"")+"").split(`
`),i=r.length;if(i===1)return Dh(r[0],e,a,n);for(var o=new Le(0,0,0,0),s=0;s<r.length;s++){var l=Dh(r[s],e,a,n);s===0?o.copy(l):o.union(l)}return o}function Ai(t,e,a){return a==="right"?t-=e:a==="center"&&(t-=e/2),t}function Cr(t,e,a){return a==="middle"?t-=e/2:a==="bottom"&&(t-=e),t}function gf(t){return Na("国",t)}function Jn(t,e){return typeof t=="string"?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function H_(t,e,a){var n=e.position||"inside",r=e.distance!=null?e.distance:5,i=a.height,o=a.width,s=i/2,l=a.x,u=a.y,c="left",d="top";if(n instanceof Array)l+=Jn(n[0],a.width),u+=Jn(n[1],a.height),c=null,d=null;else switch(n){case"left":l-=r,u+=s,c="right",d="middle";break;case"right":l+=r+o,u+=s,d="middle";break;case"top":l+=o/2,u-=r,c="center",d="bottom";break;case"bottom":l+=o/2,u+=i+r,c="center";break;case"inside":l+=o/2,u+=s,c="center",d="middle";break;case"insideLeft":l+=r,u+=s,d="middle";break;case"insideRight":l+=o-r,u+=s,c="right",d="middle";break;case"insideTop":l+=o/2,u+=r,c="center";break;case"insideBottom":l+=o/2,u+=i-r,c="center",d="bottom";break;case"insideTopLeft":l+=r,u+=r;break;case"insideTopRight":l+=o-r,u+=r,c="right";break;case"insideBottomLeft":l+=r,u+=i-r,d="bottom";break;case"insideBottomRight":l+=o-r,u+=i-r,c="right",d="bottom";break}return t=t||{},t.x=l,t.y=u,t.align=c,t.verticalAlign=d,t}var Iu="__zr_normal__",Ru=Xi.concat(["ignore"]),oT=Wr(Xi,function(t,e){return t[e]=!0,t},{ignore:!1}),cr={},sT=new Le(0,0,0,0),yl=function(){function t(e){this.id=C_(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return t.prototype._init=function(e){this.attr(e)},t.prototype.drift=function(e,a,n){switch(this.draggable){case"horizontal":a=0;break;case"vertical":e=0;break}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=e,r[5]+=a,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(e){var a=this._textContent;if(a&&(!a.ignore||e)){this.textConfig||(this.textConfig={});var n=this.textConfig,r=n.local,i=a.innerTransformable,o=void 0,s=void 0,l=!1;i.parent=r?this:null;var u=!1;if(i.copyTransform(a),n.position!=null){var c=sT;n.layoutRect?c.copy(n.layoutRect):c.copy(this.getBoundingRect()),r||c.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(cr,n,c):H_(cr,n,c),i.x=cr.x,i.y=cr.y,o=cr.align,s=cr.verticalAlign;var d=n.origin;if(d&&n.rotation!=null){var f=void 0,p=void 0;d==="center"?(f=c.width*.5,p=c.height*.5):(f=Jn(d[0],c.width),p=Jn(d[1],c.height)),u=!0,i.originX=-i.x+f+(r?0:c.x),i.originY=-i.y+p+(r?0:c.y)}}n.rotation!=null&&(i.rotation=n.rotation);var m=n.offset;m&&(i.x+=m[0],i.y+=m[1],u||(i.originX=-m[0],i.originY=-m[1]));var g=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,h=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),v=void 0,_=void 0,y=void 0;g&&this.canBeInsideText()?(v=n.insideFill,_=n.insideStroke,(v==null||v==="auto")&&(v=this.getInsideTextFill()),(_==null||_==="auto")&&(_=this.getInsideTextStroke(v),y=!0)):(v=n.outsideFill,_=n.outsideStroke,(v==null||v==="auto")&&(v=this.getOutsideFill()),(_==null||_==="auto")&&(_=this.getOutsideStroke(v),y=!0)),v=v||"#000",(v!==h.fill||_!==h.stroke||y!==h.autoStroke||o!==h.align||s!==h.verticalAlign)&&(l=!0,h.fill=v,h.stroke=_,h.autoStroke=y,h.align=o,h.verticalAlign=s,a.setDefaultTextStyle(h)),a.__dirty|=za,l&&a.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(e){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?ld:sd},t.prototype.getOutsideStroke=function(e){var a=this.__zr&&this.__zr.getBackgroundColor(),n=typeof a=="string"&&nn(a);n||(n=[255,255,255,1]);for(var r=n[3],i=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*r+(i?0:255)*(1-r);return n[3]=1,hf(n,"rgba")},t.prototype.traverse=function(e,a){},t.prototype.attrKV=function(e,a){e==="textConfig"?this.setTextConfig(a):e==="textContent"?this.setTextContent(a):e==="clipPath"?this.setClipPath(a):e==="extra"?(this.extra=this.extra||{},ae(this.extra,a)):this[e]=a},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(e,a){if(typeof e=="string")this.attrKV(e,a);else if(fe(e))for(var n=e,r=Xe(n),i=0;i<r.length;i++){var o=r[i];this.attrKV(o,e[o])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var a=this._normalState,n=0;n<this.animators.length;n++){var r=this.animators[n],i=r.__fromStateTransition;if(!(r.getLoop()||i&&i!==Iu)){var o=r.targetName,s=o?a[o]:a;r.saveTo(s)}}},t.prototype._innerSaveToNormal=function(e){var a=this._normalState;a||(a=this._normalState={}),e.textConfig&&!a.textConfig&&(a.textConfig=this.textConfig),this._savePrimaryToNormal(e,a,Ru)},t.prototype._savePrimaryToNormal=function(e,a,n){for(var r=0;r<n.length;r++){var i=n[r];e[i]!=null&&!(i in a)&&(a[i]=this[i])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(e){return this.states[e]},t.prototype.ensureState=function(e){var a=this.states;return a[e]||(a[e]={}),a[e]},t.prototype.clearStates=function(e){this.useState(Iu,!1,e)},t.prototype.useState=function(e,a,n,r){var i=e===Iu,o=this.hasState();if(!(!o&&i)){var s=this.currentStates,l=this.stateTransition;if(!(Ue(s,e)>=0&&(a||s.length===1))){var u;if(this.stateProxy&&!i&&(u=this.stateProxy(e)),u||(u=this.states&&this.states[e]),!u&&!i){lf("State "+e+" not exists.");return}i||this.saveCurrentToNormalState(u);var c=!!(u&&u.hoverLayer||r);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,u,this._normalState,a,!n&&!this.__inHover&&l&&l.duration>0,l);var d=this._textContent,f=this._textGuide;return d&&d.useState(e,a,n,c),f&&f.useState(e,a,n,c),i?(this.currentStates=[],this._normalState={}):a?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~za),u}}},t.prototype.useStates=function(e,a,n){if(!e.length)this.clearStates();else{var r=[],i=this.currentStates,o=e.length,s=o===i.length;if(s){for(var l=0;l<o;l++)if(e[l]!==i[l]){s=!1;break}}if(s)return;for(var l=0;l<o;l++){var u=e[l],c=void 0;this.stateProxy&&(c=this.stateProxy(u,e)),c||(c=this.states[u]),c&&r.push(c)}var d=r[o-1],f=!!(d&&d.hoverLayer||n);f&&this._toggleHoverLayerFlag(!0);var p=this._mergeStates(r),m=this.stateTransition;this.saveCurrentToNormalState(p),this._applyStateObj(e.join(","),p,this._normalState,!1,!a&&!this.__inHover&&m&&m.duration>0,m);var g=this._textContent,h=this._textGuide;g&&g.useStates(e,a,f),h&&h.useStates(e,a,f),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~za)}},t.prototype.isSilent=function(){for(var e=this.silent,a=this.parent;!e&&a;){if(a.silent){e=!0;break}a=a.parent}return e},t.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var a=this.animators[e];a.targetName&&a.changeTarget(this[a.targetName])}},t.prototype.removeState=function(e){var a=Ue(this.currentStates,e);if(a>=0){var n=this.currentStates.slice();n.splice(a,1),this.useStates(n)}},t.prototype.replaceState=function(e,a,n){var r=this.currentStates.slice(),i=Ue(r,e),o=Ue(r,a)>=0;i>=0?o?r.splice(i,1):r[i]=a:n&&!o&&r.push(a),this.useStates(r)},t.prototype.toggleState=function(e,a){a?this.useState(e,!0):this.removeState(e)},t.prototype._mergeStates=function(e){for(var a={},n,r=0;r<e.length;r++){var i=e[r];ae(a,i),i.textConfig&&(n=n||{},ae(n,i.textConfig))}return n&&(a.textConfig=n),a},t.prototype._applyStateObj=function(e,a,n,r,i,o){var s=!(a&&r);a&&a.textConfig?(this.textConfig=ae({},r?this.textConfig:n.textConfig),ae(this.textConfig,a.textConfig)):s&&n.textConfig&&(this.textConfig=n.textConfig);for(var l={},u=!1,c=0;c<Ru.length;c++){var d=Ru[c],f=i&&oT[d];a&&a[d]!=null?f?(u=!0,l[d]=a[d]):this[d]=a[d]:s&&n[d]!=null&&(f?(u=!0,l[d]=n[d]):this[d]=n[d])}if(!i)for(var c=0;c<this.animators.length;c++){var p=this.animators[c],m=p.targetName;p.getLoop()||p.__changeFinalValue(m?(a||n)[m]:a||n)}u&&this._transitionState(e,l,o)},t.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var a=this.__zr;a&&e.addSelfToZr(a),e.__zr=a,e.__hostTarget=this}},t.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},t.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(e){var a=this._textContent;a!==e&&(a&&a!==e&&this.removeTextContent(),e.innerTransformable=new _l,this._attachComponent(e),this._textContent=e,this.markRedraw())},t.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),ae(this.textConfig,e),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=za;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var a=this._textContent,n=this._textGuide;a&&(a.__inHover=e),n&&(n.__inHover=e)},t.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var a=this.animators;if(a)for(var n=0;n<a.length;n++)e.animation.addAnimator(a[n]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var a=this.animators;if(a)for(var n=0;n<a.length;n++)e.animation.removeAnimator(a[n]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},t.prototype.animate=function(e,a,n){var r=e?this[e]:this,i=new vf(r,a,n);return e&&(i.targetName=e),this.addAnimator(i,e),i},t.prototype.addAnimator=function(e,a){var n=this.__zr,r=this;e.during(function(){r.updateDuringAnimation(a)}).done(function(){var i=r.animators,o=Ue(i,e);o>=0&&i.splice(o,1)}),this.animators.push(e),n&&n.animation.addAnimator(e),n&&n.wakeUp()},t.prototype.updateDuringAnimation=function(e){this.markRedraw()},t.prototype.stopAnimation=function(e,a){for(var n=this.animators,r=n.length,i=[],o=0;o<r;o++){var s=n[o];!e||e===s.scope?s.stop(a):i.push(s)}return this.animators=i,this},t.prototype.animateTo=function(e,a,n){Ou(this,e,a,n)},t.prototype.animateFrom=function(e,a,n){Ou(this,e,a,n,!0)},t.prototype._transitionState=function(e,a,n,r){for(var i=Ou(this,a,n,r),o=0;o<i.length;o++)i[o].__fromStateTransition=e},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=za;function a(n,r,i,o){Object.defineProperty(e,n,{get:function(){if(!this[r]){var l=this[r]=[];s(this,l)}return this[r]},set:function(l){this[i]=l[0],this[o]=l[1],this[r]=l,s(this,l)}});function s(l,u){Object.defineProperty(u,0,{get:function(){return l[i]},set:function(c){l[i]=c}}),Object.defineProperty(u,1,{get:function(){return l[o]},set:function(c){l[o]=c}})}}Object.defineProperty&&(a("position","_legacyPos","x","y"),a("scale","_legacyScale","scaleX","scaleY"),a("origin","_legacyOrigin","originX","originY"))}(),t}();wt(yl,xt);wt(yl,_l);function Ou(t,e,a,n,r){a=a||{};var i=[];W_(t,"",t,e,a,n,i,r);var o=i.length,s=!1,l=a.done,u=a.aborted,c=function(){s=!0,o--,o<=0&&(s?l&&l():u&&u())},d=function(){o--,o<=0&&(s?l&&l():u&&u())};o||l&&l(),i.length>0&&a.during&&i[0].during(function(m,g){a.during(g)});for(var f=0;f<i.length;f++){var p=i[f];c&&p.done(c),d&&p.aborted(d),a.force&&p.duration(a.duration),p.start(a.easing)}return i}function Bu(t,e,a){for(var n=0;n<a;n++)t[n]=e[n]}function lT(t){return Ma(t[0])}function uT(t,e,a){if(Ma(e[a]))if(Ma(t[a])||(t[a]=[]),Da(e[a])){var n=e[a].length;t[a].length!==n&&(t[a]=new e[a].constructor(n),Bu(t[a],e[a],n))}else{var r=e[a],i=t[a],o=r.length;if(lT(r))for(var s=r[0].length,l=0;l<o;l++)i[l]?Bu(i[l],r[l],s):i[l]=Array.prototype.slice.call(r[l]);else Bu(i,r,o);i.length=r.length}else t[a]=e[a]}function cT(t,e){return t===e||Ma(t)&&Ma(e)&&dT(t,e)}function dT(t,e){var a=t.length;if(a!==e.length)return!1;for(var n=0;n<a;n++)if(t[n]!==e[n])return!1;return!0}function W_(t,e,a,n,r,i,o,s){for(var l=Xe(n),u=r.duration,c=r.delay,d=r.additive,f=r.setToFinal,p=!fe(i),m=t.animators,g=[],h=0;h<l.length;h++){var v=l[h],_=n[v];if(_!=null&&a[v]!=null&&(p||i[v]))if(fe(_)&&!Ma(_)&&!ml(_)){if(e){s||(a[v]=_,t.updateDuringAnimation(e));continue}W_(t,v,a[v],_,r,i&&i[v],o,s)}else g.push(v);else s||(a[v]=_,t.updateDuringAnimation(e),g.push(v))}var y=g.length;if(!d&&y)for(var x=0;x<m.length;x++){var E=m[x];if(E.targetName===e){var w=E.stopTracks(g);if(w){var A=Ue(m,E);m.splice(A,1)}}}if(r.force||(g=va(g,function(M){return!cT(n[M],a[M])}),y=g.length),y>0||r.force&&!o.length){var S=void 0,k=void 0,b=void 0;if(s){k={},f&&(S={});for(var x=0;x<y;x++){var v=g[x];k[v]=a[v],f?S[v]=n[v]:a[v]=n[v]}}else if(f){b={};for(var x=0;x<y;x++){var v=g[x];b[v]=vs(a[v]),uT(a,n,v)}}var E=new vf(a,!1,!1,d?va(m,function(D){return D.targetName===e}):null);E.targetName=e,r.scope&&(E.scope=r.scope),f&&S&&E.whenWithKeys(0,S,g),b&&E.whenWithKeys(0,b,g),E.whenWithKeys(u==null?500:u,s?k:n,g).delay(c||0),t.addAnimator(E,e),o.push(E)}}var La=function(t){Re(e,t);function e(a){var n=t.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(a),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(a){return this._children[a]},e.prototype.childOfName=function(a){for(var n=this._children,r=0;r<n.length;r++)if(n[r].name===a)return n[r]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(a){return a&&a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a)),this},e.prototype.addBefore=function(a,n){if(a&&a!==this&&a.parent!==this&&n&&n.parent===this){var r=this._children,i=r.indexOf(n);i>=0&&(r.splice(i,0,a),this._doAdd(a))}return this},e.prototype.replace=function(a,n){var r=Ue(this._children,a);return r>=0&&this.replaceAt(n,r),this},e.prototype.replaceAt=function(a,n){var r=this._children,i=r[n];if(a&&a!==this&&a.parent!==this&&a!==i){r[n]=a,i.parent=null;var o=this.__zr;o&&i.removeSelfFromZr(o),this._doAdd(a)}return this},e.prototype._doAdd=function(a){a.parent&&a.parent.remove(a),a.parent=this;var n=this.__zr;n&&n!==a.__zr&&a.addSelfToZr(n),n&&n.refresh()},e.prototype.remove=function(a){var n=this.__zr,r=this._children,i=Ue(r,a);return i<0?this:(r.splice(i,1),a.parent=null,n&&a.removeSelfFromZr(n),n&&n.refresh(),this)},e.prototype.removeAll=function(){for(var a=this._children,n=this.__zr,r=0;r<a.length;r++){var i=a[r];n&&i.removeSelfFromZr(n),i.parent=null}return a.length=0,this},e.prototype.eachChild=function(a,n){for(var r=this._children,i=0;i<r.length;i++){var o=r[i];a.call(n,o,i)}return this},e.prototype.traverse=function(a,n){for(var r=0;r<this._children.length;r++){var i=this._children[r],o=a.call(n,i);i.isGroup&&!o&&i.traverse(a,n)}return this},e.prototype.addSelfToZr=function(a){t.prototype.addSelfToZr.call(this,a);for(var n=0;n<this._children.length;n++){var r=this._children[n];r.addSelfToZr(a)}},e.prototype.removeSelfFromZr=function(a){t.prototype.removeSelfFromZr.call(this,a);for(var n=0;n<this._children.length;n++){var r=this._children[n];r.removeSelfFromZr(a)}},e.prototype.getBoundingRect=function(a){for(var n=new Le(0,0,0,0),r=a||this._children,i=[],o=null,s=0;s<r.length;s++){var l=r[s];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),c=l.getLocalTransform(i);c?(Le.applyTransform(n,u,c),o=o||n.clone(),o.union(n)):(o=o||u.clone(),o.union(u))}}return o||n},e}(yl);La.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var ys={},K_={};function fT(t){delete K_[t]}function pT(t){if(!t)return!1;if(typeof t=="string")return Vs(t,1)<od;if(t.colorStops){for(var e=t.colorStops,a=0,n=e.length,r=0;r<n;r++)a+=Vs(e[r].color,1);return a/=n,a<od}return!1}var hT=function(){function t(e,a,n){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=a,this.id=e;var i=new qA,o=n.renderer||"canvas";ys[o]||(o=Xe(ys)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var s=new ys[o](a,i,n,e),l=n.ssr||s.ssrOnly;this.storage=i,this.painter=s;var u=!ke.node&&!ke.worker&&!l?new nT(s.getViewportRoot(),s.root):null,c=n.useCoarsePointer,d=c==null||c==="auto"?ke.touchEventsSupported:!!c,f=44,p;d&&(p=Ae(n.pointerSize,f)),this.handler=new P_(i,s,u,s.root,p),this.animation=new ZA({stage:{update:l?null:function(){return r._flush(!0)}}}),l||this.animation.start()}return t.prototype.add=function(e){this._disposed||!e||(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},t.prototype.remove=function(e){this._disposed||!e||(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(e,a){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,a),this.refresh())},t.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=pT(e))},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(e){this._darkMode=e},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},t.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},t.prototype.flush=function(){this._disposed||this._flush(!1)},t.prototype._flush=function(e){var a,n=Mr();this._needsRefresh&&(a=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(a=!0,this.refreshHoverImmediately());var r=Mr();a?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},t.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},t.prototype.resize=function(e){this._disposed||(e=e||{},this.painter.resize(e.width,e.height),this.handler.resize())},t.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},t.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},t.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},t.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},t.prototype.findHover=function(e,a){if(!this._disposed)return this.handler.findHover(e,a)},t.prototype.on=function(e,a,n){return this._disposed||this.handler.on(e,a,n),this},t.prototype.off=function(e,a){this._disposed||this.handler.off(e,a)},t.prototype.trigger=function(e,a){this._disposed||this.handler.trigger(e,a)},t.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),a=0;a<e.length;a++)e[a]instanceof La&&e[a].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},t.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,fT(this.id))},t}();function Lh(t,e){var a=new hT(C_(),t,e);return K_[a.id]=a,a}function vT(t,e){ys[t]=e}var Ph=1e-4,Y_=20;function mT(t){return t.replace(/^\s+|\s+$/g,"")}function qh(t,e,a,n){var r=e[0],i=e[1],o=a[0],s=a[1],l=i-r,u=s-o;if(l===0)return u===0?o:(o+s)/2;if(n)if(l>0){if(t<=r)return o;if(t>=i)return s}else{if(t>=r)return o;if(t<=i)return s}else{if(t===r)return o;if(t===i)return s}return(t-r)/l*u+o}function Oa(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}return be(t)?mT(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):t==null?NaN:+t}function aa(t,e,a){return e==null&&(e=10),e=Math.min(Math.max(0,e),Y_),t=(+t).toFixed(e),a?t:+t}function Mt(t){if(t=+t,isNaN(t))return 0;if(t>1e-14){for(var e=1,a=0;a<15;a++,e*=10)if(Math.round(t*e)/e===t)return a}return gT(t)}function gT(t){var e=t.toString().toLowerCase(),a=e.indexOf("e"),n=a>0?+e.slice(a+1):0,r=a>0?a:e.length,i=e.indexOf("."),o=i<0?0:r-1-i;return Math.max(0,o-n)}function _T(t,e){var a=Math.log,n=Math.LN10,r=Math.floor(a(t[1]-t[0])/n),i=Math.round(a(Math.abs(e[1]-e[0]))/n),o=Math.min(Math.max(-r+i,0),20);return isFinite(o)?o:20}function yT(t,e){var a=Math.max(Mt(t),Mt(e)),n=t+e;return a>Y_?n:aa(n,a)}function X_(t){var e=Math.PI*2;return(t%e+e)%e}function Fs(t){return t>-Ph&&t<Ph}var bT=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function un(t){if(t instanceof Date)return t;if(be(t)){var e=bT.exec(t);if(!e)return new Date(NaN);if(e[8]){var a=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(a-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,a,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(t==null)return new Date(NaN);return new Date(Math.round(t))}function wT(t){return Math.pow(10,_f(t))}function _f(t){if(t===0)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function Z_(t,e){var a=_f(t),n=Math.pow(10,a),r=t/n,i;return r<1.5?i=1:r<2.5?i=2:r<4?i=3:r<7?i=5:i=10,t=i*n,a>=-20?+t.toFixed(a<0?-a:0):t}function xT(t){var e=parseFloat(t);return e==t&&(e!==0||!be(t)||t.indexOf("x")<=0)?e:NaN}function ST(t){return!isNaN(xT(t))}function CT(){return Math.round(Math.random()*9)}function Q_(t,e){return e===0?t:Q_(e,t%e)}function Ih(t,e){return t==null?e:e==null?t:t*e/Q_(t,e)}function Ba(t){throw new Error(t)}function Rh(t,e,a){return(e-t)*a+t}var J_="series\0",AT="\0_ec_\0";function na(t){return t instanceof Array?t:t==null?[]:[t]}function Oh(t,e,a){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var n=0,r=a.length;n<r;n++){var i=a[n];!t.emphasis[e].hasOwnProperty(i)&&t[e].hasOwnProperty(i)&&(t.emphasis[e][i]=t[e][i])}}}var Bh=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function go(t){return fe(t)&&!se(t)&&!(t instanceof Date)?t.value:t}function TT(t){return fe(t)&&!(t instanceof Array)}function ET(t,e,a){var n=a==="normalMerge",r=a==="replaceMerge",i=a==="replaceAll";t=t||[],e=(e||[]).slice();var o=ge();q(e,function(l,u){if(!fe(l)){e[u]=null;return}});var s=kT(t,o,a);return(n||r)&&MT(s,t,o,e),n&&DT(s,e),n||r?LT(s,e,r):i&&PT(s,e),qT(s),s}function kT(t,e,a){var n=[];if(a==="replaceAll")return n;for(var r=0;r<t.length;r++){var i=t[r];i&&i.id!=null&&e.set(i.id,r),n.push({existing:a==="replaceMerge"||Zi(i)?null:i,newOption:null,keyInfo:null,brandNew:null})}return n}function MT(t,e,a,n){q(n,function(r,i){if(!(!r||r.id==null)){var o=Ri(r.id),s=a.get(o);if(s!=null){var l=t[s];sn(!l.newOption,'Duplicated option on id "'+o+'".'),l.newOption=r,l.existing=e[s],n[i]=null}}})}function DT(t,e){q(e,function(a,n){if(!(!a||a.name==null))for(var r=0;r<t.length;r++){var i=t[r].existing;if(!t[r].newOption&&i&&(i.id==null||a.id==null)&&!Zi(a)&&!Zi(i)&&$_("name",i,a)){t[r].newOption=a,e[n]=null;return}}})}function LT(t,e,a){q(e,function(n){if(n){for(var r,i=0;(r=t[i])&&(r.newOption||Zi(r.existing)||r.existing&&n.id!=null&&!$_("id",n,r.existing));)i++;r?(r.newOption=n,r.brandNew=a):t.push({newOption:n,brandNew:a,existing:null,keyInfo:null}),i++}})}function PT(t,e){q(e,function(a){t.push({newOption:a,brandNew:!0,existing:null,keyInfo:null})})}function qT(t){var e=ge();q(t,function(a){var n=a.existing;n&&e.set(n.id,a)}),q(t,function(a){var n=a.newOption;sn(!n||n.id==null||!e.get(n.id)||e.get(n.id)===a,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&e.set(n.id,a),!a.keyInfo&&(a.keyInfo={})}),q(t,function(a,n){var r=a.existing,i=a.newOption,o=a.keyInfo;if(fe(i)){if(o.name=i.name!=null?Ri(i.name):r?r.name:J_+n,r)o.id=Ri(r.id);else if(i.id!=null)o.id=Ri(i.id);else{var s=0;do o.id="\0"+o.name+"\0"+s++;while(e.get(o.id))}e.set(o.id,a)}})}function $_(t,e,a){var n=mt(e[t],null),r=mt(a[t],null);return n!=null&&r!=null&&n===r}function Ri(t){return mt(t,"")}function mt(t,e){return t==null?e:be(t)?t:ta(t)||XC(t)?t+"":e}function ey(t){var e=t.name;return!!(e&&e.indexOf(J_))}function Zi(t){return t&&t.id!=null&&Ri(t.id).indexOf(AT)===0}function IT(t,e,a){q(t,function(n){var r=n.newOption;fe(r)&&(n.keyInfo.mainType=e,n.keyInfo.subType=RT(e,r,n.existing,a))})}function RT(t,e,a,n){var r=e.type?e.type:a?a.subType:n.determineSubType(t,e);return r}function $n(t,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return se(e.dataIndex)?de(e.dataIndex,function(a){return t.indexOfRawIndex(a)}):t.indexOfRawIndex(e.dataIndex);if(e.name!=null)return se(e.name)?de(e.name,function(a){return t.indexOfName(a)}):t.indexOfName(e.name)}function ia(){var t="__ec_inner_"+OT++;return function(e){return e[t]||(e[t]={})}}var OT=CT();function zu(t,e,a){var n=ay(e,a),r=n.mainTypeSpecified,i=n.queryOptionMap,o=n.others,s=o,l=a?a.defaultMainType:null;return!r&&l&&i.set(l,{}),i.each(function(u,c){var d=bl(t,c,u,{useDefault:l===c,enableAll:a&&a.enableAll!=null?a.enableAll:!0,enableNone:a&&a.enableNone!=null?a.enableNone:!0});s[c+"Models"]=d.models,s[c+"Model"]=d.models[0]}),s}function ay(t,e){var a;if(be(t)){var n={};n[t+"Index"]=0,a=n}else a=t;var r=ge(),i={},o=!1;return q(a,function(s,l){if(l==="dataIndex"||l==="dataIndexInside"){i[l]=s;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],d=(u[2]||"").toLowerCase();if(!(!c||!d||e&&e.includeMainTypes&&Ue(e.includeMainTypes,c)<0)){o=o||!!c;var f=r.get(c)||r.set(c,{});f[d]=s}}),{mainTypeSpecified:o,queryOptionMap:r,others:i}}var ot={useDefault:!0,enableAll:!1,enableNone:!1};function bl(t,e,a,n){n=n||ot;var r=a.index,i=a.id,o=a.name,s={models:null,specified:r!=null||i!=null||o!=null};if(!s.specified){var l=void 0;return s.models=n.useDefault&&(l=t.getComponent(e))?[l]:[],s}return r==="none"||r===!1?(sn(n.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):(r==="all"&&(sn(n.enableAll,'`"all"` is not a valid value on index option.'),r=i=o=null),s.models=t.queryComponents({mainType:e,index:r,id:i,name:o}),s)}function ty(t,e,a){t.setAttribute?t.setAttribute(e,a):t[e]=a}function BT(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function zT(t,e,a,n,r){var i=e==null||e==="auto";if(n==null)return n;if(ta(n)){var o=Rh(a||0,n,r);return aa(o,i?Math.max(Mt(a||0),Mt(n)):e)}else{if(be(n))return r<1?a:n;for(var s=[],l=a,u=n,c=Math.max(l?l.length:0,u.length),d=0;d<c;++d){var f=t.getDimensionInfo(d);if(f&&f.type==="ordinal")s[d]=(r<1&&l?l:u)[d];else{var p=l&&l[d]?l[d]:0,m=u[d],o=Rh(p,m,r);s[d]=aa(o,i?Math.max(Mt(p),Mt(m)):e)}}return s}}var NT=".",Cn="___EC__COMPONENT__CONTAINER___",ny="___EC__EXTENDED_CLASS___";function vt(t){var e={main:"",sub:""};if(t){var a=t.split(NT);e.main=a[0]||"",e.sub=a[1]||""}return e}function VT(t){sn(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function jT(t){return!!(t&&t[ny])}function yf(t,e){t.$constructor=t,t.extend=function(a){var n=this,r;return FT(n)?r=function(i){qe(o,i);function o(){return i.apply(this,arguments)||this}return o}(n):(r=function(){(a.$constructor||n).apply(this,arguments)},KC(r,this)),ae(r.prototype,a),r[ny]=!0,r.extend=this.extend,r.superCall=HT,r.superApply=WT,r.superClass=n,r}}function FT(t){return we(t)&&/^class\s/.test(Function.prototype.toString.call(t))}function ry(t,e){t.extend=e.extend}var UT=Math.round(Math.random()*10);function GT(t){var e=["__\0is_clz",UT++].join("_");t.prototype[e]=!0,t.isInstance=function(a){return!!(a&&a[e])}}function HT(t,e){for(var a=[],n=2;n<arguments.length;n++)a[n-2]=arguments[n];return this.superClass.prototype[e].apply(t,a)}function WT(t,e,a){return this.superClass.prototype[e].apply(t,a)}function wl(t){var e={};t.registerClass=function(n){var r=n.type||n.prototype.type;if(r){VT(r),n.prototype.type=r;var i=vt(r);if(!i.sub)e[i.main]=n;else if(i.sub!==Cn){var o=a(i);o[i.sub]=n}}return n},t.getClass=function(n,r,i){var o=e[n];if(o&&o[Cn]&&(o=r?o[r]:null),i&&!o)throw new Error(r?"Component "+n+"."+(r||"")+" is used but not imported.":n+".type should be specified.");return o},t.getClassesByMainType=function(n){var r=vt(n),i=[],o=e[r.main];return o&&o[Cn]?q(o,function(s,l){l!==Cn&&i.push(s)}):i.push(o),i},t.hasClass=function(n){var r=vt(n);return!!e[r.main]},t.getAllClassMainTypes=function(){var n=[];return q(e,function(r,i){n.push(i)}),n},t.hasSubTypes=function(n){var r=vt(n),i=e[r.main];return i&&i[Cn]};function a(n){var r=e[n.main];return(!r||!r[Cn])&&(r=e[n.main]={},r[Cn]=!0),r}}function Qi(t,e){for(var a=0;a<t.length;a++)t[a][1]||(t[a][1]=t[a][0]);return e=e||!1,function(n,r,i){for(var o={},s=0;s<t.length;s++){var l=t[s][1];if(!(r&&Ue(r,l)>=0||i&&Ue(i,l)<0)){var u=n.getShallow(l,e);u!=null&&(o[t[s][0]]=u)}}return o}}var KT=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],YT=Qi(KT),XT=function(){function t(){}return t.prototype.getAreaStyle=function(e,a){return YT(this,e,a)},t}(),ud=new mo(50);function ZT(t){if(typeof t=="string"){var e=ud.get(t);return e&&e.image}else return t}function iy(t,e,a,n,r){if(t)if(typeof t=="string"){if(e&&e.__zrImageSrc===t||!a)return e;var i=ud.get(t),o={hostEl:a,cb:n,cbPayload:r};return i?(e=i.image,!xl(e)&&i.pending.push(o)):(e=Hr.loadImage(t,zh,zh),e.__zrImageSrc=t,ud.put(t,e.__cachedImgObj={image:e,pending:[o]})),e}else return t;else return e}function zh(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var a=t.pending[e],n=a.cb;n&&n(this,a.cbPayload),a.hostEl.dirty()}t.pending.length=0}function xl(t){return t&&t.width&&t.height}var Nu=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function QT(t,e,a,n,r){if(!e)return"";var i=(t+"").split(`
`);r=oy(e,a,n,r);for(var o=0,s=i.length;o<s;o++)i[o]=sy(i[o],r);return i.join(`
`)}function oy(t,e,a,n){n=n||{};var r=ae({},n);r.font=e,a=Ae(a,"..."),r.maxIterations=Ae(n.maxIterations,2);var i=r.minChar=Ae(n.minChar,0);r.cnCharWidth=Na("国",e);var o=r.ascCharWidth=Na("a",e);r.placeholder=Ae(n.placeholder,"");for(var s=t=Math.max(0,t-1),l=0;l<i&&s>=o;l++)s-=o;var u=Na(a,e);return u>s&&(a="",u=0),s=t-u,r.ellipsis=a,r.ellipsisWidth=u,r.contentWidth=s,r.containerWidth=t,r}function sy(t,e){var a=e.containerWidth,n=e.font,r=e.contentWidth;if(!a)return"";var i=Na(t,n);if(i<=a)return t;for(var o=0;;o++){if(i<=r||o>=e.maxIterations){t+=e.ellipsis;break}var s=o===0?JT(t,r,e.ascCharWidth,e.cnCharWidth):i>0?Math.floor(t.length*r/i):0;t=t.substr(0,s),i=Na(t,n)}return t===""&&(t=e.placeholder),t}function JT(t,e,a,n){for(var r=0,i=0,o=t.length;i<o&&r<e;i++){var s=t.charCodeAt(i);r+=0<=s&&s<=127?a:n}return i}function $T(t,e){t!=null&&(t+="");var a=e.overflow,n=e.padding,r=e.font,i=a==="truncate",o=gf(r),s=Ae(e.lineHeight,o),l=!!e.backgroundColor,u=e.lineOverflow==="truncate",c=e.width,d;c!=null&&(a==="break"||a==="breakAll")?d=t?ly(t,e.font,c,a==="breakAll",0).lines:[]:d=t?t.split(`
`):[];var f=d.length*s,p=Ae(e.height,f);if(f>p&&u){var m=Math.floor(p/s);d=d.slice(0,m)}if(t&&i&&c!=null)for(var g=oy(c,r,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),h=0;h<d.length;h++)d[h]=sy(d[h],g);for(var v=p,_=0,h=0;h<d.length;h++)_=Math.max(Na(d[h],r),_);c==null&&(c=_);var y=_;return n&&(v+=n[0]+n[2],y+=n[1]+n[3],c+=n[1]+n[3]),l&&(y=c),{lines:d,height:p,outerWidth:y,outerHeight:v,lineHeight:s,calculatedLineHeight:o,contentWidth:_,contentHeight:f,width:c}}var eE=function(){function t(){}return t}(),Nh=function(){function t(e){this.tokens=[],e&&(this.tokens=e)}return t}(),aE=function(){function t(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return t}();function tE(t,e){var a=new aE;if(t!=null&&(t+=""),!t)return a;for(var n=e.width,r=e.height,i=e.overflow,o=(i==="break"||i==="breakAll")&&n!=null?{width:n,accumWidth:0,breakAll:i==="breakAll"}:null,s=Nu.lastIndex=0,l;(l=Nu.exec(t))!=null;){var u=l.index;u>s&&Vu(a,t.substring(s,u),e,o),Vu(a,l[2],e,o,l[1]),s=Nu.lastIndex}s<t.length&&Vu(a,t.substring(s,t.length),e,o);var c=[],d=0,f=0,p=e.padding,m=i==="truncate",g=e.lineOverflow==="truncate";function h(N,W,Q){N.width=W,N.lineHeight=Q,d+=Q,f=Math.max(f,W)}e:for(var v=0;v<a.lines.length;v++){for(var _=a.lines[v],y=0,x=0,E=0;E<_.tokens.length;E++){var w=_.tokens[E],A=w.styleName&&e.rich[w.styleName]||{},S=w.textPadding=A.padding,k=S?S[1]+S[3]:0,b=w.font=A.font||e.font;w.contentHeight=gf(b);var M=Ae(A.height,w.contentHeight);if(w.innerHeight=M,S&&(M+=S[0]+S[2]),w.height=M,w.lineHeight=ps(A.lineHeight,e.lineHeight,M),w.align=A&&A.align||e.align,w.verticalAlign=A&&A.verticalAlign||"middle",g&&r!=null&&d+w.lineHeight>r){E>0?(_.tokens=_.tokens.slice(0,E),h(_,x,y),a.lines=a.lines.slice(0,v+1)):a.lines=a.lines.slice(0,v);break e}var D=A.width,L=D==null||D==="auto";if(typeof D=="string"&&D.charAt(D.length-1)==="%")w.percentWidth=D,c.push(w),w.contentWidth=Na(w.text,b);else{if(L){var P=A.backgroundColor,I=P&&P.image;I&&(I=ZT(I),xl(I)&&(w.width=Math.max(w.width,I.width*M/I.height)))}var R=m&&n!=null?n-x:null;R!=null&&R<w.width?!L||R<k?(w.text="",w.width=w.contentWidth=0):(w.text=QT(w.text,R-k,b,e.ellipsis,{minChar:e.truncateMinChar}),w.width=w.contentWidth=Na(w.text,b)):w.contentWidth=Na(w.text,b)}w.width+=k,x+=w.width,A&&(y=Math.max(y,w.lineHeight))}h(_,x,y)}a.outerWidth=a.width=Ae(n,f),a.outerHeight=a.height=Ae(r,d),a.contentHeight=d,a.contentWidth=f,p&&(a.outerWidth+=p[1]+p[3],a.outerHeight+=p[0]+p[2]);for(var v=0;v<c.length;v++){var w=c[v],U=w.percentWidth;w.width=parseInt(U,10)/100*a.width}return a}function Vu(t,e,a,n,r){var i=e==="",o=r&&a.rich[r]||{},s=t.lines,l=o.font||a.font,u=!1,c,d;if(n){var f=o.padding,p=f?f[1]+f[3]:0;if(o.width!=null&&o.width!=="auto"){var m=Jn(o.width,n.width)+p;s.length>0&&m+n.accumWidth>n.width&&(c=e.split(`
`),u=!0),n.accumWidth=m}else{var g=ly(e,l,n.width,n.breakAll,n.accumWidth);n.accumWidth=g.accumWidth+p,d=g.linesWidths,c=g.lines}}else c=e.split(`
`);for(var h=0;h<c.length;h++){var v=c[h],_=new eE;if(_.styleName=r,_.text=v,_.isLineHolder=!v&&!i,typeof o.width=="number"?_.width=o.width:_.width=d?d[h]:Na(v,l),!h&&!u){var y=(s[s.length-1]||(s[0]=new Nh)).tokens,x=y.length;x===1&&y[0].isLineHolder?y[0]=_:(v||!x||i)&&y.push(_)}else s.push(new Nh([_]))}}function nE(t){var e=t.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var rE=Wr(",&?/;] ".split(""),function(t,e){return t[e]=!0,t},{});function iE(t){return nE(t)?!!rE[t]:!0}function ly(t,e,a,n,r){for(var i=[],o=[],s="",l="",u=0,c=0,d=0;d<t.length;d++){var f=t.charAt(d);if(f===`
`){l&&(s+=l,c+=u),i.push(s),o.push(c),s="",l="",u=0,c=0;continue}var p=Na(f,e),m=n?!1:!iE(f);if(i.length?c+p>a:r+c+p>a){c?(s||l)&&(m?(s||(s=l,l="",u=0,c=u),i.push(s),o.push(c-u),l+=f,u+=p,s="",c=u):(l&&(s+=l,l="",u=0),i.push(s),o.push(c),s=f,c=p)):m?(i.push(l),o.push(u),l=f,u=p):(i.push(f),o.push(p));continue}c+=p,m?(l+=f,u+=p):(l&&(s+=l,l="",u=0),s+=f)}return!i.length&&!s&&(s=t,l="",u=0),l&&(s+=l),s&&(i.push(s),o.push(c)),i.length===1&&(c+=r),{accumWidth:c,lines:i,linesWidths:o}}var cd="__zr_style_"+Math.round(Math.random()*10),Yn={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Sl={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Yn[cd]=!0;var Vh=["z","z2","invisible"],oE=["invisible"],Yr=function(t){Re(e,t);function e(a){return t.call(this,a)||this}return e.prototype._init=function(a){for(var n=Xe(a),r=0;r<n.length;r++){var i=n[r];i==="style"?this.useStyle(a[i]):t.prototype.attrKV.call(this,i,a[i])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(a,n,r,i){var o=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&sE(this,a,n)||o&&!o[0]&&!o[3])return!1;if(r&&this.__clipPaths){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(i&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(a,n){return this.rectContain(a,n)},e.prototype.traverse=function(a,n){a.call(n,this)},e.prototype.rectContain=function(a,n){var r=this.transformCoordToLocal(a,n),i=this.getBoundingRect();return i.contain(r[0],r[1])},e.prototype.getPaintRect=function(){var a=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,r=this.getBoundingRect(),i=this.style,o=i.shadowBlur||0,s=i.shadowOffsetX||0,l=i.shadowOffsetY||0;a=this._paintRect||(this._paintRect=new Le(0,0,0,0)),n?Le.applyTransform(a,r,n):a.copy(r),(o||s||l)&&(a.width+=o*2+Math.abs(s),a.height+=o*2+Math.abs(l),a.x=Math.min(a.x,a.x+s-o),a.y=Math.min(a.y,a.y+l-o));var u=this.dirtyRectTolerance;a.isZero()||(a.x=Math.floor(a.x-u),a.y=Math.floor(a.y-u),a.width=Math.ceil(a.width+1+u*2),a.height=Math.ceil(a.height+1+u*2))}return a},e.prototype.setPrevPaintRect=function(a){a?(this._prevPaintRect=this._prevPaintRect||new Le(0,0,0,0),this._prevPaintRect.copy(a)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(a){return this.animate("style",a)},e.prototype.updateDuringAnimation=function(a){a==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(a,n){a!=="style"?t.prototype.attrKV.call(this,a,n):this.style?this.setStyle(n):this.useStyle(n)},e.prototype.setStyle=function(a,n){return typeof a=="string"?this.style[a]=n:ae(this.style,a),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(a){a||this.markRedraw(),this.__dirty|=Si,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&Si)},e.prototype.styleUpdated=function(){this.__dirty&=~Si},e.prototype.createStyle=function(a){return gl(Yn,a)},e.prototype.useStyle=function(a){a[cd]||(a=this.createStyle(a)),this.__inHover?this.__hoverStyle=a:this.style=a,this.dirtyStyle()},e.prototype.isStyleObject=function(a){return a[cd]},e.prototype._innerSaveToNormal=function(a){t.prototype._innerSaveToNormal.call(this,a);var n=this._normalState;a.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(a,n,Vh)},e.prototype._applyStateObj=function(a,n,r,i,o,s){t.prototype._applyStateObj.call(this,a,n,r,i,o,s);var l=!(n&&i),u;if(n&&n.style?o?i?u=n.style:(u=this._mergeStyle(this.createStyle(),r.style),this._mergeStyle(u,n.style)):(u=this._mergeStyle(this.createStyle(),i?this.style:r.style),this._mergeStyle(u,n.style)):l&&(u=r.style),u)if(o){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var d=Xe(c),f=0;f<d.length;f++){var p=d[f];p in u&&(u[p]=u[p],this.style[p]=c[p])}for(var m=Xe(u),f=0;f<m.length;f++){var p=m[f];this.style[p]=this.style[p]}this._transitionState(a,{style:u},s,this.getAnimationStyleProps())}else this.useStyle(u);for(var g=this.__inHover?oE:Vh,f=0;f<g.length;f++){var p=g[f];n&&n[p]!=null?this[p]=n[p]:l&&r[p]!=null&&(this[p]=r[p])}},e.prototype._mergeStates=function(a){for(var n=t.prototype._mergeStates.call(this,a),r,i=0;i<a.length;i++){var o=a[i];o.style&&(r=r||{},this._mergeStyle(r,o.style))}return r&&(n.style=r),n},e.prototype._mergeStyle=function(a,n){return ae(a,n),a},e.prototype.getAnimationStyleProps=function(){return Sl},e.initDefaultProps=function(){var a=e.prototype;a.type="displayable",a.invisible=!1,a.z=0,a.z2=0,a.zlevel=0,a.culling=!1,a.cursor="pointer",a.rectHover=!1,a.incremental=!1,a._rect=null,a.dirtyRectTolerance=0,a.__dirty=za|Si}(),e}(yl),ju=new Le(0,0,0,0),Fu=new Le(0,0,0,0);function sE(t,e,a){return ju.copy(t.getBoundingRect()),t.transform&&ju.applyTransform(t.transform),Fu.width=e,Fu.height=a,!ju.intersect(Fu)}var Aa=Math.min,Ta=Math.max,Uu=Math.sin,Gu=Math.cos,An=Math.PI*2,Oo=Kr(),Bo=Kr(),zo=Kr();function uy(t,e,a){if(t.length!==0){for(var n=t[0],r=n[0],i=n[0],o=n[1],s=n[1],l=1;l<t.length;l++)n=t[l],r=Aa(r,n[0]),i=Ta(i,n[0]),o=Aa(o,n[1]),s=Ta(s,n[1]);e[0]=r,e[1]=o,a[0]=i,a[1]=s}}function jh(t,e,a,n,r,i){r[0]=Aa(t,a),r[1]=Aa(e,n),i[0]=Ta(t,a),i[1]=Ta(e,n)}var Fh=[],Uh=[];function lE(t,e,a,n,r,i,o,s,l,u){var c=B_,d=ua,f=c(t,a,r,o,Fh);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var p=0;p<f;p++){var m=d(t,a,r,o,Fh[p]);l[0]=Aa(m,l[0]),u[0]=Ta(m,u[0])}f=c(e,n,i,s,Uh);for(var p=0;p<f;p++){var g=d(e,n,i,s,Uh[p]);l[1]=Aa(g,l[1]),u[1]=Ta(g,u[1])}l[0]=Aa(t,l[0]),u[0]=Ta(t,u[0]),l[0]=Aa(o,l[0]),u[0]=Ta(o,u[0]),l[1]=Aa(e,l[1]),u[1]=Ta(e,u[1]),l[1]=Aa(s,l[1]),u[1]=Ta(s,u[1])}function uE(t,e,a,n,r,i,o,s){var l=z_,u=Ca,c=Ta(Aa(l(t,a,r),1),0),d=Ta(Aa(l(e,n,i),1),0),f=u(t,a,r,c),p=u(e,n,i,d);o[0]=Aa(t,r,f),o[1]=Aa(e,i,p),s[0]=Ta(t,r,f),s[1]=Ta(e,i,p)}function cE(t,e,a,n,r,i,o,s,l){var u=Er,c=kr,d=Math.abs(r-i);if(d%An<1e-4&&d>1e-4){s[0]=t-a,s[1]=e-n,l[0]=t+a,l[1]=e+n;return}if(Oo[0]=Gu(r)*a+t,Oo[1]=Uu(r)*n+e,Bo[0]=Gu(i)*a+t,Bo[1]=Uu(i)*n+e,u(s,Oo,Bo),c(l,Oo,Bo),r=r%An,r<0&&(r=r+An),i=i%An,i<0&&(i=i+An),r>i&&!o?i+=An:r<i&&o&&(r+=An),o){var f=i;i=r,r=f}for(var p=0;p<i;p+=Math.PI/2)p>r&&(zo[0]=Gu(p)*a+t,zo[1]=Uu(p)*n+e,u(s,zo,s),c(l,zo,l))}var Pe={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Tn=[],En=[],lt=[],Vt=[],ut=[],ct=[],Hu=Math.min,Wu=Math.max,kn=Math.cos,Mn=Math.sin,At=Math.abs,dd=Math.PI,Xt=dd*2,Ku=typeof Float32Array!="undefined",ci=[];function Yu(t){var e=Math.round(t/dd*1e8)/1e8;return e%2*dd}function dE(t,e){var a=Yu(t[0]);a<0&&(a+=Xt);var n=a-t[0],r=t[1];r+=n,!e&&r-a>=Xt?r=a+Xt:e&&a-r>=Xt?r=a-Xt:!e&&a>r?r=a+(Xt-Yu(a-r)):e&&a<r&&(r=a-(Xt-Yu(r-a))),t[0]=a,t[1]=r}var cn=function(){function t(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(e,a,n){n=n||0,n>0&&(this._ux=At(n/js/e)||0,this._uy=At(n/js/a)||0)},t.prototype.setDPR=function(e){this.dpr=e},t.prototype.setContext=function(e){this._ctx=e},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(e,a){return this._drawPendingPt(),this.addData(Pe.M,e,a),this._ctx&&this._ctx.moveTo(e,a),this._x0=e,this._y0=a,this._xi=e,this._yi=a,this},t.prototype.lineTo=function(e,a){var n=At(e-this._xi),r=At(a-this._yi),i=n>this._ux||r>this._uy;if(this.addData(Pe.L,e,a),this._ctx&&i&&this._ctx.lineTo(e,a),i)this._xi=e,this._yi=a,this._pendingPtDist=0;else{var o=n*n+r*r;o>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=a,this._pendingPtDist=o)}return this},t.prototype.bezierCurveTo=function(e,a,n,r,i,o){return this._drawPendingPt(),this.addData(Pe.C,e,a,n,r,i,o),this._ctx&&this._ctx.bezierCurveTo(e,a,n,r,i,o),this._xi=i,this._yi=o,this},t.prototype.quadraticCurveTo=function(e,a,n,r){return this._drawPendingPt(),this.addData(Pe.Q,e,a,n,r),this._ctx&&this._ctx.quadraticCurveTo(e,a,n,r),this._xi=n,this._yi=r,this},t.prototype.arc=function(e,a,n,r,i,o){this._drawPendingPt(),ci[0]=r,ci[1]=i,dE(ci,o),r=ci[0],i=ci[1];var s=i-r;return this.addData(Pe.A,e,a,n,n,r,s,0,o?0:1),this._ctx&&this._ctx.arc(e,a,n,r,i,o),this._xi=kn(i)*n+e,this._yi=Mn(i)*n+a,this},t.prototype.arcTo=function(e,a,n,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,a,n,r,i),this},t.prototype.rect=function(e,a,n,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,a,n,r),this.addData(Pe.R,e,a,n,r),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(Pe.Z);var e=this._ctx,a=this._x0,n=this._y0;return e&&e.closePath(),this._xi=a,this._yi=n,this},t.prototype.fill=function(e){e&&e.fill(),this.toStatic()},t.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(e){var a=e.length;!(this.data&&this.data.length===a)&&Ku&&(this.data=new Float32Array(a));for(var n=0;n<a;n++)this.data[n]=e[n];this._len=a},t.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var a=e.length,n=0,r=this._len,i=0;i<a;i++)n+=e[i].len();Ku&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+n));for(var i=0;i<a;i++)for(var o=e[i].data,s=0;s<o.length;s++)this.data[r++]=o[s];this._len=r},t.prototype.addData=function(e,a,n,r,i,o,s,l,u){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var d=0;d<arguments.length;d++)c[this._len++]=arguments[d]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],a=0;a<this._len;a++)e[a]=this.data[a];this.data=e}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,Ku&&this._len>11&&(this.data=new Float32Array(e)))}},t.prototype.getBoundingRect=function(){lt[0]=lt[1]=ut[0]=ut[1]=Number.MAX_VALUE,Vt[0]=Vt[1]=ct[0]=ct[1]=-Number.MAX_VALUE;var e=this.data,a=0,n=0,r=0,i=0,o;for(o=0;o<this._len;){var s=e[o++],l=o===1;switch(l&&(a=e[o],n=e[o+1],r=a,i=n),s){case Pe.M:a=r=e[o++],n=i=e[o++],ut[0]=r,ut[1]=i,ct[0]=r,ct[1]=i;break;case Pe.L:jh(a,n,e[o],e[o+1],ut,ct),a=e[o++],n=e[o++];break;case Pe.C:lE(a,n,e[o++],e[o++],e[o++],e[o++],e[o],e[o+1],ut,ct),a=e[o++],n=e[o++];break;case Pe.Q:uE(a,n,e[o++],e[o++],e[o],e[o+1],ut,ct),a=e[o++],n=e[o++];break;case Pe.A:var u=e[o++],c=e[o++],d=e[o++],f=e[o++],p=e[o++],m=e[o++]+p;o+=1;var g=!e[o++];l&&(r=kn(p)*d+u,i=Mn(p)*f+c),cE(u,c,d,f,p,m,g,ut,ct),a=kn(m)*d+u,n=Mn(m)*f+c;break;case Pe.R:r=a=e[o++],i=n=e[o++];var h=e[o++],v=e[o++];jh(r,i,r+h,i+v,ut,ct);break;case Pe.Z:a=r,n=i;break}Er(lt,lt,ut),kr(Vt,Vt,ct)}return o===0&&(lt[0]=lt[1]=Vt[0]=Vt[1]=0),new Le(lt[0],lt[1],Vt[0]-lt[0],Vt[1]-lt[1])},t.prototype._calculateLength=function(){var e=this.data,a=this._len,n=this._ux,r=this._uy,i=0,o=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,c=0,d=0,f=0;f<a;){var p=e[f++],m=f===1;m&&(i=e[f],o=e[f+1],s=i,l=o);var g=-1;switch(p){case Pe.M:i=s=e[f++],o=l=e[f++];break;case Pe.L:{var h=e[f++],v=e[f++],_=h-i,y=v-o;(At(_)>n||At(y)>r||f===a-1)&&(g=Math.sqrt(_*_+y*y),i=h,o=v);break}case Pe.C:{var x=e[f++],E=e[f++],h=e[f++],v=e[f++],w=e[f++],A=e[f++];g=RA(i,o,x,E,h,v,w,A,10),i=w,o=A;break}case Pe.Q:{var x=e[f++],E=e[f++],h=e[f++],v=e[f++];g=zA(i,o,x,E,h,v,10),i=h,o=v;break}case Pe.A:var S=e[f++],k=e[f++],b=e[f++],M=e[f++],D=e[f++],L=e[f++],P=L+D;f+=1,m&&(s=kn(D)*b+S,l=Mn(D)*M+k),g=Wu(b,M)*Hu(Xt,Math.abs(L)),i=kn(P)*b+S,o=Mn(P)*M+k;break;case Pe.R:{s=i=e[f++],l=o=e[f++];var I=e[f++],R=e[f++];g=I*2+R*2;break}case Pe.Z:{var _=s-i,y=l-o;g=Math.sqrt(_*_+y*y),i=s,o=l;break}}g>=0&&(u[d++]=g,c+=g)}return this._pathLen=c,c},t.prototype.rebuildPath=function(e,a){var n=this.data,r=this._ux,i=this._uy,o=this._len,s,l,u,c,d,f,p=a<1,m,g,h=0,v=0,_,y=0,x,E;if(!(p&&(this._pathSegLen||this._calculateLength(),m=this._pathSegLen,g=this._pathLen,_=a*g,!_)))e:for(var w=0;w<o;){var A=n[w++],S=w===1;switch(S&&(u=n[w],c=n[w+1],s=u,l=c),A!==Pe.L&&y>0&&(e.lineTo(x,E),y=0),A){case Pe.M:s=u=n[w++],l=c=n[w++],e.moveTo(u,c);break;case Pe.L:{d=n[w++],f=n[w++];var k=At(d-u),b=At(f-c);if(k>r||b>i){if(p){var M=m[v++];if(h+M>_){var D=(_-h)/M;e.lineTo(u*(1-D)+d*D,c*(1-D)+f*D);break e}h+=M}e.lineTo(d,f),u=d,c=f,y=0}else{var L=k*k+b*b;L>y&&(x=d,E=f,y=L)}break}case Pe.C:{var P=n[w++],I=n[w++],R=n[w++],U=n[w++],N=n[w++],W=n[w++];if(p){var M=m[v++];if(h+M>_){var D=(_-h)/M;ln(u,P,R,N,D,Tn),ln(c,I,U,W,D,En),e.bezierCurveTo(Tn[1],En[1],Tn[2],En[2],Tn[3],En[3]);break e}h+=M}e.bezierCurveTo(P,I,R,U,N,W),u=N,c=W;break}case Pe.Q:{var P=n[w++],I=n[w++],R=n[w++],U=n[w++];if(p){var M=m[v++];if(h+M>_){var D=(_-h)/M;Ns(u,P,R,D,Tn),Ns(c,I,U,D,En),e.quadraticCurveTo(Tn[1],En[1],Tn[2],En[2]);break e}h+=M}e.quadraticCurveTo(P,I,R,U),u=R,c=U;break}case Pe.A:var Q=n[w++],re=n[w++],ue=n[w++],J=n[w++],ie=n[w++],F=n[w++],G=n[w++],ee=!n[w++],$=ue>J?ue:J,Z=At(ue-J)>.001,pe=ie+F,te=!1;if(p){var M=m[v++];h+M>_&&(pe=ie+F*(_-h)/M,te=!0),h+=M}if(Z&&e.ellipse?e.ellipse(Q,re,ue,J,G,ie,pe,ee):e.arc(Q,re,$,ie,pe,ee),te)break e;S&&(s=kn(ie)*ue+Q,l=Mn(ie)*J+re),u=kn(pe)*ue+Q,c=Mn(pe)*J+re;break;case Pe.R:s=u=n[w],l=c=n[w+1],d=n[w++],f=n[w++];var oe=n[w++],He=n[w++];if(p){var M=m[v++];if(h+M>_){var We=_-h;e.moveTo(d,f),e.lineTo(d+Hu(We,oe),f),We-=oe,We>0&&e.lineTo(d+oe,f+Hu(We,He)),We-=He,We>0&&e.lineTo(d+Wu(oe-We,0),f+He),We-=oe,We>0&&e.lineTo(d,f+Wu(He-We,0));break e}h+=M}e.rect(d,f,oe,He);break;case Pe.Z:if(p){var M=m[v++];if(h+M>_){var D=(_-h)/M;e.lineTo(u*(1-D)+s*D,c*(1-D)+l*D);break e}h+=M}e.closePath(),u=s,c=l}}},t.prototype.clone=function(){var e=new t,a=this.data;return e.data=a.slice?a.slice():Array.prototype.slice.call(a),e._len=this._len,e},t.CMD=Pe,t.initDefaultProps=function(){var e=t.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),t}();function dr(t,e,a,n,r,i,o){if(r===0)return!1;var s=r,l=0,u=t;if(o>e+s&&o>n+s||o<e-s&&o<n-s||i>t+s&&i>a+s||i<t-s&&i<a-s)return!1;if(t!==a)l=(e-n)/(t-a),u=(t*n-a*e)/(t-a);else return Math.abs(i-t)<=s/2;var c=l*i-o+u,d=c*c/(l*l+1);return d<=s/2*s/2}function fE(t,e,a,n,r,i,o,s,l,u,c){if(l===0)return!1;var d=l;if(c>e+d&&c>n+d&&c>i+d&&c>s+d||c<e-d&&c<n-d&&c<i-d&&c<s-d||u>t+d&&u>a+d&&u>r+d&&u>o+d||u<t-d&&u<a-d&&u<r-d&&u<o-d)return!1;var f=IA(t,e,a,n,r,i,o,s,u,c);return f<=d/2}function pE(t,e,a,n,r,i,o,s,l){if(o===0)return!1;var u=o;if(l>e+u&&l>n+u&&l>i+u||l<e-u&&l<n-u&&l<i-u||s>t+u&&s>a+u&&s>r+u||s<t-u&&s<a-u&&s<r-u)return!1;var c=BA(t,e,a,n,r,i,s,l);return c<=u/2}var Gh=Math.PI*2;function No(t){return t%=Gh,t<0&&(t+=Gh),t}var di=Math.PI*2;function hE(t,e,a,n,r,i,o,s,l){if(o===0)return!1;var u=o;s-=t,l-=e;var c=Math.sqrt(s*s+l*l);if(c-u>a||c+u<a)return!1;if(Math.abs(n-r)%di<1e-4)return!0;if(i){var d=n;n=No(r),r=No(d)}else n=No(n),r=No(r);n>r&&(r+=di);var f=Math.atan2(l,s);return f<0&&(f+=di),f>=n&&f<=r||f+di>=n&&f+di<=r}function Dn(t,e,a,n,r,i){if(i>e&&i>n||i<e&&i<n||n===e)return 0;var o=(i-e)/(n-e),s=n<e?1:-1;(o===1||o===0)&&(s=n<e?.5:-.5);var l=o*(a-t)+t;return l===r?1/0:l>r?s:0}var jt=cn.CMD,Ln=Math.PI*2,vE=1e-4;function mE(t,e){return Math.abs(t-e)<vE}var ya=[-1,-1,-1],Ha=[-1,-1];function gE(){var t=Ha[0];Ha[0]=Ha[1],Ha[1]=t}function _E(t,e,a,n,r,i,o,s,l,u){if(u>e&&u>n&&u>i&&u>s||u<e&&u<n&&u<i&&u<s)return 0;var c=zs(e,n,i,s,u,ya);if(c===0)return 0;for(var d=0,f=-1,p=void 0,m=void 0,g=0;g<c;g++){var h=ya[g],v=h===0||h===1?.5:1,_=ua(t,a,r,o,h);_<l||(f<0&&(f=B_(e,n,i,s,Ha),Ha[1]<Ha[0]&&f>1&&gE(),p=ua(e,n,i,s,Ha[0]),f>1&&(m=ua(e,n,i,s,Ha[1]))),f===2?h<Ha[0]?d+=p<e?v:-v:h<Ha[1]?d+=m<p?v:-v:d+=s<m?v:-v:h<Ha[0]?d+=p<e?v:-v:d+=s<p?v:-v)}return d}function yE(t,e,a,n,r,i,o,s){if(s>e&&s>n&&s>i||s<e&&s<n&&s<i)return 0;var l=OA(e,n,i,s,ya);if(l===0)return 0;var u=z_(e,n,i);if(u>=0&&u<=1){for(var c=0,d=Ca(e,n,i,u),f=0;f<l;f++){var p=ya[f]===0||ya[f]===1?.5:1,m=Ca(t,a,r,ya[f]);m<o||(ya[f]<u?c+=d<e?p:-p:c+=i<d?p:-p)}return c}else{var p=ya[0]===0||ya[0]===1?.5:1,m=Ca(t,a,r,ya[0]);return m<o?0:i<e?p:-p}}function bE(t,e,a,n,r,i,o,s){if(s-=e,s>a||s<-a)return 0;var l=Math.sqrt(a*a-s*s);ya[0]=-l,ya[1]=l;var u=Math.abs(n-r);if(u<1e-4)return 0;if(u>=Ln-1e-4){n=0,r=Ln;var c=i?1:-1;return o>=ya[0]+t&&o<=ya[1]+t?c:0}if(n>r){var d=n;n=r,r=d}n<0&&(n+=Ln,r+=Ln);for(var f=0,p=0;p<2;p++){var m=ya[p];if(m+t>o){var g=Math.atan2(s,m),c=i?1:-1;g<0&&(g=Ln+g),(g>=n&&g<=r||g+Ln>=n&&g+Ln<=r)&&(g>Math.PI/2&&g<Math.PI*1.5&&(c=-c),f+=c)}}return f}function cy(t,e,a,n,r){for(var i=t.data,o=t.len(),s=0,l=0,u=0,c=0,d=0,f,p,m=0;m<o;){var g=i[m++],h=m===1;switch(g===jt.M&&m>1&&(a||(s+=Dn(l,u,c,d,n,r))),h&&(l=i[m],u=i[m+1],c=l,d=u),g){case jt.M:c=i[m++],d=i[m++],l=c,u=d;break;case jt.L:if(a){if(dr(l,u,i[m],i[m+1],e,n,r))return!0}else s+=Dn(l,u,i[m],i[m+1],n,r)||0;l=i[m++],u=i[m++];break;case jt.C:if(a){if(fE(l,u,i[m++],i[m++],i[m++],i[m++],i[m],i[m+1],e,n,r))return!0}else s+=_E(l,u,i[m++],i[m++],i[m++],i[m++],i[m],i[m+1],n,r)||0;l=i[m++],u=i[m++];break;case jt.Q:if(a){if(pE(l,u,i[m++],i[m++],i[m],i[m+1],e,n,r))return!0}else s+=yE(l,u,i[m++],i[m++],i[m],i[m+1],n,r)||0;l=i[m++],u=i[m++];break;case jt.A:var v=i[m++],_=i[m++],y=i[m++],x=i[m++],E=i[m++],w=i[m++];m+=1;var A=!!(1-i[m++]);f=Math.cos(E)*y+v,p=Math.sin(E)*x+_,h?(c=f,d=p):s+=Dn(l,u,f,p,n,r);var S=(n-v)*x/y+v;if(a){if(hE(v,_,x,E,E+w,A,e,S,r))return!0}else s+=bE(v,_,x,E,E+w,A,S,r);l=Math.cos(E+w)*y+v,u=Math.sin(E+w)*x+_;break;case jt.R:c=l=i[m++],d=u=i[m++];var k=i[m++],b=i[m++];if(f=c+k,p=d+b,a){if(dr(c,d,f,d,e,n,r)||dr(f,d,f,p,e,n,r)||dr(f,p,c,p,e,n,r)||dr(c,p,c,d,e,n,r))return!0}else s+=Dn(f,d,f,p,n,r),s+=Dn(c,p,c,d,n,r);break;case jt.Z:if(a){if(dr(l,u,c,d,e,n,r))return!0}else s+=Dn(l,u,c,d,n,r);l=c,u=d;break}}return!a&&!mE(u,d)&&(s+=Dn(l,u,c,d,n,r)||0),s!==0}function wE(t,e,a){return cy(t,0,!1,e,a)}function xE(t,e,a,n){return cy(t,e,!0,a,n)}var dy=Se({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Yn),SE={style:Se({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Sl.style)},Xu=Xi.concat(["invisible","culling","z","z2","zlevel","parent"]),Ee=function(t){Re(e,t);function e(a){return t.call(this,a)||this}return e.prototype.update=function(){var a=this;t.prototype.update.call(this);var n=this.style;if(n.decal){var r=this._decalEl=this._decalEl||new e;r.buildPath===e.prototype.buildPath&&(r.buildPath=function(l){a.buildPath(l,a.shape)}),r.silent=!0;var i=r.style;for(var o in n)i[o]!==n[o]&&(i[o]=n[o]);i.fill=n.fill?n.decal:null,i.decal=null,i.shadowColor=null,n.strokeFirst&&(i.stroke=null);for(var s=0;s<Xu.length;++s)r[Xu[s]]=this[Xu[s]];r.__dirty|=za}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(a){var n=Xe(a);this.shape=this.getDefaultShape();var r=this.getDefaultStyle();r&&this.useStyle(r);for(var i=0;i<n.length;i++){var o=n[i],s=a[o];o==="style"?this.style?ae(this.style,s):this.useStyle(s):o==="shape"?ae(this.shape,s):t.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var a=this.style.fill;if(a!=="none"){if(be(a)){var n=Vs(a,0);return n>.5?sd:n>.2?rT:ld}else if(a)return ld}return sd},e.prototype.getInsideTextStroke=function(a){var n=this.style.fill;if(be(n)){var r=this.__zr,i=!!(r&&r.isDarkMode()),o=Vs(a,0)<od;if(i===o)return n}},e.prototype.buildPath=function(a,n,r){},e.prototype.pathUpdated=function(){this.__dirty&=~Sr},e.prototype.getUpdatedPathProxy=function(a){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,a),this.path},e.prototype.createPathProxy=function(){this.path=new cn(!1)},e.prototype.hasStroke=function(){var a=this.style,n=a.stroke;return!(n==null||n==="none"||!(a.lineWidth>0))},e.prototype.hasFill=function(){var a=this.style,n=a.fill;return n!=null&&n!=="none"},e.prototype.getBoundingRect=function(){var a=this._rect,n=this.style,r=!a;if(r){var i=!1;this.path||(i=!0,this.createPathProxy());var o=this.path;(i||this.__dirty&Sr)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),a=o.getBoundingRect()}if(this._rect=a,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=a.clone());if(this.__dirty||r){s.copy(a);var l=n.strokeNoScale?this.getLineScale():1,u=n.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;u=Math.max(u,c==null?4:c)}l>1e-10&&(s.width+=u/l,s.height+=u/l,s.x-=u/l/2,s.y-=u/l/2)}return s}return a},e.prototype.contain=function(a,n){var r=this.transformCoordToLocal(a,n),i=this.getBoundingRect(),o=this.style;if(a=r[0],n=r[1],i.contain(a,n)){var s=this.path;if(this.hasStroke()){var l=o.lineWidth,u=o.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),xE(s,l/u,a,n)))return!0}if(this.hasFill())return wE(s,a,n)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=Sr,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(a){return this.animate("shape",a)},e.prototype.updateDuringAnimation=function(a){a==="style"?this.dirtyStyle():a==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(a,n){a==="shape"?this.setShape(n):t.prototype.attrKV.call(this,a,n)},e.prototype.setShape=function(a,n){var r=this.shape;return r||(r=this.shape={}),typeof a=="string"?r[a]=n:ae(r,a),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&Sr)},e.prototype.createStyle=function(a){return gl(dy,a)},e.prototype._innerSaveToNormal=function(a){t.prototype._innerSaveToNormal.call(this,a);var n=this._normalState;a.shape&&!n.shape&&(n.shape=ae({},this.shape))},e.prototype._applyStateObj=function(a,n,r,i,o,s){t.prototype._applyStateObj.call(this,a,n,r,i,o,s);var l=!(n&&i),u;if(n&&n.shape?o?i?u=n.shape:(u=ae({},r.shape),ae(u,n.shape)):(u=ae({},i?this.shape:r.shape),ae(u,n.shape)):l&&(u=r.shape),u)if(o){this.shape=ae({},this.shape);for(var c={},d=Xe(u),f=0;f<d.length;f++){var p=d[f];typeof u[p]=="object"?this.shape[p]=u[p]:c[p]=u[p]}this._transitionState(a,{shape:c},s)}else this.shape=u,this.dirtyShape()},e.prototype._mergeStates=function(a){for(var n=t.prototype._mergeStates.call(this,a),r,i=0;i<a.length;i++){var o=a[i];o.shape&&(r=r||{},this._mergeStyle(r,o.shape))}return r&&(n.shape=r),n},e.prototype.getAnimationStyleProps=function(){return SE},e.prototype.isZeroArea=function(){return!1},e.extend=function(a){var n=function(i){Re(o,i);function o(s){var l=i.call(this,s)||this;return a.init&&a.init.call(l,s),l}return o.prototype.getDefaultStyle=function(){return De(a.style)},o.prototype.getDefaultShape=function(){return De(a.shape)},o}(e);for(var r in a)typeof a[r]=="function"&&(n.prototype[r]=a[r]);return n},e.initDefaultProps=function(){var a=e.prototype;a.type="path",a.strokeContainThreshold=5,a.segmentIgnoreThreshold=0,a.subPixelOptimize=!1,a.autoBatch=!1,a.__dirty=za|Si|Sr}(),e}(Yr),CE=Se({strokeFirst:!0,font:Qn,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},dy),Us=function(t){Re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.hasStroke=function(){var a=this.style,n=a.stroke;return n!=null&&n!=="none"&&a.lineWidth>0},e.prototype.hasFill=function(){var a=this.style,n=a.fill;return n!=null&&n!=="none"},e.prototype.createStyle=function(a){return gl(CE,a)},e.prototype.setBoundingRect=function(a){this._rect=a},e.prototype.getBoundingRect=function(){var a=this.style;if(!this._rect){var n=a.text;n!=null?n+="":n="";var r=mf(n,a.font,a.textAlign,a.textBaseline);if(r.x+=a.x||0,r.y+=a.y||0,this.hasStroke()){var i=a.lineWidth;r.x-=i/2,r.y-=i/2,r.width+=i,r.height+=i}this._rect=r}return this._rect},e.initDefaultProps=function(){var a=e.prototype;a.dirtyRectTolerance=10}(),e}(Yr);Us.prototype.type="tspan";var AE=Se({x:0,y:0},Yn),TE={style:Se({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Sl.style)};function EE(t){return!!(t&&typeof t!="string"&&t.width&&t.height)}var mn=function(t){Re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createStyle=function(a){return gl(AE,a)},e.prototype._getSize=function(a){var n=this.style,r=n[a];if(r!=null)return r;var i=EE(n.image)?n.image:this.__image;if(!i)return 0;var o=a==="width"?"height":"width",s=n[o];return s==null?i[a]:i[a]/i[o]*s},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return TE},e.prototype.getBoundingRect=function(){var a=this.style;return this._rect||(this._rect=new Le(a.x||0,a.y||0,this.getWidth(),this.getHeight())),this._rect},e}(Yr);mn.prototype.type="image";function kE(t,e){var a=e.x,n=e.y,r=e.width,i=e.height,o=e.r,s,l,u,c;r<0&&(a=a+r,r=-r),i<0&&(n=n+i,i=-i),typeof o=="number"?s=l=u=c=o:o instanceof Array?o.length===1?s=l=u=c=o[0]:o.length===2?(s=u=o[0],l=c=o[1]):o.length===3?(s=o[0],l=c=o[1],u=o[2]):(s=o[0],l=o[1],u=o[2],c=o[3]):s=l=u=c=0;var d;s+l>r&&(d=s+l,s*=r/d,l*=r/d),u+c>r&&(d=u+c,u*=r/d,c*=r/d),l+u>i&&(d=l+u,l*=i/d,u*=i/d),s+c>i&&(d=s+c,s*=i/d,c*=i/d),t.moveTo(a+s,n),t.lineTo(a+r-l,n),l!==0&&t.arc(a+r-l,n+l,l,-Math.PI/2,0),t.lineTo(a+r,n+i-u),u!==0&&t.arc(a+r-u,n+i-u,u,0,Math.PI/2),t.lineTo(a+c,n+i),c!==0&&t.arc(a+c,n+i-c,c,Math.PI/2,Math.PI),t.lineTo(a,n+s),s!==0&&t.arc(a+s,n+s,s,Math.PI,Math.PI*1.5)}var Dr=Math.round;function fy(t,e,a){if(e){var n=e.x1,r=e.x2,i=e.y1,o=e.y2;t.x1=n,t.x2=r,t.y1=i,t.y2=o;var s=a&&a.lineWidth;return s&&(Dr(n*2)===Dr(r*2)&&(t.x1=t.x2=Hn(n,s,!0)),Dr(i*2)===Dr(o*2)&&(t.y1=t.y2=Hn(i,s,!0))),t}}function py(t,e,a){if(e){var n=e.x,r=e.y,i=e.width,o=e.height;t.x=n,t.y=r,t.width=i,t.height=o;var s=a&&a.lineWidth;return s&&(t.x=Hn(n,s,!0),t.y=Hn(r,s,!0),t.width=Math.max(Hn(n+i,s,!1)-t.x,i===0?0:1),t.height=Math.max(Hn(r+o,s,!1)-t.y,o===0?0:1)),t}}function Hn(t,e,a){if(!e)return t;var n=Dr(t*2);return(n+Dr(e))%2===0?n/2:(n+(a?1:-1))/2}var ME=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0}return t}(),DE={},ka=function(t){Re(e,t);function e(a){return t.call(this,a)||this}return e.prototype.getDefaultShape=function(){return new ME},e.prototype.buildPath=function(a,n){var r,i,o,s;if(this.subPixelOptimize){var l=py(DE,n,this.style);r=l.x,i=l.y,o=l.width,s=l.height,l.r=n.r,n=l}else r=n.x,i=n.y,o=n.width,s=n.height;n.r?kE(a,n):a.rect(r,i,o,s)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(Ee);ka.prototype.type="rect";var Hh={fill:"#000"},Wh=2,LE={style:Se({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Sl.style)},yt=function(t){Re(e,t);function e(a){var n=t.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=Hh,n.attr(a),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var a=0;a<this._children.length;a++){var n=this._children[a];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},e.prototype.updateTransform=function(){var a=this.innerTransformable;a?(a.updateTransform(),a.transform&&(this.transform=a.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(a){var n=this.innerTransformable;return n?n.getLocalTransform(a):t.prototype.getLocalTransform.call(this,a)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,OE(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(a){t.prototype.addSelfToZr.call(this,a);for(var n=0;n<this._children.length;n++)this._children[n].__zr=a},e.prototype.removeSelfFromZr=function(a){t.prototype.removeSelfFromZr.call(this,a);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var a=new Le(0,0,0,0),n=this._children,r=[],i=null,o=0;o<n.length;o++){var s=n[o],l=s.getBoundingRect(),u=s.getLocalTransform(r);u?(a.copy(l),a.applyTransform(u),i=i||a.clone(),i.union(a)):(i=i||l.clone(),i.union(l))}this._rect=i||a}return this._rect},e.prototype.setDefaultTextStyle=function(a){this._defaultStyle=a||Hh},e.prototype.setTextContent=function(a){},e.prototype._mergeStyle=function(a,n){if(!n)return a;var r=n.rich,i=a.rich||r&&{};return ae(a,n),r&&i?(this._mergeRich(i,r),a.rich=i):i&&(a.rich=i),a},e.prototype._mergeRich=function(a,n){for(var r=Xe(n),i=0;i<r.length;i++){var o=r[i];a[o]=a[o]||{},ae(a[o],n[o])}},e.prototype.getAnimationStyleProps=function(){return LE},e.prototype._getOrCreateChild=function(a){var n=this._children[this._childCursor];return(!n||!(n instanceof a))&&(n=new a),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},e.prototype._updatePlainTexts=function(){var a=this.style,n=a.font||Qn,r=a.padding,i=$h(a),o=$T(i,a),s=Zu(a),l=!!a.backgroundColor,u=o.outerHeight,c=o.outerWidth,d=o.contentWidth,f=o.lines,p=o.lineHeight,m=this._defaultStyle,g=a.x||0,h=a.y||0,v=a.align||m.align||"left",_=a.verticalAlign||m.verticalAlign||"top",y=g,x=Cr(h,o.contentHeight,_);if(s||r){var E=Ai(g,c,v),w=Cr(h,u,_);s&&this._renderBackground(a,a,E,w,c,u)}x+=p/2,r&&(y=Jh(g,v,r),_==="top"?x+=r[0]:_==="bottom"&&(x-=r[2]));for(var A=0,S=!1,k=Qh("fill"in a?a.fill:(S=!0,m.fill)),b=Zh("stroke"in a?a.stroke:!l&&(!m.autoStroke||S)?(A=Wh,m.stroke):null),M=a.textShadowBlur>0,D=a.width!=null&&(a.overflow==="truncate"||a.overflow==="break"||a.overflow==="breakAll"),L=o.calculatedLineHeight,P=0;P<f.length;P++){var I=this._getOrCreateChild(Us),R=I.createStyle();I.useStyle(R),R.text=f[P],R.x=y,R.y=x,v&&(R.textAlign=v),R.textBaseline="middle",R.opacity=a.opacity,R.strokeFirst=!0,M&&(R.shadowBlur=a.textShadowBlur||0,R.shadowColor=a.textShadowColor||"transparent",R.shadowOffsetX=a.textShadowOffsetX||0,R.shadowOffsetY=a.textShadowOffsetY||0),R.stroke=b,R.fill=k,b&&(R.lineWidth=a.lineWidth||A,R.lineDash=a.lineDash,R.lineDashOffset=a.lineDashOffset||0),R.font=n,Yh(R,a),x+=p,D&&I.setBoundingRect(new Le(Ai(R.x,a.width,R.textAlign),Cr(R.y,L,R.textBaseline),d,L))}},e.prototype._updateRichTexts=function(){var a=this.style,n=$h(a),r=tE(n,a),i=r.width,o=r.outerWidth,s=r.outerHeight,l=a.padding,u=a.x||0,c=a.y||0,d=this._defaultStyle,f=a.align||d.align,p=a.verticalAlign||d.verticalAlign,m=Ai(u,o,f),g=Cr(c,s,p),h=m,v=g;l&&(h+=l[3],v+=l[0]);var _=h+i;Zu(a)&&this._renderBackground(a,a,m,g,o,s);for(var y=!!a.backgroundColor,x=0;x<r.lines.length;x++){for(var E=r.lines[x],w=E.tokens,A=w.length,S=E.lineHeight,k=E.width,b=0,M=h,D=_,L=A-1,P=void 0;b<A&&(P=w[b],!P.align||P.align==="left");)this._placeToken(P,a,S,v,M,"left",y),k-=P.width,M+=P.width,b++;for(;L>=0&&(P=w[L],P.align==="right");)this._placeToken(P,a,S,v,D,"right",y),k-=P.width,D-=P.width,L--;for(M+=(i-(M-h)-(_-D)-k)/2;b<=L;)P=w[b],this._placeToken(P,a,S,v,M+P.width/2,"center",y),M+=P.width,b++;v+=S}},e.prototype._placeToken=function(a,n,r,i,o,s,l){var u=n.rich[a.styleName]||{};u.text=a.text;var c=a.verticalAlign,d=i+r/2;c==="top"?d=i+a.height/2:c==="bottom"&&(d=i+r-a.height/2);var f=!a.isLineHolder&&Zu(u);f&&this._renderBackground(u,n,s==="right"?o-a.width:s==="center"?o-a.width/2:o,d-a.height/2,a.width,a.height);var p=!!u.backgroundColor,m=a.textPadding;m&&(o=Jh(o,s,m),d-=a.height/2-m[0]-a.innerHeight/2);var g=this._getOrCreateChild(Us),h=g.createStyle();g.useStyle(h);var v=this._defaultStyle,_=!1,y=0,x=Qh("fill"in u?u.fill:"fill"in n?n.fill:(_=!0,v.fill)),E=Zh("stroke"in u?u.stroke:"stroke"in n?n.stroke:!p&&!l&&(!v.autoStroke||_)?(y=Wh,v.stroke):null),w=u.textShadowBlur>0||n.textShadowBlur>0;h.text=a.text,h.x=o,h.y=d,w&&(h.shadowBlur=u.textShadowBlur||n.textShadowBlur||0,h.shadowColor=u.textShadowColor||n.textShadowColor||"transparent",h.shadowOffsetX=u.textShadowOffsetX||n.textShadowOffsetX||0,h.shadowOffsetY=u.textShadowOffsetY||n.textShadowOffsetY||0),h.textAlign=s,h.textBaseline="middle",h.font=a.font||Qn,h.opacity=ps(u.opacity,n.opacity,1),Yh(h,u),E&&(h.lineWidth=ps(u.lineWidth,n.lineWidth,y),h.lineDash=Ae(u.lineDash,n.lineDash),h.lineDashOffset=n.lineDashOffset||0,h.stroke=E),x&&(h.fill=x);var A=a.contentWidth,S=a.contentHeight;g.setBoundingRect(new Le(Ai(h.x,A,h.textAlign),Cr(h.y,S,h.textBaseline),A,S))},e.prototype._renderBackground=function(a,n,r,i,o,s){var l=a.backgroundColor,u=a.borderWidth,c=a.borderColor,d=l&&l.image,f=l&&!d,p=a.borderRadius,m=this,g,h;if(f||a.lineHeight||u&&c){g=this._getOrCreateChild(ka),g.useStyle(g.createStyle()),g.style.fill=null;var v=g.shape;v.x=r,v.y=i,v.width=o,v.height=s,v.r=p,g.dirtyShape()}if(f){var _=g.style;_.fill=l||null,_.fillOpacity=Ae(a.fillOpacity,1)}else if(d){h=this._getOrCreateChild(mn),h.onload=function(){m.dirtyStyle()};var y=h.style;y.image=l.image,y.x=r,y.y=i,y.width=o,y.height=s}if(u&&c){var _=g.style;_.lineWidth=u,_.stroke=c,_.strokeOpacity=Ae(a.strokeOpacity,1),_.lineDash=a.borderDash,_.lineDashOffset=a.borderDashOffset||0,g.strokeContainThreshold=0,g.hasFill()&&g.hasStroke()&&(_.strokeFirst=!0,_.lineWidth*=2)}var x=(g||h).style;x.shadowBlur=a.shadowBlur||0,x.shadowColor=a.shadowColor||"transparent",x.shadowOffsetX=a.shadowOffsetX||0,x.shadowOffsetY=a.shadowOffsetY||0,x.opacity=ps(a.opacity,n.opacity,1)},e.makeFont=function(a){var n="";return RE(a)&&(n=[a.fontStyle,a.fontWeight,IE(a.fontSize),a.fontFamily||"sans-serif"].join(" ")),n&&Jt(n)||a.textFont||a.font},e}(Yr),PE={left:!0,right:1,center:1},qE={top:1,bottom:1,middle:1},Kh=["fontStyle","fontWeight","fontSize","fontFamily"];function IE(t){return typeof t=="string"&&(t.indexOf("px")!==-1||t.indexOf("rem")!==-1||t.indexOf("em")!==-1)?t:isNaN(+t)?rf+"px":t+"px"}function Yh(t,e){for(var a=0;a<Kh.length;a++){var n=Kh[a],r=e[n];r!=null&&(t[n]=r)}}function RE(t){return t.fontSize!=null||t.fontFamily||t.fontWeight}function OE(t){return Xh(t),q(t.rich,Xh),t}function Xh(t){if(t){t.font=yt.makeFont(t);var e=t.align;e==="middle"&&(e="center"),t.align=e==null||PE[e]?e:"left";var a=t.verticalAlign;a==="center"&&(a="middle"),t.verticalAlign=a==null||qE[a]?a:"top";var n=t.padding;n&&(t.padding=A_(t.padding))}}function Zh(t,e){return t==null||e<=0||t==="transparent"||t==="none"?null:t.image||t.colorStops?"#000":t}function Qh(t){return t==null||t==="none"?null:t.image||t.colorStops?"#000":t}function Jh(t,e,a){return e==="right"?t-a[1]:e==="center"?t+a[3]/2-a[1]/2:t+a[3]}function $h(t){var e=t.text;return e!=null&&(e+=""),e}function Zu(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}var la=ia(),BE=function(t,e,a,n){if(n){var r=la(n);r.dataIndex=a,r.dataType=e,r.seriesIndex=t,r.ssrType="chart",n.type==="group"&&n.traverse(function(i){var o=la(i);o.seriesIndex=t,o.dataIndex=a,o.dataType=e,o.ssrType="chart"})}},ev=1,av={},hy=ia(),bf=ia(),wf=0,Cl=1,Al=2,bt=["emphasis","blur","select"],tv=["normal","emphasis","blur","select"],zE=10,NE=9,Xn="highlight",bs="downplay",Oi="select",ws="unselect",Bi="toggleSelect";function fr(t){return t!=null&&t!=="none"}function Tl(t,e,a){t.onHoverStateChange&&(t.hoverState||0)!==a&&t.onHoverStateChange(e),t.hoverState=a}function vy(t){Tl(t,"emphasis",Al)}function my(t){t.hoverState===Al&&Tl(t,"normal",wf)}function xf(t){Tl(t,"blur",Cl)}function gy(t){t.hoverState===Cl&&Tl(t,"normal",wf)}function VE(t){t.selected=!0}function jE(t){t.selected=!1}function nv(t,e,a){e(t,a)}function Ot(t,e,a){nv(t,e,a),t.isGroup&&t.traverse(function(n){nv(n,e,a)})}function rv(t,e){switch(e){case"emphasis":t.hoverState=Al;break;case"normal":t.hoverState=wf;break;case"blur":t.hoverState=Cl;break;case"select":t.selected=!0}}function FE(t,e,a,n){for(var r=t.style,i={},o=0;o<e.length;o++){var s=e[o],l=r[s];i[s]=l==null?n&&n[s]:l}for(var o=0;o<t.animators.length;o++){var u=t.animators[o];u.__fromStateTransition&&u.__fromStateTransition.indexOf(a)<0&&u.targetName==="style"&&u.saveTo(i,e)}return i}function UE(t,e,a,n){var r=a&&Ue(a,"select")>=0,i=!1;if(t instanceof Ee){var o=hy(t),s=r&&o.selectFill||o.normalFill,l=r&&o.selectStroke||o.normalStroke;if(fr(s)||fr(l)){n=n||{};var u=n.style||{};u.fill==="inherit"?(i=!0,n=ae({},n),u=ae({},u),u.fill=s):!fr(u.fill)&&fr(s)?(i=!0,n=ae({},n),u=ae({},u),u.fill=bh(s)):!fr(u.stroke)&&fr(l)&&(i||(n=ae({},n),u=ae({},u)),u.stroke=bh(l)),n.style=u}}if(n&&n.z2==null){i||(n=ae({},n));var c=t.z2EmphasisLift;n.z2=t.z2+(c!=null?c:zE)}return n}function GE(t,e,a){if(a&&a.z2==null){a=ae({},a);var n=t.z2SelectLift;a.z2=t.z2+(n!=null?n:NE)}return a}function HE(t,e,a){var n=Ue(t.currentStates,e)>=0,r=t.style.opacity,i=n?null:FE(t,["opacity"],e,{opacity:1});a=a||{};var o=a.style||{};return o.opacity==null&&(a=ae({},a),o=ae({opacity:n?r:i.opacity*.1},o),a.style=o),a}function Qu(t,e){var a=this.states[t];if(this.style){if(t==="emphasis")return UE(this,t,e,a);if(t==="blur")return HE(this,t,a);if(t==="select")return GE(this,t,a)}return a}function WE(t){t.stateProxy=Qu;var e=t.getTextContent(),a=t.getTextGuideLine();e&&(e.stateProxy=Qu),a&&(a.stateProxy=Qu)}function iv(t,e){!wy(t,e)&&!t.__highByOuter&&Ot(t,vy)}function ov(t,e){!wy(t,e)&&!t.__highByOuter&&Ot(t,my)}function Gs(t,e){t.__highByOuter|=1<<(e||0),Ot(t,vy)}function Hs(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&Ot(t,my)}function KE(t){Ot(t,xf)}function _y(t){Ot(t,gy)}function yy(t){Ot(t,VE)}function by(t){Ot(t,jE)}function wy(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function xy(t){var e=t.getModel(),a=[],n=[];e.eachComponent(function(r,i){var o=bf(i),s=r==="series",l=s?t.getViewOfSeriesModel(i):t.getViewOfComponentModel(i);!s&&n.push(l),o.isBlured&&(l.group.traverse(function(u){gy(u)}),s&&a.push(i)),o.isBlured=!1}),q(n,function(r){r&&r.toggleBlurSeries&&r.toggleBlurSeries(a,!1,e)})}function fd(t,e,a,n){var r=n.getModel();a=a||"coordinateSystem";function i(u,c){for(var d=0;d<c.length;d++){var f=u.getItemGraphicEl(c[d]);f&&_y(f)}}if(t!=null&&!(!e||e==="none")){var o=r.getSeriesByIndex(t),s=o.coordinateSystem;s&&s.master&&(s=s.master);var l=[];r.eachSeries(function(u){var c=o===u,d=u.coordinateSystem;d&&d.master&&(d=d.master);var f=d&&s?d===s:c;if(!(a==="series"&&!c||a==="coordinateSystem"&&!f||e==="series"&&c)){var p=n.getViewOfSeriesModel(u);if(p.group.traverse(function(h){h.__highByOuter&&c&&e==="self"||xf(h)}),Ma(e))i(u.getData(),e);else if(fe(e))for(var m=Xe(e),g=0;g<m.length;g++)i(u.getData(m[g]),e[m[g]]);l.push(u),bf(u).isBlured=!0}}),r.eachComponent(function(u,c){if(u!=="series"){var d=n.getViewOfComponentModel(c);d&&d.toggleBlurSeries&&d.toggleBlurSeries(l,!0,r)}})}}function pd(t,e,a){if(!(t==null||e==null)){var n=a.getModel().getComponent(t,e);if(n){bf(n).isBlured=!0;var r=a.getViewOfComponentModel(n);!r||!r.focusBlurEnabled||r.group.traverse(function(i){xf(i)})}}}function YE(t,e,a){var n=t.seriesIndex,r=t.getData(e.dataType);if(r){var i=$n(r,e);i=(se(i)?i[0]:i)||0;var o=r.getItemGraphicEl(i);if(!o)for(var s=r.count(),l=0;!o&&l<s;)o=r.getItemGraphicEl(l++);if(o){var u=la(o);fd(n,u.focus,u.blurScope,a)}else{var c=t.get(["emphasis","focus"]),d=t.get(["emphasis","blurScope"]);c!=null&&fd(n,c,d,a)}}}function Sf(t,e,a,n){var r={focusSelf:!1,dispatchers:null};if(t==null||t==="series"||e==null||a==null)return r;var i=n.getModel().getComponent(t,e);if(!i)return r;var o=n.getViewOfComponentModel(i);if(!o||!o.findHighDownDispatchers)return r;for(var s=o.findHighDownDispatchers(a),l,u=0;u<s.length;u++)if(la(s[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:s}}function XE(t,e,a){var n=la(t),r=Sf(n.componentMainType,n.componentIndex,n.componentHighDownName,a),i=r.dispatchers,o=r.focusSelf;i?(o&&pd(n.componentMainType,n.componentIndex,a),q(i,function(s){return iv(s,e)})):(fd(n.seriesIndex,n.focus,n.blurScope,a),n.focus==="self"&&pd(n.componentMainType,n.componentIndex,a),iv(t,e))}function ZE(t,e,a){xy(a);var n=la(t),r=Sf(n.componentMainType,n.componentIndex,n.componentHighDownName,a).dispatchers;r?q(r,function(i){return ov(i,e)}):ov(t,e)}function QE(t,e,a){if(md(e)){var n=e.dataType,r=t.getData(n),i=$n(r,e);se(i)||(i=[i]),t[e.type===Bi?"toggleSelect":e.type===Oi?"select":"unselect"](i,n)}}function sv(t){var e=t.getAllData();q(e,function(a){var n=a.data,r=a.type;n.eachItemGraphicEl(function(i,o){t.isSelected(o,r)?yy(i):by(i)})})}function JE(t){var e=[];return t.eachSeries(function(a){var n=a.getAllData();q(n,function(r){r.data;var i=r.type,o=a.getSelectedDataIndices();if(o.length>0){var s={dataIndex:o,seriesIndex:a.seriesIndex};i!=null&&(s.dataType=i),e.push(s)}})}),e}function $E(t,e,a){Sy(t,!0),Ot(t,WE),ak(t,e,a)}function ek(t){Sy(t,!1)}function hd(t,e,a,n){n?ek(t):$E(t,e,a)}function ak(t,e,a){var n=la(t);e!=null?(n.focus=e,n.blurScope=a):n.focus&&(n.focus=null)}var lv=["emphasis","blur","select"],tk={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function uv(t,e,a,n){a=a||"itemStyle";for(var r=0;r<lv.length;r++){var i=lv[r],o=e.getModel([i,a]),s=t.ensureState(i);s.style=o[tk[a]]()}}function Sy(t,e){var a=e===!1,n=t;t.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=t.highDownSilentOnTouch),(!a||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!a)}function vd(t){return!!(t&&t.__highDownDispatcher)}function nk(t){var e=av[t];return e==null&&ev<=32&&(e=av[t]=ev++),e}function md(t){var e=t.type;return e===Oi||e===ws||e===Bi}function cv(t){var e=t.type;return e===Xn||e===bs}function rk(t){var e=hy(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var a=t.states.select||{};e.selectFill=a.style&&a.style.fill||null,e.selectStroke=a.style&&a.style.stroke||null}var pr=cn.CMD,ik=[[],[],[]],dv=Math.sqrt,ok=Math.atan2;function Cy(t,e){if(e){var a=t.data,n=t.len(),r,i,o,s,l,u,c=pr.M,d=pr.C,f=pr.L,p=pr.R,m=pr.A,g=pr.Q;for(o=0,s=0;o<n;){switch(r=a[o++],s=o,i=0,r){case c:i=1;break;case f:i=1;break;case d:i=3;break;case g:i=2;break;case m:var h=e[4],v=e[5],_=dv(e[0]*e[0]+e[1]*e[1]),y=dv(e[2]*e[2]+e[3]*e[3]),x=ok(-e[1]/y,e[0]/_);a[o]*=_,a[o++]+=h,a[o]*=y,a[o++]+=v,a[o++]*=_,a[o++]*=y,a[o++]+=x,a[o++]+=x,o+=2,s=o;break;case p:u[0]=a[o++],u[1]=a[o++],Qa(u,u,e),a[s++]=u[0],a[s++]=u[1],u[0]+=a[o++],u[1]+=a[o++],Qa(u,u,e),a[s++]=u[0],a[s++]=u[1]}for(l=0;l<i;l++){var E=ik[l];E[0]=a[o++],E[1]=a[o++],Qa(E,E,e),a[s++]=E[0],a[s++]=E[1]}}t.increaseVersion()}}var Ju=Math.sqrt,Vo=Math.sin,jo=Math.cos,fi=Math.PI;function fv(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function gd(t,e){return(t[0]*e[0]+t[1]*e[1])/(fv(t)*fv(e))}function pv(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(gd(t,e))}function hv(t,e,a,n,r,i,o,s,l,u,c){var d=l*(fi/180),f=jo(d)*(t-a)/2+Vo(d)*(e-n)/2,p=-1*Vo(d)*(t-a)/2+jo(d)*(e-n)/2,m=f*f/(o*o)+p*p/(s*s);m>1&&(o*=Ju(m),s*=Ju(m));var g=(r===i?-1:1)*Ju((o*o*(s*s)-o*o*(p*p)-s*s*(f*f))/(o*o*(p*p)+s*s*(f*f)))||0,h=g*o*p/s,v=g*-s*f/o,_=(t+a)/2+jo(d)*h-Vo(d)*v,y=(e+n)/2+Vo(d)*h+jo(d)*v,x=pv([1,0],[(f-h)/o,(p-v)/s]),E=[(f-h)/o,(p-v)/s],w=[(-1*f-h)/o,(-1*p-v)/s],A=pv(E,w);if(gd(E,w)<=-1&&(A=fi),gd(E,w)>=1&&(A=0),A<0){var S=Math.round(A/fi*1e6)/1e6;A=fi*2+S%2*fi}c.addData(u,_,y,o,s,x,A,d,i)}var sk=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,lk=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function uk(t){var e=new cn;if(!t)return e;var a=0,n=0,r=a,i=n,o,s=cn.CMD,l=t.match(sk);if(!l)return e;for(var u=0;u<l.length;u++){for(var c=l[u],d=c.charAt(0),f=void 0,p=c.match(lk)||[],m=p.length,g=0;g<m;g++)p[g]=parseFloat(p[g]);for(var h=0;h<m;){var v=void 0,_=void 0,y=void 0,x=void 0,E=void 0,w=void 0,A=void 0,S=a,k=n,b=void 0,M=void 0;switch(d){case"l":a+=p[h++],n+=p[h++],f=s.L,e.addData(f,a,n);break;case"L":a=p[h++],n=p[h++],f=s.L,e.addData(f,a,n);break;case"m":a+=p[h++],n+=p[h++],f=s.M,e.addData(f,a,n),r=a,i=n,d="l";break;case"M":a=p[h++],n=p[h++],f=s.M,e.addData(f,a,n),r=a,i=n,d="L";break;case"h":a+=p[h++],f=s.L,e.addData(f,a,n);break;case"H":a=p[h++],f=s.L,e.addData(f,a,n);break;case"v":n+=p[h++],f=s.L,e.addData(f,a,n);break;case"V":n=p[h++],f=s.L,e.addData(f,a,n);break;case"C":f=s.C,e.addData(f,p[h++],p[h++],p[h++],p[h++],p[h++],p[h++]),a=p[h-2],n=p[h-1];break;case"c":f=s.C,e.addData(f,p[h++]+a,p[h++]+n,p[h++]+a,p[h++]+n,p[h++]+a,p[h++]+n),a+=p[h-2],n+=p[h-1];break;case"S":v=a,_=n,b=e.len(),M=e.data,o===s.C&&(v+=a-M[b-4],_+=n-M[b-3]),f=s.C,S=p[h++],k=p[h++],a=p[h++],n=p[h++],e.addData(f,v,_,S,k,a,n);break;case"s":v=a,_=n,b=e.len(),M=e.data,o===s.C&&(v+=a-M[b-4],_+=n-M[b-3]),f=s.C,S=a+p[h++],k=n+p[h++],a+=p[h++],n+=p[h++],e.addData(f,v,_,S,k,a,n);break;case"Q":S=p[h++],k=p[h++],a=p[h++],n=p[h++],f=s.Q,e.addData(f,S,k,a,n);break;case"q":S=p[h++]+a,k=p[h++]+n,a+=p[h++],n+=p[h++],f=s.Q,e.addData(f,S,k,a,n);break;case"T":v=a,_=n,b=e.len(),M=e.data,o===s.Q&&(v+=a-M[b-4],_+=n-M[b-3]),a=p[h++],n=p[h++],f=s.Q,e.addData(f,v,_,a,n);break;case"t":v=a,_=n,b=e.len(),M=e.data,o===s.Q&&(v+=a-M[b-4],_+=n-M[b-3]),a+=p[h++],n+=p[h++],f=s.Q,e.addData(f,v,_,a,n);break;case"A":y=p[h++],x=p[h++],E=p[h++],w=p[h++],A=p[h++],S=a,k=n,a=p[h++],n=p[h++],f=s.A,hv(S,k,a,n,w,A,y,x,E,f,e);break;case"a":y=p[h++],x=p[h++],E=p[h++],w=p[h++],A=p[h++],S=a,k=n,a+=p[h++],n+=p[h++],f=s.A,hv(S,k,a,n,w,A,y,x,E,f,e);break}}(d==="z"||d==="Z")&&(f=s.Z,e.addData(f),a=r,n=i),o=f}return e.toStatic(),e}var Ay=function(t){Re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.applyTransform=function(a){},e}(Ee);function Ty(t){return t.setData!=null}function Ey(t,e){var a=uk(t),n=ae({},e);return n.buildPath=function(r){if(Ty(r)){r.setData(a.data);var i=r.getContext();i&&r.rebuildPath(i,1)}else{var i=r;a.rebuildPath(i,1)}},n.applyTransform=function(r){Cy(a,r),this.dirtyShape()},n}function ck(t,e){return new Ay(Ey(t,e))}function dk(t,e){var a=Ey(t,e),n=function(r){Re(i,r);function i(o){var s=r.call(this,o)||this;return s.applyTransform=a.applyTransform,s.buildPath=a.buildPath,s}return i}(Ay);return n}function fk(t,e){for(var a=[],n=t.length,r=0;r<n;r++){var i=t[r];a.push(i.getUpdatedPathProxy(!0))}var o=new Ee(e);return o.createPathProxy(),o.buildPath=function(s){if(Ty(s)){s.appendPath(a);var l=s.getContext();l&&s.rebuildPath(l,1)}},o}function Cf(t,e){e=e||{};var a=new Ee;return t.shape&&a.setShape(t.shape),a.setStyle(t.style),e.bakeTransform?Cy(a.path,t.getComputedTransform()):e.toLocal?a.setLocalTransform(t.getComputedTransform()):a.copyTransform(t),a.buildPath=t.buildPath,a.applyTransform=a.applyTransform,a.z=t.z,a.z2=t.z2,a.zlevel=t.zlevel,a}var pk=function(){function t(){this.cx=0,this.cy=0,this.r=0}return t}(),El=function(t){Re(e,t);function e(a){return t.call(this,a)||this}return e.prototype.getDefaultShape=function(){return new pk},e.prototype.buildPath=function(a,n){a.moveTo(n.cx+n.r,n.cy),a.arc(n.cx,n.cy,n.r,0,Math.PI*2)},e}(Ee);El.prototype.type="circle";var hk=function(){function t(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return t}(),Af=function(t){Re(e,t);function e(a){return t.call(this,a)||this}return e.prototype.getDefaultShape=function(){return new hk},e.prototype.buildPath=function(a,n){var r=.5522848,i=n.cx,o=n.cy,s=n.rx,l=n.ry,u=s*r,c=l*r;a.moveTo(i-s,o),a.bezierCurveTo(i-s,o-c,i-u,o-l,i,o-l),a.bezierCurveTo(i+u,o-l,i+s,o-c,i+s,o),a.bezierCurveTo(i+s,o+c,i+u,o+l,i,o+l),a.bezierCurveTo(i-u,o+l,i-s,o+c,i-s,o),a.closePath()},e}(Ee);Af.prototype.type="ellipse";var ky=Math.PI,$u=ky*2,Pn=Math.sin,hr=Math.cos,vk=Math.acos,fa=Math.atan2,vv=Math.abs,zi=Math.sqrt,Ti=Math.max,dt=Math.min,tt=1e-4;function mk(t,e,a,n,r,i,o,s){var l=a-t,u=n-e,c=o-r,d=s-i,f=d*l-c*u;if(!(f*f<tt))return f=(c*(e-i)-d*(t-r))/f,[t+f*l,e+f*u]}function Fo(t,e,a,n,r,i,o){var s=t-a,l=e-n,u=(o?i:-i)/zi(s*s+l*l),c=u*l,d=-u*s,f=t+c,p=e+d,m=a+c,g=n+d,h=(f+m)/2,v=(p+g)/2,_=m-f,y=g-p,x=_*_+y*y,E=r-i,w=f*g-m*p,A=(y<0?-1:1)*zi(Ti(0,E*E*x-w*w)),S=(w*y-_*A)/x,k=(-w*_-y*A)/x,b=(w*y+_*A)/x,M=(-w*_+y*A)/x,D=S-h,L=k-v,P=b-h,I=M-v;return D*D+L*L>P*P+I*I&&(S=b,k=M),{cx:S,cy:k,x0:-c,y0:-d,x1:S*(r/E-1),y1:k*(r/E-1)}}function gk(t){var e;if(se(t)){var a=t.length;if(!a)return t;a===1?e=[t[0],t[0],0,0]:a===2?e=[t[0],t[0],t[1],t[1]]:a===3?e=t.concat(t[2]):e=t}else e=[t,t,t,t];return e}function _k(t,e){var a,n=Ti(e.r,0),r=Ti(e.r0||0,0),i=n>0,o=r>0;if(!(!i&&!o)){if(i||(n=r,r=0),r>n){var s=n;n=r,r=s}var l=e.startAngle,u=e.endAngle;if(!(isNaN(l)||isNaN(u))){var c=e.cx,d=e.cy,f=!!e.clockwise,p=vv(u-l),m=p>$u&&p%$u;if(m>tt&&(p=m),!(n>tt))t.moveTo(c,d);else if(p>$u-tt)t.moveTo(c+n*hr(l),d+n*Pn(l)),t.arc(c,d,n,l,u,!f),r>tt&&(t.moveTo(c+r*hr(u),d+r*Pn(u)),t.arc(c,d,r,u,l,f));else{var g=void 0,h=void 0,v=void 0,_=void 0,y=void 0,x=void 0,E=void 0,w=void 0,A=void 0,S=void 0,k=void 0,b=void 0,M=void 0,D=void 0,L=void 0,P=void 0,I=n*hr(l),R=n*Pn(l),U=r*hr(u),N=r*Pn(u),W=p>tt;if(W){var Q=e.cornerRadius;Q&&(a=gk(Q),g=a[0],h=a[1],v=a[2],_=a[3]);var re=vv(n-r)/2;if(y=dt(re,v),x=dt(re,_),E=dt(re,g),w=dt(re,h),k=A=Ti(y,x),b=S=Ti(E,w),(A>tt||S>tt)&&(M=n*hr(u),D=n*Pn(u),L=r*hr(l),P=r*Pn(l),p<ky)){var ue=mk(I,R,L,P,M,D,U,N);if(ue){var J=I-ue[0],ie=R-ue[1],F=M-ue[0],G=D-ue[1],ee=1/Pn(vk((J*F+ie*G)/(zi(J*J+ie*ie)*zi(F*F+G*G)))/2),$=zi(ue[0]*ue[0]+ue[1]*ue[1]);k=dt(A,(n-$)/(ee+1)),b=dt(S,(r-$)/(ee-1))}}}if(!W)t.moveTo(c+I,d+R);else if(k>tt){var Z=dt(v,k),pe=dt(_,k),te=Fo(L,P,I,R,n,Z,f),oe=Fo(M,D,U,N,n,pe,f);t.moveTo(c+te.cx+te.x0,d+te.cy+te.y0),k<A&&Z===pe?t.arc(c+te.cx,d+te.cy,k,fa(te.y0,te.x0),fa(oe.y0,oe.x0),!f):(Z>0&&t.arc(c+te.cx,d+te.cy,Z,fa(te.y0,te.x0),fa(te.y1,te.x1),!f),t.arc(c,d,n,fa(te.cy+te.y1,te.cx+te.x1),fa(oe.cy+oe.y1,oe.cx+oe.x1),!f),pe>0&&t.arc(c+oe.cx,d+oe.cy,pe,fa(oe.y1,oe.x1),fa(oe.y0,oe.x0),!f))}else t.moveTo(c+I,d+R),t.arc(c,d,n,l,u,!f);if(!(r>tt)||!W)t.lineTo(c+U,d+N);else if(b>tt){var Z=dt(g,b),pe=dt(h,b),te=Fo(U,N,M,D,r,-pe,f),oe=Fo(I,R,L,P,r,-Z,f);t.lineTo(c+te.cx+te.x0,d+te.cy+te.y0),b<S&&Z===pe?t.arc(c+te.cx,d+te.cy,b,fa(te.y0,te.x0),fa(oe.y0,oe.x0),!f):(pe>0&&t.arc(c+te.cx,d+te.cy,pe,fa(te.y0,te.x0),fa(te.y1,te.x1),!f),t.arc(c,d,r,fa(te.cy+te.y1,te.cx+te.x1),fa(oe.cy+oe.y1,oe.cx+oe.x1),f),Z>0&&t.arc(c+oe.cx,d+oe.cy,Z,fa(oe.y1,oe.x1),fa(oe.y0,oe.x0),!f))}else t.lineTo(c+U,d+N),t.arc(c,d,r,u,l,f)}t.closePath()}}}var yk=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return t}(),Fr=function(t){Re(e,t);function e(a){return t.call(this,a)||this}return e.prototype.getDefaultShape=function(){return new yk},e.prototype.buildPath=function(a,n){_k(a,n)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(Ee);Fr.prototype.type="sector";var bk=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return t}(),Tf=function(t){Re(e,t);function e(a){return t.call(this,a)||this}return e.prototype.getDefaultShape=function(){return new bk},e.prototype.buildPath=function(a,n){var r=n.cx,i=n.cy,o=Math.PI*2;a.moveTo(r+n.r,i),a.arc(r,i,n.r,0,o,!1),a.moveTo(r+n.r0,i),a.arc(r,i,n.r0,0,o,!0)},e}(Ee);Tf.prototype.type="ring";function wk(t,e,a,n){var r=[],i=[],o=[],s=[],l,u,c,d;if(n){c=[1/0,1/0],d=[-1/0,-1/0];for(var f=0,p=t.length;f<p;f++)Er(c,c,t[f]),kr(d,d,t[f]);Er(c,c,n[0]),kr(d,d,n[1])}for(var f=0,p=t.length;f<p;f++){var m=t[f];if(a)l=t[f?f-1:p-1],u=t[(f+1)%p];else if(f===0||f===p-1){r.push(tA(t[f]));continue}else l=t[f-1],u=t[f+1];nA(i,u,l),_u(i,i,e);var g=Xc(m,l),h=Xc(m,u),v=g+h;v!==0&&(g/=v,h/=v),_u(o,i,-g),_u(s,i,h);var _=rh([],m,o),y=rh([],m,s);n&&(kr(_,_,c),Er(_,_,d),kr(y,y,c),Er(y,y,d)),r.push(_),r.push(y)}return a&&r.push(r.shift()),r}function My(t,e,a){var n=e.smooth,r=e.points;if(r&&r.length>=2){if(n){var i=wk(r,n,a,e.smoothConstraint);t.moveTo(r[0][0],r[0][1]);for(var o=r.length,s=0;s<(a?o:o-1);s++){var l=i[s*2],u=i[s*2+1],c=r[(s+1)%o];t.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{t.moveTo(r[0][0],r[0][1]);for(var s=1,d=r.length;s<d;s++)t.lineTo(r[s][0],r[s][1])}a&&t.closePath()}}var xk=function(){function t(){this.points=null,this.smooth=0,this.smoothConstraint=null}return t}(),kl=function(t){Re(e,t);function e(a){return t.call(this,a)||this}return e.prototype.getDefaultShape=function(){return new xk},e.prototype.buildPath=function(a,n){My(a,n,!0)},e}(Ee);kl.prototype.type="polygon";var Sk=function(){function t(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return t}(),Ef=function(t){Re(e,t);function e(a){return t.call(this,a)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Sk},e.prototype.buildPath=function(a,n){My(a,n,!1)},e}(Ee);Ef.prototype.type="polyline";var Ck={},Ak=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}(),dn=function(t){Re(e,t);function e(a){return t.call(this,a)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Ak},e.prototype.buildPath=function(a,n){var r,i,o,s;if(this.subPixelOptimize){var l=fy(Ck,n,this.style);r=l.x1,i=l.y1,o=l.x2,s=l.y2}else r=n.x1,i=n.y1,o=n.x2,s=n.y2;var u=n.percent;u!==0&&(a.moveTo(r,i),u<1&&(o=r*(1-u)+o*u,s=i*(1-u)+s*u),a.lineTo(o,s))},e.prototype.pointAt=function(a){var n=this.shape;return[n.x1*(1-a)+n.x2*a,n.y1*(1-a)+n.y2*a]},e}(Ee);dn.prototype.type="line";var xa=[],Tk=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return t}();function mv(t,e,a){var n=t.cpx2,r=t.cpy2;return n!=null||r!=null?[(a?hh:ua)(t.x1,t.cpx1,t.cpx2,t.x2,e),(a?hh:ua)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(a?vh:Ca)(t.x1,t.cpx1,t.x2,e),(a?vh:Ca)(t.y1,t.cpy1,t.y2,e)]}var kf=function(t){Re(e,t);function e(a){return t.call(this,a)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Tk},e.prototype.buildPath=function(a,n){var r=n.x1,i=n.y1,o=n.x2,s=n.y2,l=n.cpx1,u=n.cpy1,c=n.cpx2,d=n.cpy2,f=n.percent;f!==0&&(a.moveTo(r,i),c==null||d==null?(f<1&&(Ns(r,l,o,f,xa),l=xa[1],o=xa[2],Ns(i,u,s,f,xa),u=xa[1],s=xa[2]),a.quadraticCurveTo(l,u,o,s)):(f<1&&(ln(r,l,c,o,f,xa),l=xa[1],c=xa[2],o=xa[3],ln(i,u,d,s,f,xa),u=xa[1],d=xa[2],s=xa[3]),a.bezierCurveTo(l,u,c,d,o,s)))},e.prototype.pointAt=function(a){return mv(this.shape,a,!1)},e.prototype.tangentAt=function(a){var n=mv(this.shape,a,!0);return oA(n,n)},e}(Ee);kf.prototype.type="bezier-curve";var Ek=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t}(),Ml=function(t){Re(e,t);function e(a){return t.call(this,a)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Ek},e.prototype.buildPath=function(a,n){var r=n.cx,i=n.cy,o=Math.max(n.r,0),s=n.startAngle,l=n.endAngle,u=n.clockwise,c=Math.cos(s),d=Math.sin(s);a.moveTo(c*o+r,d*o+i),a.arc(r,i,o,s,l,!u)},e}(Ee);Ml.prototype.type="arc";var kk=function(t){Re(e,t);function e(){var a=t!==null&&t.apply(this,arguments)||this;return a.type="compound",a}return e.prototype._updatePathDirty=function(){for(var a=this.shape.paths,n=this.shapeChanged(),r=0;r<a.length;r++)n=n||a[r].shapeChanged();n&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var a=this.shape.paths||[],n=this.getGlobalScale(),r=0;r<a.length;r++)a[r].path||a[r].createPathProxy(),a[r].path.setScale(n[0],n[1],a[r].segmentIgnoreThreshold)},e.prototype.buildPath=function(a,n){for(var r=n.paths||[],i=0;i<r.length;i++)r[i].buildPath(a,r[i].shape,!0)},e.prototype.afterBrush=function(){for(var a=this.shape.paths||[],n=0;n<a.length;n++)a[n].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Ee.prototype.getBoundingRect.call(this)},e}(Ee),Dy=function(){function t(e){this.colorStops=e||[]}return t.prototype.addColorStop=function(e,a){this.colorStops.push({offset:e,color:a})},t}(),Ly=function(t){Re(e,t);function e(a,n,r,i,o,s){var l=t.call(this,o)||this;return l.x=a==null?0:a,l.y=n==null?0:n,l.x2=r==null?1:r,l.y2=i==null?0:i,l.type="linear",l.global=s||!1,l}return e}(Dy),Mk=function(t){Re(e,t);function e(a,n,r,i,o){var s=t.call(this,i)||this;return s.x=a==null?.5:a,s.y=n==null?.5:n,s.r=r==null?.5:r,s.type="radial",s.global=o||!1,s}return e}(Dy),qn=[0,0],In=[0,0],Uo=new Ce,Go=new Ce,Ws=function(){function t(e,a){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new Ce;for(var n=0;n<2;n++)this._axes[n]=new Ce;e&&this.fromBoundingRect(e,a)}return t.prototype.fromBoundingRect=function(e,a){var n=this._corners,r=this._axes,i=e.x,o=e.y,s=i+e.width,l=o+e.height;if(n[0].set(i,o),n[1].set(s,o),n[2].set(s,l),n[3].set(i,l),a)for(var u=0;u<4;u++)n[u].transform(a);Ce.sub(r[0],n[1],n[0]),Ce.sub(r[1],n[3],n[0]),r[0].normalize(),r[1].normalize();for(var u=0;u<2;u++)this._origin[u]=r[u].dot(n[0])},t.prototype.intersect=function(e,a){var n=!0,r=!a;return Uo.set(1/0,1/0),Go.set(0,0),!this._intersectCheckOneSide(this,e,Uo,Go,r,1)&&(n=!1,r)||!this._intersectCheckOneSide(e,this,Uo,Go,r,-1)&&(n=!1,r)||r||Ce.copy(a,n?Uo:Go),n},t.prototype._intersectCheckOneSide=function(e,a,n,r,i,o){for(var s=!0,l=0;l<2;l++){var u=this._axes[l];if(this._getProjMinMaxOnAxis(l,e._corners,qn),this._getProjMinMaxOnAxis(l,a._corners,In),qn[1]<In[0]||qn[0]>In[1]){if(s=!1,i)return s;var c=Math.abs(In[0]-qn[1]),d=Math.abs(qn[0]-In[1]);Math.min(c,d)>r.len()&&(c<d?Ce.scale(r,u,-c*o):Ce.scale(r,u,d*o))}else if(n){var c=Math.abs(In[0]-qn[1]),d=Math.abs(qn[0]-In[1]);Math.min(c,d)<n.len()&&(c<d?Ce.scale(n,u,c*o):Ce.scale(n,u,-d*o))}}return s},t.prototype._getProjMinMaxOnAxis=function(e,a,n){for(var r=this._axes[e],i=this._origin,o=a[0].dot(r)+i[e],s=o,l=o,u=1;u<a.length;u++){var c=a[u].dot(r)+i[e];s=Math.min(c,s),l=Math.max(c,l)}n[0]=s,n[1]=l},t}(),Dk=[],Lk=function(t){Re(e,t);function e(){var a=t!==null&&t.apply(this,arguments)||this;return a.notClear=!0,a.incremental=!0,a._displayables=[],a._temporaryDisplayables=[],a._cursor=0,a}return e.prototype.traverse=function(a,n){a.call(n,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(a,n){n?this._temporaryDisplayables.push(a):this._displayables.push(a),this.markRedraw()},e.prototype.addDisplayables=function(a,n){n=n||!1;for(var r=0;r<a.length;r++)this.addDisplayable(a[r],n)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(a){for(var n=this._cursor;n<this._displayables.length;n++)a&&a(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)a&&a(this._temporaryDisplayables[n])},e.prototype.update=function(){this.updateTransform();for(var a=this._cursor;a<this._displayables.length;a++){var n=this._displayables[a];n.parent=this,n.update(),n.parent=null}for(var a=0;a<this._temporaryDisplayables.length;a++){var n=this._temporaryDisplayables[a];n.parent=this,n.update(),n.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var a=new Le(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var r=this._displayables[n],i=r.getBoundingRect().clone();r.needLocalTransform()&&i.applyTransform(r.getLocalTransform(Dk)),a.union(i)}this._rect=a}return this._rect},e.prototype.contain=function(a,n){var r=this.transformCoordToLocal(a,n),i=this.getBoundingRect();if(i.contain(r[0],r[1]))for(var o=0;o<this._displayables.length;o++){var s=this._displayables[o];if(s.contain(a,n))return!0}return!1},e}(Yr),Py=ia();function Dl(t,e,a,n,r){var i;if(e&&e.ecModel){var o=e.ecModel.getUpdatePayload();i=o&&o.animation}var s=e&&e.isAnimationEnabled(),l=t==="update";if(s){var u=void 0,c=void 0,d=void 0;n?(u=Ae(n.duration,200),c=Ae(n.easing,"cubicOut"),d=0):(u=e.getShallow(l?"animationDurationUpdate":"animationDuration"),c=e.getShallow(l?"animationEasingUpdate":"animationEasing"),d=e.getShallow(l?"animationDelayUpdate":"animationDelay")),i&&(i.duration!=null&&(u=i.duration),i.easing!=null&&(c=i.easing),i.delay!=null&&(d=i.delay)),we(d)&&(d=d(a,r)),we(u)&&(u=u(a));var f={duration:u||0,delay:d,easing:c};return f}else return null}function Mf(t,e,a,n,r,i,o){var s=!1,l;we(r)?(o=i,i=r,r=null):fe(r)&&(i=r.cb,o=r.during,s=r.isFrom,l=r.removeOpt,r=r.dataIndex);var u=t==="leave";u||e.stopAnimation("leave");var c=Dl(t,n,r,u?l||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(e,r):null);if(c&&c.duration>0){var d=c.duration,f=c.delay,p=c.easing,m={duration:d,delay:f||0,easing:p,done:i,force:!!i||!!o,setToFinal:!u,scope:t,during:o};s?e.animateFrom(a,m):e.animateTo(a,m)}else e.stopAnimation(),!s&&e.attr(a),o&&o(1),i&&i()}function er(t,e,a,n,r,i){Mf("update",t,e,a,n,r,i)}function Xr(t,e,a,n,r,i){Mf("enter",t,e,a,n,r,i)}function Ni(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){var a=t.animators[e];if(a.scope==="leave")return!0}return!1}function Ks(t,e,a,n,r,i){Ni(t)||Mf("leave",t,e,a,n,r,i)}function gv(t,e,a,n){t.removeTextContent(),t.removeTextGuideLine(),Ks(t,{style:{opacity:0}},e,a,n)}function Pk(t,e,a){function n(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse(function(r){r.isGroup||gv(r,e,a,n)}):gv(t,e,a,n)}function qk(t){Py(t).oldStyle=t.style}function Ik(t){return Py(t).oldStyle}var Ys=Math.max,Xs=Math.min,_d={};function Rk(t){return Ee.extend(t)}var Ok=dk;function Bk(t,e){return Ok(t,e)}function st(t,e){_d[t]=e}function zk(t){if(_d.hasOwnProperty(t))return _d[t]}function Df(t,e,a,n){var r=ck(t,e);return a&&(n==="center"&&(a=Iy(a,r.getBoundingRect())),Ry(r,a)),r}function qy(t,e,a){var n=new mn({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(r){if(a==="center"){var i={width:r.width,height:r.height};n.setStyle(Iy(e,i))}}});return n}function Iy(t,e){var a=e.width/e.height,n=t.height*a,r;n<=t.width?r=t.height:(n=t.width,r=n/a);var i=t.x+t.width/2,o=t.y+t.height/2;return{x:i-n/2,y:o-r/2,width:n,height:r}}var Nk=fk;function Ry(t,e){if(t.applyTransform){var a=t.getBoundingRect(),n=a.calculateTransform(e);t.applyTransform(n)}}function Ji(t,e){return fy(t,t,{lineWidth:e}),t}function Vk(t){return py(t.shape,t.shape,t.style),t}var jk=Hn;function Fk(t,e){for(var a=df([]);t&&t!==e;)Br(a,t.getLocalTransform(),a),t=t.parent;return a}function Lf(t,e,a){return e&&!Ma(e)&&(e=_l.getLocalTransform(e)),a&&(e=pf([],e)),Qa([],t,e)}function Uk(t,e,a){var n=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]),r=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]),i=[t==="left"?-n:t==="right"?n:0,t==="top"?-r:t==="bottom"?r:0];return i=Lf(i,e,a),Math.abs(i[0])>Math.abs(i[1])?i[0]>0?"right":"left":i[1]>0?"bottom":"top"}function _v(t){return!t.isGroup}function Gk(t){return t.shape!=null}function Oy(t,e,a){if(!t||!e)return;function n(o){var s={};return o.traverse(function(l){_v(l)&&l.anid&&(s[l.anid]=l)}),s}function r(o){var s={x:o.x,y:o.y,rotation:o.rotation};return Gk(o)&&(s.shape=ae({},o.shape)),s}var i=n(t);e.traverse(function(o){if(_v(o)&&o.anid){var s=i[o.anid];if(s){var l=r(o);o.attr(r(s)),er(o,l,a,la(o).dataIndex)}}})}function Hk(t,e){return de(t,function(a){var n=a[0];n=Ys(n,e.x),n=Xs(n,e.x+e.width);var r=a[1];return r=Ys(r,e.y),r=Xs(r,e.y+e.height),[n,r]})}function Wk(t,e){var a=Ys(t.x,e.x),n=Xs(t.x+t.width,e.x+e.width),r=Ys(t.y,e.y),i=Xs(t.y+t.height,e.y+e.height);if(n>=a&&i>=r)return{x:a,y:r,width:n-a,height:i-r}}function By(t,e,a){var n=ae({rectHover:!0},e),r=n.style={strokeNoScale:!0};if(a=a||{x:-1,y:-1,width:2,height:2},t)return t.indexOf("image://")===0?(r.image=t.slice(8),Se(r,a),new mn(n)):Df(t.replace("path://",""),n,a,"center")}function Kk(t,e,a,n,r){for(var i=0,o=r[r.length-1];i<r.length;i++){var s=r[i];if(zy(t,e,a,n,s[0],s[1],o[0],o[1]))return!0;o=s}}function zy(t,e,a,n,r,i,o,s){var l=a-t,u=n-e,c=o-r,d=s-i,f=ec(c,d,l,u);if(Yk(f))return!1;var p=t-r,m=e-i,g=ec(p,m,l,u)/f;if(g<0||g>1)return!1;var h=ec(p,m,c,d)/f;return!(h<0||h>1)}function ec(t,e,a,n){return t*n-a*e}function Yk(t){return t<=1e-6&&t>=-1e-6}function Ny(t){var e=t.itemTooltipOption,a=t.componentModel,n=t.itemName,r=be(e)?{formatter:e}:e,i=a.mainType,o=a.componentIndex,s={componentType:i,name:n,$vars:["name"]};s[i+"Index"]=o;var l=t.formatterParamsExtra;l&&q(Xe(l),function(c){Yi(s,c)||(s[c]=l[c],s.$vars.push(c))});var u=la(t.el);u.componentMainType=i,u.componentIndex=o,u.tooltipConfig={name:n,option:Se({content:n,encodeHTMLContent:!0,formatterParams:s},r)}}function yv(t,e){var a;t.isGroup&&(a=e(t)),a||t.traverse(e)}function Pf(t,e){if(t)if(se(t))for(var a=0;a<t.length;a++)yv(t[a],e);else yv(t,e)}st("circle",El);st("ellipse",Af);st("sector",Fr);st("ring",Tf);st("polygon",kl);st("polyline",Ef);st("rect",ka);st("line",dn);st("bezierCurve",kf);st("arc",Ml);const Xk=Object.freeze(Object.defineProperty({__proto__:null,Arc:Ml,BezierCurve:kf,BoundingRect:Le,Circle:El,CompoundPath:kk,Ellipse:Af,Group:La,Image:mn,IncrementalDisplayable:Lk,Line:dn,LinearGradient:Ly,OrientedBoundingRect:Ws,Path:Ee,Point:Ce,Polygon:kl,Polyline:Ef,RadialGradient:Mk,Rect:ka,Ring:Tf,Sector:Fr,Text:yt,applyTransform:Lf,clipPointsByRect:Hk,clipRectByRect:Wk,createIcon:By,extendPath:Bk,extendShape:Rk,getShapeClass:zk,getTransform:Fk,groupTransition:Oy,initProps:Xr,isElementRemoved:Ni,lineLineIntersect:zy,linePolygonIntersect:Kk,makeImage:qy,makePath:Df,mergePath:Nk,registerShape:st,removeElement:Ks,removeElementWithFadeOut:Pk,resizePath:Ry,setTooltipConfig:Ny,subPixelOptimize:jk,subPixelOptimizeLine:Ji,subPixelOptimizeRect:Vk,transformDirection:Uk,traverseElements:Pf,updateProps:er},Symbol.toStringTag,{value:"Module"}));var Ll={};function Zk(t,e){for(var a=0;a<bt.length;a++){var n=bt[a],r=e[n],i=t.ensureState(n);i.style=i.style||{},i.style.text=r}var o=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(o,!0)}function bv(t,e,a){var n=t.labelFetcher,r=t.labelDataIndex,i=t.labelDimIndex,o=e.normal,s;n&&(s=n.getFormattedLabel(r,"normal",null,i,o&&o.get("formatter"),a!=null?{interpolatedValue:a}:null)),s==null&&(s=we(t.defaultText)?t.defaultText(r,t,a):t.defaultText);for(var l={normal:s},u=0;u<bt.length;u++){var c=bt[u],d=e[c];l[c]=Ae(n?n.getFormattedLabel(r,c,null,i,d&&d.get("formatter")):null,s)}return l}function Vy(t,e,a,n){a=a||Ll;for(var r=t instanceof yt,i=!1,o=0;o<tv.length;o++){var s=e[tv[o]];if(s&&s.getShallow("show")){i=!0;break}}var l=r?t:t.getTextContent();if(i){r||(l||(l=new yt,t.setTextContent(l)),t.stateProxy&&(l.stateProxy=t.stateProxy));var u=bv(a,e),c=e.normal,d=!!c.getShallow("show"),f=$i(c,n&&n.normal,a,!1,!r);f.text=u.normal,r||t.setTextConfig(wv(c,a,!1));for(var o=0;o<bt.length;o++){var p=bt[o],s=e[p];if(s){var m=l.ensureState(p),g=!!Ae(s.getShallow("show"),d);if(g!==d&&(m.ignore=!g),m.style=$i(s,n&&n[p],a,!0,!r),m.style.text=u[p],!r){var h=t.ensureState(p);h.textConfig=wv(s,a,!0)}}}l.silent=!!c.getShallow("silent"),l.style.x!=null&&(f.x=l.style.x),l.style.y!=null&&(f.y=l.style.y),l.ignore=!d,l.useStyle(f),l.dirty(),a.enableTextSetter&&(jy(l).setLabelText=function(v){var _=bv(a,e,v);Zk(l,_)})}else l&&(l.ignore=!0);t.dirty()}function qf(t,e){e=e||"label";for(var a={normal:t.getModel(e)},n=0;n<bt.length;n++){var r=bt[n];a[r]=t.getModel([r,e])}return a}function $i(t,e,a,n,r){var i={};return Qk(i,t,a,n,r),e&&ae(i,e),i}function wv(t,e,a){e=e||{};var n={},r,i=t.getShallow("rotate"),o=Ae(t.getShallow("distance"),a?null:5),s=t.getShallow("offset");return r=t.getShallow("position")||(a?null:"inside"),r==="outside"&&(r=e.defaultOutsidePosition||"top"),r!=null&&(n.position=r),s!=null&&(n.offset=s),i!=null&&(i*=Math.PI/180,n.rotation=i),o!=null&&(n.distance=o),n.outsideFill=t.get("color")==="inherit"?e.inheritColor||null:"auto",n}function Qk(t,e,a,n,r){a=a||Ll;var i=e.ecModel,o=i&&i.option.textStyle,s=Jk(e),l;if(s){l={};for(var u in s)if(s.hasOwnProperty(u)){var c=e.getModel(["rich",u]);Av(l[u]={},c,o,a,n,r,!1,!0)}}l&&(t.rich=l);var d=e.get("overflow");d&&(t.overflow=d);var f=e.get("minMargin");f!=null&&(t.margin=f),Av(t,e,o,a,n,r,!0,!1)}function Jk(t){for(var e;t&&t!==t.ecModel;){var a=(t.option||Ll).rich;if(a){e=e||{};for(var n=Xe(a),r=0;r<n.length;r++){var i=n[r];e[i]=1}}t=t.parentModel}return e}var xv=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Sv=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],Cv=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function Av(t,e,a,n,r,i,o,s){a=!r&&a||Ll;var l=n&&n.inheritColor,u=e.getShallow("color"),c=e.getShallow("textBorderColor"),d=Ae(e.getShallow("opacity"),a.opacity);(u==="inherit"||u==="auto")&&(l?u=l:u=null),(c==="inherit"||c==="auto")&&(l?c=l:c=null),i||(u=u||a.color,c=c||a.textBorderColor),u!=null&&(t.fill=u),c!=null&&(t.stroke=c);var f=Ae(e.getShallow("textBorderWidth"),a.textBorderWidth);f!=null&&(t.lineWidth=f);var p=Ae(e.getShallow("textBorderType"),a.textBorderType);p!=null&&(t.lineDash=p);var m=Ae(e.getShallow("textBorderDashOffset"),a.textBorderDashOffset);m!=null&&(t.lineDashOffset=m),!r&&d==null&&!s&&(d=n&&n.defaultOpacity),d!=null&&(t.opacity=d),!r&&!i&&t.fill==null&&n.inheritColor&&(t.fill=n.inheritColor);for(var g=0;g<xv.length;g++){var h=xv[g],v=Ae(e.getShallow(h),a[h]);v!=null&&(t[h]=v)}for(var g=0;g<Sv.length;g++){var h=Sv[g],v=e.getShallow(h);v!=null&&(t[h]=v)}if(t.verticalAlign==null){var _=e.getShallow("baseline");_!=null&&(t.verticalAlign=_)}if(!o||!n.disableBox){for(var g=0;g<Cv.length;g++){var h=Cv[g],v=e.getShallow(h);v!=null&&(t[h]=v)}var y=e.getShallow("borderType");y!=null&&(t.borderDash=y),(t.backgroundColor==="auto"||t.backgroundColor==="inherit")&&l&&(t.backgroundColor=l),(t.borderColor==="auto"||t.borderColor==="inherit")&&l&&(t.borderColor=l)}}function $k(t,e){var a=e&&e.getModel("textStyle");return Jt([t.fontStyle||a&&a.getShallow("fontStyle")||"",t.fontWeight||a&&a.getShallow("fontWeight")||"",(t.fontSize||a&&a.getShallow("fontSize")||12)+"px",t.fontFamily||a&&a.getShallow("fontFamily")||"sans-serif"].join(" "))}var jy=ia(),eM=["textStyle","color"],ac=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tc=new yt,aM=function(){function t(){}return t.prototype.getTextColor=function(e){var a=this.ecModel;return this.getShallow("color")||(!e&&a?a.get(eM):null)},t.prototype.getFont=function(){return $k({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(e){for(var a={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<ac.length;n++)a[ac[n]]=this.getShallow(ac[n]);return tc.useStyle(a),tc.update(),tc.getBoundingRect()},t}(),Fy=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],tM=Qi(Fy),nM=function(){function t(){}return t.prototype.getLineStyle=function(e){return tM(this,e)},t}(),Uy=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],rM=Qi(Uy),iM=function(){function t(){}return t.prototype.getItemStyle=function(e,a){return rM(this,e,a)},t}(),ca=function(){function t(e,a,n){this.parentModel=a,this.ecModel=n,this.option=e}return t.prototype.init=function(e,a,n){},t.prototype.mergeOption=function(e,a){Ve(this.option,e,!0)},t.prototype.get=function(e,a){return e==null?this.option:this._doGet(this.parsePath(e),!a&&this.parentModel)},t.prototype.getShallow=function(e,a){var n=this.option,r=n==null?n:n[e];if(r==null&&!a){var i=this.parentModel;i&&(r=i.getShallow(e))}return r},t.prototype.getModel=function(e,a){var n=e!=null,r=n?this.parsePath(e):null,i=n?this._doGet(r):this.option;return a=a||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),new t(i,a,this.ecModel)},t.prototype.isEmpty=function(){return this.option==null},t.prototype.restoreData=function(){},t.prototype.clone=function(){var e=this.constructor;return new e(De(this.option))},t.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},t.prototype.resolveParentPath=function(e){return e},t.prototype.isAnimationEnabled=function(){if(!ke.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(e,a){var n=this.option;if(!e)return n;for(var r=0;r<e.length&&!(e[r]&&(n=n&&typeof n=="object"?n[e[r]]:null,n==null));r++);return n==null&&a&&(n=a._doGet(this.resolveParentPath(e),a.parentModel)),n},t}();yf(ca);GT(ca);wt(ca,nM);wt(ca,iM);wt(ca,XT);wt(ca,aM);var oM=Math.round(Math.random()*10);function Pl(t){return[t||"",oM++].join("_")}function sM(t){var e={};t.registerSubTypeDefaulter=function(a,n){var r=vt(a);e[r.main]=n},t.determineSubType=function(a,n){var r=n.type;if(!r){var i=vt(a).main;t.hasSubTypes(a)&&e[i]&&(r=e[i](n))}return r}}function lM(t,e){t.topologicalTravel=function(i,o,s,l){if(!i.length)return;var u=a(o),c=u.graph,d=u.noEntryList,f={};for(q(i,function(_){f[_]=!0});d.length;){var p=d.pop(),m=c[p],g=!!f[p];g&&(s.call(l,p,m.originalDeps.slice()),delete f[p]),q(m.successor,g?v:h)}q(f,function(){var _="";throw new Error(_)});function h(_){c[_].entryCount--,c[_].entryCount===0&&d.push(_)}function v(_){f[_]=!0,h(_)}};function a(i){var o={},s=[];return q(i,function(l){var u=n(o,l),c=u.originalDeps=e(l),d=r(c,i);u.entryCount=d.length,u.entryCount===0&&s.push(l),q(d,function(f){Ue(u.predecessor,f)<0&&u.predecessor.push(f);var p=n(o,f);Ue(p.successor,f)<0&&p.successor.push(l)})}),{graph:o,noEntryList:s}}function n(i,o){return i[o]||(i[o]={predecessor:[],successor:[]}),i[o]}function r(i,o){var s=[];return q(i,function(l){Ue(o,l)>=0&&s.push(l)}),s}}const uM={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},cM={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图",custom:"自定义图表",chart:"图表"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var Zs="ZH",If="EN",Nr=If,xs={},Rf={},Gy=ke.domSupported?function(){var t=(document.documentElement.lang||navigator.language||navigator.browserLanguage||Nr).toUpperCase();return t.indexOf(Zs)>-1?Zs:Nr}():Nr;function Hy(t,e){t=t.toUpperCase(),Rf[t]=new ca(e),xs[t]=e}function dM(t){if(be(t)){var e=xs[t.toUpperCase()]||{};return t===Zs||t===If?De(e):Ve(De(e),De(xs[Nr]),!1)}else return Ve(De(t),De(xs[Nr]),!1)}function fM(t){return Rf[t]}function pM(){return Rf[Nr]}Hy(If,uM);Hy(Zs,cM);var Of=1e3,Bf=Of*60,Vi=Bf*60,Ka=Vi*24,Tv=Ka*365,Ei={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Ho="{yyyy}-{MM}-{dd}",Ev={year:"{yyyy}",month:"{yyyy}-{MM}",day:Ho,hour:Ho+" "+Ei.hour,minute:Ho+" "+Ei.minute,second:Ho+" "+Ei.second,millisecond:Ei.none},nc=["year","month","day","hour","minute","second","millisecond"],Wy=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Ft(t,e){return t+="","0000".substr(0,e-t.length)+t}function Vr(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function hM(t){return t===Vr(t)}function vM(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function Ky(t,e,a,n){var r=un(t),i=r[zf(a)](),o=r[jr(a)]()+1,s=Math.floor((o-1)/3)+1,l=r[ql(a)](),u=r["get"+(a?"UTC":"")+"Day"](),c=r[eo(a)](),d=(c-1)%12+1,f=r[Il(a)](),p=r[Rl(a)](),m=r[Ol(a)](),g=c>=12?"pm":"am",h=g.toUpperCase(),v=n instanceof ca?n:fM(n||Gy)||pM(),_=v.getModel("time"),y=_.get("month"),x=_.get("monthAbbr"),E=_.get("dayOfWeek"),w=_.get("dayOfWeekAbbr");return(e||"").replace(/{a}/g,g+"").replace(/{A}/g,h+"").replace(/{yyyy}/g,i+"").replace(/{yy}/g,Ft(i%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,y[o-1]).replace(/{MMM}/g,x[o-1]).replace(/{MM}/g,Ft(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,Ft(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,E[u]).replace(/{ee}/g,w[u]).replace(/{e}/g,u+"").replace(/{HH}/g,Ft(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,Ft(d+"",2)).replace(/{h}/g,d+"").replace(/{mm}/g,Ft(f,2)).replace(/{m}/g,f+"").replace(/{ss}/g,Ft(p,2)).replace(/{s}/g,p+"").replace(/{SSS}/g,Ft(m,3)).replace(/{S}/g,m+"")}function mM(t,e,a,n,r){var i=null;if(be(a))i=a;else if(we(a))i=a(t.value,e,{level:t.level});else{var o=ae({},Ei);if(t.level>0)for(var s=0;s<nc.length;++s)o[nc[s]]="{primary|"+o[nc[s]]+"}";var l=a?a.inherit===!1?a:Se(a,o):o,u=Yy(t.value,r);if(l[u])i=l[u];else if(l.inherit){for(var c=Wy.indexOf(u),s=c-1;s>=0;--s)if(l[u]){i=l[u];break}i=i||o.none}if(se(i)){var d=t.level==null?0:t.level>=0?t.level:i.length+t.level;d=Math.min(d,i.length-1),i=i[d]}}return Ky(new Date(t.value),i,r,n)}function Yy(t,e){var a=un(t),n=a[jr(e)]()+1,r=a[ql(e)](),i=a[eo(e)](),o=a[Il(e)](),s=a[Rl(e)](),l=a[Ol(e)](),u=l===0,c=u&&s===0,d=c&&o===0,f=d&&i===0,p=f&&r===1,m=p&&n===1;return m?"year":p?"month":f?"day":d?"hour":c?"minute":u?"second":"millisecond"}function kv(t,e,a){var n=ta(t)?un(t):t;switch(e=e||Yy(t,a),e){case"year":return n[zf(a)]();case"half-year":return n[jr(a)]()>=6?1:0;case"quarter":return Math.floor((n[jr(a)]()+1)/4);case"month":return n[jr(a)]();case"day":return n[ql(a)]();case"half-day":return n[eo(a)]()/24;case"hour":return n[eo(a)]();case"minute":return n[Il(a)]();case"second":return n[Rl(a)]();case"millisecond":return n[Ol(a)]()}}function zf(t){return t?"getUTCFullYear":"getFullYear"}function jr(t){return t?"getUTCMonth":"getMonth"}function ql(t){return t?"getUTCDate":"getDate"}function eo(t){return t?"getUTCHours":"getHours"}function Il(t){return t?"getUTCMinutes":"getMinutes"}function Rl(t){return t?"getUTCSeconds":"getSeconds"}function Ol(t){return t?"getUTCMilliseconds":"getMilliseconds"}function gM(t){return t?"setUTCFullYear":"setFullYear"}function Xy(t){return t?"setUTCMonth":"setMonth"}function Zy(t){return t?"setUTCDate":"setDate"}function Qy(t){return t?"setUTCHours":"setHours"}function Jy(t){return t?"setUTCMinutes":"setMinutes"}function $y(t){return t?"setUTCSeconds":"setSeconds"}function e0(t){return t?"setUTCMilliseconds":"setMilliseconds"}function _M(t){if(!ST(t))return be(t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}var a0=A_,Mv=["a","b","c","d","e","f","g"],rc=function(t,e){return"{"+t+(e==null?"":e)+"}"};function yM(t,e,a){se(e)||(e=[e]);var n=e.length;if(!n)return"";for(var r=e[0].$vars||[],i=0;i<r.length;i++){var o=Mv[i];t=t.replace(rc(o),rc(o,0))}for(var s=0;s<n;s++)for(var l=0;l<r.length;l++){var u=e[s][r[l]];t=t.replace(rc(Mv[l],s),u)}return t}function yd(t,e){return e=e||"transparent",be(t)?t:fe(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}var Ss=q,bM=["left","right","top","bottom","width","height"],Wo=[["width","left","right"],["height","top","bottom"]];function t0(t,e,a,n,r){var i=0,o=0;n==null&&(n=1/0),r==null&&(r=1/0);var s=0;e.eachChild(function(l,u){var c=l.getBoundingRect(),d=e.childAt(u+1),f=d&&d.getBoundingRect(),p,m;if(t==="horizontal"){var g=c.width+(f?-f.x+c.x:0);p=i+g,p>n||l.newline?(i=0,p=g,o+=s+a,s=c.height):s=Math.max(s,c.height)}else{var h=c.height+(f?-f.y+c.y:0);m=o+h,m>r||l.newline?(i+=s+a,o=0,m=h,s=c.width):s=Math.max(s,c.width)}l.newline||(l.x=i,l.y=o,l.markRedraw(),t==="horizontal"?i=p+a:o=m+a)})}Xa(t0,"vertical");Xa(t0,"horizontal");function wM(t,e,a){a=a0(a||0);var n=e.width,r=e.height,i=Oa(t.left,n),o=Oa(t.top,r),s=Oa(t.right,n),l=Oa(t.bottom,r),u=Oa(t.width,n),c=Oa(t.height,r),d=a[2]+a[0],f=a[1]+a[3],p=t.aspect;switch(isNaN(u)&&(u=n-s-f-i),isNaN(c)&&(c=r-l-d-o),p!=null&&(isNaN(u)&&isNaN(c)&&(p>n/r?u=n*.8:c=r*.8),isNaN(u)&&(u=p*c),isNaN(c)&&(c=u/p)),isNaN(i)&&(i=n-s-u-f),isNaN(o)&&(o=r-l-c-d),t.left||t.right){case"center":i=n/2-u/2-a[3];break;case"right":i=n-u-f;break}switch(t.top||t.bottom){case"middle":case"center":o=r/2-c/2-a[0];break;case"bottom":o=r-c-d;break}i=i||0,o=o||0,isNaN(u)&&(u=n-f-i-(s||0)),isNaN(c)&&(c=r-d-o-(l||0));var m=new Le(i+a[3],o+a[0],u,c);return m.margin=a,m}function ao(t){var e=t.layoutMode||t.constructor.layoutMode;return fe(e)?e:e?{type:e}:null}function to(t,e,a){var n=a&&a.ignoreSize;!se(n)&&(n=[n,n]);var r=o(Wo[0],0),i=o(Wo[1],1);u(Wo[0],t,r),u(Wo[1],t,i);function o(c,d){var f={},p=0,m={},g=0,h=2;if(Ss(c,function(y){m[y]=t[y]}),Ss(c,function(y){s(e,y)&&(f[y]=m[y]=e[y]),l(f,y)&&p++,l(m,y)&&g++}),n[d])return l(e,c[1])?m[c[2]]=null:l(e,c[2])&&(m[c[1]]=null),m;if(g===h||!p)return m;if(p>=h)return f;for(var v=0;v<c.length;v++){var _=c[v];if(!s(f,_)&&s(t,_)){f[_]=t[_];break}}return f}function s(c,d){return c.hasOwnProperty(d)}function l(c,d){return c[d]!=null&&c[d]!=="auto"}function u(c,d,f){Ss(c,function(p){d[p]=f[p]})}}function Nf(t){return xM({},t)}function xM(t,e){return e&&t&&Ss(bM,function(a){e.hasOwnProperty(a)&&(t[a]=e[a])}),t}var SM=ia(),Fe=function(t){qe(e,t);function e(a,n,r){var i=t.call(this,a,n,r)||this;return i.uid=Pl("ec_cpt_model"),i}return e.prototype.init=function(a,n,r){this.mergeDefaultAndTheme(a,r)},e.prototype.mergeDefaultAndTheme=function(a,n){var r=ao(this),i=r?Nf(a):{},o=n.getTheme();Ve(a,o.get(this.mainType)),Ve(a,this.getDefaultOption()),r&&to(a,i,r)},e.prototype.mergeOption=function(a,n){Ve(this.option,a,!0);var r=ao(this);r&&to(this.option,a,r)},e.prototype.optionUpdated=function(a,n){},e.prototype.getDefaultOption=function(){var a=this.constructor;if(!jT(a))return a.defaultOption;var n=SM(this);if(!n.defaultOption){for(var r=[],i=a;i;){var o=i.prototype.defaultOption;o&&r.push(o),i=i.superClass}for(var s={},l=r.length-1;l>=0;l--)s=Ve(s,r[l],!0);n.defaultOption=s}return n.defaultOption},e.prototype.getReferringComponents=function(a,n){var r=a+"Index",i=a+"Id";return bl(this.ecModel,a,{index:this.get(r,!0),id:this.get(i,!0)},n)},e.prototype.getBoxLayoutParams=function(){var a=this;return{left:a.get("left"),top:a.get("top"),right:a.get("right"),bottom:a.get("bottom"),width:a.get("width"),height:a.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(a){this.option.zlevel=a},e.protoInitialize=function(){var a=e.prototype;a.type="component",a.id="",a.name="",a.mainType="",a.subType="",a.componentIndex=0}(),e}(ca);ry(Fe,ca);wl(Fe);sM(Fe);lM(Fe,CM);function CM(t){var e=[];return q(Fe.getClassesByMainType(t),function(a){e=e.concat(a.dependencies||a.prototype.dependencies||[])}),e=de(e,function(a){return vt(a).main}),t!=="dataset"&&Ue(e,"dataset")<=0&&e.unshift("dataset"),e}var n0="";typeof navigator!="undefined"&&(n0=navigator.platform||"");var vr="rgba(0, 0, 0, 0.2)";const AM={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:vr,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:vr,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:vr,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:vr,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:vr,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:vr,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:n0.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var r0=ge(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),Ja="original",Pa="arrayRows",St="objectRows",Bt="keyedColumns",rn="typedArray",i0="unknown",It="column",Zr="row",Ia={Must:1,Might:2,Not:3},o0=ia();function TM(t){o0(t).datasetMap=ge()}function EM(t,e,a){var n={},r=s0(e);if(!r||!t)return n;var i=[],o=[],s=e.ecModel,l=o0(s).datasetMap,u=r.uid+"_"+a.seriesLayoutBy,c,d;t=t.slice(),q(t,function(g,h){var v=fe(g)?g:t[h]={name:g};v.type==="ordinal"&&c==null&&(c=h,d=m(v)),n[v.name]=[]});var f=l.get(u)||l.set(u,{categoryWayDim:d,valueWayDim:0});q(t,function(g,h){var v=g.name,_=m(g);if(c==null){var y=f.valueWayDim;p(n[v],y,_),p(o,y,_),f.valueWayDim+=_}else if(c===h)p(n[v],0,_),p(i,0,_);else{var y=f.categoryWayDim;p(n[v],y,_),p(o,y,_),f.categoryWayDim+=_}});function p(g,h,v){for(var _=0;_<v;_++)g.push(h+_)}function m(g){var h=g.dimsDef;return h?h.length:1}return i.length&&(n.itemName=i),o.length&&(n.seriesName=o),n}function s0(t){var e=t.get("data",!0);if(!e)return bl(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},ot).models[0]}function kM(t){return!t.get("transform",!0)&&!t.get("fromTransformResult",!0)?[]:bl(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},ot).models}function l0(t,e){return MM(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function MM(t,e,a,n,r,i){var o,s=5;if(Da(t))return Ia.Not;var l,u;if(n){var c=n[i];fe(c)?(l=c.name,u=c.type):be(c)&&(l=c)}if(u!=null)return u==="ordinal"?Ia.Must:Ia.Not;if(e===Pa){var d=t;if(a===Zr){for(var f=d[i],p=0;p<(f||[]).length&&p<s;p++)if((o=x(f[r+p]))!=null)return o}else for(var p=0;p<d.length&&p<s;p++){var m=d[r+p];if(m&&(o=x(m[i]))!=null)return o}}else if(e===St){var g=t;if(!l)return Ia.Not;for(var p=0;p<g.length&&p<s;p++){var h=g[p];if(h&&(o=x(h[l]))!=null)return o}}else if(e===Bt){var v=t;if(!l)return Ia.Not;var f=v[l];if(!f||Da(f))return Ia.Not;for(var p=0;p<f.length&&p<s;p++)if((o=x(f[p]))!=null)return o}else if(e===Ja)for(var _=t,p=0;p<_.length&&p<s;p++){var h=_[p],y=go(h);if(!se(y))return Ia.Not;if((o=x(y[i]))!=null)return o}function x(E){var w=be(E);if(E!=null&&Number.isFinite(Number(E))&&E!=="")return w?Ia.Might:Ia.Not;if(w&&E!=="-")return Ia.Must}return Ia.Not}var DM=ge();function LM(t,e,a){var n=DM.get(e);if(!n)return a;var r=n(t);return r?a.concat(r):a}var Dv=ia();ia();var Vf=function(){function t(){}return t.prototype.getColorFromPalette=function(e,a,n){var r=na(this.get("color",!0)),i=this.get("colorLayer",!0);return qM(this,Dv,r,i,e,a,n)},t.prototype.clearColorPalette=function(){IM(this,Dv)},t}();function PM(t,e){for(var a=t.length,n=0;n<a;n++)if(t[n].length>e)return t[n];return t[a-1]}function qM(t,e,a,n,r,i,o){i=i||t;var s=e(i),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(r))return u[r];var c=o==null||!n?a:PM(n,o);if(c=c||a,!(!c||!c.length)){var d=c[l];return r&&(u[r]=d),s.paletteIdx=(l+1)%c.length,d}}function IM(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}var Ko,pi,Lv,Pv="\0_ec_inner",RM=1,jf=function(t){qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(a,n,r,i,o,s){i=i||{},this.option=null,this._theme=new ca(i),this._locale=new ca(o),this._optionManager=s},e.prototype.setOption=function(a,n,r){var i=Rv(n);this._optionManager.setOption(a,r,i),this._resetOption(null,i)},e.prototype.resetOption=function(a,n){return this._resetOption(a,Rv(n))},e.prototype._resetOption=function(a,n){var r=!1,i=this._optionManager;if(!a||a==="recreate"){var o=i.mountOption(a==="recreate");!this.option||a==="recreate"?Lv(this,o):(this.restoreData(),this._mergeOption(o,n)),r=!0}if((a==="timeline"||a==="media")&&this.restoreData(),!a||a==="recreate"||a==="timeline"){var s=i.getTimelineOption(this);s&&(r=!0,this._mergeOption(s,n))}if(!a||a==="recreate"||a==="media"){var l=i.getMediaOption(this);l.length&&q(l,function(u){r=!0,this._mergeOption(u,n)},this)}return r},e.prototype.mergeOption=function(a){this._mergeOption(a,null)},e.prototype._mergeOption=function(a,n){var r=this.option,i=this._componentsMap,o=this._componentsCount,s=[],l=ge(),u=n&&n.replaceMergeMainTypeMap;TM(this),q(a,function(d,f){d!=null&&(Fe.hasClass(f)?f&&(s.push(f),l.set(f,!0)):r[f]=r[f]==null?De(d):Ve(r[f],d,!0))}),u&&u.each(function(d,f){Fe.hasClass(f)&&!l.get(f)&&(s.push(f),l.set(f,!0))}),Fe.topologicalTravel(s,Fe.getAllClassMainTypes(),c,this);function c(d){var f=LM(this,d,na(a[d])),p=i.get(d),m=p?u&&u.get(d)?"replaceMerge":"normalMerge":"replaceAll",g=ET(p,f,m);IT(g,d,Fe),r[d]=null,i.set(d,null),o.set(d,0);var h=[],v=[],_=0,y;q(g,function(x,E){var w=x.existing,A=x.newOption;if(!A)w&&(w.mergeOption({},this),w.optionUpdated({},!1));else{var S=d==="series",k=Fe.getClass(d,x.keyInfo.subType,!S);if(!k)return;if(d==="tooltip"){if(y)return;y=!0}if(w&&w.constructor===k)w.name=x.keyInfo.name,w.mergeOption(A,this),w.optionUpdated(A,!1);else{var b=ae({componentIndex:E},x.keyInfo);w=new k(A,this,this,b),ae(w,b),x.brandNew&&(w.__requireNewView=!0),w.init(A,this,this),w.optionUpdated(null,!0)}}w?(h.push(w.option),v.push(w),_++):(h.push(void 0),v.push(void 0))},this),r[d]=h,i.set(d,v),o.set(d,_),d==="series"&&Ko(this)}this._seriesIndices||Ko(this)},e.prototype.getOption=function(){var a=De(this.option);return q(a,function(n,r){if(Fe.hasClass(r)){for(var i=na(n),o=i.length,s=!1,l=o-1;l>=0;l--)i[l]&&!Zi(i[l])?s=!0:(i[l]=null,!s&&o--);i.length=o,a[r]=i}}),delete a[Pv],a},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(a){this._payload=a},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(a,n){var r=this._componentsMap.get(a);if(r){var i=r[n||0];if(i)return i;if(n==null){for(var o=0;o<r.length;o++)if(r[o])return r[o]}}},e.prototype.queryComponents=function(a){var n=a.mainType;if(!n)return[];var r=a.index,i=a.id,o=a.name,s=this._componentsMap.get(n);if(!s||!s.length)return[];var l;return r!=null?(l=[],q(na(r),function(u){s[u]&&l.push(s[u])})):i!=null?l=qv("id",i,s):o!=null?l=qv("name",o,s):l=va(s,function(u){return!!u}),Iv(l,a)},e.prototype.findComponents=function(a){var n=a.query,r=a.mainType,i=s(n),o=i?this.queryComponents(i):va(this._componentsMap.get(r),function(u){return!!u});return l(Iv(o,a));function s(u){var c=r+"Index",d=r+"Id",f=r+"Name";return u&&(u[c]!=null||u[d]!=null||u[f]!=null)?{mainType:r,index:u[c],id:u[d],name:u[f]}:null}function l(u){return a.filter?va(u,a.filter):u}},e.prototype.eachComponent=function(a,n,r){var i=this._componentsMap;if(we(a)){var o=n,s=a;i.each(function(d,f){for(var p=0;d&&p<d.length;p++){var m=d[p];m&&s.call(o,f,m,m.componentIndex)}})}else for(var l=be(a)?i.get(a):fe(a)?this.findComponents(a):null,u=0;l&&u<l.length;u++){var c=l[u];c&&n.call(r,c,c.componentIndex)}},e.prototype.getSeriesByName=function(a){var n=mt(a,null);return va(this._componentsMap.get("series"),function(r){return!!r&&n!=null&&r.name===n})},e.prototype.getSeriesByIndex=function(a){return this._componentsMap.get("series")[a]},e.prototype.getSeriesByType=function(a){return va(this._componentsMap.get("series"),function(n){return!!n&&n.subType===a})},e.prototype.getSeries=function(){return va(this._componentsMap.get("series"),function(a){return!!a})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(a,n){pi(this),q(this._seriesIndices,function(r){var i=this._componentsMap.get("series")[r];a.call(n,i,r)},this)},e.prototype.eachRawSeries=function(a,n){q(this._componentsMap.get("series"),function(r){r&&a.call(n,r,r.componentIndex)})},e.prototype.eachSeriesByType=function(a,n,r){pi(this),q(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];o.subType===a&&n.call(r,o,i)},this)},e.prototype.eachRawSeriesByType=function(a,n,r){return q(this.getSeriesByType(a),n,r)},e.prototype.isSeriesFiltered=function(a){return pi(this),this._seriesIndicesMap.get(a.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(a,n){pi(this);var r=[];q(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];a.call(n,o,i)&&r.push(i)},this),this._seriesIndices=r,this._seriesIndicesMap=ge(r)},e.prototype.restoreData=function(a){Ko(this);var n=this._componentsMap,r=[];n.each(function(i,o){Fe.hasClass(o)&&r.push(o)}),Fe.topologicalTravel(r,Fe.getAllClassMainTypes(),function(i){q(n.get(i),function(o){o&&(i!=="series"||!OM(o,a))&&o.restoreData()})})},e.internalField=function(){Ko=function(a){var n=a._seriesIndices=[];q(a._componentsMap.get("series"),function(r){r&&n.push(r.componentIndex)}),a._seriesIndicesMap=ge(n)},pi=function(a){},Lv=function(a,n){a.option={},a.option[Pv]=RM,a._componentsMap=ge({series:[]}),a._componentsCount=ge();var r=n.aria;fe(r)&&r.enabled==null&&(r.enabled=!0),BM(n,a._theme.option),Ve(n,AM,!1),a._mergeOption(n,null)}}(),e}(ca);function OM(t,e){if(e){var a=e.seriesIndex,n=e.seriesId,r=e.seriesName;return a!=null&&t.componentIndex!==a||n!=null&&t.id!==n||r!=null&&t.name!==r}}function BM(t,e){var a=t.color&&!t.colorLayer;q(e,function(n,r){r==="colorLayer"&&a||Fe.hasClass(r)||(typeof n=="object"?t[r]=t[r]?Ve(t[r],n,!1):De(n):t[r]==null&&(t[r]=n))})}function qv(t,e,a){if(se(e)){var n=ge();return q(e,function(i){if(i!=null){var o=mt(i,null);o!=null&&n.set(i,!0)}}),va(a,function(i){return i&&n.get(i[t])})}else{var r=mt(e,null);return va(a,function(i){return i&&r!=null&&i[t]===r})}}function Iv(t,e){return e.hasOwnProperty("subType")?va(t,function(a){return a&&a.subType===e.subType}):t}function Rv(t){var e=ge();return t&&q(na(t.replaceMerge),function(a){e.set(a,!0)}),{replaceMergeMainTypeMap:e}}wt(jf,Vf);var zM=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],u0=function(){function t(e){q(zM,function(a){this[a]=ma(e[a],e)},this)}return t}(),ic={},Ff=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(e,a){var n=[];q(ic,function(r,i){var o=r.create(e,a);n=n.concat(o||[])}),this._coordinateSystems=n},t.prototype.update=function(e,a){q(this._coordinateSystems,function(n){n.update&&n.update(e,a)})},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(e,a){ic[e]=a},t.get=function(e){return ic[e]},t}(),NM=/^(min|max)?(.+)$/,VM=function(){function t(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return t.prototype.setOption=function(e,a,n){e&&(q(na(e.series),function(o){o&&o.data&&Da(o.data)&&Kc(o.data)}),q(na(e.dataset),function(o){o&&o.source&&Da(o.source)&&Kc(o.source)})),e=De(e);var r=this._optionBackup,i=jM(e,a,!r);this._newBaseOption=i.baseOption,r?(i.timelineOptions.length&&(r.timelineOptions=i.timelineOptions),i.mediaList.length&&(r.mediaList=i.mediaList),i.mediaDefault&&(r.mediaDefault=i.mediaDefault)):this._optionBackup=i},t.prototype.mountOption=function(e){var a=this._optionBackup;return this._timelineOptions=a.timelineOptions,this._mediaList=a.mediaList,this._mediaDefault=a.mediaDefault,this._currentMediaIndices=[],De(e?a.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(e){var a,n=this._timelineOptions;if(n.length){var r=e.getComponent("timeline");r&&(a=De(n[r.getCurrentIndex()]))}return a},t.prototype.getMediaOption=function(e){var a=this._api.getWidth(),n=this._api.getHeight(),r=this._mediaList,i=this._mediaDefault,o=[],s=[];if(!r.length&&!i)return s;for(var l=0,u=r.length;l<u;l++)FM(r[l].query,a,n)&&o.push(l);return!o.length&&i&&(o=[-1]),o.length&&!GM(o,this._currentMediaIndices)&&(s=de(o,function(c){return De(c===-1?i.option:r[c].option)})),this._currentMediaIndices=o,s},t}();function jM(t,e,a){var n=[],r,i,o=t.baseOption,s=t.timeline,l=t.options,u=t.media,c=!!t.media,d=!!(l||s||o&&o.timeline);o?(i=o,i.timeline||(i.timeline=s)):((d||c)&&(t.options=t.media=null),i=t),c&&se(u)&&q(u,function(p){p&&p.option&&(p.query?n.push(p):r||(r=p))}),f(i),q(l,function(p){return f(p)}),q(n,function(p){return f(p.option)});function f(p){q(e,function(m){m(p,a)})}return{baseOption:i,timelineOptions:l||[],mediaDefault:r,mediaList:n}}function FM(t,e,a){var n={width:e,height:a,aspectratio:e/a},r=!0;return q(t,function(i,o){var s=o.match(NM);if(!(!s||!s[1]||!s[2])){var l=s[1],u=s[2].toLowerCase();UM(n[u],i,l)||(r=!1)}}),r}function UM(t,e,a){return a==="min"?t>=e:a==="max"?t<=e:t===e}function GM(t,e){return t.join(",")===e.join(",")}var et=q,no=fe,Ov=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function oc(t){var e=t&&t.itemStyle;if(e)for(var a=0,n=Ov.length;a<n;a++){var r=Ov[a],i=e.normal,o=e.emphasis;i&&i[r]&&(t[r]=t[r]||{},t[r].normal?Ve(t[r].normal,i[r]):t[r].normal=i[r],i[r]=null),o&&o[r]&&(t[r]=t[r]||{},t[r].emphasis?Ve(t[r].emphasis,o[r]):t[r].emphasis=o[r],o[r]=null)}}function ha(t,e,a){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var n=t[e].normal,r=t[e].emphasis;n&&(a?(t[e].normal=t[e].emphasis=null,Se(t[e],n)):t[e]=n),r&&(t.emphasis=t.emphasis||{},t.emphasis[e]=r,r.focus&&(t.emphasis.focus=r.focus),r.blurScope&&(t.emphasis.blurScope=r.blurScope))}}function ki(t){ha(t,"itemStyle"),ha(t,"lineStyle"),ha(t,"areaStyle"),ha(t,"label"),ha(t,"labelLine"),ha(t,"upperLabel"),ha(t,"edgeLabel")}function ea(t,e){var a=no(t)&&t[e],n=no(a)&&a.textStyle;if(n)for(var r=0,i=Bh.length;r<i;r++){var o=Bh[r];n.hasOwnProperty(o)&&(a[o]=n[o])}}function Ga(t){t&&(ki(t),ea(t,"label"),t.emphasis&&ea(t.emphasis,"label"))}function HM(t){if(no(t)){oc(t),ki(t),ea(t,"label"),ea(t,"upperLabel"),ea(t,"edgeLabel"),t.emphasis&&(ea(t.emphasis,"label"),ea(t.emphasis,"upperLabel"),ea(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(oc(e),Ga(e));var a=t.markLine;a&&(oc(a),Ga(a));var n=t.markArea;n&&Ga(n);var r=t.data;if(t.type==="graph"){r=r||t.nodes;var i=t.links||t.edges;if(i&&!Da(i))for(var o=0;o<i.length;o++)Ga(i[o]);q(t.categories,function(u){ki(u)})}if(r&&!Da(r))for(var o=0;o<r.length;o++)Ga(r[o]);if(e=t.markPoint,e&&e.data)for(var s=e.data,o=0;o<s.length;o++)Ga(s[o]);if(a=t.markLine,a&&a.data)for(var l=a.data,o=0;o<l.length;o++)se(l[o])?(Ga(l[o][0]),Ga(l[o][1])):Ga(l[o]);t.type==="gauge"?(ea(t,"axisLabel"),ea(t,"title"),ea(t,"detail")):t.type==="treemap"?(ha(t.breadcrumb,"itemStyle"),q(t.levels,function(u){ki(u)})):t.type==="tree"&&ki(t.leaves)}}function Tt(t){return se(t)?t:t?[t]:[]}function Bv(t){return(se(t)?t[0]:t)||{}}function WM(t,e){et(Tt(t.series),function(n){no(n)&&HM(n)});var a=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&a.push("valueAxis","categoryAxis","logAxis","timeAxis"),et(a,function(n){et(Tt(t[n]),function(r){r&&(ea(r,"axisLabel"),ea(r.axisPointer,"label"))})}),et(Tt(t.parallel),function(n){var r=n&&n.parallelAxisDefault;ea(r,"axisLabel"),ea(r&&r.axisPointer,"label")}),et(Tt(t.calendar),function(n){ha(n,"itemStyle"),ea(n,"dayLabel"),ea(n,"monthLabel"),ea(n,"yearLabel")}),et(Tt(t.radar),function(n){ea(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),et(Tt(t.geo),function(n){no(n)&&(Ga(n),et(Tt(n.regions),function(r){Ga(r)}))}),et(Tt(t.timeline),function(n){Ga(n),ha(n,"label"),ha(n,"itemStyle"),ha(n,"controlStyle",!0);var r=n.data;se(r)&&q(r,function(i){fe(i)&&(ha(i,"label"),ha(i,"itemStyle"))})}),et(Tt(t.toolbox),function(n){ha(n,"iconStyle"),et(n.feature,function(r){ha(r,"iconStyle")})}),ea(Bv(t.axisPointer),"label"),ea(Bv(t.tooltip).axisPointer,"label")}function KM(t,e){for(var a=e.split(","),n=t,r=0;r<a.length&&(n=n&&n[a[r]],n!=null);r++);return n}function YM(t,e,a,n){for(var r=e.split(","),i=t,o,s=0;s<r.length-1;s++)o=r[s],i[o]==null&&(i[o]={}),i=i[o];i[r[s]]==null&&(i[r[s]]=a)}function zv(t){t&&q(XM,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var XM=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],ZM=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],sc=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function hi(t){var e=t&&t.itemStyle;if(e)for(var a=0;a<sc.length;a++){var n=sc[a][1],r=sc[a][0];e[n]!=null&&(e[r]=e[n])}}function Nv(t){t&&t.alignTo==="edge"&&t.margin!=null&&t.edgeDistance==null&&(t.edgeDistance=t.margin)}function Vv(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function QM(t){t&&t.focusNodeAdjacency!=null&&(t.emphasis=t.emphasis||{},t.emphasis.focus==null&&(t.emphasis.focus="adjacency"))}function c0(t,e){if(t)for(var a=0;a<t.length;a++)e(t[a]),t[a]&&c0(t[a].children,e)}function d0(t,e){WM(t,e),t.series=na(t.series),q(t.series,function(a){if(fe(a)){var n=a.type;if(n==="line")a.clipOverflow!=null&&(a.clip=a.clipOverflow);else if(n==="pie"||n==="gauge"){a.clockWise!=null&&(a.clockwise=a.clockWise),Nv(a.label);var r=a.data;if(r&&!Da(r))for(var i=0;i<r.length;i++)Nv(r[i]);a.hoverOffset!=null&&(a.emphasis=a.emphasis||{},(a.emphasis.scaleSize=null)&&(a.emphasis.scaleSize=a.hoverOffset))}else if(n==="gauge"){var o=KM(a,"pointer.color");o!=null&&YM(a,"itemStyle.color",o)}else if(n==="bar"){hi(a),hi(a.backgroundStyle),hi(a.emphasis);var r=a.data;if(r&&!Da(r))for(var i=0;i<r.length;i++)typeof r[i]=="object"&&(hi(r[i]),hi(r[i]&&r[i].emphasis))}else if(n==="sunburst"){var s=a.highlightPolicy;s&&(a.emphasis=a.emphasis||{},a.emphasis.focus||(a.emphasis.focus=s)),Vv(a),c0(a.data,Vv)}else n==="graph"||n==="sankey"?QM(a):n==="map"&&(a.mapType&&!a.map&&(a.map=a.mapType),a.mapLocation&&Se(a,a.mapLocation));a.hoverAnimation!=null&&(a.emphasis=a.emphasis||{},a.emphasis&&a.emphasis.scale==null&&(a.emphasis.scale=a.hoverAnimation)),zv(a)}}),t.dataRange&&(t.visualMap=t.dataRange),q(ZM,function(a){var n=t[a];n&&(se(n)||(n=[n]),q(n,function(r){zv(r)}))})}function JM(t){var e=ge();t.eachSeries(function(a){var n=a.get("stack");if(n){var r=e.get(n)||e.set(n,[]),i=a.getData(),o={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:a};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;r.length&&i.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(o)}}),e.each($M)}function $M(t){q(t,function(e,a){var n=[],r=[NaN,NaN],i=[e.stackResultDimension,e.stackedOverDimension],o=e.data,s=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";o.modify(i,function(u,c,d){var f=o.get(e.stackedDimension,d);if(isNaN(f))return r;var p,m;s?m=o.getRawIndex(d):p=o.get(e.stackedByDimension,d);for(var g=NaN,h=a-1;h>=0;h--){var v=t[h];if(s||(m=v.data.rawIndexOf(v.stackedByDimension,p)),m>=0){var _=v.data.getByRawIndex(v.stackResultDimension,m);if(l==="all"||l==="positive"&&_>0||l==="negative"&&_<0||l==="samesign"&&f>=0&&_>0||l==="samesign"&&f<=0&&_<0){f=yT(f,_),g=_;break}}}return n[0]=f,n[1]=g,n})})}var Bl=function(){function t(e){this.data=e.data||(e.sourceFormat===Bt?{}:[]),this.sourceFormat=e.sourceFormat||i0,this.seriesLayoutBy=e.seriesLayoutBy||It,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var a=this.dimensionsDefine=e.dimensionsDefine;if(a)for(var n=0;n<a.length;n++){var r=a[n];r.type==null&&l0(this,n)===Ia.Must&&(r.type="ordinal")}}return t}();function Uf(t){return t instanceof Bl}function bd(t,e,a){a=a||p0(t);var n=e.seriesLayoutBy,r=aD(t,a,n,e.sourceHeader,e.dimensions),i=new Bl({data:t,sourceFormat:a,seriesLayoutBy:n,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:De(e)});return i}function f0(t){return new Bl({data:t,sourceFormat:Da(t)?rn:Ja})}function eD(t){return new Bl({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:De(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})}function p0(t){var e=i0;if(Da(t))e=rn;else if(se(t)){t.length===0&&(e=Pa);for(var a=0,n=t.length;a<n;a++){var r=t[a];if(r!=null){if(se(r)||Da(r)){e=Pa;break}else if(fe(r)){e=St;break}}}}else if(fe(t)){for(var i in t)if(Yi(t,i)&&Ma(t[i])){e=Bt;break}}return e}function aD(t,e,a,n,r){var i,o;if(!t)return{dimensionsDefine:jv(r),startIndex:o,dimensionsDetectedCount:i};if(e===Pa){var s=t;n==="auto"||n==null?Fv(function(u){u!=null&&u!=="-"&&(be(u)?o==null&&(o=1):o=0)},a,s,10):o=ta(n)?n:n?1:0,!r&&o===1&&(r=[],Fv(function(u,c){r[c]=u!=null?u+"":""},a,s,1/0)),i=r?r.length:a===Zr?s.length:s[0]?s[0].length:null}else if(e===St)r||(r=tD(t));else if(e===Bt)r||(r=[],q(t,function(u,c){r.push(c)}));else if(e===Ja){var l=go(t[0]);i=se(l)&&l.length||1}return{startIndex:o,dimensionsDefine:jv(r),dimensionsDetectedCount:i}}function tD(t){for(var e=0,a;e<t.length&&!(a=t[e++]););if(a)return Xe(a)}function jv(t){if(t){var e=ge();return de(t,function(a,n){a=fe(a)?a:{name:a};var r={name:a.name,displayName:a.displayName,type:a.type};if(r.name==null)return r;r.name+="",r.displayName==null&&(r.displayName=r.name);var i=e.get(r.name);return i?r.name+="-"+i.count++:e.set(r.name,{count:1}),r})}}function Fv(t,e,a,n){if(e===Zr)for(var r=0;r<a.length&&r<n;r++)t(a[r]?a[r][0]:null,r);else for(var i=a[0]||[],r=0;r<i.length&&r<n;r++)t(i[r],r)}function h0(t){var e=t.sourceFormat;return e===St||e===Bt}var Rn,On,Bn,Uv,Gv,v0=function(){function t(e,a){var n=Uf(e)?e:f0(e);this._source=n;var r=this._data=n.data;n.sourceFormat===rn&&(this._offset=0,this._dimSize=a,this._data=r),Gv(this,r,n)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(e,a){},t.prototype.appendData=function(e){},t.prototype.clean=function(){},t.protoInitialize=function(){var e=t.prototype;e.pure=!1,e.persistent=!0}(),t.internalField=function(){var e;Gv=function(o,s,l){var u=l.sourceFormat,c=l.seriesLayoutBy,d=l.startIndex,f=l.dimensionsDefine,p=Uv[Gf(u,c)];if(ae(o,p),u===rn)o.getItem=a,o.count=r,o.fillStorage=n;else{var m=m0(u,c);o.getItem=ma(m,null,s,d,f);var g=g0(u,c);o.count=ma(g,null,s,d,f)}};var a=function(o,s){o=o-this._offset,s=s||[];for(var l=this._data,u=this._dimSize,c=u*o,d=0;d<u;d++)s[d]=l[c+d];return s},n=function(o,s,l,u){for(var c=this._data,d=this._dimSize,f=0;f<d;f++){for(var p=u[f],m=p[0]==null?1/0:p[0],g=p[1]==null?-1/0:p[1],h=s-o,v=l[f],_=0;_<h;_++){var y=c[_*d+f];v[o+_]=y,y<m&&(m=y),y>g&&(g=y)}p[0]=m,p[1]=g}},r=function(){return this._data?this._data.length/this._dimSize:0};Uv=(e={},e[Pa+"_"+It]={pure:!0,appendData:i},e[Pa+"_"+Zr]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[St]={pure:!0,appendData:i},e[Bt]={pure:!0,appendData:function(o){var s=this._data;q(o,function(l,u){for(var c=s[u]||(s[u]=[]),d=0;d<(l||[]).length;d++)c.push(l[d])})}},e[Ja]={appendData:i},e[rn]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},e);function i(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}}(),t}(),Hv=function(t,e,a,n){return t[n]},nD=(Rn={},Rn[Pa+"_"+It]=function(t,e,a,n){return t[n+e]},Rn[Pa+"_"+Zr]=function(t,e,a,n,r){n+=e;for(var i=r||[],o=t,s=0;s<o.length;s++){var l=o[s];i[s]=l?l[n]:null}return i},Rn[St]=Hv,Rn[Bt]=function(t,e,a,n,r){for(var i=r||[],o=0;o<a.length;o++){var s=a[o].name,l=t[s];i[o]=l?l[n]:null}return i},Rn[Ja]=Hv,Rn);function m0(t,e){var a=nD[Gf(t,e)];return a}var Wv=function(t,e,a){return t.length},rD=(On={},On[Pa+"_"+It]=function(t,e,a){return Math.max(0,t.length-e)},On[Pa+"_"+Zr]=function(t,e,a){var n=t[0];return n?Math.max(0,n.length-e):0},On[St]=Wv,On[Bt]=function(t,e,a){var n=a[0].name,r=t[n];return r?r.length:0},On[Ja]=Wv,On);function g0(t,e){var a=rD[Gf(t,e)];return a}var lc=function(t,e,a){return t[e]},iD=(Bn={},Bn[Pa]=lc,Bn[St]=function(t,e,a){return t[a]},Bn[Bt]=lc,Bn[Ja]=function(t,e,a){var n=go(t);return n instanceof Array?n[e]:n},Bn[rn]=lc,Bn);function _0(t){var e=iD[t];return e}function Gf(t,e){return t===Pa?t+"_"+e:t}function Ur(t,e,a){if(t){var n=t.getRawDataItem(e);if(n!=null){var r=t.getStore(),i=r.getSource().sourceFormat;if(a!=null){var o=t.getDimensionIndex(a),s=r.getDimensionProperty(o);return _0(i)(n,o,s)}else{var l=n;return i===Ja&&(l=go(n)),l}}}}var oD=/\{@(.+?)\}/g,sD=function(){function t(){}return t.prototype.getDataParams=function(e,a){var n=this.getData(a),r=this.getRawValue(e,a),i=n.getRawIndex(e),o=n.getName(e),s=n.getRawDataItem(e),l=n.getItemVisual(e,"style"),u=l&&l[n.getItemVisual(e,"drawType")||"fill"],c=l&&l.stroke,d=this.mainType,f=d==="series",p=n.userOutput&&n.userOutput.get();return{componentType:d,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:o,dataIndex:i,data:s,dataType:a,value:r,color:u,borderColor:c,dimensionNames:p?p.fullDimensions:null,encode:p?p.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(e,a,n,r,i,o){a=a||"normal";var s=this.getData(n),l=this.getDataParams(e,n);if(o&&(l.value=o.interpolatedValue),r!=null&&se(l.value)&&(l.value=l.value[r]),!i){var u=s.getItemModel(e);i=u.get(a==="normal"?["label","formatter"]:[a,"label","formatter"])}if(we(i))return l.status=a,l.dimensionIndex=r,i(l);if(be(i)){var c=yM(i,l);return c.replace(oD,function(d,f){var p=f.length,m=f;m.charAt(0)==="["&&m.charAt(p-1)==="]"&&(m=+m.slice(1,p-1));var g=Ur(s,e,m);if(o&&se(o.interpolatedValue)){var h=s.getDimensionIndex(m);h>=0&&(g=o.interpolatedValue[h])}return g!=null?g+"":""})}},t.prototype.getRawValue=function(e,a){return Ur(this.getData(a),e)},t.prototype.formatTooltip=function(e,a,n){},t}();function ji(t){return new lD(t)}var lD=function(){function t(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return t.prototype.perform=function(e){var a=this._upstream,n=e&&e.skip;if(this._dirty&&a){var r=this.context;r.data=r.outputData=a.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var i;this._plan&&!n&&(i=this._plan(this.context));var o=c(this._modBy),s=this._modDataCount||0,l=c(e&&e.modBy),u=e&&e.modDataCount||0;(o!==l||s!==u)&&(i="reset");function c(_){return!(_>=1)&&(_=1),_}var d;(this._dirty||i==="reset")&&(this._dirty=!1,d=this._doReset(n)),this._modBy=l,this._modDataCount=u;var f=e&&e.step;if(a?this._dueEnd=a._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var p=this._dueIndex,m=Math.min(f!=null?this._dueIndex+f:1/0,this._dueEnd);if(!n&&(d||p<m)){var g=this._progress;if(se(g))for(var h=0;h<g.length;h++)this._doProgress(g[h],p,m,l,u);else this._doProgress(g,p,m,l,u)}this._dueIndex=m;var v=this._settedOutputEnd!=null?this._settedOutputEnd:m;this._outputDueEnd=v}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(e,a,n,r,i){Kv.reset(a,n,r,i),this._callingProgress=e,this._callingProgress({start:a,end:n,count:n-a,next:Kv.next},this.context)},t.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var a,n;!e&&this._reset&&(a=this._reset(this.context),a&&a.progress&&(n=a.forceFirstProgress,a=a.progress),se(a)&&!a.length&&(a=null)),this._progress=a,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),n},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},t}(),Kv=function(){var t,e,a,n,r,i={reset:function(l,u,c,d){e=l,t=u,a=c,n=d,r=Math.ceil(n/a),i.next=a>1&&n>0?s:o}};return i;function o(){return e<t?e++:null}function s(){var l=e%r*a+Math.ceil(e/r),u=e>=t?null:l<n?l:e;return e++,u}}();function Cs(t,e){var a=e&&e.type;return a==="ordinal"?t:(a==="time"&&!ta(t)&&t!=null&&t!=="-"&&(t=+un(t)),t==null||t===""?NaN:Number(t))}ge({number:function(t){return parseFloat(t)},time:function(t){return+un(t)},trim:function(t){return be(t)?Jt(t):t}});var uD=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(e){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(e){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(e,a){},t.prototype.retrieveValueFromItem=function(e,a){},t.prototype.convertValue=function(e,a){return Cs(e,a)},t}();function cD(t,e){var a=new uD,n=t.data,r=a.sourceFormat=t.sourceFormat,i=t.startIndex,o="";t.seriesLayoutBy!==It&&Ba(o);var s=[],l={},u=t.dimensionsDefine;if(u)q(u,function(g,h){var v=g.name,_={index:h,name:v,displayName:g.displayName};if(s.push(_),v!=null){var y="";Yi(l,v)&&Ba(y),l[v]=_}});else for(var c=0;c<t.dimensionsDetectedCount;c++)s.push({index:c});var d=m0(r,It);e.__isBuiltIn&&(a.getRawDataItem=function(g){return d(n,i,s,g)},a.getRawData=ma(dD,null,t)),a.cloneRawData=ma(fD,null,t);var f=g0(r,It);a.count=ma(f,null,n,i,s);var p=_0(r);a.retrieveValue=function(g,h){var v=d(n,i,s,g);return m(v,h)};var m=a.retrieveValueFromItem=function(g,h){if(g!=null){var v=s[h];if(v)return p(g,h,v.name)}};return a.getDimensionInfo=ma(pD,null,s,l),a.cloneAllDimensionInfo=ma(hD,null,s),a}function dD(t){var e=t.sourceFormat;if(!Hf(e)){var a="";Ba(a)}return t.data}function fD(t){var e=t.sourceFormat,a=t.data;if(!Hf(e)){var n="";Ba(n)}if(e===Pa){for(var r=[],i=0,o=a.length;i<o;i++)r.push(a[i].slice());return r}else if(e===St){for(var r=[],i=0,o=a.length;i<o;i++)r.push(ae({},a[i]));return r}}function pD(t,e,a){if(a!=null){if(ta(a)||!isNaN(a)&&!Yi(e,a))return t[a];if(Yi(e,a))return e[a]}}function hD(t){return De(t)}var y0=ge();function vD(t){t=De(t);var e=t.type,a="";e||Ba(a);var n=e.split(":");n.length!==2&&Ba(a);var r=!1;n[0]==="echarts"&&(e=n[1],r=!0),t.__isBuiltIn=r,y0.set(e,t)}function mD(t,e,a){var n=na(t),r=n.length,i="";r||Ba(i);for(var o=0,s=r;o<s;o++){var l=n[o];e=gD(l,e),o!==s-1&&(e.length=Math.max(e.length,1))}return e}function gD(t,e,a,n){var r="";e.length||Ba(r),fe(t)||Ba(r);var i=t.type,o=y0.get(i);o||Ba(r);var s=de(e,function(u){return cD(u,o)}),l=na(o.transform({upstream:s[0],upstreamList:s,config:De(t.config)}));return de(l,function(u,c){var d="";fe(u)||Ba(d),u.data||Ba(d);var f=p0(u.data);Hf(f)||Ba(d);var p,m=e[0];if(m&&c===0&&!u.dimensions){var g=m.startIndex;g&&(u.data=m.data.slice(0,g).concat(u.data)),p={seriesLayoutBy:It,sourceHeader:g,dimensions:m.metaRawOption.dimensions}}else p={seriesLayoutBy:It,sourceHeader:0,dimensions:u.dimensions};return bd(u.data,p,null)})}function Hf(t){return t===Pa||t===St}var zl="undefined",_D=typeof Uint32Array===zl?Array:Uint32Array,yD=typeof Uint16Array===zl?Array:Uint16Array,b0=typeof Int32Array===zl?Array:Int32Array,Yv=typeof Float64Array===zl?Array:Float64Array,w0={float:Yv,int:b0,ordinal:Array,number:Array,time:Yv},uc;function vi(t){return t>65535?_D:yD}function mr(){return[1/0,-1/0]}function bD(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function Xv(t,e,a,n,r){var i=w0[a||"float"];if(r){var o=t[e],s=o&&o.length;if(s!==n){for(var l=new i(n),u=0;u<s;u++)l[u]=o[u];t[e]=l}}else t[e]=new i(n)}var wd=function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=ge()}return t.prototype.initData=function(e,a,n){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=e.getSource(),i=this.defaultDimValueGetter=uc[r.sourceFormat];this._dimValueGetter=n||i,this._rawExtent=[],h0(r),this._dimensions=de(a,function(o){return{type:o.type,property:o.property}}),this._initDataFromProvider(0,e.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(e,a){var n=this._calcDimNameToIdx,r=this._dimensions,i=n.get(e);if(i!=null){if(r[i].type===a)return i}else i=r.length;return r[i]={type:a},n.set(e,i),this._chunks[i]=new w0[a||"float"](this._rawCount),this._rawExtent[i]=mr(),i},t.prototype.collectOrdinalMeta=function(e,a){var n=this._chunks[e],r=this._dimensions[e],i=this._rawExtent,o=r.ordinalOffset||0,s=n.length;o===0&&(i[e]=mr());for(var l=i[e],u=o;u<s;u++){var c=n[u]=a.parseAndCollect(n[u]);isNaN(c)||(l[0]=Math.min(c,l[0]),l[1]=Math.max(c,l[1]))}r.ordinalMeta=a,r.ordinalOffset=s,r.type="ordinal"},t.prototype.getOrdinalMeta=function(e){var a=this._dimensions[e],n=a.ordinalMeta;return n},t.prototype.getDimensionProperty=function(e){var a=this._dimensions[e];return a&&a.property},t.prototype.appendData=function(e){var a=this._provider,n=this.count();a.appendData(e);var r=a.count();return a.persistent||(r+=n),n<r&&this._initDataFromProvider(n,r,!0),[n,r]},t.prototype.appendValues=function(e,a){for(var n=this._chunks,r=this._dimensions,i=r.length,o=this._rawExtent,s=this.count(),l=s+Math.max(e.length,a||0),u=0;u<i;u++){var c=r[u];Xv(n,u,c.type,l,!0)}for(var d=[],f=s;f<l;f++)for(var p=f-s,m=0;m<i;m++){var c=r[m],g=uc.arrayRows.call(this,e[p]||d,c.property,p,m);n[m][f]=g;var h=o[m];g<h[0]&&(h[0]=g),g>h[1]&&(h[1]=g)}return this._rawCount=this._count=l,{start:s,end:l}},t.prototype._initDataFromProvider=function(e,a,n){for(var r=this._provider,i=this._chunks,o=this._dimensions,s=o.length,l=this._rawExtent,u=de(o,function(_){return _.property}),c=0;c<s;c++){var d=o[c];l[c]||(l[c]=mr()),Xv(i,c,d.type,a,n)}if(r.fillStorage)r.fillStorage(e,a,i,l);else for(var f=[],p=e;p<a;p++){f=r.getItem(p,f);for(var m=0;m<s;m++){var g=i[m],h=this._dimValueGetter(f,u[m],p,m);g[p]=h;var v=l[m];h<v[0]&&(v[0]=h),h>v[1]&&(v[1]=h)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=a,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(e,a){if(!(a>=0&&a<this._count))return NaN;var n=this._chunks[e];return n?n[this.getRawIndex(a)]:NaN},t.prototype.getValues=function(e,a){var n=[],r=[];if(a==null){a=e,e=[];for(var i=0;i<this._dimensions.length;i++)r.push(i)}else r=e;for(var i=0,o=r.length;i<o;i++)n.push(this.get(r[i],a));return n},t.prototype.getByRawIndex=function(e,a){if(!(a>=0&&a<this._rawCount))return NaN;var n=this._chunks[e];return n?n[a]:NaN},t.prototype.getSum=function(e){var a=this._chunks[e],n=0;if(a)for(var r=0,i=this.count();r<i;r++){var o=this.get(e,r);isNaN(o)||(n+=o)}return n},t.prototype.getMedian=function(e){var a=[];this.each([e],function(i){isNaN(i)||a.push(i)});var n=a.sort(function(i,o){return i-o}),r=this.count();return r===0?0:r%2===1?n[(r-1)/2]:(n[r/2]+n[r/2-1])/2},t.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var a=this._indices,n=a[e];if(n!=null&&n<this._count&&n===e)return e;for(var r=0,i=this._count-1;r<=i;){var o=(r+i)/2|0;if(a[o]<e)r=o+1;else if(a[o]>e)i=o-1;else return o}return-1},t.prototype.indicesOfNearest=function(e,a,n){var r=this._chunks,i=r[e],o=[];if(!i)return o;n==null&&(n=1/0);for(var s=1/0,l=-1,u=0,c=0,d=this.count();c<d;c++){var f=this.getRawIndex(c),p=a-i[f],m=Math.abs(p);m<=n&&((m<s||m===s&&p>=0&&l<0)&&(s=m,l=p,u=0),p===l&&(o[u++]=c))}return o.length=u,o},t.prototype.getIndices=function(){var e,a=this._indices;if(a){var n=a.constructor,r=this._count;if(n===Array){e=new n(r);for(var i=0;i<r;i++)e[i]=a[i]}else e=new n(a.buffer,0,r)}else{var n=vi(this._rawCount);e=new n(this.count());for(var i=0;i<e.length;i++)e[i]=i}return e},t.prototype.filter=function(e,a){if(!this._count)return this;for(var n=this.clone(),r=n.count(),i=vi(n._rawCount),o=new i(r),s=[],l=e.length,u=0,c=e[0],d=n._chunks,f=0;f<r;f++){var p=void 0,m=n.getRawIndex(f);if(l===0)p=a(f);else if(l===1){var g=d[c][m];p=a(g,f)}else{for(var h=0;h<l;h++)s[h]=d[e[h]][m];s[h]=f,p=a.apply(null,s)}p&&(o[u++]=m)}return u<r&&(n._indices=o),n._count=u,n._extent=[],n._updateGetRawIdx(),n},t.prototype.selectRange=function(e){var a=this.clone(),n=a._count;if(!n)return this;var r=Xe(e),i=r.length;if(!i)return this;var o=a.count(),s=vi(a._rawCount),l=new s(o),u=0,c=r[0],d=e[c][0],f=e[c][1],p=a._chunks,m=!1;if(!a._indices){var g=0;if(i===1){for(var h=p[r[0]],v=0;v<n;v++){var _=h[v];(_>=d&&_<=f||isNaN(_))&&(l[u++]=g),g++}m=!0}else if(i===2){for(var h=p[r[0]],y=p[r[1]],x=e[r[1]][0],E=e[r[1]][1],v=0;v<n;v++){var _=h[v],w=y[v];(_>=d&&_<=f||isNaN(_))&&(w>=x&&w<=E||isNaN(w))&&(l[u++]=g),g++}m=!0}}if(!m)if(i===1)for(var v=0;v<o;v++){var A=a.getRawIndex(v),_=p[r[0]][A];(_>=d&&_<=f||isNaN(_))&&(l[u++]=A)}else for(var v=0;v<o;v++){for(var S=!0,A=a.getRawIndex(v),k=0;k<i;k++){var b=r[k],_=p[b][A];(_<e[b][0]||_>e[b][1])&&(S=!1)}S&&(l[u++]=a.getRawIndex(v))}return u<o&&(a._indices=l),a._count=u,a._extent=[],a._updateGetRawIdx(),a},t.prototype.map=function(e,a){var n=this.clone(e);return this._updateDims(n,e,a),n},t.prototype.modify=function(e,a){this._updateDims(this,e,a)},t.prototype._updateDims=function(e,a,n){for(var r=e._chunks,i=[],o=a.length,s=e.count(),l=[],u=e._rawExtent,c=0;c<a.length;c++)u[a[c]]=mr();for(var d=0;d<s;d++){for(var f=e.getRawIndex(d),p=0;p<o;p++)l[p]=r[a[p]][f];l[o]=d;var m=n&&n.apply(null,l);if(m!=null){typeof m!="object"&&(i[0]=m,m=i);for(var c=0;c<m.length;c++){var g=a[c],h=m[c],v=u[g],_=r[g];_&&(_[f]=h),h<v[0]&&(v[0]=h),h>v[1]&&(v[1]=h)}}}},t.prototype.lttbDownSample=function(e,a){var n=this.clone([e],!0),r=n._chunks,i=r[e],o=this.count(),s=0,l=Math.floor(1/a),u=this.getRawIndex(0),c,d,f,p=new(vi(this._rawCount))(Math.min((Math.ceil(o/l)+2)*2,o));p[s++]=u;for(var m=1;m<o-1;m+=l){for(var g=Math.min(m+l,o-1),h=Math.min(m+l*2,o),v=(h+g)/2,_=0,y=g;y<h;y++){var x=this.getRawIndex(y),E=i[x];isNaN(E)||(_+=E)}_/=h-g;var w=m,A=Math.min(m+l,o),S=m-1,k=i[u];c=-1,f=w;for(var b=-1,M=0,y=w;y<A;y++){var x=this.getRawIndex(y),E=i[x];if(isNaN(E)){M++,b<0&&(b=x);continue}d=Math.abs((S-v)*(E-k)-(S-y)*(_-k)),d>c&&(c=d,f=x)}M>0&&M<A-w&&(p[s++]=Math.min(b,f),f=Math.max(b,f)),p[s++]=f,u=f}return p[s++]=this.getRawIndex(o-1),n._count=s,n._indices=p,n.getRawIndex=this._getRawIdx,n},t.prototype.downSample=function(e,a,n,r){for(var i=this.clone([e],!0),o=i._chunks,s=[],l=Math.floor(1/a),u=o[e],c=this.count(),d=i._rawExtent[e]=mr(),f=new(vi(this._rawCount))(Math.ceil(c/l)),p=0,m=0;m<c;m+=l){l>c-m&&(l=c-m,s.length=l);for(var g=0;g<l;g++){var h=this.getRawIndex(m+g);s[g]=u[h]}var v=n(s),_=this.getRawIndex(Math.min(m+r(s,v)||0,c-1));u[_]=v,v<d[0]&&(d[0]=v),v>d[1]&&(d[1]=v),f[p++]=_}return i._count=p,i._indices=f,i._updateGetRawIdx(),i},t.prototype.each=function(e,a){if(this._count)for(var n=e.length,r=this._chunks,i=0,o=this.count();i<o;i++){var s=this.getRawIndex(i);switch(n){case 0:a(i);break;case 1:a(r[e[0]][s],i);break;case 2:a(r[e[0]][s],r[e[1]][s],i);break;default:for(var l=0,u=[];l<n;l++)u[l]=r[e[l]][s];u[l]=i,a.apply(null,u)}}},t.prototype.getDataExtent=function(e){var a=this._chunks[e],n=mr();if(!a)return n;var r=this.count(),i=!this._indices,o;if(i)return this._rawExtent[e].slice();if(o=this._extent[e],o)return o.slice();o=n;for(var s=o[0],l=o[1],u=0;u<r;u++){var c=this.getRawIndex(u),d=a[c];d<s&&(s=d),d>l&&(l=d)}return o=[s,l],this._extent[e]=o,o},t.prototype.getRawDataItem=function(e){var a=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(a);for(var n=[],r=this._chunks,i=0;i<r.length;i++)n.push(r[i][a]);return n},t.prototype.clone=function(e,a){var n=new t,r=this._chunks,i=e&&Wr(e,function(s,l){return s[l]=!0,s},{});if(i)for(var o=0;o<r.length;o++)n._chunks[o]=i[o]?bD(r[o]):r[o];else n._chunks=r;return this._copyCommonProps(n),a||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},t.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=De(this._extent),e._rawExtent=De(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,a=void 0;if(e===Array){var n=this._indices.length;a=new e(n);for(var r=0;r<n;r++)a[r]=this._indices[r]}else a=new e(this._indices);return a}return null},t.prototype._getRawIdxIdentity=function(e){return e},t.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=function(){function e(a,n,r,i){return Cs(a[i],this._dimensions[i])}uc={arrayRows:e,objectRows:function(a,n,r,i){return Cs(a[n],this._dimensions[i])},keyedColumns:e,original:function(a,n,r,i){var o=a&&(a.value==null?a:a.value);return Cs(o instanceof Array?o[i]:o,this._dimensions[i])},typedArray:function(a,n,r,i){return a[i]}}}(),t}(),wD=function(){function t(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(e,a){this._sourceList=e,this._upstreamSignList=a,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,a=this._getUpstreamSourceManagers(),n=!!a.length,r,i;if(Yo(e)){var o=e,s=void 0,l=void 0,u=void 0;if(n){var c=a[0];c.prepareSource(),u=c.getSource(),s=u.data,l=u.sourceFormat,i=[c._getVersionSign()]}else s=o.get("data",!0),l=Da(s)?rn:Ja,i=[];var d=this._getSourceMetaRawOption()||{},f=u&&u.metaRawOption||{},p=Ae(d.seriesLayoutBy,f.seriesLayoutBy)||null,m=Ae(d.sourceHeader,f.sourceHeader),g=Ae(d.dimensions,f.dimensions),h=p!==f.seriesLayoutBy||!!m!=!!f.sourceHeader||g;r=h?[bd(s,{seriesLayoutBy:p,sourceHeader:m,dimensions:g},l)]:[]}else{var v=e;if(n){var _=this._applyTransform(a);r=_.sourceList,i=_.upstreamSignList}else{var y=v.get("source",!0);r=[bd(y,this._getSourceMetaRawOption(),null)],i=[]}}this._setLocalSource(r,i)},t.prototype._applyTransform=function(e){var a=this._sourceHost,n=a.get("transform",!0),r=a.get("fromTransformResult",!0);if(r!=null){var i="";e.length!==1&&Zv(i)}var o,s=[],l=[];return q(e,function(u){u.prepareSource();var c=u.getSource(r||0),d="";r!=null&&!c&&Zv(d),s.push(c),l.push(u._getVersionSign())}),n?o=mD(n,s,{datasetIndex:a.componentIndex}):r!=null&&(o=[eD(s[0])]),{sourceList:o,upstreamSignList:l}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),a=0;a<e.length;a++){var n=e[a];if(n._isDirty()||this._upstreamSignList[a]!==n._getVersionSign())return!0}},t.prototype.getSource=function(e){e=e||0;var a=this._sourceList[e];if(!a){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(e)}return a},t.prototype.getSharedDataStore=function(e){var a=e.makeStoreSchema();return this._innerGetDataStore(a.dimensions,e.source,a.hash)},t.prototype._innerGetDataStore=function(e,a,n){var r=0,i=this._storeList,o=i[r];o||(o=i[r]={});var s=o[n];if(!s){var l=this._getUpstreamSourceManagers()[0];Yo(this._sourceHost)&&l?s=l._innerGetDataStore(e,a,n):(s=new wd,s.initData(new v0(a,e.length),e)),o[n]=s}return s},t.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(Yo(e)){var a=s0(e);return a?[a.getSourceManager()]:[]}else return de(kM(e),function(n){return n.getSourceManager()})},t.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,a,n,r;if(Yo(e))a=e.get("seriesLayoutBy",!0),n=e.get("sourceHeader",!0),r=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var i=e;a=i.get("seriesLayoutBy",!0),n=i.get("sourceHeader",!0),r=i.get("dimensions",!0)}return{seriesLayoutBy:a,sourceHeader:n,dimensions:r}},t}();function Yo(t){return t.mainType==="series"}function Zv(t){throw new Error(t)}function xd(t,e){return e.type=t,e}function xD(t,e){var a=t.getData().getItemVisual(e,"style"),n=a[t.visualDrawType];return yd(n)}function SD(t){var e=t.series,a=t.dataIndex,n=t.multipleSeries,r=e.getData(),i=r.mapDimensionsAll("defaultedTooltip"),o=i.length,s=e.getRawValue(a),l=se(s),u=xD(e,a),c,d,f,p;if(o>1||l&&!o){var m=CD(s,e,a,i,u);c=m.inlineValues,d=m.inlineValueTypes,f=m.blocks,p=m.inlineValues[0]}else if(o){var g=r.getDimensionInfo(i[0]);p=c=Ur(r,a,i[0]),d=g.type}else p=c=l?s[0]:s;var h=ey(e),v=h&&e.name||"",_=r.getName(a),y=n?v:_;return xd("section",{header:v,noHeader:n||!h,sortParam:p,blocks:[xd("nameValue",{markerType:"item",markerColor:u,name:y,noName:!Jt(y),value:c,valueType:d,dataIndex:a})].concat(f||[])})}function CD(t,e,a,n,r){var i=e.getData(),o=Wr(t,function(d,f,p){var m=i.getDimensionInfo(p);return d=d||m&&m.tooltip!==!1&&m.displayName!=null},!1),s=[],l=[],u=[];n.length?q(n,function(d){c(Ur(i,a,d),d)}):q(t,c);function c(d,f){var p=i.getDimensionInfo(f);!p||p.otherDims.tooltip===!1||(o?u.push(xd("nameValue",{markerType:"subItem",markerColor:r,name:p.displayName,value:d,valueType:p.type})):(s.push(d),l.push(p.type)))}return{inlineValues:s,inlineValueTypes:l,blocks:u}}var Ut=ia();function Xo(t,e){return t.getName(e)||t.getId(e)}var As="__universalTransitionEnabled",fn=function(t){qe(e,t);function e(){var a=t!==null&&t.apply(this,arguments)||this;return a._selectedDataIndicesMap={},a}return e.prototype.init=function(a,n,r){this.seriesIndex=this.componentIndex,this.dataTask=ji({count:TD,reset:ED}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(a,r);var i=Ut(this).sourceManager=new wD(this);i.prepareSource();var o=this.getInitialData(a,r);Jv(o,this),this.dataTask.context.data=o,Ut(this).dataBeforeProcessed=o,Qv(this),this._initSelectedMapFromData(o)},e.prototype.mergeDefaultAndTheme=function(a,n){var r=ao(this),i=r?Nf(a):{},o=this.subType;Fe.hasClass(o)&&(o+="Series"),Ve(a,n.getTheme().get(this.subType)),Ve(a,this.getDefaultOption()),Oh(a,"label",["show"]),this.fillDataTextStyle(a.data),r&&to(a,i,r)},e.prototype.mergeOption=function(a,n){a=Ve(this.option,a,!0),this.fillDataTextStyle(a.data);var r=ao(this);r&&to(this.option,a,r);var i=Ut(this).sourceManager;i.dirty(),i.prepareSource();var o=this.getInitialData(a,n);Jv(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,Ut(this).dataBeforeProcessed=o,Qv(this),this._initSelectedMapFromData(o)},e.prototype.fillDataTextStyle=function(a){if(a&&!Da(a))for(var n=["show"],r=0;r<a.length;r++)a[r]&&a[r].label&&Oh(a[r],"label",n)},e.prototype.getInitialData=function(a,n){},e.prototype.appendData=function(a){var n=this.getRawData();n.appendData(a.data)},e.prototype.getData=function(a){var n=Sd(this);if(n){var r=n.context.data;return a==null||!r.getLinkedData?r:r.getLinkedData(a)}else return Ut(this).data},e.prototype.getAllData=function(){var a=this.getData();return a&&a.getLinkedDataAll?a.getLinkedDataAll():[{data:a}]},e.prototype.setData=function(a){var n=Sd(this);if(n){var r=n.context;r.outputData=a,n!==this.dataTask&&(r.data=a)}Ut(this).data=a},e.prototype.getEncode=function(){var a=this.get("encode",!0);if(a)return ge(a)},e.prototype.getSourceManager=function(){return Ut(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return Ut(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var a=this.get("colorBy");return a||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var a=this.coordinateSystem;return a&&a.getBaseAxis&&a.getBaseAxis()},e.prototype.formatTooltip=function(a,n,r){return SD({series:this,dataIndex:a,multipleSeries:n})},e.prototype.isAnimationEnabled=function(){var a=this.ecModel;if(ke.node&&!(a&&a.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(a,n,r){var i=this.ecModel,o=Vf.prototype.getColorFromPalette.call(this,a,n,r);return o||(o=i.getColorFromPalette(a,n,r)),o},e.prototype.coordDimToDataDim=function(a){return this.getRawData().mapDimensionsAll(a)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(a,n){this._innerSelect(this.getData(n),a)},e.prototype.unselect=function(a,n){var r=this.option.selectedMap;if(r){var i=this.option.selectedMode,o=this.getData(n);if(i==="series"||r==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<a.length;s++){var l=a[s],u=Xo(o,l);r[u]=!1,this._selectedDataIndicesMap[u]=-1}}},e.prototype.toggleSelect=function(a,n){for(var r=[],i=0;i<a.length;i++)r[0]=a[i],this.isSelected(a[i],n)?this.unselect(r,n):this.select(r,n)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var a=this._selectedDataIndicesMap,n=Xe(a),r=[],i=0;i<n.length;i++){var o=a[n[i]];o>=0&&r.push(o)}return r},e.prototype.isSelected=function(a,n){var r=this.option.selectedMap;if(!r)return!1;var i=this.getData(n);return(r==="all"||r[Xo(i,a)])&&!i.getItemModel(a).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[As])return!0;var a=this.option.universalTransition;return a?a===!0?!0:a&&a.enabled:!1},e.prototype._innerSelect=function(a,n){var r,i,o=this.option,s=o.selectedMode,l=n.length;if(!(!s||!l)){if(s==="series")o.selectedMap="all";else if(s==="multiple"){fe(o.selectedMap)||(o.selectedMap={});for(var u=o.selectedMap,c=0;c<l;c++){var d=n[c],f=Xo(a,d);u[f]=!0,this._selectedDataIndicesMap[f]=a.getRawIndex(d)}}else if(s==="single"||s===!0){var p=n[l-1],f=Xo(a,p);o.selectedMap=(r={},r[f]=!0,r),this._selectedDataIndicesMap=(i={},i[f]=a.getRawIndex(p),i)}}},e.prototype._initSelectedMapFromData=function(a){if(!this.option.selectedMap){var n=[];a.hasItemOption&&a.each(function(r){var i=a.getRawDataItem(r);i&&i.selected&&n.push(r)}),n.length>0&&this._innerSelect(a,n)}},e.registerClass=function(a){return Fe.registerClass(a)},e.protoInitialize=function(){var a=e.prototype;a.type="series.__base__",a.seriesIndex=0,a.ignoreStyleOnData=!1,a.hasSymbolVisual=!1,a.defaultSymbol="circle",a.visualStyleAccessPath="itemStyle",a.visualDrawType="fill"}(),e}(Fe);wt(fn,sD);wt(fn,Vf);ry(fn,Fe);function Qv(t){var e=t.name;ey(t)||(t.name=AD(t)||e)}function AD(t){var e=t.getRawData(),a=e.mapDimensionsAll("seriesName"),n=[];return q(a,function(r){var i=e.getDimensionInfo(r);i.displayName&&n.push(i.displayName)}),n.join(" ")}function TD(t){return t.model.getRawData().count()}function ED(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),kD}function kD(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function Jv(t,e){q(eA(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),function(a){t.wrapMethod(a,Xa(MD,e))})}function MD(t,e){var a=Sd(t);return a&&a.setOutputEnd((e||this).count()),e}function Sd(t){var e=(t.ecModel||{}).scheduler,a=e&&e.getPipeline(t.uid);if(a){var n=a.currentTask;if(n){var r=n.agentStubMap;r&&(n=r.get(t.uid))}return n}}var pn=function(){function t(){this.group=new La,this.uid=Pl("viewComponent")}return t.prototype.init=function(e,a){},t.prototype.render=function(e,a,n,r){},t.prototype.dispose=function(e,a){},t.prototype.updateView=function(e,a,n,r){},t.prototype.updateLayout=function(e,a,n,r){},t.prototype.updateVisual=function(e,a,n,r){},t.prototype.toggleBlurSeries=function(e,a,n){},t.prototype.eachRendered=function(e){var a=this.group;a&&a.traverse(e)},t}();yf(pn);wl(pn);function x0(){var t=ia();return function(e){var a=t(e),n=e.pipelineContext,r=!!a.large,i=!!a.progressiveRender,o=a.large=!!(n&&n.large),s=a.progressiveRender=!!(n&&n.progressiveRender);return(r!==o||i!==s)&&"reset"}}var S0=ia(),DD=x0(),gt=function(){function t(){this.group=new La,this.uid=Pl("viewChart"),this.renderTask=ji({plan:LD,reset:PD}),this.renderTask.context={view:this}}return t.prototype.init=function(e,a){},t.prototype.render=function(e,a,n,r){},t.prototype.highlight=function(e,a,n,r){var i=e.getData(r&&r.dataType);i&&em(i,r,"emphasis")},t.prototype.downplay=function(e,a,n,r){var i=e.getData(r&&r.dataType);i&&em(i,r,"normal")},t.prototype.remove=function(e,a){this.group.removeAll()},t.prototype.dispose=function(e,a){},t.prototype.updateView=function(e,a,n,r){this.render(e,a,n,r)},t.prototype.updateLayout=function(e,a,n,r){this.render(e,a,n,r)},t.prototype.updateVisual=function(e,a,n,r){this.render(e,a,n,r)},t.prototype.eachRendered=function(e){Pf(this.group,e)},t.markUpdateMethod=function(e,a){S0(e).updateMethod=a},t.protoInitialize=function(){var e=t.prototype;e.type="chart"}(),t}();function $v(t,e,a){t&&vd(t)&&(e==="emphasis"?Gs:Hs)(t,a)}function em(t,e,a){var n=$n(t,e),r=e&&e.highlightKey!=null?nk(e.highlightKey):null;n!=null?q(na(n),function(i){$v(t.getItemGraphicEl(i),a,r)}):t.eachItemGraphicEl(function(i){$v(i,a,r)})}yf(gt);wl(gt);function LD(t){return DD(t.model)}function PD(t){var e=t.model,a=t.ecModel,n=t.api,r=t.payload,i=e.pipelineContext.progressiveRender,o=t.view,s=r&&S0(r).updateMethod,l=i?"incrementalPrepareRender":s&&o[s]?s:"render";return l!=="render"&&o[l](e,a,n,r),qD[l]}var qD={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},Qs="\0__throttleOriginMethod",am="\0__throttleRate",tm="\0__throttleType";function C0(t,e,a){var n,r=0,i=0,o=null,s,l,u,c;e=e||0;function d(){i=new Date().getTime(),o=null,t.apply(l,u||[])}var f=function(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];n=new Date().getTime(),l=this,u=p;var g=c||e,h=c||a;c=null,s=n-(h?r:i)-g,clearTimeout(o),h?o=setTimeout(d,g):s>=0?d():o=setTimeout(d,-s),r=n};return f.clear=function(){o&&(clearTimeout(o),o=null)},f.debounceNextCall=function(p){c=p},f}function ID(t,e,a,n){var r=t[e];if(r){var i=r[Qs]||r,o=r[tm],s=r[am];if(s!==a||o!==n){if(a==null||!n)return t[e]=i;r=t[e]=C0(i,a,n==="debounce"),r[Qs]=i,r[tm]=n,r[am]=a}return r}}function RD(t,e){var a=t[e];a&&a[Qs]&&(a.clear&&a.clear(),t[e]=a[Qs])}var nm=ia(),rm={itemStyle:Qi(Uy,!0),lineStyle:Qi(Fy,!0)},OD={lineStyle:"stroke",itemStyle:"fill"};function A0(t,e){var a=t.visualStyleMapper||rm[e];return a||(console.warn("Unknown style type '"+e+"'."),rm.itemStyle)}function T0(t,e){var a=t.visualDrawType||OD[e];return a||(console.warn("Unknown style type '"+e+"'."),"fill")}var BD={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var a=t.getData(),n=t.visualStyleAccessPath||"itemStyle",r=t.getModel(n),i=A0(t,n),o=i(r),s=r.getShallow("decal");s&&(a.setVisual("decal",s),s.dirty=!0);var l=T0(t,n),u=o[l],c=we(u)?u:null,d=o.fill==="auto"||o.stroke==="auto";if(!o[l]||c||d){var f=t.getColorFromPalette(t.name,null,e.getSeriesCount());o[l]||(o[l]=f,a.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||we(o.fill)?f:o.fill,o.stroke=o.stroke==="auto"||we(o.stroke)?f:o.stroke}if(a.setVisual("style",o),a.setVisual("drawType",l),!e.isSeriesFiltered(t)&&c)return a.setVisual("colorFromPalette",!1),{dataEach:function(p,m){var g=t.getDataParams(m),h=ae({},o);h[l]=c(g),p.setItemVisual(m,"style",h)}}}},mi=new ca,zD={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!(t.ignoreStyleOnData||e.isSeriesFiltered(t))){var a=t.getData(),n=t.visualStyleAccessPath||"itemStyle",r=A0(t,n),i=a.getVisual("drawType");return{dataEach:a.hasItemOption?function(o,s){var l=o.getRawDataItem(s);if(l&&l[n]){mi.option=l[n];var u=r(mi),c=o.ensureUniqueItemVisual(s,"style");ae(c,u),mi.option.decal&&(o.setItemVisual(s,"decal",mi.option.decal),mi.option.decal.dirty=!0),i in u&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},ND={performRawSeries:!0,overallReset:function(t){var e=ge();t.eachSeries(function(a){var n=a.getColorBy();if(!a.isColorBySeries()){var r=a.type+"-"+n,i=e.get(r);i||(i={},e.set(r,i)),nm(a).scope=i}}),t.eachSeries(function(a){if(!(a.isColorBySeries()||t.isSeriesFiltered(a))){var n=a.getRawData(),r={},i=a.getData(),o=nm(a).scope,s=a.visualStyleAccessPath||"itemStyle",l=T0(a,s);i.each(function(u){var c=i.getRawIndex(u);r[c]=u}),n.each(function(u){var c=r[u],d=i.getItemVisual(c,"colorFromPalette");if(d){var f=i.ensureUniqueItemVisual(c,"style"),p=n.getName(u)||u+"",m=n.count();f[l]=a.getColorFromPalette(p,o,m)}})}})}},Zo=Math.PI;function VD(t,e){e=e||{},Se(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var a=new La,n=new ka({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});a.add(n);var r=new yt({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),i=new ka({style:{fill:"none"},textContent:r,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});a.add(i);var o;return e.showSpinner&&(o=new Ml({shape:{startAngle:-Zo/2,endAngle:-Zo/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:Zo*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:Zo*3/2}).delay(300).start("circularInOut"),a.add(o)),a.resize=function(){var s=r.getBoundingRect().width,l=e.showSpinner?e.spinnerRadius:0,u=(t.getWidth()-l*2-(e.showSpinner&&s?10:0)-s)/2-(e.showSpinner&&s?0:5+s/2)+(e.showSpinner?0:s/2)+(s?0:l),c=t.getHeight()/2;e.showSpinner&&o.setShape({cx:u,cy:c}),i.setShape({x:u-l,y:c-l,width:l*2,height:l*2}),n.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},a.resize(),a}var E0=function(){function t(e,a,n,r){this._stageTaskMap=ge(),this.ecInstance=e,this.api=a,n=this._dataProcessorHandlers=n.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=n.concat(r)}return t.prototype.restoreData=function(e,a){e.restoreData(a),this._stageTaskMap.each(function(n){var r=n.overallTask;r&&r.dirty()})},t.prototype.getPerformArgs=function(e,a){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),r=n.context,i=!a&&n.progressiveEnabled&&(!r||r.progressiveRender)&&e.__idxInPipeline>n.blockIndex,o=i?n.step:null,s=r&&r.modDataCount,l=s!=null?Math.ceil(s/o):null;return{step:o,modBy:l,modDataCount:s}}},t.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},t.prototype.updateStreamModes=function(e,a){var n=this._pipelineMap.get(e.uid),r=e.getData(),i=r.count(),o=n.progressiveEnabled&&a.incrementalPrepareRender&&i>=n.threshold,s=e.get("large")&&i>=e.get("largeThreshold"),l=e.get("progressiveChunkMode")==="mod"?i:null;e.pipelineContext=n.context={progressiveRender:o,modDataCount:l,large:s}},t.prototype.restorePipelines=function(e){var a=this,n=a._pipelineMap=ge();e.eachSeries(function(r){var i=r.getProgressive(),o=r.uid;n.set(o,{id:o,head:null,tail:null,threshold:r.getProgressiveThreshold(),progressiveEnabled:i&&!(r.preventIncremental&&r.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),a._pipe(r,r.dataTask)})},t.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,a=this.api.getModel(),n=this.api;q(this._allHandlers,function(r){var i=e.get(r.uid)||e.set(r.uid,{}),o="";sn(!(r.reset&&r.overallReset),o),r.reset&&this._createSeriesStageTask(r,i,a,n),r.overallReset&&this._createOverallStageTask(r,i,a,n)},this)},t.prototype.prepareView=function(e,a,n,r){var i=e.renderTask,o=i.context;o.model=a,o.ecModel=n,o.api=r,i.__block=!e.incrementalPrepareRender,this._pipe(a,i)},t.prototype.performDataProcessorTasks=function(e,a){this._performStageTasks(this._dataProcessorHandlers,e,a,{block:!0})},t.prototype.performVisualTasks=function(e,a,n){this._performStageTasks(this._visualHandlers,e,a,n)},t.prototype._performStageTasks=function(e,a,n,r){r=r||{};var i=!1,o=this;q(e,function(l,u){if(!(r.visualType&&r.visualType!==l.visualType)){var c=o._stageTaskMap.get(l.uid),d=c.seriesTaskMap,f=c.overallTask;if(f){var p,m=f.agentStubMap;m.each(function(h){s(r,h)&&(h.dirty(),p=!0)}),p&&f.dirty(),o.updatePayload(f,n);var g=o.getPerformArgs(f,r.block);m.each(function(h){h.perform(g)}),f.perform(g)&&(i=!0)}else d&&d.each(function(h,v){s(r,h)&&h.dirty();var _=o.getPerformArgs(h,r.block);_.skip=!l.performRawSeries&&a.isSeriesFiltered(h.context.model),o.updatePayload(h,n),h.perform(_)&&(i=!0)})}});function s(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=i||this.unfinished},t.prototype.performSeriesTasks=function(e){var a;e.eachSeries(function(n){a=n.dataTask.perform()||a}),this.unfinished=a||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each(function(e){var a=e.tail;do{if(a.__block){e.blockIndex=a.__idxInPipeline;break}a=a.getUpstream()}while(a)})},t.prototype.updatePayload=function(e,a){a!=="remain"&&(e.context.payload=a)},t.prototype._createSeriesStageTask=function(e,a,n,r){var i=this,o=a.seriesTaskMap,s=a.seriesTaskMap=ge(),l=e.seriesType,u=e.getTargetSeries;e.createOnAllSeries?n.eachRawSeries(c):l?n.eachRawSeriesByType(l,c):u&&u(n,r).each(c);function c(d){var f=d.uid,p=s.set(f,o&&o.get(f)||ji({plan:HD,reset:WD,count:YD}));p.context={model:d,ecModel:n,api:r,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:i},i._pipe(d,p)}},t.prototype._createOverallStageTask=function(e,a,n,r){var i=this,o=a.overallTask=a.overallTask||ji({reset:jD});o.context={ecModel:n,api:r,overallReset:e.overallReset,scheduler:i};var s=o.agentStubMap,l=o.agentStubMap=ge(),u=e.seriesType,c=e.getTargetSeries,d=!0,f=!1,p="";sn(!e.createOnAllSeries,p),u?n.eachRawSeriesByType(u,m):c?c(n,r).each(m):(d=!1,q(n.getSeries(),m));function m(g){var h=g.uid,v=l.set(h,s&&s.get(h)||(f=!0,ji({reset:FD,onDirty:GD})));v.context={model:g,overallProgress:d},v.agent=o,v.__block=d,i._pipe(g,v)}f&&o.dirty()},t.prototype._pipe=function(e,a){var n=e.uid,r=this._pipelineMap.get(n);!r.head&&(r.head=a),r.tail&&r.tail.pipe(a),r.tail=a,a.__idxInPipeline=r.count++,a.__pipeline=r},t.wrapStageHandler=function(e,a){return we(e)&&(e={overallReset:e,seriesType:XD(e)}),e.uid=Pl("stageHandler"),a&&(e.visualType=a),e},t}();function jD(t){t.overallReset(t.ecModel,t.api,t.payload)}function FD(t){return t.overallProgress&&UD}function UD(){this.agent.dirty(),this.getDownstream().dirty()}function GD(){this.agent&&this.agent.dirty()}function HD(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function WD(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=na(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?de(e,function(a,n){return k0(n)}):KD}var KD=k0(0);function k0(t){return function(e,a){var n=a.data,r=a.resetDefines[t];if(r&&r.dataEach)for(var i=e.start;i<e.end;i++)r.dataEach(n,i);else r&&r.progress&&r.progress(e,n)}}function YD(t){return t.data.count()}function XD(t){Js=null;try{t(ro,M0)}catch{}return Js}var ro={},M0={},Js;D0(ro,jf);D0(M0,u0);ro.eachSeriesByType=ro.eachRawSeriesByType=function(t){Js=t};ro.eachComponent=function(t){t.mainType==="series"&&t.subType&&(Js=t.subType)};function D0(t,e){for(var a in e.prototype)t[a]=Za}var im=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const ZD={color:im,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],im]};var ga="#B9B8CE",om="#100C2A",Qo=function(){return{axisLine:{lineStyle:{color:ga}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},sm=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],L0={darkMode:!0,color:sm,backgroundColor:om,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:ga}},textStyle:{color:ga},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:ga}},dataZoom:{borderColor:"#71708A",textStyle:{color:ga},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:ga}},timeline:{lineStyle:{color:ga},label:{color:ga},controlStyle:{color:ga,borderColor:ga}},calendar:{itemStyle:{color:om},dayLabel:{color:ga},monthLabel:{color:ga},yearLabel:{color:ga}},timeAxis:Qo(),logAxis:Qo(),valueAxis:Qo(),categoryAxis:Qo(),line:{symbol:"circle"},graph:{color:sm},gauge:{title:{color:ga},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:ga},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};L0.categoryAxis.splitLine.show=!1;var QD=function(){function t(){}return t.prototype.normalizeQuery=function(e){var a={},n={},r={};if(be(e)){var i=vt(e);a.mainType=i.main||null,a.subType=i.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};q(e,function(l,u){for(var c=!1,d=0;d<o.length;d++){var f=o[d],p=u.lastIndexOf(f);if(p>0&&p===u.length-f.length){var m=u.slice(0,p);m!=="data"&&(a.mainType=m,a[f.toLowerCase()]=l,c=!0)}}s.hasOwnProperty(u)&&(n[u]=l,c=!0),c||(r[u]=l)})}return{cptQuery:a,dataQuery:n,otherQuery:r}},t.prototype.filter=function(e,a){var n=this.eventInfo;if(!n)return!0;var r=n.targetEl,i=n.packedEvent,o=n.model,s=n.view;if(!o||!s)return!0;var l=a.cptQuery,u=a.dataQuery;return c(l,o,"mainType")&&c(l,o,"subType")&&c(l,o,"index","componentIndex")&&c(l,o,"name")&&c(l,o,"id")&&c(u,i,"name")&&c(u,i,"dataIndex")&&c(u,i,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,a.otherQuery,r,i));function c(d,f,p,m){return d[p]==null||f[m||p]===d[p]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),Cd=["symbol","symbolSize","symbolRotate","symbolOffset"],lm=Cd.concat(["symbolKeepAspect"]),JD={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var a=t.getData();if(t.legendIcon&&a.setVisual("legendIcon",t.legendIcon),!t.hasSymbolVisual)return;for(var n={},r={},i=!1,o=0;o<Cd.length;o++){var s=Cd[o],l=t.get(s);we(l)?(i=!0,r[s]=l):n[s]=l}if(n.symbol=n.symbol||t.defaultSymbol,a.setVisual(ae({legendIcon:t.legendIcon||n.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},n)),e.isSeriesFiltered(t))return;var u=Xe(r);function c(d,f){for(var p=t.getRawValue(f),m=t.getDataParams(f),g=0;g<u.length;g++){var h=u[g];d.setItemVisual(f,h,r[h](p,m))}}return{dataEach:i?c:null}}},$D={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.hasSymbolVisual||e.isSeriesFiltered(t))return;var a=t.getData();function n(r,i){for(var o=r.getItemModel(i),s=0;s<lm.length;s++){var l=lm[s],u=o.getShallow(l,!0);u!=null&&r.setItemVisual(i,l,u)}}return{dataEach:a.hasItemOption?n:null}}};function eL(t,e,a){switch(a){case"color":var n=t.getItemVisual(e,"style");return n[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,a)}}function aL(t,e){switch(e){case"color":var a=t.getVisual("style");return a[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e)}}function gr(t,e,a,n,r){var i=t+e;a.isSilent(i)||n.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,l=o.option.selectedMap,u=r.selected,c=0;c<u.length;c++)if(u[c].seriesIndex===s){var d=o.getData(),f=$n(d,r.fromActionPayload);a.trigger(i,{type:i,seriesId:o.id,name:se(f)?d.getName(f[0]):d.getName(f),selected:be(l)?l:ae({},l)})}})}function tL(t,e,a){t.on("selectchanged",function(n){var r=a.getModel();n.isFromClick?(gr("map","selectchanged",e,r,n),gr("pie","selectchanged",e,r,n)):n.fromAction==="select"?(gr("map","selected",e,r,n),gr("pie","selected",e,r,n)):n.fromAction==="unselect"&&(gr("map","unselected",e,r,n),gr("pie","unselected",e,r,n))})}function Jo(t,e,a){for(var n;t&&!(e(t)&&(n=t,a));)t=t.__hostTarget||t.parent;return n}var nL=Math.round(Math.random()*9),rL=typeof Object.defineProperty=="function",iL=function(){function t(){this._id="__ec_inner_"+nL++}return t.prototype.get=function(e){return this._guard(e)[this._id]},t.prototype.set=function(e,a){var n=this._guard(e);return rL?Object.defineProperty(n,this._id,{value:a,enumerable:!1,configurable:!0}):n[this._id]=a,this},t.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},t.prototype.has=function(e){return!!this._guard(e)[this._id]},t.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},t}(),oL=Ee.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var a=e.cx,n=e.cy,r=e.width/2,i=e.height/2;t.moveTo(a,n-i),t.lineTo(a+r,n+i),t.lineTo(a-r,n+i),t.closePath()}}),sL=Ee.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var a=e.cx,n=e.cy,r=e.width/2,i=e.height/2;t.moveTo(a,n-i),t.lineTo(a+r,n),t.lineTo(a,n+i),t.lineTo(a-r,n),t.closePath()}}),lL=Ee.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var a=e.x,n=e.y,r=e.width/5*3,i=Math.max(r,e.height),o=r/2,s=o*o/(i-o),l=n-i+o+s,u=Math.asin(s/o),c=Math.cos(u)*o,d=Math.sin(u),f=Math.cos(u),p=o*.6,m=o*.7;t.moveTo(a-c,l+s),t.arc(a,l,o,Math.PI-u,Math.PI*2+u),t.bezierCurveTo(a+c-d*p,l+s+f*p,a,n-m,a,n),t.bezierCurveTo(a,n-m,a-c+d*p,l+s+f*p,a-c,l+s),t.closePath()}}),uL=Ee.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var a=e.height,n=e.width,r=e.x,i=e.y,o=n/3*2;t.moveTo(r,i),t.lineTo(r+o,i+a),t.lineTo(r,i+a/4*3),t.lineTo(r-o,i+a),t.lineTo(r,i),t.closePath()}}),cL={line:dn,rect:ka,roundRect:ka,square:ka,circle:El,diamond:sL,pin:lL,arrow:uL,triangle:oL},dL={line:function(t,e,a,n,r){r.x1=t,r.y1=e+n/2,r.x2=t+a,r.y2=e+n/2},rect:function(t,e,a,n,r){r.x=t,r.y=e,r.width=a,r.height=n},roundRect:function(t,e,a,n,r){r.x=t,r.y=e,r.width=a,r.height=n,r.r=Math.min(a,n)/4},square:function(t,e,a,n,r){var i=Math.min(a,n);r.x=t,r.y=e,r.width=i,r.height=i},circle:function(t,e,a,n,r){r.cx=t+a/2,r.cy=e+n/2,r.r=Math.min(a,n)/2},diamond:function(t,e,a,n,r){r.cx=t+a/2,r.cy=e+n/2,r.width=a,r.height=n},pin:function(t,e,a,n,r){r.x=t+a/2,r.y=e+n/2,r.width=a,r.height=n},arrow:function(t,e,a,n,r){r.x=t+a/2,r.y=e+n/2,r.width=a,r.height=n},triangle:function(t,e,a,n,r){r.cx=t+a/2,r.cy=e+n/2,r.width=a,r.height=n}},Ad={};q(cL,function(t,e){Ad[e]=new t});var fL=Ee.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,a){var n=H_(t,e,a),r=this.shape;return r&&r.symbolType==="pin"&&e.position==="inside"&&(n.y=a.y+a.height*.4),n},buildPath:function(t,e,a){var n=e.symbolType;if(n!=="none"){var r=Ad[n];r||(n="rect",r=Ad[n]),dL[n](e.x,e.y,e.width,e.height,r.shape),r.buildPath(t,r.shape,a)}}});function pL(t,e){if(this.type!=="image"){var a=this.style;this.__isEmptyBrush?(a.stroke=t,a.fill=e||"#fff",a.lineWidth=2):this.shape.symbolType==="line"?a.stroke=t:a.fill=t,this.markRedraw()}}function io(t,e,a,n,r,i,o){var s=t.indexOf("empty")===0;s&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var l;return t.indexOf("image://")===0?l=qy(t.slice(8),new Le(e,a,n,r),o?"center":"cover"):t.indexOf("path://")===0?l=Df(t.slice(7),{},new Le(e,a,n,r),o?"center":"cover"):l=new fL({shape:{symbolType:t,x:e,y:a,width:n,height:r}}),l.__isEmptyBrush=s,l.setColor=pL,i&&l.setColor(i),l}function hL(t){return se(t)||(t=[+t,+t]),[t[0]||0,t[1]||0]}function P0(t,e){if(t!=null)return se(t)||(t=[t,t]),[Oa(t[0],e[0])||0,Oa(Ae(t[1],t[0]),e[1])||0]}function Wn(t){return isFinite(t)}function vL(t,e,a){var n=e.x==null?0:e.x,r=e.x2==null?1:e.x2,i=e.y==null?0:e.y,o=e.y2==null?0:e.y2;e.global||(n=n*a.width+a.x,r=r*a.width+a.x,i=i*a.height+a.y,o=o*a.height+a.y),n=Wn(n)?n:0,r=Wn(r)?r:1,i=Wn(i)?i:0,o=Wn(o)?o:0;var s=t.createLinearGradient(n,i,r,o);return s}function mL(t,e,a){var n=a.width,r=a.height,i=Math.min(n,r),o=e.x==null?.5:e.x,s=e.y==null?.5:e.y,l=e.r==null?.5:e.r;e.global||(o=o*n+a.x,s=s*r+a.y,l=l*i),o=Wn(o)?o:.5,s=Wn(s)?s:.5,l=l>=0&&Wn(l)?l:.5;var u=t.createRadialGradient(o,s,0,o,s,l);return u}function Td(t,e,a){for(var n=e.type==="radial"?mL(t,e,a):vL(t,e,a),r=e.colorStops,i=0;i<r.length;i++)n.addColorStop(r[i].offset,r[i].color);return n}function gL(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var a=0;a<t.length;a++)if(t[a]!==e[a])return!0;return!1}function $o(t){return parseInt(t,10)}function es(t,e,a){var n=["width","height"][e],r=["clientWidth","clientHeight"][e],i=["paddingLeft","paddingTop"][e],o=["paddingRight","paddingBottom"][e];if(a[n]!=null&&a[n]!=="auto")return parseFloat(a[n]);var s=document.defaultView.getComputedStyle(t);return(t[r]||$o(s[n])||$o(t.style[n]))-($o(s[i])||0)-($o(s[o])||0)|0}function _L(t,e){return!t||t==="solid"||!(e>0)?null:t==="dashed"?[4*e,2*e]:t==="dotted"?[e]:ta(t)?[t]:se(t)?t:null}function q0(t){var e=t.style,a=e.lineDash&&e.lineWidth>0&&_L(e.lineDash,e.lineWidth),n=e.lineDashOffset;if(a){var r=e.strokeNoScale&&t.getLineScale?t.getLineScale():1;r&&r!==1&&(a=de(a,function(i){return i/r}),n/=r)}return[a,n]}var yL=new cn(!0);function $s(t){var e=t.stroke;return!(e==null||e==="none"||!(t.lineWidth>0))}function um(t){return typeof t=="string"&&t!=="none"}function el(t){var e=t.fill;return e!=null&&e!=="none"}function cm(t,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var a=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=a}else t.fill()}function dm(t,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var a=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=a}else t.stroke()}function Ed(t,e,a){var n=iy(e.image,e.__image,a);if(xl(n)){var r=t.createPattern(n,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&r&&r.setTransform){var i=new DOMMatrix;i.translateSelf(e.x||0,e.y||0),i.rotateSelf(0,0,(e.rotation||0)*aA),i.scaleSelf(e.scaleX||1,e.scaleY||1),r.setTransform(i)}return r}}function bL(t,e,a,n){var r,i=$s(a),o=el(a),s=a.strokePercent,l=s<1,u=!e.path;(!e.silent||l)&&u&&e.createPathProxy();var c=e.path||yL,d=e.__dirty;if(!n){var f=a.fill,p=a.stroke,m=o&&!!f.colorStops,g=i&&!!p.colorStops,h=o&&!!f.image,v=i&&!!p.image,_=void 0,y=void 0,x=void 0,E=void 0,w=void 0;(m||g)&&(w=e.getBoundingRect()),m&&(_=d?Td(t,f,w):e.__canvasFillGradient,e.__canvasFillGradient=_),g&&(y=d?Td(t,p,w):e.__canvasStrokeGradient,e.__canvasStrokeGradient=y),h&&(x=d||!e.__canvasFillPattern?Ed(t,f,e):e.__canvasFillPattern,e.__canvasFillPattern=x),v&&(E=d||!e.__canvasStrokePattern?Ed(t,p,e):e.__canvasStrokePattern,e.__canvasStrokePattern=x),m?t.fillStyle=_:h&&(x?t.fillStyle=x:o=!1),g?t.strokeStyle=y:v&&(E?t.strokeStyle=E:i=!1)}var A=e.getGlobalScale();c.setScale(A[0],A[1],e.segmentIgnoreThreshold);var S,k;t.setLineDash&&a.lineDash&&(r=q0(e),S=r[0],k=r[1]);var b=!0;(u||d&Sr)&&(c.setDPR(t.dpr),l?c.setContext(null):(c.setContext(t),b=!1),c.reset(),e.buildPath(c,e.shape,n),c.toStatic(),e.pathUpdated()),b&&c.rebuildPath(t,l?s:1),S&&(t.setLineDash(S),t.lineDashOffset=k),n||(a.strokeFirst?(i&&dm(t,a),o&&cm(t,a)):(o&&cm(t,a),i&&dm(t,a))),S&&t.setLineDash([])}function wL(t,e,a){var n=e.__image=iy(a.image,e.__image,e,e.onload);if(!(!n||!xl(n))){var r=a.x||0,i=a.y||0,o=e.getWidth(),s=e.getHeight(),l=n.width/n.height;if(o==null&&s!=null?o=s*l:s==null&&o!=null?s=o/l:o==null&&s==null&&(o=n.width,s=n.height),a.sWidth&&a.sHeight){var u=a.sx||0,c=a.sy||0;t.drawImage(n,u,c,a.sWidth,a.sHeight,r,i,o,s)}else if(a.sx&&a.sy){var u=a.sx,c=a.sy,d=o-u,f=s-c;t.drawImage(n,u,c,d,f,r,i,o,s)}else t.drawImage(n,r,i,o,s)}}function xL(t,e,a){var n,r=a.text;if(r!=null&&(r+=""),r){t.font=a.font||Qn,t.textAlign=a.textAlign,t.textBaseline=a.textBaseline;var i=void 0,o=void 0;t.setLineDash&&a.lineDash&&(n=q0(e),i=n[0],o=n[1]),i&&(t.setLineDash(i),t.lineDashOffset=o),a.strokeFirst?($s(a)&&t.strokeText(r,a.x,a.y),el(a)&&t.fillText(r,a.x,a.y)):(el(a)&&t.fillText(r,a.x,a.y),$s(a)&&t.strokeText(r,a.x,a.y)),i&&t.setLineDash([])}}var fm=["shadowBlur","shadowOffsetX","shadowOffsetY"],pm=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function I0(t,e,a,n,r){var i=!1;if(!n&&(a=a||{},e===a))return!1;if(n||e.opacity!==a.opacity){Ea(t,r),i=!0;var o=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(o)?Yn.opacity:o}(n||e.blend!==a.blend)&&(i||(Ea(t,r),i=!0),t.globalCompositeOperation=e.blend||Yn.blend);for(var s=0;s<fm.length;s++){var l=fm[s];(n||e[l]!==a[l])&&(i||(Ea(t,r),i=!0),t[l]=t.dpr*(e[l]||0))}return(n||e.shadowColor!==a.shadowColor)&&(i||(Ea(t,r),i=!0),t.shadowColor=e.shadowColor||Yn.shadowColor),i}function hm(t,e,a,n,r){var i=oo(e,r.inHover),o=n?null:a&&oo(a,r.inHover)||{};if(i===o)return!1;var s=I0(t,i,o,n,r);if((n||i.fill!==o.fill)&&(s||(Ea(t,r),s=!0),um(i.fill)&&(t.fillStyle=i.fill)),(n||i.stroke!==o.stroke)&&(s||(Ea(t,r),s=!0),um(i.stroke)&&(t.strokeStyle=i.stroke)),(n||i.opacity!==o.opacity)&&(s||(Ea(t,r),s=!0),t.globalAlpha=i.opacity==null?1:i.opacity),e.hasStroke()){var l=i.lineWidth,u=l/(i.strokeNoScale&&e.getLineScale?e.getLineScale():1);t.lineWidth!==u&&(s||(Ea(t,r),s=!0),t.lineWidth=u)}for(var c=0;c<pm.length;c++){var d=pm[c],f=d[0];(n||i[f]!==o[f])&&(s||(Ea(t,r),s=!0),t[f]=i[f]||d[1])}return s}function SL(t,e,a,n,r){return I0(t,oo(e,r.inHover),a&&oo(a,r.inHover),n,r)}function R0(t,e){var a=e.transform,n=t.dpr||1;a?t.setTransform(n*a[0],n*a[1],n*a[2],n*a[3],n*a[4],n*a[5]):t.setTransform(n,0,0,n,0,0)}function CL(t,e,a){for(var n=!1,r=0;r<t.length;r++){var i=t[r];n=n||i.isZeroArea(),R0(e,i),e.beginPath(),i.buildPath(e,i.shape),e.clip()}a.allClipped=n}function AL(t,e){return t&&e?t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||t[4]!==e[4]||t[5]!==e[5]:!(!t&&!e)}var vm=1,mm=2,gm=3,_m=4;function TL(t){var e=el(t),a=$s(t);return!(t.lineDash||!(+e^+a)||e&&typeof t.fill!="string"||a&&typeof t.stroke!="string"||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}function Ea(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function oo(t,e){return e&&t.__hoverStyle||t.style}function O0(t,e){Kn(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Kn(t,e,a,n){var r=e.transform;if(!e.shouldBePainted(a.viewWidth,a.viewHeight,!1,!1)){e.__dirty&=~za,e.__isRendered=!1;return}var i=e.__clipPaths,o=a.prevElClipPaths,s=!1,l=!1;if((!o||gL(i,o))&&(o&&o.length&&(Ea(t,a),t.restore(),l=s=!0,a.prevElClipPaths=null,a.allClipped=!1,a.prevEl=null),i&&i.length&&(Ea(t,a),t.save(),CL(i,t,a),s=!0),a.prevElClipPaths=i),a.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var u=a.prevEl;u||(l=s=!0);var c=e instanceof Ee&&e.autoBatch&&TL(e.style);s||AL(r,u.transform)?(Ea(t,a),R0(t,e)):c||Ea(t,a);var d=oo(e,a.inHover);e instanceof Ee?(a.lastDrawType!==vm&&(l=!0,a.lastDrawType=vm),hm(t,e,u,l,a),(!c||!a.batchFill&&!a.batchStroke)&&t.beginPath(),bL(t,e,d,c),c&&(a.batchFill=d.fill||"",a.batchStroke=d.stroke||"")):e instanceof Us?(a.lastDrawType!==gm&&(l=!0,a.lastDrawType=gm),hm(t,e,u,l,a),xL(t,e,d)):e instanceof mn?(a.lastDrawType!==mm&&(l=!0,a.lastDrawType=mm),SL(t,e,u,l,a),wL(t,e,d)):e.getTemporalDisplayables&&(a.lastDrawType!==_m&&(l=!0,a.lastDrawType=_m),EL(t,e,a)),c&&n&&Ea(t,a),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),a.prevEl=e,e.__dirty=0,e.__isRendered=!0}function EL(t,e,a){var n=e.getDisplayables(),r=e.getTemporalDisplayables();t.save();var i={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:a.viewWidth,viewHeight:a.viewHeight,inHover:a.inHover},o,s;for(o=e.getCursor(),s=n.length;o<s;o++){var l=n[o];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Kn(t,l,i,o===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),i.prevEl=l}for(var u=0,c=r.length;u<c;u++){var l=r[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Kn(t,l,i,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),i.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}var cc=new iL,ym=new mo(100),bm=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function wm(t,e){if(t==="none")return null;var a=e.getDevicePixelRatio(),n=e.getZr(),r=n.painter.type==="svg";t.dirty&&cc.delete(t);var i=cc.get(t);if(i)return i;var o=Se(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor==="none"&&(o.backgroundColor=null);var s={repeat:"repeat"};return l(s),s.rotation=o.rotation,s.scaleX=s.scaleY=r?1:1/a,cc.set(t,s),t.dirty=!1,s;function l(u){for(var c=[a],d=!0,f=0;f<bm.length;++f){var p=o[bm[f]];if(p!=null&&!se(p)&&!be(p)&&!ta(p)&&typeof p!="boolean"){d=!1;break}c.push(p)}var m;if(d){m=c.join(",")+(r?"-svg":"");var g=ym.get(m);g&&(r?u.svgElement=g:u.image=g)}var h=z0(o.dashArrayX),v=kL(o.dashArrayY),_=B0(o.symbol),y=ML(h),x=N0(v),E=!r&&Hr.createCanvas(),w=r&&{tag:"g",attrs:{},key:"dcl",children:[]},A=k(),S;E&&(E.width=A.width*a,E.height=A.height*a,S=E.getContext("2d")),b(),d&&ym.put(m,E||w),u.image=E,u.svgElement=w,u.svgWidth=A.width,u.svgHeight=A.height;function k(){for(var M=1,D=0,L=y.length;D<L;++D)M=Ih(M,y[D]);for(var P=1,D=0,L=_.length;D<L;++D)P=Ih(P,_[D].length);M*=P;var I=x*y.length*_.length;return{width:Math.max(1,Math.min(M,o.maxTileWidth)),height:Math.max(1,Math.min(I,o.maxTileHeight))}}function b(){S&&(S.clearRect(0,0,E.width,E.height),o.backgroundColor&&(S.fillStyle=o.backgroundColor,S.fillRect(0,0,E.width,E.height)));for(var M=0,D=0;D<v.length;++D)M+=v[D];if(M<=0)return;for(var L=-x,P=0,I=0,R=0;L<A.height;){if(P%2===0){for(var U=I/2%_.length,N=0,W=0,Q=0;N<A.width*2;){for(var re=0,D=0;D<h[R].length;++D)re+=h[R][D];if(re<=0)break;if(W%2===0){var ue=(1-o.symbolSize)*.5,J=N+h[R][W]*ue,ie=L+v[P]*ue,F=h[R][W]*o.symbolSize,G=v[P]*o.symbolSize,ee=Q/2%_[U].length;$(J,ie,F,G,_[U][ee])}N+=h[R][W],++Q,++W,W===h[R].length&&(W=0)}++R,R===h.length&&(R=0)}L+=v[P],++I,++P,P===v.length&&(P=0)}function $(Z,pe,te,oe,He){var We=r?1:a,wa=io(He,Z*We,pe*We,te*We,oe*We,o.color,o.symbolKeepAspect);if(r){var qa=n.painter.renderOneToVNode(wa);qa&&w.children.push(qa)}else O0(S,wa)}}}}function B0(t){if(!t||t.length===0)return[["rect"]];if(be(t))return[[t]];for(var e=!0,a=0;a<t.length;++a)if(!be(t[a])){e=!1;break}if(e)return B0([t]);for(var n=[],a=0;a<t.length;++a)be(t[a])?n.push([t[a]]):n.push(t[a]);return n}function z0(t){if(!t||t.length===0)return[[0,0]];if(ta(t)){var e=Math.ceil(t);return[[e,e]]}for(var a=!0,n=0;n<t.length;++n)if(!ta(t[n])){a=!1;break}if(a)return z0([t]);for(var r=[],n=0;n<t.length;++n)if(ta(t[n])){var e=Math.ceil(t[n]);r.push([e,e])}else{var e=de(t[n],function(s){return Math.ceil(s)});e.length%2===1?r.push(e.concat(e)):r.push(e)}return r}function kL(t){if(!t||typeof t=="object"&&t.length===0)return[0,0];if(ta(t)){var e=Math.ceil(t);return[e,e]}var a=de(t,function(n){return Math.ceil(n)});return t.length%2?a.concat(a):a}function ML(t){return de(t,function(e){return N0(e)})}function N0(t){for(var e=0,a=0;a<t.length;++a)e+=t[a];return t.length%2===1?e*2:e}function DL(t,e){t.eachRawSeries(function(a){if(!t.isSeriesFiltered(a)){var n=a.getData();n.hasItemVisual()&&n.each(function(o){var s=n.getItemVisual(o,"decal");if(s){var l=n.ensureUniqueItemVisual(o,"style");l.decal=wm(s,e)}});var r=n.getVisual("decal");if(r){var i=n.getVisual("style");i.decal=wm(r,e)}}})}var it=new xt,V0={};function LL(t,e){V0[t]=e}function PL(t){return V0[t]}var qL=1,IL=800,RL=900,OL=1e3,BL=2e3,zL=5e3,j0=1e3,NL=1100,Wf=2e3,F0=3e3,VL=4e3,Nl=4500,jL=4600,FL=5e3,UL=6e3,U0=7e3,GL={PROCESSOR:{FILTER:OL,SERIES_FILTER:IL,STATISTIC:zL},VISUAL:{LAYOUT:j0,PROGRESSIVE_LAYOUT:NL,GLOBAL:Wf,CHART:F0,POST_CHART_LAYOUT:jL,COMPONENT:VL,BRUSH:FL,CHART_ITEM:Nl,ARIA:UL,DECAL:U0}},pa="__flagInMainProcess",Sa="__pendingUpdate",dc="__needsUpdateStatus",xm=/^[a-zA-Z0-9_]+$/,fc="__connectUpdateStatus",Sm=0,HL=1,WL=2;function G0(t){return function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];if(this.isDisposed()){this.id;return}return W0(this,t,e)}}function H0(t){return function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return W0(this,t,e)}}function W0(t,e,a){return a[0]=a[0]&&a[0].toLowerCase(),xt.prototype[e].apply(t,a)}var K0=function(t){qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(xt),Y0=K0.prototype;Y0.on=H0("on");Y0.off=H0("off");var _r,pc,as,Gt,hc,vc,mc,gi,_i,Cm,Am,gc,Tm,ts,Em,X0,ja,km,Z0=function(t){qe(e,t);function e(a,n,r){var i=t.call(this,new QD)||this;i._chartsViews=[],i._chartsMap={},i._componentsViews=[],i._componentsMap={},i._pendingActions=[],r=r||{},be(n)&&(n=Q0[n]),i._dom=a;var o="canvas",s="auto",l=!1;r.ssr;var u=i._zr=Lh(a,{renderer:r.renderer||o,devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:Ae(r.useDirtyRect,l),useCoarsePointer:Ae(r.useCoarsePointer,s),pointerSize:r.pointerSize});i._ssr=r.ssr,i._throttledZrFlush=C0(ma(u.flush,u),17),n=De(n),n&&d0(n,!0),i._theme=n,i._locale=dM(r.locale||Gy),i._coordSysMgr=new Ff;var c=i._api=Em(i);function d(f,p){return f.__prio-p.__prio}return hs(tl,d),hs(kd,d),i._scheduler=new E0(i,c,kd,tl),i._messageCenter=new K0,i._initEvents(),i.resize=ma(i.resize,i),u.animation.on("frame",i._onframe,i),Cm(u,i),Am(u,i),Kc(i),i}return e.prototype._onframe=function(){if(!this._disposed){km(this);var a=this._scheduler;if(this[Sa]){var n=this[Sa].silent;this[pa]=!0;try{_r(this),Gt.update.call(this,null,this[Sa].updateParams)}catch(l){throw this[pa]=!1,this[Sa]=null,l}this._zr.flush(),this[pa]=!1,this[Sa]=null,gi.call(this,n),_i.call(this,n)}else if(a.unfinished){var r=qL,i=this._model,o=this._api;a.unfinished=!1;do{var s=+new Date;a.performSeriesTasks(i),a.performDataProcessorTasks(i),vc(this,i),a.performVisualTasks(i),ts(this,this._model,o,"remain",{}),r-=+new Date-s}while(r>0&&a.unfinished);a.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(a,n,r){if(!this[pa]){if(this._disposed){this.id;return}var i,o,s;if(fe(n)&&(r=n.lazyUpdate,i=n.silent,o=n.replaceMerge,s=n.transition,n=n.notMerge),this[pa]=!0,!this._model||n){var l=new VM(this._api),u=this._theme,c=this._model=new jf;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,u,this._locale,l)}this._model.setOption(a,{replaceMerge:o},Md);var d={seriesTransition:s,optionChanged:!0};if(r)this[Sa]={silent:i,updateParams:d},this[pa]=!1,this.getZr().wakeUp();else{try{_r(this),Gt.update.call(this,null,d)}catch(f){throw this[Sa]=null,this[pa]=!1,f}this._ssr||this._zr.flush(),this[Sa]=null,this[pa]=!1,gi.call(this,i),_i.call(this,i)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||ke.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(a){return this.renderToCanvas(a)},e.prototype.renderToCanvas=function(a){a=a||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:a.backgroundColor||this._model.get("backgroundColor"),pixelRatio:a.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(a){a=a||{};var n=this._zr.painter;return n.renderToString({useViewBox:a.useViewBox})},e.prototype.getSvgDataURL=function(){if(ke.svgSupported){var a=this._zr,n=a.storage.getDisplayList();return q(n,function(r){r.stopAnimation(null,!0)}),a.painter.toDataURL()}},e.prototype.getDataURL=function(a){if(this._disposed){this.id;return}a=a||{};var n=a.excludeComponents,r=this._model,i=[],o=this;q(n,function(l){r.eachComponent({mainType:l},function(u){var c=o._componentsMap[u.__viewId];c.group.ignore||(i.push(c),c.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(a).toDataURL("image/"+(a&&a.type||"png"));return q(i,function(l){l.group.ignore=!1}),s},e.prototype.getConnectedDataURL=function(a){if(this._disposed){this.id;return}var n=a.type==="svg",r=this.group,i=Math.min,o=Math.max,s=1/0;if(Mm[r]){var l=s,u=s,c=-s,d=-s,f=[],p=a&&a.pixelRatio||this.getDevicePixelRatio();q(Ui,function(y,x){if(y.group===r){var E=n?y.getZr().painter.getSvgDom().innerHTML:y.renderToCanvas(De(a)),w=y.getDom().getBoundingClientRect();l=i(w.left,l),u=i(w.top,u),c=o(w.right,c),d=o(w.bottom,d),f.push({dom:E,left:w.left,top:w.top})}}),l*=p,u*=p,c*=p,d*=p;var m=c-l,g=d-u,h=Hr.createCanvas(),v=Lh(h,{renderer:n?"svg":"canvas"});if(v.resize({width:m,height:g}),n){var _="";return q(f,function(y){var x=y.left-l,E=y.top-u;_+='<g transform="translate('+x+","+E+')">'+y.dom+"</g>"}),v.painter.getSvgRoot().innerHTML=_,a.connectedBackgroundColor&&v.painter.setBackgroundColor(a.connectedBackgroundColor),v.refreshImmediately(),v.painter.toDataURL()}else return a.connectedBackgroundColor&&v.add(new ka({shape:{x:0,y:0,width:m,height:g},style:{fill:a.connectedBackgroundColor}})),q(f,function(y){var x=new mn({style:{x:y.left*p-l,y:y.top*p-u,image:y.dom}});v.add(x)}),v.refreshImmediately(),h.toDataURL("image/"+(a&&a.type||"png"))}else return this.getDataURL(a)},e.prototype.convertToPixel=function(a,n){return hc(this,"convertToPixel",a,n)},e.prototype.convertFromPixel=function(a,n){return hc(this,"convertFromPixel",a,n)},e.prototype.containPixel=function(a,n){if(this._disposed){this.id;return}var r=this._model,i,o=zu(r,a);return q(o,function(s,l){l.indexOf("Models")>=0&&q(s,function(u){var c=u.coordinateSystem;if(c&&c.containPoint)i=i||!!c.containPoint(n);else if(l==="seriesModels"){var d=this._chartsMap[u.__viewId];d&&d.containPoint&&(i=i||d.containPoint(n,u))}},this)},this),!!i},e.prototype.getVisual=function(a,n){var r=this._model,i=zu(r,a,{defaultMainType:"series"}),o=i.seriesModel,s=o.getData(),l=i.hasOwnProperty("dataIndexInside")?i.dataIndexInside:i.hasOwnProperty("dataIndex")?s.indexOfRawIndex(i.dataIndex):null;return l!=null?eL(s,l,n):aL(s,n)},e.prototype.getViewOfComponentModel=function(a){return this._componentsMap[a.__viewId]},e.prototype.getViewOfSeriesModel=function(a){return this._chartsMap[a.__viewId]},e.prototype._initEvents=function(){var a=this;q(KL,function(n){var r=function(i){var o=a.getModel(),s=i.target,l,u=n==="globalout";if(u?l={}:s&&Jo(s,function(m){var g=la(m);if(g&&g.dataIndex!=null){var h=g.dataModel||o.getSeriesByIndex(g.seriesIndex);return l=h&&h.getDataParams(g.dataIndex,g.dataType,s)||{},!0}else if(g.eventData)return l=ae({},g.eventData),!0},!0),l){var c=l.componentType,d=l.componentIndex;(c==="markLine"||c==="markPoint"||c==="markArea")&&(c="series",d=l.seriesIndex);var f=c&&d!=null&&o.getComponent(c,d),p=f&&a[f.mainType==="series"?"_chartsMap":"_componentsMap"][f.__viewId];l.event=i,l.type=n,a._$eventProcessor.eventInfo={targetEl:s,packedEvent:l,model:f,view:p},a.trigger(n,l)}};r.zrEventfulCallAtLast=!0,a._zr.on(n,r,a)}),q(Fi,function(n,r){a._messageCenter.on(r,function(i){this.trigger(r,i)},a)}),q(["selectchanged"],function(n){a._messageCenter.on(n,function(r){this.trigger(n,r)},a)}),tL(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var a=this.getDom();a&&ty(this.getDom(),Yf,"");var n=this,r=n._api,i=n._model;q(n._componentsViews,function(o){o.dispose(i,r)}),q(n._chartsViews,function(o){o.dispose(i,r)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete Ui[n.id]},e.prototype.resize=function(a){if(!this[pa]){if(this._disposed){this.id;return}this._zr.resize(a);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var r=n.resetOption("media"),i=a&&a.silent;this[Sa]&&(i==null&&(i=this[Sa].silent),r=!0,this[Sa]=null),this[pa]=!0;try{r&&_r(this),Gt.update.call(this,{type:"resize",animation:ae({duration:0},a&&a.animation)})}catch(o){throw this[pa]=!1,o}this[pa]=!1,gi.call(this,i),_i.call(this,i)}}},e.prototype.showLoading=function(a,n){if(this._disposed){this.id;return}if(fe(a)&&(n=a,a=""),a=a||"default",this.hideLoading(),!!Dd[a]){var r=Dd[a](this._api,n),i=this._zr;this._loadingFX=r,i.add(r)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(a){var n=ae({},a);return n.type=Fi[a.type],n},e.prototype.dispatchAction=function(a,n){if(this._disposed){this.id;return}if(fe(n)||(n={silent:!!n}),!!al[a.type]&&this._model){if(this[pa]){this._pendingActions.push(a);return}var r=n.silent;mc.call(this,a,r);var i=n.flush;i?this._zr.flush():i!==!1&&ke.browser.weChat&&this._throttledZrFlush(),gi.call(this,r),_i.call(this,r)}},e.prototype.updateLabelLayout=function(){it.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(a){if(this._disposed){this.id;return}var n=a.seriesIndex,r=this.getModel(),i=r.getSeriesByIndex(n);i.appendData(a),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=function(){_r=function(d){var f=d._scheduler;f.restorePipelines(d._model),f.prepareStageTasks(),pc(d,!0),pc(d,!1),f.plan()},pc=function(d,f){for(var p=d._model,m=d._scheduler,g=f?d._componentsViews:d._chartsViews,h=f?d._componentsMap:d._chartsMap,v=d._zr,_=d._api,y=0;y<g.length;y++)g[y].__alive=!1;f?p.eachComponent(function(w,A){w!=="series"&&x(A)}):p.eachSeries(x);function x(w){var A=w.__requireNewView;w.__requireNewView=!1;var S="_ec_"+w.id+"_"+w.type,k=!A&&h[S];if(!k){var b=vt(w.type),M=f?pn.getClass(b.main,b.sub):gt.getClass(b.sub);k=new M,k.init(p,_),h[S]=k,g.push(k),v.add(k.group)}w.__viewId=k.__id=S,k.__alive=!0,k.__model=w,k.group.__ecComponentInfo={mainType:w.mainType,index:w.componentIndex},!f&&m.prepareView(k,w,p,_)}for(var y=0;y<g.length;){var E=g[y];E.__alive?y++:(!f&&E.renderTask.dispose(),v.remove(E.group),E.dispose(p,_),g.splice(y,1),h[E.__id]===E&&delete h[E.__id],E.__id=E.group.__ecComponentInfo=null)}},as=function(d,f,p,m,g){var h=d._model;if(h.setUpdatePayload(p),!m){q([].concat(d._componentsViews).concat(d._chartsViews),E);return}var v={};v[m+"Id"]=p[m+"Id"],v[m+"Index"]=p[m+"Index"],v[m+"Name"]=p[m+"Name"];var _={mainType:m,query:v};g&&(_.subType=g);var y=p.excludeSeriesId,x;y!=null&&(x=ge(),q(na(y),function(w){var A=mt(w,null);A!=null&&x.set(A,!0)})),h&&h.eachComponent(_,function(w){var A=x&&x.get(w.id)!=null;if(!A)if(cv(p))if(w instanceof fn)p.type===Xn&&!p.notBlur&&!w.get(["emphasis","disabled"])&&YE(w,p,d._api);else{var S=Sf(w.mainType,w.componentIndex,p.name,d._api),k=S.focusSelf,b=S.dispatchers;p.type===Xn&&k&&!p.notBlur&&pd(w.mainType,w.componentIndex,d._api),b&&q(b,function(M){p.type===Xn?Gs(M):Hs(M)})}else md(p)&&w instanceof fn&&(QE(w,p,d._api),sv(w),ja(d))},d),h&&h.eachComponent(_,function(w){var A=x&&x.get(w.id)!=null;A||E(d[m==="series"?"_chartsMap":"_componentsMap"][w.__viewId])},d);function E(w){w&&w.__alive&&w[f]&&w[f](w.__model,h,d._api,p)}},Gt={prepareAndUpdate:function(d){_r(this),Gt.update.call(this,d,{optionChanged:d.newOption!=null})},update:function(d,f){var p=this._model,m=this._api,g=this._zr,h=this._coordSysMgr,v=this._scheduler;if(p){p.setUpdatePayload(d),v.restoreData(p,d),v.performSeriesTasks(p),h.create(p,m),v.performDataProcessorTasks(p,d),vc(this,p),h.update(p,m),a(p),v.performVisualTasks(p,d),gc(this,p,m,d,f);var _=p.get("backgroundColor")||"transparent",y=p.get("darkMode");g.setBackgroundColor(_),y!=null&&y!=="auto"&&g.setDarkMode(y),it.trigger("afterupdate",p,m)}},updateTransform:function(d){var f=this,p=this._model,m=this._api;if(p){p.setUpdatePayload(d);var g=[];p.eachComponent(function(v,_){if(v!=="series"){var y=f.getViewOfComponentModel(_);if(y&&y.__alive)if(y.updateTransform){var x=y.updateTransform(_,p,m,d);x&&x.update&&g.push(y)}else g.push(y)}});var h=ge();p.eachSeries(function(v){var _=f._chartsMap[v.__viewId];if(_.updateTransform){var y=_.updateTransform(v,p,m,d);y&&y.update&&h.set(v.uid,1)}else h.set(v.uid,1)}),a(p),this._scheduler.performVisualTasks(p,d,{setDirty:!0,dirtyMap:h}),ts(this,p,m,d,{},h),it.trigger("afterupdate",p,m)}},updateView:function(d){var f=this._model;f&&(f.setUpdatePayload(d),gt.markUpdateMethod(d,"updateView"),a(f),this._scheduler.performVisualTasks(f,d,{setDirty:!0}),gc(this,f,this._api,d,{}),it.trigger("afterupdate",f,this._api))},updateVisual:function(d){var f=this,p=this._model;p&&(p.setUpdatePayload(d),p.eachSeries(function(m){m.getData().clearAllVisual()}),gt.markUpdateMethod(d,"updateVisual"),a(p),this._scheduler.performVisualTasks(p,d,{visualType:"visual",setDirty:!0}),p.eachComponent(function(m,g){if(m!=="series"){var h=f.getViewOfComponentModel(g);h&&h.__alive&&h.updateVisual(g,p,f._api,d)}}),p.eachSeries(function(m){var g=f._chartsMap[m.__viewId];g.updateVisual(m,p,f._api,d)}),it.trigger("afterupdate",p,this._api))},updateLayout:function(d){Gt.update.call(this,d)}},hc=function(d,f,p,m){if(d._disposed){d.id;return}for(var g=d._model,h=d._coordSysMgr.getCoordinateSystems(),v,_=zu(g,p),y=0;y<h.length;y++){var x=h[y];if(x[f]&&(v=x[f](g,_,m))!=null)return v}},vc=function(d,f){var p=d._chartsMap,m=d._scheduler;f.eachSeries(function(g){m.updateStreamModes(g,p[g.__viewId])})},mc=function(d,f){var p=this,m=this.getModel(),g=d.type,h=d.escapeConnect,v=al[g],_=v.actionInfo,y=(_.update||"update").split(":"),x=y.pop(),E=y[0]!=null&&vt(y[0]);this[pa]=!0;var w=[d],A=!1;d.batch&&(A=!0,w=de(d.batch,function(P){return P=Se(ae({},P),d),P.batch=null,P}));var S=[],k,b=md(d),M=cv(d);if(M&&xy(this._api),q(w,function(P){if(k=v.action(P,p._model,p._api),k=k||ae({},P),k.type=_.event||k.type,S.push(k),M){var I=ay(d),R=I.queryOptionMap,U=I.mainTypeSpecified,N=U?R.keys()[0]:"series";as(p,x,P,N),ja(p)}else b?(as(p,x,P,"series"),ja(p)):E&&as(p,x,P,E.main,E.sub)}),x!=="none"&&!M&&!b&&!E)try{this[Sa]?(_r(this),Gt.update.call(this,d),this[Sa]=null):Gt[x].call(this,d)}catch(P){throw this[pa]=!1,P}if(A?k={type:_.event||g,escapeConnect:h,batch:S}:k=S[0],this[pa]=!1,!f){var D=this._messageCenter;if(D.trigger(k.type,k),b){var L={type:"selectchanged",escapeConnect:h,selected:JE(m),isFromClick:d.isFromClick||!1,fromAction:d.type,fromActionPayload:d};D.trigger(L.type,L)}}},gi=function(d){for(var f=this._pendingActions;f.length;){var p=f.shift();mc.call(this,p,d)}},_i=function(d){!d&&this.trigger("updated")},Cm=function(d,f){d.on("rendered",function(p){f.trigger("rendered",p),d.animation.isFinished()&&!f[Sa]&&!f._scheduler.unfinished&&!f._pendingActions.length&&f.trigger("finished")})},Am=function(d,f){d.on("mouseover",function(p){var m=p.target,g=Jo(m,vd);g&&(XE(g,p,f._api),ja(f))}).on("mouseout",function(p){var m=p.target,g=Jo(m,vd);g&&(ZE(g,p,f._api),ja(f))}).on("click",function(p){var m=p.target,g=Jo(m,function(_){return la(_).dataIndex!=null},!0);if(g){var h=g.selected?"unselect":"select",v=la(g);f._api.dispatchAction({type:h,dataType:v.dataType,dataIndexInside:v.dataIndex,seriesIndex:v.seriesIndex,isFromClick:!0})}})};function a(d){d.clearColorPalette(),d.eachSeries(function(f){f.clearColorPalette()})}function n(d){var f=[],p=[],m=!1;if(d.eachComponent(function(_,y){var x=y.get("zlevel")||0,E=y.get("z")||0,w=y.getZLevelKey();m=m||!!w,(_==="series"?p:f).push({zlevel:x,z:E,idx:y.componentIndex,type:_,key:w})}),m){var g=f.concat(p),h,v;hs(g,function(_,y){return _.zlevel===y.zlevel?_.z-y.z:_.zlevel-y.zlevel}),q(g,function(_){var y=d.getComponent(_.type,_.idx),x=_.zlevel,E=_.key;h!=null&&(x=Math.max(h,x)),E?(x===h&&E!==v&&x++,v=E):v&&(x===h&&x++,v=""),h=x,y.setZLevel(x)})}}gc=function(d,f,p,m,g){n(f),Tm(d,f,p,m,g),q(d._chartsViews,function(h){h.__alive=!1}),ts(d,f,p,m,g),q(d._chartsViews,function(h){h.__alive||h.remove(f,p)})},Tm=function(d,f,p,m,g,h){q(h||d._componentsViews,function(v){var _=v.__model;u(_,v),v.render(_,f,p,m),s(_,v),c(_,v)})},ts=function(d,f,p,m,g,h){var v=d._scheduler;g=ae(g||{},{updatedSeries:f.getSeries()}),it.trigger("series:beforeupdate",f,p,g);var _=!1;f.eachSeries(function(y){var x=d._chartsMap[y.__viewId];x.__alive=!0;var E=x.renderTask;v.updatePayload(E,m),u(y,x),h&&h.get(y.uid)&&E.dirty(),E.perform(v.getPerformArgs(E))&&(_=!0),x.group.silent=!!y.get("silent"),o(y,x),sv(y)}),v.unfinished=_||v.unfinished,it.trigger("series:layoutlabels",f,p,g),it.trigger("series:transition",f,p,g),f.eachSeries(function(y){var x=d._chartsMap[y.__viewId];s(y,x),c(y,x)}),i(d,f),it.trigger("series:afterupdate",f,p,g)},ja=function(d){d[dc]=!0,d.getZr().wakeUp()},km=function(d){d[dc]&&(d.getZr().storage.traverse(function(f){Ni(f)||r(f)}),d[dc]=!1)};function r(d){for(var f=[],p=d.currentStates,m=0;m<p.length;m++){var g=p[m];g==="emphasis"||g==="blur"||g==="select"||f.push(g)}d.selected&&d.states.select&&f.push("select"),d.hoverState===Al&&d.states.emphasis?f.push("emphasis"):d.hoverState===Cl&&d.states.blur&&f.push("blur"),d.useStates(f)}function i(d,f){var p=d._zr,m=p.storage,g=0;m.traverse(function(h){h.isGroup||g++}),g>f.get("hoverLayerThreshold")&&!ke.node&&!ke.worker&&f.eachSeries(function(h){if(!h.preventUsingHoverLayer){var v=d._chartsMap[h.__viewId];v.__alive&&v.eachRendered(function(_){_.states.emphasis&&(_.states.emphasis.hoverLayer=!0)})}})}function o(d,f){var p=d.get("blendMode")||null;f.eachRendered(function(m){m.isGroup||(m.style.blend=p)})}function s(d,f){if(!d.preventAutoZ){var p=d.get("z")||0,m=d.get("zlevel")||0;f.eachRendered(function(g){return l(g,p,m,-1/0),!0})}}function l(d,f,p,m){var g=d.getTextContent(),h=d.getTextGuideLine(),v=d.isGroup;if(v)for(var _=d.childrenRef(),y=0;y<_.length;y++)m=Math.max(l(_[y],f,p,m),m);else d.z=f,d.zlevel=p,m=Math.max(d.z2,m);if(g&&(g.z=f,g.zlevel=p,isFinite(m)&&(g.z2=m+2)),h){var x=d.textGuideLineConfig;h.z=f,h.zlevel=p,isFinite(m)&&(h.z2=m+(x&&x.showAbove?1:-1))}return m}function u(d,f){f.eachRendered(function(p){if(!Ni(p)){var m=p.getTextContent(),g=p.getTextGuideLine();p.stateTransition&&(p.stateTransition=null),m&&m.stateTransition&&(m.stateTransition=null),g&&g.stateTransition&&(g.stateTransition=null),p.hasState()?(p.prevStates=p.currentStates,p.clearStates()):p.prevStates&&(p.prevStates=null)}})}function c(d,f){var p=d.getModel("stateAnimation"),m=d.isAnimationEnabled(),g=p.get("duration"),h=g>0?{duration:g,delay:p.get("delay"),easing:p.get("easing")}:null;f.eachRendered(function(v){if(v.states&&v.states.emphasis){if(Ni(v))return;if(v instanceof Ee&&rk(v),v.__dirty){var _=v.prevStates;_&&v.useStates(_)}if(m){v.stateTransition=h;var y=v.getTextContent(),x=v.getTextGuideLine();y&&(y.stateTransition=h),x&&(x.stateTransition=h)}v.__dirty&&r(v)}})}Em=function(d){return new(function(f){qe(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.prototype.getCoordinateSystems=function(){return d._coordSysMgr.getCoordinateSystems()},p.prototype.getComponentByElement=function(m){for(;m;){var g=m.__ecComponentInfo;if(g!=null)return d._model.getComponent(g.mainType,g.index);m=m.parent}},p.prototype.enterEmphasis=function(m,g){Gs(m,g),ja(d)},p.prototype.leaveEmphasis=function(m,g){Hs(m,g),ja(d)},p.prototype.enterBlur=function(m){KE(m),ja(d)},p.prototype.leaveBlur=function(m){_y(m),ja(d)},p.prototype.enterSelect=function(m){yy(m),ja(d)},p.prototype.leaveSelect=function(m){by(m),ja(d)},p.prototype.getModel=function(){return d.getModel()},p.prototype.getViewOfComponentModel=function(m){return d.getViewOfComponentModel(m)},p.prototype.getViewOfSeriesModel=function(m){return d.getViewOfSeriesModel(m)},p}(u0))(d)},X0=function(d){function f(p,m){for(var g=0;g<p.length;g++){var h=p[g];h[fc]=m}}q(Fi,function(p,m){d._messageCenter.on(m,function(g){if(Mm[d.group]&&d[fc]!==Sm){if(g&&g.escapeConnect)return;var h=d.makeActionFromEvent(g),v=[];q(Ui,function(_){_!==d&&_.group===d.group&&v.push(_)}),f(v,Sm),q(v,function(_){_[fc]!==HL&&_.dispatchAction(h)}),f(v,WL)}})})}}(),e}(xt),Kf=Z0.prototype;Kf.on=G0("on");Kf.off=G0("off");Kf.one=function(t,e,a){var n=this;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];e&&e.apply&&e.apply(this,i),n.off(t,r)}this.on.call(this,t,r,a)};var KL=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var al={},Fi={},kd=[],Md=[],tl=[],Q0={},Dd={},Ui={},Mm={},YL=+new Date-0,Yf="_echarts_instance_";function XL(t,e,a){{var n=ZL(t);if(n)return n}var r=new Z0(t,e,a);return r.id="ec_"+YL++,Ui[r.id]=r,ty(t,Yf,r.id),X0(r),it.trigger("afterinit",r),r}function ZL(t){return Ui[BT(t,Yf)]}function J0(t,e){Q0[t]=e}function $0(t){Ue(Md,t)<0&&Md.push(t)}function eb(t,e){Zf(kd,t,e,BL)}function QL(t){Xf("afterinit",t)}function JL(t){Xf("afterupdate",t)}function Xf(t,e){it.on(t,e)}function Qr(t,e,a){we(e)&&(a=e,e="");var n=fe(t)?t.type:[t,t={event:e}][0];t.event=(t.event||n).toLowerCase(),e=t.event,!Fi[e]&&(sn(xm.test(n)&&xm.test(e)),al[n]||(al[n]={action:a,actionInfo:t}),Fi[e]=n)}function $L(t,e){Ff.register(t,e)}function eP(t,e){Zf(tl,t,e,j0,"layout")}function ir(t,e){Zf(tl,t,e,F0,"visual")}var Dm=[];function Zf(t,e,a,n,r){if((we(e)||fe(e))&&(a=e,e=n),!(Ue(Dm,a)>=0)){Dm.push(a);var i=E0.wrapStageHandler(a,r);i.__prio=e,i.__raw=a,t.push(i)}}function ab(t,e){Dd[t]=e}function aP(t,e,a){var n=PL("registerMap");n&&n(t,e,a)}var tP=vD;ir(Wf,BD);ir(Nl,zD);ir(Nl,ND);ir(Wf,JD);ir(Nl,$D);ir(U0,DL);$0(d0);eb(RL,JM);ab("default",VD);Qr({type:Xn,event:Xn,update:Xn},Za);Qr({type:bs,event:bs,update:bs},Za);Qr({type:Oi,event:Oi,update:Oi},Za);Qr({type:ws,event:ws,update:ws},Za);Qr({type:Bi,event:Bi,update:Bi},Za);J0("light",ZD);J0("dark",L0);function yi(t){return t==null?0:t.length||1}function Lm(t){return t}var Ld=function(){function t(e,a,n,r,i,o){this._old=e,this._new=a,this._oldKeyGetter=n||Lm,this._newKeyGetter=r||Lm,this.context=i,this._diffModeMultiple=o==="multiple"}return t.prototype.add=function(e){return this._add=e,this},t.prototype.update=function(e){return this._update=e,this},t.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},t.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},t.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},t.prototype.remove=function(e){return this._remove=e,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var e=this._old,a=this._new,n={},r=new Array(e.length),i=new Array(a.length);this._initIndexMap(e,null,r,"_oldKeyGetter"),this._initIndexMap(a,n,i,"_newKeyGetter");for(var o=0;o<e.length;o++){var s=r[o],l=n[s],u=yi(l);if(u>1){var c=l.shift();l.length===1&&(n[s]=l[0]),this._update&&this._update(c,o)}else u===1?(n[s]=null,this._update&&this._update(l,o)):this._remove&&this._remove(o)}this._performRestAdd(i,n)},t.prototype._executeMultiple=function(){var e=this._old,a=this._new,n={},r={},i=[],o=[];this._initIndexMap(e,n,i,"_oldKeyGetter"),this._initIndexMap(a,r,o,"_newKeyGetter");for(var s=0;s<i.length;s++){var l=i[s],u=n[l],c=r[l],d=yi(u),f=yi(c);if(d>1&&f===1)this._updateManyToOne&&this._updateManyToOne(c,u),r[l]=null;else if(d===1&&f>1)this._updateOneToMany&&this._updateOneToMany(c,u),r[l]=null;else if(d===1&&f===1)this._update&&this._update(c,u),r[l]=null;else if(d>1&&f>1)this._updateManyToMany&&this._updateManyToMany(c,u),r[l]=null;else if(d>1)for(var p=0;p<d;p++)this._remove&&this._remove(u[p]);else this._remove&&this._remove(u)}this._performRestAdd(o,r)},t.prototype._performRestAdd=function(e,a){for(var n=0;n<e.length;n++){var r=e[n],i=a[r],o=yi(i);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(i[s]);else o===1&&this._add&&this._add(i);a[r]=null}},t.prototype._initIndexMap=function(e,a,n,r){for(var i=this._diffModeMultiple,o=0;o<e.length;o++){var s="_ec_"+this[r](e[o],o);if(i||(n[o]=s),!!a){var l=a[s],u=yi(l);u===0?(a[s]=o,i&&n.push(s)):u===1?a[s]=[l,o]:l.push(o)}}},t}(),nP=function(){function t(e,a){this._encode=e,this._schema=a}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t}();function rP(t,e){var a={},n=a.encode={},r=ge(),i=[],o=[],s={};q(t.dimensions,function(f){var p=t.getDimensionInfo(f),m=p.coordDim;if(m){var g=p.coordDimIndex;_c(n,m)[g]=f,p.isExtraCoord||(r.set(m,1),oP(p.type)&&(i[0]=f),_c(s,m)[g]=t.getDimensionIndex(p.name)),p.defaultTooltip&&o.push(f)}r0.each(function(h,v){var _=_c(n,v),y=p.otherDims[v];y!=null&&y!==!1&&(_[y]=p.name)})});var l=[],u={};r.each(function(f,p){var m=n[p];u[p]=m[0],l=l.concat(m)}),a.dataDimsOnCoord=l,a.dataDimIndicesOnCoord=de(l,function(f){return t.getDimensionInfo(f).storeDimIndex}),a.encodeFirstDimNotExtra=u;var c=n.label;c&&c.length&&(i=c.slice());var d=n.tooltip;return d&&d.length?o=d.slice():o.length||(o=i.slice()),n.defaultedLabel=i,n.defaultedTooltip=o,a.userOutput=new nP(s,e),a}function _c(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function iP(t){return t==="category"?"ordinal":t==="time"?"time":"float"}function oP(t){return!(t==="ordinal"||t==="time")}var Ts=function(){function t(e){this.otherDims={},e!=null&&ae(this,e)}return t}(),sP=ia(),lP={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},tb=function(){function t(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=ib(this.source)))},t.prototype.getSourceDimensionIndex=function(e){return Ae(this._dimNameMap.get(e),-1)},t.prototype.getSourceDimension=function(e){var a=this.source.dimensionsDefine;if(a)return a[e]},t.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,a=h0(this.source),n=!ob(e),r="",i=[],o=0,s=0;o<e;o++){var l=void 0,u=void 0,c=void 0,d=this.dimensions[s];if(d&&d.storeDimIndex===o)l=a?d.name:null,u=d.type,c=d.ordinalMeta,s++;else{var f=this.getSourceDimension(o);f&&(l=a?f.name:null,u=f.type)}i.push({property:l,type:u,ordinalMeta:c}),a&&l!=null&&(!d||!d.isCalculationCoord)&&(r+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),r+="$",r+=lP[u]||"f",c&&(r+=c.uid),r+="$"}var p=this.source,m=[p.seriesLayoutBy,p.startIndex,r].join("$$");return{dimensions:i,hash:m}},t.prototype.makeOutputDimensionNames=function(){for(var e=[],a=0,n=0;a<this._fullDimCount;a++){var r=void 0,i=this.dimensions[n];if(i&&i.storeDimIndex===a)i.isCalculationCoord||(r=i.name),n++;else{var o=this.getSourceDimension(a);o&&(r=o.name)}e.push(r)}return e},t.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function nb(t){return t instanceof tb}function rb(t){for(var e=ge(),a=0;a<(t||[]).length;a++){var n=t[a],r=fe(n)?n.name:n;r!=null&&e.get(r)==null&&e.set(r,a)}return e}function ib(t){var e=sP(t);return e.dimNameMap||(e.dimNameMap=rb(t.dimensionsDefine))}function ob(t){return t>30}var bi=fe,Ht=de,uP=typeof Int32Array=="undefined"?Array:Int32Array,cP="e\0\0",Pm=-1,dP=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],fP=["_approximateExtent"],qm,ns,wi,xi,yc,rs,bc,pP=function(){function t(e,a){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var n,r=!1;nb(e)?(n=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(r=!0,n=e),n=n||["x","y"];for(var i={},o=[],s={},l=!1,u={},c=0;c<n.length;c++){var d=n[c],f=be(d)?new Ts({name:d}):d instanceof Ts?d:new Ts(d),p=f.name;f.type=f.type||"float",f.coordDim||(f.coordDim=p,f.coordDimIndex=0);var m=f.otherDims=f.otherDims||{};o.push(p),i[p]=f,u[p]!=null&&(l=!0),f.createInvertedIndices&&(s[p]=[]),m.itemName===0&&(this._nameDimIdx=c),m.itemId===0&&(this._idDimIdx=c),r&&(f.storeDimIndex=c)}if(this.dimensions=o,this._dimInfos=i,this._initGetDimensionInfo(l),this.hostModel=a,this._invertedIndicesMap=s,this._dimOmitted){var g=this._dimIdxToName=ge();q(o,function(h){g.set(i[h].storeDimIndex,h)})}}return t.prototype.getDimension=function(e){var a=this._recognizeDimIndex(e);if(a==null)return e;if(a=e,!this._dimOmitted)return this.dimensions[a];var n=this._dimIdxToName.get(a);if(n!=null)return n;var r=this._schema.getSourceDimension(a);if(r)return r.name},t.prototype.getDimensionIndex=function(e){var a=this._recognizeDimIndex(e);if(a!=null)return a;if(e==null)return-1;var n=this._getDimInfo(e);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},t.prototype._recognizeDimIndex=function(e){if(ta(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},t.prototype._getStoreDimIndex=function(e){var a=this.getDimensionIndex(e);return a},t.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},t.prototype._initGetDimensionInfo=function(e){var a=this._dimInfos;this._getDimInfo=e?function(n){return a.hasOwnProperty(n)?a[n]:void 0}:function(n){return a[n]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(e,a){var n=this._dimSummary;if(a==null)return n.encodeFirstDimNotExtra[e];var r=n.encode[e];return r?r[a]:null},t.prototype.mapDimensionsAll=function(e){var a=this._dimSummary,n=a.encode[e];return(n||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(e,a,n){var r=this,i;if(e instanceof wd&&(i=e),!i){var o=this.dimensions,s=Uf(e)||Ma(e)?new v0(e,o.length):e;i=new wd;var l=Ht(o,function(u){return{type:r._dimInfos[u].type,property:u}});i.initData(s,l,n)}this._store=i,this._nameList=(a||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,i.count()),this._dimSummary=rP(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(e){var a=this._store.appendData(e);this._doInit(a[0],a[1])},t.prototype.appendValues=function(e,a){var n=this._store.appendValues(e,a.length),r=n.start,i=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),a)for(var s=r;s<i;s++){var l=s-r;this._nameList[s]=a[l],o&&bc(this,s)}},t.prototype._updateOrdinalMeta=function(){for(var e=this._store,a=this.dimensions,n=0;n<a.length;n++){var r=this._dimInfos[a[n]];r.ordinalMeta&&e.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==rn&&!e.fillStorage},t.prototype._doInit=function(e,a){if(!(e>=a)){var n=this._store,r=n.getProvider();this._updateOrdinalMeta();var i=this._nameList,o=this._idList,s=r.getSource().sourceFormat,l=s===Ja;if(l&&!r.pure)for(var u=[],c=e;c<a;c++){var d=r.getItem(c,u);if(!this.hasItemOption&&TT(d)&&(this.hasItemOption=!0),d){var f=d.name;i[c]==null&&f!=null&&(i[c]=mt(f,null));var p=d.id;o[c]==null&&p!=null&&(o[c]=mt(p,null))}}if(this._shouldMakeIdFromName())for(var c=e;c<a;c++)bc(this,c);qm(this)}},t.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.setApproximateExtent=function(e,a){a=this.getDimension(a),this._approximateExtent[a]=e.slice()},t.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},t.prototype.setCalculationInfo=function(e,a){bi(e)?ae(this._calculationInfo,e):this._calculationInfo[e]=a},t.prototype.getName=function(e){var a=this.getRawIndex(e),n=this._nameList[a];return n==null&&this._nameDimIdx!=null&&(n=wi(this,this._nameDimIdx,a)),n==null&&(n=""),n},t.prototype._getCategory=function(e,a){var n=this._store.get(e,a),r=this._store.getOrdinalMeta(e);return r?r.categories[n]:n},t.prototype.getId=function(e){return ns(this,this.getRawIndex(e))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(e,a){var n=this._store,r=this._dimInfos[e];if(r)return n.get(r.storeDimIndex,a)},t.prototype.getByRawIndex=function(e,a){var n=this._store,r=this._dimInfos[e];if(r)return n.getByRawIndex(r.storeDimIndex,a)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},t.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},t.prototype.getValues=function(e,a){var n=this,r=this._store;return se(e)?r.getValues(Ht(e,function(i){return n._getStoreDimIndex(i)}),a):r.getValues(e)},t.prototype.hasValue=function(e){for(var a=this._dimSummary.dataDimIndicesOnCoord,n=0,r=a.length;n<r;n++)if(isNaN(this._store.get(a[n],e)))return!1;return!0},t.prototype.indexOfName=function(e){for(var a=0,n=this._store.count();a<n;a++)if(this.getName(a)===e)return a;return-1},t.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},t.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},t.prototype.rawIndexOf=function(e,a){var n=e&&this._invertedIndicesMap[e],r=n[a];return r==null||isNaN(r)?Pm:r},t.prototype.indicesOfNearest=function(e,a,n){return this._store.indicesOfNearest(this._getStoreDimIndex(e),a,n)},t.prototype.each=function(e,a,n){we(e)&&(n=a,a=e,e=[]);var r=n||this,i=Ht(xi(e),this._getStoreDimIndex,this);this._store.each(i,r?ma(a,r):a)},t.prototype.filterSelf=function(e,a,n){we(e)&&(n=a,a=e,e=[]);var r=n||this,i=Ht(xi(e),this._getStoreDimIndex,this);return this._store=this._store.filter(i,r?ma(a,r):a),this},t.prototype.selectRange=function(e){var a=this,n={},r=Xe(e);return q(r,function(i){var o=a._getStoreDimIndex(i);n[o]=e[i]}),this._store=this._store.selectRange(n),this},t.prototype.mapArray=function(e,a,n){we(e)&&(n=a,a=e,e=[]),n=n||this;var r=[];return this.each(e,function(){r.push(a&&a.apply(this,arguments))},n),r},t.prototype.map=function(e,a,n,r){var i=n||r||this,o=Ht(xi(e),this._getStoreDimIndex,this),s=rs(this);return s._store=this._store.map(o,i?ma(a,i):a),s},t.prototype.modify=function(e,a,n,r){var i=n||r||this,o=Ht(xi(e),this._getStoreDimIndex,this);this._store.modify(o,i?ma(a,i):a)},t.prototype.downSample=function(e,a,n,r){var i=rs(this);return i._store=this._store.downSample(this._getStoreDimIndex(e),a,n,r),i},t.prototype.lttbDownSample=function(e,a){var n=rs(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(e),a),n},t.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},t.prototype.getItemModel=function(e){var a=this.hostModel,n=this.getRawDataItem(e);return new ca(n,a,a&&a.ecModel)},t.prototype.diff=function(e){var a=this;return new Ld(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(n){return ns(e,n)},function(n){return ns(a,n)})},t.prototype.getVisual=function(e){var a=this._visual;return a&&a[e]},t.prototype.setVisual=function(e,a){this._visual=this._visual||{},bi(e)?ae(this._visual,e):this._visual[e]=a},t.prototype.getItemVisual=function(e,a){var n=this._itemVisuals[e],r=n&&n[a];return r==null?this.getVisual(a):r},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(e,a){var n=this._itemVisuals,r=n[e];r||(r=n[e]={});var i=r[a];return i==null&&(i=this.getVisual(a),se(i)?i=i.slice():bi(i)&&(i=ae({},i)),r[a]=i),i},t.prototype.setItemVisual=function(e,a,n){var r=this._itemVisuals[e]||{};this._itemVisuals[e]=r,bi(a)?ae(r,a):r[a]=n},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(e,a){bi(e)?ae(this._layout,e):this._layout[e]=a},t.prototype.getLayout=function(e){return this._layout[e]},t.prototype.getItemLayout=function(e){return this._itemLayouts[e]},t.prototype.setItemLayout=function(e,a,n){this._itemLayouts[e]=n?ae(this._itemLayouts[e]||{},a):a},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(e,a){var n=this.hostModel&&this.hostModel.seriesIndex;BE(n,this.dataType,e,a),this._graphicEls[e]=a},t.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},t.prototype.eachItemGraphicEl=function(e,a){q(this._graphicEls,function(n,r){n&&e&&e.call(a,n,r)})},t.prototype.cloneShallow=function(e){return e||(e=new t(this._schema?this._schema:Ht(this.dimensions,this._getDimInfo,this),this.hostModel)),yc(e,this),e._store=this._store,e},t.prototype.wrapMethod=function(e,a){var n=this[e];we(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var r=n.apply(this,arguments);return a.apply(this,[r].concat(uf(arguments)))})},t.internalField=function(){qm=function(e){var a=e._invertedIndicesMap;q(a,function(n,r){var i=e._dimInfos[r],o=i.ordinalMeta,s=e._store;if(o){n=a[r]=new uP(o.categories.length);for(var l=0;l<n.length;l++)n[l]=Pm;for(var l=0;l<s.count();l++)n[s.get(i.storeDimIndex,l)]=l}})},wi=function(e,a,n){return mt(e._getCategory(a,n),null)},ns=function(e,a){var n=e._idList[a];return n==null&&e._idDimIdx!=null&&(n=wi(e,e._idDimIdx,a)),n==null&&(n=cP+a),n},xi=function(e){return se(e)||(e=e!=null?[e]:[]),e},rs=function(e){var a=new t(e._schema?e._schema:Ht(e.dimensions,e._getDimInfo,e),e.hostModel);return yc(a,e),a},yc=function(e,a){q(dP.concat(a.__wrappedMethods||[]),function(n){a.hasOwnProperty(n)&&(e[n]=a[n])}),e.__wrappedMethods=a.__wrappedMethods,q(fP,function(n){e[n]=De(a[n])}),e._calculationInfo=ae({},a._calculationInfo)},bc=function(e,a){var n=e._nameList,r=e._idList,i=e._nameDimIdx,o=e._idDimIdx,s=n[a],l=r[a];if(s==null&&i!=null&&(n[a]=s=wi(e,i,a)),l==null&&o!=null&&(r[a]=l=wi(e,o,a)),l==null&&s!=null){var u=e._nameRepeatCount,c=u[s]=(u[s]||0)+1;l=s,c>1&&(l+="__ec__"+c),r[a]=l}}}(),t}();function hP(t,e){Uf(t)||(t=f0(t)),e=e||{};var a=e.coordDimensions||[],n=e.dimensionsDefine||t.dimensionsDefine||[],r=ge(),i=[],o=mP(t,a,n,e.dimensionsCount),s=e.canOmitUnusedDimensions&&ob(o),l=n===t.dimensionsDefine,u=l?ib(t):rb(n),c=e.encodeDefine;!c&&e.encodeDefaulter&&(c=e.encodeDefaulter(t,o));for(var d=ge(c),f=new b0(o),p=0;p<f.length;p++)f[p]=-1;function m(k){var b=f[k];if(b<0){var M=n[k],D=fe(M)?M:{name:M},L=new Ts,P=D.name;P!=null&&u.get(P)!=null&&(L.name=L.displayName=P),D.type!=null&&(L.type=D.type),D.displayName!=null&&(L.displayName=D.displayName);var I=i.length;return f[k]=I,L.storeDimIndex=k,i.push(L),L}return i[b]}if(!s)for(var p=0;p<o;p++)m(p);d.each(function(k,b){var M=na(k).slice();if(M.length===1&&!be(M[0])&&M[0]<0){d.set(b,!1);return}var D=d.set(b,[]);q(M,function(L,P){var I=be(L)?u.get(L):L;I!=null&&I<o&&(D[P]=I,h(m(I),b,P))})});var g=0;q(a,function(k){var b,M,D,L;if(be(k))b=k,L={};else{L=k,b=L.name;var P=L.ordinalMeta;L.ordinalMeta=null,L=ae({},L),L.ordinalMeta=P,M=L.dimsDef,D=L.otherDims,L.name=L.coordDim=L.coordDimIndex=L.dimsDef=L.otherDims=null}var I=d.get(b);if(I!==!1){if(I=na(I),!I.length)for(var R=0;R<(M&&M.length||1);R++){for(;g<o&&m(g).coordDim!=null;)g++;g<o&&I.push(g++)}q(I,function(U,N){var W=m(U);if(l&&L.type!=null&&(W.type=L.type),h(Se(W,L),b,N),W.name==null&&M){var Q=M[N];!fe(Q)&&(Q={name:Q}),W.name=W.displayName=Q.name,W.defaultTooltip=Q.defaultTooltip}D&&Se(W.otherDims,D)})}});function h(k,b,M){r0.get(b)!=null?k.otherDims[b]=M:(k.coordDim=b,k.coordDimIndex=M,r.set(b,!0))}var v=e.generateCoord,_=e.generateCoordCount,y=_!=null;_=v?_||1:0;var x=v||"value";function E(k){k.name==null&&(k.name=k.coordDim)}if(s)q(i,function(k){E(k)}),i.sort(function(k,b){return k.storeDimIndex-b.storeDimIndex});else for(var w=0;w<o;w++){var A=m(w),S=A.coordDim;S==null&&(A.coordDim=gP(x,r,y),A.coordDimIndex=0,(!v||_<=0)&&(A.isExtraCoord=!0),_--),E(A),A.type==null&&(l0(t,w)===Ia.Must||A.isExtraCoord&&(A.otherDims.itemName!=null||A.otherDims.seriesName!=null))&&(A.type="ordinal")}return vP(i),new tb({source:t,dimensions:i,fullDimensionCount:o,dimensionOmitted:s})}function vP(t){for(var e=ge(),a=0;a<t.length;a++){var n=t[a],r=n.name,i=e.get(r)||0;i>0&&(n.name=r+(i-1)),i++,e.set(r,i)}}function mP(t,e,a,n){var r=Math.max(t.dimensionsDetectedCount||1,e.length,a.length,n||0);return q(e,function(i){var o;fe(i)&&(o=i.dimsDef)&&(r=Math.max(r,o.length))}),r}function gP(t,e,a){if(a||e.hasKey(t)){for(var n=0;e.hasKey(t+n);)n++;t+=n}return e.set(t,!0),t}var _P=function(){function t(e){this.coordSysDims=[],this.axisMap=ge(),this.categoryAxisMap=ge(),this.coordSysName=e}return t}();function yP(t){var e=t.get("coordinateSystem"),a=new _P(e),n=bP[e];if(n)return n(t,a,a.axisMap,a.categoryAxisMap),a}var bP={cartesian2d:function(t,e,a,n){var r=t.getReferringComponents("xAxis",ot).models[0],i=t.getReferringComponents("yAxis",ot).models[0];e.coordSysDims=["x","y"],a.set("x",r),a.set("y",i),yr(r)&&(n.set("x",r),e.firstCategoryDimIndex=0),yr(i)&&(n.set("y",i),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,a,n){var r=t.getReferringComponents("singleAxis",ot).models[0];e.coordSysDims=["single"],a.set("single",r),yr(r)&&(n.set("single",r),e.firstCategoryDimIndex=0)},polar:function(t,e,a,n){var r=t.getReferringComponents("polar",ot).models[0],i=r.findAxisModel("radiusAxis"),o=r.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],a.set("radius",i),a.set("angle",o),yr(i)&&(n.set("radius",i),e.firstCategoryDimIndex=0),yr(o)&&(n.set("angle",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(t,e,a,n){e.coordSysDims=["lng","lat"]},parallel:function(t,e,a,n){var r=t.ecModel,i=r.getComponent("parallel",t.get("parallelIndex")),o=e.coordSysDims=i.dimensions.slice();q(i.parallelAxisIndex,function(s,l){var u=r.getComponent("parallelAxis",s),c=o[l];a.set(c,u),yr(u)&&(n.set(c,u),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})}};function yr(t){return t.get("type")==="category"}function wP(t,e,a){a=a||{};var n=a.byIndex,r=a.stackedCoordDimension,i,o,s;xP(e)?i=e:(o=e.schema,i=o.dimensions,s=e.store);var l=!!(t&&t.get("stack")),u,c,d,f;if(q(i,function(_,y){be(_)&&(i[y]=_={name:_}),l&&!_.isExtraCoord&&(!n&&!u&&_.ordinalMeta&&(u=_),!c&&_.type!=="ordinal"&&_.type!=="time"&&(!r||r===_.coordDim)&&(c=_))}),c&&!n&&!u&&(n=!0),c){d="__\0ecstackresult_"+t.id,f="__\0ecstackedover_"+t.id,u&&(u.createInvertedIndices=!0);var p=c.coordDim,m=c.type,g=0;q(i,function(_){_.coordDim===p&&g++});var h={name:d,coordDim:p,coordDimIndex:g,type:m,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},v={name:f,coordDim:f,coordDimIndex:g+1,type:m,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1};o?(s&&(h.storeDimIndex=s.ensureCalculationDimension(f,m),v.storeDimIndex=s.ensureCalculationDimension(d,m)),o.appendCalculationDimension(h),o.appendCalculationDimension(v)):(i.push(h),i.push(v))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:n,stackedOverDimension:f,stackResultDimension:d}}function xP(t){return!nb(t.schema)}function so(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function SP(t,e){return so(t,e)?t.getCalculationInfo("stackResultDimension"):e}function CP(t,e){var a=t.get("coordinateSystem"),n=Ff.get(a),r;return e&&e.coordSysDims&&(r=de(e.coordSysDims,function(i){var o={name:i},s=e.axisMap.get(i);if(s){var l=s.get("type");o.type=iP(l)}return o})),r||(r=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),r}function AP(t,e,a){var n,r;return a&&q(t,function(i,o){var s=i.coordDim,l=a.categoryAxisMap.get(s);l&&(n==null&&(n=o),i.ordinalMeta=l.getOrdinalMeta(),e&&(i.createInvertedIndices=!0)),i.otherDims.itemName!=null&&(r=!0)}),!r&&n!=null&&(t[n].otherDims.itemName=0),n}function TP(t,e,a){a=a||{};var n=e.getSourceManager(),r,i=!1;r=n.getSource(),i=r.sourceFormat===Ja;var o=yP(e),s=CP(e,o),l=a.useEncodeDefaulter,u=we(l)?l:l?Xa(EM,s,e):null,c={coordDimensions:s,generateCoord:a.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!i},d=hP(r,c),f=AP(d.dimensions,a.createInvertedIndices,o),p=i?null:n.getSharedDataStore(d),m=wP(e,{schema:d,store:p}),g=new pP(d,e);g.setCalculationInfo(m);var h=f!=null&&EP(r)?function(v,_,y,x){return x===f?y:this.defaultDimValueGetter(v,_,y,x)}:null;return g.hasItemOption=!1,g.initData(i?r:p,null,h),g}function EP(t){if(t.sourceFormat===Ja){var e=kP(t.data||[]);return!se(go(e))}}function kP(t){for(var e=0;e<t.length&&t[e]==null;)e++;return t[e]}var Ct=function(){function t(e){this._setting=e||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(e){return this._setting[e]},t.prototype.unionExtent=function(e){var a=this._extent;e[0]<a[0]&&(a[0]=e[0]),e[1]>a[1]&&(a[1]=e[1])},t.prototype.unionExtentFromData=function(e,a){this.unionExtent(e.getApproximateExtent(a))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(e,a){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(a)||(n[1]=a)},t.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(e){this._isBlank=e},t}();wl(Ct);var MP=0,Pd=function(){function t(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++MP}return t.createByAxisModel=function(e){var a=e.option,n=a.data,r=n&&de(n,DP);return new t({categories:r,needCollect:!r,deduplication:a.dedplication!==!1})},t.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},t.prototype.parseAndCollect=function(e){var a,n=this._needCollect;if(!be(e)&&!n)return e;if(n&&!this._deduplication)return a=this.categories.length,this.categories[a]=e,a;var r=this._getOrCreateMap();return a=r.get(e),a==null&&(n?(a=this.categories.length,this.categories[a]=e,r.set(e,a)):a=NaN),a},t.prototype._getOrCreateMap=function(){return this._map||(this._map=ge(this.categories))},t}();function DP(t){return fe(t)&&t.value!=null?t.value:t+""}function qd(t){return t.type==="interval"||t.type==="log"}function LP(t,e,a,n){var r={},i=t[1]-t[0],o=r.interval=Z_(i/e);a!=null&&o<a&&(o=r.interval=a),n!=null&&o>n&&(o=r.interval=n);var s=r.intervalPrecision=sb(o),l=r.niceTickExtent=[aa(Math.ceil(t[0]/o)*o,s),aa(Math.floor(t[1]/o)*o,s)];return PP(l,t),r}function wc(t){var e=Math.pow(10,_f(t)),a=t/e;return a?a===2?a=3:a===3?a=5:a*=2:a=1,aa(a*e)}function sb(t){return Mt(t)+2}function Im(t,e,a){t[e]=Math.max(Math.min(t[e],a[1]),a[0])}function PP(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),Im(t,0,e),Im(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function Vl(t,e){return t>=e[0]&&t<=e[1]}function jl(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function Fl(t,e){return t*(e[1]-e[0])+e[0]}var Qf=function(t){qe(e,t);function e(a){var n=t.call(this,a)||this;n.type="ordinal";var r=n.getSetting("ordinalMeta");return r||(r=new Pd({})),se(r)&&(r=new Pd({categories:de(r,function(i){return fe(i)?i.value:i})})),n._ordinalMeta=r,n._extent=n.getSetting("extent")||[0,r.categories.length-1],n}return e.prototype.parse=function(a){return a==null?NaN:be(a)?this._ordinalMeta.getOrdinal(a):Math.round(a)},e.prototype.contain=function(a){return a=this.parse(a),Vl(a,this._extent)&&this._ordinalMeta.categories[a]!=null},e.prototype.normalize=function(a){return a=this._getTickNumber(this.parse(a)),jl(a,this._extent)},e.prototype.scale=function(a){return a=Math.round(Fl(a,this._extent)),this.getRawOrdinalNumber(a)},e.prototype.getTicks=function(){for(var a=[],n=this._extent,r=n[0];r<=n[1];)a.push({value:r}),r++;return a},e.prototype.getMinorTicks=function(a){},e.prototype.setSortInfo=function(a){if(a==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=a.ordinalNumbers,r=this._ordinalNumbersByTick=[],i=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,l=Math.min(s,n.length);o<l;++o){var u=n[o];r[o]=u,i[u]=o}for(var c=0;o<s;++o){for(;i[c]!=null;)c++;r.push(c),i[c]=o}},e.prototype._getTickNumber=function(a){var n=this._ticksByOrdinalNumber;return n&&a>=0&&a<n.length?n[a]:a},e.prototype.getRawOrdinalNumber=function(a){var n=this._ordinalNumbersByTick;return n&&a>=0&&a<n.length?n[a]:a},e.prototype.getLabel=function(a){if(!this.isBlank()){var n=this.getRawOrdinalNumber(a.value),r=this._ordinalMeta.categories[n];return r==null?"":r+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(a,n){this.unionExtent(a.getApproximateExtent(n))},e.prototype.isInExtentRange=function(a){return a=this._getTickNumber(a),this._extent[0]<=a&&this._extent[1]>=a},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(Ct);Ct.registerClass(Qf);var zn=aa,Jr=function(t){qe(e,t);function e(){var a=t!==null&&t.apply(this,arguments)||this;return a.type="interval",a._interval=0,a._intervalPrecision=2,a}return e.prototype.parse=function(a){return a},e.prototype.contain=function(a){return Vl(a,this._extent)},e.prototype.normalize=function(a){return jl(a,this._extent)},e.prototype.scale=function(a){return Fl(a,this._extent)},e.prototype.setExtent=function(a,n){var r=this._extent;isNaN(a)||(r[0]=parseFloat(a)),isNaN(n)||(r[1]=parseFloat(n))},e.prototype.unionExtent=function(a){var n=this._extent;a[0]<n[0]&&(n[0]=a[0]),a[1]>n[1]&&(n[1]=a[1]),this.setExtent(n[0],n[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(a){this._interval=a,this._niceExtent=this._extent.slice(),this._intervalPrecision=sb(a)},e.prototype.getTicks=function(a){var n=this._interval,r=this._extent,i=this._niceExtent,o=this._intervalPrecision,s=[];if(!n)return s;var l=1e4;r[0]<i[0]&&(a?s.push({value:zn(i[0]-n,o)}):s.push({value:r[0]}));for(var u=i[0];u<=i[1]&&(s.push({value:u}),u=zn(u+n,o),u!==s[s.length-1].value);)if(s.length>l)return[];var c=s.length?s[s.length-1].value:i[1];return r[1]>c&&(a?s.push({value:zn(c+n,o)}):s.push({value:r[1]})),s},e.prototype.getMinorTicks=function(a){for(var n=this.getTicks(!0),r=[],i=this.getExtent(),o=1;o<n.length;o++){for(var s=n[o],l=n[o-1],u=0,c=[],d=s.value-l.value,f=d/a;u<a-1;){var p=zn(l.value+(u+1)*f);p>i[0]&&p<i[1]&&c.push(p),u++}r.push(c)}return r},e.prototype.getLabel=function(a,n){if(a==null)return"";var r=n&&n.precision;r==null?r=Mt(a.value)||0:r==="auto"&&(r=this._intervalPrecision);var i=zn(a.value,r,!0);return _M(i)},e.prototype.calcNiceTicks=function(a,n,r){a=a||5;var i=this._extent,o=i[1]-i[0];if(isFinite(o)){o<0&&(o=-o,i.reverse());var s=LP(i,a,n,r);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},e.prototype.calcNiceExtent=function(a){var n=this._extent;if(n[0]===n[1])if(n[0]!==0){var r=Math.abs(n[0]);a.fixMax||(n[1]+=r/2),n[0]-=r/2}else n[1]=1;var i=n[1]-n[0];isFinite(i)||(n[0]=0,n[1]=1),this.calcNiceTicks(a.splitNumber,a.minInterval,a.maxInterval);var o=this._interval;a.fixMin||(n[0]=zn(Math.floor(n[0]/o)*o)),a.fixMax||(n[1]=zn(Math.ceil(n[1]/o)*o))},e.prototype.setNiceExtent=function(a,n){this._niceExtent=[a,n]},e.type="interval",e}(Ct);Ct.registerClass(Jr);var lb=typeof Float32Array!="undefined",qP=lb?Float32Array:Array;function Lr(t){return se(t)?lb?new Float32Array(t):t:new qP(t)}var IP="__ec_stack_";function ub(t){return t.get("stack")||IP+t.seriesIndex}function cb(t){return t.dim+t.index}function RP(t,e){var a=[];return e.eachSeriesByType(t,function(n){VP(n)&&a.push(n)}),a}function OP(t){var e={};q(t,function(l){var u=l.coordinateSystem,c=u.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var d=l.getData(),f=c.dim+"_"+c.index,p=d.getDimensionIndex(d.mapDimension(c.dim)),m=d.getStore(),g=0,h=m.count();g<h;++g){var v=m.get(p,g);e[f]?e[f].push(v):e[f]=[v]}});var a={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(r){r.sort(function(l,u){return l-u});for(var i=null,o=1;o<r.length;++o){var s=r[o]-r[o-1];s>0&&(i=i===null?s:Math.min(i,s))}a[n]=i}}return a}function BP(t){var e=OP(t),a=[];return q(t,function(n){var r=n.coordinateSystem,i=r.getBaseAxis(),o=i.getExtent(),s;if(i.type==="category")s=i.getBandWidth();else if(i.type==="value"||i.type==="time"){var l=i.dim+"_"+i.index,u=e[l],c=Math.abs(o[1]-o[0]),d=i.scale.getExtent(),f=Math.abs(d[1]-d[0]);s=u?c/f*u:c}else{var p=n.getData();s=Math.abs(o[1]-o[0])/p.count()}var m=Oa(n.get("barWidth"),s),g=Oa(n.get("barMaxWidth"),s),h=Oa(n.get("barMinWidth")||(jP(n)?.5:1),s),v=n.get("barGap"),_=n.get("barCategoryGap");a.push({bandWidth:s,barWidth:m,barMaxWidth:g,barMinWidth:h,barGap:v,barCategoryGap:_,axisKey:cb(i),stackId:ub(n)})}),zP(a)}function zP(t){var e={};q(t,function(n,r){var i=n.axisKey,o=n.bandWidth,s=e[i]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;e[i]=s;var u=n.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=n.barWidth;c&&!l[u].width&&(l[u].width=c,c=Math.min(s.remainedWidth,c),s.remainedWidth-=c);var d=n.barMaxWidth;d&&(l[u].maxWidth=d);var f=n.barMinWidth;f&&(l[u].minWidth=f);var p=n.barGap;p!=null&&(s.gap=p);var m=n.barCategoryGap;m!=null&&(s.categoryGap=m)});var a={};return q(e,function(n,r){a[r]={};var i=n.stacks,o=n.bandWidth,s=n.categoryGap;if(s==null){var l=Xe(i).length;s=Math.max(35-l*4,15)+"%"}var u=Oa(s,o),c=Oa(n.gap,1),d=n.remainedWidth,f=n.autoWidthCount,p=(d-u)/(f+(f-1)*c);p=Math.max(p,0),q(i,function(v){var _=v.maxWidth,y=v.minWidth;if(v.width){var x=v.width;_&&(x=Math.min(x,_)),y&&(x=Math.max(x,y)),v.width=x,d-=x+c*x,f--}else{var x=p;_&&_<x&&(x=Math.min(_,d)),y&&y>x&&(x=y),x!==p&&(v.width=x,d-=x+c*x,f--)}}),p=(d-u)/(f+(f-1)*c),p=Math.max(p,0);var m=0,g;q(i,function(v,_){v.width||(v.width=p),g=v,m+=v.width*(1+c)}),g&&(m-=g.width*c);var h=-m/2;q(i,function(v,_){a[r][_]=a[r][_]||{bandWidth:o,offset:h,width:v.width},h+=v.width*(1+c)})}),a}function NP(t,e,a){if(t&&e){var n=t[cb(e)];return n!=null&&a!=null?n[ub(a)]:n}}function VP(t){return t.coordinateSystem&&t.coordinateSystem.type==="cartesian2d"}function jP(t){return t.pipelineContext&&t.pipelineContext.large}var FP=function(t,e,a,n){for(;a<n;){var r=a+n>>>1;t[r][1]<e?a=r+1:n=r}return a},db=function(t){qe(e,t);function e(a){var n=t.call(this,a)||this;return n.type="time",n}return e.prototype.getLabel=function(a){var n=this.getSetting("useUTC");return Ky(a.value,Ev[vM(Vr(this._minLevelUnit))]||Ev.second,n,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(a,n,r){var i=this.getSetting("useUTC"),o=this.getSetting("locale");return mM(a,n,r,o,i)},e.prototype.getTicks=function(){var a=this._interval,n=this._extent,r=[];if(!a)return r;r.push({value:n[0],level:0});var i=this.getSetting("useUTC"),o=XP(this._minLevelUnit,this._approxInterval,i,n);return r=r.concat(o),r.push({value:n[1],level:0}),r},e.prototype.calcNiceExtent=function(a){var n=this._extent;if(n[0]===n[1]&&(n[0]-=Ka,n[1]+=Ka),n[1]===-1/0&&n[0]===1/0){var r=new Date;n[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),n[0]=n[1]-Ka}this.calcNiceTicks(a.splitNumber,a.minInterval,a.maxInterval)},e.prototype.calcNiceTicks=function(a,n,r){a=a||10;var i=this._extent,o=i[1]-i[0];this._approxInterval=o/a,n!=null&&this._approxInterval<n&&(this._approxInterval=n),r!=null&&this._approxInterval>r&&(this._approxInterval=r);var s=is.length,l=Math.min(FP(is,this._approxInterval,0,s),s-1);this._interval=is[l][1],this._minLevelUnit=is[Math.max(l-1,0)][0]},e.prototype.parse=function(a){return ta(a)?a:+un(a)},e.prototype.contain=function(a){return Vl(this.parse(a),this._extent)},e.prototype.normalize=function(a){return jl(this.parse(a),this._extent)},e.prototype.scale=function(a){return Fl(a,this._extent)},e.type="time",e}(Jr),is=[["second",Of],["minute",Bf],["hour",Vi],["quarter-day",Vi*6],["half-day",Vi*12],["day",Ka*1.2],["half-week",Ka*3.5],["week",Ka*7],["month",Ka*31],["quarter",Ka*95],["half-year",Tv/2],["year",Tv]];function UP(t,e,a,n){var r=un(e),i=un(a),o=function(m){return kv(r,m,n)===kv(i,m,n)},s=function(){return o("year")},l=function(){return s()&&o("month")},u=function(){return l()&&o("day")},c=function(){return u()&&o("hour")},d=function(){return c()&&o("minute")},f=function(){return d()&&o("second")},p=function(){return f()&&o("millisecond")};switch(t){case"year":return s();case"month":return l();case"day":return u();case"hour":return c();case"minute":return d();case"second":return f();case"millisecond":return p()}}function GP(t,e){return t/=Ka,t>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function HP(t){var e=30*Ka;return t/=e,t>6?6:t>3?3:t>2?2:1}function WP(t){return t/=Vi,t>12?12:t>6?6:t>3.5?4:t>2?2:1}function Rm(t,e){return t/=e?Bf:Of,t>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function KP(t){return Z_(t)}function YP(t,e,a){var n=new Date(t);switch(Vr(e)){case"year":case"month":n[Xy(a)](0);case"day":n[Zy(a)](1);case"hour":n[Qy(a)](0);case"minute":n[Jy(a)](0);case"second":n[$y(a)](0),n[e0(a)](0)}return n.getTime()}function XP(t,e,a,n){var r=1e4,i=Wy,o=0;function s(b,M,D,L,P,I,R){for(var U=new Date(M),N=M,W=U[L]();N<D&&N<=n[1];)R.push({value:N}),W+=b,U[P](W),N=U.getTime();R.push({value:N,notAdd:!0})}function l(b,M,D){var L=[],P=!M.length;if(!UP(Vr(b),n[0],n[1],a)){P&&(M=[{value:YP(new Date(n[0]),b,a)},{value:n[1]}]);for(var I=0;I<M.length-1;I++){var R=M[I].value,U=M[I+1].value;if(R!==U){var N=void 0,W=void 0,Q=void 0,re=!1;switch(b){case"year":N=Math.max(1,Math.round(e/Ka/365)),W=zf(a),Q=gM(a);break;case"half-year":case"quarter":case"month":N=HP(e),W=jr(a),Q=Xy(a);break;case"week":case"half-week":case"day":N=GP(e),W=ql(a),Q=Zy(a),re=!0;break;case"half-day":case"quarter-day":case"hour":N=WP(e),W=eo(a),Q=Qy(a);break;case"minute":N=Rm(e,!0),W=Il(a),Q=Jy(a);break;case"second":N=Rm(e,!1),W=Rl(a),Q=$y(a);break;case"millisecond":N=KP(e),W=Ol(a),Q=e0(a);break}s(N,R,U,W,Q,re,L),b==="year"&&D.length>1&&I===0&&D.unshift({value:D[0].value-N})}}for(var I=0;I<L.length;I++)D.push(L[I]);return L}}for(var u=[],c=[],d=0,f=0,p=0;p<i.length&&o++<r;++p){var m=Vr(i[p]);if(hM(i[p])){l(i[p],u[u.length-1]||[],c);var g=i[p+1]?Vr(i[p+1]):null;if(m!==g){if(c.length){f=d,c.sort(function(b,M){return b.value-M.value});for(var h=[],v=0;v<c.length;++v){var _=c[v].value;(v===0||c[v-1].value!==_)&&(h.push(c[v]),_>=n[0]&&_<=n[1]&&d++)}var y=(n[1]-n[0])/e;if(d>y*1.5&&f>y/1.5||(u.push(h),d>y||t===i[p]))break}c=[]}}}for(var x=va(de(u,function(b){return va(b,function(M){return M.value>=n[0]&&M.value<=n[1]&&!M.notAdd})}),function(b){return b.length>0}),E=[],w=x.length-1,p=0;p<x.length;++p)for(var A=x[p],S=0;S<A.length;++S)E.push({value:A[S].value,level:w-p});E.sort(function(b,M){return b.value-M.value});for(var k=[],p=0;p<E.length;++p)(p===0||E[p].value!==E[p-1].value)&&k.push(E[p]);return k}Ct.registerClass(db);var Om=Ct.prototype,Gi=Jr.prototype,ZP=aa,QP=Math.floor,JP=Math.ceil,os=Math.pow,at=Math.log,Jf=function(t){qe(e,t);function e(){var a=t!==null&&t.apply(this,arguments)||this;return a.type="log",a.base=10,a._originalScale=new Jr,a._interval=0,a}return e.prototype.getTicks=function(a){var n=this._originalScale,r=this._extent,i=n.getExtent(),o=Gi.getTicks.call(this,a);return de(o,function(s){var l=s.value,u=aa(os(this.base,l));return u=l===r[0]&&this._fixMin?ss(u,i[0]):u,u=l===r[1]&&this._fixMax?ss(u,i[1]):u,{value:u}},this)},e.prototype.setExtent=function(a,n){var r=at(this.base);a=at(Math.max(0,a))/r,n=at(Math.max(0,n))/r,Gi.setExtent.call(this,a,n)},e.prototype.getExtent=function(){var a=this.base,n=Om.getExtent.call(this);n[0]=os(a,n[0]),n[1]=os(a,n[1]);var r=this._originalScale,i=r.getExtent();return this._fixMin&&(n[0]=ss(n[0],i[0])),this._fixMax&&(n[1]=ss(n[1],i[1])),n},e.prototype.unionExtent=function(a){this._originalScale.unionExtent(a);var n=this.base;a[0]=at(a[0])/at(n),a[1]=at(a[1])/at(n),Om.unionExtent.call(this,a)},e.prototype.unionExtentFromData=function(a,n){this.unionExtent(a.getApproximateExtent(n))},e.prototype.calcNiceTicks=function(a){a=a||10;var n=this._extent,r=n[1]-n[0];if(!(r===1/0||r<=0)){var i=wT(r),o=a/r*i;for(o<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var s=[aa(JP(n[0]/i)*i),aa(QP(n[1]/i)*i)];this._interval=i,this._niceExtent=s}},e.prototype.calcNiceExtent=function(a){Gi.calcNiceExtent.call(this,a),this._fixMin=a.fixMin,this._fixMax=a.fixMax},e.prototype.parse=function(a){return a},e.prototype.contain=function(a){return a=at(a)/at(this.base),Vl(a,this._extent)},e.prototype.normalize=function(a){return a=at(a)/at(this.base),jl(a,this._extent)},e.prototype.scale=function(a){return a=Fl(a,this._extent),os(this.base,a)},e.type="log",e}(Ct),fb=Jf.prototype;fb.getMinorTicks=Gi.getMinorTicks;fb.getLabel=Gi.getLabel;function ss(t,e){return ZP(t,Mt(e))}Ct.registerClass(Jf);var $P=function(){function t(e,a,n){this._prepareParams(e,a,n)}return t.prototype._prepareParams=function(e,a,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var r=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&a.getNeedCrossZero&&a.getNeedCrossZero();var i=a.get("min",!0);i==null&&(i=a.get("startValue",!0));var o=this._modelMinRaw=i;we(o)?this._modelMinNum=ls(e,o({min:n[0],max:n[1]})):o!=="dataMin"&&(this._modelMinNum=ls(e,o));var s=this._modelMaxRaw=a.get("max",!0);if(we(s)?this._modelMaxNum=ls(e,s({min:n[0],max:n[1]})):s!=="dataMax"&&(this._modelMaxNum=ls(e,s)),r)this._axisDataLen=a.getCategories().length;else{var l=a.get("boundaryGap"),u=se(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Jn(u[0],1),Jn(u[1],1)]}},t.prototype.calculate=function(){var e=this._isOrdinal,a=this._dataMin,n=this._dataMax,r=this._axisDataLen,i=this._boundaryGapInner,o=e?null:n-a||Math.abs(a),s=this._modelMinRaw==="dataMin"?a:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,u=s!=null,c=l!=null;s==null&&(s=e?r?0:NaN:a-i[0]*o),l==null&&(l=e?r?r-1:NaN:n+i[1]*o),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN);var d=Rs(s)||Rs(l)||e&&!r;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!c&&(l=0));var f=this._determinedMin,p=this._determinedMax;return f!=null&&(s=f,u=!0),p!=null&&(l=p,c=!0),{min:s,max:l,minFixed:u,maxFixed:c,isBlank:d}},t.prototype.modifyDataMinMax=function(e,a){this[aq[e]]=a},t.prototype.setDeterminedMinMax=function(e,a){var n=eq[e];this[n]=a},t.prototype.freeze=function(){this.frozen=!0},t}(),eq={min:"_determinedMin",max:"_determinedMax"},aq={min:"_dataMin",max:"_dataMax"};function tq(t,e,a){var n=t.rawExtentInfo;return n||(n=new $P(t,e,a),t.rawExtentInfo=n,n)}function ls(t,e){return e==null?null:Rs(e)?NaN:t.parse(e)}function pb(t,e){var a=t.type,n=tq(t,e,t.getExtent()).calculate();t.setBlank(n.isBlank);var r=n.min,i=n.max,o=e.ecModel;if(o&&a==="time"){var s=RP("bar",o),l=!1;if(q(s,function(d){l=l||d.getBaseAxis()===e.axis}),l){var u=BP(s),c=nq(r,i,e,u);r=c.min,i=c.max}}return{extent:[r,i],fixMin:n.minFixed,fixMax:n.maxFixed}}function nq(t,e,a,n){var r=a.axis.getExtent(),i=r[1]-r[0],o=NP(n,a.axis);if(o===void 0)return{min:t,max:e};var s=1/0;q(o,function(p){s=Math.min(p.offset,s)});var l=-1/0;q(o,function(p){l=Math.max(p.offset+p.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,c=e-t,d=1-(s+l)/i,f=c/d-c;return e+=f*(l/u),t-=f*(s/u),{min:t,max:e}}function Bm(t,e){var a=e,n=pb(t,a),r=n.extent,i=a.get("splitNumber");t instanceof Jf&&(t.base=a.get("logBase"));var o=t.type,s=a.get("interval"),l=o==="interval"||o==="time";t.setExtent(r[0],r[1]),t.calcNiceExtent({splitNumber:i,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:l?a.get("minInterval"):null,maxInterval:l?a.get("maxInterval"):null}),s!=null&&t.setInterval&&t.setInterval(s)}function rq(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new Qf({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new db({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(Ct.getClass(e)||Jr)}}function iq(t){var e=t.scale.getExtent(),a=e[0],n=e[1];return!(a>0&&n>0||a<0&&n<0)}function $r(t){var e=t.getLabelModel().get("formatter"),a=t.type==="category"?t.scale.getExtent()[0]:null;return t.scale.type==="time"?function(n){return function(r,i){return t.scale.getFormattedLabel(r,i,n)}}(e):be(e)?function(n){return function(r){var i=t.scale.getLabel(r),o=n.replace("{value}",i!=null?i:"");return o}}(e):we(e)?function(n){return function(r,i){return a!=null&&(i=r.value-a),n(hb(t,r),i,r.level!=null?{level:r.level}:null)}}(e):function(n){return t.scale.getLabel(n)}}function hb(t,e){return t.type==="category"?t.scale.getLabel(e):e.value}function oq(t){var e=t.model,a=t.scale;if(!(!e.get(["axisLabel","show"])||a.isBlank())){var n,r,i=a.getExtent();a instanceof Qf?r=a.count():(n=a.getTicks(),r=n.length);var o=t.getLabelModel(),s=$r(t),l,u=1;r>40&&(u=Math.ceil(r/40));for(var c=0;c<r;c+=u){var d=n?n[c]:{value:i[0]+c},f=s(d,c),p=o.getTextRect(f),m=sq(p,o.get("rotate")||0);l?l.union(m):l=m}return l}}function sq(t,e){var a=e*Math.PI/180,n=t.width,r=t.height,i=n*Math.abs(Math.cos(a))+Math.abs(r*Math.sin(a)),o=n*Math.abs(Math.sin(a))+Math.abs(r*Math.cos(a)),s=new Le(t.x,t.y,i,o);return s}function $f(t){var e=t.get("interval");return e==null?"auto":e}function vb(t){return t.type==="category"&&$f(t.getLabelModel())===0}function lq(t,e){var a={};return q(t.mapDimensionsAll(e),function(n){a[SP(t,n)]=!0}),Xe(a)}var uq=function(){function t(){}return t.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},t.prototype.getCoordSysModel=function(){},t}(),zm=[],cq={registerPreprocessor:$0,registerProcessor:eb,registerPostInit:QL,registerPostUpdate:JL,registerUpdateLifecycle:Xf,registerAction:Qr,registerCoordinateSystem:$L,registerLayout:eP,registerVisual:ir,registerTransform:tP,registerLoading:ab,registerMap:aP,registerImpl:LL,PRIORITY:GL,ComponentModel:Fe,ComponentView:pn,SeriesModel:fn,ChartView:gt,registerComponentModel:function(t){Fe.registerClass(t)},registerComponentView:function(t){pn.registerClass(t)},registerSeriesModel:function(t){fn.registerClass(t)},registerChartView:function(t){gt.registerClass(t)},registerSubTypeDefaulter:function(t,e){Fe.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){vT(t,e)}};function nl(t){if(se(t)){q(t,function(e){nl(e)});return}Ue(zm,t)>=0||(zm.push(t),we(t)&&(t={install:t}),t.install(cq))}var lo=ia();function mb(t,e){var a=de(e,function(n){return t.scale.parse(n)});return t.type==="time"&&a.length>0&&(a.sort(),a.unshift(a[0]),a.push(a[a.length-1])),a}function dq(t){var e=t.getLabelModel().get("customValues");if(e){var a=$r(t);return{labels:mb(t,e).map(function(n){var r={value:n};return{formattedLabel:a(r),rawLabel:t.scale.getLabel(r),tickValue:n}})}}return t.type==="category"?pq(t):vq(t)}function fq(t,e){var a=t.getTickModel().get("customValues");return a?{ticks:mb(t,a)}:t.type==="category"?hq(t,e):{ticks:de(t.scale.getTicks(),function(n){return n.value})}}function pq(t){var e=t.getLabelModel(),a=gb(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:a.labelCategoryInterval}:a}function gb(t,e){var a=_b(t,"labels"),n=$f(e),r=yb(a,n);if(r)return r;var i,o;return we(n)?i=xb(t,n):(o=n==="auto"?mq(t):n,i=wb(t,o)),bb(a,n,{labels:i,labelCategoryInterval:o})}function hq(t,e){var a=_b(t,"ticks"),n=$f(e),r=yb(a,n);if(r)return r;var i,o;if((!e.get("show")||t.scale.isBlank())&&(i=[]),we(n))i=xb(t,n,!0);else if(n==="auto"){var s=gb(t,t.getLabelModel());o=s.labelCategoryInterval,i=de(s.labels,function(l){return l.tickValue})}else o=n,i=wb(t,o,!0);return bb(a,n,{ticks:i,tickCategoryInterval:o})}function vq(t){var e=t.scale.getTicks(),a=$r(t);return{labels:de(e,function(n,r){return{level:n.level,formattedLabel:a(n,r),rawLabel:t.scale.getLabel(n),tickValue:n.value}})}}function _b(t,e){return lo(t)[e]||(lo(t)[e]=[])}function yb(t,e){for(var a=0;a<t.length;a++)if(t[a].key===e)return t[a].value}function bb(t,e,a){return t.push({key:e,value:a}),a}function mq(t){var e=lo(t).autoInterval;return e!=null?e:lo(t).autoInterval=t.calculateCategoryInterval()}function gq(t){var e=_q(t),a=$r(t),n=(e.axisRotate-e.labelRotate)/180*Math.PI,r=t.scale,i=r.getExtent(),o=r.count();if(i[1]-i[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=i[0],u=t.dataToCoord(l+1)-t.dataToCoord(l),c=Math.abs(u*Math.cos(n)),d=Math.abs(u*Math.sin(n)),f=0,p=0;l<=i[1];l+=s){var m=0,g=0,h=mf(a({value:l}),e.font,"center","top");m=h.width*1.3,g=h.height*1.3,f=Math.max(f,m,7),p=Math.max(p,g,7)}var v=f/c,_=p/d;isNaN(v)&&(v=1/0),isNaN(_)&&(_=1/0);var y=Math.max(0,Math.floor(Math.min(v,_))),x=lo(t.model),E=t.getExtent(),w=x.lastAutoInterval,A=x.lastTickCount;return w!=null&&A!=null&&Math.abs(w-y)<=1&&Math.abs(A-o)<=1&&w>y&&x.axisExtent0===E[0]&&x.axisExtent1===E[1]?y=w:(x.lastTickCount=o,x.lastAutoInterval=y,x.axisExtent0=E[0],x.axisExtent1=E[1]),y}function _q(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function wb(t,e,a){var n=$r(t),r=t.scale,i=r.getExtent(),o=t.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=i[0],c=r.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var d=vb(t),f=o.get("showMinLabel")||d,p=o.get("showMaxLabel")||d;f&&u!==i[0]&&g(i[0]);for(var m=u;m<=i[1];m+=l)g(m);p&&m-l!==i[1]&&g(i[1]);function g(h){var v={value:h};s.push(a?h:{formattedLabel:n(v),rawLabel:r.getLabel(v),tickValue:h})}return s}function xb(t,e,a){var n=t.scale,r=$r(t),i=[];return q(n.getTicks(),function(o){var s=n.getLabel(o),l=o.value;e(o.value,s)&&i.push(a?l:{formattedLabel:r(o),rawLabel:s,tickValue:l})}),i}var Nm=[0,1],yq=function(){function t(e,a,n){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=a,this._extent=n||[0,0]}return t.prototype.contain=function(e){var a=this._extent,n=Math.min(a[0],a[1]),r=Math.max(a[0],a[1]);return e>=n&&e<=r},t.prototype.containData=function(e){return this.scale.contain(e)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(e){return _T(e||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(e,a){var n=this._extent;n[0]=e,n[1]=a},t.prototype.dataToCoord=function(e,a){var n=this._extent,r=this.scale;return e=r.normalize(e),this.onBand&&r.type==="ordinal"&&(n=n.slice(),Vm(n,r.count())),qh(e,Nm,n,a)},t.prototype.coordToData=function(e,a){var n=this._extent,r=this.scale;this.onBand&&r.type==="ordinal"&&(n=n.slice(),Vm(n,r.count()));var i=qh(e,n,Nm,a);return this.scale.scale(i)},t.prototype.pointToData=function(e,a){},t.prototype.getTicksCoords=function(e){e=e||{};var a=e.tickModel||this.getTickModel(),n=fq(this,a),r=n.ticks,i=de(r,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=a.get("alignWithLabel");return bq(this,i,o,e.clamp),i},t.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),a=e.get("splitNumber");a>0&&a<100||(a=5);var n=this.scale.getMinorTicks(a),r=de(n,function(i){return de(i,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return r},t.prototype.getViewLabels=function(){return dq(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var e=this._extent,a=this.scale.getExtent(),n=a[1]-a[0]+(this.onBand?1:0);n===0&&(n=1);var r=Math.abs(e[1]-e[0]);return Math.abs(r)/n},t.prototype.calculateCategoryInterval=function(){return gq(this)},t}();function Vm(t,e){var a=t[1]-t[0],n=e,r=a/n/2;t[0]+=r,t[1]-=r}function bq(t,e,a,n){var r=e.length;if(!t.onBand||a||!r)return;var i=t.getExtent(),o,s;if(r===1)e[0].coord=i[0],o=e[1]={coord:i[1]};else{var l=e[r-1].tickValue-e[0].tickValue,u=(e[r-1].coord-e[0].coord)/l;q(e,function(p){p.coord-=u/2});var c=t.scale.getExtent();s=1+c[1]-e[r-1].tickValue,o={coord:e[r-1].coord+u*s},e.push(o)}var d=i[0]>i[1];f(e[0].coord,i[0])&&(n?e[0].coord=i[0]:e.shift()),n&&f(i[0],e[0].coord)&&e.unshift({coord:i[0]}),f(i[1],o.coord)&&(n?o.coord=i[1]:e.pop()),n&&f(o.coord,i[1])&&e.push({coord:i[1]});function f(p,m){return p=aa(p),m=aa(m),d?p>m:p<m}}function wq(t){for(var e=[],a=0;a<t.length;a++){var n=t[a];if(!n.defaultAttr.ignore){var r=n.label,i=r.getComputedTransform(),o=r.getBoundingRect(),s=!i||i[1]<1e-5&&i[2]<1e-5,l=r.style.margin||0,u=o.clone();u.applyTransform(i),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var c=s?new Ws(o,i):null;e.push({label:r,labelLine:n.labelLine,rect:u,localRect:o,obb:c,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:s,transform:i})}}return e}function xq(t){var e=[];t.sort(function(g,h){return h.priority-g.priority});var a=new Le(0,0,0,0);function n(g){if(!g.ignore){var h=g.ensureState("emphasis");h.ignore==null&&(h.ignore=!1)}g.ignore=!0}for(var r=0;r<t.length;r++){var i=t[r],o=i.axisAligned,s=i.localRect,l=i.transform,u=i.label,c=i.labelLine;a.copy(i.rect),a.width-=.1,a.height-=.1,a.x+=.05,a.y+=.05;for(var d=i.obb,f=!1,p=0;p<e.length;p++){var m=e[p];if(a.intersect(m.rect)){if(o&&m.axisAligned){f=!0;break}if(m.obb||(m.obb=new Ws(m.localRect,m.transform)),d||(d=new Ws(s,l)),d.intersect(m.obb)){f=!0;break}}}f?(n(u),c&&n(c)):(u.attr("ignore",i.defaultAttr.ignore),c&&c.attr("ignore",i.defaultAttr.labelGuideIgnore),e.push(i))}}var Sq=function(t){qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(Fe),Id=function(t){qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",ot).models[0]},e.type="cartesian2dAxis",e}(Fe);wt(Id,uq);var Sb={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Cq=Ve({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Sb),ep=Ve({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Sb),Aq=Ve({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},ep),Tq=Se({logBase:10},ep);const Eq={category:Cq,value:ep,time:Aq,log:Tq};var kq={value:1,category:1,time:1,log:1};function jm(t,e,a,n){q(kq,function(r,i){var o=Ve(Ve({},Eq[i],!0),n,!0),s=function(l){qe(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=e+"Axis."+i,c}return u.prototype.mergeDefaultAndTheme=function(c,d){var f=ao(this),p=f?Nf(c):{},m=d.getTheme();Ve(c,m.get(i+"Axis")),Ve(c,this.getDefaultOption()),c.type=Fm(c),f&&to(c,p,f)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=Pd.createByAxisModel(this))},u.prototype.getCategories=function(c){var d=this.option;if(d.type==="category")return c?d.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=e+"Axis."+i,u.defaultOption=o,u}(a);t.registerComponentModel(s)}),t.registerSubTypeDefaulter(e+"Axis",Fm)}function Fm(t){return t.type||(t.data?"category":"value")}var Mq=function(){function t(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return t.prototype.getAxis=function(e){return this._axes[e]},t.prototype.getAxes=function(){return de(this._dimList,function(e){return this._axes[e]},this)},t.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),va(this.getAxes(),function(a){return a.scale.type===e})},t.prototype.addAxis=function(e){var a=e.dim;this._axes[a]=e,this._dimList.push(a)},t}(),Rd=["x","y"];function Um(t){return t.type==="interval"||t.type==="time"}var Dq=function(t){qe(e,t);function e(){var a=t!==null&&t.apply(this,arguments)||this;return a.type="cartesian2d",a.dimensions=Rd,a}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var a=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!Um(a)||!Um(n))){var r=a.getExtent(),i=n.getExtent(),o=this.dataToPoint([r[0],i[0]]),s=this.dataToPoint([r[1],i[1]]),l=r[1]-r[0],u=i[1]-i[0];if(!(!l||!u)){var c=(s[0]-o[0])/l,d=(s[1]-o[1])/u,f=o[0]-r[0]*c,p=o[1]-i[0]*d,m=this._transform=[c,0,0,d,f,p];this._invTransform=pf([],m)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(a){var n=this.getAxis("x"),r=this.getAxis("y");return n.contain(n.toLocalCoord(a[0]))&&r.contain(r.toLocalCoord(a[1]))},e.prototype.containData=function(a){return this.getAxis("x").containData(a[0])&&this.getAxis("y").containData(a[1])},e.prototype.containZone=function(a,n){var r=this.dataToPoint(a),i=this.dataToPoint(n),o=this.getArea(),s=new Le(r[0],r[1],i[0]-r[0],i[1]-r[1]);return o.intersect(s)},e.prototype.dataToPoint=function(a,n,r){r=r||[];var i=a[0],o=a[1];if(this._transform&&i!=null&&isFinite(i)&&o!=null&&isFinite(o))return Qa(r,a,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return r[0]=s.toGlobalCoord(s.dataToCoord(i,n)),r[1]=l.toGlobalCoord(l.dataToCoord(o,n)),r},e.prototype.clampData=function(a,n){var r=this.getAxis("x").scale,i=this.getAxis("y").scale,o=r.getExtent(),s=i.getExtent(),l=r.parse(a[0]),u=i.parse(a[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),n[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),n},e.prototype.pointToData=function(a,n){var r=[];if(this._invTransform)return Qa(r,a,this._invTransform);var i=this.getAxis("x"),o=this.getAxis("y");return r[0]=i.coordToData(i.toLocalCoord(a[0]),n),r[1]=o.coordToData(o.toLocalCoord(a[1]),n),r},e.prototype.getOtherAxis=function(a){return this.getAxis(a.dim==="x"?"y":"x")},e.prototype.getArea=function(a){a=a||0;var n=this.getAxis("x").getGlobalExtent(),r=this.getAxis("y").getGlobalExtent(),i=Math.min(n[0],n[1])-a,o=Math.min(r[0],r[1])-a,s=Math.max(n[0],n[1])-i+a,l=Math.max(r[0],r[1])-o+a;return new Le(i,o,s,l)},e}(Mq),Lq=function(t){qe(e,t);function e(a,n,r,i,o){var s=t.call(this,a,n,r)||this;return s.index=0,s.type=i||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var a=this.position;return a==="top"||a==="bottom"},e.prototype.getGlobalExtent=function(a){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),a&&n[0]>n[1]&&n.reverse(),n},e.prototype.pointToData=function(a,n){return this.coordToData(this.toLocalCoord(a[this.dim==="x"?0:1]),n)},e.prototype.setCategorySortInfo=function(a){if(this.type!=="category")return!1;this.model.option.categorySortInfo=a,this.scale.setSortInfo(a)},e}(yq);function Od(t,e,a){a=a||{};var n=t.coordinateSystem,r=e.axis,i={},o=r.getAxesOnZeroOf()[0],s=r.position,l=o?"onZero":s,u=r.dim,c=n.getRect(),d=[c.x,c.x+c.width,c.y,c.y+c.height],f={left:0,right:1,top:0,bottom:1,onZero:2},p=e.get("offset")||0,m=u==="x"?[d[2]-p,d[3]+p]:[d[0]-p,d[1]+p];if(o){var g=o.toGlobalCoord(o.dataToCoord(0));m[f.onZero]=Math.max(Math.min(g,m[1]),m[0])}i.position=[u==="y"?m[f[l]]:d[0],u==="x"?m[f[l]]:d[3]],i.rotation=Math.PI/2*(u==="x"?0:1);var h={top:-1,bottom:1,left:-1,right:1};i.labelDirection=i.tickDirection=i.nameDirection=h[s],i.labelOffset=o?m[f[s]]-m[f.onZero]:0,e.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Ki(a.labelInside,e.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var v=e.get(["axisLabel","rotate"]);return i.labelRotate=l==="top"?-v:v,i.z2=1,i}function Gm(t){return t.get("coordinateSystem")==="cartesian2d"}function Hm(t){var e={xAxisModel:null,yAxisModel:null};return q(e,function(a,n){var r=n.replace(/Model$/,""),i=t.getReferringComponents(r,ot).models[0];e[n]=i}),e}var xc=Math.log;function Pq(t,e,a){var n=Jr.prototype,r=n.getTicks.call(a),i=n.getTicks.call(a,!0),o=r.length-1,s=n.getInterval.call(a),l=pb(t,e),u=l.extent,c=l.fixMin,d=l.fixMax;if(t.type==="log"){var f=xc(t.base);u=[xc(u[0])/f,xc(u[1])/f]}t.setExtent(u[0],u[1]),t.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:d});var p=n.getExtent.call(t);c&&(u[0]=p[0]),d&&(u[1]=p[1]);var m=n.getInterval.call(t),g=u[0],h=u[1];if(c&&d)m=(h-g)/o;else if(c)for(h=u[0]+m*o;h<u[1]&&isFinite(h)&&isFinite(u[1]);)m=wc(m),h=u[0]+m*o;else if(d)for(g=u[1]-m*o;g>u[0]&&isFinite(g)&&isFinite(u[0]);)m=wc(m),g=u[1]-m*o;else{var v=t.getTicks().length-1;v>o&&(m=wc(m));var _=m*o;h=Math.ceil(u[1]/m)*m,g=aa(h-_),g<0&&u[0]>=0?(g=0,h=aa(_)):h>0&&u[1]<=0&&(h=0,g=-aa(_))}var y=(r[0].value-i[0].value)/s,x=(r[o].value-i[o].value)/s;n.setExtent.call(t,g+m*y,h+m*x),n.setInterval.call(t,m),(y||x)&&n.setNiceExtent.call(t,g+m,h-m)}var qq=function(){function t(e,a,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Rd,this._initCartesian(e,a,n),this.model=e}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(e,a){var n=this._axesMap;this._updateScale(e,this.model);function r(o){var s,l=Xe(o),u=l.length;if(u){for(var c=[],d=u-1;d>=0;d--){var f=+l[d],p=o[f],m=p.model,g=p.scale;qd(g)&&m.get("alignTicks")&&m.get("interval")==null?c.push(p):(Bm(g,m),qd(g)&&(s=p))}c.length&&(s||(s=c.pop(),Bm(s.scale,s.model)),q(c,function(h){Pq(h.scale,h.model,s.scale)}))}}r(n.x),r(n.y);var i={};q(n.x,function(o){Wm(n,"y",o,i)}),q(n.y,function(o){Wm(n,"x",o,i)}),this.resize(this.model,a)},t.prototype.resize=function(e,a,n){var r=e.getBoxLayoutParams(),i=!n&&e.get("containLabel"),o=wM(r,{width:a.getWidth(),height:a.getHeight()});this._rect=o;var s=this._axesList;l(),i&&(q(s,function(u){if(!u.model.get(["axisLabel","inside"])){var c=oq(u);if(c){var d=u.isHorizontal()?"height":"width",f=u.model.get(["axisLabel","margin"]);o[d]-=c[d]+f,u.position==="top"?o.y+=c.height+f:u.position==="left"&&(o.x+=c.width+f)}}}),l()),q(this._coordsList,function(u){u.calcAffineTransform()});function l(){q(s,function(u){var c=u.isHorizontal(),d=c?[0,o.width]:[0,o.height],f=u.inverse?1:0;u.setExtent(d[f],d[1-f]),Iq(u,c?o.x:o.y)})}},t.prototype.getAxis=function(e,a){var n=this._axesMap[e];if(n!=null)return n[a||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(e,a){if(e!=null&&a!=null){var n="x"+e+"y"+a;return this._coordsMap[n]}fe(e)&&(a=e.yAxisIndex,e=e.xAxisIndex);for(var r=0,i=this._coordsList;r<i.length;r++)if(i[r].getAxis("x").index===e||i[r].getAxis("y").index===a)return i[r]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(e,a,n){var r=this._findConvertTarget(a);return r.cartesian?r.cartesian.dataToPoint(n):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(n)):null},t.prototype.convertFromPixel=function(e,a,n){var r=this._findConvertTarget(a);return r.cartesian?r.cartesian.pointToData(n):r.axis?r.axis.coordToData(r.axis.toLocalCoord(n)):null},t.prototype._findConvertTarget=function(e){var a=e.seriesModel,n=e.xAxisModel||a&&a.getReferringComponents("xAxis",ot).models[0],r=e.yAxisModel||a&&a.getReferringComponents("yAxis",ot).models[0],i=e.gridModel,o=this._coordsList,s,l;if(a)s=a.coordinateSystem,Ue(o,s)<0&&(s=null);else if(n&&r)s=this.getCartesian(n.componentIndex,r.componentIndex);else if(n)l=this.getAxis("x",n.componentIndex);else if(r)l=this.getAxis("y",r.componentIndex);else if(i){var u=i.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},t.prototype.containPoint=function(e){var a=this._coordsList[0];if(a)return a.containPoint(e)},t.prototype._initCartesian=function(e,a,n){var r=this,i=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(a.eachComponent("xAxis",u("x"),this),a.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,q(s.x,function(c,d){q(s.y,function(f,p){var m="x"+d+"y"+p,g=new Dq(m);g.master=r,g.model=e,r._coordsMap[m]=g,r._coordsList.push(g),g.addAxis(c),g.addAxis(f)})});function u(c){return function(d,f){if(Sc(d,e)){var p=d.get("position");c==="x"?p!=="top"&&p!=="bottom"&&(p=o.bottom?"top":"bottom"):p!=="left"&&p!=="right"&&(p=o.left?"right":"left"),o[p]=!0;var m=new Lq(c,rq(d),[0,0],d.get("type"),p),g=m.type==="category";m.onBand=g&&d.get("boundaryGap"),m.inverse=d.get("inverse"),d.axis=m,m.model=d,m.grid=i,m.index=f,i._axesList.push(m),s[c][f]=m,l[c]++}}}},t.prototype._updateScale=function(e,a){q(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),r.type==="category"){var i=r.model.get("categorySortInfo");r.scale.setSortInfo(i)}}),e.eachSeries(function(r){if(Gm(r)){var i=Hm(r),o=i.xAxisModel,s=i.yAxisModel;if(!Sc(o,a)||!Sc(s,a))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=r.getData(),c=l.getAxis("x"),d=l.getAxis("y");n(u,c),n(u,d)}},this);function n(r,i){q(lq(r,i.dim),function(o){i.scale.unionExtentFromData(r,o)})}},t.prototype.getTooltipAxes=function(e){var a=[],n=[];return q(this.getCartesians(),function(r){var i=e!=null&&e!=="auto"?r.getAxis(e):r.getBaseAxis(),o=r.getOtherAxis(i);Ue(a,i)<0&&a.push(i),Ue(n,o)<0&&n.push(o)}),{baseAxes:a,otherAxes:n}},t.create=function(e,a){var n=[];return e.eachComponent("grid",function(r,i){var o=new t(r,e,a);o.name="grid_"+i,o.resize(r,a,!0),r.coordinateSystem=o,n.push(o)}),e.eachSeries(function(r){if(Gm(r)){var i=Hm(r),o=i.xAxisModel,s=i.yAxisModel,l=o.getCoordSysModel(),u=l.coordinateSystem;r.coordinateSystem=u.getCartesian(o.componentIndex,s.componentIndex)}}),n},t.dimensions=Rd,t}();function Sc(t,e){return t.getCoordSysModel()===e}function Wm(t,e,a,n){a.getAxesOnZeroOf=function(){return i?[i]:[]};var r=t[e],i,o=a.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)Km(r[l])&&(i=r[l]);else for(var u in r)if(r.hasOwnProperty(u)&&Km(r[u])&&!n[c(r[u])]){i=r[u];break}i&&(n[c(i)]=!0);function c(d){return d.dim+"_"+d.index}}function Km(t){return t&&t.type!=="category"&&t.type!=="time"&&iq(t)}function Iq(t,e){var a=t.getExtent(),n=a[0]+a[1];t.toGlobalCoord=t.dim==="x"?function(r){return r+e}:function(r){return n-r+e},t.toLocalCoord=t.dim==="x"?function(r){return r-e}:function(r){return n-r+e}}var en=Math.PI,on=function(){function t(e,a){this.group=new La,this.opt=a,this.axisModel=e,Se(a,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new La({x:a.position[0],y:a.position[1],rotation:a.rotation});n.updateTransform(),this._transformGroup=n}return t.prototype.hasBuilder=function(e){return!!Ym[e]},t.prototype.add=function(e){Ym[e](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(e,a,n){var r=X_(a-e),i,o;return Fs(r)?(o=n>0?"top":"bottom",i="center"):Fs(r-en)?(o=n>0?"bottom":"top",i="center"):(o="middle",r>0&&r<en?i=n>0?"right":"left":i=n>0?"left":"right"),{rotation:r,textAlign:i,textVerticalAlign:o}},t.makeAxisEventDataBase=function(e){var a={componentType:e.mainType,componentIndex:e.componentIndex};return a[e.mainType+"Index"]=e.componentIndex,a},t.isLabelSilent=function(e){var a=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||a&&a.show)},t}(),Ym={axisLine:function(t,e,a,n){var r=e.get(["axisLine","show"]);if(r==="auto"&&t.handleAutoShown&&(r=t.handleAutoShown("axisLine")),!!r){var i=e.axis.getExtent(),o=n.transform,s=[i[0],0],l=[i[1],0],u=s[0]>l[0];o&&(Qa(s,s,o),Qa(l,l,o));var c=ae({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),d=new dn({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:c,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});Ji(d.shape,d.style.lineWidth),d.anid="line",a.add(d);var f=e.get(["axisLine","symbol"]);if(f!=null){var p=e.get(["axisLine","symbolSize"]);be(f)&&(f=[f,f]),(be(p)||ta(p))&&(p=[p,p]);var m=P0(e.get(["axisLine","symbolOffset"])||0,p),g=p[0],h=p[1];q([{rotate:t.rotation+Math.PI/2,offset:m[0],r:0},{rotate:t.rotation-Math.PI/2,offset:m[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(v,_){if(f[_]!=="none"&&f[_]!=null){var y=io(f[_],-g/2,-h/2,g,h,c.stroke,!0),x=v.r+v.offset,E=u?l:s;y.attr({rotation:v.rotate,x:E[0]+x*Math.cos(t.rotation),y:E[1]-x*Math.sin(t.rotation),silent:!0,z2:11}),a.add(y)}})}}},axisTickLabel:function(t,e,a,n){var r=Bq(a,n,e,t),i=Nq(a,n,e,t);if(Oq(e,i,r),zq(a,n,e,t.tickDirection),e.get(["axisLabel","hideOverlap"])){var o=wq(de(i,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));xq(o)}},axisName:function(t,e,a,n){var r=Ki(t.axisName,e.get("name"));if(r){var i=e.get("nameLocation"),o=t.nameDirection,s=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,u=e.axis.getExtent(),c=u[0]>u[1]?-1:1,d=[i==="start"?u[0]-c*l:i==="end"?u[1]+c*l:(u[0]+u[1])/2,Zm(i)?t.labelOffset+o*l:0],f,p=e.get("nameRotate");p!=null&&(p=p*en/180);var m;Zm(i)?f=on.innerTextLayout(t.rotation,p!=null?p:t.rotation,o):(f=Rq(t.rotation,i,p||0,u),m=t.axisNameAvailableWidth,m!=null&&(m=Math.abs(m/Math.sin(f.rotation)),!isFinite(m)&&(m=null)));var g=s.getFont(),h=e.get("nameTruncate",!0)||{},v=h.ellipsis,_=Ki(t.nameTruncateMaxWidth,h.maxWidth,m),y=new yt({x:d[0],y:d[1],rotation:f.rotation,silent:on.isLabelSilent(e),style:$i(s,{text:r,font:g,overflow:"truncate",width:_,ellipsis:v,fill:s.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:s.get("align")||f.textAlign,verticalAlign:s.get("verticalAlign")||f.textVerticalAlign}),z2:1});if(Ny({el:y,componentModel:e,itemName:r}),y.__fullText=r,y.anid="name",e.get("triggerEvent")){var x=on.makeAxisEventDataBase(e);x.targetType="axisName",x.name=r,la(y).eventData=x}n.add(y),y.updateTransform(),a.add(y),y.decomposeTransform()}}};function Rq(t,e,a,n){var r=X_(a-t),i,o,s=n[0]>n[1],l=e==="start"&&!s||e!=="start"&&s;return Fs(r-en/2)?(o=l?"bottom":"top",i="center"):Fs(r-en*1.5)?(o=l?"top":"bottom",i="center"):(o="middle",r<en*1.5&&r>en/2?i=l?"left":"right":i=l?"right":"left"),{rotation:r,textAlign:i,textVerticalAlign:o}}function Oq(t,e,a){if(!vb(t.axis)){var n=t.get(["axisLabel","showMinLabel"]),r=t.get(["axisLabel","showMaxLabel"]);e=e||[],a=a||[];var i=e[0],o=e[1],s=e[e.length-1],l=e[e.length-2],u=a[0],c=a[1],d=a[a.length-1],f=a[a.length-2];n===!1?(Fa(i),Fa(u)):Xm(i,o)&&(n?(Fa(o),Fa(c)):(Fa(i),Fa(u))),r===!1?(Fa(s),Fa(d)):Xm(l,s)&&(r?(Fa(l),Fa(f)):(Fa(s),Fa(d)))}}function Fa(t){t&&(t.ignore=!0)}function Xm(t,e){var a=t&&t.getBoundingRect().clone(),n=e&&e.getBoundingRect().clone();if(!(!a||!n)){var r=df([]);return ff(r,r,-t.rotation),a.applyTransform(Br([],r,t.getLocalTransform())),n.applyTransform(Br([],r,e.getLocalTransform())),a.intersect(n)}}function Zm(t){return t==="middle"||t==="center"}function Cb(t,e,a,n,r){for(var i=[],o=[],s=[],l=0;l<t.length;l++){var u=t[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=a,e&&(Qa(o,o,e),Qa(s,s,e));var c=new dn({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:n,z2:2,autoBatch:!0,silent:!0});Ji(c.shape,c.style.lineWidth),c.anid=r+"_"+t[l].tickValue,i.push(c)}return i}function Bq(t,e,a,n){var r=a.axis,i=a.getModel("axisTick"),o=i.get("show");if(o==="auto"&&n.handleAutoShown&&(o=n.handleAutoShown("axisTick")),!(!o||r.scale.isBlank())){for(var s=i.getModel("lineStyle"),l=n.tickDirection*i.get("length"),u=r.getTicksCoords(),c=Cb(u,e.transform,l,Se(s.getLineStyle(),{stroke:a.get(["axisLine","lineStyle","color"])}),"ticks"),d=0;d<c.length;d++)t.add(c[d]);return c}}function zq(t,e,a,n){var r=a.axis,i=a.getModel("minorTick");if(!(!i.get("show")||r.scale.isBlank())){var o=r.getMinorTicksCoords();if(o.length)for(var s=i.getModel("lineStyle"),l=n*i.get("length"),u=Se(s.getLineStyle(),Se(a.getModel("axisTick").getLineStyle(),{stroke:a.get(["axisLine","lineStyle","color"])})),c=0;c<o.length;c++)for(var d=Cb(o[c],e.transform,l,u,"minorticks_"+c),f=0;f<d.length;f++)t.add(d[f])}}function Nq(t,e,a,n){var r=a.axis,i=Ki(n.axisLabelShow,a.get(["axisLabel","show"]));if(!(!i||r.scale.isBlank())){var o=a.getModel("axisLabel"),s=o.get("margin"),l=r.getViewLabels(),u=(Ki(n.labelRotate,o.get("rotate"))||0)*en/180,c=on.innerTextLayout(n.rotation,u,n.labelDirection),d=a.getCategories&&a.getCategories(!0),f=[],p=on.isLabelSilent(a),m=a.get("triggerEvent");return q(l,function(g,h){var v=r.scale.type==="ordinal"?r.scale.getRawOrdinalNumber(g.tickValue):g.tickValue,_=g.formattedLabel,y=g.rawLabel,x=o;if(d&&d[v]){var E=d[v];fe(E)&&E.textStyle&&(x=new ca(E.textStyle,o,a.ecModel))}var w=x.getTextColor()||a.get(["axisLine","lineStyle","color"]),A=r.dataToCoord(v),S=x.getShallow("align",!0)||c.textAlign,k=Ae(x.getShallow("alignMinLabel",!0),S),b=Ae(x.getShallow("alignMaxLabel",!0),S),M=x.getShallow("verticalAlign",!0)||x.getShallow("baseline",!0)||c.textVerticalAlign,D=Ae(x.getShallow("verticalAlignMinLabel",!0),M),L=Ae(x.getShallow("verticalAlignMaxLabel",!0),M),P=new yt({x:A,y:n.labelOffset+n.labelDirection*s,rotation:c.rotation,silent:p,z2:10+(g.level||0),style:$i(x,{text:_,align:h===0?k:h===l.length-1?b:S,verticalAlign:h===0?D:h===l.length-1?L:M,fill:we(w)?w(r.type==="category"?y:r.type==="value"?v+"":v,h):w})});if(P.anid="label_"+v,m){var I=on.makeAxisEventDataBase(a);I.targetType="axisLabel",I.value=y,I.tickIndex=h,r.type==="category"&&(I.dataIndex=v),la(P).eventData=I}e.add(P),P.updateTransform(),f.push(P),t.add(P),P.decomposeTransform()}),f}}function Vq(t,e){var a={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return jq(a,t,e),a.seriesInvolved&&Uq(a,t),a}function jq(t,e,a){var n=e.getComponent("tooltip"),r=e.getComponent("axisPointer"),i=r.get("link",!0)||[],o=[];q(a.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=uo(s.model),u=t.coordSysAxesInfo[l]={};t.coordSysMap[l]=s;var c=s.model,d=c.getModel("tooltip",n);if(q(s.getAxes(),Xa(g,!1,null)),s.getTooltipAxes&&n&&d.get("show")){var f=d.get("trigger")==="axis",p=d.get(["axisPointer","type"])==="cross",m=s.getTooltipAxes(d.get(["axisPointer","axis"]));(f||p)&&q(m.baseAxes,Xa(g,p?"cross":!0,f)),p&&q(m.otherAxes,Xa(g,"cross",!1))}function g(h,v,_){var y=_.model.getModel("axisPointer",r),x=y.get("show");if(!(!x||x==="auto"&&!h&&!Bd(y))){v==null&&(v=y.get("triggerTooltip")),y=h?Fq(_,d,r,e,h,v):y;var E=y.get("snap"),w=y.get("triggerEmphasis"),A=uo(_.model),S=v||E||_.type==="category",k=t.axesInfo[A]={key:A,axis:_,coordSys:s,axisPointerModel:y,triggerTooltip:v,triggerEmphasis:w,involveSeries:S,snap:E,useHandle:Bd(y),seriesModels:[],linkGroup:null};u[A]=k,t.seriesInvolved=t.seriesInvolved||S;var b=Gq(i,_);if(b!=null){var M=o[b]||(o[b]={axesInfo:{}});M.axesInfo[A]=k,M.mapper=i[b].mapper,k.linkGroup=M}}}})}function Fq(t,e,a,n,r,i){var o=e.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};q(s,function(f){l[f]=De(o.get(f))}),l.snap=t.type!=="category"&&!!i,o.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),r==="cross"){var c=o.get(["label","show"]);if(u.show=c!=null?c:!0,!i){var d=l.lineStyle=o.get("crossStyle");d&&Se(u,d.textStyle)}}return t.model.getModel("axisPointer",new ca(l,a,n))}function Uq(t,e){e.eachSeries(function(a){var n=a.coordinateSystem,r=a.get(["tooltip","trigger"],!0),i=a.get(["tooltip","show"],!0);!n||r==="none"||r===!1||r==="item"||i===!1||a.get(["axisPointer","show"],!0)===!1||q(t.coordSysAxesInfo[uo(n.model)],function(o){var s=o.axis;n.getAxis(s.dim)===s&&(o.seriesModels.push(a),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=a.getData().count())})})}function Gq(t,e){for(var a=e.model,n=e.dim,r=0;r<t.length;r++){var i=t[r]||{};if(Cc(i[n+"AxisId"],a.id)||Cc(i[n+"AxisIndex"],a.componentIndex)||Cc(i[n+"AxisName"],a.name))return r}}function Cc(t,e){return t==="all"||se(t)&&Ue(t,e)>=0||t===e}function Hq(t){var e=ap(t);if(e){var a=e.axisPointerModel,n=e.axis.scale,r=a.option,i=a.get("status"),o=a.get("value");o!=null&&(o=n.parse(o));var s=Bd(a);i==null&&(r.status=s?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),r.value=o,s&&(r.status=e.axis.scale.isBlank()?"hide":"show")}}function ap(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[uo(t)]}function Wq(t){var e=ap(t);return e&&e.axisPointerModel}function Bd(t){return!!t.get(["handle","show"])}function uo(t){return t.type+"||"+t.id}var Qm={},Ab=function(t){qe(e,t);function e(){var a=t!==null&&t.apply(this,arguments)||this;return a.type=e.type,a}return e.prototype.render=function(a,n,r,i){this.axisPointerClass&&Hq(a),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(a,r,!0)},e.prototype.updateAxisPointer=function(a,n,r,i){this._doUpdateAxisPointerClass(a,r,!1)},e.prototype.remove=function(a,n){var r=this._axisPointer;r&&r.remove(n)},e.prototype.dispose=function(a,n){this._disposeAxisPointer(n),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(a,n,r){var i=e.getAxisPointerClass(this.axisPointerClass);if(i){var o=Wq(a);o?(this._axisPointer||(this._axisPointer=new i)).render(a,o,n,r):this._disposeAxisPointer(n)}},e.prototype._disposeAxisPointer=function(a){this._axisPointer&&this._axisPointer.dispose(a),this._axisPointer=null},e.registerAxisPointerClass=function(a,n){Qm[a]=n},e.getAxisPointerClass=function(a){return a&&Qm[a]},e.type="axis",e}(pn),zd=ia();function Kq(t,e,a,n){var r=a.axis;if(!r.scale.isBlank()){var i=a.getModel("splitArea"),o=i.getModel("areaStyle"),s=o.get("color"),l=n.coordinateSystem.getRect(),u=r.getTicksCoords({tickModel:i,clamp:!0});if(u.length){var c=s.length,d=zd(t).splitAreaColors,f=ge(),p=0;if(d)for(var m=0;m<u.length;m++){var g=d.get(u[m].tickValue);if(g!=null){p=(g+(c-1)*m)%c;break}}var h=r.toGlobalCoord(u[0].coord),v=o.getAreaStyle();s=se(s)?s:[s];for(var m=1;m<u.length;m++){var _=r.toGlobalCoord(u[m].coord),y=void 0,x=void 0,E=void 0,w=void 0;r.isHorizontal()?(y=h,x=l.y,E=_-y,w=l.height,h=y+E):(y=l.x,x=h,E=l.width,w=_-x,h=x+w);var A=u[m-1].tickValue;A!=null&&f.set(A,p),e.add(new ka({anid:A!=null?"area_"+A:null,shape:{x:y,y:x,width:E,height:w},style:Se({fill:s[p]},v),autoBatch:!0,silent:!0})),p=(p+1)%c}zd(t).splitAreaColors=f}}}function Yq(t){zd(t).splitAreaColors=null}var Xq=["axisLine","axisTickLabel","axisName"],Zq=["splitArea","splitLine","minorSplitLine"],Tb=function(t){qe(e,t);function e(){var a=t!==null&&t.apply(this,arguments)||this;return a.type=e.type,a.axisPointerClass="CartesianAxisPointer",a}return e.prototype.render=function(a,n,r,i){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new La,this.group.add(this._axisGroup),!!a.get("show")){var s=a.getCoordSysModel(),l=Od(s,a),u=new on(a,ae({handleAutoShown:function(d){for(var f=s.coordinateSystem.getCartesians(),p=0;p<f.length;p++)if(qd(f[p].getOtherAxis(a.axis).scale))return!0;return!1}},l));q(Xq,u.add,u),this._axisGroup.add(u.getGroup()),q(Zq,function(d){a.get([d,"show"])&&Qq[d](this,this._axisGroup,a,s)},this);var c=i&&i.type==="changeAxisOrder"&&i.isInitSort;c||Oy(o,this._axisGroup,a),t.prototype.render.call(this,a,n,r,i)}},e.prototype.remove=function(){Yq(this)},e.type="cartesianAxis",e}(Ab),Qq={splitLine:function(t,e,a,n){var r=a.axis;if(!r.scale.isBlank()){var i=a.getModel("splitLine"),o=i.getModel("lineStyle"),s=o.get("color");s=se(s)?s:[s];for(var l=n.coordinateSystem.getRect(),u=r.isHorizontal(),c=0,d=r.getTicksCoords({tickModel:i}),f=[],p=[],m=o.getLineStyle(),g=0;g<d.length;g++){var h=r.toGlobalCoord(d[g].coord);u?(f[0]=h,f[1]=l.y,p[0]=h,p[1]=l.y+l.height):(f[0]=l.x,f[1]=h,p[0]=l.x+l.width,p[1]=h);var v=c++%s.length,_=d[g].tickValue,y=new dn({anid:_!=null?"line_"+d[g].tickValue:null,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:p[0],y2:p[1]},style:Se({stroke:s[v]},m),silent:!0});Ji(y.shape,m.lineWidth),e.add(y)}}},minorSplitLine:function(t,e,a,n){var r=a.axis,i=a.getModel("minorSplitLine"),o=i.getModel("lineStyle"),s=n.coordinateSystem.getRect(),l=r.isHorizontal(),u=r.getMinorTicksCoords();if(u.length)for(var c=[],d=[],f=o.getLineStyle(),p=0;p<u.length;p++)for(var m=0;m<u[p].length;m++){var g=r.toGlobalCoord(u[p][m].coord);l?(c[0]=g,c[1]=s.y,d[0]=g,d[1]=s.y+s.height):(c[0]=s.x,c[1]=g,d[0]=s.x+s.width,d[1]=g);var h=new dn({anid:"minor_line_"+u[p][m].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:d[0],y2:d[1]},style:f,silent:!0});Ji(h.shape,f.lineWidth),e.add(h)}},splitArea:function(t,e,a,n){Kq(t,e,a,n)}},Eb=function(t){qe(e,t);function e(){var a=t!==null&&t.apply(this,arguments)||this;return a.type=e.type,a}return e.type="xAxis",e}(Tb),Jq=function(t){qe(e,t);function e(){var a=t!==null&&t.apply(this,arguments)||this;return a.type=Eb.type,a}return e.type="yAxis",e}(Tb),$q=function(t){qe(e,t);function e(){var a=t!==null&&t.apply(this,arguments)||this;return a.type="grid",a}return e.prototype.render=function(a,n){this.group.removeAll(),a.get("show")&&this.group.add(new ka({shape:a.coordinateSystem.getRect(),style:Se({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(pn),Jm={offset:0};function eI(t){t.registerComponentView($q),t.registerComponentModel(Sq),t.registerCoordinateSystem("cartesian2d",qq),jm(t,"x",Id,Jm),jm(t,"y",Id,Jm),t.registerComponentView(Eb),t.registerComponentView(Jq),t.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}var Fn=ia(),$m=De,Ac=ma,aI=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(e,a,n,r){var i=a.get("value"),o=a.get("status");if(this._axisModel=e,this._axisPointerModel=a,this._api=n,!(!r&&this._lastValue===i&&this._lastStatus===o)){this._lastValue=i,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,i,e,a,n);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=c;var d=this._moveAnimation=this.determineAnimation(e,a);if(!s)s=this._group=new La,this.createPointerEl(s,u,e,a),this.createLabelEl(s,u,e,a),n.getZr().add(s);else{var f=Xa(eg,a,d);this.updatePointerEl(s,u,f),this.updateLabelEl(s,u,f,a)}tg(s,a,!0),this._renderHandle(i)}},t.prototype.remove=function(e){this.clear(e)},t.prototype.dispose=function(e){this.clear(e)},t.prototype.determineAnimation=function(e,a){var n=a.get("animation"),r=e.axis,i=r.type==="category",o=a.get("snap");if(!o&&!i)return!1;if(n==="auto"||n==null){var s=this.animationThreshold;if(i&&r.getBandWidth()>s)return!0;if(o){var l=ap(e).seriesDataCount,u=r.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return n===!0},t.prototype.makeElOption=function(e,a,n,r,i){},t.prototype.createPointerEl=function(e,a,n,r){var i=a.pointer;if(i){var o=Fn(e).pointerEl=new Xk[i.type]($m(a.pointer));e.add(o)}},t.prototype.createLabelEl=function(e,a,n,r){if(a.label){var i=Fn(e).labelEl=new yt($m(a.label));e.add(i),ag(i,r)}},t.prototype.updatePointerEl=function(e,a,n){var r=Fn(e).pointerEl;r&&a.pointer&&(r.setStyle(a.pointer.style),n(r,{shape:a.pointer.shape}))},t.prototype.updateLabelEl=function(e,a,n,r){var i=Fn(e).labelEl;i&&(i.setStyle(a.label.style),n(i,{x:a.label.x,y:a.label.y}),ag(i,r))},t.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var a=this._axisPointerModel,n=this._api.getZr(),r=this._handle,i=a.getModel("handle"),o=a.get("status");if(!i.get("show")||!o||o==="hide"){r&&n.remove(r),this._handle=null;return}var s;this._handle||(s=!0,r=this._handle=By(i.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){D_(u.event)},onmousedown:Ac(this._onHandleDragMove,this,0,0),drift:Ac(this._onHandleDragMove,this),ondragend:Ac(this._onHandleDragEnd,this)}),n.add(r)),tg(r,a,!1),r.setStyle(i.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=i.get("size");se(l)||(l=[l,l]),r.scaleX=l[0]/2,r.scaleY=l[1]/2,ID(this,"_doDispatchAxisPointer",i.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},t.prototype._moveHandleToValue=function(e,a){eg(this._axisPointerModel,!a&&this._moveAnimation,this._handle,Tc(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(e,a){var n=this._handle;if(n){this._dragging=!0;var r=this.updateHandleTransform(Tc(n),[e,a],this._axisModel,this._axisPointerModel);this._payloadInfo=r,n.stopAnimation(),n.attr(Tc(r)),Fn(n).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var a=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:a.cursorPoint[0],y:a.cursorPoint[1],tooltipOption:a.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var a=this._axisPointerModel.get("value");this._moveHandleToValue(a),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var a=e.getZr(),n=this._group,r=this._handle;a&&n&&(this._lastGraphicKey=null,n&&a.remove(n),r&&a.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),RD(this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(e,a,n){return n=n||0,{x:e[n],y:e[1-n],width:a[n],height:a[1-n]}},t}();function eg(t,e,a,n){kb(Fn(a).lastProp,n)||(Fn(a).lastProp=n,e?er(a,n,t):(a.stopAnimation(),a.attr(n)))}function kb(t,e){if(fe(t)&&fe(e)){var a=!0;return q(e,function(n,r){a=a&&kb(t[r],n)}),!!a}else return t===e}function ag(t,e){t[e.get(["label","show"])?"show":"hide"]()}function Tc(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function tg(t,e,a){var n=e.get("z"),r=e.get("zlevel");t&&t.traverse(function(i){i.type!=="group"&&(n!=null&&(i.z=n),r!=null&&(i.zlevel=r),i.silent=a)})}function tI(t){var e=t.get("type"),a=t.getModel(e+"Style"),n;return e==="line"?(n=a.getLineStyle(),n.fill=null):e==="shadow"&&(n=a.getAreaStyle(),n.stroke=null),n}function nI(t,e,a,n,r){var i=a.get("value"),o=iI(i,e.axis,e.ecModel,a.get("seriesDataIndices"),{precision:a.get(["label","precision"]),formatter:a.get(["label","formatter"])}),s=a.getModel("label"),l=a0(s.get("padding")||0),u=s.getFont(),c=mf(o,u),d=r.position,f=c.width+l[1]+l[3],p=c.height+l[0]+l[2],m=r.align;m==="right"&&(d[0]-=f),m==="center"&&(d[0]-=f/2);var g=r.verticalAlign;g==="bottom"&&(d[1]-=p),g==="middle"&&(d[1]-=p/2),rI(d,f,p,n);var h=s.get("backgroundColor");(!h||h==="auto")&&(h=e.get(["axisLine","lineStyle","color"])),t.label={x:d[0],y:d[1],style:$i(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:h}),z2:10}}function rI(t,e,a,n){var r=n.getWidth(),i=n.getHeight();t[0]=Math.min(t[0]+e,r)-e,t[1]=Math.min(t[1]+a,i)-a,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function iI(t,e,a,n,r){t=e.scale.parse(t);var i=e.scale.getLabel({value:t},{precision:r.precision}),o=r.formatter;if(o){var s={value:hb(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};q(n,function(l){var u=a.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,d=u&&u.getDataParams(c);d&&s.seriesData.push(d)}),be(o)?i=o.replace("{value}",i):we(o)&&(i=o(s))}return i}function Mb(t,e,a){var n=Or();return ff(n,n,a.rotation),Jc(n,n,a.position),Lf([t.dataToCoord(e),(a.labelOffset||0)+(a.labelDirection||1)*(a.labelMargin||0)],n)}function oI(t,e,a,n,r,i){var o=on.innerTextLayout(a.rotation,0,a.labelDirection);a.labelMargin=r.get(["label","margin"]),nI(e,n,r,i,{position:Mb(n.axis,t,a),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function sI(t,e,a){return a=a||0,{x1:t[a],y1:t[1-a],x2:e[a],y2:e[1-a]}}function lI(t,e,a){return a=a||0,{x:t[a],y:t[1-a],width:e[a],height:e[1-a]}}var uI=function(t){qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeElOption=function(a,n,r,i,o){var s=r.axis,l=s.grid,u=i.get("type"),c=ng(l,s).getOtherAxis(s).getGlobalExtent(),d=s.toGlobalCoord(s.dataToCoord(n,!0));if(u&&u!=="none"){var f=tI(i),p=cI[u](s,d,c);p.style=f,a.graphicKey=p.type,a.pointer=p}var m=Od(l.model,r);oI(n,a,m,r,i,o)},e.prototype.getHandleTransform=function(a,n,r){var i=Od(n.axis.grid.model,n,{labelInside:!1});i.labelMargin=r.get(["handle","margin"]);var o=Mb(n.axis,a,i);return{x:o[0],y:o[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(a,n,r,i){var o=r.axis,s=o.grid,l=o.getGlobalExtent(!0),u=ng(s,o).getOtherAxis(o).getGlobalExtent(),c=o.dim==="x"?0:1,d=[a.x,a.y];d[c]+=n[c],d[c]=Math.min(l[1],d[c]),d[c]=Math.max(l[0],d[c]);var f=(u[1]+u[0])/2,p=[f,f];p[c]=d[c];var m=[{verticalAlign:"middle"},{align:"center"}];return{x:d[0],y:d[1],rotation:a.rotation,cursorPoint:p,tooltipOption:m[c]}},e}(aI);function ng(t,e){var a={};return a[e.dim+"AxisIndex"]=e.index,t.getCartesian(a)}var cI={line:function(t,e,a){var n=sI([e,a[0]],[e,a[1]],rg(t));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(t,e,a){var n=Math.max(1,t.getBandWidth()),r=a[1]-a[0];return{type:"Rect",shape:lI([e-n/2,a[0]],[n,r],rg(t))}}};function rg(t){return t.dim==="x"?0:1}var dI=function(t){qe(e,t);function e(){var a=t!==null&&t.apply(this,arguments)||this;return a.type=e.type,a}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(Fe),Dt=ia(),fI=q;function pI(t,e,a){if(!ke.node){var n=e.getZr();Dt(n).records||(Dt(n).records={}),hI(n,e);var r=Dt(n).records[t]||(Dt(n).records[t]={});r.handler=a}}function hI(t,e){if(Dt(t).initialized)return;Dt(t).initialized=!0,a("click",Xa(ig,"click")),a("mousemove",Xa(ig,"mousemove")),a("globalout",mI);function a(n,r){t.on(n,function(i){var o=gI(e);fI(Dt(t).records,function(s){s&&r(s,i,o.dispatchAction)}),vI(o.pendings,e)})}}function vI(t,e){var a=t.showTip.length,n=t.hideTip.length,r;a?r=t.showTip[a-1]:n&&(r=t.hideTip[n-1]),r&&(r.dispatchAction=null,e.dispatchAction(r))}function mI(t,e,a){t.handler("leave",null,a)}function ig(t,e,a,n){e.handler(t,a,n)}function gI(t){var e={showTip:[],hideTip:[]},a=function(n){var r=e[n.type];r?r.push(n):(n.dispatchAction=a,t.dispatchAction(n))};return{dispatchAction:a,pendings:e}}function og(t,e){if(!ke.node){var a=e.getZr(),n=(Dt(a).records||{})[t];n&&(Dt(a).records[t]=null)}}var _I=function(t){qe(e,t);function e(){var a=t!==null&&t.apply(this,arguments)||this;return a.type=e.type,a}return e.prototype.render=function(a,n,r){var i=n.getComponent("tooltip"),o=a.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";pI("axisPointer",r,function(s,l,u){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(a,n){og("axisPointer",n)},e.prototype.dispose=function(a,n){og("axisPointer",n)},e.type="axisPointer",e}(pn);function yI(t,e){var a=[],n=t.seriesIndex,r;if(n==null||!(r=e.getSeriesByIndex(n)))return{point:[]};var i=r.getData(),o=$n(i,t);if(o==null||o<0||se(o))return{point:[]};var s=i.getItemGraphicEl(o),l=r.coordinateSystem;if(r.getTooltipPosition)a=r.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(t.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),d=c.dim,f=u.dim,p=d==="x"||d==="radius"?1:0,m=i.mapDimension(f),g=[];g[p]=i.get(m,o),g[1-p]=i.get(i.getCalculationInfo("stackResultDimension"),o),a=l.dataToPoint(g)||[]}else a=l.dataToPoint(i.getValues(de(l.dimensions,function(v){return i.mapDimension(v)}),o))||[];else if(s){var h=s.getBoundingRect().clone();h.applyTransform(s.transform),a=[h.x+h.width/2,h.y+h.height/2]}return{point:a,el:s}}var sg=ia();function bI(t,e,a){var n=t.currTrigger,r=[t.x,t.y],i=t,o=t.dispatchAction||ma(a.dispatchAction,a),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){Es(r)&&(r=yI({seriesIndex:i.seriesIndex,dataIndex:i.dataIndex},e).point);var l=Es(r),u=i.axesInfo,c=s.axesInfo,d=n==="leave"||Es(r),f={},p={},m={list:[],map:{}},g={showPointer:Xa(xI,p),showTooltip:Xa(SI,m)};q(s.coordSysMap,function(v,_){var y=l||v.containPoint(r);q(s.coordSysAxesInfo[_],function(x,E){var w=x.axis,A=EI(u,x);if(!d&&y&&(!u||A)){var S=A&&A.value;S==null&&!l&&(S=w.pointToData(r)),S!=null&&lg(x,S,g,!1,f)}})});var h={};return q(c,function(v,_){var y=v.linkGroup;y&&!p[_]&&q(y.axesInfo,function(x,E){var w=p[E];if(x!==v&&w){var A=w.value;y.mapper&&(A=v.axis.scale.parse(y.mapper(A,ug(x),ug(v)))),h[v.key]=A}})}),q(h,function(v,_){lg(c[_],v,g,!0,f)}),CI(p,c,f),AI(m,r,t,o),TI(c,o,a),f}}function lg(t,e,a,n,r){var i=t.axis;if(!(i.scale.isBlank()||!i.containData(e))){if(!t.involveSeries){a.showPointer(t,e);return}var o=wI(e,t),s=o.payloadBatch,l=o.snapToValue;s[0]&&r.seriesIndex==null&&ae(r,s[0]),!n&&t.snap&&i.containData(l)&&l!=null&&(e=l),a.showPointer(t,e,s),a.showTooltip(t,o,l)}}function wI(t,e){var a=e.axis,n=a.dim,r=t,i=[],o=Number.MAX_VALUE,s=-1;return q(e.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(n),d,f;if(l.getAxisTooltipData){var p=l.getAxisTooltipData(c,t,a);f=p.dataIndices,d=p.nestestValue}else{if(f=l.getData().indicesOfNearest(c[0],t,a.type==="category"?.5:null),!f.length)return;d=l.getData().get(c[0],f[0])}if(!(d==null||!isFinite(d))){var m=t-d,g=Math.abs(m);g<=o&&((g<o||m>=0&&s<0)&&(o=g,s=m,r=d,i.length=0),q(f,function(h){i.push({seriesIndex:l.seriesIndex,dataIndexInside:h,dataIndex:l.getData().getRawIndex(h)})}))}}),{payloadBatch:i,snapToValue:r}}function xI(t,e,a,n){t[e.key]={value:a,payloadBatch:n}}function SI(t,e,a,n){var r=a.payloadBatch,i=e.axis,o=i.model,s=e.axisPointerModel;if(!(!e.triggerTooltip||!r.length)){var l=e.coordSys.model,u=uo(l),c=t.map[u];c||(c=t.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(c)),c.dataByAxis.push({axisDim:i.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:n,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function CI(t,e,a){var n=a.axesInfo=[];q(e,function(r,i){var o=r.axisPointerModel.option,s=t[i];s?(!r.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!r.useHandle&&(o.status="hide"),o.status==="show"&&n.push({axisDim:r.axis.dim,axisIndex:r.axis.model.componentIndex,value:o.value})})}function AI(t,e,a,n){if(Es(e)||!t.list.length){n({type:"hideTip"});return}var r=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:a.tooltipOption,position:a.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:t.list})}function TI(t,e,a){var n=a.getZr(),r="axisPointerLastHighlights",i=sg(n)[r]||{},o=sg(n)[r]={};q(t,function(u,c){var d=u.axisPointerModel.option;d.status==="show"&&u.triggerEmphasis&&q(d.seriesDataIndices,function(f){var p=f.seriesIndex+" | "+f.dataIndex;o[p]=f})});var s=[],l=[];q(i,function(u,c){!o[c]&&l.push(u)}),q(o,function(u,c){!i[c]&&s.push(u)}),l.length&&a.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&a.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function EI(t,e){for(var a=0;a<(t||[]).length;a++){var n=t[a];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}function ug(t){var e=t.axis.model,a={},n=a.axisDim=t.axis.dim;return a.axisIndex=a[n+"AxisIndex"]=e.componentIndex,a.axisName=a[n+"AxisName"]=e.name,a.axisId=a[n+"AxisId"]=e.id,a}function Es(t){return!t||t[0]==null||isNaN(t[0])||t[1]==null||isNaN(t[1])}function kI(t){Ab.registerAxisPointerClass("CartesianAxisPointer",uI),t.registerComponentModel(dI),t.registerComponentView(_I),t.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var a=e.axisPointer.link;a&&!se(a)&&(e.axisPointer.link=[a])}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,function(e,a){e.getComponent("axisPointer").coordSysAxesInfo=Vq(e,a)}),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},bI)}function MI(t){nl(eI),nl(kI)}function Db(t,e){var a=t.mapDimensionsAll("defaultedLabel"),n=a.length;if(n===1){var r=Ur(t,e,a[0]);return r!=null?r+"":null}else if(n){for(var i=[],o=0;o<a.length;o++)i.push(Ur(t,e,a[o]));return i.join(" ")}}function DI(t,e){var a=t.mapDimensionsAll("defaultedLabel");if(!se(e))return e+"";for(var n=[],r=0;r<a.length;r++){var i=t.getDimensionIndex(a[r]);i>=0&&n.push(e[i])}return n.join(" ")}var tp=function(t){qe(e,t);function e(a,n,r,i){var o=t.call(this)||this;return o.updateData(a,n,r,i),o}return e.prototype._createSymbol=function(a,n,r,i,o){this.removeAll();var s=io(a,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),s.drift=LI,this._symbolType=a,this.add(s)},e.prototype.stopSymbolAnimation=function(a){this.childAt(0).stopAnimation(null,a)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){Gs(this.childAt(0))},e.prototype.downplay=function(){Hs(this.childAt(0))},e.prototype.setZ=function(a,n){var r=this.childAt(0);r.zlevel=a,r.z=n},e.prototype.setDraggable=function(a,n){var r=this.childAt(0);r.draggable=a,r.cursor=!n&&a?"move":r.cursor},e.prototype.updateData=function(a,n,r,i){this.silent=!1;var o=a.getItemVisual(n,"symbol")||"circle",s=a.hostModel,l=e.getSymbolSize(a,n),u=o!==this._symbolType,c=i&&i.disableAnimation;if(u){var d=a.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,a,n,l,d)}else{var f=this.childAt(0);f.silent=!1;var p={scaleX:l[0]/2,scaleY:l[1]/2};c?f.attr(p):er(f,p,s,n),qk(f)}if(this._updateCommon(a,n,l,r,i),u){var f=this.childAt(0);if(!c){var p={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}};f.scaleX=f.scaleY=0,f.style.opacity=0,Xr(f,p,s,n)}}c&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(a,n,r,i,o){var s=this.childAt(0),l=a.hostModel,u,c,d,f,p,m,g,h,v;if(i&&(u=i.emphasisItemStyle,c=i.blurItemStyle,d=i.selectItemStyle,f=i.focus,p=i.blurScope,g=i.labelStatesModels,h=i.hoverScale,v=i.cursorStyle,m=i.emphasisDisabled),!i||a.hasItemOption){var _=i&&i.itemModel?i.itemModel:a.getItemModel(n),y=_.getModel("emphasis");u=y.getModel("itemStyle").getItemStyle(),d=_.getModel(["select","itemStyle"]).getItemStyle(),c=_.getModel(["blur","itemStyle"]).getItemStyle(),f=y.get("focus"),p=y.get("blurScope"),m=y.get("disabled"),g=qf(_),h=y.getShallow("scale"),v=_.getShallow("cursor")}var x=a.getItemVisual(n,"symbolRotate");s.attr("rotation",(x||0)*Math.PI/180||0);var E=P0(a.getItemVisual(n,"symbolOffset"),r);E&&(s.x=E[0],s.y=E[1]),v&&s.attr("cursor",v);var w=a.getItemVisual(n,"style"),A=w.fill;if(s instanceof mn){var S=s.style;s.useStyle(ae({image:S.image,x:S.x,y:S.y,width:S.width,height:S.height},w))}else s.__isEmptyBrush?s.useStyle(ae({},w)):s.useStyle(w),s.style.decal=null,s.setColor(A,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var k=a.getItemVisual(n,"liftZ"),b=this._z2;k!=null?b==null&&(this._z2=s.z2,s.z2+=k):b!=null&&(s.z2=b,this._z2=null);var M=o&&o.useNameLabel;Vy(s,g,{labelFetcher:l,labelDataIndex:n,defaultText:D,inheritColor:A,defaultOpacity:w.opacity});function D(I){return M?a.getName(I):Db(a,I)}this._sizeX=r[0]/2,this._sizeY=r[1]/2;var L=s.ensureState("emphasis");L.style=u,s.ensureState("select").style=d,s.ensureState("blur").style=c;var P=h==null||h===!0?Math.max(1.1,3/this._sizeY):isFinite(h)&&h>0?+h:1;L.scaleX=this._sizeX*P,L.scaleY=this._sizeY*P,this.setSymbolScale(1),hd(this,f,p,m)},e.prototype.setSymbolScale=function(a){this.scaleX=this.scaleY=a},e.prototype.fadeOut=function(a,n,r){var i=this.childAt(0),o=la(this).dataIndex,s=r&&r.animation;if(this.silent=i.silent=!0,r&&r.fadeLabel){var l=i.getTextContent();l&&Ks(l,{style:{opacity:0}},n,{dataIndex:o,removeOpt:s,cb:function(){i.removeTextContent()}})}else i.removeTextContent();Ks(i,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:o,cb:a,removeOpt:s})},e.getSymbolSize=function(a,n){return hL(a.getItemVisual(n,"symbolSize"))},e}(La);function LI(t,e){this.parent.drift(t,e)}function Ec(t,e,a,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(a))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&t.getItemVisual(a,"symbol")!=="none"}function cg(t){return t!=null&&!fe(t)&&(t={isIgnore:t}),t||{}}function dg(t){var e=t.hostModel,a=e.getModel("emphasis");return{emphasisItemStyle:a.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:a.get("focus"),blurScope:a.get("blurScope"),emphasisDisabled:a.get("disabled"),hoverScale:a.get("scale"),labelStatesModels:qf(e),cursorStyle:e.get("cursor")}}var PI=function(){function t(e){this.group=new La,this._SymbolCtor=e||tp}return t.prototype.updateData=function(e,a){this._progressiveEls=null,a=cg(a);var n=this.group,r=e.hostModel,i=this._data,o=this._SymbolCtor,s=a.disableAnimation,l=dg(e),u={disableAnimation:s},c=a.getSymbolPoint||function(d){return e.getItemLayout(d)};i||n.removeAll(),e.diff(i).add(function(d){var f=c(d);if(Ec(e,f,d,a)){var p=new o(e,d,l,u);p.setPosition(f),e.setItemGraphicEl(d,p),n.add(p)}}).update(function(d,f){var p=i.getItemGraphicEl(f),m=c(d);if(!Ec(e,m,d,a)){n.remove(p);return}var g=e.getItemVisual(d,"symbol")||"circle",h=p&&p.getSymbolType&&p.getSymbolType();if(!p||h&&h!==g)n.remove(p),p=new o(e,d,l,u),p.setPosition(m);else{p.updateData(e,d,l,u);var v={x:m[0],y:m[1]};s?p.attr(v):er(p,v,r)}n.add(p),e.setItemGraphicEl(d,p)}).remove(function(d){var f=i.getItemGraphicEl(d);f&&f.fadeOut(function(){n.remove(f)},r)}).execute(),this._getSymbolPoint=c,this._data=e},t.prototype.updateLayout=function(){var e=this,a=this._data;a&&a.eachItemGraphicEl(function(n,r){var i=e._getSymbolPoint(r);n.setPosition(i),n.markRedraw()})},t.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=dg(e),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(e,a,n){this._progressiveEls=[],n=cg(n);function r(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var i=e.start;i<e.end;i++){var o=a.getItemLayout(i);if(Ec(a,o,i,n)){var s=new this._SymbolCtor(a,i,this._seriesScope);s.traverse(r),s.setPosition(o),this.group.add(s),a.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},t.prototype.eachRendered=function(e){Pf(this._progressiveEls||this.group,e)},t.prototype.remove=function(e){var a=this.group,n=this._data;n&&e?n.eachItemGraphicEl(function(r){r.fadeOut(function(){a.remove(r)},n.hostModel)}):a.removeAll()},t}();function qI(t,e){return t.type===e}var II=function(t){qe(e,t);function e(){var a=t!==null&&t.apply(this,arguments)||this;return a.type=e.type,a.hasSymbolVisual=!0,a}return e.prototype.getInitialData=function(a){return TP(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(a){var n=new La,r=io("line",0,a.itemHeight/2,a.itemWidth,0,a.lineStyle.stroke,!1);n.add(r),r.setStyle(a.lineStyle);var i=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=i==="none"?"circle":i,l=a.itemHeight*.8,u=io(s,(a.itemWidth-l)/2,(a.itemHeight-l)/2,l,l,a.itemStyle.fill);n.add(u),u.setStyle(a.itemStyle);var c=a.iconRotate==="inherit"?o:a.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([a.itemWidth/2,a.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),n},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(fn);function Lb(t,e,a){var n=t.getBaseAxis(),r=t.getOtherAxis(n),i=RI(r,a),o=n.dim,s=r.dim,l=e.mapDimension(s),u=e.mapDimension(o),c=s==="x"||s==="radius"?1:0,d=de(t.dimensions,function(m){return e.mapDimension(m)}),f=!1,p=e.getCalculationInfo("stackResultDimension");return so(e,d[0])&&(f=!0,d[0]=p),so(e,d[1])&&(f=!0,d[1]=p),{dataDimsForPoint:d,valueStart:i,valueAxisDim:s,baseAxisDim:o,stacked:!!f,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function RI(t,e){var a=0,n=t.scale.getExtent();return e==="start"?a=n[0]:e==="end"?a=n[1]:ta(e)&&!isNaN(e)?a=e:n[0]>0?a=n[0]:n[1]<0&&(a=n[1]),a}function Pb(t,e,a,n){var r=NaN;t.stacked&&(r=a.get(a.getCalculationInfo("stackedOverDimension"),n)),isNaN(r)&&(r=t.valueStart);var i=t.baseDataOffset,o=[];return o[i]=a.get(t.baseDim,n),o[1-i]=r,e.dataToPoint(o)}function OI(t,e){var a=[];return e.diff(t).add(function(n){a.push({cmd:"+",idx:n})}).update(function(n,r){a.push({cmd:"=",idx:r,idx1:n})}).remove(function(n){a.push({cmd:"-",idx:n})}).execute(),a}function BI(t,e,a,n,r,i,o,s){for(var l=OI(t,e),u=[],c=[],d=[],f=[],p=[],m=[],g=[],h=Lb(r,e,o),v=t.getLayout("points")||[],_=e.getLayout("points")||[],y=0;y<l.length;y++){var x=l[y],E=!0,w=void 0,A=void 0;switch(x.cmd){case"=":w=x.idx*2,A=x.idx1*2;var S=v[w],k=v[w+1],b=_[A],M=_[A+1];(isNaN(S)||isNaN(k))&&(S=b,k=M),u.push(S,k),c.push(b,M),d.push(a[w],a[w+1]),f.push(n[A],n[A+1]),g.push(e.getRawIndex(x.idx1));break;case"+":var D=x.idx,L=h.dataDimsForPoint,P=r.dataToPoint([e.get(L[0],D),e.get(L[1],D)]);A=D*2,u.push(P[0],P[1]),c.push(_[A],_[A+1]);var I=Pb(h,r,e,D);d.push(I[0],I[1]),f.push(n[A],n[A+1]),g.push(e.getRawIndex(D));break;case"-":E=!1}E&&(p.push(x),m.push(m.length))}m.sort(function(F,G){return g[F]-g[G]});for(var R=u.length,U=Lr(R),N=Lr(R),W=Lr(R),Q=Lr(R),re=[],y=0;y<m.length;y++){var ue=m[y],J=y*2,ie=ue*2;U[J]=u[ie],U[J+1]=u[ie+1],N[J]=c[ie],N[J+1]=c[ie+1],W[J]=d[ie],W[J+1]=d[ie+1],Q[J]=f[ie],Q[J+1]=f[ie+1],re[y]=p[ue]}return{current:U,next:N,stackedOnCurrent:W,stackedOnNext:Q,status:re}}var Wt=Math.min,Kt=Math.max;function Zn(t,e){return isNaN(t)||isNaN(e)}function Nd(t,e,a,n,r,i,o,s,l){for(var u,c,d,f,p,m,g=a,h=0;h<n;h++){var v=e[g*2],_=e[g*2+1];if(g>=r||g<0)break;if(Zn(v,_)){if(l){g+=i;continue}break}if(g===a)t[i>0?"moveTo":"lineTo"](v,_),d=v,f=_;else{var y=v-u,x=_-c;if(y*y+x*x<.5){g+=i;continue}if(o>0){for(var E=g+i,w=e[E*2],A=e[E*2+1];w===v&&A===_&&h<n;)h++,E+=i,g+=i,w=e[E*2],A=e[E*2+1],v=e[g*2],_=e[g*2+1],y=v-u,x=_-c;var S=h+1;if(l)for(;Zn(w,A)&&S<n;)S++,E+=i,w=e[E*2],A=e[E*2+1];var k=.5,b=0,M=0,D=void 0,L=void 0;if(S>=n||Zn(w,A))p=v,m=_;else{b=w-u,M=A-c;var P=v-u,I=w-v,R=_-c,U=A-_,N=void 0,W=void 0;if(s==="x"){N=Math.abs(P),W=Math.abs(I);var Q=b>0?1:-1;p=v-Q*N*o,m=_,D=v+Q*W*o,L=_}else if(s==="y"){N=Math.abs(R),W=Math.abs(U);var re=M>0?1:-1;p=v,m=_-re*N*o,D=v,L=_+re*W*o}else N=Math.sqrt(P*P+R*R),W=Math.sqrt(I*I+U*U),k=W/(W+N),p=v-b*o*(1-k),m=_-M*o*(1-k),D=v+b*o*k,L=_+M*o*k,D=Wt(D,Kt(w,v)),L=Wt(L,Kt(A,_)),D=Kt(D,Wt(w,v)),L=Kt(L,Wt(A,_)),b=D-v,M=L-_,p=v-b*N/W,m=_-M*N/W,p=Wt(p,Kt(u,v)),m=Wt(m,Kt(c,_)),p=Kt(p,Wt(u,v)),m=Kt(m,Wt(c,_)),b=v-p,M=_-m,D=v+b*W/N,L=_+M*W/N}t.bezierCurveTo(d,f,p,m,v,_),d=D,f=L}else t.lineTo(v,_)}u=v,c=_,g+=i}return h}var qb=function(){function t(){this.smooth=0,this.smoothConstraint=!0}return t}(),zI=function(t){qe(e,t);function e(a){var n=t.call(this,a)||this;return n.type="ec-polyline",n}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new qb},e.prototype.buildPath=function(a,n){var r=n.points,i=0,o=r.length/2;if(n.connectNulls){for(;o>0&&Zn(r[o*2-2],r[o*2-1]);o--);for(;i<o&&Zn(r[i*2],r[i*2+1]);i++);}for(;i<o;)i+=Nd(a,r,i,o,o,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},e.prototype.getPointOn=function(a,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var r=this.path,i=r.data,o=cn.CMD,s,l,u=n==="x",c=[],d=0;d<i.length;){var f=i[d++],p=void 0,m=void 0,g=void 0,h=void 0,v=void 0,_=void 0,y=void 0;switch(f){case o.M:s=i[d++],l=i[d++];break;case o.L:if(p=i[d++],m=i[d++],y=u?(a-s)/(p-s):(a-l)/(m-l),y<=1&&y>=0){var x=u?(m-l)*y+l:(p-s)*y+s;return u?[a,x]:[x,a]}s=p,l=m;break;case o.C:p=i[d++],m=i[d++],g=i[d++],h=i[d++],v=i[d++],_=i[d++];var E=u?zs(s,p,g,v,a,c):zs(l,m,h,_,a,c);if(E>0)for(var w=0;w<E;w++){var A=c[w];if(A<=1&&A>=0){var x=u?ua(l,m,h,_,A):ua(s,p,g,v,A);return u?[a,x]:[x,a]}}s=v,l=_;break}}},e}(Ee),NI=function(t){qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(qb),VI=function(t){qe(e,t);function e(a){var n=t.call(this,a)||this;return n.type="ec-polygon",n}return e.prototype.getDefaultShape=function(){return new NI},e.prototype.buildPath=function(a,n){var r=n.points,i=n.stackedOnPoints,o=0,s=r.length/2,l=n.smoothMonotone;if(n.connectNulls){for(;s>0&&Zn(r[s*2-2],r[s*2-1]);s--);for(;o<s&&Zn(r[o*2],r[o*2+1]);o++);}for(;o<s;){var u=Nd(a,r,o,s,s,1,n.smooth,l,n.connectNulls);Nd(a,i,o+u-1,u,s,-1,n.stackedOnSmooth,l,n.connectNulls),o+=u+1,a.closePath()}},e}(Ee);function jI(t,e,a,n,r){var i=t.getArea(),o=i.x,s=i.y,l=i.width,u=i.height,c=a.get(["lineStyle","width"])||2;o-=c/2,s-=c/2,l+=c,u+=c,l=Math.ceil(l),o!==Math.floor(o)&&(o=Math.floor(o),l++);var d=new ka({shape:{x:o,y:s,width:l,height:u}});if(e){var f=t.getBaseAxis(),p=f.isHorizontal(),m=f.inverse;p?(m&&(d.shape.x+=l),d.shape.width=0):(m||(d.shape.y+=u),d.shape.height=0);var g=we(r)?function(h){r(h,d)}:null;Xr(d,{shape:{width:l,height:u,x:o,y:s}},a,null,n,g)}return d}function FI(t,e,a){var n=t.getArea(),r=aa(n.r0,1),i=aa(n.r,1),o=new Fr({shape:{cx:aa(t.cx,1),cy:aa(t.cy,1),r0:r,r:i,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(e){var s=t.getBaseAxis().dim==="angle";s?o.shape.endAngle=n.startAngle:o.shape.r=r,Xr(o,{shape:{endAngle:n.endAngle,r:i}},a)}return o}function fg(t,e){if(t.length===e.length){for(var a=0;a<t.length;a++)if(t[a]!==e[a])return;return!0}}function pg(t){for(var e=1/0,a=1/0,n=-1/0,r=-1/0,i=0;i<t.length;){var o=t[i++],s=t[i++];isNaN(o)||(e=Math.min(o,e),n=Math.max(o,n)),isNaN(s)||(a=Math.min(s,a),r=Math.max(s,r))}return[[e,a],[n,r]]}function hg(t,e){var a=pg(t),n=a[0],r=a[1],i=pg(e),o=i[0],s=i[1];return Math.max(Math.abs(n[0]-o[0]),Math.abs(n[1]-o[1]),Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]))}function vg(t){return ta(t)?t:t?.5:0}function UI(t,e,a){if(!a.valueDim)return[];for(var n=e.count(),r=Lr(n*2),i=0;i<n;i++){var o=Pb(a,t,e,i);r[i*2]=o[0],r[i*2+1]=o[1]}return r}function Yt(t,e,a,n){var r=e.getBaseAxis(),i=r.dim==="x"||r.dim==="radius"?0:1,o=[],s=0,l=[],u=[],c=[],d=[];if(n){for(s=0;s<t.length;s+=2)!isNaN(t[s])&&!isNaN(t[s+1])&&d.push(t[s],t[s+1]);t=d}for(s=0;s<t.length-2;s+=2)switch(c[0]=t[s+2],c[1]=t[s+3],u[0]=t[s],u[1]=t[s+1],o.push(u[0],u[1]),a){case"end":l[i]=c[i],l[1-i]=u[1-i],o.push(l[0],l[1]);break;case"middle":var f=(u[i]+c[i])/2,p=[];l[i]=p[i]=f,l[1-i]=u[1-i],p[1-i]=c[1-i],o.push(l[0],l[1]),o.push(p[0],p[1]);break;default:l[i]=u[i],l[1-i]=c[1-i],o.push(l[0],l[1])}return o.push(t[s++],t[s++]),o}function GI(t,e){var a=[],n=t.length,r,i;function o(c,d,f){var p=c.coord,m=(f-p)/(d.coord-p),g=FA(m,[c.color,d.color]);return{coord:f,color:g}}for(var s=0;s<n;s++){var l=t[s],u=l.coord;if(u<0)r=l;else if(u>e){i?a.push(o(i,l,e)):r&&a.push(o(r,l,0),o(r,l,e));break}else r&&(a.push(o(r,l,0)),r=null),a.push(l),i=l}return a}function HI(t,e,a){var n=t.getVisual("visualMeta");if(!(!n||!n.length||!t.count())&&e.type==="cartesian2d"){for(var r,i,o=n.length-1;o>=0;o--){var s=t.getDimensionInfo(n[o].dimension);if(r=s&&s.coordDim,r==="x"||r==="y"){i=n[o];break}}if(i){var l=e.getAxis(r),u=de(i.stops,function(y){return{coord:l.toGlobalCoord(l.dataToCoord(y.value)),color:y.color}}),c=u.length,d=i.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),d.reverse());var f=GI(u,r==="x"?a.getWidth():a.getHeight()),p=f.length;if(!p&&c)return u[0].coord<0?d[1]?d[1]:u[c-1].color:d[0]?d[0]:u[0].color;var m=10,g=f[0].coord-m,h=f[p-1].coord+m,v=h-g;if(v<.001)return"transparent";q(f,function(y){y.offset=(y.coord-g)/v}),f.push({offset:p?f[p-1].offset:.5,color:d[1]||"transparent"}),f.unshift({offset:p?f[0].offset:.5,color:d[0]||"transparent"});var _=new Ly(0,0,0,0,f,!0);return _[r]=g,_[r+"2"]=h,_}}}function WI(t,e,a){var n=t.get("showAllSymbol"),r=n==="auto";if(!(n&&!r)){var i=a.getAxesByScale("ordinal")[0];if(i&&!(r&&KI(i,e))){var o=e.mapDimension(i.dim),s={};return q(i.getViewLabels(),function(l){var u=i.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(e.get(o,l))}}}}function KI(t,e){var a=t.getExtent(),n=Math.abs(a[1]-a[0])/t.scale.count();isNaN(n)&&(n=0);for(var r=e.count(),i=Math.max(1,Math.round(r/5)),o=0;o<r;o+=i)if(tp.getSymbolSize(e,o)[t.isHorizontal()?1:0]*1.5>n)return!1;return!0}function YI(t,e){return isNaN(t)||isNaN(e)}function XI(t){for(var e=t.length/2;e>0&&YI(t[e*2-2],t[e*2-1]);e--);return e-1}function mg(t,e){return[t[e*2],t[e*2+1]]}function ZI(t,e,a){for(var n=t.length/2,r=a==="x"?0:1,i,o,s=0,l=-1,u=0;u<n;u++)if(o=t[u*2+r],!(isNaN(o)||isNaN(t[u*2+1-r]))){if(u===0){i=o;continue}if(i<=e&&o>=e||i>=e&&o<=e){l=u;break}s=u,i=o}return{range:[s,l],t:(e-i)/(o-i)}}function Ib(t){if(t.get(["endLabel","show"]))return!0;for(var e=0;e<bt.length;e++)if(t.get([bt[e],"endLabel","show"]))return!0;return!1}function kc(t,e,a,n){if(qI(e,"cartesian2d")){var r=n.getModel("endLabel"),i=r.get("valueAnimation"),o=n.getData(),s={lastFrameIndex:0},l=Ib(n)?function(p,m){t._endLabelOnDuring(p,m,o,s,i,r,e)}:null,u=e.getBaseAxis().isHorizontal(),c=jI(e,a,n,function(){var p=t._endLabel;p&&a&&s.originalX!=null&&p.attr({x:s.originalX,y:s.originalY})},l);if(!n.get("clip",!0)){var d=c.shape,f=Math.max(d.width,d.height);u?(d.y-=f,d.height+=f*2):(d.x-=f,d.width+=f*2)}return l&&l(1,c),c}else return FI(e,a,n)}function QI(t,e){var a=e.getBaseAxis(),n=a.isHorizontal(),r=a.inverse,i=n?r?"right":"left":"center",o=n?"middle":r?"top":"bottom";return{normal:{align:t.get("align")||i,verticalAlign:t.get("verticalAlign")||o}}}var JI=function(t){qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(){var a=new La,n=new PI;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=a},e.prototype.render=function(a,n,r){var i=this,o=a.coordinateSystem,s=this.group,l=a.getData(),u=a.getModel("lineStyle"),c=a.getModel("areaStyle"),d=l.getLayout("points")||[],f=o.type==="polar",p=this._coordSys,m=this._symbolDraw,g=this._polyline,h=this._polygon,v=this._lineGroup,_=!n.ssr&&a.get("animation"),y=!c.isEmpty(),x=c.get("origin"),E=Lb(o,l,x),w=y&&UI(o,l,E),A=a.get("showSymbol"),S=a.get("connectNulls"),k=A&&!f&&WI(a,l,o),b=this._data;b&&b.eachItemGraphicEl(function(G,ee){G.__temp&&(s.remove(G),b.setItemGraphicEl(ee,null))}),A||m.remove(),s.add(v);var M=f?!1:a.get("step"),D;o&&o.getArea&&a.get("clip",!0)&&(D=o.getArea(),D.width!=null?(D.x-=.1,D.y-=.1,D.width+=.2,D.height+=.2):D.r0&&(D.r0-=.5,D.r+=.5)),this._clipShapeForSymbol=D;var L=HI(l,o,r)||l.getVisual("style")[l.getVisual("drawType")];if(!(g&&p.type===o.type&&M===this._step))A&&m.updateData(l,{isIgnore:k,clipShape:D,disableAnimation:!0,getSymbolPoint:function(G){return[d[G*2],d[G*2+1]]}}),_&&this._initSymbolLabelAnimation(l,o,D),M&&(d=Yt(d,o,M,S),w&&(w=Yt(w,o,M,S))),g=this._newPolyline(d),y?h=this._newPolygon(d,w):h&&(v.remove(h),h=this._polygon=null),f||this._initOrUpdateEndLabel(a,o,yd(L)),v.setClipPath(kc(this,o,!0,a));else{y&&!h?h=this._newPolygon(d,w):h&&!y&&(v.remove(h),h=this._polygon=null),f||this._initOrUpdateEndLabel(a,o,yd(L));var P=v.getClipPath();if(P){var I=kc(this,o,!1,a);Xr(P,{shape:I.shape},a)}else v.setClipPath(kc(this,o,!0,a));A&&m.updateData(l,{isIgnore:k,clipShape:D,disableAnimation:!0,getSymbolPoint:function(G){return[d[G*2],d[G*2+1]]}}),(!fg(this._stackedOnPoints,w)||!fg(this._points,d))&&(_?this._doUpdateAnimation(l,w,o,r,M,x,S):(M&&(d=Yt(d,o,M,S),w&&(w=Yt(w,o,M,S))),g.setShape({points:d}),h&&h.setShape({points:d,stackedOnPoints:w})))}var R=a.getModel("emphasis"),U=R.get("focus"),N=R.get("blurScope"),W=R.get("disabled");if(g.useStyle(Se(u.getLineStyle(),{fill:"none",stroke:L,lineJoin:"bevel"})),uv(g,a,"lineStyle"),g.style.lineWidth>0&&a.get(["emphasis","lineStyle","width"])==="bolder"){var Q=g.getState("emphasis").style;Q.lineWidth=+g.style.lineWidth+1}la(g).seriesIndex=a.seriesIndex,hd(g,U,N,W);var re=vg(a.get("smooth")),ue=a.get("smoothMonotone");if(g.setShape({smooth:re,smoothMonotone:ue,connectNulls:S}),h){var J=l.getCalculationInfo("stackedOnSeries"),ie=0;h.useStyle(Se(c.getAreaStyle(),{fill:L,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),J&&(ie=vg(J.get("smooth"))),h.setShape({smooth:re,stackedOnSmooth:ie,smoothMonotone:ue,connectNulls:S}),uv(h,a,"areaStyle"),la(h).seriesIndex=a.seriesIndex,hd(h,U,N,W)}var F=function(G){i._changePolyState(G)};l.eachItemGraphicEl(function(G){G&&(G.onHoverStateChange=F)}),this._polyline.onHoverStateChange=F,this._data=l,this._coordSys=o,this._stackedOnPoints=w,this._points=d,this._step=M,this._valueOrigin=x,a.get("triggerLineEvent")&&(this.packEventData(a,g),h&&this.packEventData(a,h))},e.prototype.packEventData=function(a,n){la(n).eventData={componentType:"series",componentSubType:"line",componentIndex:a.componentIndex,seriesIndex:a.seriesIndex,seriesName:a.name,seriesType:"line"}},e.prototype.highlight=function(a,n,r,i){var o=a.getData(),s=$n(o,i);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=o.getLayout("points"),u=o.getItemGraphicEl(s);if(!u){var c=l[s*2],d=l[s*2+1];if(isNaN(c)||isNaN(d)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,d))return;var f=a.get("zlevel")||0,p=a.get("z")||0;u=new tp(o,s),u.x=c,u.y=d,u.setZ(f,p);var m=u.getSymbolPath().getTextContent();m&&(m.zlevel=f,m.z=p,m.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else gt.prototype.highlight.call(this,a,n,r,i)},e.prototype.downplay=function(a,n,r,i){var o=a.getData(),s=$n(o,i);if(this._changePolyState("normal"),s!=null&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else gt.prototype.downplay.call(this,a,n,r,i)},e.prototype._changePolyState=function(a){var n=this._polygon;rv(this._polyline,a),n&&rv(n,a)},e.prototype._newPolyline=function(a){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new zI({shape:{points:a},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},e.prototype._newPolygon=function(a,n){var r=this._polygon;return r&&this._lineGroup.remove(r),r=new VI({shape:{points:a,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(r),this._polygon=r,r},e.prototype._initSymbolLabelAnimation=function(a,n,r){var i,o,s=n.getBaseAxis(),l=s.inverse;n.type==="cartesian2d"?(i=s.isHorizontal(),o=!1):n.type==="polar"&&(i=s.dim==="angle",o=!0);var u=a.hostModel,c=u.get("animationDuration");we(c)&&(c=c(null));var d=u.get("animationDelay")||0,f=we(d)?d(null):d;a.eachItemGraphicEl(function(p,m){var g=p;if(g){var h=[p.x,p.y],v=void 0,_=void 0,y=void 0;if(r)if(o){var x=r,E=n.pointToCoord(h);i?(v=x.startAngle,_=x.endAngle,y=-E[1]/180*Math.PI):(v=x.r0,_=x.r,y=E[0])}else{var w=r;i?(v=w.x,_=w.x+w.width,y=p.x):(v=w.y+w.height,_=w.y,y=p.y)}var A=_===v?0:(y-v)/(_-v);l&&(A=1-A);var S=we(d)?d(m):c*A+f,k=g.getSymbolPath(),b=k.getTextContent();g.attr({scaleX:0,scaleY:0}),g.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:S}),b&&b.animateFrom({style:{opacity:0}},{duration:300,delay:S}),k.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(a,n,r){var i=a.getModel("endLabel");if(Ib(a)){var o=a.getData(),s=this._polyline,l=o.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new yt({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=XI(l);c>=0&&(Vy(s,qf(a,"endLabel"),{inheritColor:r,labelFetcher:a,labelDataIndex:c,defaultText:function(d,f,p){return p!=null?DI(o,p):Db(o,d)},enableTextSetter:!0},QI(i,n)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(a,n,r,i,o,s,l){var u=this._endLabel,c=this._polyline;if(u){a<1&&i.originalX==null&&(i.originalX=u.x,i.originalY=u.y);var d=r.getLayout("points"),f=r.hostModel,p=f.get("connectNulls"),m=s.get("precision"),g=s.get("distance")||0,h=l.getBaseAxis(),v=h.isHorizontal(),_=h.inverse,y=n.shape,x=_?v?y.x:y.y+y.height:v?y.x+y.width:y.y,E=(v?g:0)*(_?-1:1),w=(v?0:-g)*(_?-1:1),A=v?"x":"y",S=ZI(d,x,A),k=S.range,b=k[1]-k[0],M=void 0;if(b>=1){if(b>1&&!p){var D=mg(d,k[0]);u.attr({x:D[0]+E,y:D[1]+w}),o&&(M=f.getRawValue(k[0]))}else{var D=c.getPointOn(x,A);D&&u.attr({x:D[0]+E,y:D[1]+w});var L=f.getRawValue(k[0]),P=f.getRawValue(k[1]);o&&(M=zT(r,m,L,P,S.t))}i.lastFrameIndex=k[0]}else{var I=a===1||i.lastFrameIndex>0?k[0]:0,D=mg(d,I);o&&(M=f.getRawValue(I)),u.attr({x:D[0]+E,y:D[1]+w})}if(o){var R=jy(u);typeof R.setLabelText=="function"&&R.setLabelText(M)}}},e.prototype._doUpdateAnimation=function(a,n,r,i,o,s,l){var u=this._polyline,c=this._polygon,d=a.hostModel,f=BI(this._data,a,this._stackedOnPoints,n,this._coordSys,r,this._valueOrigin),p=f.current,m=f.stackedOnCurrent,g=f.next,h=f.stackedOnNext;if(o&&(p=Yt(f.current,r,o,l),m=Yt(f.stackedOnCurrent,r,o,l),g=Yt(f.next,r,o,l),h=Yt(f.stackedOnNext,r,o,l)),hg(p,g)>3e3||c&&hg(m,h)>3e3){u.stopAnimation(),u.setShape({points:g}),c&&(c.stopAnimation(),c.setShape({points:g,stackedOnPoints:h}));return}u.shape.__points=f.current,u.shape.points=p;var v={shape:{points:g}};f.current!==p&&(v.shape.__points=f.next),u.stopAnimation(),er(u,v,d),c&&(c.setShape({points:p,stackedOnPoints:m}),c.stopAnimation(),er(c,{shape:{stackedOnPoints:h}},d),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var _=[],y=f.status,x=0;x<y.length;x++){var E=y[x].cmd;if(E==="="){var w=a.getItemGraphicEl(y[x].idx1);w&&_.push({el:w,ptIdx:x})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var A=u.shape.__points,S=0;S<_.length;S++){var k=_[S].el,b=_[S].ptIdx*2;k.x=A[b],k.y=A[b+1],k.markRedraw()}})},e.prototype.remove=function(a){var n=this.group,r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),r&&r.eachItemGraphicEl(function(i,o){i.__temp&&(n.remove(i),r.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(gt);function $I(t,e){return{seriesType:t,plan:x0(),reset:function(a){var n=a.getData(),r=a.coordinateSystem;if(a.pipelineContext,!!r){var i=de(r.dimensions,function(d){return n.mapDimension(d)}).slice(0,2),o=i.length,s=n.getCalculationInfo("stackResultDimension");so(n,i[0])&&(i[0]=s),so(n,i[1])&&(i[1]=s);var l=n.getStore(),u=n.getDimensionIndex(i[0]),c=n.getDimensionIndex(i[1]);return o&&{progress:function(d,f){for(var p=d.end-d.start,m=Lr(p*o),g=[],h=[],v=d.start,_=0;v<d.end;v++){var y=void 0;if(o===1){var x=l.get(u,v);y=r.dataToPoint(x,null,h)}else g[0]=l.get(u,v),g[1]=l.get(c,v),y=r.dataToPoint(g,null,h);m[_++]=y[0],m[_++]=y[1]}f.setLayout("points",m)}}}}}}var e3={average:function(t){for(var e=0,a=0,n=0;n<t.length;n++)isNaN(t[n])||(e+=t[n],a++);return a===0?NaN:e/a},sum:function(t){for(var e=0,a=0;a<t.length;a++)e+=t[a]||0;return e},max:function(t){for(var e=-1/0,a=0;a<t.length;a++)t[a]>e&&(e=t[a]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,a=0;a<t.length;a++)t[a]<e&&(e=t[a]);return isFinite(e)?e:NaN},minmax:function(t){for(var e=-1/0,a=-1/0,n=0;n<t.length;n++){var r=t[n],i=Math.abs(r);i>e&&(e=i,a=r)}return isFinite(a)?a:NaN},nearest:function(t){return t[0]}},a3=function(t){return Math.round(t.length/2)};function t3(t){return{seriesType:t,reset:function(e,a,n){var r=e.getData(),i=e.get("sampling"),o=e.coordinateSystem,s=r.count();if(s>10&&o.type==="cartesian2d"&&i){var l=o.getBaseAxis(),u=o.getOtherAxis(l),c=l.getExtent(),d=n.getDevicePixelRatio(),f=Math.abs(c[1]-c[0])*(d||1),p=Math.round(s/f);if(isFinite(p)&&p>1){i==="lttb"&&e.setData(r.lttbDownSample(r.mapDimension(u.dim),1/p));var m=void 0;be(i)?m=e3[i]:we(i)&&(m=i),m&&e.setData(r.downSample(r.mapDimension(u.dim),1/p,m,a3))}}}}}function n3(t){t.registerChartView(JI),t.registerSeriesModel(II),t.registerLayout($I("line")),t.registerVisual({seriesType:"line",reset:function(e){var a=e.getData(),n=e.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=a.getVisual("style").fill),a.setVisual("legendLineStyle",n)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,t3("line"))}var ft=cn.CMD;function Pr(t,e){return Math.abs(t-e)<1e-5}function Vd(t){var e=t.data,a=t.len(),n=[],r,i=0,o=0,s=0,l=0;function u(L,P){r&&r.length>2&&n.push(r),r=[L,P]}function c(L,P,I,R){Pr(L,I)&&Pr(P,R)||r.push(L,P,I,R,I,R)}function d(L,P,I,R,U,N){var W=Math.abs(P-L),Q=Math.tan(W/4)*4/3,re=P<L?-1:1,ue=Math.cos(L),J=Math.sin(L),ie=Math.cos(P),F=Math.sin(P),G=ue*U+I,ee=J*N+R,$=ie*U+I,Z=F*N+R,pe=U*Q*re,te=N*Q*re;r.push(G-pe*J,ee+te*ue,$+pe*F,Z-te*ie,$,Z)}for(var f,p,m,g,h=0;h<a;){var v=e[h++],_=h===1;switch(_&&(i=e[h],o=e[h+1],s=i,l=o,(v===ft.L||v===ft.C||v===ft.Q)&&(r=[s,l])),v){case ft.M:i=s=e[h++],o=l=e[h++],u(s,l);break;case ft.L:f=e[h++],p=e[h++],c(i,o,f,p),i=f,o=p;break;case ft.C:r.push(e[h++],e[h++],e[h++],e[h++],i=e[h++],o=e[h++]);break;case ft.Q:f=e[h++],p=e[h++],m=e[h++],g=e[h++],r.push(i+2/3*(f-i),o+2/3*(p-o),m+2/3*(f-m),g+2/3*(p-g),m,g),i=m,o=g;break;case ft.A:var y=e[h++],x=e[h++],E=e[h++],w=e[h++],A=e[h++],S=e[h++]+A;h+=1;var k=!e[h++];f=Math.cos(A)*E+y,p=Math.sin(A)*w+x,_?(s=f,l=p,u(s,l)):c(i,o,f,p),i=Math.cos(S)*E+y,o=Math.sin(S)*w+x;for(var b=(k?-1:1)*Math.PI/2,M=A;k?M>S:M<S;M+=b){var D=k?Math.max(M+b,S):Math.min(M+b,S);d(M,D,y,x,E,w)}break;case ft.R:s=i=e[h++],l=o=e[h++],f=s+e[h++],p=l+e[h++],u(f,l),c(f,l,f,p),c(f,p,s,p),c(s,p,s,l),c(s,l,f,l);break;case ft.Z:r&&c(i,o,s,l),i=s,o=l;break}}return r&&r.length>2&&n.push(r),n}function jd(t,e,a,n,r,i,o,s,l,u){if(Pr(t,a)&&Pr(e,n)&&Pr(r,o)&&Pr(i,s)){l.push(o,s);return}var c=2/u,d=c*c,f=o-t,p=s-e,m=Math.sqrt(f*f+p*p);f/=m,p/=m;var g=a-t,h=n-e,v=r-o,_=i-s,y=g*g+h*h,x=v*v+_*_;if(y<d&&x<d){l.push(o,s);return}var E=f*g+p*h,w=-f*v-p*_,A=y-E*E,S=x-w*w;if(A<d&&E>=0&&S<d&&w>=0){l.push(o,s);return}var k=[],b=[];ln(t,a,r,o,.5,k),ln(e,n,i,s,.5,b),jd(k[0],b[0],k[1],b[1],k[2],b[2],k[3],b[3],l,u),jd(k[4],b[4],k[5],b[5],k[6],b[6],k[7],b[7],l,u)}function r3(t,e){var a=Vd(t),n=[];e=e||1;for(var r=0;r<a.length;r++){var i=a[r],o=[],s=i[0],l=i[1];o.push(s,l);for(var u=2;u<i.length;){var c=i[u++],d=i[u++],f=i[u++],p=i[u++],m=i[u++],g=i[u++];jd(s,l,c,d,f,p,m,g,o,e),s=m,l=g}n.push(o)}return n}function Rb(t,e,a){var n=t[e],r=t[1-e],i=Math.abs(n/r),o=Math.ceil(Math.sqrt(i*a)),s=Math.floor(a/o);s===0&&(s=1,o=a);for(var l=[],u=0;u<o;u++)l.push(s);var c=o*s,d=a-c;if(d>0)for(var u=0;u<d;u++)l[u%o]+=1;return l}function gg(t,e,a){for(var n=t.r0,r=t.r,i=t.startAngle,o=t.endAngle,s=Math.abs(o-i),l=s*r,u=r-n,c=l>Math.abs(u),d=Rb([l,u],c?0:1,e),f=(c?s:u)/d.length,p=0;p<d.length;p++)for(var m=(c?u:s)/d[p],g=0;g<d[p];g++){var h={};c?(h.startAngle=i+f*p,h.endAngle=i+f*(p+1),h.r0=n+m*g,h.r=n+m*(g+1)):(h.startAngle=i+m*g,h.endAngle=i+m*(g+1),h.r0=n+f*p,h.r=n+f*(p+1)),h.clockwise=t.clockwise,h.cx=t.cx,h.cy=t.cy,a.push(h)}}function i3(t,e,a){for(var n=t.width,r=t.height,i=n>r,o=Rb([n,r],i?0:1,e),s=i?"width":"height",l=i?"height":"width",u=i?"x":"y",c=i?"y":"x",d=t[s]/o.length,f=0;f<o.length;f++)for(var p=t[l]/o[f],m=0;m<o[f];m++){var g={};g[u]=f*d,g[c]=m*p,g[s]=d,g[l]=p,g.x+=t.x,g.y+=t.y,a.push(g)}}function _g(t,e,a,n){return t*n-a*e}function o3(t,e,a,n,r,i,o,s){var l=a-t,u=n-e,c=o-r,d=s-i,f=_g(c,d,l,u);if(Math.abs(f)<1e-6)return null;var p=t-r,m=e-i,g=_g(p,m,c,d)/f;return g<0||g>1?null:new Ce(g*l+t,g*u+e)}function s3(t,e,a){var n=new Ce;Ce.sub(n,a,e),n.normalize();var r=new Ce;Ce.sub(r,t,e);var i=r.dot(n);return i}function br(t,e){var a=t[t.length-1];a&&a[0]===e[0]&&a[1]===e[1]||t.push(e)}function l3(t,e,a){for(var n=t.length,r=[],i=0;i<n;i++){var o=t[i],s=t[(i+1)%n],l=o3(o[0],o[1],s[0],s[1],e.x,e.y,a.x,a.y);l&&r.push({projPt:s3(l,e,a),pt:l,idx:i})}if(r.length<2)return[{points:t},{points:t}];r.sort(function(h,v){return h.projPt-v.projPt});var u=r[0],c=r[r.length-1];if(c.idx<u.idx){var d=u;u=c,c=d}for(var f=[u.pt.x,u.pt.y],p=[c.pt.x,c.pt.y],m=[f],g=[p],i=u.idx+1;i<=c.idx;i++)br(m,t[i].slice());br(m,p),br(m,f);for(var i=c.idx+1;i<=u.idx+n;i++)br(g,t[i%n].slice());return br(g,f),br(g,p),[{points:m},{points:g}]}function yg(t){var e=t.points,a=[],n=[];uy(e,a,n);var r=new Le(a[0],a[1],n[0]-a[0],n[1]-a[1]),i=r.width,o=r.height,s=r.x,l=r.y,u=new Ce,c=new Ce;return i>o?(u.x=c.x=s+i/2,u.y=l,c.y=l+o):(u.y=c.y=l+o/2,u.x=s,c.x=s+i),l3(e,u,c)}function rl(t,e,a,n){if(a===1)n.push(e);else{var r=Math.floor(a/2),i=t(e);rl(t,i[0],r,n),rl(t,i[1],a-r,n)}return n}function u3(t,e){for(var a=[],n=0;n<e;n++)a.push(Cf(t));return a}function c3(t,e){e.setStyle(t.style),e.z=t.z,e.z2=t.z2,e.zlevel=t.zlevel}function d3(t){for(var e=[],a=0;a<t.length;)e.push([t[a++],t[a++]]);return e}function f3(t,e){var a=[],n=t.shape,r;switch(t.type){case"rect":i3(n,e,a),r=ka;break;case"sector":gg(n,e,a),r=Fr;break;case"circle":gg({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},e,a),r=Fr;break;default:var i=t.getComputedTransform(),o=i?Math.sqrt(Math.max(i[0]*i[0]+i[1]*i[1],i[2]*i[2]+i[3]*i[3])):1,s=de(r3(t.getUpdatedPathProxy(),o),function(v){return d3(v)}),l=s.length;if(l===0)rl(yg,{points:s[0]},e,a);else if(l===e)for(var u=0;u<l;u++)a.push({points:s[u]});else{var c=0,d=de(s,function(v){var _=[],y=[];uy(v,_,y);var x=(y[1]-_[1])*(y[0]-_[0]);return c+=x,{poly:v,area:x}});d.sort(function(v,_){return _.area-v.area});for(var f=e,u=0;u<l;u++){var p=d[u];if(f<=0)break;var m=u===l-1?f:Math.ceil(p.area/c*e);m<0||(rl(yg,{points:p.poly},m,a),f-=m)}}r=kl;break}if(!r)return u3(t,e);for(var g=[],u=0;u<a.length;u++){var h=new r;h.setShape(a[u]),c3(t,h),g.push(h)}return g}function p3(t,e){var a=t.length,n=e.length;if(a===n)return[t,e];for(var r=[],i=[],o=a<n?t:e,s=Math.min(a,n),l=Math.abs(n-a)/6,u=(s-2)/6,c=Math.ceil(l/u)+1,d=[o[0],o[1]],f=l,p=2;p<s;){var m=o[p-2],g=o[p-1],h=o[p++],v=o[p++],_=o[p++],y=o[p++],x=o[p++],E=o[p++];if(f<=0){d.push(h,v,_,y,x,E);continue}for(var w=Math.min(f,c-1)+1,A=1;A<=w;A++){var S=A/w;ln(m,h,_,x,S,r),ln(g,v,y,E,S,i),m=r[3],g=i[3],d.push(r[1],i[1],r[2],i[2],m,g),h=r[5],v=i[5],_=r[6],y=i[6]}f-=w-1}return o===t?[d,e]:[t,d]}function bg(t,e){for(var a=t.length,n=t[a-2],r=t[a-1],i=[],o=0;o<e.length;)i[o++]=n,i[o++]=r;return i}function h3(t,e){for(var a,n,r,i=[],o=[],s=0;s<Math.max(t.length,e.length);s++){var l=t[s],u=e[s],c=void 0,d=void 0;l?u?(a=p3(l,u),c=a[0],d=a[1],n=c,r=d):(d=bg(r||l,l),c=l):(c=bg(n||u,u),d=u),i.push(c),o.push(d)}return[i,o]}function wg(t){for(var e=0,a=0,n=0,r=t.length,i=0,o=r-2;i<r;o=i,i+=2){var s=t[o],l=t[o+1],u=t[i],c=t[i+1],d=s*c-u*l;e+=d,a+=(s+u)*d,n+=(l+c)*d}return e===0?[t[0]||0,t[1]||0]:[a/e/3,n/e/3,e]}function v3(t,e,a,n){for(var r=(t.length-2)/6,i=1/0,o=0,s=t.length,l=s-2,u=0;u<r;u++){for(var c=u*6,d=0,f=0;f<s;f+=2){var p=f===0?c:(c+f-2)%l+2,m=t[p]-a[0],g=t[p+1]-a[1],h=e[f]-n[0],v=e[f+1]-n[1],_=h-m,y=v-g;d+=_*_+y*y}d<i&&(i=d,o=u)}return o}function m3(t){for(var e=[],a=t.length,n=0;n<a;n+=2)e[n]=t[a-n-2],e[n+1]=t[a-n-1];return e}function g3(t,e,a,n){for(var r=[],i,o=0;o<t.length;o++){var s=t[o],l=e[o],u=wg(s),c=wg(l);i==null&&(i=u[2]<0!=c[2]<0);var d=[],f=[],p=0,m=1/0,g=[],h=s.length;i&&(s=m3(s));for(var v=v3(s,l,u,c)*6,_=h-2,y=0;y<_;y+=2){var x=(v+y)%_+2;d[y+2]=s[x]-u[0],d[y+3]=s[x+1]-u[1]}d[0]=s[v]-u[0],d[1]=s[v+1]-u[1];for(var E=n/a,w=-n/2;w<=n/2;w+=E){for(var A=Math.sin(w),S=Math.cos(w),k=0,y=0;y<s.length;y+=2){var b=d[y],M=d[y+1],D=l[y]-c[0],L=l[y+1]-c[1],P=D*S-L*A,I=D*A+L*S;g[y]=P,g[y+1]=I;var R=P-b,U=I-M;k+=R*R+U*U}if(k<m){m=k,p=w;for(var N=0;N<g.length;N++)f[N]=g[N]}}r.push({from:d,to:f,fromCp:u,toCp:c,rotation:-p})}return r}function il(t){return t.__isCombineMorphing}var Ob="__mOriginal_";function ol(t,e,a){var n=Ob+e,r=t[n]||t[e];t[n]||(t[n]=t[e]);var i=a.replace,o=a.after,s=a.before;t[e]=function(){var l=arguments,u;return s&&s.apply(this,l),i?u=i.apply(this,l):u=r.apply(this,l),o&&o.apply(this,l),u}}function Hi(t,e){var a=Ob+e;t[a]&&(t[e]=t[a],t[a]=null)}function xg(t,e){for(var a=0;a<t.length;a++)for(var n=t[a],r=0;r<n.length;){var i=n[r],o=n[r+1];n[r++]=e[0]*i+e[2]*o+e[4],n[r++]=e[1]*i+e[3]*o+e[5]}}function Bb(t,e){var a=t.getUpdatedPathProxy(),n=e.getUpdatedPathProxy(),r=h3(Vd(a),Vd(n)),i=r[0],o=r[1],s=t.getComputedTransform(),l=e.getComputedTransform();function u(){this.transform=null}s&&xg(i,s),l&&xg(o,l),ol(e,"updateTransform",{replace:u}),e.transform=null;var c=g3(i,o,10,Math.PI),d=[];ol(e,"buildPath",{replace:function(f){for(var p=e.__morphT,m=1-p,g=[],h=0;h<c.length;h++){var v=c[h],_=v.from,y=v.to,x=v.rotation*p,E=v.fromCp,w=v.toCp,A=Math.sin(x),S=Math.cos(x);uA(g,E,w,p);for(var k=0;k<_.length;k+=2){var b=_[k],M=_[k+1],D=y[k],L=y[k+1],P=b*m+D*p,I=M*m+L*p;d[k]=P*S-I*A+g[0],d[k+1]=P*A+I*S+g[1]}var R=d[0],U=d[1];f.moveTo(R,U);for(var k=2;k<_.length;){var D=d[k++],L=d[k++],N=d[k++],W=d[k++],Q=d[k++],re=d[k++];R===D&&U===L&&N===Q&&W===re?f.lineTo(Q,re):f.bezierCurveTo(D,L,N,W,Q,re),R=Q,U=re}}}})}function np(t,e,a){if(!t||!e)return e;var n=a.done,r=a.during;Bb(t,e),e.__morphT=0;function i(){Hi(e,"buildPath"),Hi(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},Se({during:function(o){e.dirtyShape(),r&&r(o)},done:function(){i(),n&&n()}},a)),e}function _3(t,e,a,n,r,i){var o=16;t=r===a?0:Math.round(32767*(t-a)/(r-a)),e=i===n?0:Math.round(32767*(e-n)/(i-n));for(var s=0,l,u=(1<<o)/2;u>0;u/=2){var c=0,d=0;(t&u)>0&&(c=1),(e&u)>0&&(d=1),s+=u*u*(3*c^d),d===0&&(c===1&&(t=u-1-t,e=u-1-e),l=t,t=e,e=l)}return s}function sl(t){var e=1/0,a=1/0,n=-1/0,r=-1/0,i=de(t,function(s){var l=s.getBoundingRect(),u=s.getComputedTransform(),c=l.x+l.width/2+(u?u[4]:0),d=l.y+l.height/2+(u?u[5]:0);return e=Math.min(c,e),a=Math.min(d,a),n=Math.max(c,n),r=Math.max(d,r),[c,d]}),o=de(i,function(s,l){return{cp:s,z:_3(s[0],s[1],e,a,n,r),path:t[l]}});return o.sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function zb(t){return f3(t.path,t.count)}function Fd(){return{fromIndividuals:[],toIndividuals:[],count:0}}function y3(t,e,a){var n=[];function r(E){for(var w=0;w<E.length;w++){var A=E[w];il(A)?r(A.childrenRef()):A instanceof Ee&&n.push(A)}}r(t);var i=n.length;if(!i)return Fd();var o=a.dividePath||zb,s=o({path:e,count:i});if(s.length!==i)return console.error("Invalid morphing: unmatched splitted path"),Fd();n=sl(n),s=sl(s);for(var l=a.done,u=a.during,c=a.individualDelay,d=new _l,f=0;f<i;f++){var p=n[f],m=s[f];m.parent=e,m.copyTransform(d),c||Bb(p,m)}e.__isCombineMorphing=!0,e.childrenRef=function(){return s};function g(E){for(var w=0;w<s.length;w++)s[w].addSelfToZr(E)}ol(e,"addSelfToZr",{after:function(E){g(E)}}),ol(e,"removeSelfFromZr",{after:function(E){for(var w=0;w<s.length;w++)s[w].removeSelfFromZr(E)}});function h(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,Hi(e,"addSelfToZr"),Hi(e,"removeSelfFromZr")}var v=s.length;if(c)for(var _=v,y=function(){_--,_===0&&(h(),l&&l())},f=0;f<v;f++){var x=c?Se({delay:(a.delay||0)+c(f,v,n[f],s[f]),done:y},a):a;np(n[f],s[f],x)}else e.__morphT=0,e.animateTo({__morphT:1},Se({during:function(E){for(var w=0;w<v;w++){var A=s[w];A.__morphT=e.__morphT,A.dirtyShape()}u&&u(E)},done:function(){h();for(var E=0;E<t.length;E++)Hi(t[E],"updateTransform");l&&l()}},a));return e.__zr&&g(e.__zr),{fromIndividuals:n,toIndividuals:s,count:v}}function b3(t,e,a){var n=e.length,r=[],i=a.dividePath||zb;function o(p){for(var m=0;m<p.length;m++){var g=p[m];il(g)?o(g.childrenRef()):g instanceof Ee&&r.push(g)}}if(il(t)){o(t.childrenRef());var s=r.length;if(s<n)for(var l=0,u=s;u<n;u++)r.push(Cf(r[l++%s]));r.length=n}else{r=i({path:t,count:n});for(var c=t.getComputedTransform(),u=0;u<r.length;u++)r[u].setLocalTransform(c);if(r.length!==n)return console.error("Invalid morphing: unmatched splitted path"),Fd()}r=sl(r),e=sl(e);for(var d=a.individualDelay,u=0;u<n;u++){var f=d?Se({delay:(a.delay||0)+d(u,n,r[u],e[u])},a):a;np(r[u],e[u],f)}return{fromIndividuals:r,toIndividuals:e,count:e.length}}function Sg(t){return se(t[0])}function Cg(t,e){for(var a=[],n=t.length,r=0;r<n;r++)a.push({one:t[r],many:[]});for(var r=0;r<e.length;r++){var i=e[r].length,o=void 0;for(o=0;o<i;o++)a[o%n].many.push(e[r][o])}for(var s=0,r=n-1;r>=0;r--)if(!a[r].many.length){var l=a[s].many;if(l.length<=1)if(s)s=0;else return a;var i=l.length,u=Math.ceil(i/2);a[r].many=l.slice(u,i),a[s].many=l.slice(0,u),s++}return a}var w3={clone:function(t){for(var e=[],a=1-Math.pow(1-t.path.style.opacity,1/t.count),n=0;n<t.count;n++){var r=Cf(t.path);r.setStyle("opacity",a),e.push(r)}return e},split:null};function Mc(t,e,a,n,r,i){if(!t.length||!e.length)return;var o=Dl("update",n,r);if(!(o&&o.duration>0))return;var s=n.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},o),u,c;Sg(t)&&(u=t,c=e),Sg(e)&&(u=e,c=t);function d(v,_,y,x,E){var w=v.many,A=v.one;if(w.length===1&&!E){var S=_?w[0]:A,k=_?A:w[0];if(il(S))d({many:[S],one:k},!0,y,x,!0);else{var b=s?Se({delay:s(y,x)},l):l;np(S,k,b),i(S,k,S,k,b)}}else for(var M=Se({dividePath:w3[a],individualDelay:s&&function(U,N,W,Q){return s(U+y,x)}},l),D=_?y3(w,A,M):b3(A,w,M),L=D.fromIndividuals,P=D.toIndividuals,I=L.length,R=0;R<I;R++){var b=s?Se({delay:s(R,I)},l):l;i(L[R],P[R],_?w[R]:v.one,_?v.one:w[R],b)}}for(var f=u?u===t:t.length>e.length,p=u?Cg(c,u):Cg(f?e:t,[f?t:e]),m=0,g=0;g<p.length;g++)m+=p[g].many.length;for(var h=0,g=0;g<p.length;g++)d(p[g],f,h,m),h+=p[g].many.length}function Vn(t){if(!t)return[];if(se(t)){for(var e=[],a=0;a<t.length;a++)e.push(Vn(t[a]));return e}var n=[];return t.traverse(function(r){r instanceof Ee&&!r.disableMorphing&&!r.invisible&&!r.ignore&&n.push(r)}),n}var Nb=1e4,x3=0,Ag=1,Tg=2,S3=ia();function C3(t,e){for(var a=t.dimensions,n=0;n<a.length;n++){var r=t.getDimensionInfo(a[n]);if(r&&r.otherDims[e]===0)return a[n]}}function A3(t,e,a){var n=t.getDimensionInfo(a),r=n&&n.ordinalMeta;if(n){var i=t.get(n.name,e);return r&&r.categories[i]||i+""}}function Eg(t,e,a,n){var r=n?"itemChildGroupId":"itemGroupId",i=C3(t,r);if(i){var o=A3(t,e,i);return o}var s=t.getRawDataItem(e),l=n?"childGroupId":"groupId";if(s&&s[l])return s[l]+"";if(!n)return a||t.getId(e)}function kg(t){var e=[];return q(t,function(a){var n=a.data,r=a.dataGroupId;if(!(n.count()>Nb))for(var i=n.getIndices(),o=0;o<i.length;o++)e.push({data:n,groupId:Eg(n,o,r,!1),childGroupId:Eg(n,o,r,!0),divide:a.divide,dataIndex:o})}),e}function Dc(t,e,a){t.traverse(function(n){n instanceof Ee&&Xr(n,{style:{opacity:0}},e,{dataIndex:a,isFrom:!0})})}function Lc(t){if(t.parent){var e=t.getComputedTransform();t.setLocalTransform(e),t.parent.remove(t)}}function wr(t){t.stopAnimation(),t.isGroup&&t.traverse(function(e){e.stopAnimation()})}function T3(t,e,a){var n=Dl("update",a,e);n&&t.traverse(function(r){if(r instanceof Yr){var i=Ik(r);i&&r.animateFrom({style:i},n)}})}function E3(t,e){var a=t.length;if(a!==e.length)return!1;for(var n=0;n<a;n++){var r=t[n],i=e[n];if(r.data.getId(r.dataIndex)!==i.data.getId(i.dataIndex))return!1}return!0}function Vb(t,e,a){var n=kg(t),r=kg(e);function i(y,x,E,w,A){(E||y)&&x.animateFrom({style:E&&E!==y?ae(ae({},E.style),y.style):y.style},A)}var o=!1,s=x3,l=ge(),u=ge();n.forEach(function(y){y.groupId&&l.set(y.groupId,!0),y.childGroupId&&u.set(y.childGroupId,!0)});for(var c=0;c<r.length;c++){var d=r[c].groupId;if(u.get(d)){s=Ag;break}var f=r[c].childGroupId;if(f&&l.get(f)){s=Tg;break}}function p(y,x){return function(E){var w=E.data,A=E.dataIndex;return x?w.getId(A):y?s===Ag?E.childGroupId:E.groupId:s===Tg?E.childGroupId:E.groupId}}var m=E3(n,r),g={};if(!m)for(var c=0;c<r.length;c++){var h=r[c],v=h.data.getItemGraphicEl(h.dataIndex);v&&(g[v.id]=!0)}function _(y,x){var E=n[x],w=r[y],A=w.data.hostModel,S=E.data.getItemGraphicEl(E.dataIndex),k=w.data.getItemGraphicEl(w.dataIndex);if(S===k){k&&T3(k,w.dataIndex,A);return}S&&g[S.id]||k&&(wr(k),S?(wr(S),Lc(S),o=!0,Mc(Vn(S),Vn(k),w.divide,A,y,i)):Dc(k,A,y))}new Ld(n,r,p(!0,m),p(!1,m),null,"multiple").update(_).updateManyToOne(function(y,x){var E=r[y],w=E.data,A=w.hostModel,S=w.getItemGraphicEl(E.dataIndex),k=va(de(x,function(b){return n[b].data.getItemGraphicEl(n[b].dataIndex)}),function(b){return b&&b!==S&&!g[b.id]});S&&(wr(S),k.length?(q(k,function(b){wr(b),Lc(b)}),o=!0,Mc(Vn(k),Vn(S),E.divide,A,y,i)):Dc(S,A,E.dataIndex))}).updateOneToMany(function(y,x){var E=n[x],w=E.data.getItemGraphicEl(E.dataIndex);if(!(w&&g[w.id])){var A=va(de(y,function(k){return r[k].data.getItemGraphicEl(r[k].dataIndex)}),function(k){return k&&k!==w}),S=r[y[0]].data.hostModel;A.length&&(q(A,function(k){return wr(k)}),w?(wr(w),Lc(w),o=!0,Mc(Vn(w),Vn(A),E.divide,S,y[0],i)):q(A,function(k){return Dc(k,S,y[0])}))}}).updateManyToMany(function(y,x){new Ld(x,y,function(E){return n[E].data.getId(n[E].dataIndex)},function(E){return r[E].data.getId(r[E].dataIndex)}).update(function(E,w){_(y[E],x[w])}).execute()}).execute(),o&&q(e,function(y){var x=y.data,E=x.hostModel,w=E&&a.getViewOfSeriesModel(E),A=Dl("update",E,0);w&&E.isAnimationEnabled()&&A&&A.duration>0&&w.group.traverse(function(S){S instanceof Ee&&!S.animators.length&&S.animateFrom({style:{opacity:0}},A)})})}function Mg(t){var e=t.getModel("universalTransition").get("seriesKey");return e||t.id}function Dg(t){return se(t)?t.sort().join(","):t}function Zt(t){if(t.hostModel)return t.hostModel.getModel("universalTransition").get("divideShape")}function k3(t,e){var a=ge(),n=ge(),r=ge();return q(t.oldSeries,function(i,o){var s=t.oldDataGroupIds[o],l=t.oldData[o],u=Mg(i),c=Dg(u);n.set(c,{dataGroupId:s,data:l}),se(u)&&q(u,function(d){r.set(d,{key:c,dataGroupId:s,data:l})})}),q(e.updatedSeries,function(i){if(i.isUniversalTransitionEnabled()&&i.isAnimationEnabled()){var o=i.get("dataGroupId"),s=i.getData(),l=Mg(i),u=Dg(l),c=n.get(u);if(c)a.set(u,{oldSeries:[{dataGroupId:c.dataGroupId,divide:Zt(c.data),data:c.data}],newSeries:[{dataGroupId:o,divide:Zt(s),data:s}]});else if(se(l)){var d=[];q(l,function(m){var g=n.get(m);g.data&&d.push({dataGroupId:g.dataGroupId,divide:Zt(g.data),data:g.data})}),d.length&&a.set(u,{oldSeries:d,newSeries:[{dataGroupId:o,data:s,divide:Zt(s)}]})}else{var f=r.get(l);if(f){var p=a.get(f.key);p||(p={oldSeries:[{dataGroupId:f.dataGroupId,data:f.data,divide:Zt(f.data)}],newSeries:[]},a.set(f.key,p)),p.newSeries.push({dataGroupId:o,data:s,divide:Zt(s)})}}}}),a}function Lg(t,e){for(var a=0;a<t.length;a++){var n=e.seriesIndex!=null&&e.seriesIndex===t[a].seriesIndex||e.seriesId!=null&&e.seriesId===t[a].id;if(n)return a}}function M3(t,e,a,n){var r=[],i=[];q(na(t.from),function(o){var s=Lg(e.oldSeries,o);s>=0&&r.push({dataGroupId:e.oldDataGroupIds[s],data:e.oldData[s],divide:Zt(e.oldData[s]),groupIdDim:o.dimension})}),q(na(t.to),function(o){var s=Lg(a.updatedSeries,o);if(s>=0){var l=a.updatedSeries[s].getData();i.push({dataGroupId:e.oldDataGroupIds[s],data:l,divide:Zt(l),groupIdDim:o.dimension})}}),r.length>0&&i.length>0&&Vb(r,i,n)}function D3(t){t.registerUpdateLifecycle("series:beforeupdate",function(e,a,n){q(na(n.seriesTransition),function(r){q(na(r.to),function(i){for(var o=n.updatedSeries,s=0;s<o.length;s++)(i.seriesIndex!=null&&i.seriesIndex===o[s].seriesIndex||i.seriesId!=null&&i.seriesId===o[s].id)&&(o[s][As]=!0)})})}),t.registerUpdateLifecycle("series:transition",function(e,a,n){var r=S3(a);if(r.oldSeries&&n.updatedSeries&&n.optionChanged){var i=n.seriesTransition;if(i)q(na(i),function(p){M3(p,r,n,a)});else{var o=k3(r,n);q(o.keys(),function(p){var m=o.get(p);Vb(m.oldSeries,m.newSeries,a)})}q(n.updatedSeries,function(p){p[As]&&(p[As]=!1)})}for(var s=e.getSeries(),l=r.oldSeries=[],u=r.oldDataGroupIds=[],c=r.oldData=[],d=0;d<s.length;d++){var f=s[d].getData();f.count()<Nb&&(l.push(s[d]),u.push(s[d].get("dataGroupId")),c.push(f))}})}function Pg(t,e,a){var n=Hr.createCanvas(),r=e.getWidth(),i=e.getHeight(),o=n.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=r+"px",o.height=i+"px",n.setAttribute("data-zr-dom-id",t)),n.width=r*a,n.height=i*a,n}var Pc=function(t){Re(e,t);function e(a,n,r){var i=t.call(this)||this;i.motionBlur=!1,i.lastFrameAlpha=.7,i.dpr=1,i.virtual=!1,i.config={},i.incremental=!1,i.zlevel=0,i.maxRepaintRectCount=5,i.__dirty=!0,i.__firstTimePaint=!0,i.__used=!1,i.__drawIndex=0,i.__startIndex=0,i.__endIndex=0,i.__prevStartIndex=null,i.__prevEndIndex=null;var o;r=r||js,typeof a=="string"?o=Pg(a,n,r):fe(a)&&(o=a,a=o.id),i.id=a,i.dom=o;var s=o.style;return s&&(k_(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),i.painter=n,i.dpr=r,i}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var a=this.dpr;this.domBack=Pg("back-"+this.id,this.painter,a),this.ctxBack=this.domBack.getContext("2d"),a!==1&&this.ctxBack.scale(a,a)},e.prototype.createRepaintRects=function(a,n,r,i){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,l=!1,u=new Le(0,0,0,0);function c(_){if(!(!_.isFinite()||_.isZero()))if(o.length===0){var y=new Le(0,0,0,0);y.copy(_),o.push(y)}else{for(var x=!1,E=1/0,w=0,A=0;A<o.length;++A){var S=o[A];if(S.intersect(_)){var k=new Le(0,0,0,0);k.copy(S),k.union(_),o[A]=k,x=!0;break}else if(l){u.copy(_),u.union(S);var b=_.width*_.height,M=S.width*S.height,D=u.width*u.height,L=D-b-M;L<E&&(E=L,w=A)}}if(l&&(o[w].union(_),x=!0),!x){var y=new Le(0,0,0,0);y.copy(_),o.push(y)}l||(l=o.length>=s)}}for(var d=this.__startIndex;d<this.__endIndex;++d){var f=a[d];if(f){var p=f.shouldBePainted(r,i,!0,!0),m=f.__isRendered&&(f.__dirty&za||!p)?f.getPrevPaintRect():null;m&&c(m);var g=p&&(f.__dirty&za||!f.__isRendered)?f.getPaintRect():null;g&&c(g)}}for(var d=this.__prevStartIndex;d<this.__prevEndIndex;++d){var f=n[d],p=f&&f.shouldBePainted(r,i,!0,!0);if(f&&(!p||!f.__zr)&&f.__isRendered){var m=f.getPrevPaintRect();m&&c(m)}}var h;do{h=!1;for(var d=0;d<o.length;){if(o[d].isZero()){o.splice(d,1);continue}for(var v=d+1;v<o.length;)o[d].intersect(o[v])?(h=!0,o[d].union(o[v]),o.splice(v,1)):v++;d++}}while(h);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(a,n){var r=this.dpr,i=this.dom,o=i.style,s=this.domBack;o&&(o.width=a+"px",o.height=n+"px"),i.width=a*r,i.height=n*r,s&&(s.width=a*r,s.height=n*r,r!==1&&this.ctxBack.scale(r,r))},e.prototype.clear=function(a,n,r){var i=this.dom,o=this.ctx,s=i.width,l=i.height;n=n||this.clearColor;var u=this.motionBlur&&!a,c=this.lastFrameAlpha,d=this.dpr,f=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,s/d,l/d));var p=this.domBack;function m(g,h,v,_){if(o.clearRect(g,h,v,_),n&&n!=="transparent"){var y=void 0;if(ml(n)){var x=n.global||n.__width===v&&n.__height===_;y=x&&n.__canvasGradient||Td(o,n,{x:0,y:0,width:v,height:_}),n.__canvasGradient=y,n.__width=v,n.__height=_}else ZC(n)&&(n.scaleX=n.scaleX||d,n.scaleY=n.scaleY||d,y=Ed(o,n,{dirty:function(){f.setUnpainted(),f.painter.refresh()}}));o.save(),o.fillStyle=y||n,o.fillRect(g,h,v,_),o.restore()}u&&(o.save(),o.globalAlpha=c,o.drawImage(p,g,h,v,_),o.restore())}!r||u?m(0,0,s,l):r.length&&q(r,function(g){m(g.x*d,g.y*d,g.width*d,g.height*d)})},e}(xt),qg=1e5,Nn=314159,us=.01,L3=.001;function P3(t){return t?t.__builtin__?!0:!(typeof t.resize!="function"||typeof t.refresh!="function"):!1}function q3(t,e){var a=document.createElement("div");return a.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",a}var I3=function(){function t(e,a,n,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var i=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=n=ae({},n||{}),this.dpr=n.devicePixelRatio||js,this._singleCanvas=i,this.root=e;var o=e.style;o&&(k_(e),e.innerHTML=""),this.storage=a;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(i){var c=e,d=c.width,f=c.height;n.width!=null&&(d=n.width),n.height!=null&&(f=n.height),this.dpr=n.devicePixelRatio||1,c.width=d*this.dpr,c.height=f*this.dpr,this._width=d,this._height=f;var p=new Pc(c,this,this.dpr);p.__builtin__=!0,p.initContext(),l[Nn]=p,p.zlevel=Nn,s.push(Nn),this._domRoot=e}else{this._width=es(e,0,n),this._height=es(e,1,n);var u=this._domRoot=q3(this._width,this._height);e.appendChild(u)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},t.prototype.refresh=function(e){var a=this.storage.getDisplayList(!0),n=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(a,n,e,this._redrawId);for(var i=0;i<r.length;i++){var o=r[i],s=this._layers[o];if(!s.__builtin__&&s.refresh){var l=i===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=a.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(e){var a=e.length,n=this._hoverlayer;if(n&&n.clear(),!!a){for(var r={inHover:!0,viewWidth:this._width,viewHeight:this._height},i,o=0;o<a;o++){var s=e[o];s.__inHover&&(n||(n=this._hoverlayer=this.getLayer(qg)),i||(i=n.ctx,i.save()),Kn(i,s,r,o===a-1))}i&&i.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(qg)},t.prototype.paintOne=function(e,a){O0(e,a)},t.prototype._paintList=function(e,a,n,r){if(this._redrawId===r){n=n||!1,this._updateLayerStatus(e);var i=this._doPaintList(e,a,n),o=i.finished,s=i.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),o)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;Os(function(){l._paintList(e,a,n,r)})}}},t.prototype._compositeManually=function(){var e=this.getLayer(Nn).ctx,a=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,a,n),this.eachBuiltinLayer(function(r){r.virtual&&e.drawImage(r.dom,0,0,a,n)})},t.prototype._doPaintList=function(e,a,n){for(var r=this,i=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||n)&&i.push(u)}for(var c=!0,d=!1,f=function(g){var h=i[g],v=h.ctx,_=o&&h.createRepaintRects(e,a,p._width,p._height),y=n?h.__startIndex:h.__drawIndex,x=!n&&h.incremental&&Date.now,E=x&&Date.now(),w=h.zlevel===p._zlevelList[0]?p._backgroundColor:null;if(h.__startIndex===h.__endIndex)h.clear(!1,w,_);else if(y===h.__startIndex){var A=e[y];(!A.incremental||!A.notClear||n)&&h.clear(!1,w,_)}y===-1&&(console.error("For some unknown reason. drawIndex is -1"),y=h.__startIndex);var S,k=function(L){var P={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(S=y;S<h.__endIndex;S++){var I=e[S];if(I.__inHover&&(d=!0),r._doPaintEl(I,h,o,L,P,S===h.__endIndex-1),x){var R=Date.now()-E;if(R>15)break}}P.prevElClipPaths&&v.restore()};if(_)if(_.length===0)S=h.__endIndex;else for(var b=p.dpr,M=0;M<_.length;++M){var D=_[M];v.save(),v.beginPath(),v.rect(D.x*b,D.y*b,D.width*b,D.height*b),v.clip(),k(D),v.restore()}else v.save(),k(),v.restore();h.__drawIndex=S,h.__drawIndex<h.__endIndex&&(c=!1)},p=this,m=0;m<i.length;m++)f(m);return ke.wxa&&q(this._layers,function(g){g&&g.ctx&&g.ctx.draw&&g.ctx.draw()}),{finished:c,needsRefreshHover:d}},t.prototype._doPaintEl=function(e,a,n,r,i,o){var s=a.ctx;if(n){var l=e.getPaintRect();(!r||l&&l.intersect(r))&&(Kn(s,e,i,o),e.setPrevPaintRect(l))}else Kn(s,e,i,o)},t.prototype.getLayer=function(e,a){this._singleCanvas&&!this._needsManuallyCompositing&&(e=Nn);var n=this._layers[e];return n||(n=new Pc("zr_"+e,this,this.dpr),n.zlevel=e,n.__builtin__=!0,this._layerConfig[e]?Ve(n,this._layerConfig[e],!0):this._layerConfig[e-us]&&Ve(n,this._layerConfig[e-us],!0),a&&(n.virtual=a),this.insertLayer(e,n),n.initContext()),n},t.prototype.insertLayer=function(e,a){var n=this._layers,r=this._zlevelList,i=r.length,o=this._domRoot,s=null,l=-1;if(!n[e]&&P3(a)){if(i>0&&e>r[0]){for(l=0;l<i-1&&!(r[l]<e&&r[l+1]>e);l++);s=n[r[l]]}if(r.splice(l+1,0,e),n[e]=a,!a.virtual)if(s){var u=s.dom;u.nextSibling?o.insertBefore(a.dom,u.nextSibling):o.appendChild(a.dom)}else o.firstChild?o.insertBefore(a.dom,o.firstChild):o.appendChild(a.dom);a.painter||(a.painter=this)}},t.prototype.eachLayer=function(e,a){for(var n=this._zlevelList,r=0;r<n.length;r++){var i=n[r];e.call(a,this._layers[i],i)}},t.prototype.eachBuiltinLayer=function(e,a){for(var n=this._zlevelList,r=0;r<n.length;r++){var i=n[r],o=this._layers[i];o.__builtin__&&e.call(a,o,i)}},t.prototype.eachOtherLayer=function(e,a){for(var n=this._zlevelList,r=0;r<n.length;r++){var i=n[r],o=this._layers[i];o.__builtin__||e.call(a,o,i)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(d,f){d.__dirty=d.__used=!1});function a(d){i&&(i.__endIndex!==d&&(i.__dirty=!0),i.__endIndex=d)}if(this._singleCanvas)for(var n=1;n<e.length;n++){var r=e[n];if(r.zlevel!==e[n-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}}var i=null,o=0,s,l;for(l=0;l<e.length;l++){var r=e[l],u=r.zlevel,c=void 0;s!==u&&(s=u,o=0),r.incremental?(c=this.getLayer(u+L3,this._needsManuallyCompositing),c.incremental=!0,o=1):c=this.getLayer(u+(o>0?us:0),this._needsManuallyCompositing),c.__builtin__||lf("ZLevel "+u+" has been used by unkown layer "+c.id),c!==i&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.incremental?c.__drawIndex=-1:c.__drawIndex=l,a(l),i=c),r.__dirty&za&&!r.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}a(l),this.eachBuiltinLayer(function(d,f){!d.__used&&d.getElementCount()>0&&(d.__dirty=!0,d.__startIndex=d.__endIndex=d.__drawIndex=0),d.__dirty&&d.__drawIndex<0&&(d.__drawIndex=d.__startIndex)})},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(e){e.clear()},t.prototype.setBackgroundColor=function(e){this._backgroundColor=e,q(this._layers,function(a){a.setUnpainted()})},t.prototype.configLayer=function(e,a){if(a){var n=this._layerConfig;n[e]?Ve(n[e],a,!0):n[e]=a;for(var r=0;r<this._zlevelList.length;r++){var i=this._zlevelList[r];if(i===e||i===e+us){var o=this._layers[i];Ve(o,n[e],!0)}}}},t.prototype.delLayer=function(e){var a=this._layers,n=this._zlevelList,r=a[e];r&&(r.dom.parentNode.removeChild(r.dom),delete a[e],n.splice(Ue(n,e),1))},t.prototype.resize=function(e,a){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var r=this._opts,i=this.root;if(e!=null&&(r.width=e),a!=null&&(r.height=a),e=es(i,0,r),a=es(i,1,r),n.style.display="",this._width!==e||a!==this._height){n.style.width=e+"px",n.style.height=a+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,a);this.refresh(!0)}this._width=e,this._height=a}else{if(e==null||a==null)return;this._width=e,this._height=a,this.getLayer(Nn).resize(e,a)}return this},t.prototype.clearLayer=function(e){var a=this._layers[e];a&&a.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[Nn].dom;var a=new Pc("image",this,e.pixelRatio||this.dpr);a.initContext(),a.clear(!1,e.backgroundColor||this._backgroundColor);var n=a.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var r=a.dom.width,i=a.dom.height;this.eachLayer(function(d){d.__builtin__?n.drawImage(d.dom,0,0,r,i):d.renderToCanvas&&(n.save(),d.renderToCanvas(n),n.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){var c=s[l];Kn(n,c,o,l===u-1)}return a.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t}();function R3(t){t.registerPainter("canvas",I3)}const O3=Oe({__name:"UsageChart",props:{apiKey:{},usage:{}},setup(t,{expose:e}){nl([MI,n3,R3,D3]);const a=t,n=H(()=>{var d;const s=new Date,l=Array.from({length:7},(f,p)=>{const m=new Date(s);return m.setDate(m.getDate()-p),ds.formatDate(m,"YYYY-MM-DD")}).reverse(),u=(d=a.usage)==null?void 0:d.reduce((f,p)=>{if(p.type==="consume"){const m=ds.formatDate(p.created_at,"YYYY-MM-DD");f[m]=(f[m]||0)+p.quantity}return f},{}),c=l.map(f=>(u==null?void 0:u[f])||0);return{xAxis:{type:"category",data:l,axisLabel:{formatter:f=>ds.formatDate(f,"MM-DD")},splitLine:{show:!1},boundaryGap:!1,show:!1},yAxis:{type:"value",splitLine:{show:!1,lineStyle:{color:"#484e4e"}},show:!1},series:[{data:c,type:"line",symbol:"none",lineStyle:{color:"#81E3EE",width:1},itemStyle:{color:"#81E3EE"},areaStyle:{opacity:.2}}]}});let r=null;const i=()=>{r==null||r.setOption(n.value)};tr(()=>{r=XL(document.getElementById(`usage_${a.apiKey}`)),i(),window.addEventListener("resize",()=>{r==null||r.resize()})}),Wd(()=>{window.removeEventListener("resize",()=>{r==null||r.resize()}),r==null||r.dispose()}),e({updateOptions:i});const o={props:a,options:n,get myChart(){return r},set myChart(s){r=s},updateOptions:i};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),B3=["id"];function z3(t,e,a,n,r,i){return O(),ye("div",{class:"fit",id:`usage_${a.apiKey}`},null,8,B3)}const N3=Be(O3,[["render",z3],["__file","UsageChart.vue"]]),V3=Oe({__name:"KeyItem",props:{apiKey:{}},emits:["revoke"],setup(t,{expose:e,emit:a}){e();const n=t,r=a,{t:i}=Ze({useScope:"global"}),o=Va(),s=Zd(),l=oa(),{keys:u,keysInfoCache:c,isBusyState:d}=Ge(s),f=z(""),p=H({get:()=>n.apiKey.isPrimary?n.apiKey.key:"",set:async S=>{S&&(await s.setPrimaryKey(n.apiKey.key),l.apiKey=n.apiKey.key,o.notify({caption:i("key_manager.primary_key_set_caption"),message:i("key_manager.primary_key_set",{_apiKey:cp(n.apiKey.key)}),icon:"done"}))}}),m=H(()=>{var S,k;return((k=(S=c.value[n.apiKey.key])==null?void 0:S.metadata)==null?void 0:k.speed_level)===2}),g=H(()=>{var S,k;return((k=(S=c.value[n.apiKey.key])==null?void 0:S.metadata)==null?void 0:k.speed_level)===1}),h=H(()=>!m.value&&!g.value),v=H(()=>{var S,k,b;return L1((b=(k=(S=c.value[n.apiKey.key])==null?void 0:S.usage)==null?void 0:k.reduce((M,D)=>D.type==="consume"?M+D.quantity:M,0))!=null?b:0)}),A={props:n,emit:r,t:i,$q:o,apiKeyStore:s,embeddingStore:l,keys:u,keysInfoCache:c,isBusyState:d,isApiKeyCopyDone:f,primaryKey:p,isPremiumPaidKey:m,isPaidKey:g,isFreeKey:h,totalUsage:v,onBuy:()=>{o.dialog({component:U1,componentProps:{purchaseKey:n.apiKey.key}})},onCopy:S=>{!S||f.value||(fo(S).then(()=>{o.notify({message:i("copy_to_clipboard_success"),icon:"done"}),f.value=S,gtag==null||gtag("event","embedding_copy_api_key",{location:document.location.href,subLocation:"sefo-api-key-manager"})}),setTimeout(()=>{f.value=""},1800))},onRemove:S=>{if(p.value===S&&u.value.length===1){o.notify({message:i("key_manager.remove_primary_key"),textColor:"negative",icon:"error"});return}o.dialog({title:i("key_manager.remove_title"),message:i("key_manager.remove_message"),cancel:!0,persistent:!0}).onOk(async()=>{await s.removeKey(S),p.value===S&&s.setPrimaryKey(u.value[0].key)})},onRevoke:S=>{o.dialog({title:i("key_manager.revoke"),message:i("key_manager.revoke_message"),cancel:!0,persistent:!0}).onOk(()=>{r("revoke",S)})},openUsageHistoryDialog:S=>{o.dialog({component:j1,componentProps:{apiKey:S}})},get date(){return ds},get formatNumber(){return Yg},UsageChart:N3,get formatKey(){return cp}};return Object.defineProperty(A,"__isScriptSetup",{enumerable:!1,value:!0}),A}}),j3={class:"column full-width"},F3={style:{"font-family":"monospace"}},U3={class:"row full-height"};function G3(t,e,a,n,r,i){return O(),ye("div",j3,[n.isBusyState.has(a.apiKey.key)?(O(),j(Yd,{key:0,indeterminate:"",size:"1px"})):ne("",!0),C(le,{class:qr(["full-width",{column:n.$q.screen.lt.md}]),tag:"label"},{default:T(()=>[C(X,{side:""},{default:T(()=>[C(x1,{modelValue:n.primaryKey,"onUpdate:modelValue":e[0]||(e[0]=o=>n.primaryKey=o),val:a.apiKey.key},null,8,["modelValue","val"]),C(ze,null,{default:T(()=>[V(B(n.primaryKey===a.apiKey.key?n.t("key_manager.primary_key_set_caption"):n.t("key_manager.primary_key")),1)]),_:1})]),_:1}),C(X,{side:""},{default:T(()=>[C(me,{name:"key",class:qr({"golden-foil":n.isPremiumPaidKey,"silver-foil":n.isPaidKey})},{default:T(()=>[C(ze,null,{default:T(()=>[V(B(n.isFreeKey?n.t("key_manager.free_key"):n.t("key_manager.subscribed_key")),1)]),_:1})]),_:1},8,["class"])]),_:1}),C(X,{class:"col"},{default:T(()=>{var o,s;return[C(K,{class:"row items-center q-gutter-x-sm"},{default:T(()=>[Te("span",F3,B(n.formatKey(a.apiKey.key)),1),C(ve,{flat:"",square:"",size:"sm",icon:n.isApiKeyCopyDone===a.apiKey.key?"check":"content_copy",color:n.isApiKeyCopyDone===a.apiKey.key?"primary":"",onClick:e[1]||(e[1]=Qt(l=>n.onCopy(a.apiKey.key),["stop"]))},{default:T(()=>[C(ze,null,{default:T(()=>[V(B(n.t("key_manager.copy")),1)]),_:1})]),_:1},8,["icon","color"])]),_:1}),C(K,{caption:"",class:qr(((s=(o=n.keysInfoCache[a.apiKey.key])==null?void 0:o.wallet)==null?void 0:s.total_balance)<0?"text-negative":"")},{default:T(()=>{var l,u,c;return[V(B(n.formatNumber((c=(u=(l=n.keysInfoCache[a.apiKey.key])==null?void 0:l.wallet)==null?void 0:u.total_balance)!=null?c:0)+" "+n.t("embedding.tokens")),1)]}),_:1},8,["class"])]}),_:1}),C(X,null,{default:T(()=>{var o;return[(o=n.keysInfoCache[a.apiKey.key])!=null&&o.last_used_at?(O(),j(K,{key:0,caption:""},{default:T(()=>{var s;return[V(B(n.t("key_manager.last_used")+": "+n.date.formatDate((s=n.keysInfoCache[a.apiKey.key])==null?void 0:s.last_used_at,"YYYY-MM-DD HH:mm")),1)]}),_:1})):ne("",!0)]}),_:1}),C(X,{style:{height:"80px",width:"400px"},side:""},{default:T(()=>{var o,s;return[(o=n.keysInfoCache[a.apiKey.key])!=null&&o.usage?(O(),j(n.UsageChart,{key:0,"api-key":a.apiKey.key,usage:(s=n.keysInfoCache[a.apiKey.key])==null?void 0:s.usage},null,8,["api-key","usage"])):ne("",!0),C(ze,null,{default:T(()=>[V(B(n.t("key_manager.usage_summary",{_usage:n.totalUsage})),1)]),_:1})]}),_:1}),C(X,{side:""},{default:T(()=>[Te("div",U3,[C(ve,{flat:"",square:"",padding:"md",icon:"add_shopping_cart",onClick:Qt(n.onBuy,["stop"])},{default:T(()=>[C(ze,null,{default:T(()=>[V(B(n.t("key_manager.purchase")),1)]),_:1})]),_:1}),C(ve,{flat:"",square:"",padding:"md",icon:"history",onClick:e[2]||(e[2]=Qt(o=>n.openUsageHistoryDialog(a.apiKey.key),["stop"]))},{default:T(()=>[C(ze,null,{default:T(()=>[V(B(n.t("key_manager.usage_history")),1)]),_:1})]),_:1}),C(ve,{flat:"",square:"",padding:"md",icon:"delete",disable:n.isBusyState.has(a.apiKey.key),onClick:e[3]||(e[3]=Qt(o=>n.onRemove(a.apiKey.key),["stop"])),color:"negative"},{default:T(()=>[C(ze,null,{default:T(()=>[V(B(n.t("key_manager.remove")),1)]),_:1})]),_:1},8,["disable"])])]),_:1})]),_:1},8,["class"]),C(Ye)])}const H3=Be(V3,[["render",G3],["__file","KeyItem.vue"]]),Ig="https://challenges.cloudflare.com/turnstile/v0/api.js",cs="cfTurnstileOnLoad",W3=Oe({__name:"TurnstileComponent",props:{modelValue:{},resetInterval:{default:295*1e3},renderOnMount:{type:Boolean,default:!0}},emits:["update:modelValue","error","unsupported","expired"],setup(t,{expose:e,emit:a}){e();let n;const r=t,i=a,o=oa(),{turnstileState:s}=Ge(o),l=z(),u=z(),c={sitekey:"0x4AAAAAAAgCxiL0RJqXRtA2",theme:"dark",callback:m,"error-callback":p,"expired-callback":d,"unsupported-callback":f};function d(){s.value=_a.EXPIRED,i("expired")}function f(){s.value=_a.UNSUPPORTED,i("unsupported")}function p(x){s.value=_a.ERROR,i("error",x)}function m(x){i("update:modelValue",x),_()}const g=()=>{var x;window.turnstile&&(i("update:modelValue",""),(x=window.turnstile)==null||x.reset()),s.value=_a.IDLE},h=()=>{u.value&&(window.turnstile.remove(u.value),u.value=void 0),s.value=_a.CLEANUP},v=()=>{u.value=window.turnstile.render("#turnstile-box",c)},_=()=>{l.value=setTimeout(()=>{g()},r.resetInterval)};tr(async()=>{console.log("Mounting Turnstile"),s.value=typeof window!="undefined"?window.turnstile!==void 0?_a.LOADED:_a.UNLOADED:_a.UNLOADED;const x=new Promise((w,A)=>{n={resolve:w,reject:A},s.value===_a.LOADED&&w(void 0)});window[cs]=()=>{n.resolve(),s.value=_a.LOADED},await(()=>{if(s.value===_a.UNLOADED){console.log("append Turnstile script"),s.value=_a.LOADING;const w=`${Ig}?onload=${cs}&render=explicit`,A=document.createElement("script");A.src=w,A.async=!0,A.addEventListener("error",()=>{n.reject("Failed to load Turnstile.")}),document.head.appendChild(A)}return x})(),r.renderOnMount&&v()}),Wd(()=>{console.log("Unmounting Turnstile"),h(),clearTimeout(l.value),delete window[cs]});const y={turnstileSrc:Ig,turnstileLoadFunction:cs,get turnstileLoad(){return n},set turnstileLoad(x){n=x},props:r,emit:i,embeddingStore:o,turnstileState:s,resetTimeout:l,widgetId:u,turnstileOptions:c,expiredCallback:d,unsupportedCallback:f,errorCallback:p,callback:m,reset:g,remove:h,render:v,startResetTimeout:_};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}}),K3={id:"turnstile-box"};function Y3(t,e,a,n,r,i){return O(),ye("div",K3)}const X3=Be(W3,[["render",Y3],["__file","TurnstileComponent.vue"]]);function Z3(t){const e=oa(),{turnstileState:a}=Ge(e),n=z(null),r=z(""),i=z(!1),o=z(!1);return{turnstileRef:n,turnstileToken:r,turnstileVisible:i,proceeding:o,onUpdateToken:async c=>{r.value=c,t&&await t(c),r.value="",i.value=!1,o.value=!1},checkReady:()=>{var c;return a.value===_a.UNSUPPORTED||a.value===_a.ERROR?!1:i.value&&a.value===_a.IDLE?!0:(o.value=!0,i.value?(console.log("reset turnstile"),(c=n.value)==null||c.reset(),Lt(()=>{var d;(d=n.value)==null||d.render()})):(console.log("init turnstile"),i.value=!0),!1)},resetVariables:()=>{r.value="",i.value=!1,o.value=!1}}}const Q3=Oe({__name:"KeysTable",setup(t,{expose:e}){e();const{t:a}=Ze({useScope:"global"}),n=Va(),r=Zd(),i=nr(),o=oa(),{keys:s,isLoading:l,keysInfoCache:u}=Ge(r),{user:c}=Ge(i),{products:d}=Ge(o),f=z(null),p={[xr.GENERATE]:async L=>{console.log("generate key"),l.value=!0;try{const P=await o.generate0TokenApiKey(L);P&&await r.addKey(P)}catch(P){n.notify({message:P instanceof Error?P.message:String(P),textColor:"negative",icon:"error"})}finally{l.value=!1}},[xr.REVOKE]:async L=>{console.log("revoke key",A.value)}},m=async L=>{var P;console.log("handle key in callback"),f.value&&await((P=p[f.value])==null?void 0:P.call(p,L))},{turnstileToken:g,turnstileRef:h,turnstileVisible:v,proceeding:_,onUpdateToken:y,checkReady:x,resetVariables:E}=Z3(m),w=z(""),A=z(""),S=H(()=>s.value.some(L=>{var P,I,R;return(R=(I=(P=u.value)==null?void 0:P[L.key])==null?void 0:I.metadata)==null?void 0:R.speed_level})),k=H(()=>s.value.filter(L=>L.key.toLowerCase().includes(w.value.toLowerCase()))),b=()=>{n.dialog({component:qC}).onOk(L=>{L===xr.GENERATE&&(f.value=xr.GENERATE,x()&&(m(g.value),E(),gtag==null||gtag("event","add_new_key",{location:document.location.href})))})},M=L=>{A.value=L,f.value=xr.REVOKE,x()&&(m(g.value),E())};tr(async()=>{await r.fetchKeys(),r.checkPrimaryKey(),d.value.length===0&&await o.getProducts()});const D={t:a,$q:n,apiKeyStore:r,userStore:i,embeddingStore:o,keys:s,isLoading:l,keysInfoCache:u,user:c,products:d,currentAction:f,actionCallback:p,handleTurnstileCb:m,turnstileToken:g,turnstileRef:h,turnstileVisible:v,proceeding:_,onUpdateToken:y,checkReady:x,resetVariables:E,filterQuery:w,revokeKey:A,hasPaidKey:S,visibleKeys:k,openApiKeyDialog:b,onRevoke:M,KeyItem:H3,TurnstileComponent:X3};return Object.defineProperty(D,"__isScriptSetup",{enumerable:!1,value:!0}),D}});function J3(t,e,a,n,r,i){return O(),j(ba,{class:"fit"},{default:T(()=>[C(Kd,{ref:"decisionTable",grid:"",rows:n.visibleKeys,flat:"","row-key":"_id",filter:n.filterQuery,"hide-header":"",loading:n.isLoading||n.proceeding,"card-container-class":"tour-optimizer-result-table"},{top:T(()=>[C(ba,{class:"full-width",flat:"",square:""},{default:T(()=>[C(Ie,{class:"row q-pa-none"},{default:T(()=>[C(ve,{disable:!n.user.uid||n.isLoading,flat:"",square:"","no-caps":"",padding:"md",icon:"add",label:n.t("key_manager.add"),onClick:n.openApiKeyDialog},null,8,["disable","label"]),C(ve,{disable:!n.hasPaidKey,flat:"",square:"",padding:"md",icon:"receipt_long",label:n.t("embedding.manage_billing"),stretch:"",href:"https://stripe.jina.ai",target:"_blank","no-caps":""},{default:T(()=>[C(ze,null,{default:T(()=>[V(B(n.t("embedding.manage_billing_tip")),1)]),_:1})]),_:1},8,["disable","label"]),C(ve,{flat:"",label:n.t("header.contact_us"),square:"",icon:"handshake",to:"/contact-sales",padding:"md","no-caps":""},null,8,["label"]),C(Ne,{filled:"",square:"",class:"full-width",debounce:"300",modelValue:n.filterQuery,"onUpdate:modelValue":e[0]||(e[0]=o=>n.filterQuery=o),placeholder:n.t("key_manager.filter_by")},{prepend:T(()=>[C(me,{name:"filter_alt"})]),_:1},8,["modelValue","placeholder"])]),_:1}),C(Ye)]),_:1})]),item:T(o=>[(O(),j(n.KeyItem,{key:o.row.key,"api-key":o.row,onRevoke:n.onRevoke},null,8,["api-key"]))]),_:1},8,["rows","filter","loading"]),n.turnstileVisible?(O(),j(n.TurnstileComponent,{key:0,ref:"turnstileRef",modelValue:n.turnstileToken,"onUpdate:modelValue":[e[1]||(e[1]=o=>n.turnstileToken=o),n.onUpdateToken]},null,8,["modelValue","onUpdate:modelValue"])):ne("",!0)]),_:1})}const qR=Be(Q3,[["render",J3],["__file","KeysTable.vue"]]);export{TR as B,LR as C,MR as E,ER as I,qR as K,rr as M,Ow as Q,kR as R,AR as S,CR as T,DR as a,PR as b,X3 as c,TC as d,SC as e,_C as f,Z3 as u,dx as v};
