import{bA as ze,c9 as Ve,ca as He,K as Be,i as I,F as qe,h as ce,aa as ue,W as me,X as r,Y as u,Z as a,$ as t,a4 as J,ad as S,ae as c,a6 as h,af as s,a8 as i,aB as se,l as z,aj as _e,a7 as k,b5 as Fe,bn as oe,bI as Ne,aU as Ie,aW as Ae,aV as re,j as B,ah as Ge,aX as Ye,a0 as E,a9 as A,ag as Ze,br as Je,N as Te,c3 as he,u as We,cb as Xe,bz as $e,cc as ea,aw as aa,a1 as F,a2 as N,a5 as U,b1 as ta,bi as la,aY as na,aA as ia,a3 as Q,ac as oa,a_ as ve,m as ra,aM as sa,aL as da,k as ca,G as ua,am as ma,H as we,M as _a,cd as fa,bg as pa,ce as ga}from"./index-CaRiaxPQ.js";import{Q as g,a as W}from"./QItemLabel-fWlmltvy.js";import{Q as G}from"./QList-BnJ-419j.js";import{a as te}from"./QExpansionItem-DvxOcVfV.js";import{Q as j}from"./QTooltip-CUUIMwAJ.js";import{a as Ce,Q as ya}from"./QBtnGroup-DWfLvf2K.js";import{Q as Se}from"./QLinearProgress-CH31IZRI.js";import{d as ba,f as de,Q as ke}from"./finetune-DQUDkm5T.js";import{c as ha}from"./copy-to-clipboard-6T9mF2Nd.js";import{u as Me,T as va}from"./embedding-aqsOPePS.js";import{a as Re,Q as V,b as xe}from"./QTable-xySDurHG.js";import{Q as wa}from"./QSpace-_rKtIWMX.js";function Pe(d){if(d===!1)return 0;if(d===!0||d===void 0)return 1;const o=parseInt(d,10);return isNaN(o)?0:o}const ka=ze({name:"close-popup",beforeMount(d,{value:o}){const n={depth:Pe(o),handler(e){n.depth!==0&&setTimeout(()=>{const m=Ve(d);m!==void 0&&He(m,e,n.depth)})},handlerKey(e){Be(e,13)===!0&&n.handler(e)}};d.__qclosepopup=n,d.addEventListener("click",n.handler),d.addEventListener("keyup",n.handlerKey)},updated(d,{value:o,oldValue:n}){o!==n&&(d.__qclosepopup.depth=Pe(o))},beforeUnmount(d){const o=d.__qclosepopup;d.removeEventListener("click",o.handler),d.removeEventListener("keyup",o.handlerKey),delete d.__qclosepopup}}),_t=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,ft=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,xa=()=>!0;function Pa(d){const o={};return d.forEach(n=>{o[n]=xa}),o}function fe(){const{emit:d,proxy:o}=qe(),n=I(null);function e(){n.value.show()}function m(){n.value.hide()}function y(C){d("ok",C),m()}function l(){d("hide")}return Object.assign(o,{show:e,hide:m}),{dialogRef:n,onDialogHide:l,onDialogOK:y,onDialogCancel:m}}const Ke=["ok","hide"];fe.emits=Ke;fe.emitsObject=Pa(Ke);const qa=ce({__name:"UsageHistoryDialog",props:{apiKey:{}},setup(d,{expose:o}){o();const n=d,{t:e}=ue({useScope:"global"}),m=Me(),{dialogRef:y}=fe(),l=()=>{var p;(p=q.value)==null||p.requestServerInteraction()},C=()=>{K.value=[]},w=p=>{var P,M;switch((P=p.request_path)==null?void 0:P.toLowerCase()){case"/encode":case"/checkfact":return T((M=p.metadata)==null?void 0:M.model_name);case"/embeddings":case"/rerank":case"/classify":case"/train":return`api.jina.ai/v1${p.request_path}`;case"/multi-embeddings":return"api.jina.ai/v1/multi-vector";case"/segment":return"segment.jina.ai";default:return p.request_path}},T=p=>{if(!p)return"";switch(p.toLowerCase()){case"reader-crawl":return"r.jina.ai";case"reader-search":return"s.jina.ai";case"grounding-checkfact":return"g.jina.ai";default:return p}},x=I(!1),q=I(null),K=I([]),_=I([{name:"icon",label:"",field:"amount",sortable:!1,align:"right"},{name:"createdAt",label:e("embedding.usage_time"),field:"createdAt",sortable:!1,align:"left",format:p=>ba.formatDate(p,"YYYY-MM-DD")},{name:"amount",label:e("embedding.tokens"),field:"amount",sortable:!1,align:"right",format:p=>p>0?`+${p}`:`${p}`},{name:"reason",label:e("embedding.usage_reason"),field:"reason",sortable:!1,align:"left"},{name:"requestPath",label:e("embedding.request_path"),field:"request_path",sortable:!1,align:"left"},{name:"requestNumber",label:e("embedding.request_number"),field:"request_number",sortable:!1,align:"right",format:p=>p?de(p):""}]),L={props:n,t:e,embeddingStore:m,dialogRef:y,onUsageHistoryDialogShow:l,onUsageHistoryDialogHide:C,getEndpoint:w,formatModelName:T,isUsageLoading:x,usageTableRef:q,usageRows:K,usageColumns:_,getUsageHistory:async()=>{x.value=!0;const p=await m.getUsage(n.apiKey);x.value=!1,!(!p||p.length===0)&&(K.value=p.map(P=>{const M=new Date(P.updated_at);let v=P.quantity,b=e(`embedding.usage_reason_${P.type}`);return P.type===va.CONSUME?(v=-v,P.metadata.model_name&&(b=b+": "+T(P.metadata.model_name))):(P.metadata.product_name&&(b=b+": "+P.metadata.product_name),P.metadata.order_quantity&&P.metadata.order_quantity>1&&(b=b+` (x ${P.metadata.order_quantity})`)),{createdAt:M,amount:v,reason:b,request_path:w(P),request_number:P.request_number}}))},get QTable(){return Re},get formatNumber(){return de}};return Object.defineProperty(L,"__isScriptSetup",{enumerable:!1,value:!0}),L}});function Ia(d,o,n,e,m,y){return r(),u(Fe,{ref:"dialogRef",onShow:e.onUsageHistoryDialogShow,onHide:e.onUsageHistoryDialogHide},{default:a(()=>[t(J,{style:{width:"1000px","max-width":"80vw"}},{default:a(()=>[t(S,{class:"q-pa-md"},{default:a(()=>[t(c,{avatar:""},{default:a(()=>[t(h,{name:"history"})]),_:1}),t(c,null,{default:a(()=>[t(g,null,{default:a(()=>[s(i(e.t("embedding.usage_history")),1)]),_:1}),t(g,{caption:""},{default:a(()=>[s(i(e.t("embedding.usage_history_explain")),1)]),_:1})]),_:1}),t(c,{side:""},{default:a(()=>[se(t(z,{icon:"close",flat:"",round:"",dense:""},null,512),[[ka]])]),_:1})]),_:1}),t(_e),t(e.QTable,{ref:"usageTableRef",flat:"",class:"bg-transparent","row-key":"createdAt",rows:e.usageRows,columns:e.usageColumns,loading:e.isUsageLoading,onRequest:e.getUsageHistory,pagination:{rowsPerPage:10}},{"body-cell-icon":a(l=>[t(V,{key:"icon",props:l},{default:a(()=>[l.row.amount>0?(r(),u(h,{key:0,name:"o_add_circle_outline",color:"primary"})):(r(),u(h,{key:1,name:"o_remove_circle_outline",color:"negative"}))]),_:2},1032,["props"])]),"body-cell-amount":a(l=>[t(V,{key:"amount",props:l},{default:a(()=>[s(i((l.row.amount>0?"+":"")+e.formatNumber(l.row.amount)),1)]),_:2},1032,["props"])]),"body-cell-requestPath":a(l=>[t(V,{key:"request_path",props:l},{default:a(()=>[k("code",null,i(l.row.request_path),1)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])]),_:1})]),_:1},512)}const Aa=me(qa,[["render",Ia],["__file","UsageHistoryDialog.vue"]]),Ta=ce({__name:"RateLimitComponent",props:{showActionButtons:Boolean},setup(d,{expose:o}){o();const{t:n}=ue({useScope:"global"}),e=Ge(),m=I([{icon:oe,endpoint:"https://r.jina.ai",name:n("reader.title"),description:n("rate_limit.rjinaai"),requestType:"GET/POST",woAPIkey:"20 RPM",wAPIkey:"200 RPM",wPremium:"1000 RPM",tokenCounting:n("rate_limit.output_token_counting"),latency:"4.6s",weight:e.name==="reader"?100:18},{icon:oe,endpoint:"https://s.jina.ai",name:n("reader.title"),description:n("rate_limit.sjinaai"),requestType:"GET/POST",woAPIkey:"5 RPM",wAPIkey:"40 RPM",wPremium:"100 RPM",tokenCounting:n("rate_limit.output_token_counting"),latency:"8.7s",weight:e.name==="reader"?99:17},{icon:oe,endpoint:"https://g.jina.ai",name:n("reader.title"),description:n("rate_limit.gjinaai"),requestType:"GET/POST",woAPIkey:null,wAPIkey:"10 RPM",wPremium:"30 RPM",tokenCounting:n("rate_limit.total_token_counting"),latency:"22.7s",weight:e.name==="reader"?99:17},{icon:Ne,endpoint:"https://segment.jina.ai",name:n("tokenizer.title"),description:n("rate_limit.tokenizer"),requestType:"GET/POST",woAPIkey:"20 RPM",wAPIkey:"200 RPM",wPremium:"1,000 RPM",tokenCounting:n("rate_limit.no_token_counting"),latency:"0.3s",weight:e.name==="segmenter"?100:1},{icon:Ie,endpoint:"https://api.jina.ai/v1/embeddings",name:n("embedding.title"),description:n("rate_limit.embeddings"),requestType:"POST",woAPIkey:null,wAPIkey:"500 RPM & 1,000,000 TPM",wPremium:"2,000 RPM & 5,000,000 TPM",tokenCounting:n("rate_limit.input_token_counting"),latency:null,latencyDepends:n("rate_limit.depends"),latencyExplain:n("rate_limit.batch_explain"),weight:e.name==="embeddings"?100:20},{icon:Ae,endpoint:"https://api.jina.ai/v1/rerank",name:n("reranker.title"),description:n("rate_limit.tokenizer"),requestType:"POST",woAPIkey:null,wAPIkey:"500 RPM & 1,000,000 TPM",wPremium:"2,000 RPM & 5,000,000 TPM",tokenCounting:n("rate_limit.input_token_counting"),latency:null,latencyDepends:n("rate_limit.depends"),latencyExplain:n("rate_limit.batch_explain"),weight:e.name==="reranker"?100:19},{icon:re,endpoint:"https://api.jina.ai/v1/classify",name:`${n("classifier.title")} (${n("classifier.compare_table.zero_shot")})`,description:n("rate_limit.classifier_zero_shot"),requestType:"POST",woAPIkey:null,wAPIkey:"200 RPM & 500,000 TPM",wPremium:"1,000 RPM & 3,000,000 TPM",tokenCounting:n("rate_limit.classifier_zero_shot_token_counting"),latency:null,latencyDepends:n("rate_limit.depends"),weight:e.name==="classifier"?100:15},{icon:re,endpoint:"https://api.jina.ai/v1/classify",name:`${n("classifier.title")} (${n("classifier.compare_table.few_shot")})`,description:n("rate_limit.classifier_few_shot"),requestType:"POST",woAPIkey:null,wAPIkey:"20 RPM & 200,000 TPM",wPremium:"60 RPM & 1,000,000 TPM",tokenCounting:n("rate_limit.classifier_few_shot_token_counting"),latency:null,latencyDepends:n("rate_limit.depends"),weight:e.name==="classifier"?98:15},{icon:re,endpoint:"https://api.jina.ai/v1/train",name:n("classifier.title"),description:n("rate_limit.classifier"),requestType:"POST",woAPIkey:null,wAPIkey:"20 RPM & 200,000 TPM",wPremium:"60 RPM & 1,000,000 TPM",tokenCounting:n("rate_limit.classifier_token_counting"),latency:null,latencyDepends:n("rate_limit.depends"),weight:e.name==="classifier"?99:15}]),y=I([{name:"icon",field:"icon",label:"",align:"left"},{name:"name",field:"name",label:n("rate_limit.product"),align:"left"},{name:"endpoint",field:"endpoint",label:n("rate_limit.endpoint"),align:"left"},{name:"description",field:"description",label:n("rate_limit.description"),align:"left",sortable:!0},{name:"woAPIkey",field:"woAPIkey",label:n("rate_limit.woAPIkey"),align:"right"},{name:"wAPIkey",field:"wAPIkey",label:n("rate_limit.wAPIkey"),align:"right"},{name:"wPremium",field:"wPremium",label:n("rate_limit.wPremium"),align:"right"},{name:"latency",field:"latency",label:n("rate_limit.latency"),align:"right"},{name:"tokenCounting",field:"tokenCounting",label:n("rate_limit.tokenCounting"),align:"left"},{name:"requestType",field:"requestType",label:n("rate_limit.requestType"),align:"left"}]),l=I(y.value.map(x=>x.name)),C=B(()=>m.value.sort((x,q)=>q.weight-x.weight)),w=I({rowsPerPage:10}),T={t:n,route:e,rows:m,columns:y,visibleColumns:l,sortedRows:C,initialPagination:w};return Object.defineProperty(T,"__isScriptSetup",{enumerable:!1,value:!0}),T}}),Ca=["innerHTML"],Sa={class:"text-bold silver-foil"},Ma={class:"text-bold golden-foil"},Ra={class:"row q-pa-md justify-center full-width"},Ka={key:1},Oa={class:"silver-foil text-bold"},Da={class:"golden-foil text-bold"},Ea={key:1};function ja(d,o,n,e,m,y){return r(),u(Re,{class:"my-sticky-column-table",flat:"",square:"","title-class":"q-pa-md",title:e.t("rate_limit.title"),rows:e.sortedRows,columns:e.columns,"row-key":"endpoint",pagination:e.initialPagination,"hide-pagination":"","visible-columns":e.visibleColumns},Ye({top:a(()=>[t(S,{class:"full-width q-pa-lg"},{default:a(()=>[t(c,null,{default:a(()=>[t(g,{class:"text-weight-bold"},{default:a(()=>[s(i(e.t("rate_limit.title")),1)]),_:1}),t(g,{caption:""},{default:a(()=>[k("span",{innerHTML:e.t("rate_limit.explain")},null,8,Ca)]),_:1})]),_:1}),t(wa),t(c,{side:""},{default:a(()=>[t(Se,{modelValue:e.visibleColumns,"onUpdate:modelValue":o[0]||(o[0]=l=>e.visibleColumns=l),multiple:"",outlined:"",square:"",dense:"","options-dense":"","display-value":d.$q.lang.table.columns,"emit-value":"","map-options":"",options:e.columns,"option-value":"name","options-cover":"",style:{"min-width":"150px"}},null,8,["modelValue","display-value","options"])]),_:1})]),_:1})]),"header-cell-wAPIkey":a(l=>[t(xe,{props:l},{default:a(()=>[k("span",Sa,i(l.col.label),1)]),_:2},1032,["props"])]),"header-cell-wPremium":a(l=>[t(xe,{props:l},{default:a(()=>[k("span",Ma,i(l.col.label),1)]),_:2},1032,["props"])]),"body-cell-icon":a(l=>[t(V,{props:l},{default:a(()=>[t(ya,{src:l.value,width:"36px"},null,8,["src"])]),_:2},1032,["props"])]),"body-cell-endpoint":a(l=>[t(V,{props:l},{default:a(()=>[k("code",null,i(l.value),1)]),_:2},1032,["props"])]),"body-cell-woAPIkey":a(l=>[t(V,{props:l},{default:a(()=>[l.value?(r(),E("span",Ka,i(l.value),1)):(r(),u(h,{key:0,name:"block",color:"negative"}))]),_:2},1032,["props"])]),"body-cell-wAPIkey":a(l=>[t(V,{props:l},{default:a(()=>[k("span",Oa,i(l.value),1),String(l.value).includes("X")?(r(),u(h,{key:0,name:"keyboard_double_arrow_up",color:"primary",class:"cursor-pointer"},{default:a(()=>[t(j,{"max-width":"300px"},{default:a(()=>[s(i(e.t("rate_limit.batch_explain")),1)]),_:1})]),_:1})):A("",!0)]),_:2},1032,["props"])]),"body-cell-wPremium":a(l=>[t(V,{props:l},{default:a(()=>[k("span",Da,i(l.value),1)]),_:2},1032,["props"])]),"body-cell-latency":a(l=>[t(V,{props:l},{default:a(()=>[l.value?(r(),E("span",Ea,i(l.value),1)):(r(),u(W,{key:0,icon:"bolt",label:l.row.latencyDepends,size:"sm"},{default:a(()=>[s(i(l.value)+" ",1),l.row.latencyExplain?(r(),u(h,{key:0,name:"help",class:"cursor-pointer q-ml-sm"},{default:a(()=>[t(j,{"max-width":"300px"},{default:a(()=>[s(i(l.row.latencyExplain),1)]),_:2},1024)]),_:2},1024)):A("",!0)]),_:2},1032,["label"]))]),_:2},1032,["props"])]),_:2},[n.showActionButtons?{name:"bottom",fn:a(()=>[k("div",Ra,[t(Ce,{outline:"",square:""},{default:a(()=>[t(z,{outline:"",label:e.t("get_new_key"),square:"",icon:"key",href:"/?sui=apikey",padding:"md",target:"_blank"},null,8,["label"]),t(_e),t(z,{outline:"",label:e.t("header.contact_us"),square:"",icon:"handshake",to:"/contact-sales",padding:"md"},null,8,["label"])]),_:1})])]),key:"0"}:void 0]),1032,["title","rows","columns","pagination","visible-columns"])}const La=me(Ta,[["render",ja],["__file","RateLimitComponent.vue"]]),Ua=ce({__name:"PurchaseTab",props:{hideUsage:{type:Boolean,default:!1},defaultOpenedItem:{default:"api"},hideOthers:{type:Boolean,default:!1}},setup(d,{expose:o}){o();const{t:n}=ue({useScope:"global"}),e=We(),m=Me(),{apiKey:y,products:l,isApiKeyInfoLoading:C,isPremiumPaidUser:w,apiKeyInfo:T}=Ze(m),x=I(y.value),q=I(T==null?void 0:T.value);Je(async()=>{q.value=await m.getKeyInfo(x.value),M.value=!Y.value||Z.value});const K=d,_=I(0),O=I(K.defaultOpenedItem==="onprem"),L=I(K.defaultOpenedItem==="api"),p=I(K.defaultOpenedItem==="cloud"),P=[{label:"10K",value:1e4},{label:"1M",value:1e6}],M=I(!0),v=I(1e6),b=I(""),D={"1M tokens":["paywall.no_commercial"],"1B tokens":["paywall.full_commercial"],"11B tokens":["paywall.full_commercial","paywall.higher_limit","paywall.priority_support","paywall.free_hour_consult"]},X=B(()=>l.value.map(f=>({...f,isActive:()=>b.value===f.price_id,tag:()=>n(`embedding.${f.product_name}_targetUser`),title:()=>n(`embedding.${f.product_name.replace(".","_")}`),description:()=>n(`embedding.${f.product_name.replace(".","_")}_intuition1`),isFree:f.price===0,priceLabel:()=>f.price>0?`$${f.price}`:n("embedding.free"),priceDescription:()=>f.price>0?`${(f.price/f.token_quantity*1e6).toFixed(3)} ${n("embedding.per_m")}`:n("embedding.1M_free_description"),handler:()=>f.price>0?pe(f.price_id):void 0}))),$=B(()=>{var f,R;return(R=(f=q.value)==null?void 0:f.wallet.total_balance)!=null?R:0}),Y=B(()=>{var f;return!!((f=q.value)!=null&&f.email)}),Z=B(()=>{var f;return Y.value&&!!((f=q.value)!=null&&f.metadata.auto_recharge)}),le=B(()=>!!x.value&&(q==null?void 0:q.value)!==void 0),ne=B(()=>!le.value||C.value),pe=async f=>{if(ne.value||b.value)return;const R=l.value.find(Qe=>Qe.price_id===f),H=new URL(window.location.href),je=Date.now().toString();H.searchParams.set("price_id",f),H.searchParams.set("session_id",je),H.searchParams.set("purchase_status","cancel");const Le=H.toString();H.searchParams.set("purchase_status","success"),H.searchParams.set("sui","apikey");const Ue=H.toString();b.value=f;const ae={price_id:f,success_url:Ue,cancel_url:Le},ye=localStorage.getItem(Xe);ye&&(ae.meta_data={sales_key:ye}),M.value&&(ae.meta_data={...ae.meta_data,auto_recharge:!0,threshold:v.value}),R&&gtag("event","begin_checkout",{currency:R.currency,value:R.price,items:[{id:R.product_id,name:R.product_name}]});const be=await m.checkoutWithStripe(x.value,ae);b.value="",be&&(m.apiKey=x.value,window.location.href=be.url)},ie=async()=>{q.value=await m.getKeyInfo(x.value),M.value=!Y.value||Z.value,y.value===x.value&&m.setApiKeyInfo(q.value)},Oe=async f=>{Y.value&&(!Z.value&&f?e.dialog({title:n("embedding.auto_recharge_enable_title"),message:n("embedding.auto_recharge_enable_message")}):Z.value&&!f&&e.dialog({title:n("embedding.auto_recharge_confirm_title"),message:n("embedding.auto_recharge_confirm_message"),cancel:!0}).onOk(async()=>{try{await m.cancelAutoRecharge(y.value)}catch(R){e.notify({message:R instanceof Error?R.message:String(R),color:"negative"}),M.value=!0}ie()}).onCancel(()=>{M.value=!0}))},De=async()=>{le.value&&x.value!==y.value&&e.dialog({title:n("embedding.api_key_update_title"),message:n("embedding.api_key_update_message"),cancel:!0}).onOk(()=>{y.value=x.value,ie()})},Ee=()=>{ne.value||e.dialog({component:Aa,componentProps:{apiKey:x.value}})};Te(async()=>{await m.getProducts(),setInterval(()=>{_.value=(_.value+1)%he.length},3e3)});const ee=I(!1),ge={t:n,$q:e,embeddingStore:m,apiKey:y,products:l,isApiKeyInfoLoading:C,isPremiumPaidUser:w,apiKeyInfo:T,inputApiKey:x,inputApiKeyInfo:q,props:K,currentIndex:_,showOnPrem:O,showAPI:L,showCSP:p,rechargeThresholdOptions:P,autoRecharge:M,rechargeThreshold:v,currentPriceID:b,tierFeatures:D,productCards:X,apiKeyTokens:$,isPaidUser:Y,isAutoCharge:Z,isInputApiKeyValid:le,isInputApiKeyDisabled:ne,checkoutProduct:pe,getKeyInfo:ie,updateAutoRecharge:Oe,updateApiKey:De,openUsageHistoryDialog:Ee,isApiKeyCopyDone:ee,copyApiKey:()=>{!y.value||ee.value||(ha(y.value).then(()=>{e.notify({message:n("copy_to_clipboard_success"),textColor:"primary",icon:"done"}),ee.value=!0,gtag==null||gtag("event","embedding_copy_api_key",{location:document.location.href})}),setTimeout(()=>{ee.value=!1},1800))},licenseFeatures:["paywall.commercial_licence.feature_models","paywall.commercial_licence.feature_consulting"],get ccncOptions(){return he},get cloudPartners(){return $e},get flatEnterprises(){return ea},get redirect(){return aa},get formatNumber(){return de},RateLimitComponent:La,get rerankerIcon(){return Ae},get embeddingIcon(){return Ie}};return Object.defineProperty(ge,"__isScriptSetup",{enumerable:!1,value:!0}),ge}}),Qa=["innerHTML"],za={key:0,class:"q-focus-helper"},Va={key:0,class:"text-caption"},Ha=["innerHTML"],Ba=["innerHTML","data-text"],Fa={class:"row justify-center text-caption text-dim q-pt-md q-pb-sm"},Na={class:"row justify-center q-gutter-x-sm"},Ga={class:"row q-pa-md q-py-none justify-center"},Ya={class:"col-10 col-md-6 col-lg-4 q-pa-sm cursor-pointer",style:{"min-width":"400px"}},Za=["innerHTML"],Ja={class:"row justify-center text-caption text-dim q-pt-md q-pb-sm"},Wa={class:"row justify-center"};function Xa(d,o,n,e,m,y){return r(),u(G,{separator:""},{default:a(()=>[!n.hideOthers||n.defaultOpenedItem==="cloud"?(r(),u(te,{key:0,group:"paywall",modelValue:e.showCSP,"onUpdate:modelValue":o[0]||(o[0]=l=>e.showCSP=l),"default-opened":n.defaultOpenedItem==="cloud","header-class":e.showCSP?"text-primary":void 0},{header:a(()=>[t(c,{avatar:""},{default:a(()=>[t(h,{name:"mdi-cloud-lock"})]),_:1}),t(c,null,{default:a(()=>[t(g,null,{default:a(()=>[k("span",{innerHTML:e.t("embedding.public_cloud_integration",{_numPartners:e.cloudPartners.length})},null,8,Qa)]),_:1}),t(g,{caption:"",class:"text-dim"},{default:a(()=>[s(i(e.t("embedding.public_cloud_integration_desc")),1)]),_:1})]),_:1})]),default:a(()=>[t(G,{class:"row q-pb-lg q-px-sm"},{default:a(()=>[(r(!0),E(N,null,F(e.cloudPartners,(l,C)=>(r(),u(S,{key:C,class:"col-6 col-md-4 col-lg-3 col-xl-2 q-pa-sm q-py-md"},{default:a(()=>[t(J,{bordered:"",flat:"","v-ripple":!l.disabled,class:U(["full-width bg-mixed-200",{"q-hoverable cursor-pointer":!l.disabled}]),square:"",onClick:w=>l.disabled?void 0:e.redirect(l.link)},{default:a(()=>[l.disabled?A("",!0):(r(),E("span",za)),t(Q,{class:"column items-center non-selectable q-py-lg"},{default:a(()=>[t(h,{name:l.icon,size:"xl"},null,8,["name"])]),_:2},1024),t(Q,{class:"text-center non-selectable"},{default:a(()=>[s(i(l.label),1)]),_:2},1024),t(Q,{class:"text-center non-selectable"},{default:a(()=>[(r(!0),E(N,null,F(l.products,(w,T)=>(r(),u(W,{key:T,label:e.t(`integrations.${w}`),outline:"",size:"xs",square:"",style:{"border-radius":"0"},icon:w==="embedding"?`img:${e.embeddingIcon}`:`img:${e.rerankerIcon}`},null,8,["label","icon"]))),128)),l.disabled?(r(),E("span",Va,i(e.t("landing_page.coming_soon")),1)):A("",!0)]),_:2},1024)]),_:2},1032,["v-ripple","class","onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue","default-opened","header-class"])):A("",!0),!n.hideOthers||n.defaultOpenedItem==="api"?(r(),u(te,{key:1,group:"paywall",modelValue:e.showAPI,"onUpdate:modelValue":o[5]||(o[5]=l=>e.showAPI=l),"default-opened":n.defaultOpenedItem==="api","header-class":e.showAPI?"text-primary":void 0},{header:a(()=>[t(c,{avatar:""},{default:a(()=>[e.showAPI?(r(),u(h,{key:0,name:"img:/J-active.svg"})):(r(),u(h,{key:1,name:"img:/J.svg"}))]),_:1}),t(c,null,{default:a(()=>[t(g,null,{default:a(()=>[s(i(e.t("paywall.via_api")),1)]),_:1}),t(g,{caption:"",class:"text-dim"},{default:a(()=>[s(i(e.t("paywall.via_api_explain")),1)]),_:1})]),_:1})]),default:a(()=>[t(G,{class:"q-pa-md q-gutter-y-sm"},{default:a(()=>[!n.hideUsage&&e.isInputApiKeyValid?(r(),u(S,{key:0},{default:a(()=>[e.$q.screen.gt.sm?(r(),u(c,{key:0,avatar:""},{default:a(()=>[t(h,{name:"data_usage"})]),_:1})):A("",!0),t(c,null,{default:a(()=>[t(g,{class:"text-bold"},{default:a(()=>[s(i(e.t("embedding.remaining")),1)]),_:1}),t(g,{class:U({"text-negative":e.apiKeyTokens<0})},{default:a(()=>[k("span",{innerHTML:e.t("embedding.remaining_left",{_leftTokens:e.formatNumber(e.apiKeyTokens)})},null,8,Ha)]),_:1},8,["class"])]),_:1}),t(c,{side:""},{default:a(()=>[t(Ce,{square:"",outline:""},{default:a(()=>[t(z,{outline:"",square:"",icon:"refresh",disable:e.isInputApiKeyDisabled,onClick:e.getKeyInfo,loading:e.isApiKeyInfoLoading},{default:a(()=>[t(j,null,{default:a(()=>[s(i(e.t("embedding.refresh_token_count1")),1)]),_:1})]),_:1},8,["disable","loading"]),t(_e),t(z,{square:"",outline:"","no-caps":"",label:e.t("embedding.last_7_days"),disable:e.isInputApiKeyDisabled,onClick:e.openUsageHistoryDialog},null,8,["label","disable"])]),_:1})]),_:1})]),_:1})):A("",!0),t(S,null,{default:a(()=>[e.$q.screen.gt.sm?(r(),u(c,{key:0,avatar:""},{default:a(()=>[t(h,{name:"key",class:U({"golden-foil":e.isPremiumPaidUser,"silver-foil":e.isPaidUser})},null,8,["class"])]),_:1})):A("",!0),t(c,null,{default:a(()=>[t(ta,{"input-style":"font-family: monospace",modelValue:e.inputApiKey,"onUpdate:modelValue":o[1]||(o[1]=l=>e.inputApiKey=l),"hide-bottom-space":"",clearable:"",hint:e.t("embedding.key_to_top_up"),filled:"",square:"",label:e.inputApiKey?`${e.t("embedding.key_warn_v2")}`:e.t("embedding.key_enter_placeholder_to_topup"),error:!e.isInputApiKeyValid,"error-message":e.inputApiKey?e.t("embedding.input_api_key_error1"):"","input-class":"ellipsis"},{prepend:a(()=>[t(z,{flat:"",square:"",icon:e.isApiKeyCopyDone?"done":"content_copy",color:e.isApiKeyCopyDone?"primary":"",onClick:e.copyApiKey,stretch:""},{default:a(()=>[t(j,null,{default:a(()=>[s(i(e.t("copy")),1)]),_:1})]),_:1},8,["icon","color"])]),after:a(()=>[e.isInputApiKeyValid&&e.inputApiKey!==e.apiKey?(r(),u(z,{key:0,icon:"save",onClick:e.updateApiKey,stretch:"",square:"",flat:""})):A("",!0)]),_:1},8,["modelValue","hint","label","error","error-message"])]),_:1})]),_:1}),t(S,null,{default:a(()=>[e.$q.screen.gt.sm?(r(),u(c,{key:0,avatar:""},{default:a(()=>[t(h,{name:"mdi-credit-card-sync-outline"})]),_:1})):A("",!0),t(c,null,{default:a(()=>[t(g,{class:"text-bold"},{default:a(()=>[s(i(e.t("embedding.auto_recharge")),1)]),_:1}),t(g,{caption:"",lines:"2"},{default:a(()=>[s(i(e.isAutoCharge?e.t("embedding.auto_recharge_enable"):e.t("embedding.auto_recharge_description")),1)]),_:1})]),_:1}),t(c,{side:""},{default:a(()=>[t(la,{modelValue:e.autoRecharge,"onUpdate:modelValue":[o[2]||(o[2]=l=>e.autoRecharge=l),e.updateAutoRecharge],color:"primary",disable:e.isInputApiKeyDisabled,"checked-icon":"check","unchecked-icon":"close"},null,8,["modelValue","disable"])]),_:1}),t(c,{side:""},{default:a(()=>[t(Se,{disable:!e.autoRecharge,modelValue:e.rechargeThreshold,"onUpdate:modelValue":o[3]||(o[3]=l=>e.rechargeThreshold=l),options:e.rechargeThresholdOptions,label:e.t("embedding.recharge_threshold"),style:{"min-width":"160px"},"option-label":l=>`≤ ${l.label} ${e.t("embedding.tokens")}`,onClick:o[4]||(o[4]=na(()=>{},["prevent"])),"emit-value":"","map-options":""},null,8,["disable","modelValue","label","option-label"])]),_:1})]),_:1}),t(te,{label:e.t("rate_limit.understanding"),icon:e.$q.screen.gt.sm?"speed":void 0,"header-class":"text-bold",caption:e.t("rate_limit.understanding_description")},{default:a(()=>[t(e.RateLimitComponent,{"show-action-buttons":!1})]),_:1},8,["label","icon","caption"]),t(S,null,{default:a(()=>[e.$q.screen.gt.sm?(r(),u(c,{key:0,avatar:"",side:"",class:"relative-position"},{default:a(()=>[t(h,{name:"fab fa-stripe"}),t(h,{name:"verified_user",size:"xs",class:"absolute-bottom-right q-mr-sm q-mb-xs text-positive"})]),_:1})):A("",!0),t(c,null,{default:a(()=>[t(g,{class:"text-bold"},{default:a(()=>[s(i(e.t("embedding.buy_more_quota")),1)]),_:1}),t(g,{caption:"",lines:"2"},{default:a(()=>[s(i(e.t("embedding.tax_may_apply")),1)]),_:1})]),_:1}),e.isPaidUser?(r(),u(c,{key:1,side:"",class:"q-pa-none"},{default:a(()=>[t(z,{outline:"","icon-right":"open_in_new",label:e.t("embedding.manage_billing"),stretch:"",href:"https://stripe.jina.ai",target:"_blank","no-caps":""},{default:a(()=>[t(j,null,{default:a(()=>[s(i(e.t("embedding.manage_billing_tip")),1)]),_:1})]),_:1},8,["label"])]),_:1})):A("",!0)]),_:1})]),_:1}),t(J,{class:"row q-pa-md q-py-none bg-transparent",flat:""},{default:a(()=>[(r(!0),E(N,null,F(e.productCards,(l,C)=>(r(),E("div",{key:C,class:"col-12 col-sm-6 col-lg-4 q-pa-sm cursor-pointer"},[se((r(),u(J,{bordered:"",flat:"",class:U(["full-width full-height column justify-between",!e.isInputApiKeyDisabled&&!e.currentPriceID&&!l.isFree?"q-hoverable bg-mixed-200":"cursor-not-allowed"]),square:"",style:oa(l.isActive()?"cursor: wait !important;":""),onClick:l.handler},{default:a(()=>[o[9]||(o[9]=k("span",{class:"q-focus-helper"},null,-1)),t(Q,{class:"column items-center non-selectable text-h2 q-pt-xl"},{default:a(()=>[t(W,{label:l.tag(),outline:"",square:"",style:{"border-radius":"0"},size:"sm",class:U(["q-my-xl",{"silver-border":l.product_name==="1B tokens","gold-border":l.product_name==="11B tokens"}])},null,8,["label","class"]),k("span",{innerHTML:l.title(),"data-text":l.title(),class:U(["text-weight-bold",{"text-dim":l.product_name==="1M tokens","silver-foil":l.product_name==="1B tokens","golden-foil":l.product_name==="11B tokens"}])},null,10,Ba),k("div",Fa,[s(i(e.t("embedding.includes"))+" ",1),t(j,{"max-width":"300px"},{default:a(()=>[s(i(l.description()),1)]),_:2},1024)]),k("div",Na,[(r(!0),E(N,null,F(e.flatEnterprises,w=>(r(),u(h,{key:w.label,name:`img:${w.icon}`,size:"sm"},{default:a(()=>[t(j,null,{default:a(()=>[k("b",null,i(e.t(w.label)),1),o[8]||(o[8]=k("br",null,null,-1)),s(" "+i(e.t(w.caption)),1)]),_:2},1024)]),_:2},1032,["name"]))),128))])]),_:2},1024),t(Q,{class:"column items-center non-selectable"},{default:a(()=>[t(G,null,{default:a(()=>[(r(!0),E(N,null,F(e.tierFeatures[l.product_name],w=>(r(),u(S,{key:w},{default:a(()=>[t(c,null,{default:a(()=>[t(g,{caption:""},{default:a(()=>[l.product_name!=="1M tokens"?(r(),u(h,{key:0,name:"task_alt",class:U({"golden-foil":l.product_name==="11B tokens","silver-foil":l.product_name==="1B tokens"})},null,8,["class"])):A("",!0),s(" "+i(e.t(w)),1)]),_:2},1024),t(j,{"max-width":"300px"},{default:a(()=>[s(i(e.t(`${w}_description`)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),t(Q,{class:U({"bg-mixed-300":!l.isFree})},{default:a(()=>[t(S,null,{default:a(()=>[t(c,null,{default:a(()=>[t(g,{class:U({"text-bold":!l.isFree})},{default:a(()=>[s(i(l.priceLabel()),1)]),_:2},1032,["class"]),t(g,{caption:""},{default:a(()=>[s(i(l.priceDescription()),1)]),_:2},1024)]),_:2},1024),l.isFree?A("",!0):(r(),u(c,{key:0,side:""},{default:a(()=>[t(h,{name:"add_shopping_cart"})]),_:1}))]),_:2},1024)]),_:2},1032,["class"]),t(ke,{showing:e.currentPriceID===l.price_id,label:e.t("embedding.wait_stripe"),"label-style":"font-size: 0.8em",size:"sm",class:"non-selectable lock-blur"},null,8,["showing","label"])]),_:2},1032,["class","style","onClick"])),[[ve,!l.isFree&&!e.isInputApiKeyDisabled&&!e.currentPriceID]])]))),128)),t(ke,{showing:!e.isInputApiKeyValid,class:"lock-blur",label:e.t("embedding.right_api_key_to_charge"),size:"0"},null,8,["showing","label"])]),_:1})]),_:1},8,["modelValue","default-opened","header-class"])):A("",!0),!n.hideOthers||n.defaultOpenedItem==="onprem"?(r(),u(te,{key:2,group:"paywall",modelValue:e.showOnPrem,"onUpdate:modelValue":o[7]||(o[7]=l=>e.showOnPrem=l),"default-opened":n.defaultOpenedItem==="onprem","header-class":e.showOnPrem?"text-primary":void 0},{header:a(()=>[t(c,{avatar:""},{default:a(()=>[t(h,{name:"mdi-shield-home"})]),_:1}),t(c,null,{default:a(()=>[t(g,null,{default:a(()=>[s(i(e.t("paywall.on_prem")),1)]),_:1}),t(g,{caption:"",class:"text-dim"},{default:a(()=>[s(i(e.t("paywall.on_prem_explain")),1)]),_:1})]),_:1})]),default:a(()=>[t(G,{class:"q-pa-md q-gutter-y-sm"},{default:a(()=>[t(S,null,{default:a(()=>[e.$q.screen.gt.sm?(r(),u(c,{key:0,avatar:"",side:""},{default:a(()=>[t(h,{name:"bug_report"})]),_:1})):A("",!0),t(c,null,{default:a(()=>[t(g,{class:"text-bold"},{default:a(()=>[s(i(e.t("paywall.commercial_licence.test_before_purchase")),1)]),_:1}),t(g,{caption:"",lines:"2"},{default:a(()=>[s(i(e.t("paywall.commercial_licence.test_before_purchase_desc")),1)]),_:1})]),_:1})]),_:1}),t(S,null,{default:a(()=>[e.$q.screen.gt.sm?(r(),u(c,{key:0,avatar:"",side:""},{default:a(()=>[t(h,{name:"description"})]),_:1})):A("",!0),t(c,null,{default:a(()=>[t(g,{class:"text-bold"},{default:a(()=>[s(i(e.t("paywall.commercial_licence.read_the_terms")),1)]),_:1}),t(g,{caption:"",lines:"2"},{default:a(()=>[s(i(e.t("paywall.commercial_licence.read_the_terms_desc")),1)]),_:1})]),_:1}),t(c,{side:""},{default:a(()=>[t(z,{outline:"","icon-right":"open_in_new",label:e.t("paywall.commercial_licence.read_the_terms_btn"),stretch:"",href:"/COMMERCIAL-LICENSE-TERMS.pdf",target:"_blank","no-caps":""},null,8,["label"])]),_:1})]),_:1}),t(S,null,{default:a(()=>[e.$q.screen.gt.sm?(r(),u(c,{key:0,avatar:"",side:"",class:"relative-position"},{default:a(()=>[t(h,{name:"fab fa-stripe"}),t(h,{name:"verified_user",size:"xs",class:"absolute-bottom-right q-mr-sm q-mb-xs text-positive"})]),_:1})):A("",!0),t(c,null,{default:a(()=>[t(g,{class:"text-bold"},{default:a(()=>[s(i(e.t("paywall.secured_by_stripe")),1)]),_:1}),t(g,{caption:"",lines:"2"},{default:a(()=>[s(i(e.t("embedding.tax_may_apply")),1)]),_:1})]),_:1})]),_:1})]),_:1}),k("div",Ga,[k("div",Ya,[se((r(),u(J,{bordered:"",flat:"",class:"full-width full-height column justify-between bg-mixed-200 q-hoverable",square:"",onClick:o[6]||(o[6]=l=>e.redirect("https://buy.stripe.com/00geY8gjf6J59Dq3cr"))},{default:a(()=>[o[10]||(o[10]=k("span",{class:"q-focus-helper"},null,-1)),t(Q,{class:"column items-center non-selectable text-h3 q-pt-xl"},{default:a(()=>[t(W,{label:e.t("paywall.commercial_licence.chip_label"),outline:"",square:"",style:{"border-radius":"0"},size:"sm",class:"q-my-xl silver-border"},null,8,["label"]),k("span",{class:"text-weight-bold silver-foil text-center",innerHTML:e.t("paywall.commercial_licence.title")},null,8,Za),k("div",Ja,[s(i(e.t("paywall.commercial_licence.subtitle"))+" ",1),t(j,{"max-width":"300px"},{default:a(()=>[s(i(e.t("paywall.commercial_licence.tooltip_description")),1)]),_:1})]),k("div",Wa,[t(ia,{name:"list2"},{default:a(()=>[(r(),u(W,{key:e.currentIndex,label:e.ccncOptions[e.currentIndex],size:"sm",class:"q-ma-xs bg-mixed-300"},null,8,["label"]))]),_:1})])]),_:1}),t(Q,{class:"column items-center non-selectable"},{default:a(()=>[t(G,null,{default:a(()=>[(r(),E(N,null,F(e.licenseFeatures,l=>t(S,{key:l},{default:a(()=>[t(c,null,{default:a(()=>[t(g,{caption:""},{default:a(()=>[t(h,{name:"task_alt",class:"silver-foil"}),s(" "+i(e.t(l)),1)]),_:2},1024),t(j,{"max-width":"300px"},{default:a(()=>[s(i(e.t(`${l}_desc`)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),64))]),_:1})]),_:1}),t(Q,{class:"bg-mixed-300"},{default:a(()=>[t(S,null,{default:a(()=>[t(c,null,{default:a(()=>[t(g,{class:"text-bold"},{default:a(()=>[s(i(e.t("paywall.commercial_licence.price_amount"))+" "+i(e.t("paywall.commercial_licence.price_period")),1)]),_:1}),t(g,{caption:""},{default:a(()=>[s(i(e.t("paywall.commercial_licence.company_size_note")),1)]),_:1})]),_:1}),t(c,{side:""},{default:a(()=>[t(h,{name:"add_shopping_cart"})]),_:1})]),_:1})]),_:1})]),_:1})),[[ve]])])])]),_:1},8,["modelValue","default-opened","header-class"])):A("",!0)]),_:1})}const pt=me(Ua,[["render",Xa],["__scopeId","data-v-b6456607"],["__file","PurchaseTab.vue"]]),gt=ra({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(d,{slots:o,emit:n}){const e=qe(),m=I(null);let y=0;const l=[];function C(_){const O=typeof _=="boolean"?_:d.noErrorFocus!==!0,L=++y,p=(v,b)=>{n(`validation${v===!0?"Success":"Error"}`,b)},P=v=>{const b=v.validate();return typeof b.then=="function"?b.then(D=>({valid:D,comp:v}),D=>({valid:!1,comp:v,err:D})):Promise.resolve({valid:b,comp:v})};return(d.greedy===!0?Promise.all(l.map(P)).then(v=>v.filter(b=>b.valid!==!0)):l.reduce((v,b)=>v.then(()=>P(b).then(D=>{if(D.valid===!1)return Promise.reject(D)})),Promise.resolve()).catch(v=>[v])).then(v=>{if(v===void 0||v.length===0)return L===y&&p(!0),!0;if(L===y){const{comp:b,err:D}=v[0];if(D!==void 0&&console.error(D),p(!1,b),O===!0){const X=v.find(({comp:$})=>typeof $.focus=="function"&&ma($.$)===!1);X!==void 0&&X.comp.focus()}}return!1})}function w(){y++,l.forEach(_=>{typeof _.resetValidation=="function"&&_.resetValidation()})}function T(_){_!==void 0&&we(_);const O=y+1;C().then(L=>{O===y&&L===!0&&(d.onSubmit!==void 0?n("submit",_):_!==void 0&&_.target!==void 0&&typeof _.target.submit=="function"&&_.target.submit())})}function x(_){_!==void 0&&we(_),n("reset"),_a(()=>{w(),d.autofocus===!0&&d.noResetFocus!==!0&&q()})}function q(){fa(()=>{if(m.value===null)return;const _=m.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||m.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||m.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(m.value.querySelectorAll("[tabindex]"),O=>O.tabIndex!==-1);_!=null&&_.focus({preventScroll:!0})})}pa(ga,{bindComponent(_){l.push(_)},unbindComponent(_){const O=l.indexOf(_);O!==-1&&l.splice(O,1)}});let K=!1;return sa(()=>{K=!0}),da(()=>{K===!0&&d.autofocus===!0&&q()}),Te(()=>{d.autofocus===!0&&q()}),Object.assign(e.proxy,{validate:C,resetValidation:w,submit:T,reset:x,focus:q,getValidationComponents:()=>l}),()=>ca("form",{class:"q-form",ref:m,onSubmit:T,onReset:x},ua(o.default))}});export{ka as C,pt as P,gt as Q,ft as R,_t as a,La as b,fe as u};
