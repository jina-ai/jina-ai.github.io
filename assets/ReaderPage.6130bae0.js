import{Q as z,a as te}from"./QImg.671947d9.js";import{e as oe,ae as ie,f as m,h as de,K as ve,J as ge,ad as he,ag as w,ah as l,aB as ye,u as ce,aG as we,ai as o,am as e,aj as b,aA as u,an as t,ba as ae,j as g,aw as x,ar as k,at as P,ap as C,aq as p,bw as xe,as as a,av as O,ak as W,af as qe,au as M,aF as N,aC as be,a4 as se,b6 as le}from"./index.19e1e030.js";import{Q as ke}from"./QPage.1bc59cbc.js";import{u as je}from"./useMetaTags.c6a1fc6c.js";import{T as $e}from"./TitleBlock.6c6f56ff.js";import{_ as Re}from"./FAQComponent.b3c0f155.js";import{f as F,g as re,h as Te,m as Ce,j as Le}from"./EmbeddingDialog.527296cf.js";import{Q as V}from"./QTooltip.f5cc1b62.js";import{c as ne}from"./QLinearProgress.e5e9a5f6.js";import{c as Qe}from"./copy-to-clipboard.cb6fe98a.js";import{_ as Be}from"./PricingComponent.df47706b.js";import{H as j}from"./H2TitleBlock.a5172fd6.js";import{_ as Se}from"./QForm.5d884725.js";import{_ as Ue}from"./plugin-vue_export-helper.90b80f8b.js";import"./QBadge.2a55d3c5.js";import"./QList.647918c3.js";import"./QTable.b770a2e8.js";import"./use-fullscreen.f666d834.js";import"./QExpansionItem.c6960fb1.js";import"./finetune.31be7171.js";import"./QTabs.db26d172.js";import"./QSpace.4729e023.js";import"./use-panel.5366b52c.js";import"./position-engine.f1b78e0f.js";import"./embedding.f7b49e05.js";import"./blogs.b4c44d97.js";var Ie="/assets/explain.00d2d1a4.svg",ze="/assets/explain3.ddb193be.svg",Pe="/assets/explain2.eda58d92.svg",Me="/assets/explain4.b16c81d3.png";const Ve={class:"text-caption text-bold text-dim"},Ae={class:"text-caption text-bold text-dim"},Ee={class:"text-caption text-bold text-dim"},He=oe({__name:"ReaderSearchDemoComponent",props:{originalURL:{type:String,default:""},disableQA:{type:Boolean,default:!1},disableOriginalURL:{type:Boolean,default:!1}},setup(A){const{t:s}=ie({useScope:"global"}),_=m(""),q=m(!1),y=m(!1),v=ce(),f=["When was Jina AI founded?","What did Elon Musk say about Open AI recently?","When will the next SpaceX launch be?","What is the market cap of Apple today?","Who will win 2024 US presidential election?","Who is playing in the US Open final?"],L=()=>f[Math.floor(Math.random()*f.length)],i=m(null);let c=null;const $=m(A.originalURL||L()),E=de(()=>`https://s.jina.ai/${encodeURIComponent($.value)}`),G=m(null),R=m([]),T=m([]),B=m(!1),S=m(!1),H=m(!1),U=m(!1),J=async r=>{var X,Y,Z;if(!await((X=G.value)==null?void 0:X.validate()))return Promise.reject();const Q={parameters:{question:$.value,context:r?"":_.value.slice(0,3e3)}};r?(R.value=[],B.value=!0,H.value=!0):(T.value=[],S.value=!0,U.value=!0);const n="https://api.promptperfect.jina.ai/ERK3nqviaFRyfGbkBsXD";try{const h=await fetch(n,{headers:{"content-type":"application/json"},body:JSON.stringify(Q),method:"POST"});if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);if((Y=h.headers.get("content-type"))!=null&&Y.includes("text/event-stream")){if(h.body){const I=h.body.getReader(),pe=new TextDecoder;for(;;){const{done:_e,value:ee}=await I.read();if(_e){r?H.value=!1:U.value=!1;break}ee&&pe.decode(ee).split(`

`).forEach(fe=>{const D=fe.replace(/data: /g,"");D&&(r?R.value.push(D):T.value.push(D))})}}}else if((Z=h.headers.get("content-type"))!=null&&Z.includes("application/json")){const I=(await h.json()).data;r?R.value=[I]:T.value=[I]}else throw new Error("Unknown response type")}catch(h){v.notify({color:"negative",message:s("landing_page.error",{message:h}),icon:"report_problem"})}finally{r?B.value=!1:S.value=!1}},ue=async()=>{y.value=!0,T.value=[];try{const r=await fetch(E.value);if(!r.ok)throw _.value=`\`\`\`json
${await r.json()}
\`\`\``,new Error(`Request failed with status ${r.status}`);const d=await r.text();_.value=`\`\`\`plaintext
${d}
\`\`\``}catch(r){v.notify({message:r.message,color:"negative"})}finally{y.value=!1}},K=async()=>{await Promise.all([ue(),J(!0)]),await J(!1)},me=()=>{var d;const r=((d=i.value)==null?void 0:d.$el)||i.value;r instanceof HTMLElement?(c=new IntersectionObserver(Q=>{Q[0].isIntersecting&&(K().then(()=>{}),c==null||c.disconnect())},{root:null,threshold:.1}),c.observe(r)):console.error("Element is not an HTMLElement:",r)};return ve(()=>{ge(()=>{setTimeout(()=>{me()},100)})}),he(()=>{c&&c.disconnect()}),(r,d)=>{const Q=we("q-markdown");return o(),w(ye,{bordered:"",flat:"",square:"",class:"col-12 col-md-10",ref_key:"componentRef",ref:i},{default:l(()=>[e(u,{horizontal:t(v).screen.gt.sm},{default:l(()=>[A.disableOriginalURL?P("",!0):(o(),b(k,{key:0},[e(u,{class:"col"},{default:l(()=>[e(t(ae),{modelValue:$.value,"onUpdate:modelValue":d[1]||(d[1]=n=>$.value=n),label:t(s)("reader.demo.your_query"),type:"url",loading:q.value,hint:t(s)("reader.demo.your_query_hint"),ref_key:"questionRef",ref:G},{prepend:l(()=>[e(g,{dense:"",square:"",flat:"",icon:"casino",onClick:d[0]||(d[0]=n=>$.value=L())})]),_:1},8,["modelValue","label","loading","hint"])]),_:1}),e(x,{vertical:t(v).screen.gt.sm},null,8,["vertical"])],64)),e(u,{class:"col"},{default:l(()=>[e(t(ae),{"model-value":`https://s.jina.ai/${$.value}`,label:t(s)("reader.demo.reader_url"),readonly:"",loading:y.value,"bottom-slots":""},{append:l(()=>[e(g,{flat:"",dense:"",square:"",icon:"content_copy",onClick:d[2]||(d[2]=n=>t(Qe)(E.value))},{default:l(()=>[e(V,null,{default:l(()=>[C(p(t(s)("copy")),1)]),_:1})]),_:1}),e(g,{flat:"",dense:"",square:"",icon:"open_in_new",onClick:d[3]||(d[3]=n=>t(xe)(E.value))},{default:l(()=>[e(V,null,{default:l(()=>[C(p(t(s)("demo.open")),1)]),_:1})]),_:1})]),hint:l(()=>[C(p(t(s)("reader.demo.reader_search_hint")),1)]),_:1},8,["model-value","label","loading"])]),_:1})]),_:1},8,["horizontal"]),e(x),e(g,{square:"",label:t(s)("reader.demo.ask_llm"),class:"full-width",icon:"contact_support",onClick:K,padding:"md"},null,8,["label"]),S.value||B.value||y.value||T.value.length>0||R.value.length>0?(o(),b(k,{key:0},[e(x),e(u,{horizontal:t(v).screen.gt.sm,class:"q-pa-none"},{default:l(()=>[e(u,{class:"col"},{default:l(()=>[a("span",Ve,p(t(s)("reader.demo.ask_llm_directly")),1),B.value?(o(),w(u,{key:0},{default:l(()=>[e(O,{name:"img:https://promptperfect.jina.ai/PromptPerfect-dark.svg",class:"q-mr-sm"},{default:l(()=>[e(V,null,{default:l(()=>[C(p(t(s)("landing_page.powered_by_promptperfect")),1)]),_:1})]),_:1}),(o(),b(k,null,W([0,1,2,3],n=>e(F,{key:n,class:"q-my-xs",width:n>0?"":"100px",type:"text"},null,8,["width"])),64))]),_:1})):(o(),b(k,{key:1},[e(u,{class:"q-pa-lg"},{default:l(()=>[e(re,{text:R.value,"speed-time":R.value?50:0},null,8,["text","speed-time"])]),_:1}),H.value?(o(),w(ne,{key:0,indeterminate:""})):P("",!0)],64))]),_:1}),e(x,{vertical:t(v).screen.gt.sm},null,8,["vertical"]),e(u,{class:"col"},{default:l(()=>[a("span",Ae,p(t(s)("reader.demo.reader_response")),1),y.value?(o(),w(u,{key:0},{default:l(()=>[(o(),b(k,null,W([100,300,200,200],n=>e(F,{type:"text",width:`${n}px`,key:n},null,8,["width"])),64))]),_:1})):(o(),w(Q,{key:1,src:_.value,"no-line-numbers":"",style:{"max-height":"300px"}},null,8,["src"]))]),_:1}),e(x,{vertical:t(v).screen.gt.sm},null,8,["vertical"]),e(u,{class:"col"},{default:l(()=>[a("span",Ee,p(t(s)("reader.demo.ask_llm_with_search_grounding")),1),e(Te,{label:t(s)("reader.demo.waiting_for_reader"),showing:y.value},null,8,["label","showing"]),S.value?(o(),w(u,{key:0},{default:l(()=>[e(O,{name:"img:https://promptperfect.jina.ai/PromptPerfect-dark.svg",class:"q-mr-sm"},{default:l(()=>[e(V,null,{default:l(()=>[C(p(t(s)("landing_page.powered_by_promptperfect")),1)]),_:1})]),_:1}),(o(),b(k,null,W([0,1,2,3],n=>e(F,{key:n,class:"q-my-xs",width:n>0?"":"100px",type:"text"},null,8,["width"])),64))]),_:1})):(o(),b(k,{key:1},[e(u,{class:"q-pa-lg"},{default:l(()=>[e(re,{text:T.value,"speed-time":U.value?50:0},null,8,["text","speed-time"])]),_:1}),U.value?(o(),w(ne,{key:0,indeterminate:""})):P("",!0)],64))]),_:1})]),_:1},8,["horizontal"])],64)):P("",!0),e(x),e(u,{class:"text-dim"},{default:l(()=>[e(O,{name:"info"}),C(" "+p(t(s)("reader.demo.search_query_rewrite")),1)]),_:1})]),_:1},512)}}});const De={class:"col-12 col-md-11 q-py-xl q-mx-xs-xs q-mx-sm-sm q-mx-md-md q-mx-lg-lg q-mx-xl-xl q-ma-xl relative-position"},Oe={class:"row justify-center items-center"},We={class:"col-11 col-md-8"},Ne={class:"q-my-xl row justify-center items-center"},Fe={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},Ge={class:"q-my-xl row justify-center items-center"},Je={class:"row justify-center items-center"},Ke={class:"col-11 col-md-8"},Xe={class:"q-my-xl row justify-center items-center"},Ye={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},Ze=["innerHTML"],et={class:"q-my-xl row justify-center items-center"},tt={class:"row justify-center items-center"},at={class:"col-11 col-md-8"},st={class:"q-my-xl row justify-center items-center"},lt={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},rt={class:"row q-py-xl justify-center items-center"},nt={class:"col-11 col-md-8"},ot={class:"q-my-xl row justify-center items-center"},it={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},dt=["innerHTML"],ct={class:"q-my-xl row justify-center"},ut={class:"q-my-xl row justify-center items-center",id:"rate-limit"},mt={class:"col-11 col-md-8 text-subtitle1 q-my-lg",style:{"white-space":"pre-line"}},pt={class:"q-my-xl row justify-center items-center text-subtitle1"},_t={class:"q-my-xl row justify-center items-center text-subtitle1"},ft={class:"q-my-xl row justify-center items-center"},vt={class:"q-my-xl row justify-center items-center"},gt={class:"row justify-center"},ht={class:"col-12 col-sm-11 col-md-10 q-pb-xl"},yt=oe({__name:"ReaderPage",setup(A){qe();const{t:s}=ie({useScope:"global"}),_=m(!1);je({page:"reader",banner:"banner-reader-api.png",url:"reader"});const q=ce(),y=[{label:"landing_page.get_api_now",icon:"code",anchor:"#apiform"},{label:"reader.demo.try_demo",icon:"play_arrow",anchor:"#demo"},{label:"landing_page.pricing",anchor:"#pricing",icon:"attach_money"}];function v(L){_.value=L,N("#demo")}const f=de(()=>{switch(q.screen.name){case"xl":return"lg";case"lg":return"lg";case"md":return"md";case"sm":return"md";case"xs":return"md";default:return"sm"}});return(L,i)=>(o(),w(ke,null,{default:l(()=>[a("div",{class:M(["row justify-center items-center img-bg q-py-xl",t(q).screen.lt.sm?"q-px-md":"q-px-xl"])},[a("div",De,[e($e,{title:t(s)("landing_page.reader"),tagline:t(s)("reader.reader_description"),"large-title":!0,buttons:y},null,8,["title","tagline"])])],2),a("div",{class:M(t(q).screen.lt.sm?"q-pa-md":"q-pa-xl"),id:"what_reader"},[e(j,{title:"reader.what_is1",anchor:"what_reader"}),a("div",Oe,[a("div",We,[e(z,{src:Ie})])]),a("div",Ne,[a("div",Fe,p(t(s)("reader.what_is_answer_long")),1)]),a("div",Ge,[e(g,{label:t(s)("reader.demo.show_read_demo"),icon:"play_arrow",outline:"",padding:"lg",square:"",onClick:i[0]||(i[0]=c=>v(!1))},null,8,["label"])]),e(j,{title:"reader.reader_do_search"}),a("div",Je,[a("div",Ke,[e(z,{src:ze})])]),a("div",Xe,[a("div",Ye,[a("span",{innerHTML:t(s)("reader.reader_do_search_explain")},null,8,Ze)])]),a("div",et,[e(g,{label:t(s)("reader.demo.show_search_demo"),icon:"play_arrow",outline:"",padding:"lg",square:"",onClick:i[1]||(i[1]=c=>v(!0))},null,8,["label"])]),e(j,{title:"reader.reader_reads_images"}),a("div",tt,[a("div",at,[e(z,{src:Pe})])]),a("div",st,[a("div",lt,p(t(s)("reader.reader_also_read_images")),1)]),e(j,{title:"reader.reader_reads_pdf"}),a("div",rt,[a("div",nt,[e(z,{src:Me})])]),a("div",ot,[a("div",it,[a("span",{innerHTML:t(s)("reader.reader_do_pdf_explain")},null,8,dt)])]),a("div",ct,[e(te,{flat:"",outline:"",square:""},{default:l(()=>[e(g,{label:t(s)("reader.original_pdf"),href:"https://www.nasa.gov/wp-content/uploads/2023/01/55583main_vision_space_exploration2.pdf",outline:"",size:f.value,padding:f.value,square:"",target:"_blank",icon:"open_in_new"},null,8,["label","size","padding"]),e(x),e(g,{label:t(s)("reader.reader_result"),href:"https://r.jina.ai/https://www.nasa.gov/wp-content/uploads/2023/01/55583main_vision_space_exploration2.pdf",outline:"",size:f.value,padding:f.value,square:"",target:"_blank",icon:"open_in_new"},null,8,["label","size","padding"])]),_:1})]),e(j,{title:"reader.is_free",subtitle:"reader.is_free_description"}),a("div",ut,[a("div",mt,[e(Se)])]),a("div",pt,p(t(s)("reader.dont_panic_api_key_is_free")),1),a("div",_t,[e(te,{outline:"",square:""},{default:l(()=>[e(g,{label:t(s)("get_new_key"),onClick:i[2]||(i[2]=c=>t(N)("#apiform")),outline:"",size:f.value,padding:f.value,square:"",icon:"key"},null,8,["label","size","padding"]),e(x),e(g,{label:t(s)("reader.check_price_table"),onClick:i[3]||(i[3]=c=>t(N)("#pricing")),outline:"",size:f.value,padding:f.value,square:"",icon:"attach_money"},null,8,["label","size","padding"])]),_:1})])],2),a("div",{class:M(t(q).screen.lt.sm?"q-pa-md":"q-pa-xl"),id:"demo"},[e(j,{title:"reader.demo.tagline",anchor:"demo"}),a("div",ft,[e(be,{modelValue:_.value,"onUpdate:modelValue":i[4]||(i[4]=c=>_.value=c),size:"xl",label:_.value?t(s)("reader.demo.show_read_demo"):t(s)("reader.demo.show_search_demo"),"checked-icon":"search","unchecked-icon":"double_arrow"},null,8,["modelValue","label"])]),a("div",vt,[se(e(He,null,null,512),[[le,_.value]]),se(e(Ce,null,null,512),[[le,!_.value]])])],2),a("div",{class:M(t(q).screen.lt.sm?"q-pa-md":"q-pa-xl"),id:"apiform"},[e(j,{title:"reader.title",subtitle:"reader.reader_description",anchor:"apiform"}),a("div",gt,[a("div",ht,[e(Le,{"show-function":"reader"})])])],2),e(Be),e(Re,{"faq-sources":["reader.faq_v1","api_general_faq","billing_general_faq"]},null,8,["faq-sources"])]),_:1}))}});var Jt=Ue(yt,[["__scopeId","data-v-b60fdf38"]]);export{Jt as default};
