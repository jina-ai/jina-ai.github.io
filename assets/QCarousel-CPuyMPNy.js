import{i as x,m as G,N as H,J,u as R,a as U,b as W,c as X}from"./_setToArray-Kh21iCWE.js";import{i as Y}from"./isSymbol-CV7PsNyd.js";import{l as M,i as c,j as l,F as K,a1 as Z,a2 as p,w as N,M as j,z,aa as ee,b5 as ne,k as _,a6 as te,E as ae}from"./index-CfrnS4YI.js";import{u as re,a as oe,b as ie}from"./use-fullscreen-B3ZwmYZJ.js";var le=/\s/;function ce(e){for(var n=e.length;n--&&le.test(e.charAt(n)););return n}var ue=/^\s+/;function se(e){return e&&e.slice(0,ce(e)+1).replace(ue,"")}var B=NaN,ve=/^[-+]0x[0-9a-f]+$/i,fe=/^0b[01]+$/i,ge=/^0o[0-7]+$/i,me=parseInt;function de(e){if(typeof e=="number")return e;if(Y(e))return B;if(x(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=x(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=se(e);var t=fe.test(e);return t||ge.test(e)?me(e.slice(2),t?2:8):ve.test(e)?B:+e}var A=1/0,he=17976931348623157e292;function _e(e){if(!e)return e===0?e:0;if(e=de(e),e===A||e===-A){var n=e<0?-1:1;return n*he}return e===e?e:0}function xe(e){var n=_e(e),t=n%1;return n===n?t?n-t:n:0}function Ie(e,n,t){if(!x(t))return!1;var o=typeof n;return(o=="number"?G(t)&&H(n,t.length):o=="string"&&n in t)?J(t[n],e):!1}function ye(e,n,t){var o=-1,a=e.length;n<0&&(n=-n>a?0:a+n),t=t>a?a:t,t<0&&(t+=a),a=n>t?0:t-n>>>0,n>>>=0;for(var u=Array(a);++o<a;)u[o]=e[o+n];return u}var qe=Math.ceil,be=Math.max;function Te(e,n,t){(t?Ie(e,n,t):n===void 0)?n=1:n=be(xe(n),0);var o=e==null?0:e.length;if(!o||n<1)return[];for(var a=0,u=0,v=Array(qe(o/n));a<o;)v[u++]=ye(e,a,a+=n);return v}const Ne=M({name:"QCarouselSlide",props:{...R,imgSrc:String},setup(e,{slots:n}){const t=c(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>l("div",{class:"q-carousel__slide",style:t.value},K(n.default))}}),Ce=["top","right","bottom","left"],Se=["regular","flat","outline","push","unelevated"],Be=M({name:"QCarousel",props:{...Z,...U,...re,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>Se.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>Ce.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...oe,...W],setup(e,{slots:n}){const{proxy:{$q:t}}=ae(),o=p(e,t);let a=null,u;const{updatePanelsList:v,getPanelContent:E,panelDirectives:F,goToPanel:I,previousPanel:y,nextPanel:q,getEnabledPanels:O,panelIndex:f}=X(),{inFullscreen:b}=ie(),Q=c(()=>b.value!==!0&&e.height!==void 0?{height:e.height}:{}),g=c(()=>e.vertical===!0?"vertical":"horizontal"),C=c(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),D=c(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(b.value===!0?" fullscreen":"")+(o.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${g.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${C.value}`:"")),S=c(()=>{const r=[e.prevIcon||t.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||t.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&t.lang.rtl===!0?r.reverse():r}),P=c(()=>e.navigationIcon||t.iconSet.carousel.navigationIcon),L=c(()=>e.navigationActiveIcon||P.value),m=c(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));N(()=>e.modelValue,()=>{e.autoplay&&d()}),N(()=>e.autoplay,r=>{r?d():a!==null&&(clearTimeout(a),a=null)});function d(){const r=ne(e.autoplay)===!0?Math.abs(e.autoplay):5e3;a!==null&&clearTimeout(a),a=setTimeout(()=>{a=null,r>=0?q():y()},r)}j(()=>{e.autoplay&&d()}),z(()=>{a!==null&&clearTimeout(a)});function w(r,s){return l("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${r} q-carousel__navigation--${C.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[l("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},O().map(s))])}function V(){const r=[];if(e.navigation===!0){const s=n["navigation-icon"]!==void 0?n["navigation-icon"]:i=>l(_,{key:"nav"+i.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${i.active===!0?"":"in"}active`,...i.btnProps,onClick:i.onClick}),h=u-1;r.push(w("buttons",(i,k)=>{const $=i.props.name,T=f.value===k;return s({index:k,maxIndex:h,name:$,active:T,btnProps:{icon:T===!0?L.value:P.value,size:"sm",...m.value},onClick:()=>{I($)}})}))}else if(e.thumbnails===!0){const s=e.controlColor!==void 0?` text-${e.controlColor}`:"";r.push(w("thumbnails",h=>{const i=h.props;return l("img",{key:"tmb#"+i.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${i.name===e.modelValue?"":"in"}active`+s,src:i.imgSrc||i["img-src"],onClick:()=>{I(i.name)}})}))}return e.arrows===!0&&f.value>=0&&((e.infinite===!0||f.value>0)&&r.push(l("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${g.value} absolute flex flex-center`},[l(_,{icon:S.value[0],...m.value,onClick:y})])),(e.infinite===!0||f.value<u-1)&&r.push(l("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${g.value} absolute flex flex-center`},[l(_,{icon:S.value[1],...m.value,onClick:q})]))),te(n.control,r)}return()=>(u=v(n),l("div",{class:D.value,style:Q.value},[ee("div",{class:"q-carousel__slides-container"},E(),"sl-cont",e.swipeable,()=>F.value)].concat(V())))}});export{Be as Q,Ne as a,Te as c};
