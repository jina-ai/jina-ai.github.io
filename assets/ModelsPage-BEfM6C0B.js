import{bH as qc,bJ as P0,cn as O0,s as R0,bi as D0,bj as B0,p as rn,k as Pe,W as gt,h as L0,i as dr,dp as Nd,w as en,j as ln,dq as mn,m as Me,b7 as zd,a3 as J,aa as Te,cA as pi,dr as Oe,aj as st,J as Tr,r as H0,ds as q0,aV as $i,a6 as te,a5 as j,dt as Zs,bh as F0,du as G0,V as Fn,aY as Yi,l as Pd,dv as Od,a8 as Le,ag as _e,ab as Ye,ah as sn,ai as Tn,ac as at,F as Rd,dw as $0,a4 as Ce,dx as Dd,dy as To,dz as Qe,dA as Li,b8 as Bd,dB as W0,dC as U0,cC as V0,af as Ge,ct as Y0,ak as Hi,u as Js,a0 as Uo,n as Qs,aO as Ld,aF as zo,aG as Po,aD as Oo,a2 as Vo,q as di,ao as gn,aR as Hd,aB as zs,ad as Rt,ae as Nn,ay as qd,cu as X0,cy as j0,cz as K0,b3 as Fd,aN as Ps,bb as Gd,bc as $d,bd as Wd,a9 as Bi,aI as Z0,a7 as Os,am as J0,al as Q0,bk as eb,an as nb}from"./index-DnrDkV4a.js";import{a as hi,c as Cn}from"./QItemLabel-Bb8hKoNS.js";import{Q as Ud}from"./QList-BNLkHVsa.js";import{Q as tb}from"./QBtnDropdown-xyjx9joG.js";import{f as ib,t as rb,o as ob,Q as ab}from"./QBanner-BhK7lC0e.js";import{Q as xn}from"./QTooltip-BCWb5p-U.js";import{Q as sb}from"./QPage-Cu6CuF-J.js";import{d as lb,l as ub,i as Vd,Q as cb,b as db,a as fb}from"./date-BDldwjSl.js";import{a as hb,Q as Yd}from"./QLinearProgress-BbXjtRL4.js";import{u as gb}from"./embedding-CLo_e_8K.js";import{u as mb}from"./search-Ciug5dP0.js";import{H as pb}from"./H2TitleBlock-BMnTa8n3.js";import{R as vb}from"./ResearchersComponent-B0Jrdx09.js";import{N as yb}from"./NewsFilterComponent-geygmqeT.js";import{u as _b}from"./blogs-DsZHC6pH.js";import"./QMenu-BKh5bsSn.js";import"./position-engine-B7F0osbD.js";import"./isSymbol-CwSrdHb8.js";import"./use-fullscreen-5L1rRA_L.js";import"./NewsVerticalCard-B_bOqie1.js";import"./SXTooltip-B1hTE8ap.js";function bb(n,i,r,o){if(!qc(n))return n;i=ib(i,n);for(var s=-1,u=i.length,l=u-1,d=n;d!=null&&++s<u;){var f=rb(i[s]),m=r;if(f==="__proto__"||f==="constructor"||f==="prototype")return n;if(s!=l){var p=d[f];m=void 0,m===void 0&&(m=qc(p)?p:P0(i[s+1])?[]:{})}O0(d,f,m),d=d[f]}return n}function wb(n,i,r){return n==null?n:bb(n,i,r)}const xb='<circle cx="15" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="60" cy="15" r="9" fill-opacity=".3"><animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from=".5" to=".5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle>',kb=R0({name:"QSpinnerDots",props:D0,setup(n){const{cSize:i,classes:r}=B0(n);return()=>rn("svg",{class:r.value,fill:"currentColor",width:i.value,height:i.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",innerHTML:xb})}}),Eb=`---
model_name: "jina-clip-v1"
model_version: "v1"
model_type: "multimodal"
organization: "Jina AI"
license: "Apache-2.0"
parameter_size: "223M"
language:
  - en
token_length: 8192
input_type:
  - image
  - text
output_type:
  - vector
image_size: 224x224
output_dimension: 768
release_date: "2024-06-05"
device: "cuda"
api_link: "/?sui&model=jina-clip-v1"
aws: "https://aws.amazon.com/marketplace/pp/prodview-clip-v1"
release_blog: "/news/jina-clip-v1-a-truly-multimodal-embeddings-model-for-text-and-image"
arxiv: "https://arxiv.org/abs/2405.20204"
deprecated_by:
  - jina-clip-v2
related_models:
  - jina-clip-v2
  - jina-embeddings-v3
  - jina-colbert-v2
availability:
  - api
  - huggingface
  - aws
  - azure
tags:
  - multimodal-embedding
  - image-text-alignment
  - english-only
  - zero-shot-classification
  - cross-modal-search
  - long-text-support
  - unified-embeddings
  - text-to-text
  - text-to-image
  - visual-semantic
endpoints:
  - embedding
  - train
  - classify
---

## Overview

Jina CLIP v1 revolutionizes multimodal AI by being the first model to excel equally in both text-to-text and text-to-image retrieval tasks. Unlike traditional CLIP models that struggle with text-only scenarios, this model achieves state-of-the-art performance across all retrieval combinations while maintaining a remarkably compact 223M parameter size. The model addresses a critical industry challenge by eliminating the need for separate models for text and image processing, reducing system complexity and computational overhead. For teams building search systems, recommendation engines, or content analysis tools, Jina CLIP v1 offers a single, efficient solution that handles both text and visual content with exceptional accuracy.

## Methods

The model's architecture represents a significant innovation in multimodal AI design, combining an adapted Jina BERT v2 text encoder with the cutting-edge EVA-02 image encoder from the Beijing Academy for Artificial Intelligence. The text encoder supports sequences up to 12,288 tokens - over 100 times longer than the original CLIP's 77-token limit - while the image encoder efficiently processes 16 patch tokens. The training process follows a novel three-step approach: first, aligning image-caption pairs while maintaining text understanding through interleaved text-pair training; second, incorporating AI-generated longer text descriptions of images; and finally, using hard negative text triplets to enhance semantic distinction capabilities. This unique training methodology enables the model to maintain high performance across both short captions and detailed textual descriptions while preserving strong visual understanding.

## Performance

Jina CLIP v1 demonstrates remarkable improvements over OpenAI's original CLIP across all benchmarks. In text-only retrieval, it achieves a 165% performance increase with a score of 0.429 compared to CLIP's 0.162. For image-related tasks, it shows consistent improvements: 2% better in text-to-image retrieval (0.899), 6% in image-to-text retrieval (0.803), and 12% in image-to-image retrieval (0.916). The model particularly shines in zero-shot visual classification tasks, successfully categorizing images without prior training on specific domains. When evaluated on standard benchmarks like MTEB for text retrieval, CIFAR-100 for image tasks, and Flickr8k/30k and MSCOCO Captions for cross-modal performance, it consistently outperforms specialized single-modality models while maintaining competitive performance in cross-modal tasks.

## Guidance

To effectively deploy Jina CLIP v1, teams should consider both its capabilities and resource requirements. The model processes images in 224x224 pixel tiles, with each tile consuming 1,000 tokens of processing capacity. For optimal performance, implement efficient image preprocessing to match these dimensions. While the model excels at both short and long text processing, it currently only supports English language input. Teams should carefully consider token usage: text requires approximately 1.1 tokens per word, while images are processed in tiles (e.g., a 750x500 pixel image requires 12 tiles, consuming 12,000 tokens). The model is available through both the Jina Embeddings API and as an open-source release on Hugging Face under the Apache 2.0 license, offering flexibility in deployment options. For production environments, consider using the AWS Marketplace or Azure deployment options, which provide optimized infrastructure setups.
`,Sb=`---
model_name: "jina-clip-v2"
model_version: "v2"
model_type: "multimodal"
organization: "Jina AI"
license: "CC-BY-NC-4.0"
input_type:
  - image
  - text
output_type:
  - vector
language:
  - multilingual
token_length: 8192
image_size: 512x512
output_dimension: 1024
release_date: "2024-11-05"
device: "cuda"
api_link: "/?sui&model=jina-clip-v2"
aws: "arn:aws:sagemaker:us-east-1:253352124568:model-package/jina-clip-v2"
arxiv: "https://arxiv.org/abs/2412.08802"
release_blog: "/news/jina-clip-v2-multilingual-multimodal-embeddings-for-text-and-images/"
related_models:
  - jina-clip-v1
parameter_size: "865M"
tags:
  - multimodal-embedding
  - image-text-alignment
  - multilingual
  - large-context
  - instruction-tuned
  - masked-region-learning
  - production
  - cross-lingual-retrieval
  - zero-shot-classification
  - modality-gap-aware
endpoints:
  - embedding
  - train
  - classify
features:
  - instruction_enabled: true
  - mrl_enabled: true
availability:
  - api
  - license
  - huggingface
  - aws
  - azure
  - gcp
---

## Overview

Jina CLIP v2 revolutionizes multimodal AI by bridging the gap between visual and textual understanding across 89 languages. This model solves critical challenges in global e-commerce, content management, and cross-cultural communication by enabling accurate image-text matching regardless of language barriers. For businesses expanding internationally or managing multilingual content, it eliminates the need for separate models per language or complex translation pipelines. The model particularly shines in scenarios requiring precise visual search across language boundaries, such as global marketplace product discovery or multilingual digital asset management.

## Methods

At its core, Jina CLIP v2 employs a sophisticated dual-encoder architecture that combines a Jina XLM-RoBERTa text encoder (561M parameters) with an EVA02-L14 vision encoder (304M parameters). The text encoder processes content in 89 languages with a massive context window of 696,320 tokens, while the vision encoder handles high-resolution images up to 512x512 pixels. The model introduces innovative Matryoshka representation learning, which enables dynamic embedding dimension adjustment from 1024 down to 64 dimensions while preserving performance. This architecture processes both text and images through their respective encoders, projecting them into a shared semantic space where similar concepts align regardless of their original modality or language.

## Performance

The model achieves state-of-the-art performance with 98.0% accuracy on Flickr30k image-to-text retrieval tasks, surpassing both its predecessor and NLLB-CLIP-SigLIP. In multilingual scenarios, it demonstrates up to 4% improvement over NLLB-CLIP-SigLIP in cross-lingual image retrieval tasks, despite having fewer parameters than its largest competitor. The model maintains strong performance even when embeddings are compressed - reducing dimensions by 75% still preserves over 99% of performance across text, image, and cross-modal tasks. On the comprehensive Multilingual MTEB benchmarks, it achieves 69.86% on retrieval and 67.77% on semantic similarity tasks, performing competitively with specialized text embedding models.

## Guidance

For optimal deployment, users should consider several key factors. The model requires CUDA-capable hardware for efficient processing, with memory requirements scaling based on batch size and image resolution. To optimize API costs and performance, resize images to 512x512 pixels before processing - larger images are automatically tiled, increasing token usage and processing time. The model excels at matching images with descriptive text across languages but may struggle with abstract concepts or highly specialized domain-specific content. It's particularly effective for e-commerce product search, content recommendation systems, and visual search applications, but may not be suitable for tasks requiring fine-grained visual detail analysis or highly specialized domain expertise. When using the Matryoshka representation feature, consider the trade-off between dimension reduction and performance - while 64-dimension embeddings maintain strong performance, critical applications may benefit from higher dimensions.
`,Mb=`---
model_name: "jina-colbert-v1-en"
model_version: "v1"
model_type: "late-interaction"
organization: "Jina AI"
license: "Apache-2.0"
parameter_size: "137M"
language:
  - en
input_type:
  - text
output_type:
  - multi-vector
token_length: 8192
output_dimension: 128
release_date: "2024-02-17"
device: "cuda"
api_link: "/?sui&model=jina-colbert-v1-en"
release_blog: "/news/what-is-colbert-and-late-interaction-and-why-they-matter-in-search/"
deprecated_by:
  - jina-colbert-v2
tags:
  - english-only
  - late-interaction
  - token-level-matching
  - retrieval
  - reranking
  - multi-vector
endpoints:
  - rank
  - multi-embeddings
  - late-interaction
  - multi-vector
availability:
  - api
  - huggingface
  - aws
  - azure
---

## Overview

Jina-ColBERT-v1-en revolutionizes text search by solving a critical challenge in information retrieval: achieving high accuracy without sacrificing computational efficiency. Unlike traditional models that compress entire documents into single vectors, this model maintains precise token-level understanding while requiring only 137M parameters. For teams building search applications, recommendation systems, or content discovery platforms, Jina-ColBERT-v1-en eliminates the traditional trade-off between search quality and system performance. The model particularly shines in scenarios where nuanced text understanding is crucial, such as technical documentation search, academic paper retrieval, or any application where capturing subtle semantic relationships can make the difference between finding the right information and missing critical content.

## Methods

The model employs an innovative late interaction architecture that fundamentally changes how document retrieval works. Instead of comparing entire documents at once, it processes queries and documents independently until the final matching stage, using an adapted version of the ColBERT approach. The architecture combines two key components: a document encoder that processes text up to 8,192 tokens (over 16 times longer than standard transformers) and a query encoder that creates precise token-level representations. Each token in both query and document gets its own 128-dimensional embedding vector, preserving fine-grained semantic information that would be lost in single-vector models. The late interaction mechanism then enables efficient token-by-token matching between queries and documents, using max-pooling and summation operations to compute final relevance scores without requiring expensive all-to-all comparisons.

## Performance

Jina-ColBERT-v1-en demonstrates remarkable improvements over baseline models across various benchmarks. On the BEIR dataset collection, it achieves superior performance in multiple categories: 49.4% on Arguana (vs. 46.5% for ColBERTv2), 79.5% on FEVER (vs. 78.8%), and 75.0% on TREC-COVID (vs. 72.6%). Most impressively, it shows a dramatic improvement on the LoCo benchmark for long-context understanding, scoring 83.7% compared to ColBERTv2's 74.3%. The model particularly excels in scenarios requiring detailed semantic understanding, outperforming traditional embedding models while maintaining computational efficiency through its innovative late interaction approach. These improvements are achieved while keeping the model's parameter count at a modest 137M, making it both powerful and practical for production deployments.

## Guidance

To effectively deploy Jina-ColBERT-v1-en, teams should consider several practical aspects. The model requires a CUDA-capable GPU for optimal performance, though CPU inference is possible for development. For document processing, the 8,192 token limit translates to approximately 6,000 words, making it suitable for most document types including academic papers, technical documentation, and long-form content. Teams should implement efficient document preprocessing to handle token limits and consider batch processing for large-scale indexing. While the model excels at English language content, it's not designed for multilingual applications or cross-language retrieval. For production deployments, implement proper document chunking strategies and consider using vector similarity indexes (like FAISS) for efficient retrieval. The model is particularly effective when integrated into RAG pipelines using frameworks like RAGatouille, which simplifies the implementation of complex retrieval patterns.
`,Tb=`---
model_name: "jina-colbert-v2"
model_version: "v2"
model_type: "colbert"
organization: "Jina AI"
license: "CC-BY-NC-4.0"
parameter_size: "560M"
language:
  - multilingual
input_type:
  - text
output_type:
  - multi-vector
token_length: 8192
output_dimension: 128
release_date: "2024-08-31"
device: "cuda"
huggingface: "https://huggingface.co/jinaai/jina-colbert-v2"
aws: "https://aws.amazon.com/marketplace/seller-profile/vendor/jinaai"
api_link: "/?sui&model=jina-colbert-v2"
arxiv: "https://arxiv.org/abs/2408.16672"
release_blog: "/news/jina-colbert-v2-multilingual-late-interaction-retriever-for-embedding-and-reranking"
related_models:
  - jina-colbert-v1-en
tags:
  - multilingual
  - late-interaction
  - long-context
  - high-performance
  - production-ready
  - retriever
  - token-level
  - 89-languages
  - cross-lingual
  - matryoshka
  - storage-efficient
endpoints:
  - rank
  - multi-embeddings
  - late-interaction
  - multi-vector
  - matryoshka-embeddings
supported_languages: 89
availability:
  - api
  - license
  - huggingface
  - aws
  - azure
  - gcp
---

## Overview

Jina-ColBERT-v2 is a groundbreaking multilingual information retrieval model that solves the critical challenge of efficient, high-quality search across multiple languages. As the first multilingual ColBERT-like model to generate compact embeddings, it addresses the growing need for scalable, cost-effective multilingual search solutions in global applications. Organizations dealing with multilingual content, from e-commerce platforms to content management systems, can leverage this model to provide accurate search results across 89 languages while significantly reducing storage and computational costs through its innovative dimension reduction capabilities.

## Methods

The model builds upon the ColBERT architecture, introducing a sophisticated late interaction mechanism that fundamentally changes how queries and documents are matched. At its core, it uses a modified XLM-RoBERTa backbone with 560M parameters, enhanced by rotary position embeddings and optimized with flash attention. The training process involves two key stages: initial pretraining with diverse weakly-supervised data from various languages, followed by fine-tuning with labeled triplet data and supervised distillation. What makes this approach unique is the implementation of Matryoshka representation learning, which enables the model to produce embeddings in multiple dimensions (128, 96, or 64) from a single training process, allowing for dynamic storage optimization without retraining.

## Performance


In real-world testing, Jina-ColBERT-v2 demonstrates exceptional capabilities across multiple benchmarks. It achieves a 6.5% improvement over the original ColBERT-v2 on English tasks, with an average score of 0.521 across 14 BEIR benchmarks. More impressively, it outperforms traditional BM25-based retrieval methods across all tested languages on MIRACL benchmarks, showing particular strength in cross-lingual scenarios. The model maintains this high performance even when using reduced embedding dimensions - dropping from 128 to 64 dimensions results in only a 1.5% performance decrease while halving storage requirements. This translates to significant cost savings in production: for example, storing 100 million documents with 64-dimension vectors costs $659.62 per month on AWS, compared to $1,319.24 for 128 dimensions.

## Guidance

To effectively deploy Jina-ColBERT-v2, teams should consider several practical aspects. The model requires CUDA-capable hardware for optimal performance and supports document lengths up to 8,192 tokens (extendable to 12,288) while limiting queries to 32 tokens. For production deployment, the model is available through the Jina Search Foundation API, AWS marketplace, and Azure, with a non-commercial version accessible via Hugging Face. When implementing, teams should specify whether they're embedding queries or documents, as the model uses asymmetric encoding. The model isn't designed for real-time processing of extremely large document collections without proper indexing, and while it excels at multilingual retrieval, it may show slightly lower performance on specialized domain-specific tasks compared to models fine-tuned for those specific domains.
`,Cb=`---
model_name: "jina-embedding-b-en-v1"
model_version: "v1"
model_type: "text-embeddings"
organization: "Jina AI"
license: "Apache-2.0"
parameter_size: "110M"
language:
  - en
token_length: 512
output_dimension: 768
release_date: "2023-06-17"
device: "cuda"
api_link: "/?sui&model=jina-embedding-b-en-v1"
huggingface: "https://huggingface.co/jinaai/jina-embedding-b-en-v1"
aws: "https://aws.amazon.com/marketplace/seller-profile/vendor/jinaai"
deprecated_by:
  - jina-embeddings-v3
input_type:
  - text
output_type:
  - vector
related_models:
  - jina-embeddings-v2-base-en
  - jina-embeddings-v3
tags:
  - text-embedding
  - english
  - base-model
  - legacy
  - bert-based
  - production
availability:
  - huggingface
---

## Overview
Jina Embedding B v1 is a specialized text embedding model designed to transform English text into high-dimensional numerical representations while maintaining semantic meaning. The model addresses the critical need for efficient and accurate text embeddings in production environments, particularly valuable for organizations requiring a balance between computational efficiency and embedding quality. With its 110M parameters generating 768-dimensional embeddings, it serves as a practical solution for teams implementing semantic search, document clustering, or content recommendation systems without requiring extensive computational resources.

## Methods
The model employs a T5 encoder-based architecture enhanced with mean pooling to generate fixed-length representations. Trained on the carefully curated Linnaeus-Clean dataset, which contains 385 million high-quality sentence pairs filtered down from an initial 1.6 billion pairs, the model underwent a two-phase training process. The first phase utilized contrastive learning with InfoNCE loss on text pairs, while the second phase incorporated triplet training to refine the model's ability to distinguish between similar and dissimilar content. This innovative training approach, combined with rigorous data filtering including language detection and consistency checking, enables the model to capture nuanced semantic relationships effectively.

## Performance
In real-world evaluations, Jina Embedding B v1 demonstrates impressive capabilities, particularly in semantic textual similarity tasks. The model achieves state-of-the-art performance on STS12 with a score of 0.751, surpassing established models like all-mpnet-base-v2 and all-minilm-l6-v2. It shows strong performance across various benchmarks while maintaining efficient inference times. However, users should note that the model is specifically optimized for English language content and may not perform optimally on multilingual or code-specific tasks. The model has since been superseded by jina-embeddings-v2-base-en and jina-embeddings-v3, which offer enhanced performance across a broader range of use cases.

## Guidance
For optimal deployment, the model requires a CUDA-capable GPU, though its moderate size allows for efficient inference on standard hardware. The model accepts input sequences up to 512 tokens in length and is particularly well-suited for production environments where consistent, reliable embedding generation is crucial. It performs best on English language content and is ideal for applications like semantic search, document similarity comparison, and content recommendation systems. Teams should consider using the newer v2 or v3 versions for new projects, as they offer improved performance and broader language support. The model is not recommended for tasks requiring multilingual understanding or specialized domain knowledge outside of general English text.
`,Ib=`---
model_name: "jina-embeddings-v2-base-code"
model_version: "v2"
model_type: "text-embeddings"
organization: "Jina AI"
license: "Apache-2.0"
parameter_size: "137M"
language:
    - en
input_type:
  - text (code)
output_type:
  - vector
token_length: 8192
output_dimension: 768
release_date: "2024-02-05"
device: "cuda"
api_link: "/?sui&model=jina-embeddings-v2-base-code"
aws: "arn:aws:sagemaker:us-east-1:253352124568:model-package/jina-embeddings-v2-base-code"
release_blog: "/news/elevate-your-code-search-with-new-jina-code-embeddings"
related_models:
  - jina-embeddings-v2-base-en
tags:
  - code-embeddings
  - programming-languages
  - semantic-code-search
  - code-similarity
  - long-context
  - text-embeddings
  - multilingual-code
  - docstring-search
endpoints:
  - embedding
  - fine-tuning
availability:
  - api
  - huggingface
  - aws
  - azure
---

## Overview

Jina Embeddings v2 Base Code tackles a critical challenge in modern software development: efficiently navigating and understanding large codebases. For development teams struggling with code discovery and documentation, this model transforms how developers interact with code by enabling natural language search across 30 programming languages. Unlike traditional code search tools that rely on exact pattern matching, this model understands the semantic meaning behind code, allowing developers to find relevant code snippets using plain English descriptions. This capability is particularly valuable for teams maintaining large legacy codebases, developers onboarding to new projects, or organizations looking to improve code reuse and documentation practices.

## Methods

The model achieves its impressive performance through a specialized architecture designed specifically for code understanding. At its core, it uses a transformer-based neural network with 161 million parameters, trained on diverse programming language datasets with emphasis on six major languages: Python, JavaScript, Java, PHP, Go, and Ruby. What makes this architecture unique is its extended context window of 8,192 tokens, allowing it to process entire functions or multiple files at once while maintaining semantic understanding. The model generates dense 768-dimensional embeddings that capture both the syntactic structure and semantic meaning of code, enabling it to understand relationships between different code segments even when they use different programming patterns or syntax to achieve the same goal.

## Performance

In real-world testing, Jina Embeddings v2 Base Code demonstrates exceptional capabilities, leading the field in nine out of fifteen crucial CodeNetSearch benchmarks. When compared to models from industry giants like Microsoft and Salesforce, it achieves superior performance while maintaining a more efficient footprint. The model particularly excels in cross-language code understanding, successfully matching functionally equivalent code snippets across different programming languages. Its 8,192 token context window proves particularly valuable for large functions and complex code files, significantly outperforming traditional models that typically handle only a few hundred tokens. The model's efficiency is evident in its compact size of 307MB (unquantized), enabling fast inference while maintaining high accuracy in code similarity and search tasks.

## Guidance

To effectively deploy Jina Embeddings v2 Base Code, teams should consider several practical aspects. The model integrates seamlessly with popular vector databases like MongoDB, Qdrant, and Weaviate, making it easy to build scalable code search systems. For optimal performance, implement proper code preprocessing to handle the 8,192 token limit, which typically accommodates most function and class definitions. While the model supports 30 programming languages, it shows strongest performance in the six core languages: Python, JavaScript, Java, PHP, Go, and Ruby. Teams should consider using batch processing for large-scale code indexing to optimize performance. The model's RAG compatibility makes it particularly effective for automated documentation generation and code understanding tasks, though teams should implement appropriate chunking strategies for very large codebases. For production deployments, consider using the AWS SageMaker endpoint for managed inference, and implement appropriate caching strategies to optimize query performance.
`,Ab=`---
model_name: "jina-embeddings-v2-base-de"
model_version: "v2"
model_type: "text-embeddings"
organization: "Jina AI"
license: "Apache-2.0"
parameter_size: "161M"
language:
  - en
  - de
token_length: 8192
output_dimension: 768
release_date: "2024-01-15"
device: "cuda"
api_link: "/?sui&model=jina-embeddings-v2-base-de"
aws: "https://aws.amazon.com/marketplace/seller-profile/vendor/jinaai"
huggingface: "https://huggingface.co/jinaai/jina-embeddings-v2-base-de"
arxiv: "https://arxiv.org/abs/2310.19923"
release_blog: "/news/ich-bin-ein-berliner-german-english-bilingual-embeddings-with-8k-token-length"
related_models:
  - jina-embeddings-v2-base-en
deprecated_by:
  - jina-embeddings-v3
tags:
  - german-language
  - text-embedding
  - monolingual
  - large-context
  - production
  - semantic-search
  - document-retrieval
  - fine-tunable
endpoints:
  - embedding
  - fine-tuning
availability:
  - api
  - huggingface
  - aws
  - azure
input_type:
  - text
output_type:
  - vector
---

## Overview

Jina Embeddings v2 Base German addresses a critical challenge in international business: bridging the language gap between German and English markets. For German companies expanding into English-speaking territories, where a third of businesses generate over 20% of their global sales, accurate bilingual understanding is essential. This model transforms how organizations handle cross-language content by enabling seamless text understanding and retrieval in both German and English, making it invaluable for companies implementing international documentation systems, customer support platforms, or content management solutions. Unlike traditional translation-based approaches, this model directly maps equivalent meanings in both languages to the same embedding space, enabling more accurate and efficient bilingual operations.

## Methods

The model achieves its impressive bilingual capabilities through an innovative architecture that processes both German and English text within a unified 768-dimensional embedding space. At its core, it employs a transformer-based neural network with 161 million parameters, carefully trained to understand semantic relationships across both languages. What makes this architecture particularly effective is its bias minimization approach, specifically designed to avoid the common pitfall of favoring English grammatical structures - a problem identified in recent research with multilingual models. The model's extended context window of 8,192 tokens allows it to process entire documents or multiple pages of text in a single pass, maintaining semantic coherence across long-form content in both languages.

## Performance

In real-world testing, Jina Embeddings v2 Base German demonstrates exceptional efficiency and accuracy, particularly in cross-language retrieval tasks. The model outperforms Microsoft's E5 base model while being less than a third of its size, and matches the performance of E5 large despite being seven times smaller. Across key benchmarks, including WikiCLIR for English-to-German retrieval, STS17 and STS22 for bidirectional language understanding, and BUCC for precise bilingual text alignment, the model consistently demonstrates superior capabilities. Its compact size of 322MB enables deployment on standard hardware while maintaining state-of-the-art performance, making it particularly efficient for production environments where computational resources are a consideration.

## Guidance

To effectively deploy Jina Embeddings v2 Base German, organizations should consider several practical aspects. The model integrates seamlessly with popular vector databases like MongoDB, Qdrant, and Weaviate, making it straightforward to build scalable bilingual search systems. For optimal performance, implement proper text preprocessing to handle the 8,192 token limit effectively - this typically accommodates about 15-20 pages of text. While the model excels at both German and English content, it's particularly effective when used for cross-language retrieval tasks where query and document languages may differ. Organizations should consider implementing caching strategies for frequently accessed content and use batch processing for large-scale document indexing. The model's AWS SageMaker integration provides a reliable path to production deployment, though teams should monitor token usage and implement appropriate rate limiting for high-traffic applications. When using the model for RAG applications, consider implementing language detection to optimize prompt construction based on the input language.
`,Nb=`---
model_name: "jina-embeddings-v2-base-en"
model_version: "v2"
model_type: "text-embeddings"
organization: "Jina AI"
license: "Apache-2.0"
parameter_size: "137M"
language:
  - en
input_type:
  - text
output_type:
  - vector
token_length: 8192
output_dimension: 768
release_date: "2023-10-28"
device: "cuda"
api_link: "/?sui&model=jina-embeddings-v2-base-en"
aws: "https://aws.amazon.com/marketplace/pp/prodview-6h6n4oqbh4wnm"
huggingface: "https://huggingface.co/jinaai/jina-embeddings-v2-base-en"
arxiv: "https://arxiv.org/abs/2310.19923"
release_blog: "/news/jina-ai-launches-worlds-first-open-source-8k-text-embedding-rivaling-openai"
related_models:
  - jina-embedding-b-en-v1
  - jina-embeddings-v3
deprecated_by:
  - jina-embeddings-v3
tags:
  - text-embeddings
  - english
  - long-context
  - production-ready
  - multi-task-learning
  - semantic-search
  - document-retrieval
  - high-performance
  - bert-based
  - fine-tunable
  - rag-optimized
  - 8k-context
endpoints:
  - embedding
  - fine-tuning
availability:
  - api
  - huggingface
  - aws
  - azure
---

## Overview

Jina Embeddings v2 Base English is a groundbreaking open-source text embedding model that solves the critical challenge of processing long documents while maintaining high accuracy. Organizations struggling with analyzing extensive legal documents, research papers, or financial reports will find this model particularly valuable. It stands out by handling documents up to 8,192 tokens in length—16 times longer than traditional models—while matching the performance of OpenAI's proprietary solutions. With a compact size of 0.27GB and efficient resource usage, it offers an accessible solution for teams seeking to implement advanced document analysis without excessive computational overhead.

## Methods

The model's architecture combines a BERT Small backbone with an innovative symmetric bidirectional ALiBi (Attention with Linear Biases) mechanism, eliminating the need for traditional positional embeddings. This architectural choice enables the model to extrapolate far beyond its training length of 512 tokens, handling sequences up to 8,192 tokens without performance degradation. The training process involved two key phases: initial pretraining on the C4 dataset, followed by refinement on Jina AI's curated collection of over 40 specialized datasets. This diverse training data, including challenging negative examples and varied sentence pairs, ensures robust performance across different domains and use cases. The model produces 768-dimensional dense vectors that capture nuanced semantic relationships, achieved with a relatively modest 137M parameters.

## Performance

In real-world testing, Jina Embeddings v2 Base English demonstrates exceptional capabilities across multiple benchmarks. It outperforms OpenAI's text-embedding-ada-002 in several key metrics: classification (73.45% vs 70.93%), reranking (85.38% vs 84.89%), retrieval (56.98% vs 56.32%), and summarization (31.6% vs 30.8%). These numbers translate to practical advantages in tasks like document classification, where the model shows superior ability to categorize complex texts, and in search applications, where it better understands user queries and finds relevant documents. However, users should note that performance may vary when dealing with highly specialized domain-specific content not represented in the training data.

## Guidance


To effectively deploy Jina Embeddings v2 Base English, teams should consider several practical aspects. The model requires CUDA-capable hardware for optimal performance, though its efficient architecture means it can run on consumer-grade GPUs. It's available through multiple channels: direct download from Hugging Face, AWS Marketplace deployment, or the Jina AI API with 1M free tokens. For production deployments, AWS SageMaker in the us-east-1 region offers the most scalable solution. The model excels at general-purpose text analysis but may not be the best choice for highly specialized scientific terminology or domain-specific jargon without fine-tuning. When processing long documents, consider breaking them into meaningful semantic chunks rather than arbitrary splits to maintain context integrity. For optimal results, implement proper text preprocessing and ensure clean, well-formatted input data.
`,zb=`---
model_name: "jina-embeddings-v2-base-es"
model_version: "v2"
model_type: "text-embeddings"
organization: "Jina AI"
license: "Apache-2.0"
parameter_size: "161M"
language:
  - en
  - es
input_type:
  - text
output_type:
  - vector
token_length: 8192
output_dimension: 768
release_date: "2024-02-14"
device: "cuda"
huggingface: "https://huggingface.co/jinaai/jina-embeddings-v2-base-es"
aws: "https://aws.amazon.com/marketplace/seller-profile/vendor/jinaai"
arxiv: "https://arxiv.org/abs/2310.19923"
api_link: "/?sui&model=jina-embeddings-v2-base-es"
release_blog: "/news/aqui-se-habla-espanol-top-quality-spanish-english-embeddings-and-8k-context"
related_models:
  - jina-embeddings-v2-base-en
  - jina-embeddings-v2-base-de
  - jina-embeddings-v2-base-zh
deprecated_by:
  - jina-embeddings-v3
tags:
  - spanish
  - bilingual
  - long-context
  - 8k-context
  - bert-based
  - production-ready
  - semantic-search
  - cross-lingual
  - text-embeddings
  - fine-tunable
endpoints:
  - embedding
  - fine-tuning
availability:
  - api
  - huggingface
  - aws
  - azure
---

## Overview

Jina Embeddings v2 Base Spanish is a groundbreaking bilingual text embedding model that addresses the critical challenge of cross-lingual information retrieval and analysis between Spanish and English content. Unlike traditional multilingual models that often show bias towards specific languages, this model delivers truly balanced performance across both Spanish and English, making it indispensable for organizations operating in Spanish-speaking markets or handling bilingual content. The model's most remarkable feature is its ability to generate geometrically aligned embeddings - when texts in Spanish and English express the same meaning, their vector representations naturally cluster together in the embedding space, enabling seamless cross-language search and analysis.

## Methods

At the heart of this model lies an innovative architecture based on symmetric bidirectional ALiBi (Attention with Linear Biases), a sophisticated approach that enables processing of sequences up to 8,192 tokens without traditional positional embeddings. The model utilizes a modified BERT architecture with 161M parameters, incorporating Gated Linear Units (GLU) and specialized layer normalization techniques. Training follows a three-stage process: initial pre-training on a massive text corpus, followed by fine-tuning with carefully curated text pairs, and finally, hard-negative training to enhance discrimination between similar but semantically distinct content. This approach, combined with 768-dimensional embeddings, allows the model to capture nuanced semantic relationships while maintaining computational efficiency.

## Performance

In comprehensive benchmark evaluations, the model demonstrates exceptional capabilities, particularly in cross-language retrieval tasks where it outperforms significantly larger multilingual models like E5 and BGE-M3 despite being only 15-30% of their size. The model achieves superior performance in retrieval and clustering tasks, showing particular strength in matching semantically equivalent content across languages. When tested on the MTEB benchmark, it exhibits robust performance across various tasks including classification, clustering, and semantic similarity. The extended context window of 8,192 tokens proves especially valuable for long-document processing, showing consistent performance even with documents spanning multiple pages - a capability most competing models lack.

## Guidance

To effectively utilize this model, organizations should ensure access to CUDA-capable GPU infrastructure for optimal performance. The model integrates seamlessly with major vector databases and RAG frameworks including MongoDB, Qdrant, Weaviate, and Haystack, making it readily deployable in production environments. It excels in applications such as bilingual document search, content recommendation systems, and cross-language document analysis. While the model shows impressive versatility, it's particularly optimized for Spanish-English bilingual scenarios and may not be the best choice for monolingual applications or scenarios involving other language pairs. For optimal results, input texts should be properly formatted in either Spanish or English, though the model handles mixed-language content effectively. The model supports fine-tuning for domain-specific applications, but this should be approached with careful consideration of the training data quality and distribution.
`,Pb=`---
model_name: "jina-embeddings-v2-base-zh"
model_version: "v2"
model_type: "text-embeddings"
organization: "Jina AI"
license: "Apache-2.0"
parameter_size: "161M"
language:
  - en
  - zh
input_type:
  - text
output_type:
  - vector
token_length: 8192
output_dimension: 768
release_date: "2024-01-09"
device: "cuda"
api_link: "/?sui&model=jina-embeddings-v2-base-zh"
huggingface: "https://huggingface.co/jinaai/jina-embeddings-v2-base-zh"
aws: "https://aws.amazon.com/marketplace/seller-profile/vendor/jinaai"
arxiv: "https://arxiv.org/abs/2310.19923"
release_blog: "/news/8k-token-length-bilingual-embeddings-break-language-barriers-in-chinese-and-english"
related_models:
  - jina-embeddings-v2-base-en
  - jina-embeddings-v3
deprecated_by:
  - jina-embeddings-v3
tags:
  - text-embedding
  - chinese
  - multilingual
  - base-model
  - production
  - long-context
  - high-dimension
endpoints:
  - embedding
  - fine-tuning
availability:
  - api
  - huggingface
  - aws
  - azure
---

## Overview

Jina Embeddings v2 Base Chinese breaks new ground as the first open-source model to seamlessly handle both Chinese and English text with an unprecedented 8,192 token context length. This bilingual powerhouse addresses a critical challenge in global business: the need for accurate, long-form document processing across Chinese and English content. Unlike traditional models that struggle with cross-lingual understanding or require separate models for each language, this model maps equivalent meanings in both languages to the same embedding space, making it invaluable for organizations expanding globally or managing multilingual content.

## Methods

The model's architecture combines a BERT-based backbone with symmetric bidirectional ALiBi (Attention with Linear Biases), enabling efficient processing of long sequences without the traditional 512-token limitation. The training process follows a carefully orchestrated three-phase approach: initial pre-training on high-quality bilingual data, followed by primary and secondary fine-tuning stages. This methodical training strategy, coupled with the model's 161M parameters and 768-dimensional output, achieves remarkable efficiency while maintaining balanced performance across both languages. The symmetric bidirectional ALiBi mechanism represents a significant innovation, allowing the model to handle documents up to 8,192 tokens in length—a capability previously limited to proprietary solutions.

## Performance

In benchmarks on the Chinese MTEB (C-MTEB) leaderboard, the model demonstrates exceptional performance among models under 0.5GB, particularly excelling in Chinese language tasks. It significantly outperforms OpenAI's text-embedding-ada-002 in Chinese-specific applications while maintaining competitive performance in English tasks. A notable improvement in this release is the refined similarity score distribution, addressing the score inflation issues present in the preview version. The model now provides more distinct and logical similarity scores, ensuring more accurate representation of semantic relationships between texts. This enhancement is particularly evident in comparative tests, where the model shows superior discrimination between related and unrelated content in both languages.

## Guidance


The model requires 322MB of storage and can be deployed through multiple channels including AWS SageMaker (us-east-1 region) and the Jina AI API. While GPU acceleration isn't mandatory, it can significantly improve processing speed for production workloads. The model excels in various applications including document analysis, multilingual search, and cross-lingual information retrieval, but users should note that it's specifically optimized for Chinese-English bilingual scenarios. For optimal results, input text should be properly segmented, and while the model can handle up to 8,192 tokens, breaking extremely long documents into semantically meaningful chunks is recommended for better performance. The model may not be suitable for tasks requiring real-time processing of very short texts where lower-latency, specialized models might be more appropriate.
`,Ob=`---
model_name: "jina-embeddings-v3"
model_version: "v3"
model_type: "text-embeddings"
organization: "Jina AI"
license: "CC-BY-NC-4.0"
parameter_size: "570M"
language:
  - multilingual
input_type:
  - text
output_type:
  - vector
token_length: 8192
output_dimension: 1024
release_date: "2024-09-18"
device: "cuda"
api_link: "/?sui&model=jina-embeddings-v3"
huggingface: "https://huggingface.co/jinaai/jina-embeddings-v3"
arxiv: "https://arxiv.org/abs/2409.10173"
aws: "arn:aws:sagemaker:us-east-1:253352124568:model-package/jina-embeddings-v3"
azure: ""
gcp: ""
release_blog: "/news/jina-embeddings-v3-a-frontier-multilingual-embedding-model"
related_models:
  - jina-embeddings-v2-base-en
  - jina-embeddings-v2-base-zh
  - jina-embeddings-v2-base-de
  - jina-embeddings-v2-base-es
  - jina-embeddings-v2-base-code
tags:
  - text-embedding
  - multilingual
  - high-dimension
  - long-context
  - production
  - base-model
  - matryoshka
  - lora-adapters
endpoints:
  - embedding
  - fine-tuning
  - train
  - classify
  - late_chunking
availability:
  - api
  - license
  - huggingface
  - aws
  - azure
  - gcp
---

## Overview

Jina Embeddings v3 is a groundbreaking multilingual text embedding model that transforms how organizations handle text understanding and retrieval across languages. At its core, it solves the critical challenge of maintaining high performance across multiple languages and tasks while keeping computational requirements manageable. The model particularly shines in production environments where efficiency matters - it achieves state-of-the-art performance with just 570M parameters, making it accessible for teams that can't afford the computational overhead of larger models. Organizations needing to build scalable, multilingual search systems or analyze content across language barriers will find this model especially valuable.

## Methods

The model's architecture represents a significant innovation in embedding technology, built on a foundation of jina-XLM-RoBERTa with 24 layers and enhanced with task-specific Low-Rank Adaptation (LoRA) adapters. LoRA adapters are specialized neural network components that optimize the model for different tasks like retrieval, classification, or clustering without increasing the parameter count significantly - they add less than 3% to the total parameters. The model incorporates Matryoshka Representation Learning (MRL), allowing embeddings to be flexibly reduced from 1024 to as low as 32 dimensions while preserving performance. Training involved a three-stage process: initial pre-training on multilingual text from 89 languages, fine-tuning on paired texts for embedding quality, and specialized adapter training for task optimization. The model supports context lengths up to 8,192 tokens through Rotary Position Embeddings (RoPE), with an innovative base frequency adjustment technique that improves performance on both short and long texts.

## Performance

The model demonstrates exceptional efficiency-to-performance ratio in real-world testing, outperforming both open-source alternatives and proprietary solutions from OpenAI and Cohere on English tasks while excelling in multilingual scenarios. Most surprisingly, it achieves better results than e5-mistral-7b-instruct, which has 12 times more parameters, highlighting its remarkable efficiency. In MTEB benchmark evaluations, it achieves an average score of 65.52 across all tasks, with particularly strong performance in Classification Accuracy (82.58) and Sentence Similarity (85.80). The model maintains consistent performance across languages, scoring 64.44 on multilingual tasks. When using MRL for dimension reduction, it retains strong performance even at lower dimensions - for example, maintaining 92% of its retrieval performance at 64 dimensions compared to the full 1024 dimensions.

## Guidance

To effectively deploy Jina Embeddings v3, teams should consider their specific use case to select the appropriate task adapter: retrieval.query and retrieval.passage for search applications, separation for clustering tasks, classification for categorization, and text-matching for semantic similarity. The model requires CUDA-capable hardware for optimal performance, though its efficient architecture means it needs significantly less GPU memory than larger alternatives. For production deployment, AWS SageMaker integration provides a streamlined path to scalability. The model excels in multilingual applications but may require additional evaluation for low-resource languages. While it supports long documents up to 8,192 tokens, optimal performance is achieved with the late chunking feature for very long texts. Teams should avoid using the model for tasks requiring real-time generation or complex reasoning - it's designed for embedding and retrieval, not text generation or direct question answering.
`,Rb=`---
model_name: "jina-reranker-v1-base-en"
model_version: "v1"
model_type: "reranker"
organization: "Jina AI"
huggingface: "https://huggingface.co/jina-ai/jina-reranker-v1-base-en"
release_blog: "/news/maximizing-search-relevancy-and-rag-accuracy-with-jina-reranker"
api_link: "/?sui&model=jina-reranker-v1-base-en"
aws: "https://aws.amazon.com/marketplace/pp/prodview-6dmufr42yb2hi"
license: "Apache-2.0"
parameter_size: "137M"
release_date: "2024-02-29"
input_type:
  - text (query)
  - text (document)
output_type:
  - ranking
language:
  - en
token_length: 8192
device: "cuda"
related_models:
  - jina-reranker-v1-turbo-en
  - jina-reranker-v1-tiny-en
deprecated_by:
  - jina-reranker-v2-base-multilingual
tags:
  - reranker
  - english
  - base-model
  - high-precision
  - long-context
  - search-refinement
  - document-ranking
endpoints:
  - rank
availability:
  - api
  - huggingface
  - aws
  - azure
---

## Overview

Jina Reranker v1 Base English revolutionizes search result refinement by addressing a critical limitation in traditional vector search systems: the inability to capture nuanced relationships between queries and documents. While vector search with cosine similarity provides fast initial results, it often misses subtle relevance signals that human users intuitively understand. This reranker bridges that gap by performing sophisticated token-level analysis of both queries and documents, delivering a remarkable 20% improvement in search accuracy. For organizations struggling with search precision or implementing RAG systems, this model offers a powerful solution that significantly improves result quality without requiring a complete overhaul of existing search infrastructure.

## Methods

The model employs a BERT-based cross-attention architecture that fundamentally differs from traditional embedding-based approaches. Instead of comparing pre-computed document embeddings, it performs dynamic token-level interactions between queries and documents, enabling it to capture contextual nuances that simple similarity metrics miss. The architecture's 137M parameters are carefully structured to enable deep semantic understanding while maintaining computational efficiency. A standout innovation is its ability to handle sequences up to 262,144 tokens—far beyond typical model limitations—achieved through sophisticated optimization techniques that maintain fast inference speeds despite the increased context window.

## Performance


In comprehensive benchmarks, the model demonstrates exceptional improvements across key metrics, achieving an 8% increase in hit rate and a 33% boost in mean reciprocal rank compared to baseline vector search. On the BEIR benchmark, it achieves an average score of 0.5588, outperforming other rerankers from BGE (0.5032), BCE (0.4969), and Cohere (0.5141). Particularly impressive is its performance on the LoCo benchmark, where it scores 0.873 on average, significantly ahead of competitors in understanding local coherence and context-aware ranking. The model shows particular strength in technical content evaluation, achieving scores of 0.996 on qasper_abstract tasks and 0.962 on government report analysis, though it shows relatively lower performance (0.466) on meeting summarization tasks.

## Guidance

The model requires CUDA-capable hardware for optimal performance and is accessible through both API endpoints and AWS SageMaker deployment options. While it can process extremely long sequences, users should consider the trade-off between context length and processing time—the model's latency increases notably with longer documents, from 156ms for 256 tokens to 7068ms for 4096 tokens with a 512-token query. For production deployments, it's recommended to implement a two-stage pipeline where vector search provides initial candidates for reranking. The model is specifically optimized for English content and may not perform optimally on multilingual or code-heavy documents. When integrating with RAG systems, users should carefully tune the number of documents sent for reranking based on their latency requirements, with 100-200 documents typically providing a good balance between quality and performance.
`,Db=`---
model_name: "jina-reranker-v1-tiny-en"
model_version: "v1"
model_type: "reranker"
organization: "Jina AI"
license: "Apache-2.0"
parameter_size: "33M"
language:
  - en
token_length: 8192
device: "cuda"
input_type:
  - text (query)
  - text (document)
output_type:
  - ranking
release_date: "2024-04-18"
huggingface: "https://huggingface.co/jinaai/jina-reranker-v1-tiny-en"
aws: "https://aws.amazon.com/marketplace/seller-profile/vendor/jinaai"
api_link: "/?sui&model=jina-reranker-v1-tiny-en"
release_blog: "/news/smaller-faster-cheaper-jina-rerankers-turbo-and-tiny"
related_models:
  - jina-reranker-v1-base-en
  - jina-reranker-v1-turbo-en
deprecated_by:
  - jina-reranker-v2-base-multilingual
tags:
  - reranker
  - english
  - long-context
  - memory-efficient
  - high-throughput
  - edge-optimized
  - bert-based
  - production-ready
  - lightweight
  - fast-inference
endpoints:
  - rank
availability:
  - api
  - huggingface
  - aws
  - azure
---

## Overview

Jina Reranker v1 Tiny English represents a breakthrough in efficient search refinement, designed specifically for organizations requiring high-performance reranking in resource-constrained environments. This model addresses the critical challenge of maintaining search quality while significantly reducing computational overhead and deployment costs. With just 33M parameters - a fraction of typical reranker sizes - it delivers remarkably competitive performance through innovative knowledge distillation techniques. The model's most surprising feature is its ability to process documents nearly five times faster than base models while maintaining over 92% of their accuracy, making enterprise-grade search refinement accessible to applications where computational resources are at a premium.

## Methods

The model employs a streamlined four-layer architecture based on JinaBERT with symmetric bidirectional ALiBi (Attention with Linear Biases), enabling efficient processing of long sequences. Its development leverages an advanced knowledge distillation approach where a larger, high-performance teacher model (jina-reranker-v1-base-en) guides the training process, allowing the smaller model to learn optimal ranking behaviors without requiring extensive real-world training data. This innovative training methodology, combined with architectural optimizations like reduced hidden layers and efficient attention mechanisms, enables the model to maintain high-quality rankings while significantly reducing computational requirements. The result is a model that achieves remarkable efficiency without compromising its ability to understand complex document relationships.

## Performance

In comprehensive benchmark evaluations, the model demonstrates exceptional capabilities that challenge the conventional trade-off between size and performance. On the BEIR benchmark, it achieves an NDCG@10 score of 48.54, retaining 92.5% of the base model's performance while being just a quarter of its size. Even more impressively, in LlamaIndex RAG benchmarks, it maintains an 83.16% hit rate, nearly matching larger models while processing documents significantly faster. The model particularly excels in throughput, processing documents almost five times faster than the base model while using 13% less memory than even the turbo variant. These metrics translate to real-world performance that rivals or exceeds much larger models like mxbai-rerank-base-v1 (184M parameters) and bge-reranker-base (278M parameters).

## Guidance

To effectively deploy this model, organizations should prioritize scenarios where processing speed and resource efficiency are critical considerations. The model is particularly well-suited for edge computing deployments, mobile applications, and high-throughput search systems where latency requirements are strict. While it performs exceptionally well across most reranking tasks, it's important to note that for applications requiring the absolute highest level of ranking precision, the base model might still be preferable. The model requires CUDA-capable GPU infrastructure for optimal performance, though its efficient architecture means it can run effectively on less powerful hardware than its larger counterparts. For deployment, the model integrates seamlessly with major vector databases and RAG frameworks, and it's available through both the Reranker API and AWS SageMaker. When fine-tuning for specific domains, users should carefully balance the training data quality with the model's compact architecture to maintain its performance characteristics.
`,Bb=`---
model_name: "jina-reranker-v1-turbo-en"
model_version: "v1"
model_type: "reranker"
organization: "Jina AI"
license: "Apache-2.0"
parameter_size: "37.8M"
language:
  - en
token_length: 8192
device: "cuda"
input_type:
  - text (query)
  - text (document)
output_type:
  - ranking
release_date: "2024-04-18"
huggingface: "https://huggingface.co/jinaai/jina-reranker-v1-turbo-en"
aws: "https://aws.amazon.com/marketplace/seller-profile/vendor/jinaai"
api_link: "/?sui&model=jina-reranker-v1-turbo-en"
release_blog: "/news/smaller-faster-cheaper-jina-rerankers-turbo-and-tiny"
related_models:
  - jina-reranker-v1-base-en
  - jina-reranker-v1-tiny-en
deprecated_by:
  - jina-reranker-v2-base-multilingual
tags:
  - high-speed
  - memory-efficient
  - english
  - production-ready
  - reranker
  - rag-optimized
  - high-performance
  - cost-effective
endpoints:
  - rank
availability:
  - api
  - huggingface
  - aws
  - azure
---

## Overview

Jina Reranker v1 Turbo English addresses a critical challenge in production search systems: the trade-off between result quality and computational efficiency. While traditional rerankers offer improved search accuracy, their computational demands often make them impractical for real-time applications. This model breaks that barrier by delivering 95% of the base model's accuracy while processing documents three times faster and using 75% less memory. For organizations struggling with search latency or computational costs, this model offers a compelling solution that maintains high-quality search refinement while significantly reducing infrastructure requirements and operational costs.

## Methods

The model achieves its efficiency through an innovative six-layer architecture that compresses the sophisticated reranking capabilities of its larger counterpart into just 37.8 million parameters—a dramatic reduction from the base model's 137 million. This streamlined design employs knowledge distillation, where the larger base model acts as a teacher, training the turbo variant to match its behavior while using fewer resources. The architecture maintains the core BERT-based cross-attention mechanism for token-level interactions between queries and documents, but optimizes it for speed through reduced layer count and efficient parameter allocation. The model supports sequences up to 8,192 tokens, enabling comprehensive document analysis while maintaining fast inference speeds through sophisticated optimization techniques.

## Performance


In comprehensive benchmarks, the turbo variant demonstrates remarkable efficiency without significant accuracy trade-offs. On the BEIR benchmark, it achieves an NDCC@10 score of 49.60, retaining 95% of the base model's performance (52.45) while outperforming many larger competitors like bge-reranker-base (47.89, 278M parameters). In RAG applications, it maintains an impressive 83.51% hit rate and 0.6498 MRR, showing particular strength in practical retrieval tasks. The model's speed improvements are even more striking—it processes documents three times faster than the base model, with throughput scaling nearly linearly with reduced parameter count. However, users should note slightly lower performance on extremely nuanced ranking tasks where the full parameter count of larger models provides marginal advantages.

## Guidance

The model requires CUDA-capable hardware for optimal performance and can be deployed through AWS SageMaker or accessed via API endpoints. For production deployments, organizations should implement a two-stage pipeline where vector search provides initial candidates for reranking. While the model supports 8,192 tokens, users should consider the latency impact of longer sequences—processing time increases with document length. The sweet spot for most applications is reranking 100-200 candidates per query, which balances quality and speed. The model is specifically optimized for English content and may not perform optimally on multilingual documents. Memory requirements are significantly lower than the base model, typically requiring only 150MB of GPU memory compared to 550MB, making it suitable for deployment on smaller instances and enabling significant cost savings in cloud environments.
`,Lb=`---
model_name: "jina-reranker-v2-base-multilingual"
model_version: "v2"
model_type: "reranker"
organization: "Jina AI"
license: "CC-BY-NC-4.0"
parameter_size: "278M"
language:
  - multilingual
token_length: 524288
device: "cuda"
input_type:
  - text (query)
  - text (document)
output_type:
  - ranking
release_date: "2024-06-25"
huggingface: "https://huggingface.co/jinaai/jina-reranker-v2-base-multilingual"
aws: "https://aws.amazon.com/marketplace/seller-profile/vendor/jinaai"
api_link: "/?sui&model=jina-reranker-v2-base-multilingual"
release_blog: "/news/jina-reranker-v2-for-agentic-rag-ultra-fast-multilingual-function-calling-and-code-search"
related_models:
  - jina-reranker-v1-base-en
  - jina-reranker-v1-turbo-en
  - jina-reranker-v1-tiny-en
tags:
  - multilingual
  - cross-lingual
  - function-calling
  - code-search
  - long-context
  - production-ready
  - reranker
  - rag-optimized
  - high-performance
  - 100-languages
endpoints:
  - rank
availability:
  - api
  - license
  - huggingface
  - aws
  - azure
  - gcp
---

## Overview
Jina Reranker v2 Base Multilingual is a cross-encoder model designed to enhance search accuracy across language barriers and data types. This reranker addresses the critical challenge of precise information retrieval in multilingual environments, particularly valuable for global enterprises needing to refine search results across different languages and content types. With support for over 100 languages and unique capabilities in function calling and code search, it serves as a unified solution for teams requiring accurate search refinement across international content, API documentation, and multilingual codebases. The model's compact 278M parameter design makes it particularly appealing for organizations seeking to balance high performance with resource efficiency.

## Methods
The model employs a cross-encoder architecture enhanced with Flash Attention 2, enabling direct comparison between queries and documents for more accurate relevance assessment. Trained through a four-stage process, the model first establishes English language capabilities, then progressively incorporates cross-lingual and multilingual data, before final refinement with hard-negative examples. This innovative training approach, combined with the Flash Attention 2 implementation, allows the model to process sequences up to 524,288 tokens while maintaining exceptional speed. The architecture's efficiency enables it to handle complex reranking tasks across multiple languages with 6x higher throughput compared to its predecessor, while ensuring accurate relevance assessment through direct query-document interaction.

## Performance
In real-world evaluations, the model demonstrates exceptional capabilities across diverse benchmarks. It achieves state-of-the-art performance on the AirBench leaderboard for RAG systems and shows strong results in multilingual tasks, including the MKQA dataset covering 26 languages. The model excels particularly in structured data tasks, achieving high recall scores in both function calling (ToolBench benchmark) and SQL schema matching (NSText2SQL benchmark). Most impressively, it delivers these results while processing documents 15 times faster than comparable models like bge-reranker-v2-m3, making it practical for real-time applications. However, users should note that optimal performance requires a CUDA-capable GPU for inference.

## Guidance
For optimal deployment, the model requires a CUDA-capable GPU and can be accessed through multiple channels including the Reranker API, major RAG frameworks like Haystack and LangChain, or deployed privately via cloud marketplaces. The model excels in scenarios requiring precise understanding across language barriers and data types, making it ideal for global enterprises working with multilingual content, API documentation, or code repositories. Its extensive context window of 524,288 tokens enables processing of large documents or entire codebases in a single pass. Teams should consider using this model when they need to enhance search accuracy across languages, require function calling capabilities for agentic RAG systems, or want to improve code search functionality across multilingual codebases. The model is particularly effective when used in conjunction with vector search systems, where it can significantly improve the final ranking of retrieved documents.
`,Hb=`---
model_name: "reader-lm-0.5b"
model_version: "v1"
model_type: "reader"
organization: "Jina AI"
license: "CC-BY-NC-4.0"
parameter_size: "494M"
language:
  - multilingual
token_length: 262144
device: "cuda"
input_type:
  - text (html)
output_type:
  - text (markdown)
api_link: "/?sui&model=reader-lm-0.5b"
huggingface: "https://huggingface.co/jinaai/reader-lm-0.5b"
aws: "https://aws.amazon.com/marketplace/seller-profile/vendor/jinaai"
release_blog: "/news/reader-lm-small-language-models-for-cleaning-and-converting-html-to-markdown"
related_models:
  - reader-lm-1.5b
release_date: "2024-08-11"
tags:
  - text-understanding
  - multilingual
  - document-processing
  - resource-efficient
  - long-context
  - base-model
  - language-model
endpoints:
  - read
availability:
  - license
  - huggingface
  - aws
  - azure
---

## Overview

Reader LM 0.5B is a specialized language model designed to solve the complex challenge of converting HTML documents into clean, structured markdown text. This model addresses a critical need in modern data processing pipelines: efficiently transforming messy web content into a format that's ideal for LLMs and documentation systems. Unlike general-purpose language models that require massive computational resources, Reader LM 0.5B achieves professional-grade HTML processing with just 494M parameters, making it accessible to teams with limited computing resources. Organizations dealing with web content processing, documentation automation, or building LLM-powered applications will find this model particularly valuable for streamlining their content preparation workflows.

## Methods

The model employs an innovative "shallow-but-wide" architecture specifically optimized for selective-copy operations rather than creative text generation. Built on a decoder-only foundation with 24 layers and 896 hidden dimensions, the model uses specialized attention mechanisms with 14 query heads and 2 key-value heads to efficiently process input sequences. The training process involved two distinct stages: first with shorter, simpler HTML (32K tokens) to learn basic conversion patterns, then with complex, real-world HTML (128K tokens) to handle challenging cases. The model incorporates contrastive search during training and implements a repetition detection mechanism to prevent degeneration issues like token loops. A unique aspect of its architecture is the zigzag-ring-attention mechanism, which enables the model to handle extremely long sequences up to 256K tokens while maintaining stable performance.

## Performance

In real-world testing, Reader LM 0.5B demonstrates impressive efficiency-to-performance ratios across multiple metrics. The model achieves a ROUGE-L score of 0.56, indicating strong content preservation, and maintains a low token error rate of 0.34, showing minimal hallucination. In qualitative evaluations across 22 diverse HTML sources including news articles, blog posts, and e-commerce pages in multiple languages, it shows particular strength in structure preservation and markdown syntax usage. The model excels at handling complex modern web pages where inline CSS and scripts can expand to hundreds of thousands of tokens - a scenario where traditional rule-based approaches often fail. However, it's important to note that while the model performs exceptionally well on straightforward HTML-to-markdown conversion tasks, it may require additional processing for highly dynamic or JavaScript-heavy pages.

## Guidance

To effectively deploy Reader LM 0.5B, teams should ensure their infrastructure can handle the model's CUDA requirements, though its efficient architecture means it can run on consumer-grade GPUs. The model works best with raw HTML input and doesn't require special prefixes or instructions. For optimal performance, implement the provided repetition detection mechanism to prevent potential token loops in output generation. While the model supports multiple languages and various HTML structures, it's specifically designed for content extraction and markdown conversion - it shouldn't be used for tasks like text generation, summarization, or direct question answering. The model is available through AWS SageMaker for production deployment, and a Google Colab notebook is provided for testing and experimentation. Teams should be aware that while the model can handle extremely long documents up to 256K tokens, processing such large inputs may require additional memory management strategies.
`,qb=`---
model_name: "reader-lm-1.5b"
model_version: "v1"
model_type: "reader"
organization: "Jina AI"
license: "CC-BY-NC-4.0"
parameter_size: "1.54B"
language:
  - multilingual
token_length: 262144
device: "cuda"
release_date: "2024-08-11"
api_link: "/?sui&model=reader-lm-1.5b"
huggingface: "https://huggingface.co/jinaai/reader-lm-1.5b"
aws: "https://aws.amazon.com/marketplace/seller-profile/vendor/jinaai"
release_blog: "/news/reader-lm-small-language-models-for-cleaning-and-converting-html-to-markdown"
input_type:
  - text (html)
output_type:
  - text (markdown)
related_models:
  - reader-lm-0.5b
tags:
  - reader
  - language-model
  - multilingual
  - document-processing
  - long-context
  - text-understanding
  - content-extraction
  - cross-lingual
endpoints:
  - read
availability:
  - license
  - huggingface
  - aws
  - azure
---

## Overview

Reader LM 1.5B represents a breakthrough in efficient document processing, addressing the critical challenge of converting complex web content into clean, structured formats. This specialized language model tackles a fundamental problem in modern AI pipelines: the need to efficiently process and clean HTML content for downstream tasks without relying on brittle rule-based systems or resource-intensive large language models. What makes this model truly remarkable is its ability to outperform models 50 times its size while maintaining a surprisingly compact 1.54B parameter footprint. Organizations dealing with large-scale web content processing, documentation automation, or content management systems will find this model particularly valuable for its ability to handle extremely long documents while delivering superior accuracy in HTML-to-markdown conversion.

## Methods

The model employs an innovative "shallow-but-wide" architecture that challenges traditional scaling approaches in language model design. At its core are 28 transformer layers configured with 12 query heads and 2 key-value heads, creating a unique balance that optimizes for selective-copy operations while maintaining deep semantic understanding. The architecture features a hidden size of 1536 and an intermediate size of 8960, carefully tuned to handle sequences up to 256K tokens. The training process involved two distinct stages: first focusing on short-and-simple HTML with 32K token sequences, then advancing to long-and-hard HTML with 128K tokens, implementing zigzag-ring-attention for efficient processing. This approach, combined with contrastive search and specialized repetition detection mechanisms, enables the model to avoid common issues like degeneration and dull loops that typically plague smaller language models handling complex document processing tasks.

## Performance


In comprehensive benchmark evaluations, Reader LM 1.5B demonstrates exceptional capabilities that challenge industry standards. The model achieves a ROUGE-L score of 0.72 and a Token Error Rate of 0.19, significantly outperforming larger models like GPT-4 (0.43 ROUGE-L, 0.50 TER) and Gemini-1.5-Pro (0.42 ROUGE-L, 0.48 TER) in HTML-to-markdown conversion tasks. Its performance particularly shines in qualitative evaluations across four key dimensions: header extraction, main content extraction, rich structure preservation, and markdown syntax usage. The model consistently maintains high accuracy across diverse document types, from news articles and blog posts to landing pages and forum posts, in multiple languages including English, German, Japanese, and Chinese. This performance is achieved while processing documents up to 256K tokens in length, eliminating the need for expensive chunking operations that are typically required with larger models.

## Guidance

To effectively deploy Reader LM 1.5B, organizations should focus on scenarios involving complex HTML document processing where accuracy and efficiency are paramount. The model requires CUDA-capable GPU infrastructure for optimal performance, though its efficient architecture means it can run effectively on more modest hardware compared to larger alternatives. For production deployments, the model is available through both AWS SageMaker and Azure Marketplace, offering flexible integration options. While the model excels at HTML-to-markdown conversion, it's important to note that it's specifically optimized for this task and may not be suitable for general-purpose text generation or other NLP tasks. When processing extremely long documents (approaching 512K tokens), users should be aware that performance might degrade as this exceeds the model's training parameters. For optimal results, implement the provided repetition detection mechanisms and consider using contrastive search during inference to maintain output quality.
`;function Fb(){const n=Pe([]),i=(r,o)=>{const[s,u,...l]=r.split("---"),d={};let f=null,m=!1,p=!1,_={};if(u.split(`
`).forEach(E=>{const O=E.trim();if(!(!O||O.startsWith("#"))){if(O.startsWith("- ")){const M=O.substring(2);p&&f==="metrics"?M.startsWith("name:")?(Object.keys(_).length>0&&(d.metrics=d.metrics||[]).push(_),_={name:M.substring(5).trim()}):M.startsWith("value:")&&(_.value=parseFloat(M.substring(6).trim())||M.substring(6).trim()):f&&(Array.isArray(d[f])||(d[f]=[]),d[f].push(M));return}if(O.includes(":")){const[M,...A]=O.split(":"),T=M.trim(),b=A.join(":").trim();f=T,m=b==="",p=T==="metrics",!m&&!p?d[T]=b.replace(/^["'](.*)["']$/,"$1"):m&&(d[T]=[])}}}),p&&Object.keys(_).length>0&&(d.metrics=d.metrics||[]).push(_),!d.model_name||!d.model_version||!d.model_type||!d.organization||!d.license||!d.tags)throw new Error(`Missing required metadata fields in model ${o}`);const k={model_name:d.model_name,model_version:d.model_version,model_type:d.model_type,organization:d.organization,license:d.license,token_length:d.token_length,image_size:d.image_size,tags:d.tags||[],input_type:d.input_type||[],output_type:d.output_type||[],architecture:d.architecture,parameter_size:d.parameter_size,training_data:d.training_data,input_format:d.input_format,output_dimension:d.output_dimension,language:d.language||[],metrics:d.metrics,quantization:d.quantization,intended_use:d.intended_use,limitations:d.limitations,ethical_considerations:d.ethical_considerations,hardware_requirements:d.hardware_requirements,api_type:d.api_type,api_link:d.api_link,aws:d.aws,release_blog:d.release_blog,deprecated_by:d.deprecated_by,related_models:d.related_models,arxiv:d.arxiv,huggingface:d.huggingface,endpoints:d.endpoints||[],release_date:d.release_date,availability:d.availability||[]};return{slug:o,name:k.model_name,metadata:k,content:l.join("---").trim()}};return gt(async()=>{try{const r=Object.assign({"../content/models/jina-clip-v1.md":Eb,"../content/models/jina-clip-v2.md":Sb,"../content/models/jina-colbert-v1-en.md":Mb,"../content/models/jina-colbert-v2.md":Tb,"../content/models/jina-embedding-b-en-v1.md":Cb,"../content/models/jina-embeddings-v2-base-code.md":Ib,"../content/models/jina-embeddings-v2-base-de.md":Ab,"../content/models/jina-embeddings-v2-base-en.md":Nb,"../content/models/jina-embeddings-v2-base-es.md":zb,"../content/models/jina-embeddings-v2-base-zh.md":Pb,"../content/models/jina-embeddings-v3.md":Ob,"../content/models/jina-reranker-v1-base-en.md":Rb,"../content/models/jina-reranker-v1-tiny-en.md":Db,"../content/models/jina-reranker-v1-turbo-en.md":Bb,"../content/models/jina-reranker-v2-base-multilingual.md":Lb,"../content/models/reader-lm-0.5b.md":Hb,"../content/models/reader-lm-1.5b.md":qb});n.value=Object.entries(r).map(([o,s])=>{var l;const u=((l=o.split("/").pop())==null?void 0:l.replace(".md",""))||"";return i(s,u)})}catch(r){console.error("Error loading model files:",r),n.value=[]}}),{models:n}}var Ro={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Ro.exports;(function(n,i){(function(){var r,o="4.17.21",s=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",d="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",m=500,p="__lodash_placeholder__",_=1,k=2,E=4,O=1,M=2,A=1,T=2,b=4,R=8,P=16,ee=32,le=64,oe=128,ce=256,ve=512,ie=30,C="...",be=800,ze=16,N=1,$=2,B=3,V=1/0,ne=9007199254740991,ae=17976931348623157e292,de=NaN,re=4294967295,Se=re-1,he=re>>>1,ue=[["ary",oe],["bind",A],["bindKey",T],["curry",R],["curryRight",P],["flip",ve],["partial",ee],["partialRight",le],["rearg",ce]],ge="[object Arguments]",He="[object Array]",De="[object AsyncFunction]",Re="[object Boolean]",K="[object Date]",q="[object DOMException]",H="[object Error]",X="[object Function]",Z="[object GeneratorFunction]",v="[object Map]",x="[object Number]",D="[object Null]",G="[object Object]",se="[object Promise]",ke="[object Proxy]",F="[object RegExp]",pe="[object Set]",xe="[object String]",$e="[object Symbol]",qe="[object Undefined]",Ze="[object WeakMap]",$n="[object WeakSet]",Rn="[object ArrayBuffer]",Dn="[object DataView]",Wn="[object Float32Array]",xt="[object Float64Array]",Xi="[object Int8Array]",ji="[object Int16Array]",oa="[object Int32Array]",aa="[object Uint8Array]",sa="[object Uint8ClampedArray]",la="[object Uint16Array]",ua="[object Uint32Array]",eh=/\b__p \+= '';/g,nh=/\b(__p \+=) '' \+/g,th=/(__e\(.*?\)|\b__t\)) \+\n'';/g,dl=/&(?:amp|lt|gt|quot|#39);/g,fl=/[&<>"']/g,ih=RegExp(dl.source),rh=RegExp(fl.source),oh=/<%-([\s\S]+?)%>/g,ah=/<%([\s\S]+?)%>/g,hl=/<%=([\s\S]+?)%>/g,sh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lh=/^\w*$/,uh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ca=/[\\^$.*+?()[\]{}|]/g,ch=RegExp(ca.source),da=/^\s+/,dh=/\s/,fh=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,hh=/\{\n\/\* \[wrapped with (.+)\] \*/,gh=/,? & /,mh=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ph=/[()=,{}\[\]\/\s]/,vh=/\\(\\)?/g,yh=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gl=/\w*$/,_h=/^[-+]0x[0-9a-f]+$/i,bh=/^0b[01]+$/i,wh=/^\[object .+?Constructor\]$/,xh=/^0o[0-7]+$/i,kh=/^(?:0|[1-9]\d*)$/,Eh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ar=/($^)/,Sh=/['\n\r\u2028\u2029\\]/g,Nr="\\ud800-\\udfff",Mh="\\u0300-\\u036f",Th="\\ufe20-\\ufe2f",Ch="\\u20d0-\\u20ff",ml=Mh+Th+Ch,pl="\\u2700-\\u27bf",vl="a-z\\xdf-\\xf6\\xf8-\\xff",Ih="\\xac\\xb1\\xd7\\xf7",Ah="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Nh="\\u2000-\\u206f",zh=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",yl="A-Z\\xc0-\\xd6\\xd8-\\xde",_l="\\ufe0e\\ufe0f",bl=Ih+Ah+Nh+zh,fa="['’]",Ph="["+Nr+"]",wl="["+bl+"]",zr="["+ml+"]",xl="\\d+",Oh="["+pl+"]",kl="["+vl+"]",El="[^"+Nr+bl+xl+pl+vl+yl+"]",ha="\\ud83c[\\udffb-\\udfff]",Rh="(?:"+zr+"|"+ha+")",Sl="[^"+Nr+"]",ga="(?:\\ud83c[\\udde6-\\uddff]){2}",ma="[\\ud800-\\udbff][\\udc00-\\udfff]",bi="["+yl+"]",Ml="\\u200d",Tl="(?:"+kl+"|"+El+")",Dh="(?:"+bi+"|"+El+")",Cl="(?:"+fa+"(?:d|ll|m|re|s|t|ve))?",Il="(?:"+fa+"(?:D|LL|M|RE|S|T|VE))?",Al=Rh+"?",Nl="["+_l+"]?",Bh="(?:"+Ml+"(?:"+[Sl,ga,ma].join("|")+")"+Nl+Al+")*",Lh="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Hh="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",zl=Nl+Al+Bh,qh="(?:"+[Oh,ga,ma].join("|")+")"+zl,Fh="(?:"+[Sl+zr+"?",zr,ga,ma,Ph].join("|")+")",Gh=RegExp(fa,"g"),$h=RegExp(zr,"g"),pa=RegExp(ha+"(?="+ha+")|"+Fh+zl,"g"),Wh=RegExp([bi+"?"+kl+"+"+Cl+"(?="+[wl,bi,"$"].join("|")+")",Dh+"+"+Il+"(?="+[wl,bi+Tl,"$"].join("|")+")",bi+"?"+Tl+"+"+Cl,bi+"+"+Il,Hh,Lh,xl,qh].join("|"),"g"),Uh=RegExp("["+Ml+Nr+ml+_l+"]"),Vh=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xh=-1,un={};un[Wn]=un[xt]=un[Xi]=un[ji]=un[oa]=un[aa]=un[sa]=un[la]=un[ua]=!0,un[ge]=un[He]=un[Rn]=un[Re]=un[Dn]=un[K]=un[H]=un[X]=un[v]=un[x]=un[G]=un[F]=un[pe]=un[xe]=un[Ze]=!1;var an={};an[ge]=an[He]=an[Rn]=an[Dn]=an[Re]=an[K]=an[Wn]=an[xt]=an[Xi]=an[ji]=an[oa]=an[v]=an[x]=an[G]=an[F]=an[pe]=an[xe]=an[$e]=an[aa]=an[sa]=an[la]=an[ua]=!0,an[H]=an[X]=an[Ze]=!1;var jh={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Kh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Zh={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Jh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qh=parseFloat,eg=parseInt,Pl=typeof dr=="object"&&dr&&dr.Object===Object&&dr,ng=typeof self=="object"&&self&&self.Object===Object&&self,Sn=Pl||ng||Function("return this")(),va=i&&!i.nodeType&&i,ei=va&&!0&&n&&!n.nodeType&&n,Ol=ei&&ei.exports===va,ya=Ol&&Pl.process,Jn=function(){try{var I=ei&&ei.require&&ei.require("util").types;return I||ya&&ya.binding&&ya.binding("util")}catch{}}(),Rl=Jn&&Jn.isArrayBuffer,Dl=Jn&&Jn.isDate,Bl=Jn&&Jn.isMap,Ll=Jn&&Jn.isRegExp,Hl=Jn&&Jn.isSet,ql=Jn&&Jn.isTypedArray;function Un(I,W,L){switch(L.length){case 0:return I.call(W);case 1:return I.call(W,L[0]);case 2:return I.call(W,L[0],L[1]);case 3:return I.call(W,L[0],L[1],L[2])}return I.apply(W,L)}function tg(I,W,L,ye){for(var Be=-1,Je=I==null?0:I.length;++Be<Je;){var bn=I[Be];W(ye,bn,L(bn),I)}return ye}function Qn(I,W){for(var L=-1,ye=I==null?0:I.length;++L<ye&&W(I[L],L,I)!==!1;);return I}function ig(I,W){for(var L=I==null?0:I.length;L--&&W(I[L],L,I)!==!1;);return I}function Fl(I,W){for(var L=-1,ye=I==null?0:I.length;++L<ye;)if(!W(I[L],L,I))return!1;return!0}function Ht(I,W){for(var L=-1,ye=I==null?0:I.length,Be=0,Je=[];++L<ye;){var bn=I[L];W(bn,L,I)&&(Je[Be++]=bn)}return Je}function Pr(I,W){var L=I==null?0:I.length;return!!L&&wi(I,W,0)>-1}function _a(I,W,L){for(var ye=-1,Be=I==null?0:I.length;++ye<Be;)if(L(W,I[ye]))return!0;return!1}function cn(I,W){for(var L=-1,ye=I==null?0:I.length,Be=Array(ye);++L<ye;)Be[L]=W(I[L],L,I);return Be}function qt(I,W){for(var L=-1,ye=W.length,Be=I.length;++L<ye;)I[Be+L]=W[L];return I}function ba(I,W,L,ye){var Be=-1,Je=I==null?0:I.length;for(ye&&Je&&(L=I[++Be]);++Be<Je;)L=W(L,I[Be],Be,I);return L}function rg(I,W,L,ye){var Be=I==null?0:I.length;for(ye&&Be&&(L=I[--Be]);Be--;)L=W(L,I[Be],Be,I);return L}function wa(I,W){for(var L=-1,ye=I==null?0:I.length;++L<ye;)if(W(I[L],L,I))return!0;return!1}var og=xa("length");function ag(I){return I.split("")}function sg(I){return I.match(mh)||[]}function Gl(I,W,L){var ye;return L(I,function(Be,Je,bn){if(W(Be,Je,bn))return ye=Je,!1}),ye}function Or(I,W,L,ye){for(var Be=I.length,Je=L+(ye?1:-1);ye?Je--:++Je<Be;)if(W(I[Je],Je,I))return Je;return-1}function wi(I,W,L){return W===W?_g(I,W,L):Or(I,$l,L)}function lg(I,W,L,ye){for(var Be=L-1,Je=I.length;++Be<Je;)if(ye(I[Be],W))return Be;return-1}function $l(I){return I!==I}function Wl(I,W){var L=I==null?0:I.length;return L?Ea(I,W)/L:de}function xa(I){return function(W){return W==null?r:W[I]}}function ka(I){return function(W){return I==null?r:I[W]}}function Ul(I,W,L,ye,Be){return Be(I,function(Je,bn,on){L=ye?(ye=!1,Je):W(L,Je,bn,on)}),L}function ug(I,W){var L=I.length;for(I.sort(W);L--;)I[L]=I[L].value;return I}function Ea(I,W){for(var L,ye=-1,Be=I.length;++ye<Be;){var Je=W(I[ye]);Je!==r&&(L=L===r?Je:L+Je)}return L}function Sa(I,W){for(var L=-1,ye=Array(I);++L<I;)ye[L]=W(L);return ye}function cg(I,W){return cn(W,function(L){return[L,I[L]]})}function Vl(I){return I&&I.slice(0,Kl(I)+1).replace(da,"")}function Vn(I){return function(W){return I(W)}}function Ma(I,W){return cn(W,function(L){return I[L]})}function Ki(I,W){return I.has(W)}function Yl(I,W){for(var L=-1,ye=I.length;++L<ye&&wi(W,I[L],0)>-1;);return L}function Xl(I,W){for(var L=I.length;L--&&wi(W,I[L],0)>-1;);return L}function dg(I,W){for(var L=I.length,ye=0;L--;)I[L]===W&&++ye;return ye}var fg=ka(jh),hg=ka(Kh);function gg(I){return"\\"+Jh[I]}function mg(I,W){return I==null?r:I[W]}function xi(I){return Uh.test(I)}function pg(I){return Vh.test(I)}function vg(I){for(var W,L=[];!(W=I.next()).done;)L.push(W.value);return L}function Ta(I){var W=-1,L=Array(I.size);return I.forEach(function(ye,Be){L[++W]=[Be,ye]}),L}function jl(I,W){return function(L){return I(W(L))}}function Ft(I,W){for(var L=-1,ye=I.length,Be=0,Je=[];++L<ye;){var bn=I[L];(bn===W||bn===p)&&(I[L]=p,Je[Be++]=L)}return Je}function Rr(I){var W=-1,L=Array(I.size);return I.forEach(function(ye){L[++W]=ye}),L}function yg(I){var W=-1,L=Array(I.size);return I.forEach(function(ye){L[++W]=[ye,ye]}),L}function _g(I,W,L){for(var ye=L-1,Be=I.length;++ye<Be;)if(I[ye]===W)return ye;return-1}function bg(I,W,L){for(var ye=L+1;ye--;)if(I[ye]===W)return ye;return ye}function ki(I){return xi(I)?xg(I):og(I)}function lt(I){return xi(I)?kg(I):ag(I)}function Kl(I){for(var W=I.length;W--&&dh.test(I.charAt(W)););return W}var wg=ka(Zh);function xg(I){for(var W=pa.lastIndex=0;pa.test(I);)++W;return W}function kg(I){return I.match(pa)||[]}function Eg(I){return I.match(Wh)||[]}var Sg=function I(W){W=W==null?Sn:Ei.defaults(Sn.Object(),W,Ei.pick(Sn,Yh));var L=W.Array,ye=W.Date,Be=W.Error,Je=W.Function,bn=W.Math,on=W.Object,Ca=W.RegExp,Mg=W.String,et=W.TypeError,Dr=L.prototype,Tg=Je.prototype,Si=on.prototype,Br=W["__core-js_shared__"],Lr=Tg.toString,tn=Si.hasOwnProperty,Cg=0,Zl=function(){var e=/[^.]+$/.exec(Br&&Br.keys&&Br.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Hr=Si.toString,Ig=Lr.call(on),Ag=Sn._,Ng=Ca("^"+Lr.call(tn).replace(ca,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qr=Ol?W.Buffer:r,Gt=W.Symbol,Fr=W.Uint8Array,Jl=qr?qr.allocUnsafe:r,Gr=jl(on.getPrototypeOf,on),Ql=on.create,eu=Si.propertyIsEnumerable,$r=Dr.splice,nu=Gt?Gt.isConcatSpreadable:r,Zi=Gt?Gt.iterator:r,ni=Gt?Gt.toStringTag:r,Wr=function(){try{var e=ai(on,"defineProperty");return e({},"",{}),e}catch{}}(),zg=W.clearTimeout!==Sn.clearTimeout&&W.clearTimeout,Pg=ye&&ye.now!==Sn.Date.now&&ye.now,Og=W.setTimeout!==Sn.setTimeout&&W.setTimeout,Ur=bn.ceil,Vr=bn.floor,Ia=on.getOwnPropertySymbols,Rg=qr?qr.isBuffer:r,tu=W.isFinite,Dg=Dr.join,Bg=jl(on.keys,on),wn=bn.max,In=bn.min,Lg=ye.now,Hg=W.parseInt,iu=bn.random,qg=Dr.reverse,Aa=ai(W,"DataView"),Ji=ai(W,"Map"),Na=ai(W,"Promise"),Mi=ai(W,"Set"),Qi=ai(W,"WeakMap"),er=ai(on,"create"),Yr=Qi&&new Qi,Ti={},Fg=si(Aa),Gg=si(Ji),$g=si(Na),Wg=si(Mi),Ug=si(Qi),Xr=Gt?Gt.prototype:r,nr=Xr?Xr.valueOf:r,ru=Xr?Xr.toString:r;function g(e){if(hn(e)&&!Fe(e)&&!(e instanceof je)){if(e instanceof nt)return e;if(tn.call(e,"__wrapped__"))return oc(e)}return new nt(e)}var Ci=function(){function e(){}return function(t){if(!dn(t))return{};if(Ql)return Ql(t);e.prototype=t;var a=new e;return e.prototype=r,a}}();function jr(){}function nt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}g.templateSettings={escape:oh,evaluate:ah,interpolate:hl,variable:"",imports:{_:g}},g.prototype=jr.prototype,g.prototype.constructor=g,nt.prototype=Ci(jr.prototype),nt.prototype.constructor=nt;function je(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=re,this.__views__=[]}function Vg(){var e=new je(this.__wrapped__);return e.__actions__=Bn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Bn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Bn(this.__views__),e}function Yg(){if(this.__filtered__){var e=new je(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Xg(){var e=this.__wrapped__.value(),t=this.__dir__,a=Fe(e),c=t<0,h=a?e.length:0,y=ap(0,h,this.__views__),w=y.start,S=y.end,z=S-w,U=c?S:w-1,Y=this.__iteratees__,Q=Y.length,fe=0,we=In(z,this.__takeCount__);if(!a||!c&&h==z&&we==z)return Cu(e,this.__actions__);var Ae=[];e:for(;z--&&fe<we;){U+=t;for(var Ue=-1,Ne=e[U];++Ue<Q;){var Xe=Y[Ue],Ke=Xe.iteratee,jn=Xe.type,On=Ke(Ne);if(jn==$)Ne=On;else if(!On){if(jn==N)continue e;break e}}Ae[fe++]=Ne}return Ae}je.prototype=Ci(jr.prototype),je.prototype.constructor=je;function ti(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var c=e[t];this.set(c[0],c[1])}}function jg(){this.__data__=er?er(null):{},this.size=0}function Kg(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Zg(e){var t=this.__data__;if(er){var a=t[e];return a===f?r:a}return tn.call(t,e)?t[e]:r}function Jg(e){var t=this.__data__;return er?t[e]!==r:tn.call(t,e)}function Qg(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=er&&t===r?f:t,this}ti.prototype.clear=jg,ti.prototype.delete=Kg,ti.prototype.get=Zg,ti.prototype.has=Jg,ti.prototype.set=Qg;function kt(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var c=e[t];this.set(c[0],c[1])}}function em(){this.__data__=[],this.size=0}function nm(e){var t=this.__data__,a=Kr(t,e);if(a<0)return!1;var c=t.length-1;return a==c?t.pop():$r.call(t,a,1),--this.size,!0}function tm(e){var t=this.__data__,a=Kr(t,e);return a<0?r:t[a][1]}function im(e){return Kr(this.__data__,e)>-1}function rm(e,t){var a=this.__data__,c=Kr(a,e);return c<0?(++this.size,a.push([e,t])):a[c][1]=t,this}kt.prototype.clear=em,kt.prototype.delete=nm,kt.prototype.get=tm,kt.prototype.has=im,kt.prototype.set=rm;function Et(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var c=e[t];this.set(c[0],c[1])}}function om(){this.size=0,this.__data__={hash:new ti,map:new(Ji||kt),string:new ti}}function am(e){var t=lo(this,e).delete(e);return this.size-=t?1:0,t}function sm(e){return lo(this,e).get(e)}function lm(e){return lo(this,e).has(e)}function um(e,t){var a=lo(this,e),c=a.size;return a.set(e,t),this.size+=a.size==c?0:1,this}Et.prototype.clear=om,Et.prototype.delete=am,Et.prototype.get=sm,Et.prototype.has=lm,Et.prototype.set=um;function ii(e){var t=-1,a=e==null?0:e.length;for(this.__data__=new Et;++t<a;)this.add(e[t])}function cm(e){return this.__data__.set(e,f),this}function dm(e){return this.__data__.has(e)}ii.prototype.add=ii.prototype.push=cm,ii.prototype.has=dm;function ut(e){var t=this.__data__=new kt(e);this.size=t.size}function fm(){this.__data__=new kt,this.size=0}function hm(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a}function gm(e){return this.__data__.get(e)}function mm(e){return this.__data__.has(e)}function pm(e,t){var a=this.__data__;if(a instanceof kt){var c=a.__data__;if(!Ji||c.length<s-1)return c.push([e,t]),this.size=++a.size,this;a=this.__data__=new Et(c)}return a.set(e,t),this.size=a.size,this}ut.prototype.clear=fm,ut.prototype.delete=hm,ut.prototype.get=gm,ut.prototype.has=mm,ut.prototype.set=pm;function ou(e,t){var a=Fe(e),c=!a&&li(e),h=!a&&!c&&Yt(e),y=!a&&!c&&!h&&zi(e),w=a||c||h||y,S=w?Sa(e.length,Mg):[],z=S.length;for(var U in e)(t||tn.call(e,U))&&!(w&&(U=="length"||h&&(U=="offset"||U=="parent")||y&&(U=="buffer"||U=="byteLength"||U=="byteOffset")||Ct(U,z)))&&S.push(U);return S}function au(e){var t=e.length;return t?e[Ga(0,t-1)]:r}function vm(e,t){return uo(Bn(e),ri(t,0,e.length))}function ym(e){return uo(Bn(e))}function za(e,t,a){(a!==r&&!ct(e[t],a)||a===r&&!(t in e))&&St(e,t,a)}function tr(e,t,a){var c=e[t];(!(tn.call(e,t)&&ct(c,a))||a===r&&!(t in e))&&St(e,t,a)}function Kr(e,t){for(var a=e.length;a--;)if(ct(e[a][0],t))return a;return-1}function _m(e,t,a,c){return $t(e,function(h,y,w){t(c,h,a(h),w)}),c}function su(e,t){return e&&vt(t,En(t),e)}function bm(e,t){return e&&vt(t,Hn(t),e)}function St(e,t,a){t=="__proto__"&&Wr?Wr(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}function Pa(e,t){for(var a=-1,c=t.length,h=L(c),y=e==null;++a<c;)h[a]=y?r:hs(e,t[a]);return h}function ri(e,t,a){return e===e&&(a!==r&&(e=e<=a?e:a),t!==r&&(e=e>=t?e:t)),e}function tt(e,t,a,c,h,y){var w,S=t&_,z=t&k,U=t&E;if(a&&(w=h?a(e,c,h,y):a(e)),w!==r)return w;if(!dn(e))return e;var Y=Fe(e);if(Y){if(w=lp(e),!S)return Bn(e,w)}else{var Q=An(e),fe=Q==X||Q==Z;if(Yt(e))return Nu(e,S);if(Q==G||Q==ge||fe&&!h){if(w=z||fe?{}:Ku(e),!S)return z?Zm(e,bm(w,e)):Km(e,su(w,e))}else{if(!an[Q])return h?e:{};w=up(e,Q,S)}}y||(y=new ut);var we=y.get(e);if(we)return we;y.set(e,w),Sc(e)?e.forEach(function(Ne){w.add(tt(Ne,t,a,Ne,e,y))}):kc(e)&&e.forEach(function(Ne,Xe){w.set(Xe,tt(Ne,t,a,Xe,e,y))});var Ae=U?z?Qa:Ja:z?Hn:En,Ue=Y?r:Ae(e);return Qn(Ue||e,function(Ne,Xe){Ue&&(Xe=Ne,Ne=e[Xe]),tr(w,Xe,tt(Ne,t,a,Xe,e,y))}),w}function wm(e){var t=En(e);return function(a){return lu(a,e,t)}}function lu(e,t,a){var c=a.length;if(e==null)return!c;for(e=on(e);c--;){var h=a[c],y=t[h],w=e[h];if(w===r&&!(h in e)||!y(w))return!1}return!0}function uu(e,t,a){if(typeof e!="function")throw new et(l);return ur(function(){e.apply(r,a)},t)}function ir(e,t,a,c){var h=-1,y=Pr,w=!0,S=e.length,z=[],U=t.length;if(!S)return z;a&&(t=cn(t,Vn(a))),c?(y=_a,w=!1):t.length>=s&&(y=Ki,w=!1,t=new ii(t));e:for(;++h<S;){var Y=e[h],Q=a==null?Y:a(Y);if(Y=c||Y!==0?Y:0,w&&Q===Q){for(var fe=U;fe--;)if(t[fe]===Q)continue e;z.push(Y)}else y(t,Q,c)||z.push(Y)}return z}var $t=Du(pt),cu=Du(Ra,!0);function xm(e,t){var a=!0;return $t(e,function(c,h,y){return a=!!t(c,h,y),a}),a}function Zr(e,t,a){for(var c=-1,h=e.length;++c<h;){var y=e[c],w=t(y);if(w!=null&&(S===r?w===w&&!Xn(w):a(w,S)))var S=w,z=y}return z}function km(e,t,a,c){var h=e.length;for(a=We(a),a<0&&(a=-a>h?0:h+a),c=c===r||c>h?h:We(c),c<0&&(c+=h),c=a>c?0:Tc(c);a<c;)e[a++]=t;return e}function du(e,t){var a=[];return $t(e,function(c,h,y){t(c,h,y)&&a.push(c)}),a}function Mn(e,t,a,c,h){var y=-1,w=e.length;for(a||(a=dp),h||(h=[]);++y<w;){var S=e[y];t>0&&a(S)?t>1?Mn(S,t-1,a,c,h):qt(h,S):c||(h[h.length]=S)}return h}var Oa=Bu(),fu=Bu(!0);function pt(e,t){return e&&Oa(e,t,En)}function Ra(e,t){return e&&fu(e,t,En)}function Jr(e,t){return Ht(t,function(a){return It(e[a])})}function oi(e,t){t=Ut(t,e);for(var a=0,c=t.length;e!=null&&a<c;)e=e[yt(t[a++])];return a&&a==c?e:r}function hu(e,t,a){var c=t(e);return Fe(e)?c:qt(c,a(e))}function zn(e){return e==null?e===r?qe:D:ni&&ni in on(e)?op(e):yp(e)}function Da(e,t){return e>t}function Em(e,t){return e!=null&&tn.call(e,t)}function Sm(e,t){return e!=null&&t in on(e)}function Mm(e,t,a){return e>=In(t,a)&&e<wn(t,a)}function Ba(e,t,a){for(var c=a?_a:Pr,h=e[0].length,y=e.length,w=y,S=L(y),z=1/0,U=[];w--;){var Y=e[w];w&&t&&(Y=cn(Y,Vn(t))),z=In(Y.length,z),S[w]=!a&&(t||h>=120&&Y.length>=120)?new ii(w&&Y):r}Y=e[0];var Q=-1,fe=S[0];e:for(;++Q<h&&U.length<z;){var we=Y[Q],Ae=t?t(we):we;if(we=a||we!==0?we:0,!(fe?Ki(fe,Ae):c(U,Ae,a))){for(w=y;--w;){var Ue=S[w];if(!(Ue?Ki(Ue,Ae):c(e[w],Ae,a)))continue e}fe&&fe.push(Ae),U.push(we)}}return U}function Tm(e,t,a,c){return pt(e,function(h,y,w){t(c,a(h),y,w)}),c}function rr(e,t,a){t=Ut(t,e),e=ec(e,t);var c=e==null?e:e[yt(rt(t))];return c==null?r:Un(c,e,a)}function gu(e){return hn(e)&&zn(e)==ge}function Cm(e){return hn(e)&&zn(e)==Rn}function Im(e){return hn(e)&&zn(e)==K}function or(e,t,a,c,h){return e===t?!0:e==null||t==null||!hn(e)&&!hn(t)?e!==e&&t!==t:Am(e,t,a,c,or,h)}function Am(e,t,a,c,h,y){var w=Fe(e),S=Fe(t),z=w?He:An(e),U=S?He:An(t);z=z==ge?G:z,U=U==ge?G:U;var Y=z==G,Q=U==G,fe=z==U;if(fe&&Yt(e)){if(!Yt(t))return!1;w=!0,Y=!1}if(fe&&!Y)return y||(y=new ut),w||zi(e)?Yu(e,t,a,c,h,y):ip(e,t,z,a,c,h,y);if(!(a&O)){var we=Y&&tn.call(e,"__wrapped__"),Ae=Q&&tn.call(t,"__wrapped__");if(we||Ae){var Ue=we?e.value():e,Ne=Ae?t.value():t;return y||(y=new ut),h(Ue,Ne,a,c,y)}}return fe?(y||(y=new ut),rp(e,t,a,c,h,y)):!1}function Nm(e){return hn(e)&&An(e)==v}function La(e,t,a,c){var h=a.length,y=h,w=!c;if(e==null)return!y;for(e=on(e);h--;){var S=a[h];if(w&&S[2]?S[1]!==e[S[0]]:!(S[0]in e))return!1}for(;++h<y;){S=a[h];var z=S[0],U=e[z],Y=S[1];if(w&&S[2]){if(U===r&&!(z in e))return!1}else{var Q=new ut;if(c)var fe=c(U,Y,z,e,t,Q);if(!(fe===r?or(Y,U,O|M,c,Q):fe))return!1}}return!0}function mu(e){if(!dn(e)||hp(e))return!1;var t=It(e)?Ng:wh;return t.test(si(e))}function zm(e){return hn(e)&&zn(e)==F}function Pm(e){return hn(e)&&An(e)==pe}function Om(e){return hn(e)&&po(e.length)&&!!un[zn(e)]}function pu(e){return typeof e=="function"?e:e==null?qn:typeof e=="object"?Fe(e)?_u(e[0],e[1]):yu(e):Lc(e)}function Ha(e){if(!lr(e))return Bg(e);var t=[];for(var a in on(e))tn.call(e,a)&&a!="constructor"&&t.push(a);return t}function Rm(e){if(!dn(e))return vp(e);var t=lr(e),a=[];for(var c in e)c=="constructor"&&(t||!tn.call(e,c))||a.push(c);return a}function qa(e,t){return e<t}function vu(e,t){var a=-1,c=Ln(e)?L(e.length):[];return $t(e,function(h,y,w){c[++a]=t(h,y,w)}),c}function yu(e){var t=ns(e);return t.length==1&&t[0][2]?Ju(t[0][0],t[0][1]):function(a){return a===e||La(a,e,t)}}function _u(e,t){return is(e)&&Zu(t)?Ju(yt(e),t):function(a){var c=hs(a,e);return c===r&&c===t?gs(a,e):or(t,c,O|M)}}function Qr(e,t,a,c,h){e!==t&&Oa(t,function(y,w){if(h||(h=new ut),dn(y))Dm(e,t,w,a,Qr,c,h);else{var S=c?c(os(e,w),y,w+"",e,t,h):r;S===r&&(S=y),za(e,w,S)}},Hn)}function Dm(e,t,a,c,h,y,w){var S=os(e,a),z=os(t,a),U=w.get(z);if(U){za(e,a,U);return}var Y=y?y(S,z,a+"",e,t,w):r,Q=Y===r;if(Q){var fe=Fe(z),we=!fe&&Yt(z),Ae=!fe&&!we&&zi(z);Y=z,fe||we||Ae?Fe(S)?Y=S:pn(S)?Y=Bn(S):we?(Q=!1,Y=Nu(z,!0)):Ae?(Q=!1,Y=zu(z,!0)):Y=[]:cr(z)||li(z)?(Y=S,li(S)?Y=Cc(S):(!dn(S)||It(S))&&(Y=Ku(z))):Q=!1}Q&&(w.set(z,Y),h(Y,z,c,y,w),w.delete(z)),za(e,a,Y)}function bu(e,t){var a=e.length;if(a)return t+=t<0?a:0,Ct(t,a)?e[t]:r}function wu(e,t,a){t.length?t=cn(t,function(y){return Fe(y)?function(w){return oi(w,y.length===1?y[0]:y)}:y}):t=[qn];var c=-1;t=cn(t,Vn(Ie()));var h=vu(e,function(y,w,S){var z=cn(t,function(U){return U(y)});return{criteria:z,index:++c,value:y}});return ug(h,function(y,w){return jm(y,w,a)})}function Bm(e,t){return xu(e,t,function(a,c){return gs(e,c)})}function xu(e,t,a){for(var c=-1,h=t.length,y={};++c<h;){var w=t[c],S=oi(e,w);a(S,w)&&ar(y,Ut(w,e),S)}return y}function Lm(e){return function(t){return oi(t,e)}}function Fa(e,t,a,c){var h=c?lg:wi,y=-1,w=t.length,S=e;for(e===t&&(t=Bn(t)),a&&(S=cn(e,Vn(a)));++y<w;)for(var z=0,U=t[y],Y=a?a(U):U;(z=h(S,Y,z,c))>-1;)S!==e&&$r.call(S,z,1),$r.call(e,z,1);return e}function ku(e,t){for(var a=e?t.length:0,c=a-1;a--;){var h=t[a];if(a==c||h!==y){var y=h;Ct(h)?$r.call(e,h,1):Ua(e,h)}}return e}function Ga(e,t){return e+Vr(iu()*(t-e+1))}function Hm(e,t,a,c){for(var h=-1,y=wn(Ur((t-e)/(a||1)),0),w=L(y);y--;)w[c?y:++h]=e,e+=a;return w}function $a(e,t){var a="";if(!e||t<1||t>ne)return a;do t%2&&(a+=e),t=Vr(t/2),t&&(e+=e);while(t);return a}function Ve(e,t){return as(Qu(e,t,qn),e+"")}function qm(e){return au(Pi(e))}function Fm(e,t){var a=Pi(e);return uo(a,ri(t,0,a.length))}function ar(e,t,a,c){if(!dn(e))return e;t=Ut(t,e);for(var h=-1,y=t.length,w=y-1,S=e;S!=null&&++h<y;){var z=yt(t[h]),U=a;if(z==="__proto__"||z==="constructor"||z==="prototype")return e;if(h!=w){var Y=S[z];U=c?c(Y,z,S):r,U===r&&(U=dn(Y)?Y:Ct(t[h+1])?[]:{})}tr(S,z,U),S=S[z]}return e}var Eu=Yr?function(e,t){return Yr.set(e,t),e}:qn,Gm=Wr?function(e,t){return Wr(e,"toString",{configurable:!0,enumerable:!1,value:ps(t),writable:!0})}:qn;function $m(e){return uo(Pi(e))}function it(e,t,a){var c=-1,h=e.length;t<0&&(t=-t>h?0:h+t),a=a>h?h:a,a<0&&(a+=h),h=t>a?0:a-t>>>0,t>>>=0;for(var y=L(h);++c<h;)y[c]=e[c+t];return y}function Wm(e,t){var a;return $t(e,function(c,h,y){return a=t(c,h,y),!a}),!!a}function eo(e,t,a){var c=0,h=e==null?c:e.length;if(typeof t=="number"&&t===t&&h<=he){for(;c<h;){var y=c+h>>>1,w=e[y];w!==null&&!Xn(w)&&(a?w<=t:w<t)?c=y+1:h=y}return h}return Wa(e,t,qn,a)}function Wa(e,t,a,c){var h=0,y=e==null?0:e.length;if(y===0)return 0;t=a(t);for(var w=t!==t,S=t===null,z=Xn(t),U=t===r;h<y;){var Y=Vr((h+y)/2),Q=a(e[Y]),fe=Q!==r,we=Q===null,Ae=Q===Q,Ue=Xn(Q);if(w)var Ne=c||Ae;else U?Ne=Ae&&(c||fe):S?Ne=Ae&&fe&&(c||!we):z?Ne=Ae&&fe&&!we&&(c||!Ue):we||Ue?Ne=!1:Ne=c?Q<=t:Q<t;Ne?h=Y+1:y=Y}return In(y,Se)}function Su(e,t){for(var a=-1,c=e.length,h=0,y=[];++a<c;){var w=e[a],S=t?t(w):w;if(!a||!ct(S,z)){var z=S;y[h++]=w===0?0:w}}return y}function Mu(e){return typeof e=="number"?e:Xn(e)?de:+e}function Yn(e){if(typeof e=="string")return e;if(Fe(e))return cn(e,Yn)+"";if(Xn(e))return ru?ru.call(e):"";var t=e+"";return t=="0"&&1/e==-V?"-0":t}function Wt(e,t,a){var c=-1,h=Pr,y=e.length,w=!0,S=[],z=S;if(a)w=!1,h=_a;else if(y>=s){var U=t?null:np(e);if(U)return Rr(U);w=!1,h=Ki,z=new ii}else z=t?[]:S;e:for(;++c<y;){var Y=e[c],Q=t?t(Y):Y;if(Y=a||Y!==0?Y:0,w&&Q===Q){for(var fe=z.length;fe--;)if(z[fe]===Q)continue e;t&&z.push(Q),S.push(Y)}else h(z,Q,a)||(z!==S&&z.push(Q),S.push(Y))}return S}function Ua(e,t){return t=Ut(t,e),e=ec(e,t),e==null||delete e[yt(rt(t))]}function Tu(e,t,a,c){return ar(e,t,a(oi(e,t)),c)}function no(e,t,a,c){for(var h=e.length,y=c?h:-1;(c?y--:++y<h)&&t(e[y],y,e););return a?it(e,c?0:y,c?y+1:h):it(e,c?y+1:0,c?h:y)}function Cu(e,t){var a=e;return a instanceof je&&(a=a.value()),ba(t,function(c,h){return h.func.apply(h.thisArg,qt([c],h.args))},a)}function Va(e,t,a){var c=e.length;if(c<2)return c?Wt(e[0]):[];for(var h=-1,y=L(c);++h<c;)for(var w=e[h],S=-1;++S<c;)S!=h&&(y[h]=ir(y[h]||w,e[S],t,a));return Wt(Mn(y,1),t,a)}function Iu(e,t,a){for(var c=-1,h=e.length,y=t.length,w={};++c<h;){var S=c<y?t[c]:r;a(w,e[c],S)}return w}function Ya(e){return pn(e)?e:[]}function Xa(e){return typeof e=="function"?e:qn}function Ut(e,t){return Fe(e)?e:is(e,t)?[e]:rc(nn(e))}var Um=Ve;function Vt(e,t,a){var c=e.length;return a=a===r?c:a,!t&&a>=c?e:it(e,t,a)}var Au=zg||function(e){return Sn.clearTimeout(e)};function Nu(e,t){if(t)return e.slice();var a=e.length,c=Jl?Jl(a):new e.constructor(a);return e.copy(c),c}function ja(e){var t=new e.constructor(e.byteLength);return new Fr(t).set(new Fr(e)),t}function Vm(e,t){var a=t?ja(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}function Ym(e){var t=new e.constructor(e.source,gl.exec(e));return t.lastIndex=e.lastIndex,t}function Xm(e){return nr?on(nr.call(e)):{}}function zu(e,t){var a=t?ja(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}function Pu(e,t){if(e!==t){var a=e!==r,c=e===null,h=e===e,y=Xn(e),w=t!==r,S=t===null,z=t===t,U=Xn(t);if(!S&&!U&&!y&&e>t||y&&w&&z&&!S&&!U||c&&w&&z||!a&&z||!h)return 1;if(!c&&!y&&!U&&e<t||U&&a&&h&&!c&&!y||S&&a&&h||!w&&h||!z)return-1}return 0}function jm(e,t,a){for(var c=-1,h=e.criteria,y=t.criteria,w=h.length,S=a.length;++c<w;){var z=Pu(h[c],y[c]);if(z){if(c>=S)return z;var U=a[c];return z*(U=="desc"?-1:1)}}return e.index-t.index}function Ou(e,t,a,c){for(var h=-1,y=e.length,w=a.length,S=-1,z=t.length,U=wn(y-w,0),Y=L(z+U),Q=!c;++S<z;)Y[S]=t[S];for(;++h<w;)(Q||h<y)&&(Y[a[h]]=e[h]);for(;U--;)Y[S++]=e[h++];return Y}function Ru(e,t,a,c){for(var h=-1,y=e.length,w=-1,S=a.length,z=-1,U=t.length,Y=wn(y-S,0),Q=L(Y+U),fe=!c;++h<Y;)Q[h]=e[h];for(var we=h;++z<U;)Q[we+z]=t[z];for(;++w<S;)(fe||h<y)&&(Q[we+a[w]]=e[h++]);return Q}function Bn(e,t){var a=-1,c=e.length;for(t||(t=L(c));++a<c;)t[a]=e[a];return t}function vt(e,t,a,c){var h=!a;a||(a={});for(var y=-1,w=t.length;++y<w;){var S=t[y],z=c?c(a[S],e[S],S,a,e):r;z===r&&(z=e[S]),h?St(a,S,z):tr(a,S,z)}return a}function Km(e,t){return vt(e,ts(e),t)}function Zm(e,t){return vt(e,Xu(e),t)}function to(e,t){return function(a,c){var h=Fe(a)?tg:_m,y=t?t():{};return h(a,e,Ie(c,2),y)}}function Ii(e){return Ve(function(t,a){var c=-1,h=a.length,y=h>1?a[h-1]:r,w=h>2?a[2]:r;for(y=e.length>3&&typeof y=="function"?(h--,y):r,w&&Pn(a[0],a[1],w)&&(y=h<3?r:y,h=1),t=on(t);++c<h;){var S=a[c];S&&e(t,S,c,y)}return t})}function Du(e,t){return function(a,c){if(a==null)return a;if(!Ln(a))return e(a,c);for(var h=a.length,y=t?h:-1,w=on(a);(t?y--:++y<h)&&c(w[y],y,w)!==!1;);return a}}function Bu(e){return function(t,a,c){for(var h=-1,y=on(t),w=c(t),S=w.length;S--;){var z=w[e?S:++h];if(a(y[z],z,y)===!1)break}return t}}function Jm(e,t,a){var c=t&A,h=sr(e);function y(){var w=this&&this!==Sn&&this instanceof y?h:e;return w.apply(c?a:this,arguments)}return y}function Lu(e){return function(t){t=nn(t);var a=xi(t)?lt(t):r,c=a?a[0]:t.charAt(0),h=a?Vt(a,1).join(""):t.slice(1);return c[e]()+h}}function Ai(e){return function(t){return ba(Dc(Rc(t).replace(Gh,"")),e,"")}}function sr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var a=Ci(e.prototype),c=e.apply(a,t);return dn(c)?c:a}}function Qm(e,t,a){var c=sr(e);function h(){for(var y=arguments.length,w=L(y),S=y,z=Ni(h);S--;)w[S]=arguments[S];var U=y<3&&w[0]!==z&&w[y-1]!==z?[]:Ft(w,z);if(y-=U.length,y<a)return $u(e,t,io,h.placeholder,r,w,U,r,r,a-y);var Y=this&&this!==Sn&&this instanceof h?c:e;return Un(Y,this,w)}return h}function Hu(e){return function(t,a,c){var h=on(t);if(!Ln(t)){var y=Ie(a,3);t=En(t),a=function(S){return y(h[S],S,h)}}var w=e(t,a,c);return w>-1?h[y?t[w]:w]:r}}function qu(e){return Tt(function(t){var a=t.length,c=a,h=nt.prototype.thru;for(e&&t.reverse();c--;){var y=t[c];if(typeof y!="function")throw new et(l);if(h&&!w&&so(y)=="wrapper")var w=new nt([],!0)}for(c=w?c:a;++c<a;){y=t[c];var S=so(y),z=S=="wrapper"?es(y):r;z&&rs(z[0])&&z[1]==(oe|R|ee|ce)&&!z[4].length&&z[9]==1?w=w[so(z[0])].apply(w,z[3]):w=y.length==1&&rs(y)?w[S]():w.thru(y)}return function(){var U=arguments,Y=U[0];if(w&&U.length==1&&Fe(Y))return w.plant(Y).value();for(var Q=0,fe=a?t[Q].apply(this,U):Y;++Q<a;)fe=t[Q].call(this,fe);return fe}})}function io(e,t,a,c,h,y,w,S,z,U){var Y=t&oe,Q=t&A,fe=t&T,we=t&(R|P),Ae=t&ve,Ue=fe?r:sr(e);function Ne(){for(var Xe=arguments.length,Ke=L(Xe),jn=Xe;jn--;)Ke[jn]=arguments[jn];if(we)var On=Ni(Ne),Kn=dg(Ke,On);if(c&&(Ke=Ou(Ke,c,h,we)),y&&(Ke=Ru(Ke,y,w,we)),Xe-=Kn,we&&Xe<U){var vn=Ft(Ke,On);return $u(e,t,io,Ne.placeholder,a,Ke,vn,S,z,U-Xe)}var dt=Q?a:this,Nt=fe?dt[e]:e;return Xe=Ke.length,S?Ke=_p(Ke,S):Ae&&Xe>1&&Ke.reverse(),Y&&z<Xe&&(Ke.length=z),this&&this!==Sn&&this instanceof Ne&&(Nt=Ue||sr(Nt)),Nt.apply(dt,Ke)}return Ne}function Fu(e,t){return function(a,c){return Tm(a,e,t(c),{})}}function ro(e,t){return function(a,c){var h;if(a===r&&c===r)return t;if(a!==r&&(h=a),c!==r){if(h===r)return c;typeof a=="string"||typeof c=="string"?(a=Yn(a),c=Yn(c)):(a=Mu(a),c=Mu(c)),h=e(a,c)}return h}}function Ka(e){return Tt(function(t){return t=cn(t,Vn(Ie())),Ve(function(a){var c=this;return e(t,function(h){return Un(h,c,a)})})})}function oo(e,t){t=t===r?" ":Yn(t);var a=t.length;if(a<2)return a?$a(t,e):t;var c=$a(t,Ur(e/ki(t)));return xi(t)?Vt(lt(c),0,e).join(""):c.slice(0,e)}function ep(e,t,a,c){var h=t&A,y=sr(e);function w(){for(var S=-1,z=arguments.length,U=-1,Y=c.length,Q=L(Y+z),fe=this&&this!==Sn&&this instanceof w?y:e;++U<Y;)Q[U]=c[U];for(;z--;)Q[U++]=arguments[++S];return Un(fe,h?a:this,Q)}return w}function Gu(e){return function(t,a,c){return c&&typeof c!="number"&&Pn(t,a,c)&&(a=c=r),t=At(t),a===r?(a=t,t=0):a=At(a),c=c===r?t<a?1:-1:At(c),Hm(t,a,c,e)}}function ao(e){return function(t,a){return typeof t=="string"&&typeof a=="string"||(t=ot(t),a=ot(a)),e(t,a)}}function $u(e,t,a,c,h,y,w,S,z,U){var Y=t&R,Q=Y?w:r,fe=Y?r:w,we=Y?y:r,Ae=Y?r:y;t|=Y?ee:le,t&=~(Y?le:ee),t&b||(t&=~(A|T));var Ue=[e,t,h,we,Q,Ae,fe,S,z,U],Ne=a.apply(r,Ue);return rs(e)&&nc(Ne,Ue),Ne.placeholder=c,tc(Ne,e,t)}function Za(e){var t=bn[e];return function(a,c){if(a=ot(a),c=c==null?0:In(We(c),292),c&&tu(a)){var h=(nn(a)+"e").split("e"),y=t(h[0]+"e"+(+h[1]+c));return h=(nn(y)+"e").split("e"),+(h[0]+"e"+(+h[1]-c))}return t(a)}}var np=Mi&&1/Rr(new Mi([,-0]))[1]==V?function(e){return new Mi(e)}:_s;function Wu(e){return function(t){var a=An(t);return a==v?Ta(t):a==pe?yg(t):cg(t,e(t))}}function Mt(e,t,a,c,h,y,w,S){var z=t&T;if(!z&&typeof e!="function")throw new et(l);var U=c?c.length:0;if(U||(t&=~(ee|le),c=h=r),w=w===r?w:wn(We(w),0),S=S===r?S:We(S),U-=h?h.length:0,t&le){var Y=c,Q=h;c=h=r}var fe=z?r:es(e),we=[e,t,a,c,h,Y,Q,y,w,S];if(fe&&pp(we,fe),e=we[0],t=we[1],a=we[2],c=we[3],h=we[4],S=we[9]=we[9]===r?z?0:e.length:wn(we[9]-U,0),!S&&t&(R|P)&&(t&=~(R|P)),!t||t==A)var Ae=Jm(e,t,a);else t==R||t==P?Ae=Qm(e,t,S):(t==ee||t==(A|ee))&&!h.length?Ae=ep(e,t,a,c):Ae=io.apply(r,we);var Ue=fe?Eu:nc;return tc(Ue(Ae,we),e,t)}function Uu(e,t,a,c){return e===r||ct(e,Si[a])&&!tn.call(c,a)?t:e}function Vu(e,t,a,c,h,y){return dn(e)&&dn(t)&&(y.set(t,e),Qr(e,t,r,Vu,y),y.delete(t)),e}function tp(e){return cr(e)?r:e}function Yu(e,t,a,c,h,y){var w=a&O,S=e.length,z=t.length;if(S!=z&&!(w&&z>S))return!1;var U=y.get(e),Y=y.get(t);if(U&&Y)return U==t&&Y==e;var Q=-1,fe=!0,we=a&M?new ii:r;for(y.set(e,t),y.set(t,e);++Q<S;){var Ae=e[Q],Ue=t[Q];if(c)var Ne=w?c(Ue,Ae,Q,t,e,y):c(Ae,Ue,Q,e,t,y);if(Ne!==r){if(Ne)continue;fe=!1;break}if(we){if(!wa(t,function(Xe,Ke){if(!Ki(we,Ke)&&(Ae===Xe||h(Ae,Xe,a,c,y)))return we.push(Ke)})){fe=!1;break}}else if(!(Ae===Ue||h(Ae,Ue,a,c,y))){fe=!1;break}}return y.delete(e),y.delete(t),fe}function ip(e,t,a,c,h,y,w){switch(a){case Dn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Rn:return!(e.byteLength!=t.byteLength||!y(new Fr(e),new Fr(t)));case Re:case K:case x:return ct(+e,+t);case H:return e.name==t.name&&e.message==t.message;case F:case xe:return e==t+"";case v:var S=Ta;case pe:var z=c&O;if(S||(S=Rr),e.size!=t.size&&!z)return!1;var U=w.get(e);if(U)return U==t;c|=M,w.set(e,t);var Y=Yu(S(e),S(t),c,h,y,w);return w.delete(e),Y;case $e:if(nr)return nr.call(e)==nr.call(t)}return!1}function rp(e,t,a,c,h,y){var w=a&O,S=Ja(e),z=S.length,U=Ja(t),Y=U.length;if(z!=Y&&!w)return!1;for(var Q=z;Q--;){var fe=S[Q];if(!(w?fe in t:tn.call(t,fe)))return!1}var we=y.get(e),Ae=y.get(t);if(we&&Ae)return we==t&&Ae==e;var Ue=!0;y.set(e,t),y.set(t,e);for(var Ne=w;++Q<z;){fe=S[Q];var Xe=e[fe],Ke=t[fe];if(c)var jn=w?c(Ke,Xe,fe,t,e,y):c(Xe,Ke,fe,e,t,y);if(!(jn===r?Xe===Ke||h(Xe,Ke,a,c,y):jn)){Ue=!1;break}Ne||(Ne=fe=="constructor")}if(Ue&&!Ne){var On=e.constructor,Kn=t.constructor;On!=Kn&&"constructor"in e&&"constructor"in t&&!(typeof On=="function"&&On instanceof On&&typeof Kn=="function"&&Kn instanceof Kn)&&(Ue=!1)}return y.delete(e),y.delete(t),Ue}function Tt(e){return as(Qu(e,r,lc),e+"")}function Ja(e){return hu(e,En,ts)}function Qa(e){return hu(e,Hn,Xu)}var es=Yr?function(e){return Yr.get(e)}:_s;function so(e){for(var t=e.name+"",a=Ti[t],c=tn.call(Ti,t)?a.length:0;c--;){var h=a[c],y=h.func;if(y==null||y==e)return h.name}return t}function Ni(e){var t=tn.call(g,"placeholder")?g:e;return t.placeholder}function Ie(){var e=g.iteratee||vs;return e=e===vs?pu:e,arguments.length?e(arguments[0],arguments[1]):e}function lo(e,t){var a=e.__data__;return fp(t)?a[typeof t=="string"?"string":"hash"]:a.map}function ns(e){for(var t=En(e),a=t.length;a--;){var c=t[a],h=e[c];t[a]=[c,h,Zu(h)]}return t}function ai(e,t){var a=mg(e,t);return mu(a)?a:r}function op(e){var t=tn.call(e,ni),a=e[ni];try{e[ni]=r;var c=!0}catch{}var h=Hr.call(e);return c&&(t?e[ni]=a:delete e[ni]),h}var ts=Ia?function(e){return e==null?[]:(e=on(e),Ht(Ia(e),function(t){return eu.call(e,t)}))}:bs,Xu=Ia?function(e){for(var t=[];e;)qt(t,ts(e)),e=Gr(e);return t}:bs,An=zn;(Aa&&An(new Aa(new ArrayBuffer(1)))!=Dn||Ji&&An(new Ji)!=v||Na&&An(Na.resolve())!=se||Mi&&An(new Mi)!=pe||Qi&&An(new Qi)!=Ze)&&(An=function(e){var t=zn(e),a=t==G?e.constructor:r,c=a?si(a):"";if(c)switch(c){case Fg:return Dn;case Gg:return v;case $g:return se;case Wg:return pe;case Ug:return Ze}return t});function ap(e,t,a){for(var c=-1,h=a.length;++c<h;){var y=a[c],w=y.size;switch(y.type){case"drop":e+=w;break;case"dropRight":t-=w;break;case"take":t=In(t,e+w);break;case"takeRight":e=wn(e,t-w);break}}return{start:e,end:t}}function sp(e){var t=e.match(hh);return t?t[1].split(gh):[]}function ju(e,t,a){t=Ut(t,e);for(var c=-1,h=t.length,y=!1;++c<h;){var w=yt(t[c]);if(!(y=e!=null&&a(e,w)))break;e=e[w]}return y||++c!=h?y:(h=e==null?0:e.length,!!h&&po(h)&&Ct(w,h)&&(Fe(e)||li(e)))}function lp(e){var t=e.length,a=new e.constructor(t);return t&&typeof e[0]=="string"&&tn.call(e,"index")&&(a.index=e.index,a.input=e.input),a}function Ku(e){return typeof e.constructor=="function"&&!lr(e)?Ci(Gr(e)):{}}function up(e,t,a){var c=e.constructor;switch(t){case Rn:return ja(e);case Re:case K:return new c(+e);case Dn:return Vm(e,a);case Wn:case xt:case Xi:case ji:case oa:case aa:case sa:case la:case ua:return zu(e,a);case v:return new c;case x:case xe:return new c(e);case F:return Ym(e);case pe:return new c;case $e:return Xm(e)}}function cp(e,t){var a=t.length;if(!a)return e;var c=a-1;return t[c]=(a>1?"& ":"")+t[c],t=t.join(a>2?", ":" "),e.replace(fh,`{
/* [wrapped with `+t+`] */
`)}function dp(e){return Fe(e)||li(e)||!!(nu&&e&&e[nu])}function Ct(e,t){var a=typeof e;return t=t==null?ne:t,!!t&&(a=="number"||a!="symbol"&&kh.test(e))&&e>-1&&e%1==0&&e<t}function Pn(e,t,a){if(!dn(a))return!1;var c=typeof t;return(c=="number"?Ln(a)&&Ct(t,a.length):c=="string"&&t in a)?ct(a[t],e):!1}function is(e,t){if(Fe(e))return!1;var a=typeof e;return a=="number"||a=="symbol"||a=="boolean"||e==null||Xn(e)?!0:lh.test(e)||!sh.test(e)||t!=null&&e in on(t)}function fp(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function rs(e){var t=so(e),a=g[t];if(typeof a!="function"||!(t in je.prototype))return!1;if(e===a)return!0;var c=es(a);return!!c&&e===c[0]}function hp(e){return!!Zl&&Zl in e}var gp=Br?It:ws;function lr(e){var t=e&&e.constructor,a=typeof t=="function"&&t.prototype||Si;return e===a}function Zu(e){return e===e&&!dn(e)}function Ju(e,t){return function(a){return a==null?!1:a[e]===t&&(t!==r||e in on(a))}}function mp(e){var t=go(e,function(c){return a.size===m&&a.clear(),c}),a=t.cache;return t}function pp(e,t){var a=e[1],c=t[1],h=a|c,y=h<(A|T|oe),w=c==oe&&a==R||c==oe&&a==ce&&e[7].length<=t[8]||c==(oe|ce)&&t[7].length<=t[8]&&a==R;if(!(y||w))return e;c&A&&(e[2]=t[2],h|=a&A?0:b);var S=t[3];if(S){var z=e[3];e[3]=z?Ou(z,S,t[4]):S,e[4]=z?Ft(e[3],p):t[4]}return S=t[5],S&&(z=e[5],e[5]=z?Ru(z,S,t[6]):S,e[6]=z?Ft(e[5],p):t[6]),S=t[7],S&&(e[7]=S),c&oe&&(e[8]=e[8]==null?t[8]:In(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=h,e}function vp(e){var t=[];if(e!=null)for(var a in on(e))t.push(a);return t}function yp(e){return Hr.call(e)}function Qu(e,t,a){return t=wn(t===r?e.length-1:t,0),function(){for(var c=arguments,h=-1,y=wn(c.length-t,0),w=L(y);++h<y;)w[h]=c[t+h];h=-1;for(var S=L(t+1);++h<t;)S[h]=c[h];return S[t]=a(w),Un(e,this,S)}}function ec(e,t){return t.length<2?e:oi(e,it(t,0,-1))}function _p(e,t){for(var a=e.length,c=In(t.length,a),h=Bn(e);c--;){var y=t[c];e[c]=Ct(y,a)?h[y]:r}return e}function os(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var nc=ic(Eu),ur=Og||function(e,t){return Sn.setTimeout(e,t)},as=ic(Gm);function tc(e,t,a){var c=t+"";return as(e,cp(c,bp(sp(c),a)))}function ic(e){var t=0,a=0;return function(){var c=Lg(),h=ze-(c-a);if(a=c,h>0){if(++t>=be)return arguments[0]}else t=0;return e.apply(r,arguments)}}function uo(e,t){var a=-1,c=e.length,h=c-1;for(t=t===r?c:t;++a<t;){var y=Ga(a,h),w=e[y];e[y]=e[a],e[a]=w}return e.length=t,e}var rc=mp(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(uh,function(a,c,h,y){t.push(h?y.replace(vh,"$1"):c||a)}),t});function yt(e){if(typeof e=="string"||Xn(e))return e;var t=e+"";return t=="0"&&1/e==-V?"-0":t}function si(e){if(e!=null){try{return Lr.call(e)}catch{}try{return e+""}catch{}}return""}function bp(e,t){return Qn(ue,function(a){var c="_."+a[0];t&a[1]&&!Pr(e,c)&&e.push(c)}),e.sort()}function oc(e){if(e instanceof je)return e.clone();var t=new nt(e.__wrapped__,e.__chain__);return t.__actions__=Bn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function wp(e,t,a){(a?Pn(e,t,a):t===r)?t=1:t=wn(We(t),0);var c=e==null?0:e.length;if(!c||t<1)return[];for(var h=0,y=0,w=L(Ur(c/t));h<c;)w[y++]=it(e,h,h+=t);return w}function xp(e){for(var t=-1,a=e==null?0:e.length,c=0,h=[];++t<a;){var y=e[t];y&&(h[c++]=y)}return h}function kp(){var e=arguments.length;if(!e)return[];for(var t=L(e-1),a=arguments[0],c=e;c--;)t[c-1]=arguments[c];return qt(Fe(a)?Bn(a):[a],Mn(t,1))}var Ep=Ve(function(e,t){return pn(e)?ir(e,Mn(t,1,pn,!0)):[]}),Sp=Ve(function(e,t){var a=rt(t);return pn(a)&&(a=r),pn(e)?ir(e,Mn(t,1,pn,!0),Ie(a,2)):[]}),Mp=Ve(function(e,t){var a=rt(t);return pn(a)&&(a=r),pn(e)?ir(e,Mn(t,1,pn,!0),r,a):[]});function Tp(e,t,a){var c=e==null?0:e.length;return c?(t=a||t===r?1:We(t),it(e,t<0?0:t,c)):[]}function Cp(e,t,a){var c=e==null?0:e.length;return c?(t=a||t===r?1:We(t),t=c-t,it(e,0,t<0?0:t)):[]}function Ip(e,t){return e&&e.length?no(e,Ie(t,3),!0,!0):[]}function Ap(e,t){return e&&e.length?no(e,Ie(t,3),!0):[]}function Np(e,t,a,c){var h=e==null?0:e.length;return h?(a&&typeof a!="number"&&Pn(e,t,a)&&(a=0,c=h),km(e,t,a,c)):[]}function ac(e,t,a){var c=e==null?0:e.length;if(!c)return-1;var h=a==null?0:We(a);return h<0&&(h=wn(c+h,0)),Or(e,Ie(t,3),h)}function sc(e,t,a){var c=e==null?0:e.length;if(!c)return-1;var h=c-1;return a!==r&&(h=We(a),h=a<0?wn(c+h,0):In(h,c-1)),Or(e,Ie(t,3),h,!0)}function lc(e){var t=e==null?0:e.length;return t?Mn(e,1):[]}function zp(e){var t=e==null?0:e.length;return t?Mn(e,V):[]}function Pp(e,t){var a=e==null?0:e.length;return a?(t=t===r?1:We(t),Mn(e,t)):[]}function Op(e){for(var t=-1,a=e==null?0:e.length,c={};++t<a;){var h=e[t];c[h[0]]=h[1]}return c}function uc(e){return e&&e.length?e[0]:r}function Rp(e,t,a){var c=e==null?0:e.length;if(!c)return-1;var h=a==null?0:We(a);return h<0&&(h=wn(c+h,0)),wi(e,t,h)}function Dp(e){var t=e==null?0:e.length;return t?it(e,0,-1):[]}var Bp=Ve(function(e){var t=cn(e,Ya);return t.length&&t[0]===e[0]?Ba(t):[]}),Lp=Ve(function(e){var t=rt(e),a=cn(e,Ya);return t===rt(a)?t=r:a.pop(),a.length&&a[0]===e[0]?Ba(a,Ie(t,2)):[]}),Hp=Ve(function(e){var t=rt(e),a=cn(e,Ya);return t=typeof t=="function"?t:r,t&&a.pop(),a.length&&a[0]===e[0]?Ba(a,r,t):[]});function qp(e,t){return e==null?"":Dg.call(e,t)}function rt(e){var t=e==null?0:e.length;return t?e[t-1]:r}function Fp(e,t,a){var c=e==null?0:e.length;if(!c)return-1;var h=c;return a!==r&&(h=We(a),h=h<0?wn(c+h,0):In(h,c-1)),t===t?bg(e,t,h):Or(e,$l,h,!0)}function Gp(e,t){return e&&e.length?bu(e,We(t)):r}var $p=Ve(cc);function cc(e,t){return e&&e.length&&t&&t.length?Fa(e,t):e}function Wp(e,t,a){return e&&e.length&&t&&t.length?Fa(e,t,Ie(a,2)):e}function Up(e,t,a){return e&&e.length&&t&&t.length?Fa(e,t,r,a):e}var Vp=Tt(function(e,t){var a=e==null?0:e.length,c=Pa(e,t);return ku(e,cn(t,function(h){return Ct(h,a)?+h:h}).sort(Pu)),c});function Yp(e,t){var a=[];if(!(e&&e.length))return a;var c=-1,h=[],y=e.length;for(t=Ie(t,3);++c<y;){var w=e[c];t(w,c,e)&&(a.push(w),h.push(c))}return ku(e,h),a}function ss(e){return e==null?e:qg.call(e)}function Xp(e,t,a){var c=e==null?0:e.length;return c?(a&&typeof a!="number"&&Pn(e,t,a)?(t=0,a=c):(t=t==null?0:We(t),a=a===r?c:We(a)),it(e,t,a)):[]}function jp(e,t){return eo(e,t)}function Kp(e,t,a){return Wa(e,t,Ie(a,2))}function Zp(e,t){var a=e==null?0:e.length;if(a){var c=eo(e,t);if(c<a&&ct(e[c],t))return c}return-1}function Jp(e,t){return eo(e,t,!0)}function Qp(e,t,a){return Wa(e,t,Ie(a,2),!0)}function ev(e,t){var a=e==null?0:e.length;if(a){var c=eo(e,t,!0)-1;if(ct(e[c],t))return c}return-1}function nv(e){return e&&e.length?Su(e):[]}function tv(e,t){return e&&e.length?Su(e,Ie(t,2)):[]}function iv(e){var t=e==null?0:e.length;return t?it(e,1,t):[]}function rv(e,t,a){return e&&e.length?(t=a||t===r?1:We(t),it(e,0,t<0?0:t)):[]}function ov(e,t,a){var c=e==null?0:e.length;return c?(t=a||t===r?1:We(t),t=c-t,it(e,t<0?0:t,c)):[]}function av(e,t){return e&&e.length?no(e,Ie(t,3),!1,!0):[]}function sv(e,t){return e&&e.length?no(e,Ie(t,3)):[]}var lv=Ve(function(e){return Wt(Mn(e,1,pn,!0))}),uv=Ve(function(e){var t=rt(e);return pn(t)&&(t=r),Wt(Mn(e,1,pn,!0),Ie(t,2))}),cv=Ve(function(e){var t=rt(e);return t=typeof t=="function"?t:r,Wt(Mn(e,1,pn,!0),r,t)});function dv(e){return e&&e.length?Wt(e):[]}function fv(e,t){return e&&e.length?Wt(e,Ie(t,2)):[]}function hv(e,t){return t=typeof t=="function"?t:r,e&&e.length?Wt(e,r,t):[]}function ls(e){if(!(e&&e.length))return[];var t=0;return e=Ht(e,function(a){if(pn(a))return t=wn(a.length,t),!0}),Sa(t,function(a){return cn(e,xa(a))})}function dc(e,t){if(!(e&&e.length))return[];var a=ls(e);return t==null?a:cn(a,function(c){return Un(t,r,c)})}var gv=Ve(function(e,t){return pn(e)?ir(e,t):[]}),mv=Ve(function(e){return Va(Ht(e,pn))}),pv=Ve(function(e){var t=rt(e);return pn(t)&&(t=r),Va(Ht(e,pn),Ie(t,2))}),vv=Ve(function(e){var t=rt(e);return t=typeof t=="function"?t:r,Va(Ht(e,pn),r,t)}),yv=Ve(ls);function _v(e,t){return Iu(e||[],t||[],tr)}function bv(e,t){return Iu(e||[],t||[],ar)}var wv=Ve(function(e){var t=e.length,a=t>1?e[t-1]:r;return a=typeof a=="function"?(e.pop(),a):r,dc(e,a)});function fc(e){var t=g(e);return t.__chain__=!0,t}function xv(e,t){return t(e),e}function co(e,t){return t(e)}var kv=Tt(function(e){var t=e.length,a=t?e[0]:0,c=this.__wrapped__,h=function(y){return Pa(y,e)};return t>1||this.__actions__.length||!(c instanceof je)||!Ct(a)?this.thru(h):(c=c.slice(a,+a+(t?1:0)),c.__actions__.push({func:co,args:[h],thisArg:r}),new nt(c,this.__chain__).thru(function(y){return t&&!y.length&&y.push(r),y}))});function Ev(){return fc(this)}function Sv(){return new nt(this.value(),this.__chain__)}function Mv(){this.__values__===r&&(this.__values__=Mc(this.value()));var e=this.__index__>=this.__values__.length,t=e?r:this.__values__[this.__index__++];return{done:e,value:t}}function Tv(){return this}function Cv(e){for(var t,a=this;a instanceof jr;){var c=oc(a);c.__index__=0,c.__values__=r,t?h.__wrapped__=c:t=c;var h=c;a=a.__wrapped__}return h.__wrapped__=e,t}function Iv(){var e=this.__wrapped__;if(e instanceof je){var t=e;return this.__actions__.length&&(t=new je(this)),t=t.reverse(),t.__actions__.push({func:co,args:[ss],thisArg:r}),new nt(t,this.__chain__)}return this.thru(ss)}function Av(){return Cu(this.__wrapped__,this.__actions__)}var Nv=to(function(e,t,a){tn.call(e,a)?++e[a]:St(e,a,1)});function zv(e,t,a){var c=Fe(e)?Fl:xm;return a&&Pn(e,t,a)&&(t=r),c(e,Ie(t,3))}function Pv(e,t){var a=Fe(e)?Ht:du;return a(e,Ie(t,3))}var Ov=Hu(ac),Rv=Hu(sc);function Dv(e,t){return Mn(fo(e,t),1)}function Bv(e,t){return Mn(fo(e,t),V)}function Lv(e,t,a){return a=a===r?1:We(a),Mn(fo(e,t),a)}function hc(e,t){var a=Fe(e)?Qn:$t;return a(e,Ie(t,3))}function gc(e,t){var a=Fe(e)?ig:cu;return a(e,Ie(t,3))}var Hv=to(function(e,t,a){tn.call(e,a)?e[a].push(t):St(e,a,[t])});function qv(e,t,a,c){e=Ln(e)?e:Pi(e),a=a&&!c?We(a):0;var h=e.length;return a<0&&(a=wn(h+a,0)),vo(e)?a<=h&&e.indexOf(t,a)>-1:!!h&&wi(e,t,a)>-1}var Fv=Ve(function(e,t,a){var c=-1,h=typeof t=="function",y=Ln(e)?L(e.length):[];return $t(e,function(w){y[++c]=h?Un(t,w,a):rr(w,t,a)}),y}),Gv=to(function(e,t,a){St(e,a,t)});function fo(e,t){var a=Fe(e)?cn:vu;return a(e,Ie(t,3))}function $v(e,t,a,c){return e==null?[]:(Fe(t)||(t=t==null?[]:[t]),a=c?r:a,Fe(a)||(a=a==null?[]:[a]),wu(e,t,a))}var Wv=to(function(e,t,a){e[a?0:1].push(t)},function(){return[[],[]]});function Uv(e,t,a){var c=Fe(e)?ba:Ul,h=arguments.length<3;return c(e,Ie(t,4),a,h,$t)}function Vv(e,t,a){var c=Fe(e)?rg:Ul,h=arguments.length<3;return c(e,Ie(t,4),a,h,cu)}function Yv(e,t){var a=Fe(e)?Ht:du;return a(e,mo(Ie(t,3)))}function Xv(e){var t=Fe(e)?au:qm;return t(e)}function jv(e,t,a){(a?Pn(e,t,a):t===r)?t=1:t=We(t);var c=Fe(e)?vm:Fm;return c(e,t)}function Kv(e){var t=Fe(e)?ym:$m;return t(e)}function Zv(e){if(e==null)return 0;if(Ln(e))return vo(e)?ki(e):e.length;var t=An(e);return t==v||t==pe?e.size:Ha(e).length}function Jv(e,t,a){var c=Fe(e)?wa:Wm;return a&&Pn(e,t,a)&&(t=r),c(e,Ie(t,3))}var Qv=Ve(function(e,t){if(e==null)return[];var a=t.length;return a>1&&Pn(e,t[0],t[1])?t=[]:a>2&&Pn(t[0],t[1],t[2])&&(t=[t[0]]),wu(e,Mn(t,1),[])}),ho=Pg||function(){return Sn.Date.now()};function ey(e,t){if(typeof t!="function")throw new et(l);return e=We(e),function(){if(--e<1)return t.apply(this,arguments)}}function mc(e,t,a){return t=a?r:t,t=e&&t==null?e.length:t,Mt(e,oe,r,r,r,r,t)}function pc(e,t){var a;if(typeof t!="function")throw new et(l);return e=We(e),function(){return--e>0&&(a=t.apply(this,arguments)),e<=1&&(t=r),a}}var us=Ve(function(e,t,a){var c=A;if(a.length){var h=Ft(a,Ni(us));c|=ee}return Mt(e,c,t,a,h)}),vc=Ve(function(e,t,a){var c=A|T;if(a.length){var h=Ft(a,Ni(vc));c|=ee}return Mt(t,c,e,a,h)});function yc(e,t,a){t=a?r:t;var c=Mt(e,R,r,r,r,r,r,t);return c.placeholder=yc.placeholder,c}function _c(e,t,a){t=a?r:t;var c=Mt(e,P,r,r,r,r,r,t);return c.placeholder=_c.placeholder,c}function bc(e,t,a){var c,h,y,w,S,z,U=0,Y=!1,Q=!1,fe=!0;if(typeof e!="function")throw new et(l);t=ot(t)||0,dn(a)&&(Y=!!a.leading,Q="maxWait"in a,y=Q?wn(ot(a.maxWait)||0,t):y,fe="trailing"in a?!!a.trailing:fe);function we(vn){var dt=c,Nt=h;return c=h=r,U=vn,w=e.apply(Nt,dt),w}function Ae(vn){return U=vn,S=ur(Xe,t),Y?we(vn):w}function Ue(vn){var dt=vn-z,Nt=vn-U,Hc=t-dt;return Q?In(Hc,y-Nt):Hc}function Ne(vn){var dt=vn-z,Nt=vn-U;return z===r||dt>=t||dt<0||Q&&Nt>=y}function Xe(){var vn=ho();if(Ne(vn))return Ke(vn);S=ur(Xe,Ue(vn))}function Ke(vn){return S=r,fe&&c?we(vn):(c=h=r,w)}function jn(){S!==r&&Au(S),U=0,c=z=h=S=r}function On(){return S===r?w:Ke(ho())}function Kn(){var vn=ho(),dt=Ne(vn);if(c=arguments,h=this,z=vn,dt){if(S===r)return Ae(z);if(Q)return Au(S),S=ur(Xe,t),we(z)}return S===r&&(S=ur(Xe,t)),w}return Kn.cancel=jn,Kn.flush=On,Kn}var ny=Ve(function(e,t){return uu(e,1,t)}),ty=Ve(function(e,t,a){return uu(e,ot(t)||0,a)});function iy(e){return Mt(e,ve)}function go(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new et(l);var a=function(){var c=arguments,h=t?t.apply(this,c):c[0],y=a.cache;if(y.has(h))return y.get(h);var w=e.apply(this,c);return a.cache=y.set(h,w)||y,w};return a.cache=new(go.Cache||Et),a}go.Cache=Et;function mo(e){if(typeof e!="function")throw new et(l);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function ry(e){return pc(2,e)}var oy=Um(function(e,t){t=t.length==1&&Fe(t[0])?cn(t[0],Vn(Ie())):cn(Mn(t,1),Vn(Ie()));var a=t.length;return Ve(function(c){for(var h=-1,y=In(c.length,a);++h<y;)c[h]=t[h].call(this,c[h]);return Un(e,this,c)})}),cs=Ve(function(e,t){var a=Ft(t,Ni(cs));return Mt(e,ee,r,t,a)}),wc=Ve(function(e,t){var a=Ft(t,Ni(wc));return Mt(e,le,r,t,a)}),ay=Tt(function(e,t){return Mt(e,ce,r,r,r,t)});function sy(e,t){if(typeof e!="function")throw new et(l);return t=t===r?t:We(t),Ve(e,t)}function ly(e,t){if(typeof e!="function")throw new et(l);return t=t==null?0:wn(We(t),0),Ve(function(a){var c=a[t],h=Vt(a,0,t);return c&&qt(h,c),Un(e,this,h)})}function uy(e,t,a){var c=!0,h=!0;if(typeof e!="function")throw new et(l);return dn(a)&&(c="leading"in a?!!a.leading:c,h="trailing"in a?!!a.trailing:h),bc(e,t,{leading:c,maxWait:t,trailing:h})}function cy(e){return mc(e,1)}function dy(e,t){return cs(Xa(t),e)}function fy(){if(!arguments.length)return[];var e=arguments[0];return Fe(e)?e:[e]}function hy(e){return tt(e,E)}function gy(e,t){return t=typeof t=="function"?t:r,tt(e,E,t)}function my(e){return tt(e,_|E)}function py(e,t){return t=typeof t=="function"?t:r,tt(e,_|E,t)}function vy(e,t){return t==null||lu(e,t,En(t))}function ct(e,t){return e===t||e!==e&&t!==t}var yy=ao(Da),_y=ao(function(e,t){return e>=t}),li=gu(function(){return arguments}())?gu:function(e){return hn(e)&&tn.call(e,"callee")&&!eu.call(e,"callee")},Fe=L.isArray,by=Rl?Vn(Rl):Cm;function Ln(e){return e!=null&&po(e.length)&&!It(e)}function pn(e){return hn(e)&&Ln(e)}function wy(e){return e===!0||e===!1||hn(e)&&zn(e)==Re}var Yt=Rg||ws,xy=Dl?Vn(Dl):Im;function ky(e){return hn(e)&&e.nodeType===1&&!cr(e)}function Ey(e){if(e==null)return!0;if(Ln(e)&&(Fe(e)||typeof e=="string"||typeof e.splice=="function"||Yt(e)||zi(e)||li(e)))return!e.length;var t=An(e);if(t==v||t==pe)return!e.size;if(lr(e))return!Ha(e).length;for(var a in e)if(tn.call(e,a))return!1;return!0}function Sy(e,t){return or(e,t)}function My(e,t,a){a=typeof a=="function"?a:r;var c=a?a(e,t):r;return c===r?or(e,t,r,a):!!c}function ds(e){if(!hn(e))return!1;var t=zn(e);return t==H||t==q||typeof e.message=="string"&&typeof e.name=="string"&&!cr(e)}function Ty(e){return typeof e=="number"&&tu(e)}function It(e){if(!dn(e))return!1;var t=zn(e);return t==X||t==Z||t==De||t==ke}function xc(e){return typeof e=="number"&&e==We(e)}function po(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ne}function dn(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function hn(e){return e!=null&&typeof e=="object"}var kc=Bl?Vn(Bl):Nm;function Cy(e,t){return e===t||La(e,t,ns(t))}function Iy(e,t,a){return a=typeof a=="function"?a:r,La(e,t,ns(t),a)}function Ay(e){return Ec(e)&&e!=+e}function Ny(e){if(gp(e))throw new Be(u);return mu(e)}function zy(e){return e===null}function Py(e){return e==null}function Ec(e){return typeof e=="number"||hn(e)&&zn(e)==x}function cr(e){if(!hn(e)||zn(e)!=G)return!1;var t=Gr(e);if(t===null)return!0;var a=tn.call(t,"constructor")&&t.constructor;return typeof a=="function"&&a instanceof a&&Lr.call(a)==Ig}var fs=Ll?Vn(Ll):zm;function Oy(e){return xc(e)&&e>=-ne&&e<=ne}var Sc=Hl?Vn(Hl):Pm;function vo(e){return typeof e=="string"||!Fe(e)&&hn(e)&&zn(e)==xe}function Xn(e){return typeof e=="symbol"||hn(e)&&zn(e)==$e}var zi=ql?Vn(ql):Om;function Ry(e){return e===r}function Dy(e){return hn(e)&&An(e)==Ze}function By(e){return hn(e)&&zn(e)==$n}var Ly=ao(qa),Hy=ao(function(e,t){return e<=t});function Mc(e){if(!e)return[];if(Ln(e))return vo(e)?lt(e):Bn(e);if(Zi&&e[Zi])return vg(e[Zi]());var t=An(e),a=t==v?Ta:t==pe?Rr:Pi;return a(e)}function At(e){if(!e)return e===0?e:0;if(e=ot(e),e===V||e===-V){var t=e<0?-1:1;return t*ae}return e===e?e:0}function We(e){var t=At(e),a=t%1;return t===t?a?t-a:t:0}function Tc(e){return e?ri(We(e),0,re):0}function ot(e){if(typeof e=="number")return e;if(Xn(e))return de;if(dn(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=dn(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Vl(e);var a=bh.test(e);return a||xh.test(e)?eg(e.slice(2),a?2:8):_h.test(e)?de:+e}function Cc(e){return vt(e,Hn(e))}function qy(e){return e?ri(We(e),-ne,ne):e===0?e:0}function nn(e){return e==null?"":Yn(e)}var Fy=Ii(function(e,t){if(lr(t)||Ln(t)){vt(t,En(t),e);return}for(var a in t)tn.call(t,a)&&tr(e,a,t[a])}),Ic=Ii(function(e,t){vt(t,Hn(t),e)}),yo=Ii(function(e,t,a,c){vt(t,Hn(t),e,c)}),Gy=Ii(function(e,t,a,c){vt(t,En(t),e,c)}),$y=Tt(Pa);function Wy(e,t){var a=Ci(e);return t==null?a:su(a,t)}var Uy=Ve(function(e,t){e=on(e);var a=-1,c=t.length,h=c>2?t[2]:r;for(h&&Pn(t[0],t[1],h)&&(c=1);++a<c;)for(var y=t[a],w=Hn(y),S=-1,z=w.length;++S<z;){var U=w[S],Y=e[U];(Y===r||ct(Y,Si[U])&&!tn.call(e,U))&&(e[U]=y[U])}return e}),Vy=Ve(function(e){return e.push(r,Vu),Un(Ac,r,e)});function Yy(e,t){return Gl(e,Ie(t,3),pt)}function Xy(e,t){return Gl(e,Ie(t,3),Ra)}function jy(e,t){return e==null?e:Oa(e,Ie(t,3),Hn)}function Ky(e,t){return e==null?e:fu(e,Ie(t,3),Hn)}function Zy(e,t){return e&&pt(e,Ie(t,3))}function Jy(e,t){return e&&Ra(e,Ie(t,3))}function Qy(e){return e==null?[]:Jr(e,En(e))}function e_(e){return e==null?[]:Jr(e,Hn(e))}function hs(e,t,a){var c=e==null?r:oi(e,t);return c===r?a:c}function n_(e,t){return e!=null&&ju(e,t,Em)}function gs(e,t){return e!=null&&ju(e,t,Sm)}var t_=Fu(function(e,t,a){t!=null&&typeof t.toString!="function"&&(t=Hr.call(t)),e[t]=a},ps(qn)),i_=Fu(function(e,t,a){t!=null&&typeof t.toString!="function"&&(t=Hr.call(t)),tn.call(e,t)?e[t].push(a):e[t]=[a]},Ie),r_=Ve(rr);function En(e){return Ln(e)?ou(e):Ha(e)}function Hn(e){return Ln(e)?ou(e,!0):Rm(e)}function o_(e,t){var a={};return t=Ie(t,3),pt(e,function(c,h,y){St(a,t(c,h,y),c)}),a}function a_(e,t){var a={};return t=Ie(t,3),pt(e,function(c,h,y){St(a,h,t(c,h,y))}),a}var s_=Ii(function(e,t,a){Qr(e,t,a)}),Ac=Ii(function(e,t,a,c){Qr(e,t,a,c)}),l_=Tt(function(e,t){var a={};if(e==null)return a;var c=!1;t=cn(t,function(y){return y=Ut(y,e),c||(c=y.length>1),y}),vt(e,Qa(e),a),c&&(a=tt(a,_|k|E,tp));for(var h=t.length;h--;)Ua(a,t[h]);return a});function u_(e,t){return Nc(e,mo(Ie(t)))}var c_=Tt(function(e,t){return e==null?{}:Bm(e,t)});function Nc(e,t){if(e==null)return{};var a=cn(Qa(e),function(c){return[c]});return t=Ie(t),xu(e,a,function(c,h){return t(c,h[0])})}function d_(e,t,a){t=Ut(t,e);var c=-1,h=t.length;for(h||(h=1,e=r);++c<h;){var y=e==null?r:e[yt(t[c])];y===r&&(c=h,y=a),e=It(y)?y.call(e):y}return e}function f_(e,t,a){return e==null?e:ar(e,t,a)}function h_(e,t,a,c){return c=typeof c=="function"?c:r,e==null?e:ar(e,t,a,c)}var zc=Wu(En),Pc=Wu(Hn);function g_(e,t,a){var c=Fe(e),h=c||Yt(e)||zi(e);if(t=Ie(t,4),a==null){var y=e&&e.constructor;h?a=c?new y:[]:dn(e)?a=It(y)?Ci(Gr(e)):{}:a={}}return(h?Qn:pt)(e,function(w,S,z){return t(a,w,S,z)}),a}function m_(e,t){return e==null?!0:Ua(e,t)}function p_(e,t,a){return e==null?e:Tu(e,t,Xa(a))}function v_(e,t,a,c){return c=typeof c=="function"?c:r,e==null?e:Tu(e,t,Xa(a),c)}function Pi(e){return e==null?[]:Ma(e,En(e))}function y_(e){return e==null?[]:Ma(e,Hn(e))}function __(e,t,a){return a===r&&(a=t,t=r),a!==r&&(a=ot(a),a=a===a?a:0),t!==r&&(t=ot(t),t=t===t?t:0),ri(ot(e),t,a)}function b_(e,t,a){return t=At(t),a===r?(a=t,t=0):a=At(a),e=ot(e),Mm(e,t,a)}function w_(e,t,a){if(a&&typeof a!="boolean"&&Pn(e,t,a)&&(t=a=r),a===r&&(typeof t=="boolean"?(a=t,t=r):typeof e=="boolean"&&(a=e,e=r)),e===r&&t===r?(e=0,t=1):(e=At(e),t===r?(t=e,e=0):t=At(t)),e>t){var c=e;e=t,t=c}if(a||e%1||t%1){var h=iu();return In(e+h*(t-e+Qh("1e-"+((h+"").length-1))),t)}return Ga(e,t)}var x_=Ai(function(e,t,a){return t=t.toLowerCase(),e+(a?Oc(t):t)});function Oc(e){return ms(nn(e).toLowerCase())}function Rc(e){return e=nn(e),e&&e.replace(Eh,fg).replace($h,"")}function k_(e,t,a){e=nn(e),t=Yn(t);var c=e.length;a=a===r?c:ri(We(a),0,c);var h=a;return a-=t.length,a>=0&&e.slice(a,h)==t}function E_(e){return e=nn(e),e&&rh.test(e)?e.replace(fl,hg):e}function S_(e){return e=nn(e),e&&ch.test(e)?e.replace(ca,"\\$&"):e}var M_=Ai(function(e,t,a){return e+(a?"-":"")+t.toLowerCase()}),T_=Ai(function(e,t,a){return e+(a?" ":"")+t.toLowerCase()}),C_=Lu("toLowerCase");function I_(e,t,a){e=nn(e),t=We(t);var c=t?ki(e):0;if(!t||c>=t)return e;var h=(t-c)/2;return oo(Vr(h),a)+e+oo(Ur(h),a)}function A_(e,t,a){e=nn(e),t=We(t);var c=t?ki(e):0;return t&&c<t?e+oo(t-c,a):e}function N_(e,t,a){e=nn(e),t=We(t);var c=t?ki(e):0;return t&&c<t?oo(t-c,a)+e:e}function z_(e,t,a){return a||t==null?t=0:t&&(t=+t),Hg(nn(e).replace(da,""),t||0)}function P_(e,t,a){return(a?Pn(e,t,a):t===r)?t=1:t=We(t),$a(nn(e),t)}function O_(){var e=arguments,t=nn(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var R_=Ai(function(e,t,a){return e+(a?"_":"")+t.toLowerCase()});function D_(e,t,a){return a&&typeof a!="number"&&Pn(e,t,a)&&(t=a=r),a=a===r?re:a>>>0,a?(e=nn(e),e&&(typeof t=="string"||t!=null&&!fs(t))&&(t=Yn(t),!t&&xi(e))?Vt(lt(e),0,a):e.split(t,a)):[]}var B_=Ai(function(e,t,a){return e+(a?" ":"")+ms(t)});function L_(e,t,a){return e=nn(e),a=a==null?0:ri(We(a),0,e.length),t=Yn(t),e.slice(a,a+t.length)==t}function H_(e,t,a){var c=g.templateSettings;a&&Pn(e,t,a)&&(t=r),e=nn(e),t=yo({},t,c,Uu);var h=yo({},t.imports,c.imports,Uu),y=En(h),w=Ma(h,y),S,z,U=0,Y=t.interpolate||Ar,Q="__p += '",fe=Ca((t.escape||Ar).source+"|"+Y.source+"|"+(Y===hl?yh:Ar).source+"|"+(t.evaluate||Ar).source+"|$","g"),we="//# sourceURL="+(tn.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xh+"]")+`
`;e.replace(fe,function(Ne,Xe,Ke,jn,On,Kn){return Ke||(Ke=jn),Q+=e.slice(U,Kn).replace(Sh,gg),Xe&&(S=!0,Q+=`' +
__e(`+Xe+`) +
'`),On&&(z=!0,Q+=`';
`+On+`;
__p += '`),Ke&&(Q+=`' +
((__t = (`+Ke+`)) == null ? '' : __t) +
'`),U=Kn+Ne.length,Ne}),Q+=`';
`;var Ae=tn.call(t,"variable")&&t.variable;if(!Ae)Q=`with (obj) {
`+Q+`
}
`;else if(ph.test(Ae))throw new Be(d);Q=(z?Q.replace(eh,""):Q).replace(nh,"$1").replace(th,"$1;"),Q="function("+(Ae||"obj")+`) {
`+(Ae?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(S?", __e = _.escape":"")+(z?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Q+`return __p
}`;var Ue=Bc(function(){return Je(y,we+"return "+Q).apply(r,w)});if(Ue.source=Q,ds(Ue))throw Ue;return Ue}function q_(e){return nn(e).toLowerCase()}function F_(e){return nn(e).toUpperCase()}function G_(e,t,a){if(e=nn(e),e&&(a||t===r))return Vl(e);if(!e||!(t=Yn(t)))return e;var c=lt(e),h=lt(t),y=Yl(c,h),w=Xl(c,h)+1;return Vt(c,y,w).join("")}function $_(e,t,a){if(e=nn(e),e&&(a||t===r))return e.slice(0,Kl(e)+1);if(!e||!(t=Yn(t)))return e;var c=lt(e),h=Xl(c,lt(t))+1;return Vt(c,0,h).join("")}function W_(e,t,a){if(e=nn(e),e&&(a||t===r))return e.replace(da,"");if(!e||!(t=Yn(t)))return e;var c=lt(e),h=Yl(c,lt(t));return Vt(c,h).join("")}function U_(e,t){var a=ie,c=C;if(dn(t)){var h="separator"in t?t.separator:h;a="length"in t?We(t.length):a,c="omission"in t?Yn(t.omission):c}e=nn(e);var y=e.length;if(xi(e)){var w=lt(e);y=w.length}if(a>=y)return e;var S=a-ki(c);if(S<1)return c;var z=w?Vt(w,0,S).join(""):e.slice(0,S);if(h===r)return z+c;if(w&&(S+=z.length-S),fs(h)){if(e.slice(S).search(h)){var U,Y=z;for(h.global||(h=Ca(h.source,nn(gl.exec(h))+"g")),h.lastIndex=0;U=h.exec(Y);)var Q=U.index;z=z.slice(0,Q===r?S:Q)}}else if(e.indexOf(Yn(h),S)!=S){var fe=z.lastIndexOf(h);fe>-1&&(z=z.slice(0,fe))}return z+c}function V_(e){return e=nn(e),e&&ih.test(e)?e.replace(dl,wg):e}var Y_=Ai(function(e,t,a){return e+(a?" ":"")+t.toUpperCase()}),ms=Lu("toUpperCase");function Dc(e,t,a){return e=nn(e),t=a?r:t,t===r?pg(e)?Eg(e):sg(e):e.match(t)||[]}var Bc=Ve(function(e,t){try{return Un(e,r,t)}catch(a){return ds(a)?a:new Be(a)}}),X_=Tt(function(e,t){return Qn(t,function(a){a=yt(a),St(e,a,us(e[a],e))}),e});function j_(e){var t=e==null?0:e.length,a=Ie();return e=t?cn(e,function(c){if(typeof c[1]!="function")throw new et(l);return[a(c[0]),c[1]]}):[],Ve(function(c){for(var h=-1;++h<t;){var y=e[h];if(Un(y[0],this,c))return Un(y[1],this,c)}})}function K_(e){return wm(tt(e,_))}function ps(e){return function(){return e}}function Z_(e,t){return e==null||e!==e?t:e}var J_=qu(),Q_=qu(!0);function qn(e){return e}function vs(e){return pu(typeof e=="function"?e:tt(e,_))}function e0(e){return yu(tt(e,_))}function n0(e,t){return _u(e,tt(t,_))}var t0=Ve(function(e,t){return function(a){return rr(a,e,t)}}),i0=Ve(function(e,t){return function(a){return rr(e,a,t)}});function ys(e,t,a){var c=En(t),h=Jr(t,c);a==null&&!(dn(t)&&(h.length||!c.length))&&(a=t,t=e,e=this,h=Jr(t,En(t)));var y=!(dn(a)&&"chain"in a)||!!a.chain,w=It(e);return Qn(h,function(S){var z=t[S];e[S]=z,w&&(e.prototype[S]=function(){var U=this.__chain__;if(y||U){var Y=e(this.__wrapped__),Q=Y.__actions__=Bn(this.__actions__);return Q.push({func:z,args:arguments,thisArg:e}),Y.__chain__=U,Y}return z.apply(e,qt([this.value()],arguments))})}),e}function r0(){return Sn._===this&&(Sn._=Ag),this}function _s(){}function o0(e){return e=We(e),Ve(function(t){return bu(t,e)})}var a0=Ka(cn),s0=Ka(Fl),l0=Ka(wa);function Lc(e){return is(e)?xa(yt(e)):Lm(e)}function u0(e){return function(t){return e==null?r:oi(e,t)}}var c0=Gu(),d0=Gu(!0);function bs(){return[]}function ws(){return!1}function f0(){return{}}function h0(){return""}function g0(){return!0}function m0(e,t){if(e=We(e),e<1||e>ne)return[];var a=re,c=In(e,re);t=Ie(t),e-=re;for(var h=Sa(c,t);++a<e;)t(a);return h}function p0(e){return Fe(e)?cn(e,yt):Xn(e)?[e]:Bn(rc(nn(e)))}function v0(e){var t=++Cg;return nn(e)+t}var y0=ro(function(e,t){return e+t},0),_0=Za("ceil"),b0=ro(function(e,t){return e/t},1),w0=Za("floor");function x0(e){return e&&e.length?Zr(e,qn,Da):r}function k0(e,t){return e&&e.length?Zr(e,Ie(t,2),Da):r}function E0(e){return Wl(e,qn)}function S0(e,t){return Wl(e,Ie(t,2))}function M0(e){return e&&e.length?Zr(e,qn,qa):r}function T0(e,t){return e&&e.length?Zr(e,Ie(t,2),qa):r}var C0=ro(function(e,t){return e*t},1),I0=Za("round"),A0=ro(function(e,t){return e-t},0);function N0(e){return e&&e.length?Ea(e,qn):0}function z0(e,t){return e&&e.length?Ea(e,Ie(t,2)):0}return g.after=ey,g.ary=mc,g.assign=Fy,g.assignIn=Ic,g.assignInWith=yo,g.assignWith=Gy,g.at=$y,g.before=pc,g.bind=us,g.bindAll=X_,g.bindKey=vc,g.castArray=fy,g.chain=fc,g.chunk=wp,g.compact=xp,g.concat=kp,g.cond=j_,g.conforms=K_,g.constant=ps,g.countBy=Nv,g.create=Wy,g.curry=yc,g.curryRight=_c,g.debounce=bc,g.defaults=Uy,g.defaultsDeep=Vy,g.defer=ny,g.delay=ty,g.difference=Ep,g.differenceBy=Sp,g.differenceWith=Mp,g.drop=Tp,g.dropRight=Cp,g.dropRightWhile=Ip,g.dropWhile=Ap,g.fill=Np,g.filter=Pv,g.flatMap=Dv,g.flatMapDeep=Bv,g.flatMapDepth=Lv,g.flatten=lc,g.flattenDeep=zp,g.flattenDepth=Pp,g.flip=iy,g.flow=J_,g.flowRight=Q_,g.fromPairs=Op,g.functions=Qy,g.functionsIn=e_,g.groupBy=Hv,g.initial=Dp,g.intersection=Bp,g.intersectionBy=Lp,g.intersectionWith=Hp,g.invert=t_,g.invertBy=i_,g.invokeMap=Fv,g.iteratee=vs,g.keyBy=Gv,g.keys=En,g.keysIn=Hn,g.map=fo,g.mapKeys=o_,g.mapValues=a_,g.matches=e0,g.matchesProperty=n0,g.memoize=go,g.merge=s_,g.mergeWith=Ac,g.method=t0,g.methodOf=i0,g.mixin=ys,g.negate=mo,g.nthArg=o0,g.omit=l_,g.omitBy=u_,g.once=ry,g.orderBy=$v,g.over=a0,g.overArgs=oy,g.overEvery=s0,g.overSome=l0,g.partial=cs,g.partialRight=wc,g.partition=Wv,g.pick=c_,g.pickBy=Nc,g.property=Lc,g.propertyOf=u0,g.pull=$p,g.pullAll=cc,g.pullAllBy=Wp,g.pullAllWith=Up,g.pullAt=Vp,g.range=c0,g.rangeRight=d0,g.rearg=ay,g.reject=Yv,g.remove=Yp,g.rest=sy,g.reverse=ss,g.sampleSize=jv,g.set=f_,g.setWith=h_,g.shuffle=Kv,g.slice=Xp,g.sortBy=Qv,g.sortedUniq=nv,g.sortedUniqBy=tv,g.split=D_,g.spread=ly,g.tail=iv,g.take=rv,g.takeRight=ov,g.takeRightWhile=av,g.takeWhile=sv,g.tap=xv,g.throttle=uy,g.thru=co,g.toArray=Mc,g.toPairs=zc,g.toPairsIn=Pc,g.toPath=p0,g.toPlainObject=Cc,g.transform=g_,g.unary=cy,g.union=lv,g.unionBy=uv,g.unionWith=cv,g.uniq=dv,g.uniqBy=fv,g.uniqWith=hv,g.unset=m_,g.unzip=ls,g.unzipWith=dc,g.update=p_,g.updateWith=v_,g.values=Pi,g.valuesIn=y_,g.without=gv,g.words=Dc,g.wrap=dy,g.xor=mv,g.xorBy=pv,g.xorWith=vv,g.zip=yv,g.zipObject=_v,g.zipObjectDeep=bv,g.zipWith=wv,g.entries=zc,g.entriesIn=Pc,g.extend=Ic,g.extendWith=yo,ys(g,g),g.add=y0,g.attempt=Bc,g.camelCase=x_,g.capitalize=Oc,g.ceil=_0,g.clamp=__,g.clone=hy,g.cloneDeep=my,g.cloneDeepWith=py,g.cloneWith=gy,g.conformsTo=vy,g.deburr=Rc,g.defaultTo=Z_,g.divide=b0,g.endsWith=k_,g.eq=ct,g.escape=E_,g.escapeRegExp=S_,g.every=zv,g.find=Ov,g.findIndex=ac,g.findKey=Yy,g.findLast=Rv,g.findLastIndex=sc,g.findLastKey=Xy,g.floor=w0,g.forEach=hc,g.forEachRight=gc,g.forIn=jy,g.forInRight=Ky,g.forOwn=Zy,g.forOwnRight=Jy,g.get=hs,g.gt=yy,g.gte=_y,g.has=n_,g.hasIn=gs,g.head=uc,g.identity=qn,g.includes=qv,g.indexOf=Rp,g.inRange=b_,g.invoke=r_,g.isArguments=li,g.isArray=Fe,g.isArrayBuffer=by,g.isArrayLike=Ln,g.isArrayLikeObject=pn,g.isBoolean=wy,g.isBuffer=Yt,g.isDate=xy,g.isElement=ky,g.isEmpty=Ey,g.isEqual=Sy,g.isEqualWith=My,g.isError=ds,g.isFinite=Ty,g.isFunction=It,g.isInteger=xc,g.isLength=po,g.isMap=kc,g.isMatch=Cy,g.isMatchWith=Iy,g.isNaN=Ay,g.isNative=Ny,g.isNil=Py,g.isNull=zy,g.isNumber=Ec,g.isObject=dn,g.isObjectLike=hn,g.isPlainObject=cr,g.isRegExp=fs,g.isSafeInteger=Oy,g.isSet=Sc,g.isString=vo,g.isSymbol=Xn,g.isTypedArray=zi,g.isUndefined=Ry,g.isWeakMap=Dy,g.isWeakSet=By,g.join=qp,g.kebabCase=M_,g.last=rt,g.lastIndexOf=Fp,g.lowerCase=T_,g.lowerFirst=C_,g.lt=Ly,g.lte=Hy,g.max=x0,g.maxBy=k0,g.mean=E0,g.meanBy=S0,g.min=M0,g.minBy=T0,g.stubArray=bs,g.stubFalse=ws,g.stubObject=f0,g.stubString=h0,g.stubTrue=g0,g.multiply=C0,g.nth=Gp,g.noConflict=r0,g.noop=_s,g.now=ho,g.pad=I_,g.padEnd=A_,g.padStart=N_,g.parseInt=z_,g.random=w_,g.reduce=Uv,g.reduceRight=Vv,g.repeat=P_,g.replace=O_,g.result=d_,g.round=I0,g.runInContext=I,g.sample=Xv,g.size=Zv,g.snakeCase=R_,g.some=Jv,g.sortedIndex=jp,g.sortedIndexBy=Kp,g.sortedIndexOf=Zp,g.sortedLastIndex=Jp,g.sortedLastIndexBy=Qp,g.sortedLastIndexOf=ev,g.startCase=B_,g.startsWith=L_,g.subtract=A0,g.sum=N0,g.sumBy=z0,g.template=H_,g.times=m0,g.toFinite=At,g.toInteger=We,g.toLength=Tc,g.toLower=q_,g.toNumber=ot,g.toSafeInteger=qy,g.toString=nn,g.toUpper=F_,g.trim=G_,g.trimEnd=$_,g.trimStart=W_,g.truncate=U_,g.unescape=V_,g.uniqueId=v0,g.upperCase=Y_,g.upperFirst=ms,g.each=hc,g.eachRight=gc,g.first=uc,ys(g,function(){var e={};return pt(g,function(t,a){tn.call(g.prototype,a)||(e[a]=t)}),e}(),{chain:!1}),g.VERSION=o,Qn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){g[e].placeholder=g}),Qn(["drop","take"],function(e,t){je.prototype[e]=function(a){a=a===r?1:wn(We(a),0);var c=this.__filtered__&&!t?new je(this):this.clone();return c.__filtered__?c.__takeCount__=In(a,c.__takeCount__):c.__views__.push({size:In(a,re),type:e+(c.__dir__<0?"Right":"")}),c},je.prototype[e+"Right"]=function(a){return this.reverse()[e](a).reverse()}}),Qn(["filter","map","takeWhile"],function(e,t){var a=t+1,c=a==N||a==B;je.prototype[e]=function(h){var y=this.clone();return y.__iteratees__.push({iteratee:Ie(h,3),type:a}),y.__filtered__=y.__filtered__||c,y}}),Qn(["head","last"],function(e,t){var a="take"+(t?"Right":"");je.prototype[e]=function(){return this[a](1).value()[0]}}),Qn(["initial","tail"],function(e,t){var a="drop"+(t?"":"Right");je.prototype[e]=function(){return this.__filtered__?new je(this):this[a](1)}}),je.prototype.compact=function(){return this.filter(qn)},je.prototype.find=function(e){return this.filter(e).head()},je.prototype.findLast=function(e){return this.reverse().find(e)},je.prototype.invokeMap=Ve(function(e,t){return typeof e=="function"?new je(this):this.map(function(a){return rr(a,e,t)})}),je.prototype.reject=function(e){return this.filter(mo(Ie(e)))},je.prototype.slice=function(e,t){e=We(e);var a=this;return a.__filtered__&&(e>0||t<0)?new je(a):(e<0?a=a.takeRight(-e):e&&(a=a.drop(e)),t!==r&&(t=We(t),a=t<0?a.dropRight(-t):a.take(t-e)),a)},je.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},je.prototype.toArray=function(){return this.take(re)},pt(je.prototype,function(e,t){var a=/^(?:filter|find|map|reject)|While$/.test(t),c=/^(?:head|last)$/.test(t),h=g[c?"take"+(t=="last"?"Right":""):t],y=c||/^find/.test(t);h&&(g.prototype[t]=function(){var w=this.__wrapped__,S=c?[1]:arguments,z=w instanceof je,U=S[0],Y=z||Fe(w),Q=function(Xe){var Ke=h.apply(g,qt([Xe],S));return c&&fe?Ke[0]:Ke};Y&&a&&typeof U=="function"&&U.length!=1&&(z=Y=!1);var fe=this.__chain__,we=!!this.__actions__.length,Ae=y&&!fe,Ue=z&&!we;if(!y&&Y){w=Ue?w:new je(this);var Ne=e.apply(w,S);return Ne.__actions__.push({func:co,args:[Q],thisArg:r}),new nt(Ne,fe)}return Ae&&Ue?e.apply(this,S):(Ne=this.thru(Q),Ae?c?Ne.value()[0]:Ne.value():Ne)})}),Qn(["pop","push","shift","sort","splice","unshift"],function(e){var t=Dr[e],a=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",c=/^(?:pop|shift)$/.test(e);g.prototype[e]=function(){var h=arguments;if(c&&!this.__chain__){var y=this.value();return t.apply(Fe(y)?y:[],h)}return this[a](function(w){return t.apply(Fe(w)?w:[],h)})}}),pt(je.prototype,function(e,t){var a=g[t];if(a){var c=a.name+"";tn.call(Ti,c)||(Ti[c]=[]),Ti[c].push({name:t,func:a})}}),Ti[io(r,T).name]=[{name:"wrapper",func:r}],je.prototype.clone=Vg,je.prototype.reverse=Yg,je.prototype.value=Xg,g.prototype.at=kv,g.prototype.chain=Ev,g.prototype.commit=Sv,g.prototype.next=Mv,g.prototype.plant=Cv,g.prototype.reverse=Iv,g.prototype.toJSON=g.prototype.valueOf=g.prototype.value=Av,g.prototype.first=g.prototype.head,Zi&&(g.prototype[Zi]=Tv),g},Ei=Sg();ei?((ei.exports=Ei)._=Ei,va._=Ei):Sn._=Ei}).call(dr)})(Ro,Ro.exports);var Gb=Ro.exports;const $b=L0(Gb);function Yo(n){return Dd()?(To(n),!0):!1}function Dt(n){return typeof n=="function"?n():Oe(n)}const Wb=typeof window!="undefined"&&typeof document!="undefined",Ub=n=>typeof n!="undefined",Vb=Object.prototype.toString,Yb=n=>Vb.call(n)==="[object Object]",Xb=()=>{};function jb(n,i){function r(...o){return new Promise((s,u)=>{Promise.resolve(n(()=>i.apply(this,o),{fn:i,thisArg:this,args:o})).then(s).catch(u)})}return r}const Xd=n=>n();function Kb(n=Xd){const i=Pe(!0);function r(){i.value=!1}function o(){i.value=!0}const s=(...u)=>{i.value&&n(...u)};return{isActive:W0(i),pause:r,resume:o,eventFilter:s}}function Fc(n,i=!1,r="Timeout"){return new Promise((o,s)=>{setTimeout(i?()=>s(r):o,n)})}function Zb(n,i,r={}){const{eventFilter:o=Xd,...s}=r;return en(n,jb(o,i),s)}function Oi(n,i,r={}){const{eventFilter:o,...s}=r,{eventFilter:u,pause:l,resume:d,isActive:f}=Kb(o);return{stop:Zb(n,i,{...s,eventFilter:u}),pause:l,resume:d,isActive:f}}function Jb(n,i={}){if(!Zs(n))return F0(n);const r=Array.isArray(n.value)?Array.from({length:n.value.length}):{};for(const o in n.value)r[o]=G0(()=>({get(){return n.value[o]},set(s){var u;if((u=Dt(i.replaceRef))!=null?u:!0)if(Array.isArray(n.value)){const d=[...n.value];d[o]=s,n.value=d}else{const d={...n.value,[o]:s};Object.setPrototypeOf(d,Object.getPrototypeOf(n.value)),n.value=d}else n.value[o]=s}}));return r}function Rs(n,i=!1){function r(_,{flush:k="sync",deep:E=!1,timeout:O,throwOnTimeout:M}={}){let A=null;const b=[new Promise(R=>{A=en(n,P=>{_(P)!==i&&(A==null||A(),R(P))},{flush:k,deep:E,immediate:!0})})];return O!=null&&b.push(Fc(O,M).then(()=>Dt(n)).finally(()=>A==null?void 0:A())),Promise.race(b)}function o(_,k){if(!Zs(_))return r(P=>P===_,k);const{flush:E="sync",deep:O=!1,timeout:M,throwOnTimeout:A}=k!=null?k:{};let T=null;const R=[new Promise(P=>{T=en([n,_],([ee,le])=>{i!==(ee===le)&&(T==null||T(),P(ee))},{flush:E,deep:O,immediate:!0})})];return M!=null&&R.push(Fc(M,A).then(()=>Dt(n)).finally(()=>(T==null||T(),Dt(n)))),Promise.race(R)}function s(_){return r(k=>!!k,_)}function u(_){return o(null,_)}function l(_){return o(void 0,_)}function d(_){return r(Number.isNaN,_)}function f(_,k){return r(E=>{const O=Array.from(E);return O.includes(_)||O.includes(Dt(_))},k)}function m(_){return p(1,_)}function p(_=1,k){let E=-1;return r(()=>(E+=1,E>=_),k)}return Array.isArray(Dt(n))?{toMatch:r,toContains:f,changed:m,changedTimes:p,get not(){return Rs(n,!i)}}:{toMatch:r,toBe:o,toBeTruthy:s,toBeNull:u,toBeNaN:d,toBeUndefined:l,changed:m,changedTimes:p,get not(){return Rs(n,!i)}}}function Ds(n){return Rs(n)}function Qb(n){var i;const r=Dt(n);return(i=r==null?void 0:r.$el)!=null?i:r}const jd=Wb?window:void 0;function Kd(...n){let i,r,o,s;if(typeof n[0]=="string"||Array.isArray(n[0])?([r,o,s]=n,i=jd):[i,r,o,s]=n,!i)return Xb;Array.isArray(r)||(r=[r]),Array.isArray(o)||(o=[o]);const u=[],l=()=>{u.forEach(p=>p()),u.length=0},d=(p,_,k,E)=>(p.addEventListener(_,k,E),()=>p.removeEventListener(_,k,E)),f=en(()=>[Qb(i),Dt(s)],([p,_])=>{if(l(),!p)return;const k=Yb(_)?{..._}:_;u.push(...r.flatMap(E=>o.map(O=>d(p,E,O,k))))},{immediate:!0,flush:"post"}),m=()=>{f(),l()};return Yo(m),m}function ew(n){return typeof n=="function"?n:typeof n=="string"?i=>i.key===n:Array.isArray(n)?i=>n.includes(i.key):()=>!0}function Gc(...n){let i,r,o={};n.length===3?(i=n[0],r=n[1],o=n[2]):n.length===2?typeof n[1]=="object"?(i=!0,r=n[0],o=n[1]):(i=n[0],r=n[1]):(i=!0,r=n[0]);const{target:s=jd,eventName:u="keydown",passive:l=!1,dedupe:d=!1}=o,f=ew(i);return Kd(s,u,p=>{p.repeat&&Dt(d)||f(p)&&r(p)},l)}function nw(n){return JSON.parse(JSON.stringify(n))}function xs(n,i,r,o={}){var s,u,l;const{clone:d=!1,passive:f=!1,eventName:m,deep:p=!1,defaultValue:_,shouldEmit:k}=o,E=Tr(),O=r||(E==null?void 0:E.emit)||((s=E==null?void 0:E.$emit)==null?void 0:s.bind(E))||((l=(u=E==null?void 0:E.proxy)==null?void 0:u.$emit)==null?void 0:l.bind(E==null?void 0:E.proxy));let M=m;i||(i="modelValue"),M=M||`update:${i.toString()}`;const A=R=>d?typeof d=="function"?d(R):nw(R):R,T=()=>Ub(n[i])?A(n[i]):_,b=R=>{k?k(R)&&O(M,R):O(M,R)};if(f){const R=T(),P=Pe(R);let ee=!1;return en(()=>n[i],le=>{ee||(ee=!0,P.value=A(le),Fn(()=>ee=!1))}),en(P,le=>{!ee&&(le!==n[i]||p)&&b(le)},{deep:p}),P}else return Me({get(){return T()},set(R){b(R)}})}var tw={value:()=>{}};function Xo(){for(var n=0,i=arguments.length,r={},o;n<i;++n){if(!(o=arguments[n]+"")||o in r||/[\s.]/.test(o))throw new Error("illegal type: "+o);r[o]=[]}return new Co(r)}function Co(n){this._=n}function iw(n,i){return n.trim().split(/^|\s+/).map(function(r){var o="",s=r.indexOf(".");if(s>=0&&(o=r.slice(s+1),r=r.slice(0,s)),r&&!i.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:o}})}Co.prototype=Xo.prototype={constructor:Co,on:function(n,i){var r=this._,o=iw(n+"",r),s,u=-1,l=o.length;if(arguments.length<2){for(;++u<l;)if((s=(n=o[u]).type)&&(s=rw(r[s],n.name)))return s;return}if(i!=null&&typeof i!="function")throw new Error("invalid callback: "+i);for(;++u<l;)if(s=(n=o[u]).type)r[s]=$c(r[s],n.name,i);else if(i==null)for(s in r)r[s]=$c(r[s],n.name,null);return this},copy:function(){var n={},i=this._;for(var r in i)n[r]=i[r].slice();return new Co(n)},call:function(n,i){if((s=arguments.length-2)>0)for(var r=new Array(s),o=0,s,u;o<s;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(u=this._[n],o=0,s=u.length;o<s;++o)u[o].value.apply(i,r)},apply:function(n,i,r){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var o=this._[n],s=0,u=o.length;s<u;++s)o[s].value.apply(i,r)}};function rw(n,i){for(var r=0,o=n.length,s;r<o;++r)if((s=n[r]).name===i)return s.value}function $c(n,i,r){for(var o=0,s=n.length;o<s;++o)if(n[o].name===i){n[o]=tw,n=n.slice(0,o).concat(n.slice(o+1));break}return r!=null&&n.push({name:i,value:r}),n}var Bs="http://www.w3.org/1999/xhtml";const Wc={svg:"http://www.w3.org/2000/svg",xhtml:Bs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function jo(n){var i=n+="",r=i.indexOf(":");return r>=0&&(i=n.slice(0,r))!=="xmlns"&&(n=n.slice(r+1)),Wc.hasOwnProperty(i)?{space:Wc[i],local:n}:n}function ow(n){return function(){var i=this.ownerDocument,r=this.namespaceURI;return r===Bs&&i.documentElement.namespaceURI===Bs?i.createElement(n):i.createElementNS(r,n)}}function aw(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Zd(n){var i=jo(n);return(i.local?aw:ow)(i)}function sw(){}function el(n){return n==null?sw:function(){return this.querySelector(n)}}function lw(n){typeof n!="function"&&(n=el(n));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var u=i[s],l=u.length,d=o[s]=new Array(l),f,m,p=0;p<l;++p)(f=u[p])&&(m=n.call(f,f.__data__,p,u))&&("__data__"in f&&(m.__data__=f.__data__),d[p]=m);return new Zn(o,this._parents)}function uw(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function cw(){return[]}function Jd(n){return n==null?cw:function(){return this.querySelectorAll(n)}}function dw(n){return function(){return uw(n.apply(this,arguments))}}function fw(n){typeof n=="function"?n=dw(n):n=Jd(n);for(var i=this._groups,r=i.length,o=[],s=[],u=0;u<r;++u)for(var l=i[u],d=l.length,f,m=0;m<d;++m)(f=l[m])&&(o.push(n.call(f,f.__data__,m,l)),s.push(f));return new Zn(o,s)}function Qd(n){return function(){return this.matches(n)}}function ef(n){return function(i){return i.matches(n)}}var hw=Array.prototype.find;function gw(n){return function(){return hw.call(this.children,n)}}function mw(){return this.firstElementChild}function pw(n){return this.select(n==null?mw:gw(typeof n=="function"?n:ef(n)))}var vw=Array.prototype.filter;function yw(){return Array.from(this.children)}function _w(n){return function(){return vw.call(this.children,n)}}function bw(n){return this.selectAll(n==null?yw:_w(typeof n=="function"?n:ef(n)))}function ww(n){typeof n!="function"&&(n=Qd(n));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var u=i[s],l=u.length,d=o[s]=[],f,m=0;m<l;++m)(f=u[m])&&n.call(f,f.__data__,m,u)&&d.push(f);return new Zn(o,this._parents)}function nf(n){return new Array(n.length)}function xw(){return new Zn(this._enter||this._groups.map(nf),this._parents)}function Do(n,i){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=i}Do.prototype={constructor:Do,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,i){return this._parent.insertBefore(n,i)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function kw(n){return function(){return n}}function Ew(n,i,r,o,s,u){for(var l=0,d,f=i.length,m=u.length;l<m;++l)(d=i[l])?(d.__data__=u[l],o[l]=d):r[l]=new Do(n,u[l]);for(;l<f;++l)(d=i[l])&&(s[l]=d)}function Sw(n,i,r,o,s,u,l){var d,f,m=new Map,p=i.length,_=u.length,k=new Array(p),E;for(d=0;d<p;++d)(f=i[d])&&(k[d]=E=l.call(f,f.__data__,d,i)+"",m.has(E)?s[d]=f:m.set(E,f));for(d=0;d<_;++d)E=l.call(n,u[d],d,u)+"",(f=m.get(E))?(o[d]=f,f.__data__=u[d],m.delete(E)):r[d]=new Do(n,u[d]);for(d=0;d<p;++d)(f=i[d])&&m.get(k[d])===f&&(s[d]=f)}function Mw(n){return n.__data__}function Tw(n,i){if(!arguments.length)return Array.from(this,Mw);var r=i?Sw:Ew,o=this._parents,s=this._groups;typeof n!="function"&&(n=kw(n));for(var u=s.length,l=new Array(u),d=new Array(u),f=new Array(u),m=0;m<u;++m){var p=o[m],_=s[m],k=_.length,E=Cw(n.call(p,p&&p.__data__,m,o)),O=E.length,M=d[m]=new Array(O),A=l[m]=new Array(O),T=f[m]=new Array(k);r(p,_,M,A,T,E,i);for(var b=0,R=0,P,ee;b<O;++b)if(P=M[b]){for(b>=R&&(R=b+1);!(ee=A[R])&&++R<O;);P._next=ee||null}}return l=new Zn(l,o),l._enter=d,l._exit=f,l}function Cw(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function Iw(){return new Zn(this._exit||this._groups.map(nf),this._parents)}function Aw(n,i,r){var o=this.enter(),s=this,u=this.exit();return typeof n=="function"?(o=n(o),o&&(o=o.selection())):o=o.append(n+""),i!=null&&(s=i(s),s&&(s=s.selection())),r==null?u.remove():r(u),o&&s?o.merge(s).order():s}function Nw(n){for(var i=n.selection?n.selection():n,r=this._groups,o=i._groups,s=r.length,u=o.length,l=Math.min(s,u),d=new Array(s),f=0;f<l;++f)for(var m=r[f],p=o[f],_=m.length,k=d[f]=new Array(_),E,O=0;O<_;++O)(E=m[O]||p[O])&&(k[O]=E);for(;f<s;++f)d[f]=r[f];return new Zn(d,this._parents)}function zw(){for(var n=this._groups,i=-1,r=n.length;++i<r;)for(var o=n[i],s=o.length-1,u=o[s],l;--s>=0;)(l=o[s])&&(u&&l.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(l,u),u=l);return this}function Pw(n){n||(n=Ow);function i(_,k){return _&&k?n(_.__data__,k.__data__):!_-!k}for(var r=this._groups,o=r.length,s=new Array(o),u=0;u<o;++u){for(var l=r[u],d=l.length,f=s[u]=new Array(d),m,p=0;p<d;++p)(m=l[p])&&(f[p]=m);f.sort(i)}return new Zn(s,this._parents).order()}function Ow(n,i){return n<i?-1:n>i?1:n>=i?0:NaN}function Rw(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function Dw(){return Array.from(this)}function Bw(){for(var n=this._groups,i=0,r=n.length;i<r;++i)for(var o=n[i],s=0,u=o.length;s<u;++s){var l=o[s];if(l)return l}return null}function Lw(){let n=0;for(const i of this)++n;return n}function Hw(){return!this.node()}function qw(n){for(var i=this._groups,r=0,o=i.length;r<o;++r)for(var s=i[r],u=0,l=s.length,d;u<l;++u)(d=s[u])&&n.call(d,d.__data__,u,s);return this}function Fw(n){return function(){this.removeAttribute(n)}}function Gw(n){return function(){this.removeAttributeNS(n.space,n.local)}}function $w(n,i){return function(){this.setAttribute(n,i)}}function Ww(n,i){return function(){this.setAttributeNS(n.space,n.local,i)}}function Uw(n,i){return function(){var r=i.apply(this,arguments);r==null?this.removeAttribute(n):this.setAttribute(n,r)}}function Vw(n,i){return function(){var r=i.apply(this,arguments);r==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,r)}}function Yw(n,i){var r=jo(n);if(arguments.length<2){var o=this.node();return r.local?o.getAttributeNS(r.space,r.local):o.getAttribute(r)}return this.each((i==null?r.local?Gw:Fw:typeof i=="function"?r.local?Vw:Uw:r.local?Ww:$w)(r,i))}function tf(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function Xw(n){return function(){this.style.removeProperty(n)}}function jw(n,i,r){return function(){this.style.setProperty(n,i,r)}}function Kw(n,i,r){return function(){var o=i.apply(this,arguments);o==null?this.style.removeProperty(n):this.style.setProperty(n,o,r)}}function Zw(n,i,r){return arguments.length>1?this.each((i==null?Xw:typeof i=="function"?Kw:jw)(n,i,r==null?"":r)):Wi(this.node(),n)}function Wi(n,i){return n.style.getPropertyValue(i)||tf(n).getComputedStyle(n,null).getPropertyValue(i)}function Jw(n){return function(){delete this[n]}}function Qw(n,i){return function(){this[n]=i}}function e1(n,i){return function(){var r=i.apply(this,arguments);r==null?delete this[n]:this[n]=r}}function n1(n,i){return arguments.length>1?this.each((i==null?Jw:typeof i=="function"?e1:Qw)(n,i)):this.node()[n]}function rf(n){return n.trim().split(/^|\s+/)}function nl(n){return n.classList||new of(n)}function of(n){this._node=n,this._names=rf(n.getAttribute("class")||"")}of.prototype={add:function(n){var i=this._names.indexOf(n);i<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var i=this._names.indexOf(n);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function af(n,i){for(var r=nl(n),o=-1,s=i.length;++o<s;)r.add(i[o])}function sf(n,i){for(var r=nl(n),o=-1,s=i.length;++o<s;)r.remove(i[o])}function t1(n){return function(){af(this,n)}}function i1(n){return function(){sf(this,n)}}function r1(n,i){return function(){(i.apply(this,arguments)?af:sf)(this,n)}}function o1(n,i){var r=rf(n+"");if(arguments.length<2){for(var o=nl(this.node()),s=-1,u=r.length;++s<u;)if(!o.contains(r[s]))return!1;return!0}return this.each((typeof i=="function"?r1:i?t1:i1)(r,i))}function a1(){this.textContent=""}function s1(n){return function(){this.textContent=n}}function l1(n){return function(){var i=n.apply(this,arguments);this.textContent=i==null?"":i}}function u1(n){return arguments.length?this.each(n==null?a1:(typeof n=="function"?l1:s1)(n)):this.node().textContent}function c1(){this.innerHTML=""}function d1(n){return function(){this.innerHTML=n}}function f1(n){return function(){var i=n.apply(this,arguments);this.innerHTML=i==null?"":i}}function h1(n){return arguments.length?this.each(n==null?c1:(typeof n=="function"?f1:d1)(n)):this.node().innerHTML}function g1(){this.nextSibling&&this.parentNode.appendChild(this)}function m1(){return this.each(g1)}function p1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function v1(){return this.each(p1)}function y1(n){var i=typeof n=="function"?n:Zd(n);return this.select(function(){return this.appendChild(i.apply(this,arguments))})}function _1(){return null}function b1(n,i){var r=typeof n=="function"?n:Zd(n),o=i==null?_1:typeof i=="function"?i:el(i);return this.select(function(){return this.insertBefore(r.apply(this,arguments),o.apply(this,arguments)||null)})}function w1(){var n=this.parentNode;n&&n.removeChild(this)}function x1(){return this.each(w1)}function k1(){var n=this.cloneNode(!1),i=this.parentNode;return i?i.insertBefore(n,this.nextSibling):n}function E1(){var n=this.cloneNode(!0),i=this.parentNode;return i?i.insertBefore(n,this.nextSibling):n}function S1(n){return this.select(n?E1:k1)}function M1(n){return arguments.length?this.property("__data__",n):this.node().__data__}function T1(n){return function(i){n.call(this,i,this.__data__)}}function C1(n){return n.trim().split(/^|\s+/).map(function(i){var r="",o=i.indexOf(".");return o>=0&&(r=i.slice(o+1),i=i.slice(0,o)),{type:i,name:r}})}function I1(n){return function(){var i=this.__on;if(i){for(var r=0,o=-1,s=i.length,u;r<s;++r)u=i[r],(!n.type||u.type===n.type)&&u.name===n.name?this.removeEventListener(u.type,u.listener,u.options):i[++o]=u;++o?i.length=o:delete this.__on}}}function A1(n,i,r){return function(){var o=this.__on,s,u=T1(i);if(o){for(var l=0,d=o.length;l<d;++l)if((s=o[l]).type===n.type&&s.name===n.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=u,s.options=r),s.value=i;return}}this.addEventListener(n.type,u,r),s={type:n.type,name:n.name,value:i,listener:u,options:r},o?o.push(s):this.__on=[s]}}function N1(n,i,r){var o=C1(n+""),s,u=o.length,l;if(arguments.length<2){var d=this.node().__on;if(d){for(var f=0,m=d.length,p;f<m;++f)for(s=0,p=d[f];s<u;++s)if((l=o[s]).type===p.type&&l.name===p.name)return p.value}return}for(d=i?A1:I1,s=0;s<u;++s)this.each(d(o[s],i,r));return this}function lf(n,i,r){var o=tf(n),s=o.CustomEvent;typeof s=="function"?s=new s(i,r):(s=o.document.createEvent("Event"),r?(s.initEvent(i,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(i,!1,!1)),n.dispatchEvent(s)}function z1(n,i){return function(){return lf(this,n,i)}}function P1(n,i){return function(){return lf(this,n,i.apply(this,arguments))}}function O1(n,i){return this.each((typeof i=="function"?P1:z1)(n,i))}function*R1(){for(var n=this._groups,i=0,r=n.length;i<r;++i)for(var o=n[i],s=0,u=o.length,l;s<u;++s)(l=o[s])&&(yield l)}var uf=[null];function Zn(n,i){this._groups=n,this._parents=i}function Cr(){return new Zn([[document.documentElement]],uf)}function D1(){return this}Zn.prototype=Cr.prototype={constructor:Zn,select:lw,selectAll:fw,selectChild:pw,selectChildren:bw,filter:ww,data:Tw,enter:xw,exit:Iw,join:Aw,merge:Nw,selection:D1,order:zw,sort:Pw,call:Rw,nodes:Dw,node:Bw,size:Lw,empty:Hw,each:qw,attr:Yw,style:Zw,property:n1,classed:o1,text:u1,html:h1,raise:m1,lower:v1,append:y1,insert:b1,remove:x1,clone:S1,datum:M1,on:N1,dispatch:O1,[Symbol.iterator]:R1};function ft(n){return typeof n=="string"?new Zn([[document.querySelector(n)]],[document.documentElement]):new Zn([[n]],uf)}function B1(n){let i;for(;i=n.sourceEvent;)n=i;return n}function _t(n,i){if(n=B1(n),i===void 0&&(i=n.currentTarget),i){var r=i.ownerSVGElement||i;if(r.createSVGPoint){var o=r.createSVGPoint();return o.x=n.clientX,o.y=n.clientY,o=o.matrixTransform(i.getScreenCTM().inverse()),[o.x,o.y]}if(i.getBoundingClientRect){var s=i.getBoundingClientRect();return[n.clientX-s.left-i.clientLeft,n.clientY-s.top-i.clientTop]}}return[n.pageX,n.pageY]}const L1={passive:!1},br={capture:!0,passive:!1};function ks(n){n.stopImmediatePropagation()}function qi(n){n.preventDefault(),n.stopImmediatePropagation()}function cf(n){var i=n.document.documentElement,r=ft(n).on("dragstart.drag",qi,br);"onselectstart"in i?r.on("selectstart.drag",qi,br):(i.__noselect=i.style.MozUserSelect,i.style.MozUserSelect="none")}function df(n,i){var r=n.document.documentElement,o=ft(n).on("dragstart.drag",null);i&&(o.on("click.drag",qi,br),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in r?o.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const _o=n=>()=>n;function Ls(n,{sourceEvent:i,subject:r,target:o,identifier:s,active:u,x:l,y:d,dx:f,dy:m,dispatch:p}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:d,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:m,enumerable:!0,configurable:!0},_:{value:p}})}Ls.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function H1(n){return!n.ctrlKey&&!n.button}function q1(){return this.parentNode}function F1(n,i){return i==null?{x:n.x,y:n.y}:i}function G1(){return navigator.maxTouchPoints||"ontouchstart"in this}function $1(){var n=H1,i=q1,r=F1,o=G1,s={},u=Xo("start","drag","end"),l=0,d,f,m,p,_=0;function k(P){P.on("mousedown.drag",E).filter(o).on("touchstart.drag",A).on("touchmove.drag",T,L1).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function E(P,ee){if(!(p||!n.call(this,P,ee))){var le=R(this,i.call(this,P,ee),P,ee,"mouse");le&&(ft(P.view).on("mousemove.drag",O,br).on("mouseup.drag",M,br),cf(P.view),ks(P),m=!1,d=P.clientX,f=P.clientY,le("start",P))}}function O(P){if(qi(P),!m){var ee=P.clientX-d,le=P.clientY-f;m=ee*ee+le*le>_}s.mouse("drag",P)}function M(P){ft(P.view).on("mousemove.drag mouseup.drag",null),df(P.view,m),qi(P),s.mouse("end",P)}function A(P,ee){if(n.call(this,P,ee)){var le=P.changedTouches,oe=i.call(this,P,ee),ce=le.length,ve,ie;for(ve=0;ve<ce;++ve)(ie=R(this,oe,P,ee,le[ve].identifier,le[ve]))&&(ks(P),ie("start",P,le[ve]))}}function T(P){var ee=P.changedTouches,le=ee.length,oe,ce;for(oe=0;oe<le;++oe)(ce=s[ee[oe].identifier])&&(qi(P),ce("drag",P,ee[oe]))}function b(P){var ee=P.changedTouches,le=ee.length,oe,ce;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),oe=0;oe<le;++oe)(ce=s[ee[oe].identifier])&&(ks(P),ce("end",P,ee[oe]))}function R(P,ee,le,oe,ce,ve){var ie=u.copy(),C=_t(ve||le,ee),be,ze,N;if((N=r.call(P,new Ls("beforestart",{sourceEvent:le,target:k,identifier:ce,active:l,x:C[0],y:C[1],dx:0,dy:0,dispatch:ie}),oe))!=null)return be=N.x-C[0]||0,ze=N.y-C[1]||0,function $(B,V,ne){var ae=C,de;switch(B){case"start":s[ce]=$,de=l++;break;case"end":delete s[ce],--l;case"drag":C=_t(ne||V,ee),de=l;break}ie.call(B,P,new Ls(B,{sourceEvent:V,subject:N,target:k,identifier:ce,active:de,x:C[0]+be,y:C[1]+ze,dx:C[0]-ae[0],dy:C[1]-ae[1],dispatch:ie}),oe)}}return k.filter=function(P){return arguments.length?(n=typeof P=="function"?P:_o(!!P),k):n},k.container=function(P){return arguments.length?(i=typeof P=="function"?P:_o(P),k):i},k.subject=function(P){return arguments.length?(r=typeof P=="function"?P:_o(P),k):r},k.touchable=function(P){return arguments.length?(o=typeof P=="function"?P:_o(!!P),k):o},k.on=function(){var P=u.on.apply(u,arguments);return P===u?k:P},k.clickDistance=function(P){return arguments.length?(_=(P=+P)*P,k):Math.sqrt(_)},k}function tl(n,i,r){n.prototype=i.prototype=r,r.constructor=n}function ff(n,i){var r=Object.create(n.prototype);for(var o in i)r[o]=i[o];return r}function Ir(){}var wr=.7,Bo=1/wr,Fi="\\s*([+-]?\\d+)\\s*",xr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",W1=/^#([0-9a-f]{3,8})$/,U1=new RegExp(`^rgb\\(${Fi},${Fi},${Fi}\\)$`),V1=new RegExp(`^rgb\\(${bt},${bt},${bt}\\)$`),Y1=new RegExp(`^rgba\\(${Fi},${Fi},${Fi},${xr}\\)$`),X1=new RegExp(`^rgba\\(${bt},${bt},${bt},${xr}\\)$`),j1=new RegExp(`^hsl\\(${xr},${bt},${bt}\\)$`),K1=new RegExp(`^hsla\\(${xr},${bt},${bt},${xr}\\)$`),Uc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tl(Ir,kr,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Vc,formatHex:Vc,formatHex8:Z1,formatHsl:J1,formatRgb:Yc,toString:Yc});function Vc(){return this.rgb().formatHex()}function Z1(){return this.rgb().formatHex8()}function J1(){return hf(this).formatHsl()}function Yc(){return this.rgb().formatRgb()}function kr(n){var i,r;return n=(n+"").trim().toLowerCase(),(i=W1.exec(n))?(r=i[1].length,i=parseInt(i[1],16),r===6?Xc(i):r===3?new Gn(i>>8&15|i>>4&240,i>>4&15|i&240,(i&15)<<4|i&15,1):r===8?bo(i>>24&255,i>>16&255,i>>8&255,(i&255)/255):r===4?bo(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|i&240,((i&15)<<4|i&15)/255):null):(i=U1.exec(n))?new Gn(i[1],i[2],i[3],1):(i=V1.exec(n))?new Gn(i[1]*255/100,i[2]*255/100,i[3]*255/100,1):(i=Y1.exec(n))?bo(i[1],i[2],i[3],i[4]):(i=X1.exec(n))?bo(i[1]*255/100,i[2]*255/100,i[3]*255/100,i[4]):(i=j1.exec(n))?Zc(i[1],i[2]/100,i[3]/100,1):(i=K1.exec(n))?Zc(i[1],i[2]/100,i[3]/100,i[4]):Uc.hasOwnProperty(n)?Xc(Uc[n]):n==="transparent"?new Gn(NaN,NaN,NaN,0):null}function Xc(n){return new Gn(n>>16&255,n>>8&255,n&255,1)}function bo(n,i,r,o){return o<=0&&(n=i=r=NaN),new Gn(n,i,r,o)}function Q1(n){return n instanceof Ir||(n=kr(n)),n?(n=n.rgb(),new Gn(n.r,n.g,n.b,n.opacity)):new Gn}function Hs(n,i,r,o){return arguments.length===1?Q1(n):new Gn(n,i,r,o==null?1:o)}function Gn(n,i,r,o){this.r=+n,this.g=+i,this.b=+r,this.opacity=+o}tl(Gn,Hs,ff(Ir,{brighter(n){return n=n==null?Bo:Math.pow(Bo,n),new Gn(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?wr:Math.pow(wr,n),new Gn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Gn(gi(this.r),gi(this.g),gi(this.b),Lo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jc,formatHex:jc,formatHex8:ex,formatRgb:Kc,toString:Kc}));function jc(){return`#${fi(this.r)}${fi(this.g)}${fi(this.b)}`}function ex(){return`#${fi(this.r)}${fi(this.g)}${fi(this.b)}${fi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Kc(){const n=Lo(this.opacity);return`${n===1?"rgb(":"rgba("}${gi(this.r)}, ${gi(this.g)}, ${gi(this.b)}${n===1?")":`, ${n})`}`}function Lo(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function gi(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function fi(n){return n=gi(n),(n<16?"0":"")+n.toString(16)}function Zc(n,i,r,o){return o<=0?n=i=r=NaN:r<=0||r>=1?n=i=NaN:i<=0&&(n=NaN),new ht(n,i,r,o)}function hf(n){if(n instanceof ht)return new ht(n.h,n.s,n.l,n.opacity);if(n instanceof Ir||(n=kr(n)),!n)return new ht;if(n instanceof ht)return n;n=n.rgb();var i=n.r/255,r=n.g/255,o=n.b/255,s=Math.min(i,r,o),u=Math.max(i,r,o),l=NaN,d=u-s,f=(u+s)/2;return d?(i===u?l=(r-o)/d+(r<o)*6:r===u?l=(o-i)/d+2:l=(i-r)/d+4,d/=f<.5?u+s:2-u-s,l*=60):d=f>0&&f<1?0:l,new ht(l,d,f,n.opacity)}function nx(n,i,r,o){return arguments.length===1?hf(n):new ht(n,i,r,o==null?1:o)}function ht(n,i,r,o){this.h=+n,this.s=+i,this.l=+r,this.opacity=+o}tl(ht,nx,ff(Ir,{brighter(n){return n=n==null?Bo:Math.pow(Bo,n),new ht(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?wr:Math.pow(wr,n),new ht(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,i=isNaN(n)||isNaN(this.s)?0:this.s,r=this.l,o=r+(r<.5?r:1-r)*i,s=2*r-o;return new Gn(Es(n>=240?n-240:n+120,s,o),Es(n,s,o),Es(n<120?n+240:n-120,s,o),this.opacity)},clamp(){return new ht(Jc(this.h),wo(this.s),wo(this.l),Lo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Lo(this.opacity);return`${n===1?"hsl(":"hsla("}${Jc(this.h)}, ${wo(this.s)*100}%, ${wo(this.l)*100}%${n===1?")":`, ${n})`}`}}));function Jc(n){return n=(n||0)%360,n<0?n+360:n}function wo(n){return Math.max(0,Math.min(1,n||0))}function Es(n,i,r){return(n<60?i+(r-i)*n/60:n<180?r:n<240?i+(r-i)*(240-n)/60:i)*255}const gf=n=>()=>n;function tx(n,i){return function(r){return n+r*i}}function ix(n,i,r){return n=Math.pow(n,r),i=Math.pow(i,r)-n,r=1/r,function(o){return Math.pow(n+o*i,r)}}function rx(n){return(n=+n)==1?mf:function(i,r){return r-i?ix(i,r,n):gf(isNaN(i)?r:i)}}function mf(n,i){var r=i-n;return r?tx(n,r):gf(isNaN(n)?i:n)}const Qc=function n(i){var r=rx(i);function o(s,u){var l=r((s=Hs(s)).r,(u=Hs(u)).r),d=r(s.g,u.g),f=r(s.b,u.b),m=mf(s.opacity,u.opacity);return function(p){return s.r=l(p),s.g=d(p),s.b=f(p),s.opacity=m(p),s+""}}return o.gamma=n,o}(1);function Kt(n,i){return n=+n,i=+i,function(r){return n*(1-r)+i*r}}var qs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ss=new RegExp(qs.source,"g");function ox(n){return function(){return n}}function ax(n){return function(i){return n(i)+""}}function sx(n,i){var r=qs.lastIndex=Ss.lastIndex=0,o,s,u,l=-1,d=[],f=[];for(n=n+"",i=i+"";(o=qs.exec(n))&&(s=Ss.exec(i));)(u=s.index)>r&&(u=i.slice(r,u),d[l]?d[l]+=u:d[++l]=u),(o=o[0])===(s=s[0])?d[l]?d[l]+=s:d[++l]=s:(d[++l]=null,f.push({i:l,x:Kt(o,s)})),r=Ss.lastIndex;return r<i.length&&(u=i.slice(r),d[l]?d[l]+=u:d[++l]=u),d.length<2?f[0]?ax(f[0].x):ox(i):(i=f.length,function(m){for(var p=0,_;p<i;++p)d[(_=f[p]).i]=_.x(m);return d.join("")})}var ed=180/Math.PI,Fs={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function pf(n,i,r,o,s,u){var l,d,f;return(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l),(f=n*r+i*o)&&(r-=n*f,o-=i*f),(d=Math.sqrt(r*r+o*o))&&(r/=d,o/=d,f/=d),n*o<i*r&&(n=-n,i=-i,f=-f,l=-l),{translateX:s,translateY:u,rotate:Math.atan2(i,n)*ed,skewX:Math.atan(f)*ed,scaleX:l,scaleY:d}}var xo;function lx(n){const i=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return i.isIdentity?Fs:pf(i.a,i.b,i.c,i.d,i.e,i.f)}function ux(n){return n==null||(xo||(xo=document.createElementNS("http://www.w3.org/2000/svg","g")),xo.setAttribute("transform",n),!(n=xo.transform.baseVal.consolidate()))?Fs:(n=n.matrix,pf(n.a,n.b,n.c,n.d,n.e,n.f))}function vf(n,i,r,o){function s(m){return m.length?m.pop()+" ":""}function u(m,p,_,k,E,O){if(m!==_||p!==k){var M=E.push("translate(",null,i,null,r);O.push({i:M-4,x:Kt(m,_)},{i:M-2,x:Kt(p,k)})}else(_||k)&&E.push("translate("+_+i+k+r)}function l(m,p,_,k){m!==p?(m-p>180?p+=360:p-m>180&&(m+=360),k.push({i:_.push(s(_)+"rotate(",null,o)-2,x:Kt(m,p)})):p&&_.push(s(_)+"rotate("+p+o)}function d(m,p,_,k){m!==p?k.push({i:_.push(s(_)+"skewX(",null,o)-2,x:Kt(m,p)}):p&&_.push(s(_)+"skewX("+p+o)}function f(m,p,_,k,E,O){if(m!==_||p!==k){var M=E.push(s(E)+"scale(",null,",",null,")");O.push({i:M-4,x:Kt(m,_)},{i:M-2,x:Kt(p,k)})}else(_!==1||k!==1)&&E.push(s(E)+"scale("+_+","+k+")")}return function(m,p){var _=[],k=[];return m=n(m),p=n(p),u(m.translateX,m.translateY,p.translateX,p.translateY,_,k),l(m.rotate,p.rotate,_,k),d(m.skewX,p.skewX,_,k),f(m.scaleX,m.scaleY,p.scaleX,p.scaleY,_,k),m=p=null,function(E){for(var O=-1,M=k.length,A;++O<M;)_[(A=k[O]).i]=A.x(E);return _.join("")}}}var cx=vf(lx,"px, ","px)","deg)"),dx=vf(ux,", ",")",")"),fx=1e-12;function nd(n){return((n=Math.exp(n))+1/n)/2}function hx(n){return((n=Math.exp(n))-1/n)/2}function gx(n){return((n=Math.exp(2*n))-1)/(n+1)}const mx=function n(i,r,o){function s(u,l){var d=u[0],f=u[1],m=u[2],p=l[0],_=l[1],k=l[2],E=p-d,O=_-f,M=E*E+O*O,A,T;if(M<fx)T=Math.log(k/m)/i,A=function(oe){return[d+oe*E,f+oe*O,m*Math.exp(i*oe*T)]};else{var b=Math.sqrt(M),R=(k*k-m*m+o*M)/(2*m*r*b),P=(k*k-m*m-o*M)/(2*k*r*b),ee=Math.log(Math.sqrt(R*R+1)-R),le=Math.log(Math.sqrt(P*P+1)-P);T=(le-ee)/i,A=function(oe){var ce=oe*T,ve=nd(ee),ie=m/(r*b)*(ve*gx(i*ce+ee)-hx(ee));return[d+ie*E,f+ie*O,m*ve/nd(i*ce+ee)]}}return A.duration=T*1e3*i/Math.SQRT2,A}return s.rho=function(u){var l=Math.max(.001,+u),d=l*l,f=d*d;return n(l,d,f)},s}(Math.SQRT2,2,4);var Ui=0,mr=0,fr=0,yf=1e3,Ho,pr,qo=0,vi=0,Ko=0,Er=typeof performance=="object"&&performance.now?performance:Date,_f=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function il(){return vi||(_f(px),vi=Er.now()+Ko)}function px(){vi=0}function Fo(){this._call=this._time=this._next=null}Fo.prototype=bf.prototype={constructor:Fo,restart:function(n,i,r){if(typeof n!="function")throw new TypeError("callback is not a function");r=(r==null?il():+r)+(i==null?0:+i),!this._next&&pr!==this&&(pr?pr._next=this:Ho=this,pr=this),this._call=n,this._time=r,Gs()},stop:function(){this._call&&(this._call=null,this._time=1/0,Gs())}};function bf(n,i,r){var o=new Fo;return o.restart(n,i,r),o}function vx(){il(),++Ui;for(var n=Ho,i;n;)(i=vi-n._time)>=0&&n._call.call(void 0,i),n=n._next;--Ui}function td(){vi=(qo=Er.now())+Ko,Ui=mr=0;try{vx()}finally{Ui=0,_x(),vi=0}}function yx(){var n=Er.now(),i=n-qo;i>yf&&(Ko-=i,qo=n)}function _x(){for(var n,i=Ho,r,o=1/0;i;)i._call?(o>i._time&&(o=i._time),n=i,i=i._next):(r=i._next,i._next=null,i=n?n._next=r:Ho=r);pr=n,Gs(o)}function Gs(n){if(!Ui){mr&&(mr=clearTimeout(mr));var i=n-vi;i>24?(n<1/0&&(mr=setTimeout(td,n-Er.now()-Ko)),fr&&(fr=clearInterval(fr))):(fr||(qo=Er.now(),fr=setInterval(yx,yf)),Ui=1,_f(td))}}function id(n,i,r){var o=new Fo;return i=i==null?0:+i,o.restart(s=>{o.stop(),n(s+i)},i,r),o}var bx=Xo("start","end","cancel","interrupt"),wx=[],wf=0,rd=1,$s=2,Io=3,od=4,Ws=5,Ao=6;function Zo(n,i,r,o,s,u){var l=n.__transition;if(!l)n.__transition={};else if(r in l)return;xx(n,r,{name:i,index:o,group:s,on:bx,tween:wx,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:wf})}function rl(n,i){var r=mt(n,i);if(r.state>wf)throw new Error("too late; already scheduled");return r}function wt(n,i){var r=mt(n,i);if(r.state>Io)throw new Error("too late; already running");return r}function mt(n,i){var r=n.__transition;if(!r||!(r=r[i]))throw new Error("transition not found");return r}function xx(n,i,r){var o=n.__transition,s;o[i]=r,r.timer=bf(u,0,r.time);function u(m){r.state=rd,r.timer.restart(l,r.delay,r.time),r.delay<=m&&l(m-r.delay)}function l(m){var p,_,k,E;if(r.state!==rd)return f();for(p in o)if(E=o[p],E.name===r.name){if(E.state===Io)return id(l);E.state===od?(E.state=Ao,E.timer.stop(),E.on.call("interrupt",n,n.__data__,E.index,E.group),delete o[p]):+p<i&&(E.state=Ao,E.timer.stop(),E.on.call("cancel",n,n.__data__,E.index,E.group),delete o[p])}if(id(function(){r.state===Io&&(r.state=od,r.timer.restart(d,r.delay,r.time),d(m))}),r.state=$s,r.on.call("start",n,n.__data__,r.index,r.group),r.state===$s){for(r.state=Io,s=new Array(k=r.tween.length),p=0,_=-1;p<k;++p)(E=r.tween[p].value.call(n,n.__data__,r.index,r.group))&&(s[++_]=E);s.length=_+1}}function d(m){for(var p=m<r.duration?r.ease.call(null,m/r.duration):(r.timer.restart(f),r.state=Ws,1),_=-1,k=s.length;++_<k;)s[_].call(n,p);r.state===Ws&&(r.on.call("end",n,n.__data__,r.index,r.group),f())}function f(){r.state=Ao,r.timer.stop(),delete o[i];for(var m in o)return;delete n.__transition}}function No(n,i){var r=n.__transition,o,s,u=!0,l;if(r){i=i==null?null:i+"";for(l in r){if((o=r[l]).name!==i){u=!1;continue}s=o.state>$s&&o.state<Ws,o.state=Ao,o.timer.stop(),o.on.call(s?"interrupt":"cancel",n,n.__data__,o.index,o.group),delete r[l]}u&&delete n.__transition}}function kx(n){return this.each(function(){No(this,n)})}function Ex(n,i){var r,o;return function(){var s=wt(this,n),u=s.tween;if(u!==r){o=r=u;for(var l=0,d=o.length;l<d;++l)if(o[l].name===i){o=o.slice(),o.splice(l,1);break}}s.tween=o}}function Sx(n,i,r){var o,s;if(typeof r!="function")throw new Error;return function(){var u=wt(this,n),l=u.tween;if(l!==o){s=(o=l).slice();for(var d={name:i,value:r},f=0,m=s.length;f<m;++f)if(s[f].name===i){s[f]=d;break}f===m&&s.push(d)}u.tween=s}}function Mx(n,i){var r=this._id;if(n+="",arguments.length<2){for(var o=mt(this.node(),r).tween,s=0,u=o.length,l;s<u;++s)if((l=o[s]).name===n)return l.value;return null}return this.each((i==null?Ex:Sx)(r,n,i))}function ol(n,i,r){var o=n._id;return n.each(function(){var s=wt(this,o);(s.value||(s.value={}))[i]=r.apply(this,arguments)}),function(s){return mt(s,o).value[i]}}function xf(n,i){var r;return(typeof i=="number"?Kt:i instanceof kr?Qc:(r=kr(i))?(i=r,Qc):sx)(n,i)}function Tx(n){return function(){this.removeAttribute(n)}}function Cx(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Ix(n,i,r){var o,s=r+"",u;return function(){var l=this.getAttribute(n);return l===s?null:l===o?u:u=i(o=l,r)}}function Ax(n,i,r){var o,s=r+"",u;return function(){var l=this.getAttributeNS(n.space,n.local);return l===s?null:l===o?u:u=i(o=l,r)}}function Nx(n,i,r){var o,s,u;return function(){var l,d=r(this),f;return d==null?void this.removeAttribute(n):(l=this.getAttribute(n),f=d+"",l===f?null:l===o&&f===s?u:(s=f,u=i(o=l,d)))}}function zx(n,i,r){var o,s,u;return function(){var l,d=r(this),f;return d==null?void this.removeAttributeNS(n.space,n.local):(l=this.getAttributeNS(n.space,n.local),f=d+"",l===f?null:l===o&&f===s?u:(s=f,u=i(o=l,d)))}}function Px(n,i){var r=jo(n),o=r==="transform"?dx:xf;return this.attrTween(n,typeof i=="function"?(r.local?zx:Nx)(r,o,ol(this,"attr."+n,i)):i==null?(r.local?Cx:Tx)(r):(r.local?Ax:Ix)(r,o,i))}function Ox(n,i){return function(r){this.setAttribute(n,i.call(this,r))}}function Rx(n,i){return function(r){this.setAttributeNS(n.space,n.local,i.call(this,r))}}function Dx(n,i){var r,o;function s(){var u=i.apply(this,arguments);return u!==o&&(r=(o=u)&&Rx(n,u)),r}return s._value=i,s}function Bx(n,i){var r,o;function s(){var u=i.apply(this,arguments);return u!==o&&(r=(o=u)&&Ox(n,u)),r}return s._value=i,s}function Lx(n,i){var r="attr."+n;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(i==null)return this.tween(r,null);if(typeof i!="function")throw new Error;var o=jo(n);return this.tween(r,(o.local?Dx:Bx)(o,i))}function Hx(n,i){return function(){rl(this,n).delay=+i.apply(this,arguments)}}function qx(n,i){return i=+i,function(){rl(this,n).delay=i}}function Fx(n){var i=this._id;return arguments.length?this.each((typeof n=="function"?Hx:qx)(i,n)):mt(this.node(),i).delay}function Gx(n,i){return function(){wt(this,n).duration=+i.apply(this,arguments)}}function $x(n,i){return i=+i,function(){wt(this,n).duration=i}}function Wx(n){var i=this._id;return arguments.length?this.each((typeof n=="function"?Gx:$x)(i,n)):mt(this.node(),i).duration}function Ux(n,i){if(typeof i!="function")throw new Error;return function(){wt(this,n).ease=i}}function Vx(n){var i=this._id;return arguments.length?this.each(Ux(i,n)):mt(this.node(),i).ease}function Yx(n,i){return function(){var r=i.apply(this,arguments);if(typeof r!="function")throw new Error;wt(this,n).ease=r}}function Xx(n){if(typeof n!="function")throw new Error;return this.each(Yx(this._id,n))}function jx(n){typeof n!="function"&&(n=Qd(n));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var u=i[s],l=u.length,d=o[s]=[],f,m=0;m<l;++m)(f=u[m])&&n.call(f,f.__data__,m,u)&&d.push(f);return new Lt(o,this._parents,this._name,this._id)}function Kx(n){if(n._id!==this._id)throw new Error;for(var i=this._groups,r=n._groups,o=i.length,s=r.length,u=Math.min(o,s),l=new Array(o),d=0;d<u;++d)for(var f=i[d],m=r[d],p=f.length,_=l[d]=new Array(p),k,E=0;E<p;++E)(k=f[E]||m[E])&&(_[E]=k);for(;d<o;++d)l[d]=i[d];return new Lt(l,this._parents,this._name,this._id)}function Zx(n){return(n+"").trim().split(/^|\s+/).every(function(i){var r=i.indexOf(".");return r>=0&&(i=i.slice(0,r)),!i||i==="start"})}function Jx(n,i,r){var o,s,u=Zx(i)?rl:wt;return function(){var l=u(this,n),d=l.on;d!==o&&(s=(o=d).copy()).on(i,r),l.on=s}}function Qx(n,i){var r=this._id;return arguments.length<2?mt(this.node(),r).on.on(n):this.each(Jx(r,n,i))}function ek(n){return function(){var i=this.parentNode;for(var r in this.__transition)if(+r!==n)return;i&&i.removeChild(this)}}function nk(){return this.on("end.remove",ek(this._id))}function tk(n){var i=this._name,r=this._id;typeof n!="function"&&(n=el(n));for(var o=this._groups,s=o.length,u=new Array(s),l=0;l<s;++l)for(var d=o[l],f=d.length,m=u[l]=new Array(f),p,_,k=0;k<f;++k)(p=d[k])&&(_=n.call(p,p.__data__,k,d))&&("__data__"in p&&(_.__data__=p.__data__),m[k]=_,Zo(m[k],i,r,k,m,mt(p,r)));return new Lt(u,this._parents,i,r)}function ik(n){var i=this._name,r=this._id;typeof n!="function"&&(n=Jd(n));for(var o=this._groups,s=o.length,u=[],l=[],d=0;d<s;++d)for(var f=o[d],m=f.length,p,_=0;_<m;++_)if(p=f[_]){for(var k=n.call(p,p.__data__,_,f),E,O=mt(p,r),M=0,A=k.length;M<A;++M)(E=k[M])&&Zo(E,i,r,M,k,O);u.push(k),l.push(p)}return new Lt(u,l,i,r)}var rk=Cr.prototype.constructor;function ok(){return new rk(this._groups,this._parents)}function ak(n,i){var r,o,s;return function(){var u=Wi(this,n),l=(this.style.removeProperty(n),Wi(this,n));return u===l?null:u===r&&l===o?s:s=i(r=u,o=l)}}function kf(n){return function(){this.style.removeProperty(n)}}function sk(n,i,r){var o,s=r+"",u;return function(){var l=Wi(this,n);return l===s?null:l===o?u:u=i(o=l,r)}}function lk(n,i,r){var o,s,u;return function(){var l=Wi(this,n),d=r(this),f=d+"";return d==null&&(f=d=(this.style.removeProperty(n),Wi(this,n))),l===f?null:l===o&&f===s?u:(s=f,u=i(o=l,d))}}function uk(n,i){var r,o,s,u="style."+i,l="end."+u,d;return function(){var f=wt(this,n),m=f.on,p=f.value[u]==null?d||(d=kf(i)):void 0;(m!==r||s!==p)&&(o=(r=m).copy()).on(l,s=p),f.on=o}}function ck(n,i,r){var o=(n+="")=="transform"?cx:xf;return i==null?this.styleTween(n,ak(n,o)).on("end.style."+n,kf(n)):typeof i=="function"?this.styleTween(n,lk(n,o,ol(this,"style."+n,i))).each(uk(this._id,n)):this.styleTween(n,sk(n,o,i),r).on("end.style."+n,null)}function dk(n,i,r){return function(o){this.style.setProperty(n,i.call(this,o),r)}}function fk(n,i,r){var o,s;function u(){var l=i.apply(this,arguments);return l!==s&&(o=(s=l)&&dk(n,l,r)),o}return u._value=i,u}function hk(n,i,r){var o="style."+(n+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(i==null)return this.tween(o,null);if(typeof i!="function")throw new Error;return this.tween(o,fk(n,i,r==null?"":r))}function gk(n){return function(){this.textContent=n}}function mk(n){return function(){var i=n(this);this.textContent=i==null?"":i}}function pk(n){return this.tween("text",typeof n=="function"?mk(ol(this,"text",n)):gk(n==null?"":n+""))}function vk(n){return function(i){this.textContent=n.call(this,i)}}function yk(n){var i,r;function o(){var s=n.apply(this,arguments);return s!==r&&(i=(r=s)&&vk(s)),i}return o._value=n,o}function _k(n){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,yk(n))}function bk(){for(var n=this._name,i=this._id,r=Ef(),o=this._groups,s=o.length,u=0;u<s;++u)for(var l=o[u],d=l.length,f,m=0;m<d;++m)if(f=l[m]){var p=mt(f,i);Zo(f,n,r,m,l,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Lt(o,this._parents,n,r)}function wk(){var n,i,r=this,o=r._id,s=r.size();return new Promise(function(u,l){var d={value:l},f={value:function(){--s===0&&u()}};r.each(function(){var m=wt(this,o),p=m.on;p!==n&&(i=(n=p).copy(),i._.cancel.push(d),i._.interrupt.push(d),i._.end.push(f)),m.on=i}),s===0&&u()})}var xk=0;function Lt(n,i,r,o){this._groups=n,this._parents=i,this._name=r,this._id=o}function Ef(){return++xk}var zt=Cr.prototype;Lt.prototype={constructor:Lt,select:tk,selectAll:ik,selectChild:zt.selectChild,selectChildren:zt.selectChildren,filter:jx,merge:Kx,selection:ok,transition:bk,call:zt.call,nodes:zt.nodes,node:zt.node,size:zt.size,empty:zt.empty,each:zt.each,on:Qx,attr:Px,attrTween:Lx,style:ck,styleTween:hk,text:pk,textTween:_k,remove:nk,tween:Mx,delay:Fx,duration:Wx,ease:Vx,easeVarying:Xx,end:wk,[Symbol.iterator]:zt[Symbol.iterator]};function kk(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var Ek={time:null,delay:0,duration:250,ease:kk};function Sk(n,i){for(var r;!(r=n.__transition)||!(r=r[i]);)if(!(n=n.parentNode))throw new Error(`transition ${i} not found`);return r}function Mk(n){var i,r;n instanceof Lt?(i=n._id,n=n._name):(i=Ef(),(r=Ek).time=il(),n=n==null?null:n+"");for(var o=this._groups,s=o.length,u=0;u<s;++u)for(var l=o[u],d=l.length,f,m=0;m<d;++m)(f=l[m])&&Zo(f,n,i,m,l,r||Sk(f,i));return new Lt(o,this._parents,n,i)}Cr.prototype.interrupt=kx;Cr.prototype.transition=Mk;const ko=n=>()=>n;function Tk(n,{sourceEvent:i,target:r,transform:o,dispatch:s}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:s}})}function Bt(n,i,r){this.k=n,this.x=i,this.y=r}Bt.prototype={constructor:Bt,scale:function(n){return n===1?this:new Bt(this.k*n,this.x,this.y)},translate:function(n,i){return n===0&i===0?this:new Bt(this.k,this.x+this.k*n,this.y+this.k*i)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Vi=new Bt(1,0,0);Bt.prototype;function Ms(n){n.stopImmediatePropagation()}function hr(n){n.preventDefault(),n.stopImmediatePropagation()}function Ck(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function Ik(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function ad(){return this.__zoom||Vi}function Ak(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function Nk(){return navigator.maxTouchPoints||"ontouchstart"in this}function zk(n,i,r){var o=n.invertX(i[0][0])-r[0][0],s=n.invertX(i[1][0])-r[1][0],u=n.invertY(i[0][1])-r[0][1],l=n.invertY(i[1][1])-r[1][1];return n.translate(s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s),l>u?(u+l)/2:Math.min(0,u)||Math.max(0,l))}function Pk(){var n=Ck,i=Ik,r=zk,o=Ak,s=Nk,u=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],d=250,f=mx,m=Xo("start","zoom","end"),p,_,k,E=500,O=150,M=0,A=10;function T(N){N.property("__zoom",ad).on("wheel.zoom",ce,{passive:!1}).on("mousedown.zoom",ve).on("dblclick.zoom",ie).filter(s).on("touchstart.zoom",C).on("touchmove.zoom",be).on("touchend.zoom touchcancel.zoom",ze).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}T.transform=function(N,$,B,V){var ne=N.selection?N.selection():N;ne.property("__zoom",ad),N!==ne?ee(N,$,B,V):ne.interrupt().each(function(){le(this,arguments).event(V).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},T.scaleBy=function(N,$,B,V){T.scaleTo(N,function(){var ne=this.__zoom.k,ae=typeof $=="function"?$.apply(this,arguments):$;return ne*ae},B,V)},T.scaleTo=function(N,$,B,V){T.transform(N,function(){var ne=i.apply(this,arguments),ae=this.__zoom,de=B==null?P(ne):typeof B=="function"?B.apply(this,arguments):B,re=ae.invert(de),Se=typeof $=="function"?$.apply(this,arguments):$;return r(R(b(ae,Se),de,re),ne,l)},B,V)},T.translateBy=function(N,$,B,V){T.transform(N,function(){return r(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof B=="function"?B.apply(this,arguments):B),i.apply(this,arguments),l)},null,V)},T.translateTo=function(N,$,B,V,ne){T.transform(N,function(){var ae=i.apply(this,arguments),de=this.__zoom,re=V==null?P(ae):typeof V=="function"?V.apply(this,arguments):V;return r(Vi.translate(re[0],re[1]).scale(de.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof B=="function"?-B.apply(this,arguments):-B),ae,l)},V,ne)};function b(N,$){return $=Math.max(u[0],Math.min(u[1],$)),$===N.k?N:new Bt($,N.x,N.y)}function R(N,$,B){var V=$[0]-B[0]*N.k,ne=$[1]-B[1]*N.k;return V===N.x&&ne===N.y?N:new Bt(N.k,V,ne)}function P(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function ee(N,$,B,V){N.on("start.zoom",function(){le(this,arguments).event(V).start()}).on("interrupt.zoom end.zoom",function(){le(this,arguments).event(V).end()}).tween("zoom",function(){var ne=this,ae=arguments,de=le(ne,ae).event(V),re=i.apply(ne,ae),Se=B==null?P(re):typeof B=="function"?B.apply(ne,ae):B,he=Math.max(re[1][0]-re[0][0],re[1][1]-re[0][1]),ue=ne.__zoom,ge=typeof $=="function"?$.apply(ne,ae):$,He=f(ue.invert(Se).concat(he/ue.k),ge.invert(Se).concat(he/ge.k));return function(De){if(De===1)De=ge;else{var Re=He(De),K=he/Re[2];De=new Bt(K,Se[0]-Re[0]*K,Se[1]-Re[1]*K)}de.zoom(null,De)}})}function le(N,$,B){return!B&&N.__zooming||new oe(N,$)}function oe(N,$){this.that=N,this.args=$,this.active=0,this.sourceEvent=null,this.extent=i.apply(N,$),this.taps=0}oe.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,$){return this.mouse&&N!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var $=ft(this.that).datum();m.call(N,this.that,new Tk(N,{sourceEvent:this.sourceEvent,target:T,type:N,transform:this.that.__zoom,dispatch:m}),$)}};function ce(N,...$){if(!n.apply(this,arguments))return;var B=le(this,$).event(N),V=this.__zoom,ne=Math.max(u[0],Math.min(u[1],V.k*Math.pow(2,o.apply(this,arguments)))),ae=_t(N);if(B.wheel)(B.mouse[0][0]!==ae[0]||B.mouse[0][1]!==ae[1])&&(B.mouse[1]=V.invert(B.mouse[0]=ae)),clearTimeout(B.wheel);else{if(V.k===ne)return;B.mouse=[ae,V.invert(ae)],No(this),B.start()}hr(N),B.wheel=setTimeout(de,O),B.zoom("mouse",r(R(b(V,ne),B.mouse[0],B.mouse[1]),B.extent,l));function de(){B.wheel=null,B.end()}}function ve(N,...$){if(k||!n.apply(this,arguments))return;var B=N.currentTarget,V=le(this,$,!0).event(N),ne=ft(N.view).on("mousemove.zoom",Se,!0).on("mouseup.zoom",he,!0),ae=_t(N,B),de=N.clientX,re=N.clientY;cf(N.view),Ms(N),V.mouse=[ae,this.__zoom.invert(ae)],No(this),V.start();function Se(ue){if(hr(ue),!V.moved){var ge=ue.clientX-de,He=ue.clientY-re;V.moved=ge*ge+He*He>M}V.event(ue).zoom("mouse",r(R(V.that.__zoom,V.mouse[0]=_t(ue,B),V.mouse[1]),V.extent,l))}function he(ue){ne.on("mousemove.zoom mouseup.zoom",null),df(ue.view,V.moved),hr(ue),V.event(ue).end()}}function ie(N,...$){if(n.apply(this,arguments)){var B=this.__zoom,V=_t(N.changedTouches?N.changedTouches[0]:N,this),ne=B.invert(V),ae=B.k*(N.shiftKey?.5:2),de=r(R(b(B,ae),V,ne),i.apply(this,$),l);hr(N),d>0?ft(this).transition().duration(d).call(ee,de,V,N):ft(this).call(T.transform,de,V,N)}}function C(N,...$){if(n.apply(this,arguments)){var B=N.touches,V=B.length,ne=le(this,$,N.changedTouches.length===V).event(N),ae,de,re,Se;for(Ms(N),de=0;de<V;++de)re=B[de],Se=_t(re,this),Se=[Se,this.__zoom.invert(Se),re.identifier],ne.touch0?!ne.touch1&&ne.touch0[2]!==Se[2]&&(ne.touch1=Se,ne.taps=0):(ne.touch0=Se,ae=!0,ne.taps=1+!!p);p&&(p=clearTimeout(p)),ae&&(ne.taps<2&&(_=Se[0],p=setTimeout(function(){p=null},E)),No(this),ne.start())}}function be(N,...$){if(this.__zooming){var B=le(this,$).event(N),V=N.changedTouches,ne=V.length,ae,de,re,Se;for(hr(N),ae=0;ae<ne;++ae)de=V[ae],re=_t(de,this),B.touch0&&B.touch0[2]===de.identifier?B.touch0[0]=re:B.touch1&&B.touch1[2]===de.identifier&&(B.touch1[0]=re);if(de=B.that.__zoom,B.touch1){var he=B.touch0[0],ue=B.touch0[1],ge=B.touch1[0],He=B.touch1[1],De=(De=ge[0]-he[0])*De+(De=ge[1]-he[1])*De,Re=(Re=He[0]-ue[0])*Re+(Re=He[1]-ue[1])*Re;de=b(de,Math.sqrt(De/Re)),re=[(he[0]+ge[0])/2,(he[1]+ge[1])/2],Se=[(ue[0]+He[0])/2,(ue[1]+He[1])/2]}else if(B.touch0)re=B.touch0[0],Se=B.touch0[1];else return;B.zoom("touch",r(R(de,re,Se),B.extent,l))}}function ze(N,...$){if(this.__zooming){var B=le(this,$).event(N),V=N.changedTouches,ne=V.length,ae,de;for(Ms(N),k&&clearTimeout(k),k=setTimeout(function(){k=null},E),ae=0;ae<ne;++ae)de=V[ae],B.touch0&&B.touch0[2]===de.identifier?delete B.touch0:B.touch1&&B.touch1[2]===de.identifier&&delete B.touch1;if(B.touch1&&!B.touch0&&(B.touch0=B.touch1,delete B.touch1),B.touch0)B.touch0[1]=this.__zoom.invert(B.touch0[0]);else if(B.end(),B.taps===2&&(de=_t(de,this),Math.hypot(_[0]-de[0],_[1]-de[1])<A)){var re=ft(this).on("dblclick.zoom");re&&re.apply(this,arguments)}}}return T.wheelDelta=function(N){return arguments.length?(o=typeof N=="function"?N:ko(+N),T):o},T.filter=function(N){return arguments.length?(n=typeof N=="function"?N:ko(!!N),T):n},T.touchable=function(N){return arguments.length?(s=typeof N=="function"?N:ko(!!N),T):s},T.extent=function(N){return arguments.length?(i=typeof N=="function"?N:ko([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),T):i},T.scaleExtent=function(N){return arguments.length?(u[0]=+N[0],u[1]=+N[1],T):[u[0],u[1]]},T.translateExtent=function(N){return arguments.length?(l[0][0]=+N[0][0],l[1][0]=+N[1][0],l[0][1]=+N[0][1],l[1][1]=+N[1][1],T):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},T.constrain=function(N){return arguments.length?(r=N,T):r},T.duration=function(N){return arguments.length?(d=+N,T):d},T.interpolate=function(N){return arguments.length?(f=N,T):f},T.on=function(){var N=m.on.apply(m,arguments);return N===m?T:N},T.clickDistance=function(N){return arguments.length?(M=(N=+N)*N,T):Math.sqrt(M)},T.tapDistance=function(N){return arguments.length?(A=+N,T):A},T}var Ee=(n=>(n.Left="left",n.Top="top",n.Right="right",n.Bottom="bottom",n))(Ee||{}),al=(n=>(n.Partial="partial",n.Full="full",n))(al||{}),ui=(n=>(n.Bezier="default",n.SimpleBezier="simple-bezier",n.Straight="straight",n.Step="step",n.SmoothStep="smoothstep",n))(ui||{}),yi=(n=>(n.Strict="strict",n.Loose="loose",n))(yi||{}),Us=(n=>(n.Arrow="arrow",n.ArrowClosed="arrowclosed",n))(Us||{}),yr=(n=>(n.Free="free",n.Vertical="vertical",n.Horizontal="horizontal",n))(yr||{});function Vs(n){var i,r;const o=((r=(i=n.composedPath)==null?void 0:i.call(n))==null?void 0:r[0])||n.target,s=typeof(o==null?void 0:o.hasAttribute)=="function"?o.hasAttribute("contenteditable"):!1,u=typeof(o==null?void 0:o.closest)=="function"?o.closest(".nokey"):null;return["INPUT","SELECT","TEXTAREA"].includes(o==null?void 0:o.nodeName)||s||!!u}function Ok(n){return n.ctrlKey||n.metaKey||n.shiftKey}function sd(n,i,r,o){const s=i.split("+").map(u=>u.trim().toLowerCase());return s.length===1?n.toLowerCase()===i.toLowerCase():(o?r.delete(n.toLowerCase()):r.add(n.toLowerCase()),s.every((u,l)=>r.has(u)&&Array.from(r.values())[l]===s[l]))}function Rk(n,i){return r=>{if(!r.code&&!r.key)return!1;const o=Dk(r.code,n);return Array.isArray(n)?n.some(s=>sd(r[o],s,i,r.type==="keyup")):sd(r[o],n,i,r.type==="keyup")}}function Dk(n,i){return typeof i=="string"?n===i?"code":"key":i.includes(n)?"code":"key"}function _r(n,i){const r=mn(()=>{var p;return(p=Qe(i==null?void 0:i.actInsideInputWithModifier))!=null?p:!1}),o=mn(()=>{var p;return(p=Qe(i==null?void 0:i.target))!=null?p:window}),s=Pe(Qe(n)===!0);let u=!1;const l=new Set;let d=m(Qe(n));en(()=>Qe(n),(p,_)=>{typeof _=="boolean"&&typeof p!="boolean"&&f(),d=m(p)},{immediate:!0}),gt(()=>{Kd(window,["blur","contextmenu"],f)}),Gc((...p)=>d(...p),p=>{u=Ok(p),!((!u||u&&!r.value)&&Vs(p))&&(p.preventDefault(),s.value=!0)},{eventName:"keydown",target:o}),Gc((...p)=>d(...p),p=>{if(s.value){if((!u||u&&!r.value)&&Vs(p))return;f()}},{eventName:"keyup",target:o});function f(){u=!1,l.clear(),s.value=!1}function m(p){return p===null?(f(),()=>!1):typeof p=="boolean"?(f(),s.value=p,()=>!1):Array.isArray(p)||typeof p=="string"?Rk(p,l):p}return s}const Sf="vue-flow__node-desc",Mf="vue-flow__edge-desc",Bk="vue-flow__aria-live",Tf=["Enter"," ","Escape"],Gi={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function Ys(n){return{...n.computedPosition||{x:0,y:0},width:n.dimensions.width||0,height:n.dimensions.height||0}}function Xs(n,i){const r=Math.max(0,Math.min(n.x+n.width,i.x+i.width)-Math.max(n.x,i.x)),o=Math.max(0,Math.min(n.y+n.height,i.y+i.height)-Math.max(n.y,i.y));return Math.ceil(r*o)}function Jo(n){return{width:n.offsetWidth,height:n.offsetHeight}}function _i(n,i=0,r=1){return Math.min(Math.max(n,i),r)}function Cf(n,i){return{x:_i(n.x,i[0][0],i[1][0]),y:_i(n.y,i[0][1],i[1][1])}}function ld(n){const i=n.getRootNode();return"elementFromPoint"in i?i:window.document}function Qt(n){return n&&typeof n=="object"&&"id"in n&&"source"in n&&"target"in n}function mi(n){return n&&typeof n=="object"&&"id"in n&&"position"in n&&!Qt(n)}function vr(n){return mi(n)&&"computedPosition"in n}function Eo(n){return!Number.isNaN(n)&&Number.isFinite(n)}function Lk(n){return Eo(n.width)&&Eo(n.height)&&Eo(n.x)&&Eo(n.y)}function Hk(n,i,r){var s;const o={id:n.id.toString(),type:(s=n.type)!=null?s:"default",dimensions:Li({width:0,height:0}),computedPosition:Li({z:0,...n.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:yn(n.data)?n.data:{},events:Li(yn(n.events)?n.events:{})};return Object.assign(i!=null?i:o,n,{id:n.id.toString(),parentNode:r})}function If(n,i,r){var l,d,f,m,p,_,k;var o,s;const u={id:n.id.toString(),type:(d=(l=n.type)!=null?l:i==null?void 0:i.type)!=null?d:"default",source:n.source.toString(),target:n.target.toString(),sourceHandle:(o=n.sourceHandle)==null?void 0:o.toString(),targetHandle:(s=n.targetHandle)==null?void 0:s.toString(),updatable:(f=n.updatable)!=null?f:r==null?void 0:r.updatable,selectable:(m=n.selectable)!=null?m:r==null?void 0:r.selectable,focusable:(p=n.focusable)!=null?p:r==null?void 0:r.focusable,data:yn(n.data)?n.data:{},events:Li(yn(n.events)?n.events:{}),label:(_=n.label)!=null?_:"",interactionWidth:(k=n.interactionWidth)!=null?k:r==null?void 0:r.interactionWidth,...r!=null?r:{}};return Object.assign(i!=null?i:u,n,{id:n.id.toString()})}function Af(n,i,r,o){const s=typeof n=="string"?n:n.id,u=new Set,l=o==="source"?"target":"source";for(const d of r)d[l]===s&&u.add(d[o]);return i.filter(d=>u.has(d.id))}function qk(...n){if(n.length===3){const[u,l,d]=n;return Af(u,l,d,"target")}const[i,r]=n,o=typeof i=="string"?i:i.id;return r.filter(u=>Qt(u)&&u.source===o).map(u=>r.find(l=>mi(l)&&l.id===u.target))}function Fk(...n){if(n.length===3){const[u,l,d]=n;return Af(u,l,d,"source")}const[i,r]=n,o=typeof i=="string"?i:i.id;return r.filter(u=>Qt(u)&&u.target===o).map(u=>r.find(l=>mi(l)&&l.id===u.source))}function Nf({source:n,sourceHandle:i,target:r,targetHandle:o}){return`vueflow__edge-${n}${i!=null?i:""}-${r}${o!=null?o:""}`}function Gk(n,i){return i.some(r=>Qt(r)&&r.source===n.source&&r.target===n.target&&(r.sourceHandle===n.sourceHandle||!r.sourceHandle&&!n.sourceHandle)&&(r.targetHandle===n.targetHandle||!r.targetHandle&&!n.targetHandle))}function zf({x:n,y:i},{x:r,y:o,zoom:s}){return{x:n*s+r,y:i*s+o}}function Go({x:n,y:i},{x:r,y:o,zoom:s},u=!1,[l,d]=[1,1]){const f={x:(n-r)/s,y:(i-o)/s};return u?{x:l*Math.round(f.x/l),y:d*Math.round(f.y/d)}:f}function $k(n,i){return{x:Math.min(n.x,i.x),y:Math.min(n.y,i.y),x2:Math.max(n.x2,i.x2),y2:Math.max(n.y2,i.y2)}}function Pf({x:n,y:i,width:r,height:o}){return{x:n,y:i,x2:n+r,y2:i+o}}function Wk({x:n,y:i,x2:r,y2:o}){return{x:n,y:i,width:r-n,height:o-i}}function Of(n){let i={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let r=0;r<n.length;r++){const o=n[r];i=$k(i,Pf({...o.computedPosition,...o.dimensions}))}return Wk(i)}function Rf(n,i,r={x:0,y:0,zoom:1},o=!1,s=!1){var d,f,m,p;const u={...Go(i,r),width:i.width/r.zoom,height:i.height/r.zoom},l=[];for(const _ of n){const{dimensions:k,selectable:E=!0,hidden:O=!1}=_,M=(f=(d=k.width)!=null?d:_.width)!=null?f:null,A=(p=(m=k.height)!=null?m:_.height)!=null?p:null;if(s&&!E||O)continue;const T=Xs(u,Ys(_)),b=M===null||A===null,R=o&&T>0,P=(M!=null?M:0)*(A!=null?A:0);(b||R||T>=P||_.dragging)&&l.push(_)}return l}function Df(n,i){const r=new Set;if(typeof n=="string")r.add(n);else if(n.length>=1)for(const o of n)r.add(o.id);return i.filter(o=>r.has(o.source)||r.has(o.target))}function ud(n,i,r,o,s,u=.1,l={x:0,y:0}){var M,A;const d=i/(n.width*(1+u)),f=r/(n.height*(1+u)),m=Math.min(d,f),p=_i(m,o,s),_=n.x+n.width/2,k=n.y+n.height/2,E=i/2-_*p+((M=l.x)!=null?M:0),O=r/2-k*p+((A=l.y)!=null?A:0);return{x:E,y:O,zoom:p}}function Uk(n,i){return{x:i.x+n.x,y:i.y+n.y,z:(n.z>i.z?n.z:i.z)+1}}function Bf(n,i){if(!n.parentNode)return!1;const r=i(n.parentNode);return r?r.selected?!0:Bf(r,i):!1}function Sr(n,i){return typeof n=="undefined"?"":typeof n=="string"?n:`${i?`${i}__`:""}${Object.keys(n).sort().map(o=>`${o}=${n[o]}`).join("&")}`}function cd(n,i,r){return n<i?_i(Math.abs(n-i),1,i)/i:n>r?-_i(Math.abs(n-r),1,i)/i:0}function Lf(n,i,r=15,o=40){const s=cd(n.x,o,i.width-o)*r,u=cd(n.y,o,i.height-o)*r;return[s,u]}function Ts(n,i){var r,o;if(i){const s=n.position.x+n.dimensions.width-i.dimensions.width,u=n.position.y+n.dimensions.height-i.dimensions.height;if(s>0||u>0||n.position.x<0||n.position.y<0){let l={};if(typeof i.style=="function"?l={...i.style(i)}:i.style&&(l={...i.style}),l.width=(r=l.width)!=null?r:`${i.dimensions.width}px`,l.height=(o=l.height)!=null?o:`${i.dimensions.height}px`,s>0)if(typeof l.width=="string"){const d=Number(l.width.replace("px",""));l.width=`${d+s}px`}else l.width+=s;if(u>0)if(typeof l.height=="string"){const d=Number(l.height.replace("px",""));l.height=`${d+u}px`}else l.height+=u;if(n.position.x<0){const d=Math.abs(n.position.x);if(i.position.x=i.position.x-d,typeof l.width=="string"){const f=Number(l.width.replace("px",""));l.width=`${f+d}px`}else l.width+=d;n.position.x=0}if(n.position.y<0){const d=Math.abs(n.position.y);if(i.position.y=i.position.y-d,typeof l.height=="string"){const f=Number(l.height.replace("px",""));l.height=`${f+d}px`}else l.height+=d;n.position.y=0}i.dimensions.width=Number(l.width.toString().replace("px","")),i.dimensions.height=Number(l.height.toString().replace("px","")),typeof i.style=="function"?i.style=d=>{const f=i.style;return{...f(d),...l}}:i.style={...i.style,...l}}}}function dd(n,i){var r,o;const s=n.filter(l=>l.type==="add"||l.type==="remove");for(const l of s)if(l.type==="add")i.findIndex(f=>f.id===l.item.id)===-1&&i.push(l.item);else if(l.type==="remove"){const d=i.findIndex(f=>f.id===l.id);d!==-1&&i.splice(d,1)}const u=i.map(l=>l.id);for(const l of i)for(const d of n)if(d.id===l.id)switch(d.type){case"select":l.selected=d.selected;break;case"position":if(vr(l)&&(typeof d.position!="undefined"&&(l.position=d.position),typeof d.dragging!="undefined"&&(l.dragging=d.dragging),l.expandParent&&l.parentNode)){const f=i[u.indexOf(l.parentNode)];f&&vr(f)&&Ts(l,f)}break;case"dimensions":if(vr(l)&&(typeof d.dimensions!="undefined"&&(l.dimensions=d.dimensions),typeof d.updateStyle!="undefined"&&d.updateStyle&&(l.style={...l.style||{},width:`${(r=d.dimensions)==null?void 0:r.width}px`,height:`${(o=d.dimensions)==null?void 0:o.height}px`}),typeof d.resizing!="undefined"&&(l.resizing=d.resizing),l.expandParent&&l.parentNode)){const f=i[u.indexOf(l.parentNode)];f&&vr(f)&&(!!f.dimensions.width&&!!f.dimensions.height?Ts(l,f):Fn(()=>{Ts(l,f)}))}break}return i}function jt(n,i){return{id:n,type:"select",selected:i}}function fd(n){return{item:n,type:"add"}}function hd(n){return{id:n,type:"remove"}}function gd(n,i,r,o,s){return{id:n,source:i,target:r,sourceHandle:o||null,targetHandle:s||null,type:"remove"}}function Zt(n,i=new Set,r=!1){const o=[];for(const[s,u]of n){const l=i.has(s);!(u.selected===void 0&&!l)&&u.selected!==l&&(r&&(u.selected=l),o.push(jt(u.id,l)))}return o}function me(n){const i=new Set;let r=!1;const o=()=>i.size>0;n&&(r=!0,i.add(n));const s=d=>{i.delete(d)};return{on:d=>{n&&r&&i.delete(n),i.add(d);const f=()=>{s(d),n&&r&&i.add(n)};return Yo(f),{off:f}},off:s,trigger:d=>Promise.all(Array.from(i).map(f=>f(d))),hasListeners:o,fns:i}}function md(n,i,r){let o=n;do{if(o&&o.matches(i))return!0;if(o===r)return!1;o=o.parentElement}while(o);return!1}function Vk(n,i,r,o,s){var u,l;const d=[];for(const f of n)(f.selected||f.id===s)&&(!f.parentNode||!Bf(f,o))&&(f.draggable||i&&typeof f.draggable=="undefined")&&d.push(Li({id:f.id,position:f.position||{x:0,y:0},distance:{x:r.x-((u=f.computedPosition)==null?void 0:u.x)||0,y:r.y-((l=f.computedPosition)==null?void 0:l.y)||0},from:f.computedPosition,extent:f.extent,parentNode:f.parentNode,dimensions:f.dimensions,expandParent:f.expandParent}));return d}function Cs({id:n,dragItems:i,findNode:r}){const o=[];for(const s of i){const u=r(s.id);u&&o.push(u)}return[n?o.find(s=>s.id===n):o[0],o]}function Hf(n){if(Array.isArray(n))switch(n.length){case 1:return[n[0],n[0],n[0],n[0]];case 2:return[n[0],n[1],n[0],n[1]];case 3:return[n[0],n[1],n[2],n[1]];case 4:return n;default:return[0,0,0,0]}return[n,n,n,n]}function Yk(n,i,r){const[o,s,u,l]=typeof n!="string"?Hf(n.padding):[0,0,0,0];return r&&typeof r.computedPosition.x!="undefined"&&typeof r.computedPosition.y!="undefined"&&typeof r.dimensions.width!="undefined"&&typeof r.dimensions.height!="undefined"?[[r.computedPosition.x+l,r.computedPosition.y+o],[r.computedPosition.x+r.dimensions.width-s,r.computedPosition.y+r.dimensions.height-u]]:!1}function Xk(n,i,r,o){let s=n.extent||r;if((s==="parent"||!Array.isArray(s)&&(s==null?void 0:s.range)==="parent")&&!n.expandParent)if(n.parentNode&&o&&n.dimensions.width&&n.dimensions.height){const u=Yk(s,n,o);u&&(s=u)}else i(new kn(_n.NODE_EXTENT_INVALID,n.id)),s=r;else if(Array.isArray(s)){const u=(o==null?void 0:o.computedPosition.x)||0,l=(o==null?void 0:o.computedPosition.y)||0;s=[[s[0][0]+u,s[0][1]+l],[s[1][0]+u,s[1][1]+l]]}else if(s!=="parent"&&(s!=null&&s.range)&&Array.isArray(s.range)){const[u,l,d,f]=Hf(s.padding),m=(o==null?void 0:o.computedPosition.x)||0,p=(o==null?void 0:o.computedPosition.y)||0;s=[[s.range[0][0]+m+f,s.range[0][1]+p+u],[s.range[1][0]+m-l,s.range[1][1]+p-d]]}return s==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:s}function jk({width:n,height:i},r){return[r[0],[r[1][0]-(n||0),r[1][1]-(i||0)]]}function sl(n,i,r,o,s){const u=jk(n.dimensions,Xk(n,r,o,s)),l=Cf(i,u);return{position:{x:l.x-((s==null?void 0:s.computedPosition.x)||0),y:l.y-((s==null?void 0:s.computedPosition.y)||0)},computedPosition:l}}function $o(n,i,r=Ee.Left){var f,m,p;const o=((f=i==null?void 0:i.x)!=null?f:0)+n.computedPosition.x,s=((m=i==null?void 0:i.y)!=null?m:0)+n.computedPosition.y,{width:u,height:l}=i!=null?i:Jk(n);switch((p=i==null?void 0:i.position)!=null?p:r){case Ee.Top:return{x:o+u/2,y:s};case Ee.Right:return{x:o+u,y:s+l/2};case Ee.Bottom:return{x:o+u/2,y:s+l};case Ee.Left:return{x:o,y:s+l/2}}}function pd(n=[],i){return n.length&&(i?n.find(r=>r.id===i):n[0])||null}function Kk({sourcePos:n,targetPos:i,sourceWidth:r,sourceHeight:o,targetWidth:s,targetHeight:u,width:l,height:d,viewport:f}){const m={x:Math.min(n.x,i.x),y:Math.min(n.y,i.y),x2:Math.max(n.x+r,i.x+s),y2:Math.max(n.y+o,i.y+u)};m.x===m.x2&&(m.x2+=1),m.y===m.y2&&(m.y2+=1);const p=Pf({x:(0-f.x)/f.zoom,y:(0-f.y)/f.zoom,width:l/f.zoom,height:d/f.zoom}),_=Math.max(0,Math.min(p.x2,m.x2)-Math.max(p.x,m.x)),k=Math.max(0,Math.min(p.y2,m.y2)-Math.max(p.y,m.y));return Math.ceil(_*k)>0}function Zk(n,i,r=!1){const o=typeof n.zIndex=="number";let s=o?n.zIndex:0;const u=i(n.source),l=i(n.target);return!u||!l?0:(r&&(s=o?n.zIndex:Math.max(u.computedPosition.z||0,l.computedPosition.z||0)),s)}var _n=(n=>(n.MISSING_STYLES="MISSING_STYLES",n.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",n.NODE_INVALID="NODE_INVALID",n.NODE_NOT_FOUND="NODE_NOT_FOUND",n.NODE_MISSING_PARENT="NODE_MISSING_PARENT",n.NODE_TYPE_MISSING="NODE_TYPE_MISSING",n.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",n.EDGE_INVALID="EDGE_INVALID",n.EDGE_NOT_FOUND="EDGE_NOT_FOUND",n.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",n.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",n.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",n.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",n.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",n.EDGE_ORPHANED="EDGE_ORPHANED",n.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",n))(_n||{});const vd={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:n=>`Node is invalid
Node: ${n}`,NODE_NOT_FOUND:n=>`Node not found
Node: ${n}`,NODE_MISSING_PARENT:(n,i)=>`Node is missing a parent
Node: ${n}
Parent: ${i}`,NODE_TYPE_MISSING:n=>`Node type is missing
Type: ${n}`,NODE_EXTENT_INVALID:n=>`Only child nodes can use a parent extent
Node: ${n}`,EDGE_INVALID:n=>`An edge needs a source and a target
Edge: ${n}`,EDGE_SOURCE_MISSING:(n,i)=>`Edge source is missing
Edge: ${n} 
Source: ${i}`,EDGE_TARGET_MISSING:(n,i)=>`Edge target is missing
Edge: ${n} 
Target: ${i}`,EDGE_TYPE_MISSING:n=>`Edge type is missing
Type: ${n}`,EDGE_SOURCE_TARGET_SAME:(n,i,r)=>`Edge source and target are the same
Edge: ${n} 
Source: ${i} 
Target: ${r}`,EDGE_SOURCE_TARGET_MISSING:(n,i,r)=>`Edge source or target is missing
Edge: ${n} 
Source: ${i} 
Target: ${r}`,EDGE_ORPHANED:n=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${n}`,EDGE_NOT_FOUND:n=>`Edge not found
Edge: ${n}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class kn extends Error{constructor(i,...r){var o;super((o=vd[i])==null?void 0:o.call(vd,...r)),this.name="VueFlowError",this.code=i,this.args=r}}function ll(n){return"clientX"in n}function Jt(n,i){var d,f;var r,o;const s=ll(n),u=s?n.clientX:(r=n.touches)==null?void 0:r[0].clientX,l=s?n.clientY:(o=n.touches)==null?void 0:o[0].clientY;return{x:u-((d=i==null?void 0:i.left)!=null?d:0),y:l-((f=i==null?void 0:i.top)!=null?f:0)}}const Wo=()=>{var n;return typeof navigator!="undefined"&&((n=navigator==null?void 0:navigator.userAgent)==null?void 0:n.indexOf("Mac"))>=0};function Jk(n){var o,s,u,l;var i,r;return{width:(s=(o=(i=n.dimensions)==null?void 0:i.width)!=null?o:n.width)!=null?s:0,height:(l=(u=(r=n.dimensions)==null?void 0:r.height)!=null?u:n.height)!=null?l:0}}function qf(){return{handleDomNode:null,isValid:!1,connection:{source:"",target:"",sourceHandle:null,targetHandle:null},endHandle:null}}function Is(n){n==null||n.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function yd(n,i,r,o){const s=[];for(const u of i[r]||[])if(`${n.id}-${u.id}-${r}`!==o){const{x:l,y:d}=$o(n,u);s.push({id:u.id||null,type:r,nodeId:n.id,x:l,y:d})}return s}function Qk(n,i,r,o,s,u){const{x:l,y:d}=Jt(n),m=i.elementsFromPoint(l,d).find(O=>O.classList.contains("vue-flow__handle"));if(m){const O=m.getAttribute("data-nodeid");if(O){const M=ul(void 0,m),A=m.getAttribute("data-handleid"),T=u({nodeId:O,id:A,type:M});if(T){const b=s.find(R=>R.nodeId===O&&R.type===M&&R.id===A);return{handle:{id:A,type:M,nodeId:O,x:(b==null?void 0:b.x)||r.x,y:(b==null?void 0:b.y)||r.y},validHandleResult:T}}}}let p=[],_=Number.POSITIVE_INFINITY;for(const O of s){const M=Math.sqrt((O.x-r.x)**2+(O.y-r.y)**2);if(M<=o){const A=u(O);M<=_&&(M<_?p=[{handle:O,validHandleResult:A}]:M===_&&p.push({handle:O,validHandleResult:A}),_=M)}}if(!p.length)return{handle:null,validHandleResult:qf()};if(p.length===1)return p[0];const k=p.some(({validHandleResult:O})=>O.isValid),E=p.some(({handle:O})=>O.type==="target");return p.find(({handle:O,validHandleResult:M})=>E?O.type==="target":k?M.isValid:!0)||p[0]}function _d(n,i,r,o,s,u,l,d,f,m,p){const _=u==="target",k=d.querySelector(`.vue-flow__handle[data-id="${i==null?void 0:i.nodeId}-${i==null?void 0:i.id}-${i==null?void 0:i.type}"]`),{x:E,y:O}=Jt(n),M=d.elementFromPoint(E,O),A=M!=null&&M.classList.contains("vue-flow__handle")?M:k,T=qf();if(A){T.handleDomNode=A;const b=ul(void 0,A),R=A.getAttribute("data-nodeid"),P=A.getAttribute("data-handleid"),ee=A.classList.contains("connectable"),le=A.classList.contains("connectableend"),oe={source:_?R:o,sourceHandle:_?P:s,target:_?o:R,targetHandle:_?s:P};T.connection=oe,ee&&le&&(r===yi.Strict?_&&b==="source"||!_&&b==="target":R!==o||P!==s)&&(T.isValid=l(oe,{edges:f,nodes:m,sourceNode:p(oe.source),targetNode:p(oe.target)}),T.endHandle={nodeId:R,handleId:P,type:b,position:T.isValid?A.getAttribute("data-handlepos"):null})}return T}function e2({nodes:n,nodeId:i,handleId:r,handleType:o}){const s=[];for(let u=0;u<n.length;u++){const l=n[u],{handleBounds:d}=l;let f=[],m=[];d&&(f=yd(l,d,"source",`${i}-${r}-${o}`),m=yd(l,d,"target",`${i}-${r}-${o}`)),s.push(...f,...m)}return s}function ul(n,i){return n||(i!=null&&i.classList.contains("target")?"target":i!=null&&i.classList.contains("source")?"source":null)}function n2(n,i){let r=null;return i?r="valid":n&&!i&&(r="invalid"),r}const t2=["production","prod"];function Qo(n,...i){Ff()&&console.warn(`[Vue Flow]: ${n}`,...i)}function Ff(){return!t2.includes("production")}function bd(n,i,r,o){const s=i.querySelectorAll(`.vue-flow__handle${n}`);return Array.from(s).map(l=>{const d=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(d.left-r.left)/o,y:(d.top-r.top)/o,...Jo(l)}})}function js(n,i,r,o,s,u=!1,l){s.value=!1,n.selected?(u||n.selected&&i)&&(o([n]),Fn(()=>{l.blur()})):r([n])}function yn(n){return typeof Oe(n)!="undefined"}function i2(n,i,r,o){var u;if(!n||!n.source||!n.target)return r(new kn(_n.EDGE_INVALID,(u=n==null?void 0:n.id)!=null?u:"[ID UNKNOWN]")),!1;let s;return Qt(n)?s=n:s={...n,id:Nf(n)},s=If(s,void 0,o),Gk(s,i)?!1:s}function r2(n,i,r,o,s,u){if(!i.source||!i.target)return u(new kn(_n.EDGE_INVALID,n.id)),!1;const l=o(n.id);if(!l)return u(new kn(_n.EDGE_NOT_FOUND,n.id)),!1;const{id:d,...f}=n,m={...f,id:s?Nf(i):d,source:i.source,target:i.target,sourceHandle:i.sourceHandle,targetHandle:i.targetHandle};return r.splice(r.indexOf(l),1,m),m}function wd(n,i,r){const o={},s=[];for(let u=0;u<n.length;++u){const l=n[u];if(!mi(l)){r(new kn(_n.NODE_INVALID,l==null?void 0:l.id)||`[ID UNKNOWN|INDEX ${u}]`);continue}const d=Hk(l,i(l.id),l.parentNode);l.parentNode&&(o[l.parentNode]=!0),s[u]=d}for(const u of s){const l=i(u.parentNode)||s.find(d=>d.id===u.parentNode);u.parentNode&&!l&&r(new kn(_n.NODE_MISSING_PARENT,u.id,u.parentNode)),(u.parentNode||o[u.id])&&(o[u.id]&&(u.isParent=!0),l&&(l.isParent=!0))}return s}function xd(n,i){n.clear();for(const r of i){const{id:o,source:s,target:u,sourceHandle:l=null,targetHandle:d=null}=r,f=`${s}-source-${l}`,m=`${u}-target-${d}`,p=n.get(f)||new Map,_=n.get(m)||new Map,k=Li({edgeId:o,source:s,target:u,sourceHandle:l,targetHandle:d});n.set(f,p.set(`${u}-${d}`,k)),n.set(m,_.set(`${s}-${l}`,k))}}function kd(n,i,r,o,s,u,l,d){const f=[];for(const m of n){const p=Qt(m)?m:i2(m,d,s,u);if(!p)continue;const _=r(p.source),k=r(p.target);if(!_||!k){s(new kn(_n.EDGE_SOURCE_TARGET_MISSING,p.id,p.source,p.target));continue}if(!_){s(new kn(_n.EDGE_SOURCE_MISSING,p.id,p.source));continue}if(!k){s(new kn(_n.EDGE_TARGET_MISSING,p.id,p.target));continue}if(i&&!i(p,{edges:d,nodes:l,sourceNode:_,targetNode:k})){s(new kn(_n.EDGE_INVALID,p.id));continue}const E=o(p.id);f.push({...If(p,E,u),sourceNode:_,targetNode:k})}return f}const Ed=Symbol("vueFlow"),Gf=Symbol("nodeId"),$f=Symbol("nodeRef"),o2=Symbol("edgeId"),a2=Symbol("edgeRef"),ea=Symbol("slots");function Wf(n){const{vueFlowRef:i,snapToGrid:r,snapGrid:o,noDragClassName:s,nodes:u,nodeExtent:l,nodeDragThreshold:d,viewport:f,autoPanOnNodeDrag:m,autoPanSpeed:p,nodesDraggable:_,panBy:k,findNode:E,multiSelectionActive:O,nodesSelectionActive:M,selectNodesOnDrag:A,removeSelectedElements:T,addSelectedNodes:b,updateNodePositions:R,emits:P}=fn(),{onStart:ee,onDrag:le,onStop:oe,onClick:ce,el:ve,disabled:ie,id:C,selectable:be,dragHandle:ze}=n,N=Pe(!1);let $=[],B,V=null,ne={x:void 0,y:void 0},ae={x:0,y:0},de=null,re=!1,Se=0,he=!1;const ue=u2(),ge=({x:H,y:X})=>{ne={x:H,y:X};let Z=!1;if($=$.map(v=>{const x={x:H-v.distance.x,y:X-v.distance.y};r.value&&(x.x=o.value[0]*Math.round(x.x/o.value[0]),x.y=o.value[1]*Math.round(x.y/o.value[1]));const{computedPosition:D}=sl(v,x,P.error,l.value,v.parentNode?E(v.parentNode):void 0);return Z=Z||v.position.x!==D.x||v.position.y!==D.y,v.position=D,v}),!!Z&&(R($,!0,!0),N.value=!0,de)){const[v,x]=Cs({id:C,dragItems:$,findNode:E});le({event:de,node:v,nodes:x})}},He=()=>{var Z,v;if(!V)return;const[H,X]=Lf(ae,V,p.value);if(H!==0||X!==0){const x={x:((Z=ne.x)!=null?Z:0)-H/f.value.zoom,y:((v=ne.y)!=null?v:0)-X/f.value.zoom};k({x:H,y:X})&&ge(x)}Se=requestAnimationFrame(He)},De=(H,X)=>{re=!0;const Z=E(C);!A.value&&!O.value&&Z&&(Z.selected||T()),Z&&Qe(be)&&A.value&&js(Z,O.value,b,T,M,!1,X);const v=ue(H);if(ne=v,$=Vk(u.value,_.value,v,E,C),$.length){const[x,D]=Cs({id:C,dragItems:$,findNode:E});ee({event:H.sourceEvent,node:x,nodes:D})}},Re=(H,X)=>{var Z;H.sourceEvent.type==="touchmove"&&H.sourceEvent.touches.length>1||(d.value===0&&De(H,X),ne=ue(H),V=((Z=i.value)==null?void 0:Z.getBoundingClientRect())||null,ae=Jt(H.sourceEvent,V))},K=(H,X)=>{var v,x;const Z=ue(H);if(!he&&re&&m.value&&(he=!0,He()),!re){const D=Z.xSnapped-((v=ne.x)!=null?v:0),G=Z.ySnapped-((x=ne.y)!=null?x:0);Math.sqrt(D*D+G*G)>d.value&&De(H,X)}(ne.x!==Z.xSnapped||ne.y!==Z.ySnapped)&&$.length&&re&&(de=H.sourceEvent,ae=Jt(H.sourceEvent,V),ge(Z))},q=H=>{if(!N.value&&!O.value&&(ce==null||ce(H.sourceEvent)),N.value=!1,he=!1,re=!1,ne={x:void 0,y:void 0},cancelAnimationFrame(Se),$.length){R($,!1,!1);const[X,Z]=Cs({id:C,dragItems:$,findNode:E});oe({event:H.sourceEvent,node:X,nodes:Z})}};return en([()=>Qe(ie),ve],([H,X],Z,v)=>{if(X){const x=ft(X);H||(B=$1().on("start",D=>Re(D,X)).on("drag",D=>K(D,X)).on("end",D=>q(D)).filter(D=>{const G=D.target,se=Qe(ze);return!D.button&&(!s.value||!md(G,`.${s.value}`,X)&&(!se||md(G,se,X)))}),x.call(B)),v(()=>{x.on(".drag",null),B&&(B.on("start",null),B.on("drag",null),B.on("end",null))})}}),N}function s2(){return{doubleClick:me(),click:me(),mouseEnter:me(),mouseMove:me(),mouseLeave:me(),contextMenu:me(),updateStart:me(),update:me(),updateEnd:me()}}function l2(n,i){const r=s2();return r.doubleClick.on(o=>{var s,u;i.edgeDoubleClick(o),(u=(s=n.events)==null?void 0:s.doubleClick)==null||u.call(s,o)}),r.click.on(o=>{var s,u;i.edgeClick(o),(u=(s=n.events)==null?void 0:s.click)==null||u.call(s,o)}),r.mouseEnter.on(o=>{var s,u;i.edgeMouseEnter(o),(u=(s=n.events)==null?void 0:s.mouseEnter)==null||u.call(s,o)}),r.mouseMove.on(o=>{var s,u;i.edgeMouseMove(o),(u=(s=n.events)==null?void 0:s.mouseMove)==null||u.call(s,o)}),r.mouseLeave.on(o=>{var s,u;i.edgeMouseLeave(o),(u=(s=n.events)==null?void 0:s.mouseLeave)==null||u.call(s,o)}),r.contextMenu.on(o=>{var s,u;i.edgeContextMenu(o),(u=(s=n.events)==null?void 0:s.contextMenu)==null||u.call(s,o)}),r.updateStart.on(o=>{var s,u;i.edgeUpdateStart(o),(u=(s=n.events)==null?void 0:s.updateStart)==null||u.call(s,o)}),r.update.on(o=>{var s,u;i.edgeUpdate(o),(u=(s=n.events)==null?void 0:s.update)==null||u.call(s,o)}),r.updateEnd.on(o=>{var s,u;i.edgeUpdateEnd(o),(u=(s=n.events)==null?void 0:s.updateEnd)==null||u.call(s,o)}),Object.entries(r).reduce((o,[s,u])=>(o.emit[s]=u.trigger,o.on[s]=u.on,o),{emit:{},on:{}})}function u2(){const{viewport:n,snapGrid:i,snapToGrid:r}=fn();return({sourceEvent:o})=>{const s=o.touches?o.touches[0].clientX:o.clientX,u=o.touches?o.touches[0].clientY:o.clientY,l={x:(s-n.value.x)/n.value.zoom,y:(u-n.value.y)/n.value.zoom};return{xSnapped:r.value?i.value[0]*Math.round(l.x/i.value[0]):l.x,ySnapped:r.value?i.value[1]*Math.round(l.y/i.value[1]):l.y,...l}}}function So(){return!0}function Uf({handleId:n,nodeId:i,type:r,isValidConnection:o,edgeUpdaterType:s,onEdgeUpdate:u,onEdgeUpdateEnd:l}){const{vueFlowRef:d,connectionMode:f,connectionRadius:m,connectOnClick:p,connectionClickStartHandle:_,nodesConnectable:k,autoPanOnConnect:E,autoPanSpeed:O,findNode:M,panBy:A,startConnection:T,updateConnection:b,endConnection:R,emits:P,viewport:ee,edges:le,nodes:oe,isValidConnection:ce}=fn();let ve=null,ie=!1,C=null,be=null;function ze($){var B;const V=Qe(r)==="target",ne=ll($),ae=ld($.target);if(ne&&$.button===0||!ne){let de=function(D){X=Jt(D,q);const{handle:G,validHandleResult:se}=Qk(D,ae,Go(X,ee.value,!1,[1,1]),m.value,v,ke=>_d(D,ke,f.value,Qe(i),Qe(n),V?"target":"source",he,ae,le.value,oe.value,M));if(ue=G,Z||(x(),Z=!0),ve=se.connection,ie=se.isValid,C=se.handleDomNode,!(ie&&ue&&(be!=null&&be.endHandle)&&se.endHandle&&be.endHandle.type===se.endHandle.type&&be.endHandle.nodeId===se.endHandle.nodeId&&be.endHandle.handleId===se.endHandle.handleId)){if(b(ue&&ie?zf({x:ue.x,y:ue.y},ee.value):X,se.endHandle,n2(!!ue,ie)),be=se,!ue&&!ie&&!C)return Is(H);ve&&ve.source!==ve.target&&C&&(Is(H),H=C,C.classList.add("connecting","vue-flow__handle-connecting"),C.classList.toggle("valid",ie),C.classList.toggle("vue-flow__handle-valid",ie))}},re=function(D){(ue||C)&&ve&&ie&&(u?u(D,ve):P.connect(ve)),P.connectEnd(D),s&&(l==null||l(D)),Is(H),cancelAnimationFrame(ge),R(D),Z=!1,ie=!1,ve=null,C=null,ae.removeEventListener("mousemove",de),ae.removeEventListener("mouseup",re),ae.removeEventListener("touchmove",de),ae.removeEventListener("touchend",re)};const Se=M(Qe(i));let he=Qe(o)||ce.value||So;!he&&Se&&(he=(V?Se.isValidSourcePos:Se.isValidTargetPos)||So);let ue,ge=0;const{x:He,y:De}=Jt($),Re=ae==null?void 0:ae.elementFromPoint(He,De),K=ul(Qe(s),Re),q=(B=d.value)==null?void 0:B.getBoundingClientRect();if(!q||!K)return;let H,X=Jt($,q),Z=!1;const v=e2({nodes:oe.value,nodeId:Qe(i),handleId:Qe(n),handleType:K}),x=()=>{if(!E.value)return;const[D,G]=Lf(X,q,O.value);A({x:D,y:G}),ge=requestAnimationFrame(x)};T({nodeId:Qe(i),handleId:Qe(n),type:K,position:(Re==null?void 0:Re.getAttribute("data-handlepos"))||Ee.Top},{x:He-q.left,y:De-q.top}),P.connectStart({event:$,nodeId:Qe(i),handleId:Qe(n),handleType:K}),ae.addEventListener("mousemove",de),ae.addEventListener("mouseup",re),ae.addEventListener("touchmove",de),ae.addEventListener("touchend",re)}}function N($){if(!p.value)return;const B=Qe(r)==="target";if(!_.value)P.clickConnectStart({event:$,nodeId:Qe(i),handleId:Qe(n)}),T({nodeId:Qe(i),type:Qe(r),handleId:Qe(n)},void 0,!0);else{let V=Qe(o)||ce.value||So;const ne=M(Qe(i));if(!V&&ne&&(V=(B?ne.isValidSourcePos:ne.isValidTargetPos)||So),ne&&(typeof ne.connectable=="undefined"?k.value:ne.connectable)===!1)return;const ae=ld($.target),{connection:de,isValid:re}=_d($,{nodeId:Qe(i),id:Qe(n),type:Qe(r)},f.value,_.value.nodeId,_.value.handleId||null,_.value.type,V,ae,le.value,oe.value,M),Se=de.source===de.target;re&&!Se&&P.connect(de),P.clickConnectEnd($),R($,!0)}}return{handlePointerDown:ze,handleClick:N}}function c2(){return Yi(Gf,"")}function Vf(n){var d;const i=(d=n!=null?n:c2())!=null?d:"",r=Yi($f,Pe(null)),{findNode:o,edges:s,emits:u}=fn(),l=o(i);return l||u.error(new kn(_n.NODE_NOT_FOUND,i)),{id:i,nodeEl:r,node:l,parentNode:Me(()=>o(l.parentNode)),connectedEdges:Me(()=>Df([l],s.value))}}function d2(){return{doubleClick:me(),click:me(),mouseEnter:me(),mouseMove:me(),mouseLeave:me(),contextMenu:me(),dragStart:me(),drag:me(),dragStop:me()}}function f2(n,i){const r=d2();return r.doubleClick.on(o=>{var s,u;i.nodeDoubleClick(o),(u=(s=n.events)==null?void 0:s.doubleClick)==null||u.call(s,o)}),r.click.on(o=>{var s,u;i.nodeClick(o),(u=(s=n.events)==null?void 0:s.click)==null||u.call(s,o)}),r.mouseEnter.on(o=>{var s,u;i.nodeMouseEnter(o),(u=(s=n.events)==null?void 0:s.mouseEnter)==null||u.call(s,o)}),r.mouseMove.on(o=>{var s,u;i.nodeMouseMove(o),(u=(s=n.events)==null?void 0:s.mouseMove)==null||u.call(s,o)}),r.mouseLeave.on(o=>{var s,u;i.nodeMouseLeave(o),(u=(s=n.events)==null?void 0:s.mouseLeave)==null||u.call(s,o)}),r.contextMenu.on(o=>{var s,u;i.nodeContextMenu(o),(u=(s=n.events)==null?void 0:s.contextMenu)==null||u.call(s,o)}),r.dragStart.on(o=>{var s,u;i.nodeDragStart(o),(u=(s=n.events)==null?void 0:s.dragStart)==null||u.call(s,o)}),r.drag.on(o=>{var s,u;i.nodeDrag(o),(u=(s=n.events)==null?void 0:s.drag)==null||u.call(s,o)}),r.dragStop.on(o=>{var s,u;i.nodeDragStop(o),(u=(s=n.events)==null?void 0:s.dragStop)==null||u.call(s,o)}),Object.entries(r).reduce((o,[s,u])=>(o.emit[s]=u.trigger,o.on[s]=u.on,o),{emit:{},on:{}})}function Yf(){const{getSelectedNodes:n,nodeExtent:i,updateNodePositions:r,findNode:o,snapGrid:s,snapToGrid:u,nodesDraggable:l,emits:d}=fn();return(f,m=!1)=>{const p=u.value?s.value[0]:5,_=u.value?s.value[1]:5,k=m?4:1,E=f.x*p*k,O=f.y*_*k,M=[];for(const A of n.value)if(A.draggable||l&&typeof A.draggable=="undefined"){const T={x:A.computedPosition.x+E,y:A.computedPosition.y+O},{computedPosition:b}=sl(A,T,d.error,i.value,A.parentNode?o(A.parentNode):void 0);M.push({id:A.id,position:b,from:A.position,distance:{x:f.x,y:f.y},dimensions:A.dimensions})}r(M,!0,!1)}}const As=.1;function Xt(){return Qo("Viewport not initialized yet."),Promise.resolve(!1)}const h2={zoomIn:Xt,zoomOut:Xt,zoomTo:Xt,fitView:Xt,setCenter:Xt,fitBounds:Xt,project:n=>n,screenToFlowCoordinate:n=>n,flowToScreenCoordinate:n=>n,setViewport:Xt,setTransform:Xt,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function g2(n){function i(o,s){return new Promise(u=>{n.d3Selection&&n.d3Zoom?n.d3Zoom.scaleBy(Ns(n.d3Selection,s,()=>{u(!0)}),o):u(!1)})}function r(o,s,u,l){return new Promise(d=>{const{x:f,y:m}=Cf({x:-o,y:-s},n.translateExtent),p=Vi.translate(-f,-m).scale(u);n.d3Selection&&n.d3Zoom?n.d3Zoom.transform(Ns(n.d3Selection,l,()=>{d(!0)}),p):d(!1)})}return Me(()=>n.d3Zoom&&n.d3Selection&&n.dimensions.width&&n.dimensions.height?{viewportInitialized:!0,zoomIn:s=>i(1.2,s==null?void 0:s.duration),zoomOut:s=>i(1/1.2,s==null?void 0:s.duration),zoomTo:(s,u)=>new Promise(l=>{n.d3Selection&&n.d3Zoom?n.d3Zoom.scaleTo(Ns(n.d3Selection,u==null?void 0:u.duration,()=>{l(!0)}),s):l(!1)}),setViewport:(s,u)=>r(s.x,s.y,s.zoom,u==null?void 0:u.duration),setTransform:(s,u)=>r(s.x,s.y,s.zoom,u==null?void 0:u.duration),getViewport:()=>({x:n.viewport.x,y:n.viewport.y,zoom:n.viewport.zoom}),getTransform:()=>({x:n.viewport.x,y:n.viewport.y,zoom:n.viewport.zoom}),fitView:(s={padding:As,includeHiddenNodes:!1,duration:0})=>{var k,E,O;var u,l;const d=[];for(const M of n.nodes)M.dimensions.width&&M.dimensions.height&&((s==null?void 0:s.includeHiddenNodes)||!M.hidden)&&(!((u=s.nodes)!=null&&u.length)||(l=s.nodes)!=null&&l.length&&s.nodes.includes(M.id))&&d.push(M);if(!d.length)return Promise.resolve(!1);const f=Of(d),{x:m,y:p,zoom:_}=ud(f,n.dimensions.width,n.dimensions.height,(k=s.minZoom)!=null?k:n.minZoom,(E=s.maxZoom)!=null?E:n.maxZoom,(O=s.padding)!=null?O:As,s.offset);return r(m,p,_,s==null?void 0:s.duration)},setCenter:(s,u,l)=>{const d=typeof(l==null?void 0:l.zoom)!="undefined"?l.zoom:n.maxZoom,f=n.dimensions.width/2-s*d,m=n.dimensions.height/2-u*d;return r(f,m,d,l==null?void 0:l.duration)},fitBounds:(s,u={padding:As})=>{const{x:l,y:d,zoom:f}=ud(s,n.dimensions.width,n.dimensions.height,n.minZoom,n.maxZoom,u.padding);return r(l,d,f,u==null?void 0:u.duration)},project:s=>Go(s,n.viewport,n.snapToGrid,n.snapGrid),screenToFlowCoordinate:s=>{if(n.vueFlowRef){const{x:u,y:l}=n.vueFlowRef.getBoundingClientRect(),d={x:s.x-u,y:s.y-l};return Go(d,n.viewport,n.snapToGrid,n.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:s=>{if(n.vueFlowRef){const{x:u,y:l}=n.vueFlowRef.getBoundingClientRect(),d={x:s.x+u,y:s.y+l};return zf(d,n.viewport)}return{x:0,y:0}}}:h2)}function Ns(n,i=0,r){return n.transition().duration(i).on("end",r)}function m2(n,i,r){const o=Nd(!0);return o.run(()=>{const s=()=>{o.run(()=>{let M,A,T=!!(r.nodes.value.length||r.edges.value.length);M=Oi([n.modelValue,()=>{var b,R;return(R=(b=n.modelValue)==null?void 0:b.value)==null?void 0:R.length}],([b])=>{b&&Array.isArray(b)&&(A==null||A.pause(),r.setElements(b),!A&&!T&&b.length?T=!0:A==null||A.resume())}),A=Oi([r.nodes,r.edges,()=>r.edges.value.length,()=>r.nodes.value.length],([b,R])=>{var P;(P=n.modelValue)!=null&&P.value&&Array.isArray(n.modelValue.value)&&(M==null||M.pause(),n.modelValue.value=[...b,...R],Fn(()=>{M==null||M.resume()}))},{immediate:T}),To(()=>{M==null||M.stop(),A==null||A.stop()})})},u=()=>{o.run(()=>{let M,A,T=!!r.nodes.value.length;M=Oi([n.nodes,()=>{var b,R;return(R=(b=n.nodes)==null?void 0:b.value)==null?void 0:R.length}],([b])=>{b&&Array.isArray(b)&&(A==null||A.pause(),r.setNodes(b),!A&&!T&&b.length?T=!0:A==null||A.resume())}),A=Oi([r.nodes,()=>r.nodes.value.length],([b])=>{var R;(R=n.nodes)!=null&&R.value&&Array.isArray(n.nodes.value)&&(M==null||M.pause(),n.nodes.value=[...b],Fn(()=>{M==null||M.resume()}))},{immediate:T}),To(()=>{M==null||M.stop(),A==null||A.stop()})})},l=()=>{o.run(()=>{let M,A,T=!!r.edges.value.length;M=Oi([n.edges,()=>{var b,R;return(R=(b=n.edges)==null?void 0:b.value)==null?void 0:R.length}],([b])=>{b&&Array.isArray(b)&&(A==null||A.pause(),r.setEdges(b),!A&&!T&&b.length?T=!0:A==null||A.resume())}),A=Oi([r.edges,()=>r.edges.value.length],([b])=>{var R;(R=n.edges)!=null&&R.value&&Array.isArray(n.edges.value)&&(M==null||M.pause(),n.edges.value=[...b],Fn(()=>{M==null||M.resume()}))},{immediate:T}),To(()=>{M==null||M.stop(),A==null||A.stop()})})},d=()=>{o.run(()=>{en(()=>i.maxZoom,()=>{i.maxZoom&&yn(i.maxZoom)&&r.setMaxZoom(i.maxZoom)},{immediate:!0})})},f=()=>{o.run(()=>{en(()=>i.minZoom,()=>{i.minZoom&&yn(i.minZoom)&&r.setMinZoom(i.minZoom)},{immediate:!0})})},m=()=>{o.run(()=>{en(()=>i.translateExtent,()=>{i.translateExtent&&yn(i.translateExtent)&&r.setTranslateExtent(i.translateExtent)},{immediate:!0})})},p=()=>{o.run(()=>{en(()=>i.nodeExtent,()=>{i.nodeExtent&&yn(i.nodeExtent)&&r.setNodeExtent(i.nodeExtent)},{immediate:!0})})},_=()=>{o.run(()=>{en(()=>i.applyDefault,()=>{yn(i.applyDefault)&&(r.applyDefault.value=i.applyDefault)},{immediate:!0})})},k=()=>{o.run(()=>{const M=async A=>{let T=A;typeof i.autoConnect=="function"&&(T=await i.autoConnect(A)),T!==!1&&r.addEdges([T])};en(()=>i.autoConnect,()=>{yn(i.autoConnect)&&(r.autoConnect.value=i.autoConnect)},{immediate:!0}),en(r.autoConnect,(A,T,b)=>{A?r.onConnect(M):r.hooks.value.connect.off(M),b(()=>{r.hooks.value.connect.off(M)})},{immediate:!0})})},E=()=>{const M=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const A of Object.keys(i)){const T=A;if(!M.includes(T)){const b=mn(()=>i[T]),R=r[T];Zs(R)&&o.run(()=>{en(b,P=>{yn(P)&&(R.value=P)},{immediate:!0})})}}};(()=>{s(),u(),l(),f(),d(),m(),p(),_(),k(),E()})()}),()=>o.stop()}function p2(){return{edgesChange:me(),nodesChange:me(),nodeDoubleClick:me(),nodeClick:me(),nodeMouseEnter:me(),nodeMouseMove:me(),nodeMouseLeave:me(),nodeContextMenu:me(),nodeDragStart:me(),nodeDrag:me(),nodeDragStop:me(),nodesInitialized:me(),miniMapNodeClick:me(),miniMapNodeDoubleClick:me(),miniMapNodeMouseEnter:me(),miniMapNodeMouseMove:me(),miniMapNodeMouseLeave:me(),connect:me(),connectStart:me(),connectEnd:me(),clickConnectStart:me(),clickConnectEnd:me(),paneReady:me(),init:me(),move:me(),moveStart:me(),moveEnd:me(),selectionDragStart:me(),selectionDrag:me(),selectionDragStop:me(),selectionContextMenu:me(),selectionStart:me(),selectionEnd:me(),viewportChangeStart:me(),viewportChange:me(),viewportChangeEnd:me(),paneScroll:me(),paneClick:me(),paneContextMenu:me(),paneMouseEnter:me(),paneMouseMove:me(),paneMouseLeave:me(),edgeContextMenu:me(),edgeMouseEnter:me(),edgeMouseMove:me(),edgeMouseLeave:me(),edgeDoubleClick:me(),edgeClick:me(),edgeUpdateStart:me(),edgeUpdate:me(),edgeUpdateEnd:me(),updateNodeInternals:me(),error:me(n=>Qo(n.message))}}function v2(n,i){Pd(()=>{for(const[r,o]of Object.entries(i.value)){const s=u=>{n(r,u)};o.fns.add(s),Yo(()=>{o.off(s)})}})}function Xf(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:al.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:yr.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:ui.Bezier,style:{}},connectionMode:yi.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:Wo()?"Meta":"Control",zoomActivationKeyCode:Wo()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:p2(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const y2=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function _2(n,i,r){const o=g2(n),s=v=>{const x=v!=null?v:[];n.hooks.updateNodeInternals.trigger(x)},u=v=>Fk(v,n.nodes,n.edges),l=v=>qk(v,n.nodes,n.edges),d=v=>Df(v,n.edges),f=({id:v,type:x,nodeId:D})=>{var se;var G;return Array.from((se=(G=n.connectionLookup.get(`${D}-${x}-${v!=null?v:null}`))==null?void 0:G.values())!=null?se:[])},m=v=>{if(v)return i.value.get(v)},p=v=>{if(v)return r.value.get(v)},_=(v,x,D)=>{var F,pe;var G,se;const ke=[];for(const xe of v){const $e={id:xe.id,type:"position",dragging:D,from:xe.from};if(x&&($e.position=xe.position,xe.parentNode)){const qe=m(xe.parentNode);$e.position={x:$e.position.x-((F=(G=qe==null?void 0:qe.computedPosition)==null?void 0:G.x)!=null?F:0),y:$e.position.y-((pe=(se=qe==null?void 0:qe.computedPosition)==null?void 0:se.y)!=null?pe:0)}}ke.push($e)}ke!=null&&ke.length&&n.hooks.nodesChange.trigger(ke)},k=v=>{if(!n.vueFlowRef)return;const x=n.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!x)return;const D=window.getComputedStyle(x),{m22:G}=new window.DOMMatrixReadOnly(D.transform),se=[];for(let ke=0;ke<v.length;++ke){const F=v[ke],pe=m(F.id);if(pe){const xe=Jo(F.nodeElement);if(!!(xe.width&&xe.height&&(pe.dimensions.width!==xe.width||pe.dimensions.height!==xe.height||F.forceUpdate))){const qe=F.nodeElement.getBoundingClientRect();pe.dimensions=xe,pe.handleBounds.source=bd(".source",F.nodeElement,qe,G),pe.handleBounds.target=bd(".target",F.nodeElement,qe,G),se.push({id:pe.id,type:"dimensions",dimensions:xe})}}}!n.fitViewOnInitDone&&n.fitViewOnInit&&o.value.fitView().then(()=>{n.fitViewOnInitDone=!0}),se.length&&n.hooks.nodesChange.trigger(se)},E=(v,x)=>{const D=new Set,G=new Set;for(const F of v)mi(F)?D.add(F.id):Qt(F)&&G.add(F.id);const se=Zt(i.value,D,!0),ke=Zt(r.value,G);if(n.multiSelectionActive){for(const F of D)se.push(jt(F,x));for(const F of G)ke.push(jt(F,x))}se.length&&n.hooks.nodesChange.trigger(se),ke.length&&n.hooks.edgesChange.trigger(ke)},O=v=>{if(n.multiSelectionActive){const x=v.map(D=>jt(D.id,!0));n.hooks.nodesChange.trigger(x);return}n.hooks.nodesChange.trigger(Zt(i.value,new Set(v.map(x=>x.id)),!0)),n.hooks.edgesChange.trigger(Zt(r.value))},M=v=>{if(n.multiSelectionActive){const x=v.map(D=>jt(D.id,!0));n.hooks.edgesChange.trigger(x);return}n.hooks.edgesChange.trigger(Zt(r.value,new Set(v.map(x=>x.id)))),n.hooks.nodesChange.trigger(Zt(i.value,new Set,!0))},A=v=>{E(v,!0)},T=v=>{const D=(v||n.nodes).map(G=>(G.selected=!1,jt(G.id,!1)));n.hooks.nodesChange.trigger(D)},b=v=>{const D=(v||n.edges).map(G=>(G.selected=!1,jt(G.id,!1)));n.hooks.edgesChange.trigger(D)},R=v=>{if(!v||!v.length)return E([],!1);const x=v.reduce((D,G)=>{const se=jt(G.id,!1);return mi(G)?D.nodes.push(se):D.edges.push(se),D},{nodes:[],edges:[]});x.nodes.length&&n.hooks.nodesChange.trigger(x.nodes),x.edges.length&&n.hooks.edgesChange.trigger(x.edges)},P=v=>{var x;(x=n.d3Zoom)==null||x.scaleExtent([v,n.maxZoom]),n.minZoom=v},ee=v=>{var x;(x=n.d3Zoom)==null||x.scaleExtent([n.minZoom,v]),n.maxZoom=v},le=v=>{var x;(x=n.d3Zoom)==null||x.translateExtent(v),n.translateExtent=v},oe=v=>{n.nodeExtent=v,s()},ce=v=>{var x;(x=n.d3Zoom)==null||x.clickDistance(v)},ve=v=>{n.nodesDraggable=v,n.nodesConnectable=v,n.elementsSelectable=v},ie=v=>{const x=v instanceof Function?v(n.nodes):v;!n.initialized&&!x.length||(n.nodes=wd(x,m,n.hooks.error.trigger))},C=v=>{const x=v instanceof Function?v(n.edges):v;if(!n.initialized&&!x.length)return;const D=kd(x,n.isValidConnection,m,p,n.hooks.error.trigger,n.defaultEdgeOptions,n.nodes,n.edges);xd(n.connectionLookup,D),n.edges=D},be=v=>{const x=v instanceof Function?v([...n.nodes,...n.edges]):v;!n.initialized&&!x.length||(ie(x.filter(mi)),C(x.filter(Qt)))},ze=v=>{let x=v instanceof Function?v(n.nodes):v;x=Array.isArray(x)?x:[x];const D=wd(x,m,n.hooks.error.trigger),G=[];for(const se of D)G.push(fd(se));G.length&&n.hooks.nodesChange.trigger(G)},N=v=>{let x=v instanceof Function?v(n.edges):v;x=Array.isArray(x)?x:[x];const D=kd(x,n.isValidConnection,m,p,n.hooks.error.trigger,n.defaultEdgeOptions,n.nodes,n.edges),G=[];for(const se of D)G.push(fd(se));G.length&&n.hooks.edgesChange.trigger(G)},$=(v,x=!0,D=!1)=>{const G=v instanceof Function?v(n.nodes):v,se=Array.isArray(G)?G:[G],ke=[],F=[];function pe($e){const qe=d($e);for(const Ze of qe)(!yn(Ze.deletable)||Ze.deletable)&&F.push(gd(Ze.id,Ze.source,Ze.target,Ze.sourceHandle,Ze.targetHandle))}function xe($e){const qe=[];for(const Ze of n.nodes)Ze.parentNode===$e&&qe.push(Ze);if(qe.length){for(const Ze of qe)ke.push(hd(Ze.id));x&&pe(qe);for(const Ze of qe)xe(Ze.id)}}for(const $e of se){const qe=typeof $e=="string"?m($e):$e;qe&&(yn(qe.deletable)&&!qe.deletable||(ke.push(hd(qe.id)),x&&pe([qe]),D&&xe(qe.id)))}F.length&&n.hooks.edgesChange.trigger(F),ke.length&&n.hooks.nodesChange.trigger(ke)},B=v=>{const x=v instanceof Function?v(n.edges):v,D=Array.isArray(x)?x:[x],G=[];for(const se of D){const ke=typeof se=="string"?p(se):se;ke&&(yn(ke.deletable)&&!ke.deletable||G.push(gd(typeof se=="string"?se:se.id,ke.source,ke.target,ke.sourceHandle,ke.targetHandle)))}n.hooks.edgesChange.trigger(G)},V=(v,x,D=!0)=>r2(v,x,n.edges,p,D,n.hooks.error.trigger),ne=(v,x,D={replace:!1})=>{const G=p(v);if(!G)return;const se=typeof x=="function"?x(G):x;G.data=D.replace?se:{...G.data,...se}},ae=v=>dd(v,n.nodes),de=v=>{const x=dd(v,n.edges);return xd(n.connectionLookup,x),x},re=(v,x,D={replace:!1})=>{const G=m(v);if(!G)return;const se=typeof x=="function"?x(G):x;D.replace?n.nodes.splice(n.nodes.indexOf(G),1,se):Object.assign(G,se)},Se=(v,x,D={replace:!1})=>{const G=m(v);if(!G)return;const se=typeof x=="function"?x(G):x;G.data=D.replace?se:{...G.data,...se}},he=(v,x,D=!1)=>{D?n.connectionClickStartHandle=v:n.connectionStartHandle=v,n.connectionEndHandle=null,n.connectionStatus=null,x&&(n.connectionPosition=x)},ue=(v,x=null,D=null)=>{n.connectionStartHandle&&(n.connectionPosition=v,n.connectionEndHandle=x,n.connectionStatus=D)},ge=(v,x)=>{n.connectionPosition={x:Number.NaN,y:Number.NaN},n.connectionEndHandle=null,n.connectionStatus=null,x?n.connectionClickStartHandle=null:n.connectionStartHandle=null},He=v=>{const x=Lk(v),D=x?null:vr(v)?v:m(v.id);return!x&&!D?[null,null,x]:[x?v:Ys(D),D,x]},De=(v,x=!0,D=n.nodes)=>{const[G,se,ke]=He(v);if(!G)return[];const F=[];for(const pe of D||n.nodes){if(!ke&&(pe.id===se.id||!pe.computedPosition))continue;const xe=Ys(pe),$e=Xs(xe,G);(x&&$e>0||$e>=Number(G.width)*Number(G.height))&&F.push(pe)}return F},Re=(v,x,D=!0)=>{const[G]=He(v);if(!G)return!1;const se=Xs(G,x);return D&&se>0||se>=Number(G.width)*Number(G.height)},K=v=>{const{viewport:x,dimensions:D,d3Zoom:G,d3Selection:se,translateExtent:ke}=n;if(!G||!se||!v.x&&!v.y)return!1;const F=Vi.translate(x.x+v.x,x.y+v.y).scale(x.zoom),pe=[[0,0],[D.width,D.height]],xe=G.constrain()(F,pe,ke),$e=n.viewport.x!==xe.x||n.viewport.y!==xe.y||n.viewport.zoom!==xe.k;return G.transform(se,xe),$e},q=v=>{const x=v instanceof Function?v(n):v,D=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];yn(x.defaultEdgeOptions)&&(n.defaultEdgeOptions=x.defaultEdgeOptions);const G=x.modelValue||x.nodes||x.edges?[]:void 0;G&&(x.modelValue&&G.push(...x.modelValue),x.nodes&&G.push(...x.nodes),x.edges&&G.push(...x.edges),be(G));const se=()=>{yn(x.maxZoom)&&ee(x.maxZoom),yn(x.minZoom)&&P(x.minZoom),yn(x.translateExtent)&&le(x.translateExtent)};for(const ke of Object.keys(x)){const F=ke,pe=x[F];![...y2,...D].includes(F)&&yn(pe)&&(n[F]=pe)}Ds(()=>n.d3Zoom).not.toBeNull().then(se),n.initialized||(n.initialized=!0)};return{updateNodePositions:_,updateNodeDimensions:k,setElements:be,setNodes:ie,setEdges:C,addNodes:ze,addEdges:N,removeNodes:$,removeEdges:B,findNode:m,findEdge:p,updateEdge:V,updateEdgeData:ne,updateNode:re,updateNodeData:Se,applyEdgeChanges:de,applyNodeChanges:ae,addSelectedElements:A,addSelectedNodes:O,addSelectedEdges:M,setMinZoom:P,setMaxZoom:ee,setTranslateExtent:le,setNodeExtent:oe,setPaneClickDistance:ce,removeSelectedElements:R,removeSelectedNodes:T,removeSelectedEdges:b,startConnection:he,updateConnection:ue,endConnection:ge,setInteractive:ve,setState:q,getIntersectingNodes:De,getIncomers:u,getOutgoers:l,getConnectedEdges:d,getHandleConnections:f,isNodeIntersecting:Re,panBy:K,fitView:v=>o.value.fitView(v),zoomIn:v=>o.value.zoomIn(v),zoomOut:v=>o.value.zoomOut(v),zoomTo:(v,x)=>o.value.zoomTo(v,x),setViewport:(v,x)=>o.value.setViewport(v,x),setTransform:(v,x)=>o.value.setTransform(v,x),getViewport:()=>o.value.getViewport(),getTransform:()=>o.value.getTransform(),setCenter:(v,x,D)=>o.value.setCenter(v,x,D),fitBounds:(v,x)=>o.value.fitBounds(v,x),project:v=>o.value.project(v),screenToFlowCoordinate:v=>o.value.screenToFlowCoordinate(v),flowToScreenCoordinate:v=>o.value.flowToScreenCoordinate(v),toObject:()=>{const v=[],x=[];for(const D of n.nodes){const{computedPosition:G,handleBounds:se,selected:ke,dimensions:F,isParent:pe,resizing:xe,dragging:$e,events:qe,...Ze}=D;v.push(Ze)}for(const D of n.edges){const{selected:G,sourceNode:se,targetNode:ke,events:F,...pe}=D;x.push(pe)}return JSON.parse(JSON.stringify({nodes:v,edges:x,position:[n.viewport.x,n.viewport.y],zoom:n.viewport.zoom,viewport:n.viewport}))},fromObject:v=>new Promise(x=>{const{nodes:D,edges:G,position:se,zoom:ke,viewport:F}=v;if(D&&ie(D),G&&C(G),F!=null&&F.x&&(F!=null&&F.y)||se){const pe=(F==null?void 0:F.x)||se[0],xe=(F==null?void 0:F.y)||se[1],$e=(F==null?void 0:F.zoom)||ke||n.viewport.zoom;return Ds(()=>o.value.viewportInitialized).toBe(!0).then(()=>{o.value.setViewport({x:pe,y:xe,zoom:$e}).then(()=>{x(!0)})})}else x(!0)}),updateNodeInternals:s,viewportHelper:o,$reset:()=>{var x,D,G;const v=Xf();if(n.edges=[],n.nodes=[],n.d3Zoom&&n.d3Selection){const se=Vi.translate((x=v.defaultViewport.x)!=null?x:0,(D=v.defaultViewport.y)!=null?D:0).scale(_i((G=v.defaultViewport.zoom)!=null?G:1,v.minZoom,v.maxZoom)),ke=n.viewportRef.getBoundingClientRect(),F=[[0,0],[ke.width,ke.height]],pe=n.d3Zoom.constrain()(se,F,v.translateExtent);n.d3Zoom.transform(n.d3Selection,pe)}q(v)},$destroy:()=>{}}}const b2=["data-id","data-handleid","data-nodeid","data-handlepos"],w2={name:"Handle",compatConfig:{MODE:3}},Mr=ln({...w2,props:{id:{default:null},type:{},position:{default:()=>Ee.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(n,{expose:i}){const r=Od(n,["position","connectable","connectableStart","connectableEnd","id"]),o=mn(()=>{var ie;return(ie=r.type)!=null?ie:"source"}),s=mn(()=>{var ie;return(ie=r.isValidConnection)!=null?ie:null}),{connectionStartHandle:u,connectionClickStartHandle:l,connectionEndHandle:d,vueFlowRef:f,nodesConnectable:m,noDragClassName:p,noPanClassName:_}=fn(),{id:k,node:E,nodeEl:O,connectedEdges:M}=Vf(),A=Pe(),T=mn(()=>typeof n.connectableStart!="undefined"?n.connectableStart:!0),b=mn(()=>typeof n.connectableEnd!="undefined"?n.connectableEnd:!0),R=mn(()=>{var ie,C,be,ze,N,$;return((ie=u.value)==null?void 0:ie.nodeId)===k&&((C=u.value)==null?void 0:C.handleId)===n.id&&((be=u.value)==null?void 0:be.type)===o.value||((ze=d.value)==null?void 0:ze.nodeId)===k&&((N=d.value)==null?void 0:N.handleId)===n.id&&(($=d.value)==null?void 0:$.type)===o.value}),P=mn(()=>{var ie,C,be;return((ie=l.value)==null?void 0:ie.nodeId)===k&&((C=l.value)==null?void 0:C.handleId)===n.id&&((be=l.value)==null?void 0:be.type)===o.value}),{handlePointerDown:ee,handleClick:le}=Uf({nodeId:k,handleId:n.id,isValidConnection:s,type:o}),oe=Me(()=>typeof n.connectable=="string"&&n.connectable==="single"?!M.value.some(ie=>{const C=ie[`${o.value}Handle`];return ie[o.value]!==k?!1:C?C===n.id:!0}):typeof n.connectable=="number"?M.value.filter(ie=>{const C=ie[`${o.value}Handle`];return ie[o.value]!==k?!1:C?C===n.id:!0}).length<n.connectable:typeof n.connectable=="function"?n.connectable(E,M.value):yn(n.connectable)?n.connectable:m.value);gt(()=>{var ne;var ie;if(!E.dimensions.width||!E.dimensions.height)return;const C=(ie=E.handleBounds[o.value])==null?void 0:ie.find(ae=>ae.id===n.id);if(!f.value||C)return;const be=f.value.querySelector(".vue-flow__transformationpane");if(!O.value||!A.value||!be||!n.id)return;const ze=O.value.getBoundingClientRect(),N=A.value.getBoundingClientRect(),$=window.getComputedStyle(be),{m22:B}=new window.DOMMatrixReadOnly($.transform),V={id:n.id,position:n.position,x:(N.left-ze.left)/B,y:(N.top-ze.top)/B,...Jo(A.value)};E.handleBounds[o.value]=[...(ne=E.handleBounds[o.value])!=null?ne:[],V]}),zd(()=>{const ie=E.handleBounds[o.value];ie&&(E.handleBounds[o.value]=ie.filter(C=>C.id!==n.id))});function ce(ie){const C=ll(ie);oe.value&&T.value&&(C&&ie.button===0||!C)&&ee(ie)}function ve(ie){!k||!l.value&&!T.value||oe.value&&le(ie)}return i({handleClick:le,handlePointerDown:ee,onClick:ve,onPointerDown:ce}),(ie,C)=>(J(),Te("div",{ref_key:"handle",ref:A,"data-id":`${Oe(k)}-${n.id}-${o.value}`,"data-handleid":n.id,"data-nodeid":Oe(k),"data-handlepos":ie.position,class:st(["vue-flow__handle",[`vue-flow__handle-${ie.position}`,`vue-flow__handle-${n.id}`,Oe(p),Oe(_),o.value,{connectable:oe.value,connecting:P.value,connectablestart:T.value,connectableend:b.value,connectionindicator:oe.value&&(T.value&&!R.value||b.value&&R.value)}]]),onMousedown:ce,onTouchstartPassive:ce,onClick:ve},[pi(ie.$slots,"default",{id:ie.id})],42,b2))}}),na=function({sourcePosition:n=Ee.Bottom,targetPosition:i=Ee.Top,label:r,connectable:o=!0,isValidTargetPos:s,isValidSourcePos:u,data:l}){const d=l.label||r;return[rn(Mr,{type:"target",position:i,connectable:o,isValidConnection:s}),typeof d!="string"&&d?rn(d):rn("div",{innerHTML:d}),rn(Mr,{type:"source",position:n,connectable:o,isValidConnection:u})]};na.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];na.inheritAttrs=!1;na.compatConfig={MODE:3};const x2=na,ta=function({targetPosition:n=Ee.Top,label:i,connectable:r=!0,isValidTargetPos:o,data:s}){const u=s.label||i;return[rn(Mr,{type:"target",position:n,connectable:r,isValidConnection:o}),typeof u!="string"&&u?rn(u):rn("div",{innerHTML:u})]};ta.props=["targetPosition","label","isValidTargetPos","connectable","data"];ta.inheritAttrs=!1;ta.compatConfig={MODE:3};const k2=ta,ia=function({sourcePosition:n=Ee.Bottom,label:i,connectable:r=!0,isValidSourcePos:o,data:s}){const u=s.label||i;return[typeof u!="string"&&u?rn(u):rn("div",{innerHTML:u}),rn(Mr,{type:"source",position:n,connectable:r,isValidConnection:o})]};ia.props=["sourcePosition","label","isValidSourcePos","connectable","data"];ia.inheritAttrs=!1;ia.compatConfig={MODE:3};const E2=ia,S2=["transform"],M2=["width","height","x","y","rx","ry"],T2=["y"],C2={name:"EdgeText",compatConfig:{MODE:3}},I2=ln({...C2,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(n){const i=Pe({x:0,y:0,width:0,height:0}),r=Pe(null),o=Me(()=>`translate(${n.x-i.value.width/2} ${n.y-i.value.height/2})`);gt(s),en([()=>n.x,()=>n.y,r,()=>n.label],s);function s(){if(!r.value)return;const u=r.value.getBBox();(u.width!==i.value.width||u.height!==i.value.height)&&(i.value=u)}return(u,l)=>(J(),Te("g",{transform:o.value,class:"vue-flow__edge-textwrapper"},[u.labelShowBg?(J(),Te("rect",{key:0,class:"vue-flow__edge-textbg",width:`${i.value.width+2*u.labelBgPadding[0]}px`,height:`${i.value.height+2*u.labelBgPadding[1]}px`,x:-u.labelBgPadding[0],y:-u.labelBgPadding[1],style:at(u.labelBgStyle),rx:u.labelBgBorderRadius,ry:u.labelBgBorderRadius},null,12,M2)):Ye("",!0),Le("text",Y0(u.$attrs,{ref_key:"el",ref:r,class:"vue-flow__edge-text",y:i.value.height/2,dy:"0.3em",style:u.labelStyle}),[pi(u.$slots,"default",{},()=>[typeof u.label!="string"?(J(),Ce(V0(u.label),{key:0})):(J(),Te(sn,{key:1},[Ge(_e(u.label),1)],64))])],16,T2)],8,S2))}}),A2=["id","d","marker-end","marker-start"],N2=["d","stroke-width"],z2={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},ra=ln({...z2,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},style:{},labelStyle:{},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(n,{expose:i}){const r=Od(n,["interactionWidth","labelShowBg"]),o=Pe(null),s=Pe(null),u=Pe(null),l=U0();return i({pathEl:o,interactionEl:s,labelEl:u}),(d,f)=>(J(),Te(sn,null,[Le("path",{id:d.id,ref_key:"pathEl",ref:o,d:d.path,style:at(r.style),class:st(["vue-flow__edge-path",Oe(l).class]),"marker-end":d.markerEnd,"marker-start":d.markerStart},null,14,A2),d.interactionWidth?(J(),Te("path",{key:0,ref_key:"interactionEl",ref:s,fill:"none",d:d.path,"stroke-width":d.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,N2)):Ye("",!0),d.label&&d.labelX&&d.labelY?(J(),Ce(I2,{key:1,ref_key:"labelEl",ref:u,x:d.labelX,y:d.labelY,label:d.label,"label-show-bg":d.labelShowBg,"label-bg-style":d.labelBgStyle,"label-bg-padding":d.labelBgPadding,"label-bg-border-radius":d.labelBgBorderRadius,"label-style":d.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):Ye("",!0)],64))}});function jf({sourceX:n,sourceY:i,targetX:r,targetY:o}){const s=Math.abs(r-n)/2,u=r<n?r+s:r-s,l=Math.abs(o-i)/2,d=o<i?o+l:o-l;return[u,d,s,l]}function Kf({sourceX:n,sourceY:i,targetX:r,targetY:o,sourceControlX:s,sourceControlY:u,targetControlX:l,targetControlY:d}){const f=n*.125+s*.375+l*.375+r*.125,m=i*.125+u*.375+d*.375+o*.125,p=Math.abs(f-n),_=Math.abs(m-i);return[f,m,p,_]}function Mo(n,i){return n>=0?.5*n:i*25*Math.sqrt(-n)}function Sd({pos:n,x1:i,y1:r,x2:o,y2:s,c:u}){let l,d;switch(n){case Ee.Left:l=i-Mo(i-o,u),d=r;break;case Ee.Right:l=i+Mo(o-i,u),d=r;break;case Ee.Top:l=i,d=r-Mo(r-s,u);break;case Ee.Bottom:l=i,d=r+Mo(s-r,u);break}return[l,d]}function Zf(n){const{sourceX:i,sourceY:r,sourcePosition:o=Ee.Bottom,targetX:s,targetY:u,targetPosition:l=Ee.Top,curvature:d=.25}=n,[f,m]=Sd({pos:o,x1:i,y1:r,x2:s,y2:u,c:d}),[p,_]=Sd({pos:l,x1:s,y1:u,x2:i,y2:r,c:d}),[k,E,O,M]=Kf({sourceX:i,sourceY:r,targetX:s,targetY:u,sourceControlX:f,sourceControlY:m,targetControlX:p,targetControlY:_});return[`M${i},${r} C${f},${m} ${p},${_} ${s},${u}`,k,E,O,M]}function Md({pos:n,x1:i,y1:r,x2:o,y2:s}){let u,l;switch(n){case Ee.Left:case Ee.Right:u=.5*(i+o),l=r;break;case Ee.Top:case Ee.Bottom:u=i,l=.5*(r+s);break}return[u,l]}function Jf(n){const{sourceX:i,sourceY:r,sourcePosition:o=Ee.Bottom,targetX:s,targetY:u,targetPosition:l=Ee.Top}=n,[d,f]=Md({pos:o,x1:i,y1:r,x2:s,y2:u}),[m,p]=Md({pos:l,x1:s,y1:u,x2:i,y2:r}),[_,k,E,O]=Kf({sourceX:i,sourceY:r,targetX:s,targetY:u,sourceControlX:d,sourceControlY:f,targetControlX:m,targetControlY:p});return[`M${i},${r} C${d},${f} ${m},${p} ${s},${u}`,_,k,E,O]}const Td={[Ee.Left]:{x:-1,y:0},[Ee.Right]:{x:1,y:0},[Ee.Top]:{x:0,y:-1},[Ee.Bottom]:{x:0,y:1}};function P2({source:n,sourcePosition:i=Ee.Bottom,target:r}){return i===Ee.Left||i===Ee.Right?n.x<r.x?{x:1,y:0}:{x:-1,y:0}:n.y<r.y?{x:0,y:1}:{x:0,y:-1}}function Cd(n,i){return Math.sqrt((i.x-n.x)**2+(i.y-n.y)**2)}function O2({source:n,sourcePosition:i=Ee.Bottom,target:r,targetPosition:o=Ee.Top,center:s,offset:u}){var oe,ce;const l=Td[i],d=Td[o],f={x:n.x+l.x*u,y:n.y+l.y*u},m={x:r.x+d.x*u,y:r.y+d.y*u},p=P2({source:f,sourcePosition:i,target:m}),_=p.x!==0?"x":"y",k=p[_];let E,O,M;const A={x:0,y:0},T={x:0,y:0},[b,R,P,ee]=jf({sourceX:n.x,sourceY:n.y,targetX:r.x,targetY:r.y});if(l[_]*d[_]===-1){O=(oe=s.x)!=null?oe:b,M=(ce=s.y)!=null?ce:R;const ve=[{x:O,y:f.y},{x:O,y:m.y}],ie=[{x:f.x,y:M},{x:m.x,y:M}];l[_]===k?E=_==="x"?ve:ie:E=_==="x"?ie:ve}else{const ve=[{x:f.x,y:m.y}],ie=[{x:m.x,y:f.y}];if(_==="x"?E=l.x===k?ie:ve:E=l.y===k?ve:ie,i===o){const $=Math.abs(n[_]-r[_]);if($<=u){const B=Math.min(u-1,u-$);l[_]===k?A[_]=(f[_]>n[_]?-1:1)*B:T[_]=(m[_]>r[_]?-1:1)*B}}if(i!==o){const $=_==="x"?"y":"x",B=l[_]===d[$],V=f[$]>m[$],ne=f[$]<m[$];(l[_]===1&&(!B&&V||B&&ne)||l[_]!==1&&(!B&&ne||B&&V))&&(E=_==="x"?ve:ie)}const C={x:f.x+A.x,y:f.y+A.y},be={x:m.x+T.x,y:m.y+T.y},ze=Math.max(Math.abs(C.x-E[0].x),Math.abs(be.x-E[0].x)),N=Math.max(Math.abs(C.y-E[0].y),Math.abs(be.y-E[0].y));ze>=N?(O=(C.x+be.x)/2,M=E[0].y):(O=E[0].x,M=(C.y+be.y)/2)}return[[n,{x:f.x+A.x,y:f.y+A.y},...E,{x:m.x+T.x,y:m.y+T.y},r],O,M,P,ee]}function R2(n,i,r,o){const s=Math.min(Cd(n,i)/2,Cd(i,r)/2,o),{x:u,y:l}=i;if(n.x===u&&u===r.x||n.y===l&&l===r.y)return`L${u} ${l}`;if(n.y===l){const m=n.x<r.x?-1:1,p=n.y<r.y?1:-1;return`L ${u+s*m},${l}Q ${u},${l} ${u},${l+s*p}`}const d=n.x<r.x?1:-1,f=n.y<r.y?-1:1;return`L ${u},${l+s*f}Q ${u},${l} ${u+s*d},${l}`}function Ks(n){const{sourceX:i,sourceY:r,sourcePosition:o=Ee.Bottom,targetX:s,targetY:u,targetPosition:l=Ee.Top,borderRadius:d=5,centerX:f,centerY:m,offset:p=20}=n,[_,k,E,O,M]=O2({source:{x:i,y:r},sourcePosition:o,target:{x:s,y:u},targetPosition:l,center:{x:f,y:m},offset:p});return[_.reduce((T,b,R)=>{let P;return R>0&&R<_.length-1?P=R2(_[R-1],b,_[R+1],d):P=`${R===0?"M":"L"}${b.x} ${b.y}`,T+=P,T},""),k,E,O,M]}function D2(n){const{sourceX:i,sourceY:r,targetX:o,targetY:s}=n,[u,l,d,f]=jf({sourceX:i,sourceY:r,targetX:o,targetY:s});return[`M ${i},${r}L ${o},${s}`,u,l,d,f]}const B2=ln({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(n,{attrs:i}){return()=>{const[r,o,s]=D2(n);return rn(ra,{path:r,labelX:o,labelY:s,...i,...n})}}}),L2=B2,H2=ln({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(n,{attrs:i}){return()=>{var u,l;const[r,o,s]=Ks({...n,sourcePosition:(u=n.sourcePosition)!=null?u:Ee.Bottom,targetPosition:(l=n.targetPosition)!=null?l:Ee.Top});return rn(ra,{path:r,labelX:o,labelY:s,...i,...n})}}}),Qf=H2,q2=ln({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(n,{attrs:i}){return()=>rn(Qf,{...n,...i,borderRadius:0})}}),F2=q2,G2=ln({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(n,{attrs:i}){return()=>{var u,l;const[r,o,s]=Zf({...n,sourcePosition:(u=n.sourcePosition)!=null?u:Ee.Bottom,targetPosition:(l=n.targetPosition)!=null?l:Ee.Top});return rn(ra,{path:r,labelX:o,labelY:s,...i,...n})}}}),$2=G2,W2=ln({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(n,{attrs:i}){return()=>{var u,l;const[r,o,s]=Jf({...n,sourcePosition:(u=n.sourcePosition)!=null?u:Ee.Bottom,targetPosition:(l=n.targetPosition)!=null?l:Ee.Top});return rn(ra,{path:r,labelX:o,labelY:s,...i,...n})}}}),U2=W2,V2={input:E2,default:x2,output:k2},Y2={default:$2,straight:L2,step:F2,smoothstep:Qf,simplebezier:U2};function X2(n,i,r){const o=Me(()=>M=>i.value.get(M)),s=Me(()=>M=>r.value.get(M)),u=Me(()=>{const M={...Y2,...n.edgeTypes},A=Object.keys(M);for(const T of n.edges)T.type&&!A.includes(T.type)&&(M[T.type]=T.type);return M}),l=Me(()=>{const M={...V2,...n.nodeTypes},A=Object.keys(M);for(const T of n.nodes)T.type&&!A.includes(T.type)&&(M[T.type]=T.type);return M}),d=Me(()=>n.onlyRenderVisibleElements?Rf(n.nodes,{x:0,y:0,width:n.dimensions.width,height:n.dimensions.height},n.viewport,!0):n.nodes),f=Me(()=>{if(n.onlyRenderVisibleElements){const M=[];for(const A of n.edges){const T=i.value.get(A.source),b=i.value.get(A.target);Kk({sourcePos:T.computedPosition||{x:0,y:0},targetPos:b.computedPosition||{x:0,y:0},sourceWidth:T.dimensions.width,sourceHeight:T.dimensions.height,targetWidth:b.dimensions.width,targetHeight:b.dimensions.height,width:n.dimensions.width,height:n.dimensions.height,viewport:n.viewport})&&M.push(A)}return M}return n.edges}),m=Me(()=>[...d.value,...f.value]),p=Me(()=>{const M=[];for(const A of n.nodes)A.selected&&M.push(A);return M}),_=Me(()=>{const M=[];for(const A of n.edges)A.selected&&M.push(A);return M}),k=Me(()=>[...p.value,..._.value]),E=Me(()=>{const M=[];for(const A of n.nodes)A.dimensions.width&&A.dimensions.height&&A.handleBounds!==void 0&&M.push(A);return M}),O=Me(()=>d.value.length>0&&E.value.length===d.value.length);return{getNode:o,getEdge:s,getElements:m,getEdgeTypes:u,getNodeTypes:l,getEdges:f,getNodes:d,getSelectedElements:k,getSelectedNodes:p,getSelectedEdges:_,getNodesInitialized:E,areNodesInitialized:O}}class ci{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var s;var i;const r=(i=Tr())==null?void 0:i.appContext.app,o=(s=r==null?void 0:r.config.globalProperties.$vueFlowStorage)!=null?s:ci.instance;return ci.instance=o!=null?o:new ci,r&&(r.config.globalProperties.$vueFlowStorage=ci.instance),ci.instance}set(i,r){return this.flows.set(i,r)}get(i){return this.flows.get(i)}remove(i){return this.flows.delete(i)}create(i,r){const o=Xf(),s=H0(o),u={};for(const[k,E]of Object.entries(s.hooks)){const O=`on${k.charAt(0).toUpperCase()+k.slice(1)}`;u[O]=E.on}const l={};for(const[k,E]of Object.entries(s.hooks))l[k]=E.trigger;const d=Me(()=>{const k=new Map;for(const E of s.nodes)k.set(E.id,E);return k}),f=Me(()=>{const k=new Map;for(const E of s.edges)k.set(E.id,E);return k}),m=X2(s,d,f),p=_2(s,d,f);p.setState({...s,...r});const _={...u,...m,...p,...Jb(s),nodeLookup:d,edgeLookup:f,emits:l,id:i,vueFlowVersion:"1.41.1",$destroy:()=>{this.remove(i)}};return this.set(i,_),_}getId(){return`vue-flow-${this.currentId++}`}}function fn(n){const i=ci.getInstance(),r=Dd(),o=typeof n=="object",s=o?n:{id:n},u=s.id,l=u!=null?u:r==null?void 0:r.vueFlowId;let d;if(r){const f=Yi(Ed,null);typeof f!="undefined"&&f!==null&&(!l||f.id===l)&&(d=f)}if(d||l&&(d=i.get(l)),!d||l&&d.id!==l){const f=u!=null?u:i.getId(),m=i.create(f,s);d=m,(r!=null?r:Nd(!0)).run(()=>{en(m.applyDefault,(_,k,E)=>{const O=A=>{m.applyNodeChanges(A)},M=A=>{m.applyEdgeChanges(A)};_?(m.onNodesChange(O),m.onEdgesChange(M)):(m.hooks.value.nodesChange.off(O),m.hooks.value.edgesChange.off(M)),E(()=>{m.hooks.value.nodesChange.off(O),m.hooks.value.edgesChange.off(M)})},{immediate:!0}),Yo(()=>{if(d){const _=i.get(d.id);_?_.$destroy():Qo(`No store instance found for id ${d.id} in storage.`)}})})}else o&&d.setState(s);if(r&&($i(Ed,d),r.vueFlowId=d.id),o){const f=Tr();(f==null?void 0:f.type.name)!=="VueFlow"&&d.emits.error(new kn(_n.USEVUEFLOW_OPTIONS))}return d}function j2(n){const{emits:i,dimensions:r}=fn();let o;gt(()=>{const s=n.value,u=()=>{if(!s)return;const l=Jo(s);(l.width===0||l.height===0)&&i.error(new kn(_n.MISSING_VIEWPORT_DIMENSIONS)),r.value={width:l.width||500,height:l.height||500}};u(),window.addEventListener("resize",u),s&&(o=new ResizeObserver(()=>u()),o.observe(s)),Rd(()=>{window.removeEventListener("resize",u),o&&s&&o.unobserve(s)})})}const K2={name:"UserSelection",compatConfig:{MODE:3}},Z2=ln({...K2,props:{userSelectionRect:{}},setup(n){return(i,r)=>(J(),Te("div",{class:"vue-flow__selection vue-flow__container",style:at({width:`${i.userSelectionRect.width}px`,height:`${i.userSelectionRect.height}px`,transform:`translate(${i.userSelectionRect.x}px, ${i.userSelectionRect.y}px)`})},null,4))}}),J2=["tabIndex"],Q2={name:"NodesSelection",compatConfig:{MODE:3}},eE=ln({...Q2,setup(n){const{emits:i,viewport:r,getSelectedNodes:o,noPanClassName:s,disableKeyboardA11y:u,userSelectionActive:l}=fn(),d=Yf(),f=Pe(null),m=Wf({el:f,onStart(O){i.selectionDragStart(O)},onDrag(O){i.selectionDrag(O)},onStop(O){i.selectionDragStop(O)}});gt(()=>{var O;u.value||(O=f.value)==null||O.focus({preventScroll:!0})});const p=Me(()=>Of(o.value)),_=Me(()=>({width:`${p.value.width}px`,height:`${p.value.height}px`,top:`${p.value.y}px`,left:`${p.value.x}px`}));function k(O){i.selectionContextMenu({event:O,nodes:o.value})}function E(O){u||Gi[O.key]&&d({x:Gi[O.key].x,y:Gi[O.key].y},O.shiftKey)}return(O,M)=>!Oe(l)&&p.value.width&&p.value.height?(J(),Te("div",{key:0,class:st(["vue-flow__nodesselection vue-flow__container",Oe(s)]),style:at({transform:`translate(${Oe(r).x}px,${Oe(r).y}px) scale(${Oe(r).zoom})`})},[Le("div",{ref_key:"el",ref:f,class:st([{dragging:Oe(m)},"vue-flow__nodesselection-rect"]),style:at(_.value),tabIndex:Oe(u)?void 0:-1,onContextmenu:k,onKeydown:E},null,46,J2)],6)):Ye("",!0)}});function nE(n,i){return{x:n.clientX-i.left,y:n.clientY-i.top}}const tE={name:"Pane",compatConfig:{MODE:3}},iE=ln({...tE,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(n){const{vueFlowRef:i,nodes:r,viewport:o,emits:s,userSelectionActive:u,removeSelectedElements:l,panOnDrag:d,userSelectionRect:f,elementsSelectable:m,nodesSelectionActive:p,getSelectedEdges:_,getSelectedNodes:k,removeNodes:E,removeEdges:O,selectionMode:M,deleteKeyCode:A,multiSelectionKeyCode:T,multiSelectionActive:b,edgeLookup:R,nodeLookup:P}=fn(),ee=Pe(null),le=Pe(0),oe=Pe(0),ce=Pe(),ve=Pe(new Map),ie=mn(()=>m.value&&(n.isSelecting||u.value));let C=!1,be=!1;const ze=_r(A,{actInsideInputWithModifier:!1}),N=_r(T);en(ze,he=>{he&&(E(k.value),O(_.value),p.value=!1)}),en(N,he=>{b.value=he});function $(he,ue){return ge=>{ge.target===ue&&(he==null||he(ge))}}function B(){u.value=!1,f.value=null,le.value=0,oe.value=0}function V(he){if(C){C=!1;return}s.paneClick(he),l(),p.value=!1}function ne(he){var ue;if(Array.isArray(d.value)&&((ue=d.value)!=null&&ue.includes(2))){he.preventDefault();return}s.paneContextMenu(he)}function ae(he){s.paneScroll(he)}function de(he){var ue,ge,He,De,Re;if(ce.value=(ue=i.value)==null?void 0:ue.getBoundingClientRect(),!m.value||!n.isSelecting||he.button!==0||he.target!==ee.value||!ce.value)return;(He=(ge=he.target)==null?void 0:ge.setPointerCapture)==null||He.call(ge,he.pointerId);const{x:K,y:q}=nE(he,ce.value);be=!0,C=!1,ve.value=new Map;for(const[H,X]of R.value)ve.value.set(X.source,((De=ve.value.get(X.source))==null?void 0:De.add(H))||new Set([H])),ve.value.set(X.target,((Re=ve.value.get(X.target))==null?void 0:Re.add(H))||new Set([H]));l(),f.value={width:0,height:0,startX:K,startY:q,x:K,y:q},s.selectionStart(he)}function re(he){if(!ce.value||!f.value)return;C=!0;const{x:ue,y:ge}=Jt(he,ce.value),{startX:He=0,startY:De=0}=f.value,Re={startX:He,startY:De,x:ue<He?ue:He,y:ge<De?ge:De,width:Math.abs(ue-He),height:Math.abs(ge-De)},K=Rf(r.value,Re,o.value,M.value===al.Partial,!0),q=new Set,H=new Set;for(const X of K){H.add(X.id);const Z=ve.value.get(X.id);if(Z)for(const v of Z)q.add(v)}if(le.value!==H.size){le.value=H.size;const X=Zt(P.value,H,!0);s.nodesChange(X)}if(oe.value!==q.size){oe.value=q.size;const X=Zt(R.value,q);s.edgesChange(X)}f.value=Re,u.value=!0,p.value=!1}function Se(he){var ue;he.button!==0||!be||((ue=he.target)==null||ue.releasePointerCapture(he.pointerId),!u.value&&f.value&&he.target===ee.value&&V(he),le.value>0&&(p.value=!0),B(),s.selectionEnd(he),n.selectionKeyPressed&&(C=!1),be=!1)}return(he,ue)=>(J(),Te("div",{ref_key:"container",ref:ee,class:st(["vue-flow__pane vue-flow__container",{selection:he.isSelecting}]),onClick:ue[0]||(ue[0]=ge=>ie.value?void 0:$(V,ee.value)(ge)),onContextmenu:ue[1]||(ue[1]=ge=>$(ne,ee.value)(ge)),onWheelPassive:ue[2]||(ue[2]=ge=>$(ae,ee.value)(ge)),onPointerenter:ue[3]||(ue[3]=ge=>ie.value?void 0:Oe(s).paneMouseEnter(ge)),onPointerdown:ue[4]||(ue[4]=ge=>ie.value?de(ge):Oe(s).paneMouseMove(ge)),onPointermove:ue[5]||(ue[5]=ge=>ie.value?re(ge):Oe(s).paneMouseMove(ge)),onPointerup:ue[6]||(ue[6]=ge=>ie.value?Se(ge):void 0),onPointerleave:ue[7]||(ue[7]=ge=>Oe(s).paneMouseLeave(ge))},[pi(he.$slots,"default"),Oe(u)&&Oe(f)?(J(),Ce(Z2,{key:0,"user-selection-rect":Oe(f)},null,8,["user-selection-rect"])):Ye("",!0),Oe(p)&&Oe(k).length?(J(),Ce(eE,{key:1})):Ye("",!0)],34))}}),rE={name:"Transform",compatConfig:{MODE:3}},oE=ln({...rE,setup(n){const{viewport:i,fitViewOnInit:r,fitViewOnInitDone:o}=fn(),s=Me(()=>r.value?!o.value:!1),u=Me(()=>`translate(${i.value.x}px,${i.value.y}px) scale(${i.value.zoom})`);return(l,d)=>(J(),Te("div",{class:"vue-flow__transformationpane vue-flow__container",style:at({transform:u.value,opacity:s.value?0:void 0})},[pi(l.$slots,"default")],4))}}),aE={name:"Viewport",compatConfig:{MODE:3}},sE=ln({...aE,setup(n){const{minZoom:i,maxZoom:r,defaultViewport:o,translateExtent:s,zoomActivationKeyCode:u,selectionKeyCode:l,panActivationKeyCode:d,panOnScroll:f,panOnScrollMode:m,panOnScrollSpeed:p,panOnDrag:_,zoomOnDoubleClick:k,zoomOnPinch:E,zoomOnScroll:O,preventScrolling:M,noWheelClassName:A,noPanClassName:T,emits:b,connectionStartHandle:R,userSelectionActive:P,paneDragging:ee,d3Zoom:le,d3Selection:oe,d3ZoomHandler:ce,viewport:ve,viewportRef:ie,paneClickDistance:C}=fn();j2(ie);const be=Pe(!1),ze=Pe(!1);let N=null,$=!1,B=0,V={x:0,y:0,zoom:0};const ne=_r(d),ae=_r(l),de=_r(u),re=mn(()=>!ae.value&&(ne.value||_.value)),Se=mn(()=>ne.value||f.value),he=mn(()=>ae.value||l.value===!0&&re.value!==!0);gt(()=>{var G,se,ke;if(!ie.value){Qo("Viewport element is missing");return}const K=ie.value,q=K.getBoundingClientRect(),H=Pk().clickDistance(C.value).scaleExtent([i.value,r.value]).translateExtent(s.value),X=ft(K).call(H),Z=X.on("wheel.zoom"),v=Vi.translate((G=o.value.x)!=null?G:0,(se=o.value.y)!=null?se:0).scale(_i((ke=o.value.zoom)!=null?ke:1,i.value,r.value)),x=[[0,0],[q.width,q.height]],D=H.constrain()(v,x,s.value);H.transform(X,D),H.wheelDelta(ge),le.value=H,oe.value=X,ce.value=Z,ve.value={x:D.x,y:D.y,zoom:D.k},H.on("start",F=>{var pe;if(!F.sourceEvent)return null;B=F.sourceEvent.button,be.value=!0;const xe=De(F.transform);((pe=F.sourceEvent)==null?void 0:pe.type)==="mousedown"&&(ee.value=!0),V=xe,b.viewportChangeStart(xe),b.moveStart({event:F,flowTransform:xe})}),H.on("end",F=>{if(!F.sourceEvent)return null;if(be.value=!1,ee.value=!1,ue(re.value,B!=null?B:0)&&!$&&b.paneContextMenu(F.sourceEvent),$=!1,He(V,F.transform)){const pe=De(F.transform);V=pe,b.viewportChangeEnd(pe),b.moveEnd({event:F,flowTransform:pe})}}),H.filter(F=>{var pe,xe,$e;const qe=de.value||O.value,Ze=E.value&&F.ctrlKey,$n=F.button;if((re.value===!0||Array.isArray(re.value)&&re.value.includes(1))&&$n===1&&F.type==="mousedown"&&((pe=F.target)!=null&&pe.closest(".vue-flow__node")||(xe=F.target)!=null&&xe.closest(".vue-flow__edge")))return!0;if(!re.value&&!qe&&!Se.value&&!k.value&&!E.value||P.value||!k.value&&F.type==="dblclick"||Re(F,A.value)&&F.type==="wheel"||Re(F,T.value)&&(F.type!=="wheel"||Se.value&&F.type==="wheel"&&!de.value)||!E.value&&F.ctrlKey&&F.type==="wheel"||!qe&&!Se.value&&!Ze&&F.type==="wheel")return!1;if(!E&&F.type==="touchstart"&&(($e=F.touches)==null?void 0:$e.length)>1)return F.preventDefault(),!1;if(!re.value&&(F.type==="mousedown"||F.type==="touchstart")||Array.isArray(re.value)&&!re.value.includes($n)&&(F.type==="mousedown"||F.type==="touchstart"))return!1;const Rn=Array.isArray(re.value)&&re.value.includes($n)||!$n||$n<=1;return(!F.ctrlKey||F.type==="wheel")&&Rn}),en([P,re],()=>{P.value&&!be.value?H.on("zoom",null):P.value||H.on("zoom",F=>{ve.value={x:F.transform.x,y:F.transform.y,zoom:F.transform.k};const pe=De(F.transform);$=ue(re.value,B!=null?B:0),b.viewportChange(pe),b.move({event:F,flowTransform:pe})})},{immediate:!0}),en([P,Se,m,de,E,M,A],()=>{Se.value&&!de.value&&!P.value?X.on("wheel.zoom",F=>{if(Re(F,A.value))return!1;const pe=de.value||O.value,xe=E.value&&F.ctrlKey;if(!(!M.value||Se.value||pe||xe))return!1;F.preventDefault(),F.stopImmediatePropagation();const qe=X.property("__zoom").k||1,Ze=Wo();if(F.ctrlKey&&E.value&&Ze){const xt=_t(F),Xi=ge(F),ji=qe*2**Xi;H.scaleTo(X,ji,xt,F);return}const $n=F.deltaMode===1?20:1;let Rn=m.value===yr.Vertical?0:F.deltaX*$n,Dn=m.value===yr.Horizontal?0:F.deltaY*$n;!Ze&&F.shiftKey&&m.value!==yr.Vertical&&!Rn&&Dn&&(Rn=Dn,Dn=0),H.translateBy(X,-(Rn/qe)*p.value,-(Dn/qe)*p.value);const Wn=De(X.property("__zoom"));N&&clearTimeout(N),ze.value?(b.move({event:F,flowTransform:Wn}),b.viewportChange(Wn),N=setTimeout(()=>{b.moveEnd({event:F,flowTransform:Wn}),b.viewportChangeEnd(Wn),ze.value=!1},150)):(ze.value=!0,b.moveStart({event:F,flowTransform:Wn}),b.viewportChangeStart(Wn))},{passive:!1}):typeof Z!="undefined"&&X.on("wheel.zoom",function(F,pe){const xe=!M.value&&F.type==="wheel"&&!F.ctrlKey,$e=de.value||O.value,qe=E.value&&F.ctrlKey;if(!$e&&!f.value&&!qe&&F.type==="wheel"||xe||Re(F,A.value))return null;F.preventDefault(),Z.call(this,F,pe)},{passive:!1})},{immediate:!0})});function ue(K,q){return q===2&&Array.isArray(K)&&K.includes(2)}function ge(K){const q=K.ctrlKey&&Wo()?10:1;return-K.deltaY*(K.deltaMode===1?.05:K.deltaMode?1:.002)*q}function He(K,q){return K.x!==q.x&&!Number.isNaN(q.x)||K.y!==q.y&&!Number.isNaN(q.y)||K.zoom!==q.k&&!Number.isNaN(q.k)}function De(K){return{x:K.x,y:K.y,zoom:K.k}}function Re(K,q){return K.target.closest(`.${q}`)}return(K,q)=>(J(),Te("div",{ref_key:"viewportRef",ref:ie,class:"vue-flow__viewport vue-flow__container"},[te(iE,{"is-selecting":he.value,"selection-key-pressed":Oe(ae),class:st({connecting:!!Oe(R),dragging:Oe(ee),draggable:Oe(_)===!0||Array.isArray(Oe(_))&&Oe(_).includes(0)})},{default:j(()=>[te(oE,null,{default:j(()=>[pi(K.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),lE=["id"],uE=["id"],cE=["id"],dE={name:"A11yDescriptions",compatConfig:{MODE:3}},fE=ln({...dE,setup(n){const{id:i,disableKeyboardA11y:r,ariaLiveMessage:o}=fn();return(s,u)=>(J(),Te(sn,null,[Le("div",{id:`${Oe(Sf)}-${Oe(i)}`,style:{display:"none"}}," Press enter or space to select a node. "+_e(Oe(r)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,lE),Le("div",{id:`${Oe(Mf)}-${Oe(i)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,uE),Oe(r)?Ye("",!0):(J(),Te("div",{key:0,id:`${Oe(Bk)}-${Oe(i)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},_e(Oe(o)),9,cE))],64))}});function hE(){const n=fn();en(()=>n.viewportHelper.value.viewportInitialized,i=>{i&&setTimeout(()=>{n.emits.init(n),n.emits.paneReady(n)},1)})}function gE(n,i,r){return r===Ee.Left?n-i:r===Ee.Right?n+i:n}function mE(n,i,r){return r===Ee.Top?n-i:r===Ee.Bottom?n+i:n}const cl=function({radius:n=10,centerX:i=0,centerY:r=0,position:o=Ee.Top,type:s}){return rn("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${s}`,cx:gE(i,n,o),cy:mE(r,n,o),r:n,stroke:"transparent",fill:"transparent"})};cl.props=["radius","centerX","centerY","position","type"];cl.compatConfig={MODE:3};const Id=cl,pE=ln({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(n){const{id:i,addSelectedEdges:r,connectionMode:o,edgeUpdaterRadius:s,emits:u,nodesSelectionActive:l,noPanClassName:d,getEdgeTypes:f,removeSelectedEdges:m,findEdge:p,findNode:_,isValidConnection:k,multiSelectionActive:E,disableKeyboardA11y:O,elementsSelectable:M,edgesUpdatable:A,edgesFocusable:T}=fn(),b=Me(()=>p(n.id)),R=l2(b.value,u),P=Yi(ea),ee=Tr(),le=Pe(!1),oe=Pe(!1),ce=Pe(""),ve=Pe(null),ie=Pe("source"),C=Pe(null),be=mn(()=>typeof b.value.selectable=="undefined"?M.value:b.value.selectable),ze=mn(()=>typeof b.value.updatable=="undefined"?A.value:b.value.updatable),N=mn(()=>typeof b.value.focusable=="undefined"?T.value:b.value.focusable);$i(o2,n.id),$i(a2,C);const $=Me(()=>b.value.class instanceof Function?b.value.class(b.value):b.value.class),B=Me(()=>b.value.style instanceof Function?b.value.style(b.value):b.value.style),V=Me(()=>{var D;const Z=b.value.type||"default",v=P==null?void 0:P[`edge-${Z}`];if(v)return v;let x=(D=b.value.template)!=null?D:f.value[Z];if(typeof x=="string"&&ee){const G=Object.keys(ee.appContext.components);G&&G.includes(Z)&&(x=Bd(Z,!1))}return x&&typeof x!="string"?x:(u.error(new kn(_n.EDGE_TYPE_MISSING,x)),!1)}),{handlePointerDown:ne}=Uf({nodeId:ce,handleId:ve,type:ie,isValidConnection:k,edgeUpdaterType:ie,onEdgeUpdate:re,onEdgeUpdateEnd:Se});return()=>{const Z=_(b.value.source),v=_(b.value.target),x="pathOptions"in b.value?b.value.pathOptions:{};if(!Z&&!v)return u.error(new kn(_n.EDGE_SOURCE_TARGET_MISSING,b.value.id,b.value.source,b.value.target)),null;if(!Z)return u.error(new kn(_n.EDGE_SOURCE_MISSING,b.value.id,b.value.source)),null;if(!v)return u.error(new kn(_n.EDGE_TARGET_MISSING,b.value.id,b.value.target)),null;if(!b.value||b.value.hidden||Z.hidden||v.hidden)return null;let D;o.value===yi.Strict?D=Z.handleBounds.source:D=[...Z.handleBounds.source||[],...Z.handleBounds.target||[]];const G=pd(D,b.value.sourceHandle);let se;o.value===yi.Strict?se=v.handleBounds.target:se=[...v.handleBounds.target||[],...v.handleBounds.source||[]];const ke=pd(se,b.value.targetHandle),F=(G==null?void 0:G.position)||Ee.Bottom,pe=(ke==null?void 0:ke.position)||Ee.Top,{x:xe,y:$e}=$o(Z,G,F),{x:qe,y:Ze}=$o(v,ke,pe);return b.value.sourceX=xe,b.value.sourceY=$e,b.value.targetX=qe,b.value.targetY=Ze,rn("g",{ref:C,key:n.id,"data-id":n.id,class:["vue-flow__edge",`vue-flow__edge-${V.value===!1?"default":b.value.type||"default"}`,d.value,$.value,{updating:le.value,selected:b.value.selected,animated:b.value.animated,inactive:!be.value}],onClick:ue,onContextmenu:ge,onDblclick:He,onMouseenter:De,onMousemove:Re,onMouseleave:K,onKeyDown:N.value?X:void 0,tabIndex:N.value?0:void 0,"aria-label":b.value.ariaLabel===null?void 0:b.value.ariaLabel||`Edge from ${b.value.source} to ${b.value.target}`,"aria-describedby":N.value?`${Mf}-${i}`:void 0,role:N.value?"button":"img"},[oe.value?null:rn(V.value===!1?f.value.default:V.value,{id:n.id,sourceNode:Z,targetNode:v,source:b.value.source,target:b.value.target,type:b.value.type,updatable:ze.value,selected:b.value.selected,animated:b.value.animated,label:b.value.label,labelStyle:b.value.labelStyle,labelShowBg:b.value.labelShowBg,labelBgStyle:b.value.labelBgStyle,labelBgPadding:b.value.labelBgPadding,labelBgBorderRadius:b.value.labelBgBorderRadius,data:b.value.data,events:{...b.value.events,...R.on},style:B.value,markerStart:`url('#${Sr(b.value.markerStart,i)}')`,markerEnd:`url('#${Sr(b.value.markerEnd,i)}')`,sourcePosition:F,targetPosition:pe,sourceX:xe,sourceY:$e,targetX:qe,targetY:Ze,sourceHandleId:b.value.sourceHandle,targetHandleId:b.value.targetHandle,interactionWidth:b.value.interactionWidth,...x}),[ze.value==="source"||ze.value===!0?[rn("g",{onMousedown:q,onMouseenter:ae,onMouseout:de},rn(Id,{position:F,centerX:xe,centerY:$e,radius:s.value,type:"source","data-type":"source"}))]:null,ze.value==="target"||ze.value===!0?[rn("g",{onMousedown:H,onMouseenter:ae,onMouseout:de},rn(Id,{position:pe,centerX:qe,centerY:Ze,radius:s.value,type:"target","data-type":"target"}))]:null]])};function ae(){le.value=!0}function de(){le.value=!1}function re(Z,v){R.emit.update({event:Z,edge:b.value,connection:v})}function Se(Z){R.emit.updateEnd({event:Z,edge:b.value}),oe.value=!1}function he(Z,v){var x;Z.button===0&&(oe.value=!0,ce.value=v?b.value.target:b.value.source,ve.value=(x=v?b.value.targetHandle:b.value.sourceHandle)!=null?x:"",ie.value=v?"target":"source",R.emit.updateStart({event:Z,edge:b.value}),ne(Z))}function ue(Z){var v;const x={event:Z,edge:b.value};be.value&&(l.value=!1,b.value.selected&&E.value?(m([b.value]),(v=C.value)==null||v.blur()):r([b.value])),R.emit.click(x)}function ge(Z){R.emit.contextMenu({event:Z,edge:b.value})}function He(Z){R.emit.doubleClick({event:Z,edge:b.value})}function De(Z){R.emit.mouseEnter({event:Z,edge:b.value})}function Re(Z){R.emit.mouseMove({event:Z,edge:b.value})}function K(Z){R.emit.mouseLeave({event:Z,edge:b.value})}function q(Z){he(Z,!0)}function H(Z){he(Z,!1)}function X(Z){var v;!O.value&&Tf.includes(Z.key)&&be.value&&(Z.key==="Escape"?((v=C.value)==null||v.blur(),m([p(n.id)])):r([p(n.id)]))}}}),vE=pE,yE={[Ee.Left]:Ee.Right,[Ee.Right]:Ee.Left,[Ee.Top]:Ee.Bottom,[Ee.Bottom]:Ee.Top},_E=ln({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var n;const{id:i,connectionMode:r,connectionStartHandle:o,connectionEndHandle:s,connectionPosition:u,connectionLineType:l,connectionLineStyle:d,connectionLineOptions:f,connectionStatus:m,viewport:p,findNode:_}=fn(),k=(n=Yi(ea))==null?void 0:n["connection-line"],E=Me(()=>{var b;return _((b=o.value)==null?void 0:b.nodeId)}),O=Me(()=>{var R;var b;return(R=_((b=s.value)==null?void 0:b.nodeId))!=null?R:null}),M=Me(()=>({x:(u.value.x-p.value.x)/p.value.zoom,y:(u.value.y-p.value.y)/p.value.zoom})),A=Me(()=>f.value.markerStart?`url(#${Sr(f.value.markerStart,i)})`:""),T=Me(()=>f.value.markerEnd?`url(#${Sr(f.value.markerEnd,i)})`:"");return()=>{var ae,de,re,Se;var b,R,P,ee;if(!E.value||!o.value)return null;const le=o.value.handleId,oe=o.value.type,ce=E.value.handleBounds;let ve=ce==null?void 0:ce[oe];if(r.value===yi.Loose&&(ve=ve||(ce==null?void 0:ce[oe==="source"?"target":"source"])),!ve)return null;const ie=(ae=le?ve.find(he=>he.id===le):ve[0])!=null?ae:null,C=(ie==null?void 0:ie.position)||Ee.Top,{x:be,y:ze}=$o(E.value,ie,C);let N=null;O.value&&((b=s.value)!=null&&b.handleId)&&(r.value===yi.Strict?N=((R=O.value.handleBounds[oe==="source"?"target":"source"])==null?void 0:R.find(he=>{var ue;return he.id===((ue=s.value)==null?void 0:ue.handleId)}))||null:N=((P=[...O.value.handleBounds.source||[],...O.value.handleBounds.target||[]])==null?void 0:P.find(he=>{var ue;return he.id===((ue=s.value)==null?void 0:ue.handleId)}))||null);const $=(de=(ee=s.value)==null?void 0:ee.position)!=null?de:C?yE[C]:null;if(!C||!$)return null;const B=(Se=(re=l.value)!=null?re:f.value.type)!=null?Se:ui.Bezier;let V="";const ne={sourceX:be,sourceY:ze,sourcePosition:C,targetX:M.value.x,targetY:M.value.y,targetPosition:$};return B===ui.Bezier?[V]=Zf(ne):B===ui.Step?[V]=Ks({...ne,borderRadius:0}):B===ui.SmoothStep?[V]=Ks(ne):B===ui.SimpleBezier?[V]=Jf(ne):V=`M${be},${ze} ${M.value.x},${M.value.y}`,rn("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},rn("g",{class:"vue-flow__connection"},k?rn(k,{sourceX:be,sourceY:ze,sourcePosition:C,targetX:M.value.x,targetY:M.value.y,targetPosition:$,sourceNode:E.value,sourceHandle:ie,targetNode:O.value,targetHandle:N,markerEnd:T.value,markerStart:A.value,connectionStatus:m.value}):rn("path",{d:V,class:[f.value.class,m,"vue-flow__connection-path"],style:{...d.value,...f.value.style},"marker-end":T.value,"marker-start":A.value})))}}}),bE=_E,wE=["id","markerWidth","markerHeight","markerUnits","orient"],xE={name:"MarkerType",compatConfig:{MODE:3}},kE=ln({...xE,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(n){return(i,r)=>(J(),Te("marker",{id:i.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${i.width}`,markerHeight:`${i.height}`,markerUnits:i.markerUnits,orient:i.orient},[i.type===Oe(Us).ArrowClosed?(J(),Te("polyline",{key:0,style:at({stroke:i.color,fill:i.color,strokeWidth:i.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):Ye("",!0),i.type===Oe(Us).Arrow?(J(),Te("polyline",{key:1,style:at({stroke:i.color,strokeWidth:i.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):Ye("",!0)],8,wE))}}),EE={class:"vue-flow__marker vue-flow__container"},SE={name:"MarkerDefinitions",compatConfig:{MODE:3}},ME=ln({...SE,setup(n){const{id:i,edges:r,connectionLineOptions:o,defaultMarkerColor:s}=fn(),u=Me(()=>{const l=new Set,d=[],f=m=>{if(m){const p=Sr(m,i);l.has(p)||(typeof m=="object"?d.push({...m,id:p,color:m.color||s.value}):d.push({id:p,color:s.value,type:m}),l.add(p))}};for(const m of[o.value.markerEnd,o.value.markerStart])f(m);for(const m of r.value)for(const p of[m.markerStart,m.markerEnd])f(p);return d.sort((m,p)=>m.id.localeCompare(p.id))});return(l,d)=>(J(),Te("svg",EE,[Le("defs",null,[(J(!0),Te(sn,null,Tn(u.value,f=>(J(),Ce(kE,{id:f.id,key:f.id,type:f.type,color:f.color,width:f.width,height:f.height,markerUnits:f.markerUnits,"stroke-width":f.strokeWidth,orient:f.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),TE={name:"Edges",compatConfig:{MODE:3}},CE=ln({...TE,setup(n){const{findNode:i,getEdges:r,elevateEdgesOnSelect:o}=fn();return(s,u)=>(J(),Te(sn,null,[te(ME),(J(!0),Te(sn,null,Tn(Oe(r),l=>(J(),Te("svg",{key:l.id,class:"vue-flow__edges vue-flow__container",style:at({zIndex:Oe(Zk)(l,Oe(i),Oe(o))})},[te(Oe(vE),{id:l.id},null,8,["id"])],4))),128)),te(Oe(bE))],64))}}),IE=ln({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(n){const{id:i,noPanClassName:r,selectNodesOnDrag:o,nodesSelectionActive:s,multiSelectionActive:u,emits:l,removeSelectedNodes:d,addSelectedNodes:f,updateNodeDimensions:m,onUpdateNodeInternals:p,getNodeTypes:_,nodeExtent:k,elevateNodesOnSelect:E,disableKeyboardA11y:O,ariaLiveMessage:M,snapToGrid:A,snapGrid:T,nodeDragThreshold:b,nodesDraggable:R,elementsSelectable:P,nodesConnectable:ee,nodesFocusable:le}=fn(),oe=Pe(null);$i($f,oe),$i(Gf,n.id);const ce=Yi(ea),ve=Tr(),ie=Yf(),{node:C,parentNode:be}=Vf(n.id),ze=mn(()=>typeof C.draggable=="undefined"?R.value:C.draggable),N=mn(()=>typeof C.selectable=="undefined"?P.value:C.selectable),$=mn(()=>typeof C.connectable=="undefined"?ee.value:C.connectable),B=mn(()=>typeof C.focusable=="undefined"?le.value:C.focusable),V=mn(()=>!!C.dimensions.width&&!!C.dimensions.height),ne=Me(()=>{const v=C.type||"default",x=ce==null?void 0:ce[`node-${v}`];if(x)return x;let D=C.template||_.value[v];if(typeof D=="string"&&ve){const G=Object.keys(ve.appContext.components);G&&G.includes(v)&&(D=Bd(v,!1))}return D&&typeof D!="string"?D:(l.error(new kn(_n.NODE_TYPE_MISSING,D)),!1)}),{emit:ae,on:de}=f2(C,l),re=Wf({id:n.id,el:oe,disabled:()=>!ze.value,selectable:N,dragHandle:()=>C.dragHandle,onStart(v){ae.dragStart(v)},onDrag(v){ae.drag(v)},onStop(v){ae.dragStop(v)},onClick(v){X(v)}}),Se=Me(()=>C.class instanceof Function?C.class(C):C.class),he=Me(()=>{const v=(C.style instanceof Function?C.style(C):C.style)||{},x=C.width instanceof Function?C.width(C):C.width,D=C.height instanceof Function?C.height(C):C.height;return!v.width&&x&&(v.width=typeof x=="string"?x:`${x}px`),!v.height&&D&&(v.height=typeof D=="string"?D:`${D}px`),v}),ue=mn(()=>{var v,x;return Number((x=(v=C.zIndex)!=null?v:he.value.zIndex)!=null?x:0)});return p(v=>{(v.includes(n.id)||!v.length)&&He()}),gt(()=>{en(()=>C.hidden,(v=!1,x,D)=>{!v&&oe.value&&(n.resizeObserver.observe(oe.value),D(()=>{oe.value&&n.resizeObserver.unobserve(oe.value)}))},{immediate:!0,flush:"post"})}),en([()=>C.type,()=>C.sourcePosition,()=>C.targetPosition],()=>{Fn(()=>{m([{id:n.id,nodeElement:oe.value,forceUpdate:!0}])})}),en([()=>C.position.x,()=>C.position.y,()=>{var v;return(v=be.value)==null?void 0:v.computedPosition.x},()=>{var v;return(v=be.value)==null?void 0:v.computedPosition.y},()=>{var v;return(v=be.value)==null?void 0:v.computedPosition.z},ue,()=>C.selected,()=>C.dimensions.height,()=>C.dimensions.width,()=>{var v;return(v=be.value)==null?void 0:v.dimensions.height},()=>{var v;return(v=be.value)==null?void 0:v.dimensions.width}],([v,x,D,G,se,ke])=>{const F={x:v,y:x,z:ke+(E.value&&C.selected?1e3:0)};typeof D!="undefined"&&typeof G!="undefined"?C.computedPosition=Uk({x:D,y:G,z:se},F):C.computedPosition=F},{flush:"post",immediate:!0}),en([()=>C.extent,k],([v,x],[D,G])=>{(v!==D||x!==G)&&ge()}),C.extent==="parent"||typeof C.extent=="object"&&"range"in C.extent&&C.extent.range==="parent"?Ds(()=>V).toBe(!0).then(ge):ge(),()=>{var v,x;return C.hidden?null:rn("div",{ref:oe,"data-id":C.id,class:["vue-flow__node",`vue-flow__node-${ne.value===!1?"default":C.type||"default"}`,{[r.value]:ze.value,dragging:re==null?void 0:re.value,draggable:ze.value,selected:C.selected,selectable:N.value,parent:C.isParent},Se.value],style:{visibility:V.value?"visible":"hidden",zIndex:(v=C.computedPosition.z)!=null?v:ue.value,transform:`translate(${C.computedPosition.x}px,${C.computedPosition.y}px)`,pointerEvents:N.value||ze.value?"all":"none",...he.value},tabIndex:B.value?0:void 0,role:B.value?"button":void 0,"aria-describedby":O.value?void 0:`${Sf}-${i}`,"aria-label":C.ariaLabel,onMouseenter:De,onMousemove:Re,onMouseleave:K,onContextmenu:q,onClick:X,onDblclick:H,onKeydown:Z},[rn(ne.value===!1?_.value.default:ne.value,{id:C.id,type:C.type,data:C.data,events:{...C.events,...de},selected:C.selected,resizing:C.resizing,dragging:re.value,connectable:$.value,position:C.computedPosition,dimensions:C.dimensions,isValidTargetPos:C.isValidTargetPos,isValidSourcePos:C.isValidSourcePos,parent:C.parentNode,parentNodeId:C.parentNode,zIndex:(x=C.computedPosition.z)!=null?x:ue.value,targetPosition:C.targetPosition,sourcePosition:C.sourcePosition,label:C.label,dragHandle:C.dragHandle,onUpdateNodeInternals:He})])};function ge(){const v=C.computedPosition;A.value&&(v.x=T.value[0]*Math.round(v.x/T.value[0]),v.y=T.value[1]*Math.round(v.y/T.value[1]));const{computedPosition:x,position:D}=sl(C,v,l.error,k.value,be.value);(C.computedPosition.x!==x.x||C.computedPosition.y!==x.y)&&(C.computedPosition={...C.computedPosition,...x}),(C.position.x!==D.x||C.position.y!==D.y)&&(C.position=D)}function He(){oe.value&&m([{id:n.id,nodeElement:oe.value,forceUpdate:!0}])}function De(v){re!=null&&re.value||ae.mouseEnter({event:v,node:C})}function Re(v){re!=null&&re.value||ae.mouseMove({event:v,node:C})}function K(v){re!=null&&re.value||ae.mouseLeave({event:v,node:C})}function q(v){return ae.contextMenu({event:v,node:C})}function H(v){return ae.doubleClick({event:v,node:C})}function X(v){N.value&&(!o.value||!ze.value||b.value>0)&&js(C,u.value,f,d,s,!1,oe.value),ae.click({event:v,node:C})}function Z(v){if(!(Vs(v)||O.value))if(Tf.includes(v.key)&&N.value){const x=v.key==="Escape";js(C,u.value,f,d,s,x,oe.value)}else ze.value&&C.selected&&Gi[v.key]&&(M.value=`Moved selected node ${v.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~C.position.x}, y: ${~~C.position.y}`,ie({x:Gi[v.key].x,y:Gi[v.key].y},v.shiftKey))}}}),AE=IE;function NE(n={includeHiddenNodes:!1}){const{nodes:i}=fn();return Me(()=>{if(i.value.length===0)return!1;for(const r of i.value)if((n.includeHiddenNodes||!r.hidden)&&((r==null?void 0:r.handleBounds)===void 0||r.dimensions.width===0||r.dimensions.height===0))return!1;return!0})}const zE={class:"vue-flow__nodes vue-flow__container"},PE={name:"Nodes",compatConfig:{MODE:3}},OE=ln({...PE,setup(n){const{getNodes:i,updateNodeDimensions:r,emits:o}=fn(),s=NE(),u=Pe();return en(s,l=>{l&&Fn(()=>{o.nodesInitialized(i.value)})},{immediate:!0}),gt(()=>{u.value=new ResizeObserver(l=>{const d=l.map(f=>({id:f.target.getAttribute("data-id"),nodeElement:f.target,forceUpdate:!0}));Fn(()=>r(d))})}),Rd(()=>{var l;return(l=u.value)==null?void 0:l.disconnect()}),(l,d)=>(J(),Te("div",zE,[u.value?(J(!0),Te(sn,{key:0},Tn(Oe(i),(f,m,p,_)=>{const k=[f.id];if(_&&_.key===f.id&&$0(_,k))return _;const E=(J(),Ce(Oe(AE),{id:f.id,key:f.id,"resize-observer":u.value},null,8,["id","resize-observer"]));return E.memo=k,E},d,0),128)):Ye("",!0)]))}});function RE(){const{emits:n}=fn();gt(()=>{if(Ff()){const i=document.querySelector(".vue-flow__pane");i&&window.getComputedStyle(i).zIndex!=="1"&&n.error(new kn(_n.MISSING_STYLES))}})}const DE=Le("div",{class:"vue-flow__edge-labels"},null,-1),BE={name:"VueFlow",compatConfig:{MODE:3}},LE=ln({...BE,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(n,{expose:i,emit:r}){const o=n,s=q0(),u=xs(o,"modelValue",r),l=xs(o,"nodes",r),d=xs(o,"edges",r),f=fn(o),m=m2({modelValue:u,nodes:l,edges:d},o,f);return v2(r,f.hooks),hE(),RE(),$i(ea,s),zd(()=>{m()}),i(f),(p,_)=>(J(),Te("div",{ref:Oe(f).vueFlowRef,class:"vue-flow"},[te(sE,null,{default:j(()=>[te(CE),DE,te(OE),pi(p.$slots,"zoom-pane")]),_:3}),pi(p.$slots,"default"),te(fE)],512))}}),Ri=["jina-colbert-v2","jina-reranker-v2-base-multilingual","jina-embeddings-v3","jina-clip-v2"],Ad=[{id:"E1-2",source:"jina-embedding-b-en-v1",target:"jina-embeddings-v2-base-en",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-3",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-zh",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-4",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-de",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-5",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-code",sourceHandle:"source-right",targetHandle:"target-left",markerEnd:"arrow",type:"smoothstep",style:{stroke:"#323838"}},{id:"E2-6",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-es",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-7",source:"jina-embeddings-v2-base-en",target:"jina-colbert-v1-en",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-9",source:"jina-embeddings-v2-base-en",target:"jina-clip-v1",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E7-8",source:"jina-colbert-v1-en",target:"jina-colbert-v2",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E10-11",source:"jina-reranker-v1-base-en",target:"jina-reranker-v1-tiny-en",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E10-12",source:"jina-reranker-v1-base-en",target:"jina-reranker-v1-turbo-en",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E10-13",source:"jina-reranker-v1-base-en",target:"jina-reranker-v2-base-multilingual",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-14",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v3",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E15-16",source:"reader-lm-0.5b",target:"reader-lm-1.5b",sourceHandle:"source-top",targetHandle:"target-bottom",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E9-17",source:"jina-clip-v1",target:"jina-clip-v2",sourceHandle:"source-bottom",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}}],HE=[{id:"E1-2",source:"jina-embedding-b-en-v1",target:"jina-embeddings-v2-base-en",sourceHandle:"source-left",targetHandle:"target-bottom",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-3",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-zh",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-4",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-de",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-5",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-code",sourceHandle:"source-right",targetHandle:"target-left",markerEnd:"arrow",type:"smoothstep",style:{stroke:"#323838"}},{id:"E2-6",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v2-base-es",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-7",source:"jina-embeddings-v2-base-en",target:"jina-colbert-v1-en",sourceHandle:"source-right",targetHandle:"target-left",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-9",source:"jina-embeddings-v2-base-en",target:"jina-clip-v1",sourceHandle:"source-top",targetHandle:"target-bottom",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E7-8",source:"jina-colbert-v1-en",target:"jina-colbert-v2",sourceHandle:"source-left",targetHandle:"target-right",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E10-11",source:"jina-reranker-v1-base-en",target:"jina-reranker-v1-tiny-en",sourceHandle:"source-right",targetHandle:"target-right",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E10-12",source:"jina-reranker-v1-base-en",target:"jina-reranker-v1-turbo-en",sourceHandle:"source-right",targetHandle:"target-right",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E10-13",source:"jina-reranker-v1-base-en",target:"jina-reranker-v2-base-multilingual",sourceHandle:"source-left",targetHandle:"target-right",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E2-14",source:"jina-embeddings-v2-base-en",target:"jina-embeddings-v3",sourceHandle:"source-top",targetHandle:"target-bottom",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E15-16",source:"reader-lm-0.5b",target:"reader-lm-1.5b",sourceHandle:"source-bottom",targetHandle:"target-top",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}},{id:"E9-17",source:"jina-clip-v1",target:"jina-clip-v2",sourceHandle:"source-left",targetHandle:"target-right",type:"smoothstep",markerEnd:"arrow",style:{stroke:"#323838"}}],Pt=100,Di=340,Ot=36,gr=50,qE=ln({__name:"EmbeddingGraph",setup(n,{expose:i}){i();const r=Qs(),o=gb(),{allModels:s}=Hi(o),u=mb(),{searchImmediate:l}=Hi(u),d=Js(),{settings:f}=Hi(d),m=Pe(!1),{t:p}=Uo({useScope:"global"}),{onNodesInitialized:_,onNodeMouseEnter:k,onNodeMouseLeave:E,onEdgeMouseEnter:O,onEdgeMouseLeave:M,onNodeClick:A,getNodes:T,getEdges:b}=fn(),R=Pe(),P=Pe([]),ee=Pe(Ad),le=Pe(null),oe=Pe(""),ce=Me(()=>r.screen.lt.md),ve=Me(()=>ob(s.value,["release_date"],["asc"])),ie=Me(()=>{const q=Object.keys(R.value||{});return ce.value?q.reverse():q}),C=Me(()=>oe.value?T.value.filter(q=>q.id.toLowerCase().includes(oe.value.toLowerCase())):[]),be=Me(()=>oe.value||le.value),ze=q=>{var H;return!be.value||C.value.some(X=>X.id===q)||((H=le.value)==null?void 0:H.name)===q},N=()=>{if(le.value=null,!oe.value){V();return}$(C.value),C.value.length&&Fn(()=>{var X,Z;const q=ge((Z=(X=C.value[C.value.length-1])==null?void 0:X.data)==null?void 0:Z.release_date),H=document.getElementById(`${q}`);H&&H.scrollIntoView({behavior:"smooth",block:"start"})})},$=q=>{T.value.forEach(H=>{q.some(X=>X.id===H.id)?H.style={opacity:1,border:"1px solid #787d7d"}:H.style={opacity:.3}}),b.value.forEach(H=>{var Z;const X=(Z=document.querySelector(`.vue-flow__edge[data-id="${H.id}"]`))==null?void 0:Z.parentElement;q.some(v=>v.id===H.source||v.id===H.target)?(H.style={stroke:"#929595"},X==null||X.setAttribute("style","z-index: 100"),H.sourceNode.style={opacity:1,border:"1px solid #787d7d"},H.targetNode.style={opacity:1,border:"1px solid #787d7d"}):X==null||X.setAttribute("style","z-index: 0")})},B=q=>{b.value.forEach(H=>{var Z;const X=(Z=document.querySelector(`.vue-flow__edge[data-id="${H.id}"]`))==null?void 0:Z.parentElement;q.some(v=>v.id===H.id)?(H.style={stroke:"#929595"},X==null||X.setAttribute("style","z-index: 100")):X==null||X.setAttribute("style","z-index: 0")}),T.value.forEach(H=>{q.some(X=>X.source===H.id||X.target===H.id)?H.style={opacity:1}:H.style={opacity:.3}})},V=()=>{T.value.forEach(q=>{q.style={opacity:1}}),b.value.forEach(q=>{var X;const H=(X=document.querySelector(`.vue-flow__edge[data-id="${q.id}"]`))==null?void 0:X.parentElement;q.style={opacity:1,stroke:"#323838"},H==null||H.setAttribute("style","z-index: 0")})},ne=async q=>{document.querySelector("header.q-header--hidden")&&window.scrollBy(0,-10),l.value=!0,f.value.lastQuestion=q,f.value.showSearchBar=!0},ae=q=>q.split("-").slice(0,3).join(" "),de=()=>{le.value=null,be.value||V()},re=Pe({}),Se=Me(()=>{const q=Object.keys(R.value||{});let H=0;if(ce.value)return q.forEach(Z=>{var G,se,ke,F;const v=(se=(G=R.value)==null?void 0:G[Z])==null?void 0:se.filter(pe=>Ri.includes(pe.name)),x=(F=(ke=R.value)==null?void 0:ke[Z])==null?void 0:F.filter(pe=>!Ri.includes(pe.name)),D=Math.max((v==null?void 0:v.length)||0,(x==null?void 0:x.length)||0);wb(re.value,Z,`${D}fr`),D>1&&(H+=D-1)}),{height:`${q.length*(Pt+Ot*2)+H*(Pt+Ot)}px`,width:Di*2+200+"px"};const X=Math.max(...q.map(Z=>{var v,x;return((x=(v=R.value)==null?void 0:v[Z])==null?void 0:x.length)||0}));return{width:`${q.length*(Di+gr)}px`,height:X*(Pt+Ot)+160+"px"}}),he=Me(()=>({"grid-template-columns":ce.value?"1fr":`repeat(auto-fill, ${Di+gr}px)`,"grid-template-rows":ce.value?Object.values(re.value).reverse().join(" "):"unset"})),ue=Me(()=>({minHeight:ce.value?`${Pt+Ot*2}px`:"unset"})),ge=q=>{const H=new Date(q).getFullYear(),X=new Date(q).getMonth()+1;return`${H}Q${Math.ceil(X/3)}`},He=(q,H)=>{var F,pe;const X=ge(q.release_date),Z=ce.value?Object.keys(R.value||{}).reverse():Object.keys(R.value||{}),v=Z.indexOf(X),x=[],D=[];(pe=(F=R.value)==null?void 0:F[X])==null||pe.forEach(xe=>{Ri.includes(xe.name)?x.unshift(xe):D.unshift(xe)});let G=0;ce.value?H?G=x.findIndex(xe=>xe.name===q.name):G=D.findIndex(xe=>xe.name===q.name):G=x.concat(D).findIndex(xe=>xe.name===q.name),G===-1&&(G=0);const se=Z.slice(0,v);let ke=0;return se.forEach(xe=>{var $n,Rn,Dn,Wn;const $e=(Rn=($n=R.value)==null?void 0:$n[xe])==null?void 0:Rn.filter(xt=>Ri.includes(xt.name)),qe=(Wn=(Dn=R.value)==null?void 0:Dn[xe])==null?void 0:Wn.filter(xt=>!Ri.includes(xt.name)),Ze=Math.max(($e==null?void 0:$e.length)||0,(qe==null?void 0:qe.length)||0);ke+=Ze-1}),ce.value?{x:H?100:100+Di+gr,y:(Pt+Ot)*(G+ke)+(Pt+Ot*2)*v+Ot}:{x:25+v*(Di+gr),y:parseInt(Se.value.height)-(100+Pt)-G*(Pt+Ot)}},De=async()=>{var q;m.value=!0,(q=s.value)!=null&&q.length||await o.getModels(),R.value={},ve.value.forEach(H=>{var Z;const X=ge(H.release_date);(Z=R.value)!=null&&Z[X]?R.value[X].push(H):R.value={...R.value,[X]:[H]}}),P.value=ve.value.map(H=>{const X=Ri.includes(H.name);return{id:H.name,data:{...H,isFrontier:X},position:He(H,X),type:"custom",class:`node ${X?"is-frontier":"is-variant"}`}}),m.value=!1},Re=async()=>{ee.value=ce.value?HE:Ad,await De()};en(ce,()=>{Re()}),Pd(()=>{Re()}),_(()=>{const q=document.querySelector(".models-graph-wrapper");q&&!ce.value&&(q.scrollLeft=parseInt(Se.value.width))}),A(q=>{oe.value?C.value.some(H=>H.id===q.node.id)?le.value=q.node.data:(q.event.stopImmediatePropagation(),q.event.preventDefault()):($([q.node]),le.value=q.node.data)}),k(q=>{be.value||$([q.node])}),E(()=>{be.value||V()}),O(q=>{be.value||B([q.edge])}),M(()=>{be.value||V()});const K={$q:r,embeddingStore:o,allModels:s,searchStore:u,searchImmediate:l,userStore:d,settings:f,isModelsLoading:m,t:p,onNodesInitialized:_,onNodeMouseEnter:k,onNodeMouseLeave:E,onEdgeMouseEnter:O,onEdgeMouseLeave:M,onNodeClick:A,getNodes:T,getEdges:b,NODE_HEIGHT:Pt,NODE_WIDTH:Di,OFFSET_Y:Ot,OFFSET_X:gr,modelsByQuarter:R,modelNodes:P,edges:ee,activeModel:le,query:oe,vertical:ce,sortedModels:ve,quarters:ie,filteredNodes:C,isHighlighting:be,isNodeHoverable:ze,onFilter:N,highlightNode:$,highlightEdge:B,removeHighlight:V,onSearch:ne,getDefaultQuery:ae,beforeHideDetails:de,verticalRows:re,containerStyle:Se,timelineStyle:he,quarterStyle:ue,getQuarter:ge,getPosition:He,getModels:De,initialize:Re,get date(){return lb},get VueFlow(){return LE},get Position(){return Ee},get Handle(){return Mr},get langcode2emojis(){return ub},get ccncOptions(){return Ld},get embeddingIcon(){return zo},get rerankerIcon(){return Po},get readerIcon(){return Oo}};return Object.defineProperty(K,"__isScriptSetup",{enumerable:!1,value:!0}),K}}),FE={class:"row justify-center"},GE={class:"models-graph-wrapper"},$E=["id"],WE={class:"label bg-grey-8 text-black"};function UE(n,i,r,o,s,u){return J(),Te(sn,null,[Le("div",FE,[te(Hd,{modelValue:o.query,"onUpdate:modelValue":[i[0]||(i[0]=l=>o.query=l),o.onFilter],filled:"",square:"",debounce:"300",label:o.t("model_graph.search_models"),class:"q-my-xl search-box col-10 col-md-8 col-lg-6",clearable:""},{after:j(()=>[te(di,{outline:"",stretch:"",square:"","icon-right":"arrow_forward",label:o.t("model_graph.browse_catalog"),to:"/models#catalog"},null,8,["label"])]),prepend:j(()=>[te(gn,{name:"search",class:"cursor-pointer"})]),_:1},8,["modelValue","label"])]),Le("div",{class:st(["models-graph",{"is-vertical":o.vertical}])},[o.isModelsLoading?(J(),Ce(hb,{key:0,indeterminate:"",size:"1px"})):Ye("",!0),Le("div",GE,[Le("div",{class:"models-graph-inner",style:at(o.containerStyle)},[Le("div",{class:"timeline",style:at(o.timelineStyle)},[(J(!0),Te(sn,null,Tn(o.quarters,l=>(J(),Te("div",{key:l,class:"section",style:at(o.quarterStyle),id:l},[Le("span",WE,_e(l),1)],12,$E))),128))],4),o.isModelsLoading?Ye("",!0):(J(),Ce(o.VueFlow,{key:0,nodes:o.modelNodes,edges:o.edges,"zoom-on-scroll":!1,"zoom-on-double-click":!1,"zoom-on-pinch":!1,"nodes-draggable":!1,"pan-on-drag":!1,"fit-view-on-init":!1},{"node-custom":j(({data:l})=>[zs((J(),Ce(Rt,{class:"full-width full-height cursor-pointer",style:{"flex-direction":"column"},clickable:"",to:`/models/${l.name}`},{default:j(()=>[te(hi,{caption:"",class:"justify-between row full-width items-center q-mb-xs"},{default:j(()=>{var d,f,m;return[Le("div",null,[(d=l.request_path)!=null&&d.includes("embedding")?(J(),Ce(gn,{key:0,name:"img:"+o.embeddingIcon},{default:j(()=>[te(xn,null,{default:j(()=>[Ge(_e(o.t("landing_page.embeddings")),1)]),_:1})]),_:1},8,["name"])):(f=l.request_path)!=null&&f.includes("rank")?(J(),Ce(gn,{key:1,name:"img:"+o.rerankerIcon},{default:j(()=>[te(xn,null,{default:j(()=>[Ge(_e(o.t("landing_page.reranker")),1)]),_:1})]),_:1},8,["name"])):(m=l.tags)!=null&&m.includes("reader")?(J(),Ce(gn,{key:2,name:"img:"+o.readerIcon},{default:j(()=>[te(xn,null,{default:j(()=>[Ge(_e(o.t("landing_page.reader")),1)]),_:1})]),_:1},8,["name"])):Ye("",!0),o.ccncOptions.includes(l.name)?(J(),Ce(gn,{key:3,name:"copyright"},{default:j(()=>[te(xn,null,{default:j(()=>[Ge(_e(o.t("landing_page.ccbync")),1)]),_:1})]),_:1})):Ye("",!0)]),te(Cn,{icon:"calendar_month",size:"xs",square:"",dense:"",class:"text-dim",color:"transparent",label:o.date.formatDate(l.release_date,"YYYY-MM-DD")},null,8,["label"])]}),_:2},1024),te(Nn,{class:"no-wrap"},{default:j(()=>[te(hi,{class:"text-weight-bold",style:{"font-size":"14px"}},{default:j(()=>[Le("code",null,_e(l.name),1)]),_:2},1024),te(hi,{caption:"",class:"row q-py-sm no-wrap"},{default:j(()=>{var d,f,m,p,_,k;return[l.tags&&l.tags.includes("multimodal")?(J(),Ce(Cn,{key:0,square:"",size:"xs",outline:"",style:{"border-radius":"0"},class:"text-dim",label:o.t("embedding.multimodal"),icon:"mms"},{default:j(()=>[o.isNodeHoverable(l.name)?(J(),Ce(xn,{key:0},{default:j(()=>[Ge(_e(o.t("embedding.multimodal_explain")),1)]),_:1})):Ye("",!0)]),_:2},1032,["label"])):Ye("",!0),(d=l.request_path)!=null&&d.includes("multi-embeddings")?(J(),Ce(Cn,{key:1,class:"text-dim",style:{"border-radius":"0"},icon:"grid_4x4",label:o.t("embedding.multi_embedding"),square:"",size:"xs",outline:""},{default:j(()=>[te(xn,null,{default:j(()=>[Ge(_e(o.t("embedding.multi_embedding_explain")),1)]),_:1})]),_:1},8,["label"])):Ye("",!0),te(Cn,{label:(f=l.meta_data)==null?void 0:f.token_length,square:"",size:"xs",outline:"",icon:"notes",class:"text-dim",style:{"border-radius":"0"}},{default:j(()=>[o.isNodeHoverable(l.name)?(J(),Ce(xn,{key:0},{default:j(()=>{var E;return[Ge(_e(o.t("embedding.token_length_explain",{_tokenLength:(E=l.meta_data)==null?void 0:E.token_length})),1)]}),_:2},1024)):Ye("",!0)]),_:2},1032,["label"]),(m=l.request_path)!=null&&m.includes("embedding")?(J(),Ce(Cn,{key:2,label:(p=l.meta_data)==null?void 0:p.output_dim,square:"",class:"text-dim",size:"xs",outline:"",icon:"background_dot_small",style:{"border-radius":"0"}},{default:j(()=>[o.isNodeHoverable(l.name)?(J(),Ce(xn,{key:0},{default:j(()=>{var E;return[Ge(_e(o.t("embedding.output_dim_explain",{_outputDim:(E=l.meta_data)==null?void 0:E.output_dim})),1)]}),_:2},1024)):Ye("",!0)]),_:2},1032,["label"])):Ye("",!0),te(Cn,{label:(_=l.meta_data)==null?void 0:_.size,square:"",size:"xs",class:"text-dim",outline:"",icon:"data_array",style:{"border-radius":"0"}},{default:j(()=>[o.isNodeHoverable(l.name)?(J(),Ce(xn,{key:0},{default:j(()=>{var E;return[Ge(_e(o.t("embedding.size_explain",{_size:(E=l.meta_data)==null?void 0:E.size})),1)]}),_:2},1024)):Ye("",!0)]),_:2},1032,["label"]),te(Cn,{label:o.langcode2emojis((k=l.meta_data)==null?void 0:k.language),square:"",class:"text-dim",size:"xs",outline:"",style:{"border-radius":"0"}},{default:j(()=>[o.isNodeHoverable(l.name)?(J(),Ce(xn,{key:0},{default:j(()=>{var E;return[Ge(_e(o.t("embedding.language_explain",{_language:o.langcode2emojis((E=l.meta_data)==null?void 0:E.language)})),1)]}),_:2},1024)):Ye("",!0)]),_:2},1032,["label"])]}),_:2},1024)]),_:2},1024)]),_:2},1032,["to"])),[[qd]]),te(o.Handle,{id:"source-top",type:"source",position:o.Position.Top},null,8,["position"]),te(o.Handle,{id:"target-top",type:"target",position:o.Position.Top},null,8,["position"]),te(o.Handle,{id:"source-bottom",type:"source",position:o.Position.Bottom},null,8,["position"]),te(o.Handle,{id:"target-bottom",type:"target",position:o.Position.Bottom},null,8,["position"]),te(o.Handle,{id:"source-left",type:"source",position:o.Position.Left},null,8,["position"]),te(o.Handle,{id:"target-left",type:"target",position:o.Position.Left},null,8,["position"]),te(o.Handle,{id:"source-right",type:"source",position:o.Position.Right},null,8,["position"]),te(o.Handle,{id:"target-right",type:"target",position:o.Position.Right},null,8,["position"])]),_:1},8,["nodes","edges"]))],4)])],2)],64)}const VE=Vo(qE,[["render",UE],["__file","EmbeddingGraph.vue"]]),YE=ln({__name:"ModelSelectorComponent",props:{filteredModels:{},currentSlug:{},searchQuery:{}},emits:["select-model"],setup(n,{expose:i}){i();const r=Qs(),{t:o}=Uo(),s=n,u=Me(()=>s.filteredModels.map(f=>({label:f.name,value:f.slug,icon:l(f),deprecated:!!f.metadata.deprecated_by}))),l=f=>{var m,p,_;return(m=f.metadata.endpoints)!=null&&m.includes("embedding")?zo:(p=f.metadata.endpoints)!=null&&p.includes("rank")?Po:(_=f.metadata.endpoints)!=null&&_.includes("read")?Oo:null},d={$q:r,t:o,props:s,modelOptions:u,getModelIcon:l,get embeddingIcon(){return zo},get rerankerIcon(){return Po},get readerIcon(){return Oo}};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}}),XE={key:0,class:"text-center q-pa-md text-grey-7"},jE={key:1,class:"text-center q-pa-md text-grey-7"};function KE(n,i,r,o,s,u){return J(),Te("div",null,[o.$q.screen.lt.md?(J(),Te(sn,{key:0},[zs(te(Yd,{"model-value":r.currentSlug,options:o.modelOptions,"emit-value":"","map-options":"",filled:"",square:"",class:"q-mb-md","option-value":"value","option-label":"label",clearable:!1,"onUpdate:modelValue":i[0]||(i[0]=l=>n.$emit("select-model",l))},{option:j(({itemProps:l,opt:d,selected:f,toggleOption:m})=>[te(Rt,j0(K0(l)),{default:j(()=>[te(Nn,null,{default:j(()=>[te(hi,{class:st(d.deprecated?"text-dim":void 0)},{default:j(()=>[Ge(_e(d.label),1)]),_:2},1032,["class"])]),_:2},1024),d.icon?(J(),Ce(Nn,{key:0,side:""},{default:j(()=>[te(gn,{class:"info-icon",name:`img:${d.icon}`},null,8,["name"])]),_:2},1024)):Ye("",!0)]),_:2},1040)]),_:1},8,["model-value","options"]),[[X0,r.filteredModels.length]]),r.filteredModels.length?Ye("",!0):(J(),Te("div",XE,_e(o.t("models.search.no_results",{query:r.searchQuery})),1))],64)):(J(),Ce(Ud,{key:1,class:"overflow-auto models-list"},{default:j(()=>[r.filteredModels.length?(J(),Ce(Fd,{key:0,name:"list2"},{default:j(()=>[(J(!0),Te(sn,null,Tn(r.filteredModels,l=>zs((J(),Ce(Rt,{key:l.slug,clickable:"",active:r.currentSlug===l.slug,class:st(["card-details",r.currentSlug===l.slug?"text-primary":l.metadata.deprecated_by?"text-dim":void 0]),onClick:d=>n.$emit("select-model",l.slug)},{default:j(()=>[te(Nn,null,{default:j(()=>[te(hi,null,{default:j(()=>[Ge(_e(l.name),1)]),_:2},1024)]),_:2},1024),te(Nn,{side:"",class:"read-more-btn"},{default:j(()=>{var d,f,m;return[(d=l.metadata.endpoints)!=null&&d.includes("embedding")?(J(),Ce(gn,{key:0,class:"info-icon",name:"img:"+o.embeddingIcon},{default:j(()=>[te(xn,null,{default:j(()=>[Ge(_e(o.t("landing_page.embeddings")),1)]),_:1})]),_:1},8,["name"])):(f=l.metadata.endpoints)!=null&&f.includes("rank")?(J(),Ce(gn,{key:1,class:"info-icon",name:"img:"+o.rerankerIcon},{default:j(()=>[te(xn,null,{default:j(()=>[Ge(_e(o.t("landing_page.reranker")),1)]),_:1})]),_:1},8,["name"])):(m=l.metadata.endpoints)!=null&&m.includes("read")?(J(),Ce(gn,{key:2,class:"info-icon",name:"img:"+o.readerIcon},{default:j(()=>[te(xn,null,{default:j(()=>[Ge(_e(o.t("landing_page.reader")),1)]),_:1})]),_:1},8,["name"])):Ye("",!0)]}),_:2},1024)]),_:2},1032,["active","class","onClick"])),[[qd]])),128))]),_:1})):(J(),Te("div",jE,_e(o.t("models.search.no_results",{query:r.searchQuery})),1))]),_:1}))])}const ZE=Vo(YE,[["render",KE],["__scopeId","data-v-f4a31de5"],["__file","ModelSelectorComponent.vue"]]),JE=ln({__name:"ModelCompareTable",props:{currentModel:{},allModels:{}},setup(n,{expose:i}){i();const{t:r,te:o}=Uo({useScope:"global"}),s=n,u=Js(),{settings:l}=Hi(u),d=T=>{var b;return T==="en"?r("tokenizer.english"):T==="zh"?r("tokenizer.chinese"):T==="multilingual"?r("embedding.multilingual"):(b=l.value.localeOptions.find(R=>R.value===T))==null?void 0:b.label},f=(T,b)=>[{type:"api_link",icon:"img:/J.svg",key:"api",link:`/?sui&model=${T}`,show:b.includes("api")},{type:"license_link",icon:"img:/J.svg",key:"license",link:"/api-dashboard/license-config?login=true",show:b.includes("license")},{type:"aws_link",icon:`img:${Gd}`,key:"aws",link:"https://aws.amazon.com/marketplace/seller-profile?id=seller-stch2ludm6vgy",show:b.includes("aws")},{type:"azure_link",icon:`img:${$d}`,key:"azure",link:"https://azuremarketplace.microsoft.com/en-US/marketplace/apps?page=1&search=jina",show:b.includes("azure")},{type:"gcp_link",icon:`img:${Wd}`,key:"gcp",link:"https://console.cloud.google.com/marketplace/browse?q=jina",show:b.includes("gcp")},{type:"huggingface_link",icon:"img:/huggingface_logo.svg",key:"huggingface",link:`https://huggingface.co/jinaai/${T}`,show:b.includes("huggingface")}].filter(R=>R.show),m=Pe([]),p=Pe(!1),_=Me(()=>s.allModels.map(T=>({name:T.metadata.model_name,slug:T.slug,metadata:T.metadata}))),k=["license","release_date","parameter_size","token_length","image_size","output_dimension","input_type","output_type","language","availability"],E=Me(()=>[{name:"property",label:r("models.sections.model_name"),field:"property",align:"left"},...m.value.map(T=>({name:T.metadata.model_name,label:T.metadata.model_name,field:T.metadata.model_name,align:"left"}))]),O=Me(()=>k.filter(b=>m.value.some(R=>{const P=R.metadata[b];return P!=null&&P!=="-"&&!(Array.isArray(P)&&P.length===0)})).map(b=>{const R={property:o(`models.metadata.${b}`)?r(`models.metadata.${b}`):r(`models.sections.${b}`)};return m.value.forEach(P=>{b==="language"&&Array.isArray(P.metadata[b])?R[P.metadata.model_name]=P.metadata[b].map(ee=>`${Vd(ee)} ${d(ee)}`):["input_type","output_type"].includes(b)&&Array.isArray(P.metadata[b])?R[P.metadata.model_name]=P.metadata[b].map(ee=>r(`models.input_type.${ee}`)):R[P.metadata.model_name]=P.metadata[b]||"-"}),R}));Ps(()=>{if(s.currentModel){const T={name:s.currentModel.metadata.model_name,slug:s.currentModel.slug,metadata:s.currentModel.metadata},b=(s.currentModel.metadata.related_models||[]).map(R=>{const P=s.allModels.find(ee=>ee.metadata.model_name===R);return P?{name:P.metadata.model_name,slug:P.slug,metadata:P.metadata}:null}).filter(R=>R!==null);m.value=[T,...b]}});const A={t:r,te:o,props:s,userStore:u,settings:l,mapLangCodeToLanguageName:d,getExternalLinks:f,selectedModelsForComparison:m,showComparisonTable:p,availableModelsForComparison:_,comparisonFields:k,comparisonColumns:E,comparisonRows:O,handleModelUpdate:T=>{if(!T||T.length===0){m.value=[];return}m.value=T,T.length<2&&(p.value=!1),p.value=!0}};return Object.defineProperty(A,"__isScriptSetup",{enumerable:!1,value:!0}),A}}),QE={key:1,class:"row q-gutter-sm"};function eS(n,i,r,o,s,u){return J(),Ce(Os,{flat:"",square:"",class:"bg-mixed-100 q-mb-xl q-pa-md"},{default:j(()=>[te(Bi,{class:"text-caption text-dim q-py-none"},{default:j(()=>[Ge(_e(o.t("models.comparison.select_models"))+" ",1),te(Yd,{class:"model-comparsion",borderless:"",modelValue:o.selectedModelsForComparison,"onUpdate:modelValue":[i[1]||(i[1]=l=>o.selectedModelsForComparison=l),o.handleModelUpdate],options:o.availableModelsForComparison,"option-label":"name","option-value":"slug",multiple:"","use-chips":"","hide-bottom-space":"",clearable:"",square:"","options-selected-class":"text-primary"},Z0({selected:j(()=>[(J(!0),Te(sn,null,Tn(o.selectedModelsForComparison,l=>(J(),Ce(Cn,{key:l.slug,class:"bg-mixed-200",size:"sm",label:l.name,style:{"border-radius":"0"}},null,8,["label"]))),128))]),"no-option":j(()=>[te(Rt,null,{default:j(()=>[te(Nn,{class:"text-grey"},{default:j(()=>[Ge(_e(o.t("models.comparison.no_models")),1)]),_:1})]),_:1})]),_:2},[!o.showComparisonTable&&o.selectedModelsForComparison.length>=2?{name:"after",fn:j(()=>[te(di,{flat:"",stretch:"",square:"",class:"full-height",label:o.t("models.comparison.btn"),icon:"compare_arrows",onClick:i[0]||(i[0]=l=>o.showComparisonTable=!o.showComparisonTable)},null,8,["label"])]),key:"0"}:void 0]),1032,["modelValue","options"])]),_:1}),o.showComparisonTable&&o.selectedModelsForComparison.length>=2?(J(),Ce(Bi,{key:0,class:"q-pa-none"},{default:j(()=>[te(cb,{rows:o.comparisonRows,columns:o.comparisonColumns,flat:"",square:"",pagination:{rowsPerPage:0},"hide-pagination":!0,class:"bg-mixed-200"},{"header-cell":j(l=>[te(db,{props:l,class:st({"bg-mixed-300 text-weight-bold":l.col.name==="property"})},{default:j(()=>[Ge(_e(l.col.label),1)]),_:2},1032,["props","class"])]),"body-cell":j(l=>[te(fb,{props:l,class:st({"bg-mixed-300 text-weight-bold":l.col.name==="property"})},{default:j(()=>[l.col.name==="property"?(J(),Te(sn,{key:0},[Ge(_e(l.value),1)],64)):l.row.property===o.t("models.sections.availability")?(J(),Te("div",QE,[(J(!0),Te(sn,null,Tn(o.getExternalLinks(l.col.name,l.value),d=>(J(),Ce(di,{key:d.key,href:d.link,target:"_blank",flat:"",dense:"",square:"","no-caps":"",icon:d.icon,class:"bg-mixed-200"},{default:j(()=>[te(xn,null,{default:j(()=>[Ge(_e(o.t(`models.metadata.${d.key}_link`)),1)]),_:2},1024)]),_:2},1032,["href","icon"]))),128))])):Array.isArray(l.value)?(J(!0),Te(sn,{key:2},Tn(l.value,d=>(J(),Ce(Cn,{key:d,size:"sm",class:"bg-mixed-300",style:{"border-radius":"0"}},{default:j(()=>[Ge(_e(d),1)]),_:2},1024))),128)):(J(),Te(sn,{key:3},[Ge(_e(l.value),1)],64))]),_:2},1032,["props","class"])]),_:1},8,["rows","columns"])]),_:1})):Ye("",!0)]),_:1})}const nS=Vo(JE,[["render",eS],["__file","ModelCompareTable.vue"]]),tS=ln({__name:"ModelsPage",setup(n,{expose:i}){i();const r=Js(),o=_b(),{settings:s}=Hi(r),{featuredBlogs:u,authors:l,translatedAllBlogs:d,accessedAt:f,lastAccessedAt:m,initiating:p}=Hi(o),_=Pe(""),k=Pe(""),E=Pe(!1),O=Pe(null),M=Pe(!1),A=Pe("release_date"),T=Pe("desc"),b=Pe(null),{models:R}=Fb(),P=Pe([]),ee=Pe(!1),le=J0(),oe=Q0(),{t:ce}=Uo({useScope:"global"}),ve=Qs(),ie=Pe(!1),C=Pe(!0),be=Me(()=>C.value),ze=()=>{const K=R.value.slice();if(!_.value)P.value=K;else{const q=_.value.toLowerCase().trim();M.value=!0,P.value=K.filter(H=>{const X=H.name.toLowerCase(),Z=H.metadata.tags||[],v=(H.metadata.model_type||"").toLowerCase(),x=(H.metadata.organization||"").toLowerCase();return X.includes(q)||Z.some(D=>D.toLowerCase().includes(q))||v.includes(q)||x.includes(q)}),M.value=!1}P.value.sort((q,H)=>{let X=0;switch(A.value){case"name":X=q.name.localeCompare(H.name);break;case"release_date":X=new Date(q.metadata.release_date||"0").valueOf()-new Date(H.metadata.release_date||"0").valueOf();break;case"parameter_size":X=$(q.metadata.parameter_size||"0")-$(H.metadata.parameter_size||"0");break}return T.value==="asc"?X:-X})},N=$b.debounce(()=>{ze()},300);en(R,K=>{K&&K.length>0&&!ee.value&&(P.value=K.slice(),ee.value=!0,Fn(()=>{ze()}))},{immediate:!0}),en([A,T],()=>{ee.value&&P.value.length>0&&Fn(()=>{N()})},{deep:!0});const $=K=>{if(!K)return 0;const q=K.toUpperCase(),H=parseFloat(q);return isNaN(H)?0:q.endsWith("B")?H*1e9:q.endsWith("M")?H*1e6:H},B=Me(()=>ue.value.filter(K=>{var q,H;return(H=(q=b.value)==null?void 0:q.metadata.availability)==null?void 0:H.includes(K.key)})),V=["parameter_size","token_length","image_size","output_dimension"],ne=Me(()=>{var K;return(K=b.value)!=null&&K.metadata?V.filter(q=>b.value.metadata[q]).map(q=>({key:q,value:b.value.metadata[q]})):[]}),ae=K=>{var q;return K==="en"?ce("tokenizer.english"):K==="zh"?ce("tokenizer.chinese"):K==="multilingual"?ce("embedding.multilingual"):(q=s.value.localeOptions.find(H=>H.value===K))==null?void 0:q.label},de=K=>{A.value=K,N()},re=Me(()=>{var K;return(K=b.value)==null?void 0:K.metadata.model_name}),Se=Me(()=>{var K;return(K=re.value)==null?void 0:K.replace(/\./g,"")}),he=K=>K.includes("text")?"abc":K.includes("image")?"image":K.includes("audio")?"audiotrack":K.includes("video")?"videocam":K.includes("multi-vector")?"apps":K.includes("vector")?"more_horiz":K.includes("ranking")?"format_list_numbered":"help",ue=Me(()=>[{type:"api_link",icon:"img:/J.svg",key:"api",link:`/?sui&model=${re.value}`},{type:"license_link",icon:"img:/J.svg",key:"license",link:"/api-dashboard/license-config?login=true"},{type:"aws_link",icon:`img:${Gd}`,key:"aws",link:"https://aws.amazon.com/marketplace/seller-profile?id=seller-stch2ludm6vgy"},{type:"azure_link",icon:`img:${$d}`,key:"azure",link:"https://azuremarketplace.microsoft.com/en-US/marketplace/apps?page=1&search=jina"},{type:"gcp_link",icon:`img:${Wd}`,key:"gcp",link:"https://console.cloud.google.com/marketplace/browse?q=jina"},{type:"huggingface_link",icon:"img:/huggingface_logo.svg",key:"huggingface",link:`https://huggingface.co/jinaai/${re.value}`}]),ge=async K=>{if(!(k.value===K&&b.value))try{E.value=!0,O.value=null,k.value=K;const q=R.value.find(H=>H.slug===K);if(!q)throw new Error(`Model "${K}" not found`);await Fn(),b.value=q,le.params.slug!==K&&oe.push(`/models/${K}`)}catch(q){O.value=q instanceof Error?q.message:"Failed to load model",b.value=null}finally{E.value=!1}},He=K=>({"margin-top":`${K}px`});Ps(()=>{const K=le.params.slug!==void 0;K&&C.value?(ie.value=!0,setTimeout(()=>{C.value=!1,ie.value=!1},500)):!K&&!C.value&&(C.value=!0)});const De=()=>{let K=ce("model_graph.title"),q=ce("model_graph.description"),H="https://jina.ai/banner-models.png",X="Jina AI",Z="https://jina.ai/models";b.value&&(K=ce("models.title",{_modelName:re.value}),q=ce(`embedding.${re.value.replace(".","")}_description`),H=`https://jina.ai/models-banner/${re.value}.png`,X=b.value.metadata.organization,Z=`https://jina.ai/models/${b.value.slug}`),eb({title:K,meta:[{name:"title",content:K},{name:"description",content:q},{name:"author",content:X},{property:"og:title",content:K},{property:"og:url",content:Z},{property:"og:image",content:H},{property:"og:description",content:q},{property:"twitter:title",content:K},{property:"twitter:url",content:Z},{property:"twitter:image",content:H},{property:"twitter:description",content:q},{property:"twitter:label1",content:"Created by"},{property:"twitter:data1",content:X}]})};Ps(async()=>{const K=le.params.slug;K&&await ge(K),await Fn(),De()}),gt(()=>{P.value=R.value.slice()});const Re={userStore:r,newsStore:o,settings:s,featuredBlogs:u,authors:l,translatedAllBlogs:d,accessedAt:f,lastAccessedAt:m,initiating:p,searchQuery:_,currentSlug:k,isLoading:E,error:O,isSearching:M,sortOption:A,sortDirection:T,selectedModel:b,models:R,filteredModels:P,isInitialized:ee,route:le,router:oe,t:ce,$q:ve,isTransitioning:ie,shouldShowGraph:C,showModelGraph:be,applySearchAndSort:ze,debouncedApplySearchAndSort:N,parseParameterSize:$,availableExternalLinks:B,MODEL_DETAIL_KEYS:V,modelDetails:ne,mapLangCodeToLanguageName:ae,setSortOption:de,selectModelName:re,selectModelNameNormalized:Se,getIconForInputType:he,externalLinks:ue,selectModel:ge,getStyle:He,initHead:De,get langcode2SingleEmoji(){return Vd},get ccncOptions(){return Ld},get embeddingIcon(){return zo},get rerankerIcon(){return Po},get readerIcon(){return Oo},EmbeddingGraph:VE,H2TitleBlock:pb,ResearchersComponent:vb,NewsFilterComponent:yb,ModelSelectorComponent:ZE,ModelCompareTable:nS};return Object.defineProperty(Re,"__isScriptSetup",{enumerable:!1,value:!0}),Re}}),iS={key:"graph",class:"q-pa-xl row justify-center overflow-hidden q-mb-xl"},rS={class:"col-12 col-sm-11 col-md-10",style:{"z-index":"1"}},oS={class:"col-11 col-md-3 col-lg-2 col-xl-2 model-list bg-dark-transparent lock-blur"},aS={class:"row items-center q-mb-md"},sS={class:"col-11 col-md-8 col-lg-7 col-xl-6"},lS={key:0,class:"text-center q-pa-xl"},uS={class:"text-dim q-mt-sm"},cS={key:1,class:"text-center q-pa-xl"},dS={class:"text-negative q-mt-sm"},fS={class:"row justify-between"},hS={class:"model-title"},gS={class:"row justify-between items-center"},mS={class:"col q-mr-md"},pS={class:"row items-center"},vS={class:"text-caption text-dim q-mr-sm"},yS={class:"row items-center"},_S={class:"text-caption text-dim q-mr-sm"},bS={class:"row items-center"},wS={class:"text-caption text-dim q-mr-sm"},xS={class:"text-caption text-dim q-mx-sm"},kS={class:"row items-center"},ES={class:"text-caption text-dim q-mr-sm"},SS={key:0,class:"row items-center"},MS={class:"text-caption text-dim q-mr-sm"},TS={key:1,class:"row items-center"},CS={class:"text-caption text-dim q-mr-sm"},IS={class:"row items-center"},AS={class:"text-caption text-dim q-mr-sm"},NS=["id"],zS={class:"text-r-h4 q-mt-xl q-mb-md"},PS={key:3,class:"text-center q-pa-xl q-ma-xl text-dim"};function OS(n,i,r,o,s,u){return J(),Ce(sb,{class:"no-wrap","style-fn":o.getStyle},{default:j(()=>[te(Fd,{appear:"",mode:"out-in",name:"page-transition"},{default:j(()=>[o.showModelGraph&&!o.isTransitioning?(J(),Te("div",iS,[Le("div",rS,[te(o.H2TitleBlock,{title:"model_graph.title",anchor:"models",subtitle:"model_graph.description"}),te(o.EmbeddingGraph)])])):Ye("",!0),Le("div",{key:"catalog",class:st(["row justify-center relative-position",{"q-gutter-x-lg":o.$q.screen.gt.md,"q-gutter-x-md":o.$q.screen.gt.sm}]),id:"catalog"},[Le("div",oS,[Le("div",aS,[te(Hd,{modelValue:o.searchQuery,"onUpdate:modelValue":[i[5]||(i[5]=l=>o.searchQuery=l),o.applySearchAndSort],filled:"",square:"",loading:o.isSearching,placeholder:o.t("models.search.placeholder"),class:"col model-selector full-width",clearable:"",debounce:"300"},{prepend:j(()=>[te(gn,{name:"search"})]),after:j(()=>[te(tb,{icon:"sort",dense:"",stretch:"",flat:"",square:"",label:o.t(`models.sort.${o.sortOption}`),"no-caps":"","no-wrap":""},{default:j(()=>[te(Ud,null,{default:j(()=>[te(hi,{header:""},{default:j(()=>[Ge(_e(o.t("models.sort.label")),1)]),_:1}),te(Rt,{clickable:"",onClick:i[0]||(i[0]=l=>o.setSortOption("name")),active:o.sortOption==="name"},{default:j(()=>[te(Nn,null,{default:j(()=>[Ge(_e(o.t("models.sort.name")),1)]),_:1}),o.sortOption==="name"?(J(),Ce(Nn,{key:0,side:""},{default:j(()=>[te(gn,{name:"check"})]),_:1})):Ye("",!0)]),_:1},8,["active"]),te(Rt,{clickable:"",onClick:i[1]||(i[1]=l=>o.setSortOption("release_date")),active:o.sortOption==="release_date"},{default:j(()=>[te(Nn,null,{default:j(()=>[Ge(_e(o.t("models.sort.release_date")),1)]),_:1}),o.sortOption==="release_date"?(J(),Ce(Nn,{key:0,side:""},{default:j(()=>[te(gn,{name:"check"})]),_:1})):Ye("",!0)]),_:1},8,["active"]),te(Rt,{clickable:"",onClick:i[2]||(i[2]=l=>o.setSortOption("parameter_size")),active:o.sortOption==="parameter_size"},{default:j(()=>[te(Nn,null,{default:j(()=>[Ge(_e(o.t("models.sort.parameter_size")),1)]),_:1}),o.sortOption==="parameter_size"?(J(),Ce(Nn,{key:0,side:""},{default:j(()=>[te(gn,{name:"check"})]),_:1})):Ye("",!0)]),_:1},8,["active"]),te(nb),te(hi,{header:""},{default:j(()=>[Ge(_e(o.t("models.sort.direction.name")),1)]),_:1}),te(Rt,{clickable:"",onClick:i[3]||(i[3]=l=>o.sortDirection="asc"),active:o.sortDirection==="asc"},{default:j(()=>[te(Nn,null,{default:j(()=>[Ge(_e(o.t("models.sort.direction.asc")),1)]),_:1}),o.sortDirection==="asc"?(J(),Ce(Nn,{key:0,side:""},{default:j(()=>[te(gn,{name:"check"})]),_:1})):Ye("",!0)]),_:1},8,["active"]),te(Rt,{clickable:"",onClick:i[4]||(i[4]=l=>o.sortDirection="desc"),active:o.sortDirection==="desc"},{default:j(()=>[te(Nn,null,{default:j(()=>[Ge(_e(o.t("models.sort.direction.desc")),1)]),_:1}),o.sortDirection==="desc"?(J(),Ce(Nn,{key:0,side:""},{default:j(()=>[te(gn,{name:"check"})]),_:1})):Ye("",!0)]),_:1},8,["active"])]),_:1})]),_:1},8,["label"])]),_:1},8,["modelValue","loading","placeholder"])]),te(o.ModelSelectorComponent,{"filtered-models":o.filteredModels,"current-slug":o.currentSlug,"search-query":o.searchQuery,onSelectModel:o.selectModel},null,8,["filtered-models","current-slug","search-query"])]),Le("div",sS,[o.isLoading?(J(),Te("div",lS,[te(kb,{color:"primary",size:"40"}),Le("div",uS,_e(o.t("models.loading")),1)])):o.error?(J(),Te("div",cS,[te(gn,{name:"error_outline",color:"negative",size:"40px"}),Le("div",dS,_e(o.error),1),te(di,{flat:"",color:"primary",label:o.t("models.back_to_models"),class:"q-mt-md",onClick:i[6]||(i[6]=l=>o.router.push("/models"))},null,8,["label"])])):o.selectedModel?(J(),Te(sn,{key:2},[o.selectedModel.metadata.deprecated_by?(J(),Ce(ab,{key:0,dense:"",class:"bg-warning text-black ellipsis","inline-actions":o.$q.screen.gt.md},{avatar:j(()=>[te(gn,{name:"warning"})]),action:j(()=>[(J(!0),Te(sn,null,Tn(o.selectedModel.metadata.deprecated_by,l=>(J(),Ce(di,{flat:"","text-color":"black",size:"sm",square:"","no-caps":"",key:l,color:"white",label:l,icon:"link",onClick:d=>o.selectModel(l)},null,8,["label","onClick"]))),128))]),default:j(()=>[Ge(" "+_e(o.t("models.warnings.deprecated"))+" ",1)]),_:1},8,["inline-actions"])):Ye("",!0),te(Os,{flat:"",square:"",class:"metadata-section bg-mixed-100 q-mb-md q-pa-md"},{default:j(()=>[te(Bi,null,{default:j(()=>{var l,d,f;return[Le("div",fS,[Le("div",null,[(l=o.selectedModel.metadata.endpoints)!=null&&l.includes("embedding")?(J(),Ce(gn,{key:0,class:"info-icon",name:"img:"+o.embeddingIcon},{default:j(()=>[te(xn,null,{default:j(()=>[Ge(_e(o.t("landing_page.embeddings")),1)]),_:1})]),_:1},8,["name"])):(d=o.selectedModel.metadata.endpoints)!=null&&d.includes("rank")?(J(),Ce(gn,{key:1,class:"info-icon",name:"img:"+o.rerankerIcon},{default:j(()=>[te(xn,null,{default:j(()=>[Ge(_e(o.t("landing_page.reranker")),1)]),_:1})]),_:1},8,["name"])):(f=o.selectedModel.metadata.endpoints)!=null&&f.includes("read")?(J(),Ce(gn,{key:2,class:"info-icon",name:"img:"+o.readerIcon},{default:j(()=>[te(xn,null,{default:j(()=>[Ge(_e(o.t("landing_page.reader")),1)]),_:1})]),_:1},8,["name"])):Ye("",!0),o.ccncOptions.includes(o.selectModelName)?(J(),Ce(gn,{key:3,class:"info-icon",name:"copyright"},{default:j(()=>[te(xn,null,{default:j(()=>[Ge(_e(o.t("landing_page.ccbync")),1)]),_:1})]),_:1})):Ye("",!0)])]),Le("h1",hS,_e(o.selectModelName),1),Le("div",gS,[Le("div",mS,_e(o.t(`embedding.${o.selectModelName.replace(".","")}_description`)),1),o.selectedModel.metadata.release_blog?(J(),Ce(di,{key:0,flat:"",label:o.t("models.metadata.release_blog"),square:"",to:o.selectedModel.metadata.release_blog,"icon-right":"arrow_forward",class:"col-auto bg-mixed-200",target:"_blank"},null,8,["label","to"])):Ye("",!0)])]}),_:1}),te(Bi,null,{default:j(()=>{var l;return[Le("div",pS,[Le("div",vS,_e(o.t("models.metadata.license")),1),te(Cn,{icon:o.ccncOptions.includes(o.selectModelName)?"copyright":"license",style:{"border-radius":"0"},size:"sm",class:"bg-mixed-200",color:"transparent",label:o.selectedModel.metadata.license},null,8,["icon","label"])]),Le("div",yS,[Le("div",_S,_e(o.t("models.metadata.release_date")),1),te(Cn,{icon:"calendar_month",style:{"border-radius":"0"},size:"sm",class:"bg-mixed-200",color:"transparent",label:o.selectedModel.metadata.release_date},{default:j(()=>[te(xn,null,{default:j(()=>[Ge(_e(o.t("models.metadata.release_date")),1)]),_:1})]),_:1},8,["label"])]),Le("div",bS,[Le("div",wS,_e(o.t("models.metadata.input_type")),1),(J(!0),Te(sn,null,Tn(o.selectedModel.metadata.input_type,d=>(J(),Ce(Cn,{square:"",style:{"border-radius":"0"},size:"sm",key:d,class:"bg-mixed-200",icon:o.getIconForInputType(d)},{default:j(()=>[Ge(_e(o.t(`models.input_type.${d}`)),1)]),_:2},1032,["icon"]))),128)),te(gn,{name:"arrow_forward",class:"text-dim"}),Le("div",xS,_e(o.t("models.metadata.output_type")),1),(J(!0),Te(sn,null,Tn(o.selectedModel.metadata.output_type,d=>(J(),Ce(Cn,{square:"",style:{"border-radius":"0"},size:"sm",key:d,class:"bg-mixed-200",icon:o.getIconForInputType(d)},{default:j(()=>[Ge(_e(o.t(`models.input_type.${d}`)),1)]),_:2},1032,["icon"]))),128))]),Le("div",kS,[Le("div",ES,_e(o.t("models.sections.model_details")),1),(J(!0),Te(sn,null,Tn(o.modelDetails,d=>(J(),Ce(Cn,{key:d.key,style:{"border-radius":"0"},size:"sm",class:"bg-mixed-200"},{default:j(()=>[Ge(_e(o.t(`models.sections.${d.key}`))+": "+_e(d.value),1)]),_:2},1024))),128))]),(l=o.selectedModel.metadata.language)!=null&&l.length?(J(),Te("div",SS,[Le("div",MS,_e(o.t("models.sections.language")),1),(J(!0),Te(sn,null,Tn(o.selectedModel.metadata.language,d=>(J(),Ce(Cn,{square:"",style:{"border-radius":"0"},size:"sm",key:d,class:"bg-mixed-200"},{default:j(()=>[Ge(_e(`${o.langcode2SingleEmoji(d)} ${o.mapLangCodeToLanguageName(d)}`),1)]),_:2},1024))),128))])):Ye("",!0),o.selectedModel.metadata.related_models&&o.selectedModel.metadata.related_models.length?(J(),Te("div",TS,[Le("div",CS,_e(o.t("models.metadata.related_models")),1),(J(!0),Te(sn,null,Tn(o.selectedModel.metadata.related_models,d=>(J(),Ce(Cn,{clickable:"",square:"",key:d,class:"bg-mixed-200",size:"sm",style:{"border-radius":"0"},onClick:f=>o.selectModel(d),icon:"link"},{default:j(()=>[Ge(_e(d),1)]),_:2},1032,["onClick"]))),128))])):Ye("",!0),Le("div",IS,[Le("div",AS,_e(o.t("models.sections.tags")),1),(J(!0),Te(sn,null,Tn(o.selectedModel.metadata.tags,d=>(J(),Ce(Cn,{size:"sm",style:{"border-radius":"0"},key:d,class:"bg-mixed-200"},{default:j(()=>[Ge(_e(d),1)]),_:2},1024))),128))])]}),_:1})]),_:1}),te(Os,{flat:"",square:"",class:"bg-mixed-100 q-mb-md q-pa-md"},{default:j(()=>[te(Bi,{class:"text-caption text-dim q-py-none"},{default:j(()=>[Ge(_e(o.t("models.sections.using_model")),1)]),_:1}),te(Bi,{class:"row q-col-gutter-sm q-pb-none"},{default:j(()=>[(J(!0),Te(sn,null,Tn(o.availableExternalLinks,l=>(J(),Ce(di,{"no-caps":"",flat:"",icon:l.icon,label:o.t(`models.metadata.${l.key}_link`),key:l.key,square:"",class:"ellipsis",href:l.link.startsWith("http")?l.link:void 0,to:l.link.startsWith("http")?void 0:l.link,target:"_blank"},null,8,["icon","label","href","to"]))),128))]),_:1})]),_:1}),te(o.ModelCompareTable,{"current-model":o.selectedModel,"all-models":o.models},null,8,["current-model","all-models"]),te(o.ResearchersComponent,{"model-name":o.selectModelName},null,8,["model-name"]),(J(),Te(sn,null,Tn(["overview","methods","performance","guidance"],l=>Le("div",{key:l,class:"q-py-lg"},[Le("h4",{class:"text-r-h4",id:l},_e(o.t(`models.sections.${l}.title`)),9,NS),Le("div",null,_e(o.t(`models.sections.${l}.${o.selectModelNameNormalized}`)),1)])),64)),Le("div",zS,_e(o.t("models.sections.blogs")),1),te(o.NewsFilterComponent,{initiating:o.initiating,"translated-all-blogs":o.translatedAllBlogs,"search-by-title":o.selectModelName,"per-page":5},null,8,["initiating","translated-all-blogs","search-by-title"])],64)):(J(),Te("div",PS,_e(o.t("models.select_model")),1))])],2)]),_:1})]),_:1})}const tM=Vo(tS,[["render",OS],["__file","ModelsPage.vue"]]);export{tM as default};
