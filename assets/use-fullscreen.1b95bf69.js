import{aV as J,N as P,aI as G,b8 as Q,z as k,b9 as $,aC as L,E as F,y as V,f as B,h as y,w as T,C as U,i as w,T as Z,bp as ee,D as W,J as te,bx as ne,by as oe,o as ie,K as re,x as se,bz as z}from"./index.99ef09c8.js";import{g as R,s as K}from"./touch.70a9dd44.js";import{c as ue}from"./selection.9784ff10.js";import{u as ae}from"./use-cache.b0833c75.js";function le(t){const i=[.06,6,50];return typeof t=="string"&&t.length&&t.split(":").forEach((d,a)=>{const r=parseFloat(d);r&&(i[a]=r)}),i}var ce=J({name:"touch-swipe",beforeMount(t,{value:i,arg:d,modifiers:a}){if(a.mouse!==!0&&P.has.touch!==!0)return;const r=a.mouseCapture===!0?"Capture":"",e={handler:i,sensitivity:le(d),direction:R(a),noop:G,mouseStart(n){K(n,e)&&Q(n)&&(k(e,"temp",[[document,"mousemove","move",`notPassive${r}`],[document,"mouseup","end","notPassiveCapture"]]),e.start(n,!0))},touchStart(n){if(K(n,e)){const s=n.target;k(e,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","notPassiveCapture"],[s,"touchend","end","notPassiveCapture"]]),e.start(n)}},start(n,s){P.is.firefox===!0&&$(t,!0);const p=L(n);e.event={x:p.left,y:p.top,time:Date.now(),mouse:s===!0,dir:!1}},move(n){if(e.event===void 0)return;if(e.event.dir!==!1){F(n);return}const s=Date.now()-e.event.time;if(s===0)return;const p=L(n),f=p.left-e.event.x,u=Math.abs(f),v=p.top-e.event.y,c=Math.abs(v);if(e.event.mouse!==!0){if(u<e.sensitivity[1]&&c<e.sensitivity[1]){e.end(n);return}}else if(u<e.sensitivity[2]&&c<e.sensitivity[2])return;const h=u/s,x=c/s;e.direction.vertical===!0&&u<c&&u<100&&x>e.sensitivity[0]&&(e.event.dir=v<0?"up":"down"),e.direction.horizontal===!0&&u>c&&c<100&&h>e.sensitivity[0]&&(e.event.dir=f<0?"left":"right"),e.direction.up===!0&&u<c&&v<0&&u<100&&x>e.sensitivity[0]&&(e.event.dir="up"),e.direction.down===!0&&u<c&&v>0&&u<100&&x>e.sensitivity[0]&&(e.event.dir="down"),e.direction.left===!0&&u>c&&f<0&&c<100&&h>e.sensitivity[0]&&(e.event.dir="left"),e.direction.right===!0&&u>c&&f>0&&c<100&&h>e.sensitivity[0]&&(e.event.dir="right"),e.event.dir!==!1?(F(n),e.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),ue(),e.styleCleanup=A=>{e.styleCleanup=void 0,document.body.classList.remove("non-selectable");const b=()=>{document.body.classList.remove("no-pointer-events--children")};A===!0?setTimeout(b,50):b()}),e.handler({evt:n,touch:e.event.mouse!==!0,mouse:e.event.mouse,direction:e.event.dir,duration:s,distance:{x:u,y:c}})):e.end(n)},end(n){e.event!==void 0&&(V(e,"temp"),P.is.firefox===!0&&$(t,!1),e.styleCleanup!==void 0&&e.styleCleanup(!0),n!==void 0&&e.event.dir!==!1&&F(n),e.event=void 0)}};if(t.__qtouchswipe=e,a.mouse===!0){const n=a.mouseCapture===!0||a.mousecapture===!0?"Capture":"";k(e,"main",[[t,"mousedown","mouseStart",`passive${n}`]])}P.has.touch===!0&&k(e,"main",[[t,"touchstart","touchStart",`passive${a.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,i){const d=t.__qtouchswipe;d!==void 0&&(i.oldValue!==i.value&&(typeof i.value!="function"&&d.end(),d.handler=i.value),d.direction=R(i.modifiers))},beforeUnmount(t){const i=t.__qtouchswipe;i!==void 0&&(V(i,"main"),V(i,"temp"),P.is.firefox===!0&&$(t,!1),i.styleCleanup!==void 0&&i.styleCleanup(),delete t.__qtouchswipe)}});const me={name:{required:!0},disable:Boolean},O={setup(t,{slots:i}){return()=>w("div",{class:"q-panel scroll",role:"tabpanel"},W(i.default))}},he={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},ye=["update:modelValue","beforeTransition","transition"];function xe(){const{props:t,emit:i,proxy:d}=U(),{getCacheWithFn:a}=ae();let r,e;const n=B(null),s=B(null);function p(o){const l=t.vertical===!0?"up":"left";g((d.$q.lang.rtl===!0?-1:1)*(o.direction===l?1:-1))}const f=y(()=>[[ce,p,void 0,{horizontal:t.vertical!==!0,vertical:t.vertical,mouse:!0}]]),u=y(()=>t.transitionPrev||`slide-${t.vertical===!0?"down":"right"}`),v=y(()=>t.transitionNext||`slide-${t.vertical===!0?"up":"left"}`),c=y(()=>`--q-transition-duration: ${t.transitionDuration}ms`),h=y(()=>typeof t.modelValue=="string"||typeof t.modelValue=="number"?t.modelValue:String(t.modelValue)),x=y(()=>({include:t.keepAliveInclude,exclude:t.keepAliveExclude,max:t.keepAliveMax})),A=y(()=>t.keepAliveInclude!==void 0||t.keepAliveExclude!==void 0);T(()=>t.modelValue,(o,l)=>{const m=E(o)===!0?q(o):-1;e!==!0&&I(m===-1?0:m<q(l)?-1:1),n.value!==m&&(n.value=m,i("beforeTransition",o,l),te(()=>{i("transition",o,l)}))});function b(){g(1)}function N(){g(-1)}function D(o){i("update:modelValue",o)}function E(o){return o!=null&&o!==""}function q(o){return r.findIndex(l=>l.props.name===o&&l.props.disable!==""&&l.props.disable!==!0)}function X(){return r.filter(o=>o.props.disable!==""&&o.props.disable!==!0)}function I(o){const l=o!==0&&t.animated===!0&&n.value!==-1?"q-transition--"+(o===-1?u.value:v.value):null;s.value!==l&&(s.value=l)}function g(o,l=n.value){let m=l+o;for(;m>-1&&m<r.length;){const S=r[m];if(S!==void 0&&S.props.disable!==""&&S.props.disable!==!0){I(o),e=!0,i("update:modelValue",S.props.name),setTimeout(()=>{e=!1});return}m+=o}t.infinite===!0&&r.length>0&&l!==-1&&l!==r.length&&g(o,o===-1?r.length:-1)}function M(){const o=q(t.modelValue);return n.value!==o&&(n.value=o),!0}function _(){const o=E(t.modelValue)===!0&&M()&&r[n.value];return t.keepAlive===!0?[w(ne,x.value,[w(A.value===!0?a(h.value,()=>({...O,name:h.value})):O,{key:h.value,style:c.value},()=>o)])]:[w("div",{class:"q-panel scroll",style:c.value,key:h.value,role:"tabpanel"},[o])]}function Y(){if(r.length!==0)return t.animated===!0?[w(Z,{name:s.value},_)]:_()}function j(o){return r=ee(W(o.default,[])).filter(l=>l.props!==null&&l.props.slot===void 0&&E(l.props.name)===!0),r.length}function H(){return r}return Object.assign(d,{next:b,previous:N,goTo:D}),{panelIndex:n,panelDirectives:f,updatePanelsList:j,updatePanelIndex:M,getPanelContent:Y,getEnabledPanels:X,getPanels:H,isValidPanelName:E,keepAliveProps:x,needsUniqueKeepAliveWrapper:A,goToPanelByOffset:g,goToPanel:D,nextPanel:b,previousPanel:N}}let C=0;const be={fullscreen:Boolean,noRouteFullscreenExit:Boolean},ge=["update:fullscreen","fullscreen"];function Pe(){const t=U(),{props:i,emit:d,proxy:a}=t;let r,e,n;const s=B(!1);oe(t)===!0&&T(()=>a.$route.fullPath,()=>{i.noRouteFullscreenExit!==!0&&u()}),T(()=>i.fullscreen,v=>{s.value!==v&&p()}),T(s,v=>{d("update:fullscreen",v),d("fullscreen",v)});function p(){s.value===!0?u():f()}function f(){s.value!==!0&&(s.value=!0,n=a.$el.parentNode,n.replaceChild(e,a.$el),document.body.appendChild(a.$el),C++,C===1&&document.body.classList.add("q-body--fullscreen-mixin"),r={handler:u},z.add(r))}function u(){s.value===!0&&(r!==void 0&&(z.remove(r),r=void 0),n.replaceChild(a.$el,e),s.value=!1,C=Math.max(0,C-1),C===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),a.$el.scrollIntoView!==void 0&&setTimeout(()=>{a.$el.scrollIntoView()})))}return ie(()=>{e=document.createElement("span")}),re(()=>{i.fullscreen===!0&&f()}),se(u),Object.assign(a,{toggleFullscreen:p,setFullscreen:f,exitFullscreen:u}),{inFullscreen:s,toggleFullscreen:p}}export{he as a,be as b,ge as c,ye as d,xe as e,Pe as f,me as u};
