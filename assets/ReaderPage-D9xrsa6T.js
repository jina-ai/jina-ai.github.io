import{Q as C,a as oe}from"./QBtnGroup-Ch52KmgK.js";import{h as de,aa as ce,i,j as me,N as ge,M as ye,ag as we,u as _e,aY as ve,az as xe,W as ue,b9 as qe,X as l,Y as h,Z as r,$ as t,a0 as w,a3 as c,l as u,al as g,a2 as v,a9 as B,af as x,a8 as _,a7 as a,a6 as O,a1 as W,a4 as be,aG as ne,a5 as Q,am as ke,aE as se,aF as le}from"./index-DaAiFtz2.js";import{Q as Se}from"./QPage-oXXAJZIx.js";import{u as Te}from"./useMetaTags-D9oh1CN4.js";import{T as Ce}from"./TitleBlock-Dk49IVy0.js";import{F as Be}from"./FAQComponent-DUI2fKc1.js";import{T as Re,b as N,R as je,S as Le}from"./SeFoComponent-VCKPBkM6.js";import{Q as U}from"./QTooltip-BRcesVy0.js";import{a as ie}from"./QLinearProgress-BH04L7YV.js";import{Q as Ae}from"./finetune-C7isW8Zz.js";import{c as Ie}from"./copy-to-clipboard-BXIFeX8O.js";import{u as Qe}from"./embedding-zlE40BTY.js";import{P as Ue}from"./PricingComponent-B7G9GuAU.js";import{H as ze}from"./H2TitleBlock-CYww3SzO.js";import{c as He}from"./QForm-BlJzVBGO.js";import"./QBadge-DESVaRm-.js";import"./QItemLabel-De0lfYja.js";import"./QList-CxvsSGyF.js";import"./QTable-D4KMnNJR.js";import"./use-fullscreen-DHUpGl_R.js";import"./QExpansionItem-CA74QkjW.js";import"./QTabs-DI1HCACl.js";import"./QResizeObserver-C6s24LQJ.js";import"./format-BNhGbgUz.js";import"./position-engine-DrDFCVcp.js";import"./QSpace-BtGN4skt.js";import"./orderBy-BTd8oflZ.js";import"./use-meta-DtFW13Es.js";import"./blogs-DjmUhFQ2.js";const De=de({__name:"ReaderSearchDemoComponent",props:{originalURL:{type:String,default:""},disableQA:{type:Boolean,default:!1},disableOriginalURL:{type:Boolean,default:!1}},setup(R,{expose:o}){o();const{t:y}=ce({useScope:"global"}),e=Qe(),p=i(""),q=i(!1),d=i(!1),n=_e(),b=["When was Jina AI founded?","What did Elon Musk say about Open AI recently?","When will the next SpaceX launch be?","What is the market cap of Apple today?","Who will win 2024 US presidential election?","Who is playing in the US Open final?"],j=()=>b[Math.floor(Math.random()*b.length)],k=i(null);let m=null;const L=R,z=i(L.originalURL||j()),G=me(()=>`https://s.jina.ai/${encodeURIComponent(z.value)}`),J=i(null),A=i(""),S=i(""),H=i(!1),D=i(!1),P=i(!1),E=i(!1),M=async s=>{var ee,te,ae;if(!await((ee=J.value)==null?void 0:ee.validate()))return Promise.reject();const V={parameters:{question:z.value,context:s?"":p.value.slice(0,3e3)}};s?(A.value="",H.value=!0,P.value=!0):(S.value="",D.value=!0,E.value=!0);const $="https://api.promptperfect.jina.ai/ERK3nqviaFRyfGbkBsXD";try{const f=await fetch($,{headers:{"content-type":"application/json"},body:JSON.stringify(V),method:"POST"});if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);if((te=f.headers.get("content-type"))!=null&&te.includes("text/event-stream")){if(f.body){const I=f.body.getReader(),pe=new TextDecoder;for(;;){const{done:fe,value:re}=await I.read();if(fe){s?P.value=!1:E.value=!1;break}re&&pe.decode(re).split(`

`).forEach(he=>{const F=he.replace(/data: /g,"");F&&(s?A.value+=F:S.value+=F)})}}}else if((ae=f.headers.get("content-type"))!=null&&ae.includes("application/json")){const I=(await f.json()).data;s?A.value=I:S.value=I}else throw new Error("Unknown response type")}catch(f){n.notify({color:"negative",message:y("landing_page.error",{message:f}),icon:"report_problem"})}finally{s?H.value=!1:D.value=!1}},K=async()=>{d.value=!0,S.value="";try{const s=await fetch(G.value,{method:"GET",headers:{Authorization:`Bearer ${e.apiKey}`}});if(!s.ok)throw p.value=`\`\`\`json
${await s.json()}
\`\`\``,new Error(`Request failed with status ${s.status}`);const T=await s.text();p.value=`\`\`\`plaintext
${T}
\`\`\``}catch(s){n.notify({message:s.message,color:"negative"})}finally{d.value=!1}},X=async()=>{await Promise.all([K(),M(!0)]),await M(!1)},Y=()=>{var T;const s=((T=k.value)==null?void 0:T.$el)||k.value;s instanceof HTMLElement?(m=new IntersectionObserver(V=>{V[0].isIntersecting&&(X().then(()=>{}),m==null||m.disconnect())},{root:null,threshold:.1}),m.observe(s)):console.error("Element is not an HTMLElement:",s)};ge(()=>{ye(()=>{setTimeout(()=>{Y()},100)})}),we(()=>{m&&m.disconnect()});const Z={t:y,embeddingStore:e,readerResult:p,isRawBusy:q,isReaderBusy:d,$q:n,randomURLs:b,randomURL:j,componentRef:k,get observer(){return m},set observer(s){m=s},props:L,originalURL:z,readerURL:G,questionRef:J,rawAnswerChunks:A,readerAnswerChunks:S,rawAnswerIsBusy:H,readerAnswerIsBusy:D,rawAnswerIsStreaming:P,readerAnswerIsStreaming:E,askQuestion:M,fetchReaderURL:K,fetchBothURL:X,initIntersectionObserver:Y,get copyToClipboard(){return Ie},get QInput(){return ve},TypingText:Re,get redirect(){return xe}};return Object.defineProperty(Z,"__isScriptSetup",{enumerable:!1,value:!0}),Z}}),Pe={class:"text-caption text-bold text-dim"},Ee={class:"text-caption text-bold text-dim"},Me={class:"text-caption text-bold text-dim"};function Ve(R,o,y,e,p,q){const d=qe("q-markdown");return l(),h(be,{bordered:"",flat:"",square:"",class:"col-12 col-md-10",ref:"componentRef"},{default:r(()=>[t(c,{horizontal:e.$q.screen.gt.sm},{default:r(()=>[y.disableOriginalURL?B("",!0):(l(),w(v,{key:0},[t(c,{class:"col"},{default:r(()=>[t(e.QInput,{modelValue:e.originalURL,"onUpdate:modelValue":o[1]||(o[1]=n=>e.originalURL=n),label:e.t("reader.demo.your_query"),type:"url",loading:e.isRawBusy,hint:e.t("reader.demo.your_query_hint"),ref:"questionRef"},{prepend:r(()=>[t(u,{dense:"",square:"",flat:"",icon:"casino",onClick:o[0]||(o[0]=n=>e.originalURL=e.randomURL())})]),_:1},8,["modelValue","label","loading","hint"])]),_:1}),t(g,{vertical:e.$q.screen.gt.sm},null,8,["vertical"])],64)),t(c,{class:"col"},{default:r(()=>[t(e.QInput,{"model-value":`https://s.jina.ai/${e.originalURL}`,label:e.t("reader.demo.reader_url"),readonly:"",loading:e.isReaderBusy,"bottom-slots":""},{append:r(()=>[t(u,{flat:"",dense:"",square:"",icon:"content_copy",onClick:o[2]||(o[2]=n=>e.copyToClipboard(e.readerURL))},{default:r(()=>[t(U,null,{default:r(()=>[x(_(e.t("copy")),1)]),_:1})]),_:1}),t(u,{flat:"",dense:"",square:"",icon:"open_in_new",onClick:o[3]||(o[3]=n=>e.redirect(e.readerURL))},{default:r(()=>[t(U,null,{default:r(()=>[x(_(e.t("demo.open")),1)]),_:1})]),_:1})]),hint:r(()=>[x(_(e.t("reader.demo.reader_search_hint")),1)]),_:1},8,["model-value","label","loading"])]),_:1})]),_:1},8,["horizontal"]),t(g),t(u,{square:"",label:e.t("reader.demo.ask_llm"),class:"full-width",icon:"contact_support",onClick:e.fetchBothURL,padding:"md"},null,8,["label"]),e.readerAnswerIsBusy||e.rawAnswerIsBusy||e.isReaderBusy||e.readerAnswerChunks||e.rawAnswerChunks?(l(),w(v,{key:0},[t(g),t(c,{horizontal:e.$q.screen.gt.sm,class:"q-pa-none"},{default:r(()=>[t(c,{class:"col answer-panel overflow-auto"},{default:r(()=>[a("span",Pe,_(e.t("reader.demo.ask_llm_directly")),1),e.rawAnswerIsBusy&&!e.rawAnswerChunks?(l(),h(c,{key:0},{default:r(()=>[t(O,{name:"img:https://promptperfect.jina.ai/PromptPerfect-dark.svg",class:"q-mr-sm"},{default:r(()=>[t(U,null,{default:r(()=>[x(_(e.t("landing_page.powered_by_promptperfect")),1)]),_:1})]),_:1}),(l(),w(v,null,W([0,1,2,3],n=>t(N,{key:n,class:"q-my-xs",width:n>0?"":"100px",type:"text"},null,8,["width"])),64))]),_:1})):(l(),w(v,{key:1},[t(c,{class:"q-pa-lg"},{default:r(()=>[t(e.TypingText,{text:e.rawAnswerChunks,loading:e.rawAnswerIsStreaming,"show-copy":!1},null,8,["text","loading"])]),_:1}),e.rawAnswerIsStreaming?(l(),h(ie,{key:0,class:"absolute-bottom",indeterminate:""})):B("",!0)],64))]),_:1}),t(g,{vertical:e.$q.screen.gt.sm},null,8,["vertical"]),t(c,{class:"col answer-panel overflow-auto"},{default:r(()=>[a("span",Ee,_(e.t("reader.demo.reader_response")),1),e.isReaderBusy?(l(),h(c,{key:0},{default:r(()=>[(l(),w(v,null,W([100,300,200,200],n=>t(N,{type:"text",width:`${n}px`,key:n},null,8,["width"])),64))]),_:1})):(l(),h(d,{key:1,src:e.readerResult,"copy-icon":"content_copy","no-line-numbers":""},null,8,["src"]))]),_:1}),t(g,{vertical:e.$q.screen.gt.sm},null,8,["vertical"]),t(c,{class:"col relative-position answer-panel overflow-auto"},{default:r(()=>[a("span",Me,_(e.t("reader.demo.ask_llm_with_search_grounding")),1),t(Ae,{label:e.t("reader.demo.waiting_for_reader"),showing:e.isReaderBusy},null,8,["label","showing"]),e.readerAnswerIsBusy&&!e.readerAnswerChunks?(l(),h(c,{key:0},{default:r(()=>[t(O,{name:"img:https://promptperfect.jina.ai/PromptPerfect-dark.svg",class:"q-mr-sm"},{default:r(()=>[t(U,null,{default:r(()=>[x(_(e.t("landing_page.powered_by_promptperfect")),1)]),_:1})]),_:1}),(l(),w(v,null,W([0,1,2,3],n=>t(N,{key:n,class:"q-my-xs",width:n>0?"":"100px",type:"text"},null,8,["width"])),64))]),_:1})):(l(),w(v,{key:1},[e.readerAnswerChunks?(l(),h(c,{key:0,class:"q-pa-lg"},{default:r(()=>[t(e.TypingText,{text:e.readerAnswerChunks,loading:e.readerAnswerIsStreaming,"show-copy":!1},null,8,["text","loading"])]),_:1})):B("",!0),e.readerAnswerIsStreaming?(l(),h(ie,{key:1,class:"absolute-bottom",indeterminate:""})):B("",!0)],64))]),_:1})]),_:1},8,["horizontal"])],64)):B("",!0),t(g),t(c,{class:"text-dim"},{default:r(()=>[t(O,{name:"info"}),x(" "+_(e.t("reader.demo.search_query_rewrite")),1)]),_:1})]),_:1},512)}const Fe=ue(De,[["render",Ve],["__scopeId","data-v-4c2e4c35"],["__file","ReaderSearchDemoComponent.vue"]]),Oe=de({__name:"ReaderPage",setup(R,{expose:o}){o();const{t:y}=ce({useScope:"global"}),e=i(!1);Te({page:"reader",banner:"banner-reader-api.png",url:"reader"});const p=_e(),q=[{label:"landing_page.get_api_now",icon:"code",anchor:"#apiform"},{label:"reader.demo.try_demo",icon:"play_arrow",anchor:"#demo"},{label:"landing_page.pricing",anchor:"#pricing",icon:"attach_money"}];function d(L){e.value=L,ne("#demo")}const n=me(()=>{switch(p.screen.name){case"xl":return"lg";case"lg":return"lg";case"md":return"md";case"sm":return"md";case"xs":return"md";default:return"sm"}}),b=i("https://example.com"),j=i("When was Jina AI founded?"),k=i("Jina AI was founded in 2020 in Berlin, Germany."),m={t:y,showSearchDemo:e,$q:p,titleButtons:q,moveToDemo:d,adaptiveSize:n,rawUrl:b,rawQuery:j,rawGroundingQuestion:k,get locateByHash(){return ne},TitleBlock:Ce,FAQComponent:Be,ReaderDemoComponent:je,ReaderSearchDemoComponent:Fe,PricingComponent:Ue,SeFoComponent:Le,H2TitleBlock:ze,RateLimitComponent:He};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}}),We="/assets/explain-EQrFe5k3.svg",Ne="/assets/explain3-CqNg2V0h.svg",Ge="/assets/explain5-CKbWV5a5.svg",Je="/assets/explain2-BYDhf_rF.svg",Ke="/assets/explain4-CPLfQrjf.png",Xe={class:"col-12 col-md-11 q-py-xl q-mx-xs-xs q-mx-sm-sm q-mx-md-md q-mx-lg-lg q-mx-xl-xl q-ma-xl relative-position"},Ye={class:"row justify-center"},Ze={class:"col-12 col-sm-11 col-md-10 q-pb-xl"},$e={class:"row justify-center items-center"},et={class:"col-11 col-md-8"},tt={class:"q-my-xl row justify-center items-center"},at={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},rt={class:"q-my-xl row justify-center items-center"},ot={class:"row justify-center items-center"},nt={class:"col-11 col-md-8"},st={class:"q-my-xl row justify-center items-center"},lt={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},it=["innerHTML"],dt={class:"q-my-xl row justify-center items-center"},ct={class:"row justify-center items-center"},mt={class:"col-11 col-md-8"},_t={class:"q-my-xl row justify-center items-center"},ut={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},pt=["innerHTML"],ft={class:"q-my-xl row justify-center items-center"},ht={class:"row justify-center items-center"},gt={class:"col-11 col-md-8"},yt={class:"q-my-xl row justify-center items-center"},wt={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},vt={class:"row q-py-xl justify-center items-center"},xt={class:"col-11 col-md-8"},qt={class:"q-my-xl row justify-center items-center"},bt={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},kt=["innerHTML"],St={class:"q-my-xl row justify-center"},Tt={class:"q-my-xl row justify-center items-center",id:"rate-limit"},Ct={class:"col-11 col-md-8 text-subtitle1 q-my-lg",style:{"white-space":"pre-line"}},Bt={class:"q-my-xl row justify-center items-center text-subtitle1"},Rt={class:"q-my-xl row justify-center items-center text-subtitle1"},jt={class:"q-my-xl row justify-center items-center"},Lt={class:"q-my-xl row justify-center items-center"};function At(R,o,y,e,p,q){return l(),h(Se,null,{default:r(()=>[a("div",{class:Q(["row justify-center items-center img-bg q-py-xl",e.$q.screen.lt.sm?"q-px-md":"q-px-xl"])},[a("div",Xe,[t(e.TitleBlock,{title:e.t("landing_page.reader"),tagline:e.t("reader.reader_description"),"large-title":!0,buttons:e.titleButtons},null,8,["title","tagline"])])],2),a("div",{class:Q(e.$q.screen.lt.sm?"q-pa-md":"q-pa-xl"),id:"apiform"},[t(e.H2TitleBlock,{title:"reader.title",subtitle:"reader.reader_description",anchor:"apiform"}),a("div",Ye,[a("div",Ze,[t(e.SeFoComponent,{"show-function":"reader","hide-others":!0})])])],2),a("div",{class:Q(e.$q.screen.lt.sm?"q-pa-md":"q-pa-xl"),id:"what_reader"},[t(e.H2TitleBlock,{title:"reader.what_is1",anchor:"what_reader"}),a("div",$e,[a("div",et,[t(C,{src:We})])]),a("div",tt,[a("div",at,_(e.t("reader.what_is_answer_long")),1)]),a("div",rt,[t(u,{label:e.t("reader.demo.show_read_demo"),icon:"play_arrow",outline:"",padding:"lg",square:"",onClick:o[0]||(o[0]=d=>e.moveToDemo(!1))},null,8,["label"])]),t(e.H2TitleBlock,{title:"reader.reader_do_search"}),a("div",ot,[a("div",nt,[t(C,{src:Ne})])]),a("div",st,[a("div",lt,[a("span",{innerHTML:e.t("reader.reader_do_search_explain")},null,8,it)])]),a("div",dt,[t(u,{label:e.t("reader.demo.show_search_demo"),icon:"play_arrow",outline:"",padding:"lg",square:"",onClick:o[1]||(o[1]=d=>e.moveToDemo(!0))},null,8,["label"])]),t(e.H2TitleBlock,{title:"reader.reader_do_grounding"}),a("div",ct,[a("div",mt,[t(C,{src:Ge})])]),a("div",_t,[a("div",ut,[a("span",{innerHTML:e.t("reader.reader_do_grounding_explain")},null,8,pt)])]),a("div",ft,[t(u,{label:e.t("reader.read_grounding_release_note"),outline:"",padding:"lg",square:"",to:"/news/fact-checking-with-new-grounding-api-in-jina-reader"},null,8,["label"])]),t(e.H2TitleBlock,{title:"reader.reader_reads_images"}),a("div",ht,[a("div",gt,[t(C,{src:Je})])]),a("div",yt,[a("div",wt,_(e.t("reader.reader_also_read_images")),1)]),t(e.H2TitleBlock,{title:"reader.reader_reads_pdf"}),a("div",vt,[a("div",xt,[t(C,{src:Ke})])]),a("div",qt,[a("div",bt,[a("span",{innerHTML:e.t("reader.reader_do_pdf_explain")},null,8,kt)])]),a("div",St,[t(oe,{flat:"",outline:"",square:""},{default:r(()=>[t(u,{label:e.t("reader.original_pdf"),href:"https://www.nasa.gov/wp-content/uploads/2023/01/55583main_vision_space_exploration2.pdf",outline:"",size:e.adaptiveSize,padding:e.adaptiveSize,square:"",target:"_blank",icon:"open_in_new"},null,8,["label","size","padding"]),t(g),t(u,{label:e.t("reader.reader_result"),href:"https://r.jina.ai/https://www.nasa.gov/wp-content/uploads/2023/01/55583main_vision_space_exploration2.pdf",outline:"",size:e.adaptiveSize,padding:e.adaptiveSize,square:"",target:"_blank",icon:"open_in_new"},null,8,["label","size","padding"])]),_:1})]),t(e.H2TitleBlock,{title:"reader.is_free",subtitle:"reader.is_free_description"}),a("div",Tt,[a("div",Ct,[t(e.RateLimitComponent)])]),a("div",Bt,_(e.t("reader.dont_panic_api_key_is_free")),1),a("div",Rt,[t(oe,{outline:"",square:""},{default:r(()=>[t(u,{label:e.t("get_new_key"),onClick:o[2]||(o[2]=d=>e.locateByHash("#apiform")),outline:"",size:e.adaptiveSize,padding:e.adaptiveSize,square:"",icon:"key"},null,8,["label","size","padding"]),t(g),t(u,{label:e.t("reader.check_price_table"),onClick:o[3]||(o[3]=d=>e.locateByHash("#pricing")),outline:"",size:e.adaptiveSize,padding:e.adaptiveSize,square:"",icon:"attach_money"},null,8,["label","size","padding"])]),_:1})])],2),a("div",{class:Q(e.$q.screen.lt.sm?"q-pa-md":"q-pa-xl"),id:"demo"},[t(e.H2TitleBlock,{title:"reader.demo.tagline",anchor:"demo"}),a("div",jt,[t(ke,{modelValue:e.showSearchDemo,"onUpdate:modelValue":o[4]||(o[4]=d=>e.showSearchDemo=d),size:"xl",label:e.showSearchDemo?e.t("reader.demo.show_read_demo"):e.t("reader.demo.show_search_demo"),"checked-icon":"search","unchecked-icon":"double_arrow"},null,8,["modelValue","label"])]),a("div",Lt,[se(t(e.ReaderSearchDemoComponent,null,null,512),[[le,e.showSearchDemo]]),se(t(e.ReaderDemoComponent,null,null,512),[[le,!e.showSearchDemo]])])],2),t(e.PricingComponent,{"hide-others":!0}),t(e.FAQComponent,{"faq-sources":["reader.faq_v1","api_general_faq","billing_general_faq"]})]),_:1})}const ca=ue(Oe,[["render",At],["__scopeId","data-v-6653f92d"],["__file","ReaderPage.vue"]]);export{ca as default};
