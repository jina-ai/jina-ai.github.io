import{bS as $e,c1 as ua,cT as ca,cE as ga,bX as pa,dv as ya,dw as ea,cJ as ha,bZ as ba,cQ as ka,cI as Ea,bU as wa,cM as Ta,j as ae,a2 as te,a3 as w,a4 as I,a5 as t,a6 as a,a7 as se,n as _e,a0 as ie,k as P,a9 as ee,af as y,ag as m,aM as pe,aq as J,bp as _a,q as Y,aD as De,aE as Me,W as ke,aa as X,a8 as $,aN as aa,aO as Ve,am as re,ae as E,ab as Q,du as ta,aQ as fe,aP as ce,ah as ne,ai as be,ad as N,c6 as Re,b9 as Pa,aL as qe,aj as he,u as Se,m as j,w as Be,ap as ue,b8 as ma,_ as n,av as Sa,s as Da,ax as Ra,p as ye,az as Aa,J as Va,V as Ka,b6 as Ia,b1 as Ue,aR as Oa,dx as Ke,aA as xa,ao as La,an as Ca,cf as Ma}from"./index-zL3tRP4S.js";import{Q as qa}from"./QBanner-3TxJtN1N.js";import{Q as Ba}from"./QPage-Bof8n9CV.js";import{K as de,E as G,g as ra}from"./se-fo-DW6NE9sV.js";import{d as Ua,a as Ne,u as me,Q as Na,b as ja}from"./use-dialog-plugin-component-5qqwWo1S.js";import{j as Fa,u as Ga,c as Qa,M as Ha,k as za,L as Ya,U as Wa,A as Ja,i as Za,E as Xa,a as $a,R as et,C as at,b as tt,I as rt,T as st,S as sa,B as ot,D as lt,e as nt}from"./BrowserInfoDialog-BBK_7RXo.js";import{P as it,Q as dt}from"./PurchaseTab-DyKP6WB_.js";import{Q as Z}from"./QTooltip-rOr1J_6a.js";import{c as oe,d as we,e as Te,f as je,Q as ut}from"./date-DqOjqs-X.js";import{u as Ee,A as ct,U as _t,R as mt}from"./finetune-bSDSqbfh.js";import{C as Fe}from"./ClosePopup-lBToP_C0.js";import{Q as ve,a as Ae,b as ft}from"./QLinearProgress-CZMKT_YC.js";import{Q as S}from"./QItemLabel-BZUeObbN.js";import{c as Le}from"./copy-to-clipboard-CHmUoJSJ.js";import{P as vt}from"./PurchaseDialog-MMGsGbcY.js";import{b as ge,Q as gt,a as pt}from"./QChip-bSz2DZ3m.js";import{Q as Pe}from"./QList-DPrPaJ0i.js";import{t as oa,c as yt,L as ht}from"./LoginDialog-Bu6-E0Nh.js";import{t as la}from"./toNumber-6OyR-AXe.js";import{a as bt,c as kt}from"./_setToArray-CzUfcUcF.js";import{a as Et,c as wt,f as Tt,o as Pt}from"./orderBy-CN8jq2RG.js";import{_ as St}from"./dynamic-import-helper-BheWnx7M.js";import{Q as Dt}from"./QForm-YIGuHB4u.js";import{C as Rt}from"./ChatComponent-BDc44RQs.js";import{u as na}from"./useMetaTags-BK9Hm0GV.js";import{u as At}from"./useModels-DT2D7_8o.js";import{C as Vt}from"./ContactSalesForm-Fc8W64je.js";import"./QMenu-B_MxaVfu.js";import"./position-engine-CtQ7raDG.js";import"./blogs-Drd1BW0S.js";import"./VideoDialog--G97_GnW.js";import"./TouchPan-DXt4lpDL.js";import"./touch-BjYP5sR0.js";import"./QTab-DzUpT9wg.js";import"./QTabs-B397Y22X.js";import"./QResizeObserver-ZuVWa1Cs.js";import"./QBtnDropdown-Dk9OOpOI.js";import"./QSpinnerRings-BoPdUkK7.js";import"./QExpansionItem-DcLOfGxt.js";import"./use-fullscreen-J8uCXOd9.js";import"./package-D9JPNs5w.js";import"./isSymbol-BqLdJ3nf.js";import"./QScrollObserver-r6_uZ3T9.js";import"./QSpinnerDots-BatKPZ05.js";var ia=$e?$e.isConcatSpreadable:void 0;function Kt(i){return ua(i)||ca(i)||!!(ia&&i&&i[ia])}function It(i,o,s,e,c){var _=-1,r=i.length;for(s||(s=Kt),c||(c=[]);++_<r;){var l=i[_];s(l)&&Et(c,l)}return c}var Ie=function(){return ga.Date.now()},Ot="Expected a function",xt=Math.max,Lt=Math.min;function Ct(i,o,s){var e,c,_,r,l,d,v=0,k=!1,T=!1,V=!0;if(typeof i!="function")throw new TypeError(Ot);o=la(o)||0,pa(s)&&(k=!!s.leading,T="maxWait"in s,_=T?xt(la(s.maxWait)||0,o):_,V="trailing"in s?!!s.trailing:V);function f(C){var p=e,K=c;return e=c=void 0,v=C,r=i.apply(K,p),r}function b(C){return v=C,l=setTimeout(h,o),k?f(C):r}function x(C){var p=C-d,K=C-v,g=o-p;return T?Lt(g,_-K):g}function D(C){var p=C-d,K=C-v;return d===void 0||p>=o||p<0||T&&K>=_}function h(){var C=Ie();if(D(C))return L(C);l=setTimeout(h,x(C))}function L(C){return l=void 0,V&&e?f(C):(e=c=void 0,r)}function R(){l!==void 0&&clearTimeout(l),v=0,e=d=c=l=void 0}function M(){return l===void 0?r:L(Ie())}function F(){var C=Ie(),p=D(C);if(e=arguments,c=this,d=C,p){if(l===void 0)return b(d);if(T)return clearTimeout(l),l=setTimeout(h,o),f(d)}return l===void 0&&(l=setTimeout(h,o)),r}return F.cancel=R,F.flush=M,F}var Mt=200;function qt(i,o,s,e){var c=-1,_=Ua,r=!0,l=i.length,d=[],v=o.length;if(!l)return d;o.length>=Mt&&(_=kt,r=!1,o=new bt(o));e:for(;++c<l;){var k=i[c],T=k;if(k=k!==0?k:0,r&&T===T){for(var V=v;V--;)if(o[V]===T)continue e;d.push(k)}else _(o,T,e)||d.push(k)}return d}var Bt=ya(function(i,o){return ea(i)?qt(i,It(o,1,ea)):[]}),Ut="[object Map]",Nt="[object Set]",jt=Object.prototype,Ft=jt.hasOwnProperty;function Gt(i){if(i==null)return!0;if(ha(i)&&(ua(i)||typeof i=="string"||typeof i.splice=="function"||ba(i)||ka(i)||ca(i)))return!i.length;var o=wt(i);if(o==Ut||o==Nt)return!i.size;if(Ea(i))return!Tt(i).length;for(var s in i)if(Ft.call(i,s))return!1;return!0}var Qt="[object Number]";function Ht(i){return typeof i=="number"||wa(i)&&Ta(i)==Qt}function zt(i){return Ht(i)&&i!=+i}const Yt=ae({__name:"ContainedPurchaseTab",setup(i,{expose:o}){o();const s={PurchaseTab:it};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}});function Wt(i,o,s,e,c,_){return w(),I(se,{flat:"",class:"column no-wrap full-height"},{default:t(()=>[a(e.PurchaseTab)]),_:1})}const Jt=te(Yt,[["render",Wt],["__file","ContainedPurchaseTab.vue"]]),Zt=ae({__name:"AddKeyDialog",setup(i,{expose:o}){o();const s=_e(),{t:e}=ie({useScope:"global"}),{dialogRef:c,onDialogOK:_}=Ne(),r=me(),l=Ee(),d=P(""),v=P(!1),k=P(!0),T=P(""),V=P(!0),b={$q:s,t:e,dialogRef:c,onDialogOK:_,embeddingStore:r,apiKeyStore:l,apiKey:d,isBusy:v,isKeyValid:k,errorMsg:T,isPwd:V,onAdd:async()=>{if(d.value.trim()===""){k.value=!1,T.value=e("key_manager.invalid_key");return}try{v.value=!0,await r.getKeyInfo(d.value)?await l.addKey(d.value)?(s.notify({message:e("key_manager.add_success",{_key:oe(d.value)}),icon:"done"}),_()):(k.value=!1,T.value=e("key_manager.existing_key")):(k.value=!1,T.value=e("key_manager.invalid_key"))}catch(x){k.value=!1,T.value=x instanceof Error?x.message:String(x)}finally{v.value=!1}},get KEY_ACTIONS(){return de}};return Object.defineProperty(b,"__isScriptSetup",{enumerable:!1,value:!0}),b}});function Xt(i,o,s,e,c,_){return w(),I(Me,{ref:"dialogRef",persistent:""},{default:t(()=>[a(se,{flat:"",square:"",class:"bg-mixed-200 q-pa-md"},{default:t(()=>[a(ee,null,{default:t(()=>[y(m(e.t("key_manager.add_key_explain")),1)]),_:1}),a(ee,{class:"flex justify-center"},{default:t(()=>[a(pe,{modelValue:e.apiKey,"onUpdate:modelValue":o[1]||(o[1]=r=>e.apiKey=r),autofocus:"",filled:"",square:"",clearable:"",class:"full-width","input-class":"ellipsis",label:e.t("key_manager.add"),error:!e.isKeyValid,"error-message":e.errorMsg,type:e.isPwd?"password":"text",style:{width:"400px"}},{prepend:t(()=>[a(J,{name:"o_key"})]),append:t(()=>[a(J,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:o[0]||(o[0]=r=>e.isPwd=!e.isPwd)},null,8,["name"])]),_:1},8,["modelValue","label","error","error-message","type"])]),_:1}),a(_a,{align:"left"},{default:t(()=>[a(Y,{flat:"",square:"",label:e.t("key_manager.generate_new_key"),disable:e.isBusy,onClick:o[2]||(o[2]=r=>e.onDialogOK(e.KEY_ACTIONS.GENERATE))},{default:t(()=>[a(Z,null,{default:t(()=>[y(m(e.t("key_manager.generate_new_key_tooltip")),1)]),_:1})]),_:1},8,["label","disable"]),a(Na),De(a(Y,{flat:"",square:"",label:e.t("key_manager.cancel")},null,8,["label"]),[[Fe]]),a(Y,{flat:"",square:"",label:e.t("key_manager.ok"),color:"primary",loading:e.isBusy,onClick:e.onAdd},null,8,["label","loading"])]),_:1})]),_:1})]),_:1},512)}const $t=te(Zt,[["render",Xt],["__file","AddKeyDialog.vue"]]),er=ae({__name:"UsageChart",props:{apiKey:{},usage:{}},setup(i,{expose:o}){const s=i,e=()=>{var D;const _=document.getElementById(`usage_${s.apiKey._id}`),r=_.getContext("2d"),l=window.devicePixelRatio||1,d=_==null?void 0:_.clientWidth,v=_==null?void 0:_.clientHeight;_.width=d*l,_.height=v*l,r.scale(l,l);const k=new Date,T=Array.from({length:7},(h,L)=>{const R=new Date(k);return R.setDate(R.getDate()-L),we.formatDate(R,"YYYY-MM-DD")}).reverse(),V=(D=s.usage)==null?void 0:D.reduce((h,L)=>{if(L.type==="consume"){const R=we.formatDate(L.created_at,"YYYY-MM-DD");h[R]=(h[R]||0)+L.quantity}return h},{}),f=T.map(h=>(V==null?void 0:V[h])||0),b=v;let x=Math.max(...f);x===0&&(x=1),r.clearRect(0,0,_.width,_.height),r.beginPath(),r.moveTo(0,b-f[0]/x*b),f.forEach((h,L)=>{const R=d/(f.length-1)*L,M=b-h/x*b;r.lineTo(R,M)}),r.strokeStyle="#81E3EE",r.lineWidth=1,r.stroke(),r.shadowColor="rgba(129, 227, 238, 0.5)",r.shadowBlur=10,r.shadowOffsetX=0,r.shadowOffsetY=0,r.beginPath(),r.moveTo(0,b),f.forEach((h,L)=>{const R=d/(f.length-1)*L,M=b-h/x*b;r.lineTo(R,M)}),r.lineTo(d,b),r.closePath(),r.fillStyle="rgba(129, 227, 238, 0.2)",r.fill()};o({initChart:e}),ke(()=>{e()});const c={props:s,initChart:e};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),ar={style:{width:"100%",height:"100%",padding:"12px 24px",position:"relative"}},tr=["id"];function rr(i,o,s,e,c,_){return w(),X("div",ar,[$("canvas",{id:`usage_${s.apiKey._id}`,style:{width:"100%",height:"100%"}},null,8,tr)])}const sr=te(er,[["render",rr],["__file","UsageChart.vue"]]),or=ae({__name:"UsageReminderItem",props:aa({apiKey:{},isPaidKey:{type:Boolean}},{email:{type:String},emailModifiers:{},autoReminder:{type:Boolean},autoReminderModifiers:{},thresholds:{type:Array},thresholdsModifiers:{}}),emits:aa(["update"],["update:email","update:autoReminder","update:thresholds"]),setup(i,{expose:o,emit:s}){o();const e=i,c=s,_=Ve(i,"email"),r=Ve(i,"autoReminder"),l=Ve(i,"thresholds"),{t:d}=ie({useScope:"global"}),v=_e(),k=me(),T=Ee(),{isBusyState:V}=re(T),f=P([{label:"10M",value:1e7},{label:"100M",value:1e8},{label:"1B",value:1e9}]),b=P(f.value),x=P(!1),D=(g,u)=>{const A=Number(g);if(g.length>0&&!zt(A)&&l.value.length<3){if(A<0||A>1e12){x.value=!0;return}x.value=!1;const B={label:Te(A),value:A};f.value.some(O=>O.value===A)||f.value.push(B),u(B,"toggle")}},h=g=>{g===""?b.value=f.value:b.value=f.value.filter(u=>u.value===Number(g)||u.label===g).concat()},L=(g,u)=>{u(()=>h(g))},R=async g=>{var A,B;const u=g||_.value;if((A=l.value)!=null&&A.length&&u){V.value.add(e.apiKey);try{await k.setBalanceNotification(e.apiKey,{email:u,thresholds:((B=l.value)==null?void 0:B.slice(0,3))||[]})}finally{V.value.delete(e.apiKey)}c("update")}},M=async g=>{!g||!oa(g)||g===_.value||R(g)},F=Ct(()=>{R()},1e3),C=g=>{var A,B,O;const u=(A=l.value)==null?void 0:A.indexOf(g);u===void 0||u<0||((B=l.value)==null||B.splice(u,1),(O=l.value)!=null&&O.length&&R())},p=g=>{var u;!g&&((u=l.value)!=null&&u.length)&&_.value&&v.dialog({title:d("key_manager.auto_reminder_cancel_title"),message:d("key_manager.auto_reminder_cancel_message"),cancel:!0}).onOk(async()=>{r.value=g,V.value.add(e.apiKey);try{await k.cancelBalanceNotification(e.apiKey)?l.value=[]:r.value=!g}finally{V.value.delete(e.apiKey)}c("update")}).onCancel(()=>{r.value=!0})};ke(()=>{const g=Bt(l.value,f.value.map(u=>u.value));g.length&&(f.value.push(...g.map(u=>({label:Te(u),value:u}))),f.value=Pt(f.value,"value","asc"))});const K={props:e,emit:c,email:_,autoReminder:r,thresholds:l,t:d,$q:v,embeddingStore:k,apiKeyStore:T,isBusyState:V,allOptions:f,filterOptions:b,hasError:x,createValue:D,updateFilterOptions:h,filterFn:L,saveConfig:R,saveEmail:M,saveThresholds:F,removeThreshold:C,updateAutoReminder:p,get QPopupEdit(){return Fa},get QSelect(){return ve},get testEmail(){return oa},get formatNumberShort(){return Te}};return Object.defineProperty(K,"__isScriptSetup",{enumerable:!1,value:!0}),K}}),lr={class:"ellipsis"};function nr(i,o,s,e,c,_){return w(),I(N,{clickable:"","click.stop":""},{default:t(()=>[e.$q.screen.gt.sm?(w(),I(E,{key:0,avatar:""},{default:t(()=>[a(J,{name:"alarm_smart_wake"})]),_:1})):Q("",!0),a(E,null,{default:t(()=>[a(S,{class:"text-bold"},{default:t(()=>[y(m(e.t("key_manager.auto_reminder"))+" ",1),a(J,{name:s.isPaidKey?"verified":"lock"},{default:t(()=>[a(Z,null,{default:t(()=>[y(m(e.t("key_manager.advanced_feature")),1)]),_:1})]),_:1},8,["name"])]),_:1}),a(S,{caption:"",lines:"2"},{default:t(()=>[y(m(e.t("key_manager.auto_reminder_description"))+" ",1),a(Z,{"max-width":"40rem"},{default:t(()=>[y(m(e.t("key_manager.auto_reminder_description")),1)]),_:1})]),_:1}),e.autoReminder?(w(),I(S,{key:0,class:"cursor-pointer"},{default:t(()=>[y(m(e.t("key_manager.auto_reminder_email"))+": ",1),$("b",null,m(e.email),1),s.isPaidKey&&e.autoReminder?(w(),I(J,{key:0,name:"edit",size:"20px",class:"on-right",color:"primary"})):Q("",!0),a(e.QPopupEdit,{modelValue:e.email,"onUpdate:modelValue":o[0]||(o[0]=r=>e.email=r),buttons:"","label-set":e.t("key_manager.save"),"label-cancel":e.t("key_manager.cancel"),validate:e.testEmail,disable:!e.autoReminder,onSave:e.saveEmail},{default:t(r=>[a(pe,{modelValue:r.value,"onUpdate:modelValue":l=>r.value=l,dense:"",autofocus:"",rules:[l=>e.testEmail(l)||e.t("key_manager.invalid_email")],label:e.t("key_manager.auto_reminder_email"),onKeyup:ta(fe(r.set,["stop"]),["enter"])},null,8,["modelValue","onUpdate:modelValue","rules","label","onKeyup"])]),_:1},8,["modelValue","label-set","label-cancel","validate","disable"])]),_:1})):Q("",!0)]),_:1}),a(E,{side:""},{default:t(()=>[a(ce,{modelValue:e.autoReminder,"onUpdate:modelValue":[o[1]||(o[1]=r=>e.autoReminder=r),e.updateAutoReminder],color:"primary",disable:!s.isPaidKey,"checked-icon":"check","unchecked-icon":"close"},{default:t(()=>[a(Z,null,{default:t(()=>[y(m(e.t("key_manager.auto_reminder_toggle")),1)]),_:1})]),_:1},8,["modelValue","disable"])]),_:1}),a(E,{side:""},{default:t(()=>[a(e.QSelect,{square:"",outline:"","use-input":"","use-chips":"",multiple:"","emit-value":"","map-options":"","new-value-mode":"add",style:{"max-width":"160px"},modelValue:e.thresholds,"onUpdate:modelValue":[o[2]||(o[2]=r=>e.thresholds=r),e.saveThresholds],"max-values":3,error:e.hasError,"error-message":e.t("key_manager.auto_reminder_threshold_error"),label:e.t("key_manager.auto_reminder_threshold"),disable:!e.autoReminder,options:e.filterOptions,onNewValue:e.createValue,onFilter:e.filterFn,onKeyup:o[3]||(o[3]=ta(fe(()=>{},["stop"]),["enter"]))},{selected:t(()=>[(w(!0),X(ne,null,be(e.thresholds,r=>(w(),I(ge,{dense:"",key:r,square:"",removable:"","text-color":"primary",class:"bg-mixed-300",onRemove:l=>e.removeThreshold(r)},{default:t(()=>{var l;return[$("div",lr,m(`< ${((l=e.allOptions.find(d=>d.value===r))==null?void 0:l.label)||e.formatNumberShort(r)} ${e.t("embedding.tokens")}`),1),a(Z,null,{default:t(()=>[y(m(r),1)]),_:2},1024)]}),_:2},1032,["onRemove"]))),128))]),option:t(r=>[a(N,Re(r.itemProps,{clickable:""}),{default:t(()=>[a(E,null,{default:t(()=>[a(S,null,{default:t(()=>[y(m(`< ${r.opt.label} ${e.t("embedding.tokens")}`)+" ",1),a(Z,null,{default:t(()=>[y(m(r.opt.value),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","error","error-message","label","disable","options","onUpdate:modelValue"])]),_:1})]),_:1})}const ir=te(or,[["render",nr],["__file","UsageReminderItem.vue"]]),dr=ae({__name:"RevokeKeyDialog",props:{apiKey:{},isPremiumKey:{type:Boolean}},setup(i,{expose:o}){o();const{t:s}=ie({useScope:"global"}),{dialogRef:e,onDialogOK:c}=Ne(),_=Ee(),{keys:r,keysInfoCache:l}=re(_),d=P(""),v=P(!1),k=P(""),V={t:s,dialogRef:e,onDialogOK:c,apiKeyStore:_,keys:r,keysInfoCache:l,confirmKey:d,withTransfer:v,transferKey:k,onConfirm:async()=>{v.value&&k.value?c(k.value):c()},get formatKey(){return oe}};return Object.defineProperty(V,"__isScriptSetup",{enumerable:!1,value:!0}),V}});function ur(i,o,s,e,c,_){return w(),I(Me,{ref:"dialogRef"},{default:t(()=>[a(se,{flat:"",square:"",class:"bg-mixed-200 q-pa-md"},{default:t(()=>[a(ee,{class:"text-h6"},{default:t(()=>[y(m(e.t("key_manager.revoke")),1)]),_:1}),a(ee,null,{default:t(()=>[$("div",null,m(e.t("key_manager.revoke_message")),1),a(pe,{autofocus:"",filled:"",square:"",class:"q-mt-md",modelValue:e.confirmKey,"onUpdate:modelValue":o[0]||(o[0]=r=>e.confirmKey=r),rules:[r=>r===s.apiKey||e.t("key_manager.revoke_error")],label:e.t("key_manager.revoke_label")},{prepend:t(()=>[a(J,{name:"o_key"})]),_:1},8,["modelValue","rules","label"]),s.isPremiumKey?(w(),I(Pa,{key:0,modelValue:e.withTransfer,"onUpdate:modelValue":o[1]||(o[1]=r=>e.withTransfer=r),label:e.t("key_manager.transfer_before_revoke")},null,8,["modelValue","label"])):Q("",!0),s.isPremiumKey&&e.withTransfer?(w(),I(ve,{key:1,square:"",filled:"","emit-value":"",clearable:"",modelValue:e.transferKey,"onUpdate:modelValue":o[2]||(o[2]=r=>e.transferKey=r),options:e.keys.filter(r=>r.key!==s.apiKey&&e.keysInfoCache[r.key].user_id),"option-value":r=>r.key,label:e.t("key_manager.transfer_label")},qe({"no-option":t(()=>[a(N,null,{default:t(()=>[a(E,null,{default:t(()=>[a(S,null,{default:t(()=>[y(m(e.t("key_manager.no_transferable_keys")),1)]),_:1})]),_:1})]),_:1})]),option:t(r=>[a(N,Re(r.itemProps,{clickable:""}),{default:t(()=>[a(E,{side:""},{default:t(()=>[a(J,{name:"o_key",class:he({"golden-foil":e.apiKeyStore.isPremiumPaidKey(r.opt.key),"silver-foil":e.apiKeyStore.isPaidKey(r.opt.key)})},null,8,["class"])]),_:2},1024),a(E,null,{default:t(()=>[a(S,null,{default:t(()=>[$("code",null,m(e.formatKey(r.opt.key)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},[e.transferKey?{name:"selected",fn:t(()=>[a(ge,{label:e.formatKey(e.transferKey),dense:"","text-color":"primary",class:"bg-mixed-300"},null,8,["label"])]),key:"0"}:void 0]),1032,["modelValue","options","option-value","label"])):Q("",!0)]),_:1}),a(_a,{align:"right"},{default:t(()=>[De(a(Y,{flat:"",label:e.t("key_manager.cancel")},null,8,["label"]),[[Fe]]),a(Y,{flat:"",label:e.t("key_manager.ok"),color:"primary",disable:e.confirmKey!==s.apiKey,onClick:e.onConfirm},null,8,["label","disable"])]),_:1})]),_:1})]),_:1},512)}const cr=te(dr,[["render",ur],["__file","RevokeKeyDialog.vue"]]),_r=ae({__name:"SettingsDialog",props:{apiKey:{}},setup(i,{expose:o}){o();const s=i,e=_e(),{t:c}=ie({useScope:"global"}),{dialogRef:_,onDialogOK:r}=Ne(),l=Se(),{user:d}=re(l),v=Ee(),{isBusyState:k,keys:T,primaryKey:V,keysInfoCache:f}=re(v),b=P(),x=P(!1),D=P(""),h=P([]),L=P(!0),R=P(1e6),M=P(""),F=j(()=>!v.isFreeKey(s.apiKey)),C=j(()=>v.isPremiumPaidKey(s.apiKey)),p=j(()=>{var U;return F.value&&!!((U=b.value)!=null&&U.metadata.auto_recharge)}),K=j(()=>{var U;return!!((U=b==null?void 0:b.value)!=null&&U.user_id)}),g=j(()=>!K.value||k.value.has(s.apiKey)),u=async()=>{await v.getKeyInfo(s.apiKey,!0),A()},A=async()=>{var U,le,Ge,Qe,He,ze,Ye,We,Je,Ze,Xe;b.value=f.value[s.apiKey],x.value=!Gt((le=(U=b.value)==null?void 0:U.wallet)==null?void 0:le.metadata),D.value=((He=(Qe=(Ge=b.value)==null?void 0:Ge.wallet)==null?void 0:Qe.metadata)==null?void 0:He.notification_email)||d.value.email||"",h.value=((We=(Ye=(ze=b.value)==null?void 0:ze.wallet)==null?void 0:Ye.metadata)==null?void 0:We.notification_thresholds)||[],L.value=((Je=b.value)==null?void 0:Je.metadata.auto_recharge)||!1,R.value=((Xe=(Ze=b.value)==null?void 0:Ze.metadata)==null?void 0:Xe.threshold)||1e6};A();const B=()=>{if(V.value===s.apiKey&&T.value.length===1){e.notify({message:c("key_manager.remove_primary_key"),color:"negative",icon:"error"});return}e.dialog({title:c("key_manager.remove_title"),message:c("key_manager.remove_message"),cancel:!0,persistent:!0}).onOk(async()=>{var U;await v.removeKey(s.apiKey),e.notify({message:c("key_manager.remove_success",{_key:oe(s.apiKey)}),icon:"done"}),V.value===s.apiKey&&v.setPrimaryKey(T.value[0].key),(U=_.value)==null||U.hide()})},O=()=>{if(V.value===s.apiKey&&T.value.length===1){e.notify({message:c("key_manager.remove_primary_key"),color:"negative",icon:"error"});return}e.dialog({component:cr,componentProps:{apiKey:s.apiKey,isPremiumKey:C.value}}).onOk(U=>{r({action:de.REVOKE,key:s.apiKey,transferTo:U})})},q=U=>{var le;U&&e.dialog({title:c("key_manager.transfer_title"),message:`<div>
    ${c("key_manager.transfer_message",{_tokens:"<b>"+je(((le=b.value)==null?void 0:le.wallet.regular_balance)||0)+"</b>",_source:'<code class="bg-mixed-300">'+oe(s.apiKey)+"</code>",_target:'<code class="bg-mixed-300">'+oe(M.value)+" </code>"})}
      <div>`,html:!0,cancel:!0,persistent:!0}).onOk(async()=>{r({action:de.TRANSFER,source:s.apiKey,target:M.value})})},W=P(!1),H=()=>{!s.apiKey||W.value||(Le(s.apiKey).then(()=>{e.notify({message:c("copy_to_clipboard_success"),icon:"done"}),W.value=!0,gtag==null||gtag("event","embedding_copy_api_key",{location:document.location.href})}),setTimeout(()=>{W.value=!1},1800))};Be(()=>f.value[s.apiKey],()=>{A()});const z={props:s,$q:e,t:c,dialogRef:_,onDialogOK:r,userStore:l,user:d,apiKeyStore:v,isBusyState:k,keys:T,primaryKey:V,keysInfoCache:f,apiKeyInfo:b,autoReminder:x,email:D,reminderThresholds:h,autoRecharge:L,rechargeThreshold:R,transferKey:M,isPaidKey:F,isPremiumPaidKey:C,isAutoCharge:p,isInputApiKeyValid:K,isInputApiKeyDisabled:g,getKeyInfo:u,init:A,onRemove:B,onRevoke:O,onTransfer:q,isApiKeyCopyDone:W,copyApiKey:H,get formatKey(){return oe},AutoRechargeItem:ct,UsageReminderItem:ir};return Object.defineProperty(z,"__isScriptSetup",{enumerable:!1,value:!0}),z}});function mr(i,o,s,e,c,_){return w(),I(Me,{ref:"dialogRef",onBeforeShow:e.getKeyInfo},{default:t(()=>[a(se,{class:"bg-mixed-200",flat:"",square:"",style:{width:"900px","max-width":"80vw"}},{default:t(()=>[a(ee,null,{default:t(()=>[a(N,null,{default:t(()=>[e.$q.screen.gt.sm?(w(),I(E,{key:0,avatar:""},{default:t(()=>[a(J,{name:"settings"})]),_:1})):Q("",!0),a(E,null,{default:t(()=>[a(S,{class:"text-bold"},{default:t(()=>[y(m(e.t("key_manager.settings")),1)]),_:1}),a(S,{caption:"",style:{"font-family":"monospace"},lines:"1",class:"text-primary cursor-pointer",onClick:e.copyApiKey},{default:t(()=>[a(ge,{icon:"o_key",label:e.formatKey(e.props.apiKey),square:"",size:"sm",class:"bg-mixed-300"},null,8,["label"])]),_:1})]),_:1}),a(E,{side:""},{default:t(()=>[De(a(Y,{icon:"close",flat:"",round:"",dense:""},null,512),[[Fe]])]),_:1})]),_:1})]),_:1}),a(ue),e.isBusyState.has(s.apiKey)?(w(),I(Ae,{key:0,indeterminate:"",size:"1px"})):Q("",!0),a(ee,null,{default:t(()=>[a(Pe,{class:"q-gutter-y-sm"},{default:t(()=>[a(e.AutoRechargeItem,{"api-key":s.apiKey,"api-key-info":e.apiKeyInfo,"is-paid-key":e.isPaidKey,"is-auto-charge":e.isAutoCharge,mode:"dashboard","auto-recharge":e.autoRecharge,"onUpdate:autoRecharge":o[0]||(o[0]=r=>e.autoRecharge=r),"recharge-threshold":e.rechargeThreshold,"onUpdate:rechargeThreshold":o[1]||(o[1]=r=>e.rechargeThreshold=r),disable:e.isInputApiKeyDisabled,"navigate-to-purchase":!0,onUpdate:e.getKeyInfo},null,8,["api-key","api-key-info","is-paid-key","is-auto-charge","auto-recharge","recharge-threshold","disable"]),a(e.UsageReminderItem,{"api-key":s.apiKey,"api-key-info":e.apiKeyInfo,"is-paid-key":e.isPremiumPaidKey,"auto-reminder":e.autoReminder,"onUpdate:autoReminder":o[2]||(o[2]=r=>e.autoReminder=r),email:e.email,"onUpdate:email":o[3]||(o[3]=r=>e.email=r),thresholds:e.reminderThresholds,"onUpdate:thresholds":o[4]||(o[4]=r=>e.reminderThresholds=r),onUpdate:e.getKeyInfo},null,8,["api-key","api-key-info","is-paid-key","auto-reminder","email","thresholds"]),a(N,{tag:"label"},{default:t(()=>[e.$q.screen.gt.sm?(w(),I(E,{key:0,avatar:""},{default:t(()=>[a(J,{name:"sync"})]),_:1})):Q("",!0),a(E,null,{default:t(()=>[a(S,{class:"text-bold"},{default:t(()=>[y(m(e.t("key_manager.transfer_title"))+" ",1),a(J,{name:e.isPremiumPaidKey?"verified":"lock"},{default:t(()=>[a(Z,null,{default:t(()=>[y(m(e.t("key_manager.advanced_feature")),1)]),_:1})]),_:1},8,["name"])]),_:1}),a(S,{caption:"",lines:"2"},{default:t(()=>[y(m(e.t("key_manager.transfer_explain")),1)]),_:1})]),_:1}),a(E,{side:""},{default:t(()=>[a(ve,{square:"",outline:"","emit-value":"",clearable:"",style:{width:"220px"},modelValue:e.transferKey,"onUpdate:modelValue":[o[5]||(o[5]=r=>e.transferKey=r),e.onTransfer],options:e.keys.filter(r=>{var l;return r.key!==s.apiKey&&((l=e.keysInfoCache[r.key])==null?void 0:l.user_id)}),"option-value":r=>r.key,label:e.t("key_manager.transfer_label"),disable:!e.isPremiumPaidKey},qe({"no-option":t(()=>[a(N,null,{default:t(()=>[a(E,null,{default:t(()=>[a(S,null,{default:t(()=>[y(m(e.t("key_manager.no_transferable_keys")),1)]),_:1})]),_:1})]),_:1})]),option:t(r=>[a(N,Re(r.itemProps,{clickable:""}),{default:t(()=>[a(E,{side:""},{default:t(()=>[a(J,{name:"o_key",class:he({"golden-foil":e.apiKeyStore.isPremiumPaidKey(r.opt.key),"silver-foil":e.apiKeyStore.isPaidKey(r.opt.key)})},null,8,["class"])]),_:2},1024),a(E,null,{default:t(()=>[a(S,null,{default:t(()=>[$("code",null,m(e.formatKey(r.opt.key)),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:2},[e.transferKey?{name:"selected",fn:t(()=>[a(ge,{label:e.formatKey(e.transferKey),dense:"","text-color":"primary",class:"bg-mixed-300"},null,8,["label"])]),key:"0"}:void 0]),1032,["modelValue","options","option-value","label","disable"])]),_:1})]),_:1}),a(N,{tag:"label"},{default:t(()=>[e.$q.screen.gt.sm?(w(),I(E,{key:0,avatar:""},{default:t(()=>[a(J,{name:"delete",color:"negative"})]),_:1})):Q("",!0),a(E,null,{default:t(()=>[a(S,{class:"text-bold text-negative"},{default:t(()=>[y(m(e.t("key_manager.remove_title")),1)]),_:1}),a(S,{caption:"",lines:"2"},{default:t(()=>[y(m(e.t("key_manager.remove_explain")),1)]),_:1})]),_:1}),a(E,{side:""},{default:t(()=>[a(Y,{flat:"",square:"",color:"negative",label:e.t("key_manager.remove"),onClick:e.onRemove,disable:e.isBusyState.has(s.apiKey)},null,8,["label","disable"])]),_:1})]),_:1}),a(N,{tag:"label"},{default:t(()=>[e.$q.screen.gt.sm?(w(),I(E,{key:0,avatar:""},{default:t(()=>[a(J,{name:"delete_forever",color:"negative"})]),_:1})):Q("",!0),a(E,null,{default:t(()=>[a(S,{class:"text-bold text-negative"},{default:t(()=>[y(m(e.t("key_manager.revoke_title")),1)]),_:1}),a(S,{caption:"",lines:"2"},{default:t(()=>[y(m(e.t("key_manager.revoke_explain")),1)]),_:1})]),_:1}),a(E,{side:""},{default:t(()=>[a(Y,{flat:"",square:"",color:"negative",label:e.t("key_manager.revoke"),onClick:e.onRevoke,disable:e.isBusyState.has(s.apiKey)||!e.isInputApiKeyValid},null,8,["label","disable"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},512)}const fr=te(_r,[["render",mr],["__file","SettingsDialog.vue"]]),vr=ae({__name:"KeyItem",props:{apiKey:{}},emits:["execute"],setup(i,{expose:o,emit:s}){o();const e=i,c=s,{t:_}=ie({useScope:"global"}),r=_e(),l=Ee(),d=me(),{keysInfoCache:v,isBusyState:k}=re(l),T=Se(),{user:V}=re(T),f=P(""),b=j({get:()=>e.apiKey.isPrimary?e.apiKey.key:"",set:async O=>{var q;if(O){if(await l.getKeyInfo(e.apiKey.key,!0),!((q=v.value[e.apiKey.key])!=null&&q.user_id)){r.notify({message:_("key_manager.invalid_key"),icon:"warning"});return}await l.setPrimaryKey(e.apiKey.key),d.apiKey=e.apiKey.key,r.notify({caption:_("key_manager.primary_key_set_caption"),message:_("key_manager.primary_key_set",{_apiKey:oe(e.apiKey.key)}),icon:"done"})}}}),x=j(()=>l.isPremiumPaidKey(e.apiKey.key)),D=j(()=>l.isPaidKey(e.apiKey.key)),h=j(()=>l.isFreeKey(e.apiKey.key)),L=j(()=>{var O;return!((O=v.value[e.apiKey.key])!=null&&O.user_id)}),R=j(()=>{var O,q,W;return(W=(q=(O=v.value[e.apiKey.key])==null?void 0:O.wallet)==null?void 0:q.metadata)==null?void 0:W.notification_email}),M=j(()=>{var O,q,W;return(W=(q=(O=v.value[e.apiKey.key])==null?void 0:O.wallet)==null?void 0:q.metadata)==null?void 0:W.notification_thresholds}),F=j(()=>{var q,W,H;const O=Array.from({length:7},(z,U)=>{const le=new Date(Date.now());return le.setDate(le.getDate()-U),we.formatDate(le,"YYYY-MM-DD")});return Te((H=(W=(q=v.value[e.apiKey.key])==null?void 0:q.usage)==null?void 0:W.reduce((z,U)=>U.type==="consume"&&O.includes(we.formatDate(U.created_at,"YYYY-MM-DD"))?z+U.quantity:z,0))!=null?H:0)}),C=()=>{r.dialog({component:vt,componentProps:{purchaseKey:e.apiKey.key}})},p=O=>{!O||f.value||(Le(O).then(()=>{r.notify({message:_("copy_to_clipboard_success"),icon:"done"}),f.value=O,gtag==null||gtag("event","embedding_copy_api_key",{location:document.location.href,subLocation:"sefo-api-key-manager"})}),setTimeout(()=>{f.value=""},1800))},K=O=>{r.dialog({component:_t,componentProps:{apiKey:O}})},g=O=>{r.dialog({component:fr,componentProps:{apiKey:O}}).onOk(q=>{c("execute",q.action,q)})},u=P(!1),B={props:e,emit:c,t:_,$q:r,apiKeyStore:l,embeddingStore:d,keysInfoCache:v,isBusyState:k,userStore:T,user:V,isApiKeyCopyDone:f,primaryKey:b,isPremiumPaidKey:x,isPaidKey:D,isFreeKey:h,isInvalidKey:L,notifyEmail:R,notifyThresholds:M,totalUsage:F,onBuy:C,onCopy:p,openUsageHistoryDialog:K,openSettingsDialog:g,isShareBusy:u,onShare:async()=>{u.value||r.dialog({message:_("key_manager.share_key_confirm_message"),title:_("key_manager.share_key_confirm_title"),ok:{flat:!0,icon:"content_copy",padding:"md",square:!0,label:_("key_manager.copy_share_link"),textColor:"primary"}}).onOk(async()=>{var H,z;u.value=!0;const O=window.location.origin+"/api-dashboard",q=e.apiKey.key,W=V.value.displayName||((z=(H=V.value.email)==null?void 0:H.split("@"))==null?void 0:z[0])||"";try{const U=await yt(O,W,q);Le(U).then(()=>{r.notify({message:_("key_manager.share_link_copied"),icon:"done"})})}catch(U){console.error(U),r.notify({message:U instanceof Error?U.message:String(U),icon:"warning"})}finally{u.value=!1}})},get date(){return we},UsageChart:sr,get formatNumber(){return je},get formatNumberShort(){return Te},get formatKey(){return oe}};return Object.defineProperty(B,"__isScriptSetup",{enumerable:!1,value:!0}),B}}),gr={class:"column full-width"},pr={style:{"font-family":"monospace"}},yr={class:"row full-height"};function hr(i,o,s,e,c,_){return w(),X("div",gr,[e.isBusyState.has(s.apiKey.key)?(w(),I(Ae,{key:0,indeterminate:"",size:"1px"})):Q("",!0),a(N,{class:he(["full-width key-item",{column:e.$q.screen.lt.md,"text-dim":e.isInvalidKey}]),tag:"label"},{default:t(()=>[a(E,{side:""},{default:t(()=>[a(ma,{disable:e.isInvalidKey,modelValue:e.primaryKey,"onUpdate:modelValue":o[0]||(o[0]=r=>e.primaryKey=r),val:s.apiKey.key},null,8,["disable","modelValue","val"]),a(Z,null,{default:t(()=>[y(m(e.primaryKey===s.apiKey.key?e.t("key_manager.primary_key_set_caption"):e.t("key_manager.primary_key")),1)]),_:1})]),_:1}),a(E,{side:""},{default:t(()=>[a(J,{name:"o_key",class:he({"golden-foil":e.isPremiumPaidKey,"silver-foil":!e.isPremiumPaidKey&&e.isPaidKey})},{default:t(()=>[a(Z,null,{default:t(()=>[y(m(e.isInvalidKey?e.t("key_manager.invalid_key"):e.isFreeKey?e.t("key_manager.free_key"):e.isPaidKey?e.t("paywall.standard_key"):e.t("key_manager.subscribed_key")),1)]),_:1})]),_:1},8,["class"])]),_:1}),a(E,{class:"col"},{default:t(()=>{var r,l,d;return[(r=s.apiKey.metadata)!=null&&r.sharedFrom?(w(),I(S,{key:0,caption:""},{default:t(()=>[y(m(e.t("key_manager.shared_from",{_user:s.apiKey.metadata.sharedFrom})),1)]),_:1})):Q("",!0),a(S,{class:"row items-center q-gutter-x-sm"},{default:t(()=>{var v;return[$("span",pr,m(e.formatKey(s.apiKey.key)),1),e.notifyEmail&&((v=e.notifyThresholds)!=null&&v.length)?(w(),I(J,{key:0,name:"alarm_smart_wake"},{default:t(()=>[a(Z,null,{default:t(()=>[y(m(e.t("key_manager.auto_reminder_info",{_email:e.notifyEmail,_threshold:e.notifyThresholds.map(k=>e.formatNumberShort(k)).join(", ")})),1)]),_:1})]),_:1})):Q("",!0),a(Y,{flat:"",square:"",size:"sm",icon:e.isApiKeyCopyDone===s.apiKey.key?"check":"content_copy",color:e.isApiKeyCopyDone===s.apiKey.key?"primary":"",onClick:o[1]||(o[1]=fe(k=>e.onCopy(s.apiKey.key),["stop"]))},{default:t(()=>[a(Z,null,{default:t(()=>[y(m(e.t("key_manager.copy")),1)]),_:1})]),_:1},8,["icon","color"])]}),_:1}),e.isInvalidKey?Q("",!0):(w(),I(S,{key:1,caption:"",class:he(((d=(l=e.keysInfoCache[s.apiKey.key])==null?void 0:l.wallet)==null?void 0:d.total_balance)<0?"text-negative":"")},{default:t(()=>{var v,k,T;return[y(m(e.formatNumber((T=(k=(v=e.keysInfoCache[s.apiKey.key])==null?void 0:v.wallet)==null?void 0:k.total_balance)!=null?T:0)+" "+e.t("embedding.tokens")),1)]}),_:1},8,["class"])),e.isInvalidKey&&!e.isBusyState.has(s.apiKey.key)?(w(),I(S,{key:2,caption:"",class:"text-negative"},{default:t(()=>[a(J,{name:"warning"}),y(" "+m(e.t("key_manager.invalid_key")),1)]),_:1})):Q("",!0)]}),_:1}),a(E,null,{default:t(()=>{var r;return[(r=e.keysInfoCache[s.apiKey.key])!=null&&r.last_used_at?(w(),I(S,{key:0,caption:""},{default:t(()=>{var l;return[y(m(e.t("key_manager.last_used")+": "+e.date.formatDate((l=e.keysInfoCache[s.apiKey.key])==null?void 0:l.last_used_at,"YYYY-MM-DD HH:mm")),1)]}),_:1})):Q("",!0)]}),_:1}),a(E,{style:{height:"80px",width:"400px"},side:""},{default:t(()=>{var r,l;return[(r=e.keysInfoCache[s.apiKey.key])!=null&&r.usage&&!e.isInvalidKey?(w(),X(ne,{key:0},[a(e.UsageChart,{"api-key":s.apiKey,usage:(l=e.keysInfoCache[s.apiKey.key])==null?void 0:l.usage},null,8,["api-key","usage"]),a(Z,null,{default:t(()=>[y(m(e.t("key_manager.usage_summary",{_usage:e.totalUsage})),1)]),_:1})],64)):Q("",!0)]}),_:1}),a(E,{side:"",class:he(["actions-section",{"always-show":e.primaryKey===s.apiKey.key}])},{default:t(()=>[$("div",yr,[a(Y,{flat:"",square:"",disable:e.isInvalidKey,padding:"md",icon:"add_shopping_cart",onClick:fe(e.onBuy,["stop"]),label:e.t("key_manager.top_up")},{default:t(()=>[a(Z,null,{default:t(()=>[y(m(e.t("key_manager.purchase")),1)]),_:1})]),_:1},8,["disable","label"]),a(Y,{flat:"",square:"",disable:e.isInvalidKey,padding:"md",icon:"share",loading:e.isShareBusy,onClick:fe(e.onShare,["stop"])},{default:t(()=>[a(Z,null,{default:t(()=>[y(m(e.t("key_manager.share")),1)]),_:1})]),_:1},8,["disable","loading"]),a(Y,{flat:"",square:"",disable:e.isInvalidKey,padding:"md",icon:"history",onClick:o[2]||(o[2]=fe(r=>e.openUsageHistoryDialog(s.apiKey.key),["stop"]))},{default:t(()=>[a(Z,null,{default:t(()=>[y(m(e.t("key_manager.usage_history")),1)]),_:1})]),_:1},8,["disable"]),a(Y,{flat:"",square:"",padding:"md",icon:"more_horiz",onClick:o[3]||(o[3]=fe(r=>e.openSettingsDialog(s.apiKey.key),["stop"]))},{default:t(()=>[a(Z,null,{default:t(()=>[y(m(e.t("key_manager.advance_settings")),1)]),_:1})]),_:1})])]),_:1},8,["class"])]),_:1},8,["class"]),a(ue)])}const br=te(vr,[["render",hr],["__scopeId","data-v-18b339d4"],["__file","KeyItem.vue"]]),kr=ae({__name:"KeysTable",setup(i,{expose:o}){o();const{t:s}=ie({useScope:"global"}),e=_e(),c=Ee(),_=Se(),r=me(),{keys:l,isLoading:d,primaryKey:v}=re(c),{user:k}=re(_),{products:T}=re(r),V=P(null),f={[de.GENERATE]:async H=>{d.value=!0;try{const z=await r.generate0TokenApiKey(H);z&&(await c.addKey(z),e.notify({message:s("key_manager.generate_success",{_key:oe(z)}),icon:"done"}))}finally{d.value=!1}},[de.REVOKE]:async H=>{var z;d.value=!0;try{let U;if(K.value?U=await r.transferToken({source:p.value,target:K.value,withRevoke:!0},H):U=await r.revokeApiKey(p.value,H),U){e.notify({message:s("key_manager.revoke_success",{_key:oe(p.value)}),icon:"done"}),K.value&&c.getKeyInfo(K.value,!0);const le=v.value===p.value;await c.removeKey(p.value),le&&await c.setPrimaryKey((z=l.value[0])==null?void 0:z.key)}}finally{p.value="",K.value="",d.value=!1}},[de.TRANSFER]:async H=>{d.value=!0;try{await r.transferToken({source:u.value,target:g.value},H)&&(e.notify({message:s("key_manager.transfer_success",{_source:oe(u.value),_target:oe(g.value)}),icon:"done"}),c.getKeyInfo(u.value,!0),c.getKeyInfo(g.value,!0))}finally{d.value=!1,u.value="",g.value=""}}},b=async H=>{var z;console.log("handle key in callback"),V.value&&await((z=f[V.value])==null?void 0:z.call(f,H))},{turnstileToken:x,turnstileRef:D,turnstileVisible:h,proceeding:L,onUpdateToken:R,checkReady:M,resetVariables:F}=Ga(b),C=P(""),p=P(""),K=P(""),g=P(""),u=P(""),A=j(()=>l.value.some(H=>!c.isFreeKey(H.key))),B=j(()=>l.value.filter(H=>H.key.toLowerCase().includes(C.value.toLowerCase()))),O=()=>{e.dialog({component:$t}).onOk(H=>{H===de.GENERATE&&(V.value=de.GENERATE,M()&&(b(x.value),F(),gtag==null||gtag("event","add_new_key",{location:document.location.href})))})},q=(H,z)=>{H===de.REVOKE?(p.value=z.key,K.value=z.transferTo):H===de.TRANSFER&&(g.value=z.target,u.value=z.source),V.value=H,M()&&(b(x.value),F())};ke(async()=>{await c.fetchKeys(),c.checkPrimaryKey(),T.value.length===0&&await r.getProducts()});const W={t:s,$q:e,apiKeyStore:c,userStore:_,embeddingStore:r,keys:l,isLoading:d,primaryKey:v,user:k,products:T,currentAction:V,actionCallback:f,handleTurnstileCb:b,turnstileToken:x,turnstileRef:D,turnstileVisible:h,proceeding:L,onUpdateToken:R,checkReady:M,resetVariables:F,filterQuery:C,revokeKey:p,revokeWithTransferKey:K,transferTarget:g,transferSource:u,hasPaidKey:A,visibleKeys:B,openApiKeyDialog:O,onExecute:q,KeyItem:br,TurnstileComponent:Qa};return Object.defineProperty(W,"__isScriptSetup",{enumerable:!1,value:!0}),W}});function Er(i,o,s,e,c,_){return w(),I(se,{class:"fit"},{default:t(()=>[a(ut,{ref:"decisionTable",grid:"",rows:e.visibleKeys,flat:"","row-key":"_id",filter:e.filterQuery,"hide-header":"",loading:e.isLoading||e.proceeding,pagination:{rowsPerPage:10},"card-container-class":"tour-optimizer-result-table"},{top:t(()=>[a(se,{class:"full-width",flat:"",square:""},{default:t(()=>[a(ee,{class:"row q-pa-none"},{default:t(()=>[a(Y,{disable:!e.user.uid||e.isLoading,flat:"",square:"","no-caps":"",padding:"md",icon:"add",label:e.t("key_manager.add"),onClick:e.openApiKeyDialog},null,8,["disable","label"]),a(Y,{disable:!e.hasPaidKey,flat:"",square:"",padding:"md",icon:"receipt_long",label:e.t("embedding.manage_billing"),stretch:"",href:"https://stripe.jina.ai",target:"_blank","no-caps":""},{default:t(()=>[a(Z,null,{default:t(()=>[y(m(e.t("embedding.manage_billing_tip")),1)]),_:1})]),_:1},8,["disable","label"]),a(Y,{flat:"",label:e.t("header.contact_us"),square:"",icon:"handshake",to:"/api-dashboard/contact-sales",padding:"md","no-caps":""},null,8,["label"]),a(pe,{filled:"",square:"",class:"full-width",debounce:"300",modelValue:e.filterQuery,"onUpdate:modelValue":o[0]||(o[0]=r=>e.filterQuery=r),placeholder:e.t("key_manager.filter_by")},{prepend:t(()=>[a(J,{name:"filter_alt"})]),_:1},8,["modelValue","placeholder"])]),_:1}),a(ue)]),_:1})]),item:t(r=>[(w(),I(e.KeyItem,{key:r.row.key,"api-key":r.row,onExecute:e.onExecute},null,8,["api-key"]))]),_:1},8,["rows","filter","loading"]),e.turnstileVisible?(w(),I(e.TurnstileComponent,{key:0,ref:"turnstileRef",modelValue:e.turnstileToken,"onUpdate:modelValue":[o[1]||(o[1]=r=>e.turnstileToken=r),e.onUpdateToken]},null,8,["modelValue","onUpdate:modelValue"])):Q("",!0)]),_:1})}const wr=te(kr,[["render",Er],["__file","KeysTable.vue"]]),da="https://api.jina.ai/v1/classify",Oe=6,Tr=ae({__name:"AvatarTab",setup(i,{expose:o}){o();const{t:s}=ie({useScope:"global"}),e=_e(),c=P(!1),_=P([]),r=P(null),l=P(!1),d=P(""),v=P(""),k=me(),T=P(null),V=p=>{T.value=p},f={accessories:{Eyepatch:"person wearing a mysterious black eye patch",Glasses:"person wearing modern round glasses with clear lenses","Glasses 2":"person wearing thin-framed contemporary glasses","Glasses 3":"person wearing classic rectangular glasses","Glasses 4":"person wearing vintage round glasses","Glasses 5":"person wearing designer wire-frame glasses",None:"person without any eyewear or accessories",Sunglasses:"person wearing fashionable dark sunglasses","Sunglasses 2":"person wearing sporty aviator sunglasses"},body:{"Blazer Black Tee":"person wearing a black t-shirt under a professional blazer","Button Shirt 1":"person in a crisp button-up dress shirt","Button Shirt 2":"person in a light colored button-up shirt",Coffee:"person holding a coffee cup in casual attire",Device:"person using a mobile device in casual wear",Dress:"person wearing an elegant flowing dress",Explaining:"person gesturing while explaining in business attire","Fur Jacket":"person wearing a luxurious fur jacket",Gaming:"person in gaming attire with controller","Gym Shirt":"person wearing athletic workout clothes",Hoodie:"person in a comfortable casual hoodie",Killer:"person in dark mysterious attire",Macbook:"person working on laptop in casual clothes",Paper:"person holding papers in professional attire","Pointing Up":"person gesturing upward in business wear","Polka Dot Jacket":"person in playful polka dot jacket","Polo and Sweater":"person wearing polo shirt under sweater","Shirt and Coat":"person in formal shirt and coat combination","Sporty Tee":"person in athletic sports t-shirt","Striped Pocket Tee":"person in casual striped t-shirt with pocket","Striped Tee":"person wearing horizontal striped t-shirt",Sweater:"person in cozy knit sweater","Sweater Dots":"person wearing sweater with polka dot pattern","Tee 1":"person in basic solid t-shirt","Tee 2":"person in casual graphic t-shirt","Tee Arms Crossed":"person with crossed arms in t-shirt","Tee Selena":"person in fitted casual t-shirt","Thunder T-Shirt":"person wearing t-shirt with thunder design",Turtleneck:"person in sophisticated black turtleneck",Whatever:"person in casual wear with relaxed pose"},face:{"Angry with Fang":"person with an intense angry expression showing fangs",Awe:"person with an expression of wonder and amazement",Blank:"person with a neutral blank expression",Calm:"person with serene peaceful expression",Cheeky:"person with a playful mischievous expression",Concerned:"person with a worried concerned expression","Concerned Fear":"person with a worried fearful expression",Contempt:"person with a disdainful contemptuous expression",Cute:"person with adorable cheerful expression",Cyclops:"person has only one one-eye",Driven:"person with determined focused expression","Eating Happy":"person with a joyful expression while eating",Explaining:"person with an animated expression while explaining","Eyes Closed":"person with a peaceful expression and closed eyes",Fear:"person with a frightened fearful expression",Hectic:"person with a frantic overwhelmed expression","Loving Grin 1":"person with gentle loving smile","Loving Grin 2":"person with bright heartfelt smile",Monster:"person with a playful monster-like expression",Old:"person with an aged wise expression",Rage:"person with an intense angry expression",Serious:"person with professional serious expression",Smile:"person with friendly welcoming smile","Smile Big":"person with broad enthusiastic smile","Smile LOL":"person with joyful laughing expression","Smile Teeth Gap":"person with charming gap-toothed smile",Solemn:"person with a deeply serious thoughtful expression",Suspicious:"person with a skeptical suspicious expression",Tired:"person with an exhausted weary expression","Very Angry":"person with an extremely angry expression"},head:{Afro:"person with natural afro hairstyle",Bangs:"person with straight front bangs","Bangs 2":"person with side-swept bangs","Bantu Knots":"person with traditional bantu knots hairstyle",Bear:"person with bear-themed hairstyle",Bun:"person with hair styled in neat bun","Bun 2":"person with messy top bun",Buns:"person with double hair buns",Cornrows:"person with cornrow braided hairstyle","Cornrows 2":"person with intricate cornrow design","Flat Top":"person with classic flat top haircut","Flat Top Long":"person with long flat top haircut","Gray Bun":"person with gray hair in bun","Gray Medium":"person with medium-length gray hair","Gray Short":"person with short gray hair",Long:"person with long flowing hair","Long Afro":"person with long voluminous afro","Long Bangs":"person with long layered bangs","Long Curly":"person with long curly hair","Medium 1":"person with shoulder-length hair","Medium 2":"person with wavy medium hair","Medium 3":"person with textured medium hair","Medium Bangs":"person with medium hair and bangs","Medium Bangs 2":"person with feathered medium bangs","Medium Bangs 3":"person with side-parted medium bangs","Medium Straight":"person with straight medium-length hair",Mohawk:"person with classic mohawk style","Mohawk 2":"person with longer mohawk variation","No Hair 1":"person with smooth bald head","No Hair 2":"person with polished bald style","No Hair 3":"person with completely shaved head",Pomp:"person with pompadour hairstyle","Shaved 1":"person with partially shaved head style","Shaved 2":"person with modern shaved haircut","Shaved 3":"person with artistic shaved design","Short 1":"person with short textured cut","Short 2":"person with short faded haircut","Short 3":"person with short spiky style","Short 4":"person with short layered cut","Short 5":"person with short tapered haircut",Twists:"person with twisted loc hairstyle","Twists 2":"person with longer twisted locs","hat-beanie":"person wearing a casual beanie hat","hat-hip":"person wearing a trendy hip-hop style hat"}};async function b(p){var K;try{const g=p.includes("base64,")?p.split("base64,")[1]:p,u=await fetch(da,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k.apiKey}`},body:JSON.stringify({model:(K=T==null?void 0:T.value)==null?void 0:K.name,input:[{image:g}],labels:{accessories:Object.values(f.accessories),body:Object.values(f.body),face:Object.values(f.face),head:Object.values(f.head)}})});if(!u.ok)throw new Error(`Classification failed: ${u.status}`);return await u.json()}catch(g){throw console.error("Classification error:",g),g}}async function x(p,K){try{return(await St(Object.assign({"../../assets/avatar/accessories/Eyepatch.svg":()=>n(()=>import("./Eyepatch-CPtCE8NI.js"),[]),"../../assets/avatar/accessories/Glasses 2.svg":()=>n(()=>import("./Glasses 2-CisVqvW9.js"),[]),"../../assets/avatar/accessories/Glasses 3.svg":()=>n(()=>import("./Glasses 3--AGI-_U5.js"),[]),"../../assets/avatar/accessories/Glasses 4.svg":()=>n(()=>import("./Glasses 4-CkCSLu0z.js"),[]),"../../assets/avatar/accessories/Glasses 5.svg":()=>n(()=>import("./Glasses 5-BnBdJIiD.js"),[]),"../../assets/avatar/accessories/Glasses.svg":()=>n(()=>import("./Glasses-bHTDfG2F.js"),[]),"../../assets/avatar/accessories/None.svg":()=>n(()=>import("./None-CBIsyCCu.js"),[]),"../../assets/avatar/accessories/Sunglasses 2.svg":()=>n(()=>import("./Sunglasses 2-Bm0kyZv8.js"),[]),"../../assets/avatar/accessories/Sunglasses.svg":()=>n(()=>import("./Sunglasses-CCXW1Ow2.js"),[]),"../../assets/avatar/body/Blazer Black Tee.svg":()=>n(()=>import("./Blazer Black Tee-CCvV2dgG.js"),[]),"../../assets/avatar/body/Button Shirt 1.svg":()=>n(()=>import("./Button Shirt 1-CmLXOUNx.js"),[]),"../../assets/avatar/body/Button Shirt 2.svg":()=>n(()=>import("./Button Shirt 2-s_x7_Ujv.js"),[]),"../../assets/avatar/body/Coffee.svg":()=>n(()=>import("./Coffee-BWgpJV-A.js"),[]),"../../assets/avatar/body/Device.svg":()=>n(()=>import("./Device-DEcjonbR.js"),[]),"../../assets/avatar/body/Dress.svg":()=>n(()=>import("./Dress-_6EnLKsY.js"),[]),"../../assets/avatar/body/Explaining.svg":()=>n(()=>import("./Explaining-DadwYvu0.js"),[]),"../../assets/avatar/body/Fur Jacket.svg":()=>n(()=>import("./Fur Jacket-CdWbrdPB.js"),[]),"../../assets/avatar/body/Gaming.svg":()=>n(()=>import("./Gaming-BDiAmtUY.js"),[]),"../../assets/avatar/body/Gym Shirt.svg":()=>n(()=>import("./Gym Shirt-DQCaFZ3f.js"),[]),"../../assets/avatar/body/Hoodie.svg":()=>n(()=>import("./Hoodie-B07UN-Nl.js"),[]),"../../assets/avatar/body/Killer.svg":()=>n(()=>import("./Killer-DTtnEXXI.js"),[]),"../../assets/avatar/body/Macbook.svg":()=>n(()=>import("./Macbook-CZ7Tiuu8.js"),[]),"../../assets/avatar/body/Paper.svg":()=>n(()=>import("./Paper-DK__jVLJ.js"),[]),"../../assets/avatar/body/Pointing Up.svg":()=>n(()=>import("./Pointing Up-DMSWjUIR.js"),[]),"../../assets/avatar/body/Polka Dot Jacket.svg":()=>n(()=>import("./Polka Dot Jacket-Ccaxzz07.js"),[]),"../../assets/avatar/body/Polo and Sweater.svg":()=>n(()=>import("./Polo and Sweater-DtFh9BfC.js"),[]),"../../assets/avatar/body/Shirt and Coat.svg":()=>n(()=>import("./Shirt and Coat-CUM3_bbN.js"),[]),"../../assets/avatar/body/Sporty Tee.svg":()=>n(()=>import("./Sporty Tee-DC-mJGrt.js"),[]),"../../assets/avatar/body/Striped Pocket Tee.svg":()=>n(()=>import("./Striped Pocket Tee-CIvIqxDn.js"),[]),"../../assets/avatar/body/Striped Tee.svg":()=>n(()=>import("./Striped Tee-DNfZDSQM.js"),[]),"../../assets/avatar/body/Sweater Dots.svg":()=>n(()=>import("./Sweater Dots-BlH7xuFs.js"),[]),"../../assets/avatar/body/Sweater.svg":()=>n(()=>import("./Sweater-CuOBOSOz.js"),[]),"../../assets/avatar/body/Tee 1.svg":()=>n(()=>import("./Tee 1-BAomRkw9.js"),[]),"../../assets/avatar/body/Tee 2.svg":()=>n(()=>import("./Tee 2-C4UUC6VK.js"),[]),"../../assets/avatar/body/Tee Arms Crossed.svg":()=>n(()=>import("./Tee Arms Crossed-Cd7ErYZG.js"),[]),"../../assets/avatar/body/Tee Selena.svg":()=>n(()=>import("./Tee Selena-BuBczbrL.js"),[]),"../../assets/avatar/body/Thunder T-Shirt.svg":()=>n(()=>import("./Thunder T-Shirt-R3FQYUZD.js"),[]),"../../assets/avatar/body/Turtleneck.svg":()=>n(()=>import("./Turtleneck-CBu5E31v.js"),[]),"../../assets/avatar/body/Whatever.svg":()=>n(()=>import("./Whatever-C_L7o4PD.js"),[]),"../../assets/avatar/face/Angry with Fang.svg":()=>n(()=>import("./Angry with Fang-Cz56tpGA.js"),[]),"../../assets/avatar/face/Awe.svg":()=>n(()=>import("./Awe-BZkmV47x.js"),[]),"../../assets/avatar/face/Blank.svg":()=>n(()=>import("./Blank-NsmhZSM1.js"),[]),"../../assets/avatar/face/Calm.svg":()=>n(()=>import("./Calm-CPd4QvYU.js"),[]),"../../assets/avatar/face/Cheeky.svg":()=>n(()=>import("./Cheeky-CiEXIAta.js"),[]),"../../assets/avatar/face/Concerned Fear.svg":()=>n(()=>import("./Concerned Fear-DW5JY4CD.js"),[]),"../../assets/avatar/face/Concerned.svg":()=>n(()=>import("./Concerned-BgtD4Mod.js"),[]),"../../assets/avatar/face/Contempt.svg":()=>n(()=>import("./Contempt-CvrrLjDN.js"),[]),"../../assets/avatar/face/Cute.svg":()=>n(()=>import("./Cute-BwsaONwn.js"),[]),"../../assets/avatar/face/Cyclops.svg":()=>n(()=>import("./Cyclops-DTp1IdXY.js"),[]),"../../assets/avatar/face/Driven.svg":()=>n(()=>import("./Driven-De_O7WVZ.js"),[]),"../../assets/avatar/face/Eating Happy.svg":()=>n(()=>import("./Eating Happy-BgMnwg9g.js"),[]),"../../assets/avatar/face/Explaining.svg":()=>n(()=>import("./Explaining-THnIdgyB.js"),[]),"../../assets/avatar/face/Eyes Closed.svg":()=>n(()=>import("./Eyes Closed-CdI1KQdq.js"),[]),"../../assets/avatar/face/Fear.svg":()=>n(()=>import("./Fear-BexFCH5R.js"),[]),"../../assets/avatar/face/Hectic.svg":()=>n(()=>import("./Hectic-AExjuXjY.js"),[]),"../../assets/avatar/face/Loving Grin 1.svg":()=>n(()=>import("./Loving Grin 1-B_w88qcc.js"),[]),"../../assets/avatar/face/Loving Grin 2.svg":()=>n(()=>import("./Loving Grin 2-zoGieaDF.js"),[]),"../../assets/avatar/face/Monster.svg":()=>n(()=>import("./Monster-C1lwNnn2.js"),[]),"../../assets/avatar/face/Old.svg":()=>n(()=>import("./Old-D4BSyuLE.js"),[]),"../../assets/avatar/face/Rage.svg":()=>n(()=>import("./Rage-B2uNaaGQ.js"),[]),"../../assets/avatar/face/Serious.svg":()=>n(()=>import("./Serious-DI3hxq-4.js"),[]),"../../assets/avatar/face/Smile Big.svg":()=>n(()=>import("./Smile Big-aT5CkwfB.js"),[]),"../../assets/avatar/face/Smile LOL.svg":()=>n(()=>import("./Smile LOL-DC93Zyi_.js"),[]),"../../assets/avatar/face/Smile Teeth Gap.svg":()=>n(()=>import("./Smile Teeth Gap-DBZFawB0.js"),[]),"../../assets/avatar/face/Smile.svg":()=>n(()=>import("./Smile-0Wibgfy8.js"),[]),"../../assets/avatar/face/Solemn.svg":()=>n(()=>import("./Solemn-CxgWcI-i.js"),[]),"../../assets/avatar/face/Suspicious.svg":()=>n(()=>import("./Suspicious-D7j672A1.js"),[]),"../../assets/avatar/face/Tired.svg":()=>n(()=>import("./Tired-D_AtxcGW.js"),[]),"../../assets/avatar/face/Very Angry.svg":()=>n(()=>import("./Very Angry-D5F4ua3s.js"),[]),"../../assets/avatar/facialHair/Chin.svg":()=>n(()=>import("./Chin-DUNkMTkI.js"),[]),"../../assets/avatar/facialHair/Full 2.svg":()=>n(()=>import("./Full 2-gHgrzbn6.js"),[]),"../../assets/avatar/facialHair/Full 3.svg":()=>n(()=>import("./Full 3-Ds9Mi2Pn.js"),[]),"../../assets/avatar/facialHair/Full 4.svg":()=>n(()=>import("./Full 4-CpyHDOKi.js"),[]),"../../assets/avatar/facialHair/Full.svg":()=>n(()=>import("./Full--tLCytme.js"),[]),"../../assets/avatar/facialHair/Goatee 1.svg":()=>n(()=>import("./Goatee 1-CjxWNkM4.js"),[]),"../../assets/avatar/facialHair/Goatee 2.svg":()=>n(()=>import("./Goatee 2-DX91ea6G.js"),[]),"../../assets/avatar/facialHair/Moustache 1.svg":()=>n(()=>import("./Moustache 1-DCfFyVoz.js"),[]),"../../assets/avatar/facialHair/Moustache 2.svg":()=>n(()=>import("./Moustache 2-DvTVVVR4.js"),[]),"../../assets/avatar/facialHair/Moustache 3.svg":()=>n(()=>import("./Moustache 3-7DebNHil.js"),[]),"../../assets/avatar/facialHair/Moustache 4.svg":()=>n(()=>import("./Moustache 4-SJn7FG3B.js"),[]),"../../assets/avatar/facialHair/Moustache 5.svg":()=>n(()=>import("./Moustache 5-44Xj2EZF.js"),[]),"../../assets/avatar/facialHair/Moustache 6.svg":()=>n(()=>import("./Moustache 6-CEr5yFL1.js"),[]),"../../assets/avatar/facialHair/Moustache 7.svg":()=>n(()=>import("./Moustache 7-Bq0VvETl.js"),[]),"../../assets/avatar/facialHair/Moustache 8.svg":()=>n(()=>import("./Moustache 8-mUxMyGGc.js"),[]),"../../assets/avatar/facialHair/Moustache 9.svg":()=>n(()=>import("./Moustache 9-DOisYSjS.js"),[]),"../../assets/avatar/facialHair/None.svg":()=>n(()=>import("./None-DgNcDPcG.js"),[]),"../../assets/avatar/head/Afro.svg":()=>n(()=>import("./Afro-BcTe8cjZ.js"),[]),"../../assets/avatar/head/Bangs 2.svg":()=>n(()=>import("./Bangs 2-8gDxCaJT.js"),[]),"../../assets/avatar/head/Bangs.svg":()=>n(()=>import("./Bangs-VMnv_1Bg.js"),[]),"../../assets/avatar/head/Bantu Knots.svg":()=>n(()=>import("./Bantu Knots-FkG8IqlL.js"),[]),"../../assets/avatar/head/Bear.svg":()=>n(()=>import("./Bear-B_wppsaW.js"),[]),"../../assets/avatar/head/Bun 2.svg":()=>n(()=>import("./Bun 2-EtBMU_d9.js"),[]),"../../assets/avatar/head/Bun.svg":()=>n(()=>import("./Bun-B7Kj-Cx2.js"),[]),"../../assets/avatar/head/Buns.svg":()=>n(()=>import("./Buns-0MUj_y-O.js"),[]),"../../assets/avatar/head/Cornrows 2.svg":()=>n(()=>import("./Cornrows 2-m36CFRMN.js"),[]),"../../assets/avatar/head/Cornrows.svg":()=>n(()=>import("./Cornrows-D_tFOLo2.js"),[]),"../../assets/avatar/head/Flat Top Long.svg":()=>n(()=>import("./Flat Top Long-BYSVHErS.js"),[]),"../../assets/avatar/head/Flat Top.svg":()=>n(()=>import("./Flat Top-3MNwLsIB.js"),[]),"../../assets/avatar/head/Gray Bun.svg":()=>n(()=>import("./Gray Bun-6Dorz2Bf.js"),[]),"../../assets/avatar/head/Gray Medium.svg":()=>n(()=>import("./Gray Medium-lrleAuub.js"),[]),"../../assets/avatar/head/Gray Short.svg":()=>n(()=>import("./Gray Short-DEP2bB8l.js"),[]),"../../assets/avatar/head/Long Afro.svg":()=>n(()=>import("./Long Afro-CZArt9o6.js"),[]),"../../assets/avatar/head/Long Bangs.svg":()=>n(()=>import("./Long Bangs-CEgFEE8r.js"),[]),"../../assets/avatar/head/Long Curly.svg":()=>n(()=>import("./Long Curly-CzVOPxU6.js"),[]),"../../assets/avatar/head/Long.svg":()=>n(()=>import("./Long-mD9BOv0I.js"),[]),"../../assets/avatar/head/Medium 1.svg":()=>n(()=>import("./Medium 1-BIbsz7Fr.js"),[]),"../../assets/avatar/head/Medium 2.svg":()=>n(()=>import("./Medium 2-CnPtrhj9.js"),[]),"../../assets/avatar/head/Medium 3.svg":()=>n(()=>import("./Medium 3-B-FK1tKj.js"),[]),"../../assets/avatar/head/Medium Bangs 2.svg":()=>n(()=>import("./Medium Bangs 2-Cr7FTMco.js"),[]),"../../assets/avatar/head/Medium Bangs 3.svg":()=>n(()=>import("./Medium Bangs 3-CN81QHc8.js"),[]),"../../assets/avatar/head/Medium Bangs.svg":()=>n(()=>import("./Medium Bangs-DvU1aw27.js"),[]),"../../assets/avatar/head/Medium Straight.svg":()=>n(()=>import("./Medium Straight-C1jK9Qgd.js"),[]),"../../assets/avatar/head/Mohawk 2.svg":()=>n(()=>import("./Mohawk 2-BPHaakiH.js"),[]),"../../assets/avatar/head/Mohawk.svg":()=>n(()=>import("./Mohawk-BtkBrxTU.js"),[]),"../../assets/avatar/head/No Hair 1.svg":()=>n(()=>import("./No Hair 1-BM-4_kmR.js"),[]),"../../assets/avatar/head/No Hair 2.svg":()=>n(()=>import("./No Hair 2-DjnYbtaT.js"),[]),"../../assets/avatar/head/No Hair 3.svg":()=>n(()=>import("./No Hair 3-CDiHEwX9.js"),[]),"../../assets/avatar/head/Pomp.svg":()=>n(()=>import("./Pomp-Di6BypHV.js"),[]),"../../assets/avatar/head/Shaved 1.svg":()=>n(()=>import("./Shaved 1-DUFavbik.js"),[]),"../../assets/avatar/head/Shaved 2.svg":()=>n(()=>import("./Shaved 2-BIYv1-1_.js"),[]),"../../assets/avatar/head/Shaved 3.svg":()=>n(()=>import("./Shaved 3-DX966IJI.js"),[]),"../../assets/avatar/head/Short 1.svg":()=>n(()=>import("./Short 1-B-el4prz.js"),[]),"../../assets/avatar/head/Short 2.svg":()=>n(()=>import("./Short 2-YawmDo8u.js"),[]),"../../assets/avatar/head/Short 3.svg":()=>n(()=>import("./Short 3-Bq0t9n5E.js"),[]),"../../assets/avatar/head/Short 4.svg":()=>n(()=>import("./Short 4-B1nPxZXu.js"),[]),"../../assets/avatar/head/Short 5.svg":()=>n(()=>import("./Short 5-xc1sa6I2.js"),[]),"../../assets/avatar/head/Twists 2.svg":()=>n(()=>import("./Twists 2-1XiLWkyn.js"),[]),"../../assets/avatar/head/Twists.svg":()=>n(()=>import("./Twists-DxjfQDSj.js"),[]),"../../assets/avatar/head/hat-beanie.svg":()=>n(()=>import("./hat-beanie-3it8Xmnp.js"),[]),"../../assets/avatar/head/hat-hip.svg":()=>n(()=>import("./hat-hip-CbkFXWiS.js"),[])}),`../../assets/avatar/${p}/${K}.svg`,6)).default}catch(g){throw console.error("Error loading SVG:",g),e.notify({type:"negative",message:s("avatar.error_loading")}),g}}function D(p,K){return Object.entries(p).map(([g,u])=>({category:g,items:u.sort((A,B)=>B.score-A.score).slice(0,K).map(A=>{var B;return{label:A.label,score:A.score,feature:((B=Object.entries(f[g]).find(([O,q])=>q===A.label))==null?void 0:B[0])||Object.keys(f[g])[0]}})}))}function h(p,K){const g={};return p.forEach(({category:u,items:A})=>{const B=A[K%A.length];g[u]=B.feature}),g}async function L(){if(!v.value){e.notify({type:"warning",message:s("avatar.noImageSelected")});return}c.value=!0,_.value=[];try{const p=await b(v.value),K=D(p.data[0].predictions,Oe);for(let g=0;g<Oe;g++){const u=h(K,g),A=await Promise.all([x("body",u.body),x("head",u.head),x("face",u.face),x("accessories",u.accessories)]),B=["translate(0, 550)","translate(200, 50)","translate(320, 250)","translate(210, 310)"],q=`
        <svg
          width="380"
          height="380"
          viewBox="0 0 900 900"
          fill="none"
          stroke="black"
          stroke-width="0.8"
          stroke-linecap="round"
          stroke-linejoin="round"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g>
            ${A.map((W,H)=>{const z=W.slice(W.indexOf(">",W.indexOf("<svg"))+1).replace("</svg>","");return`<g transform="${B[H]}">${z}</g>`}).join("")}
          </g>
        </svg>
      `;_.value.push(q)}}catch(p){console.error("Error generating avatars:",p),_.value=[],e.notify({type:"negative",message:s("avatar.classificationError")})}finally{c.value=!1}}async function R(p){return new Promise((K,g)=>{const u=new Image,A=document.createElement("canvas"),B=A.getContext("2d");A.width=256,A.height=256,u.onload=()=>{const q=Math.max(A.width/u.width,A.height/u.height),W=(A.width-u.width*q)/2,H=(A.height-u.height*q)/2;B.fillStyle="white",B.fillRect(0,0,A.width,A.height),B.drawImage(u,W,H,u.width*q,u.height*q);const z=A.toDataURL(p.type),U=z.split(",")[1];d.value=z,v.value=U,K(U)},u.onerror=()=>{g(new Error(s("avatar.error_processing")))};const O=new FileReader;O.onload=q=>{u.src=q.target.result},O.onerror=()=>{g(new Error(s("avatar.error_processing")))},O.readAsDataURL(p)})}async function M(){if(r.value){l.value=!0;try{await R(r.value)}catch(p){console.error("Error processing image:",p),e.notify({type:"negative",message:s("avatar.error_processing")})}finally{l.value=!1}}else d.value=""}function F(p,K){const g=new Blob([p],{type:"image/svg+xml"}),u=window.URL.createObjectURL(g),A=document.createElement("a");A.href=u,A.download=`avatar-${K+1}.svg`,document.body.appendChild(A),A.click(),document.body.removeChild(A),window.URL.revokeObjectURL(u),e.notify({message:s("avatar.download_success",{index:K+1})})}const C={API_URL:da,t:s,$q:e,isLoading:c,svgContents:_,TOP_N:Oe,selectedFile:r,isProcessing:l,processedImage:d,imageBase64:v,embeddingStore:k,currentModel:T,onModelItemClick:V,featureMapping:f,classifyImage:b,importSVG:x,getTopNPredictions:D,generateFeatureCombination:h,generateAvatar:L,processImage:R,handleFileSelect:M,downloadSVG:F,ModelDropDown:Ha};return Object.defineProperty(C,"__isScriptSetup",{enumerable:!1,value:!0}),C}}),Pr={class:"row full-width"},Sr={class:"row q-col-gutter-md"},Dr=["innerHTML"];function Rr(i,o,s,e,c,_){return w(),I(se,{flat:"",class:"column no-wrap full-height"},{default:t(()=>[$("div",Pr,[a(dt,{class:"col",square:"",filled:"","input-class":"text-no-wrap ellipsis",modelValue:e.selectedFile,"onUpdate:modelValue":[o[0]||(o[0]=r=>e.selectedFile=r),e.handleFileSelect],label:e.t("avatar.select_file"),accept:".jpg,.jpeg,.png,.gif,.webp",loading:e.isProcessing},{prepend:t(()=>[e.processedImage?(w(),I(gt,{key:1,src:e.processedImage,width:"24px",height:"24px"},null,8,["src"])):(w(),I(J,{key:0,name:"attach_file"}))]),_:1},8,["modelValue","label","loading"]),a(e.ModelDropDown,{currentModel:e.currentModel,indicator:!1,category:"clip",onChooseModel:e.onModelItemClick},null,8,["currentModel"]),a(Y,{square:"",flat:"","no-caps":"",padding:"md",label:e.t("avatar.generate"),onClick:e.generateAvatar,icon:"play_arrow",loading:e.isLoading,disable:!e.currentModel||!e.selectedFile},null,8,["label","loading","disable"]),a(Y,{square:"",flat:"",padding:"md","no-caps":"",label:e.t("avatar.how_does_it_work"),to:"/news/scaling-test-time-compute-for-embedding-models",icon:"help"},null,8,["label"])]),e.isProcessing||e.isLoading?(w(),I(Ae,{key:0,indeterminate:"",size:"1px"})):Q("",!0),a(ue),a(ee,null,{default:t(()=>[$("div",Sr,[(w(!0),X(ne,null,be(e.svgContents,(r,l)=>(w(),X("div",{key:l,class:"col-auto"},[a(se,{flat:"",bordered:"",class:"cursor-pointer q-hoverable",onClick:d=>e.downloadSVG(r,l)},{default:t(()=>[o[1]||(o[1]=$("span",{class:"q-focus-helper"},null,-1)),a(ee,null,{default:t(()=>[$("div",{class:"text-center",innerHTML:r},null,8,Dr)]),_:2},1024)]),_:2},1032,["onClick"])]))),128))])]),_:1})]),_:1})}const Ar=te(Tr,[["render",Rr],["__file","AvatarTab.vue"]]),Vr={...Sa,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:i=>i>=0&&i<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},Ce=50,fa=2*Ce,va=fa*Math.PI,Kr=Math.round(va*1e3)/1e3,Ir=Da({name:"QCircularProgress",props:{...Vr,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(i,{slots:o}){const{proxy:{$q:s}}=Va(),e=Ra(i),c=j(()=>{const f=(s.lang.rtl===!0?-1:1)*i.angle;return{transform:i.reverse!==(s.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-f}deg)`:`rotate3d(0, 0, 1, ${f-90}deg)`}}),_=j(()=>i.instantFeedback!==!0&&i.indeterminate!==!0?{transition:`stroke-dashoffset ${i.animationSpeed}ms ease 0s, stroke ${i.animationSpeed}ms ease`}:""),r=j(()=>fa/(1-i.thickness/2)),l=j(()=>`${r.value/2} ${r.value/2} ${r.value} ${r.value}`),d=j(()=>ft(i.value,i.min,i.max)),v=j(()=>i.max-i.min),k=j(()=>i.thickness/2*r.value),T=j(()=>{const f=(i.max-d.value)/v.value,b=i.rounded===!0&&d.value<i.max&&f<.25?k.value/2*(1-f/.25):0;return va*f+b});function V({thickness:f,offset:b,color:x,cls:D,rounded:h}){return ye("circle",{class:"q-circular-progress__"+D+(x!==void 0?` text-${x}`:""),style:_.value,fill:"transparent",stroke:"currentColor","stroke-width":f,"stroke-dasharray":Kr,"stroke-dashoffset":b,"stroke-linecap":h,cx:r.value,cy:r.value,r:Ce})}return()=>{const f=[];i.centerColor!==void 0&&i.centerColor!=="transparent"&&f.push(ye("circle",{class:`q-circular-progress__center text-${i.centerColor}`,fill:"currentColor",r:Ce-k.value/2,cx:r.value,cy:r.value})),i.trackColor!==void 0&&i.trackColor!=="transparent"&&f.push(V({cls:"track",thickness:k.value,offset:0,color:i.trackColor})),f.push(V({cls:"circle",thickness:k.value,offset:T.value,color:i.color,rounded:i.rounded===!0?"round":void 0}));const b=[ye("svg",{class:"q-circular-progress__svg",style:c.value,viewBox:l.value,"aria-hidden":"true"},f)];return i.showValue===!0&&b.push(ye("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:i.fontSize}},o.default!==void 0?o.default():[ye("div",d.value)])),ye("div",{class:`q-circular-progress q-circular-progress--${i.indeterminate===!0?"in":""}determinate`,style:e.value,role:"progressbar","aria-valuemin":i.min,"aria-valuemax":i.max,"aria-valuenow":i.indeterminate===!0?void 0:d.value},Aa(o.internal,b))}}}),Or=ae({__name:"GroundingDemoComponent",props:{useLazyLoading:{type:Boolean,default:!0}},setup(i,{expose:o}){o();const s=i,e=me(),{apiKey:c}=re(e),{t:_}=ie({useScope:"global"}),r=P("In 2012, President Barack Hussein Obama repealed the Smith-Mundt act, which had been in place in 1948. The law prevented the government from putting its propaganda on TV and Radio."),l=P(!1),d=P(!0),v=P(0),k=P(null),T=P(null),V=P(null);let f=null;const b=j(()=>{var p;return(p=k.value)==null?void 0:p.data}),x=j(()=>{var p;return(p=b.value)!=null&&p.factuality?b.value.factuality*100:0}),D=j(()=>{var p;return((p=b.value)==null?void 0:p.references.filter(K=>K.isSupportive))||[]}),h=j(()=>{const p=Math.floor(v.value/1e3),K=Math.floor(v.value%1e3/100);return`${p}.${K} s`}),L=j(()=>{var p,K;return T.value!==null?((p=b.value)==null?void 0:p.references.filter(g=>g.isSupportive===T.value))||[]:((K=b.value)==null?void 0:K.references)||[]}),R=p=>{T.value===p?T.value=null:T.value=p},M=async()=>{if(!r.value)return;d.value=!0,k.value=null;const p=Date.now(),K=`https://g.jina.ai/${encodeURIComponent(r.value)}${l.value?"?deepdive=true":""}`;try{const g=await fetch(K,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${c.value}`}});v.value=Date.now()-p,k.value=await g.json()}catch(g){k.value={message:g instanceof Error?g.message:String(g)}}finally{d.value=!1}},F=()=>{var K;const p=((K=V.value)==null?void 0:K.$el)||V.value;p instanceof HTMLElement?(f=new IntersectionObserver(g=>{g[0].isIntersecting&&(M(),f==null||f.disconnect())},{root:null,threshold:.1}),f.observe(p)):console.error("Element is not an HTMLElement:",p)};ke(()=>{s.useLazyLoading?Ka(()=>{setTimeout(()=>{F()},100)}):M()}),Ia(()=>{f&&f.disconnect()});const C={props:s,embeddingStore:e,apiKey:c,t:_,query:r,isDeepDive:l,isBusy:d,responseTime:v,response:k,filters:T,componentRef:V,get observer(){return f},set observer(p){f=p},responseData:b,factuality:x,supportiveNum:D,responseTimeString:h,references:L,onFilter:R,sendQuery:M,initIntersectionObserver:F,ref:P,get formatNumber(){return je}};return Object.defineProperty(C,"__isScriptSetup",{enumerable:!1,value:!0}),C}}),xr={class:"text-negative"};function Lr(i,o,s,e,c,_){return w(),I(se,{ref:"componentRef",flat:"",square:"",bordered:"",class:"col-12 col-md-10"},{default:t(()=>{var r;return[a(ee,{class:"q-pa-none"},{default:t(()=>[a(Dt,{onSubmit:e.sendQuery,ref:"formRef"},{default:t(()=>{var l,d;return[a(pe,{square:"",filled:"","bottom-slots":!!e.response,modelValue:e.query,"onUpdate:modelValue":o[1]||(o[1]=v=>e.query=v),disable:e.isBusy,clearable:"",label:e.t("reader.demo.your_statement")},qe({prepend:t(()=>[a(ce,{modelValue:e.isDeepDive,"onUpdate:modelValue":o[0]||(o[0]=v=>e.isDeepDive=v),disable:e.isBusy,"checked-icon":"biotech","icon-color":"black","unchecked-icon":"bolt"},{default:t(()=>[a(Z,null,{default:t(()=>[y(m(e.t("reader.demo.headers.deepdive")),1)]),_:1})]),_:1},8,["modelValue","disable"])]),append:t(()=>[a(Y,{square:"",flat:"",icon:"send",padding:"md",loading:e.isBusy,onClick:e.sendQuery,type:"submit"},null,8,["loading"])]),_:2},[(l=e.response)!=null&&l.name||(d=e.response)!=null&&d.message?{name:"hint",fn:t(()=>[$("span",xr,[y(m(e.response.name||e.response.message)+" ",1),e.response.readableMessage?(w(),I(Z,{key:0},{default:t(()=>[y(m(e.response.readableMessage),1)]),_:1})):Q("",!0)])]),key:"0"}:e.response?{name:"hint",fn:t(()=>{var v;return[a(ge,{icon:"timer",label:`${e.responseTimeString}`,size:"sm",class:"text-dim bg-transparent"},null,8,["label"]),a(ge,{icon:"straighten",label:`${e.formatNumber(((v=e.responseData)==null?void 0:v.usage.tokens)||0)} ${e.t("embedding.tokens")}`,size:"sm",class:"text-dim bg-transparent"},null,8,["label"])]}),key:"1"}:void 0]),1032,["bottom-slots","modelValue","disable","label"])]}),_:1},512)]),_:1}),e.isBusy?(w(),I(Ae,{key:0,indeterminate:"",size:"1px"})):Q("",!0),e.responseData?(w(),I(ee,{key:1,class:"q-mt-lg"},{default:t(()=>[a(N,null,{default:t(()=>[a(E,{side:""},{default:t(()=>[a(Ir,{"show-value":"",value:e.factuality,size:"60px",thickness:.1,color:e.factuality>50?"positive":"negative","track-color":"surface-mixed-200"},{default:t(()=>{var l,d;return[a(J,{name:(l=e.responseData)!=null&&l.result?"check":"close",color:(d=e.responseData)!=null&&d.result?"accent":"negative",size:"30px"},null,8,["name","color"])]}),_:1},8,["value","color"])]),_:1}),a(E,null,{default:t(()=>[a(S,{class:"text-bold"},{default:t(()=>[y(m(e.responseData.result?e.t("reader.demo.grounding_result_true"):e.t("reader.demo.grounding_result_false")),1)]),_:1}),a(S,{caption:""},{default:t(()=>{var l;return[y(m((l=e.responseData)==null?void 0:l.reason),1)]}),_:1})]),_:1}),a(E,{side:""},{default:t(()=>[a(pt,{outline:"",square:""},{default:t(()=>{var l,d,v;return[a(Y,{label:(l=e.supportiveNum)==null?void 0:l.length,icon:"thumb_up",square:"",onClick:o[2]||(o[2]=k=>e.onFilter(!0)),outline:""},null,8,["label"]),a(ue),a(Y,{label:(((d=e.responseData)==null?void 0:d.references.length)||0)-((v=e.supportiveNum)==null?void 0:v.length),icon:"thumb_down",square:"",onClick:o[3]||(o[3]=k=>e.onFilter(!1)),outline:""},null,8,["label"])]}),_:1})]),_:1})]),_:1})]),_:1})):Q("",!0),(r=e.responseData)!=null&&r.references.length?(w(),I(ee,{key:2},{default:t(()=>[a(Pe,null,{default:t(()=>[a(Ue,{name:"list2"},{default:t(()=>[(w(!0),X(ne,null,be(e.references,l=>(w(),I(N,{clickable:"",key:l.url,href:l.url,target:"_blank",class:"card-details"},{default:t(()=>[a(E,{avatar:""},{default:t(()=>[a(J,{name:l.isSupportive?"thumb_up":"thumb_down",color:l.isSupportive?"positive":"negative"},null,8,["name","color"])]),_:2},1024),a(E,null,{default:t(()=>[a(S,{lines:"1",class:"text-italic"},{default:t(()=>[y("... "+m(l.keyQuote)+" ...",1)]),_:2},1024),a(S,{caption:""},{default:t(()=>[a(ge,{square:"",size:"sm",icon:`img:https://www.google.com/s2/favicons?sz=32&domain_url=${l.url}`,label:l.url,class:"text-caption q-mx-none bg-mixed-200",style:{"max-width":"60%"}},null,8,["icon","label"])]),_:2},1024)]),_:2},1024),a(E,{side:""},{default:t(()=>[a(J,{name:"open_in_new",size:"xs",class:"read-more-btn"})]),_:1})]),_:2},1032,["href"]))),128))]),_:1})]),_:1})]),_:1})):Q("",!0)]}),_:1},512)}const Cr=te(Or,[["render",Lr],["__file","GroundingDemoComponent.vue"]]),Mr=ae({__name:"GroundingTab",setup(i,{expose:o}){o();const s={GroundingDemoComponent:Cr};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}});function qr(i,o,s,e,c,_){return w(),I(se,{flat:"",class:"column no-wrap full-height"},{default:t(()=>[a(e.GroundingDemoComponent,{"use-lazy-loading":!1})]),_:1})}const Br=te(Mr,[["render",qr],["__scopeId","data-v-0622c9bb"],["__file","GroundingTab.vue"]]),xe="https://llm-serp.jina.ai",Ur=ae({__name:"UsageComponent",setup(i,{expose:o}){o();const{t:s}=ie({useScope:"global"}),e=_e(),c=me(),{apiKey:_}=re(c),r=P(!1),l=P({}),d=P({q:"jina ai",location:""}),v=j(()=>{const D={};for(const[h,L]of Object.entries(d.value))L&&(D[h]=L);return D}),k=P({}),T=P([{header:"Authorization",value:`Bearer ${_.value}`,label:"auth_token",type:"toggle",url:"/api-dashboard/rate-limit",get disabled(){return!_.value},get indicator(){return!!k.value[this.header]},set(D){D?k.value[this.header]=this.value:delete k.value[this.header]}},{label:"country",type:"select",value:d.value.gl,options:[{value:"Default"},...za],indicator:!0,set(D){if(this.value=D,D==="Default"){delete d.value.gl;return}d.value.gl=D},init(){this.value="Default"}},{label:"location",type:"text",value:d.value.location,indicator:!0,set(D){this.value=D,d.value.location=D}},{label:"language",type:"select",value:d.value.hl,indicator:!0,options:[{value:"Default"},...Ya],set(D){if(this.value=D,D==="Default"){delete d.value.hl;return}d.value.hl=D},init(){this.value="Default"}},{label:"number",type:"select",options:[{value:10},{value:20},{value:30}],value:d.value.num,set(D){this.value=D||null;const h=Number(this.value);if(h===10){delete d.value.num;return}d.value.num=h},init(){this.set(10)}},{label:"page",type:"number",min:1,indicator:!0,value:d.value.page,set(D){this.value=D||null;const h=Number(this.value);if(h===1){delete d.value.page;return}d.value.page=h},init(){this.set(1)}}]),V=j(()=>{for(const R of T.value)R.disabled&&R.set(!1);const D=["Content-Type: application/json"];for(const[R,M]of Object.entries(k.value))if(M){if(typeof M=="string")D.push(`${R}: ${M}`);else if(Array.isArray(M))for(const F of M)D.push(`${R}: ${F}`)}const h=D.map(R=>`  -H "${R}"`).join(`\\
`);return`
\`\`\`bash
${[`curl ${xe}`,`${h}`,`  -d @- <<EOFEOF
  {
    ${JSON.stringify(v.value,null,4).slice(1,-1).trim()}
  }
EOFEOF`].join(` \\
`)}
\`\`\`
  `}),f=P(!1),b=async()=>{if(!_.value||!v.value.q)return;l.value={};const D={"Content-Type":"application/json"};for(const h of T.value)h.indicator&&h.header&&(D[h.header]=h.value);r.value=!0,fetch(xe,{method:"POST",headers:D,body:JSON.stringify(v.value)}).then(async h=>{var L;if((L=h.headers.get("content-type"))!=null&&L.includes("text/event-stream")){if(h.body){l.value={status:h.status,statusText:h.statusText,eventStream:!0,data:[]};const R=h.body.getReader(),M=new TextDecoder;for(;;){const{done:F,value:C}=await R.read();if(F){f.value=!1,r.value=!1;break}C&&(f.value=!0,M.decode(C).split(`

`).forEach(g=>{const A=g.split(`
`).find(O=>O.startsWith("data: "));if(!A)return;const B=A.replace(/data: /g,"");try{B&&l.value.data.push(B)}catch(O){console.error("Error:",O)}}))}}}else{l.value={status:h.status,statusText:h.statusText};const R=await h.json();l.value.data={status:h.status,type:"json",content:R}}}).catch(h=>{console.error("Error:",h),l.value={status:500,data:h.message}}).finally(()=>{r.value=!1,f.value=!1})};ke(()=>{T.value.forEach(D=>{D.init&&D.init()})});const x={t:s,$q:e,embeddingStore:c,apiKey:_,isBusy:r,response:l,payload:d,BASE_URL:xe,adaptablePayload:v,headers:k,availableParameters:T,adaptableCode:V,isStreaming:f,onExecute:b,UsageHeader:Wa,APIPanel:Ja};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}});function Nr(i,o,s,e,c,_){return w(),I(se,{flat:"",square:"",class:"column no-wrap full-height"},{default:t(()=>[a(e.UsageHeader,{"home-link":"/llm-serp-demo","issue-link":"https://github.com/jina-ai/node-serp/issues","is-support-c-s-p":!1,"api-link":""}),a(ue),a(ee,{horizontal:e.$q.screen.gt.sm,class:"q-pa-none",style:{"flex-grow":"1"}},{default:t(()=>[a(ee,{class:"col-md-6 col-lg-5 col-xl-4 q-pa-none"},{default:t(()=>[a(Pe,{class:"full-width"},{default:t(()=>[a(Ue,{name:"list2"},{default:t(()=>[a(N,{key:"query",class:"q-pa-none"},{default:t(()=>[a(E,null,{default:t(()=>[a(pe,{type:"textarea",rows:"1",modelValue:e.payload.q,"onUpdate:modelValue":o[0]||(o[0]=r=>e.payload.q=r),class:"full-width text-caption",filled:"",square:"","hide-bottom-space":"",label:e.t("llm_serp.query_label"),rules:[r=>!!r]},{prepend:t(()=>[a(J,{name:"search"})]),_:1},8,["modelValue","label","rules"])]),_:1})]),_:1}),(w(!0),X(ne,null,be(e.availableParameters,r=>(w(),X(ne,{key:r.label},[r.disabled?Q("",!0):(w(),I(N,{tag:"label",key:r.label},{default:t(()=>[a(E,null,{default:t(()=>[a(S,null,{default:t(()=>[y(m(e.t(`llm_serp.parameters.${r.label}`)),1)]),_:2},1024),a(S,{caption:"",innerHTML:e.t(`llm_serp.parameters.${r.label}_explain`)},null,8,["innerHTML"]),r.url?(w(),I(S,{key:0,caption:"",class:"q-pt-sm"},{default:t(()=>[a(Y,{href:r.url,label:e.t("deepsearch.learn_more"),size:"xs",outline:"",square:"",icon:"open_in_new",target:"_blank"},null,8,["href","label"])]),_:2},1024)):Q("",!0)]),_:2},1024),r.type==="toggle"?(w(),I(E,{key:0,side:""},{default:t(()=>[a(ce,{disable:r.disabled,"model-value":r.indicator,"onUpdate:modelValue":l=>r.set(l)},null,8,["disable","model-value","onUpdate:modelValue"])]),_:2},1024)):r.type==="text"||r.type==="number"?(w(),I(E,{key:1,side:""},{default:t(()=>[a(pe,{"model-value":r.value,"onUpdate:modelValue":l=>r.set(l),filled:"",square:"",type:r.type,min:r.min,style:{"max-width":"100px"},disable:!r.indicator},null,8,["model-value","onUpdate:modelValue","type","min","disable"])]),_:2},1024)):r.type==="select"?(w(),I(E,{key:2,side:""},{default:t(()=>[a(ve,{modelValue:r.value,"onUpdate:modelValue":[l=>r.value=l,l=>r.set(l)],options:r.options,style:{"min-width":"100px"},filled:"",square:"","hide-bottom-space":"","emit-value":"","map-options":""},{option:t(({opt:l,itemProps:d})=>[a(N,Re({ref_for:!0},d),{default:t(()=>[a(E,null,{default:t(()=>[a(S,null,{default:t(()=>[$("code",null,m(l.value),1)]),_:2},1024),a(S,{caption:""},{default:t(()=>[y(m(l.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),selected:t(()=>[a(E,null,{default:t(()=>[a(S,null,{default:t(()=>[$("code",null,m(r.value),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue","options"])]),_:2},1024)):Q("",!0)]),_:2},1024))],64))),128))]),_:1})]),_:1})]),_:1}),a(ue,{vertical:e.$q.screen.gt.sm},null,8,["vertical"]),a(e.APIPanel,{code:e.adaptableCode,onExecute:e.onExecute,loading:e.isBusy,"is-streaming":e.isStreaming,response:e.response,disabled:!e.apiKey},null,8,["code","loading","is-streaming","response","disabled"])]),_:1},8,["horizontal"])]),_:1})}const jr=te(Ur,[["render",Nr],["__file","UsageComponent.vue"]]),Fr=ae({__name:"CostEstimator",setup(i,{expose:o}){o();const{t:s}=ie({useScope:"global",inheritLocale:!0}),e=Se(),c=P("quarterly"),_=P(!1),r=P("business"),l=P(5);Be(r,u=>{l.value=u==="business"?5:1e4});const d=P("standard"),v=P(3),k=P(!1),T=P("steady"),V=P({"jina-embeddings":!0,"jina-clip":!1,"jina-colbert":!1,"jina-reranker":!1,ReaderLM:!1}),f=P("standard"),b=P(!1),x=P(!1),D=P(!1),h={usageTiers:{business:[{limit:5,price:0},{limit:10,price:2e3},{limit:25,price:5e3},{limit:50,price:1e4},{limit:100,price:2e4}],consumer:[{limit:1e4,price:0},{limit:5e4,price:2e3},{limit:1e5,price:5e3},{limit:5e5,price:1e4},{limit:1e6,price:2e4}]},modelPrices:{"jina-embeddings":0,"jina-clip":5e3,"jina-colbert":3e3,"jina-reranker":4e3,ReaderLM:2e3},supportTiers:{standard:0,premium:5e3,enterprise:15e3},features:{priorityResponse:2e3,dedicatedCSM:8e3,customModelTraining:1e4},basePrice:5e3},L=j(()=>{let u=h.basePrice;const A=h.usageTiers[r.value],B=A.find((O,q)=>l.value<=O.limit||q===A.length-1);if(u+=(B==null?void 0:B.price)||0,Object.entries(V.value).forEach(([O,q])=>{q&&h.modelPrices[O]>0&&(u+=h.modelPrices[O])}),u+=h.supportTiers[f.value],b.value&&(u+=h.features.priorityResponse),x.value&&(u+=h.features.dedicatedCSM),D.value&&(u+=h.features.customModelTraining),d.value==="poc")u=u*.4;else if(d.value==="department"){let O=.15;const q={limited:1,steady:.95,high:.9};k.value&&(u=u*1.1,O=.25),u=u*(1-O)*q[T.value]}return{monthly:u/3,quarterly:u,annual:u*4*.9,final:_.value?u*4*.9:u}}),R=[{label:s("estimator.labels.upTo",{count:5}),value:5},{label:s("estimator.labels.upTo",{count:10}),value:10},{label:s("estimator.labels.upTo",{count:25}),value:25},{label:s("estimator.labels.upTo",{count:50}),value:50},{label:s("estimator.labels.upTo",{count:100}),value:100}],M=[{label:s("estimator.labels.upTo",{count:1e4}),value:1e4},{label:s("estimator.labels.upTo",{count:5e4}),value:5e4},{label:s("estimator.labels.upTo",{count:1e5}),value:1e5},{label:s("estimator.labels.upTo",{count:5e5}),value:5e5},{label:s("estimator.labels.upTo",{count:1e6}),value:1e6}],F=j(()=>r.value==="business"&&l.value>100||r.value==="consumer"&&l.value>1e6),C=j({get(){return Object.entries(V.value).filter(([,u])=>u).map(([u])=>u)},set(u){for(let A of Object.keys(V.value))V.value[A]=!1;u.forEach(A=>{V.value[A]=!0})}}),p=["jina-embeddings","jina-clip","jina-colbert","jina-reranker","ReaderLM"],K=j(()=>[d.value==="standard"&&{title:s("estimator.messaging.standardFeatures"),icon:null,items:[{label:s("estimator.messaging.baseModelIncluded"),hasCheckmark:!0},{label:s("estimator.messaging.supportTierIncluded",{tier:s(`estimator.support.${f.value}`),hours:s("estimator.support.hoursQuarter",{hours:f.value==="standard"?10:f.value==="premium"?25:40})}),hasCheckmark:!0},{label:s(r.value==="business"?"estimator.messaging.usageTierBusiness":"estimator.messaging.usageTierConsumer",{count:l.value.toLocaleString()}),hasCheckmark:!0}]},C.value.length>1&&{title:s("estimator.messaging.selectedModels"),icon:"info",items:C.value.map(u=>({label:u}))},(b.value||x.value||D.value)&&{title:s("estimator.messaging.additionalFeatures"),icon:"info",items:[b.value&&{label:s("estimator.features.priority")},x.value&&{label:s("estimator.features.csm")},D.value&&{label:s("estimator.features.training")}].filter(Boolean)},d.value==="poc"&&{title:s("estimator.messaging.pocIncludes"),icon:"info",items:[{label:s("estimator.messaging.pocMetrics")},{label:s("estimator.messaging.pocCheckins")},{label:s("estimator.messaging.pocMigration")}]},d.value==="department"&&{title:s("estimator.messaging.deptIncludes"),icon:"info",items:[{label:s("estimator.messaging.deptReviews")},{label:s("estimator.messaging.deptRoadmap")},k.value&&{label:s("estimator.messaging.deptSponsor")},T.value==="high"&&{label:s("estimator.messaging.deptWorkshops")}].filter(Boolean)},F.value&&{title:s("estimator.messaging.enterpriseAlert"),icon:"warning",isAlert:!0,items:[]}].filter(Boolean));Oa(()=>{e.setLicenseConfig({contractType:d.value,pocDuration:v.value,hasBusinessSponsor:d.value==="department"?k.value:void 0,expectedGrowth:d.value==="department"?T.value:void 0,selectedModels:C.value,supportTier:f.value,priorityResponse:b.value,dedicatedCSM:x.value,customModelTraining:D.value,usageType:r.value,usageCount:l.value,paymentFrequency:_.value?"annual":"quarterly",price:L.value.final})});const g={t:s,userStore:e,paymentFrequency:c,isAnnual:_,usageType:r,usageCount:l,contractType:d,pocDuration:v,hasBusinessSponsor:k,expectedGrowth:T,selectedModels:V,supportTier:f,priorityResponse:b,dedicatedCSM:x,customModelTraining:D,prices:h,calculateTotalPrice:L,businessUsageOptions:R,consumerUsageOptions:M,showEnterpriseAlert:F,selectedModelsArray:C,allModelOptions:p,featuresSections:K};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}});function Gr(i,o,s,e,c,_){return w(),I(se,{flat:"",class:"column no-wrap full-height"},{default:t(()=>[a(ee,{horizontal:i.$q.screen.gt.sm,class:"full-height"},{default:t(()=>[a(Pe,{class:"col"},{default:t(()=>[a(N,null,{default:t(()=>[a(E,null,{default:t(()=>[a(S,{class:"text-bold"},{default:t(()=>[y(m(e.t("estimator.models.title")),1)]),_:1}),a(S,{caption:""},{default:t(()=>[y(m(e.t("estimator.models.description")),1)]),_:1})]),_:1}),a(E,null,{default:t(()=>[a(ve,{square:"",modelValue:e.selectedModelsArray,"onUpdate:modelValue":o[0]||(o[0]=r=>e.selectedModelsArray=r),multiple:"",options:e.allModelOptions,"use-chips":"","emit-value":"",filled:"",label:e.t("estimator.labels.selectAll")},null,8,["modelValue","label"])]),_:1})]),_:1}),a(N,null,{default:t(()=>[a(E,null,{default:t(()=>[a(S,{class:"text-bold"},{default:t(()=>[y(m(e.t("estimator.contractType.title")),1)]),_:1}),a(S,{caption:""},{default:t(()=>[y(m(e.t(`estimator.descriptions.contractType.${e.contractType}`)),1)]),_:1})]),_:1})]),_:1}),a(N,null,{default:t(()=>[a(Ke,{modelValue:e.contractType,"onUpdate:modelValue":o[1]||(o[1]=r=>e.contractType=r),options:[{label:e.t("estimator.contractType.standard"),value:"standard"},{label:e.t("estimator.contractType.department"),value:"department"}],type:"radio"},null,8,["modelValue","options"])]),_:1}),e.contractType==="poc"?(w(),I(N,{key:0},{default:t(()=>[a(E,null,{default:t(()=>[a(S,null,{default:t(()=>[y(m(e.t("estimator.poc.duration")),1)]),_:1}),a(S,{caption:""},{default:t(()=>[y(m(e.t("estimator.poc.description")),1)]),_:1})]),_:1}),a(E,null,{default:t(()=>[a(Za,{modelValue:e.pocDuration,"onUpdate:modelValue":o[2]||(o[2]=r=>e.pocDuration=r),min:3,max:6,step:1,label:"","label-always":""},null,8,["modelValue"])]),_:1})]),_:1})):Q("",!0),e.contractType==="department"?(w(),X(ne,{key:1},[a(N,{tag:"label"},{default:t(()=>[a(E,null,{default:t(()=>[a(S,{class:"text-bold"},{default:t(()=>[y(m(e.t("estimator.department.executionModel")),1)]),_:1}),a(S,{caption:""},{default:t(()=>[y(m(e.t("estimator.department.sponsorDescription")),1)]),_:1})]),_:1}),a(E,{side:""},{default:t(()=>[a(ce,{modelValue:e.hasBusinessSponsor,"onUpdate:modelValue":o[3]||(o[3]=r=>e.hasBusinessSponsor=r),label:e.t("estimator.department.businessSponsor")},null,8,["modelValue","label"])]),_:1})]),_:1}),a(N,null,{default:t(()=>[a(E,null,{default:t(()=>[a(S,{class:"text-bold"},{default:t(()=>[y(m(e.t("estimator.department.growthTitle")),1)]),_:1})]),_:1})]),_:1}),a(N,null,{default:t(()=>[a(Ke,{modelValue:e.expectedGrowth,"onUpdate:modelValue":o[5]||(o[5]=r=>e.expectedGrowth=r),options:[{label:e.t("estimator.department.growth.limited"),value:"limited",caption:e.t("estimator.department.growth.limitedDesc")},{label:e.t("estimator.department.growth.steady"),value:"steady",caption:e.t("estimator.department.growth.steadyDesc")},{label:e.t("estimator.department.growth.high"),value:"high",caption:e.t("estimator.department.growth.highDesc")}],type:"radio"},{item:t(({opt:r,index:l})=>[De((w(),I(N,{tag:"label"},{default:t(()=>[a(E,{avatar:""},{default:t(()=>[a(ma,{modelValue:e.expectedGrowth,"onUpdate:modelValue":o[4]||(o[4]=d=>e.expectedGrowth=d),val:r.value},null,8,["modelValue","val"])]),_:2},1024),a(E,null,{default:t(()=>[a(S,null,{default:t(()=>[y(m(r.label),1)]),_:2},1024),a(S,{caption:""},{default:t(()=>[y(m(r.caption),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[xa]])]),_:1},8,["modelValue","options"])]),_:1})],64)):Q("",!0),a(N,null,{default:t(()=>[a(E,null,{default:t(()=>[a(S,{class:"text-bold"},{default:t(()=>[y(m(e.t("estimator.usage.title")),1)]),_:1}),a(S,{caption:""},{default:t(()=>[y(m(e.t(`estimator.descriptions.usage.${e.usageType}`)),1)]),_:1})]),_:1}),a(E,null,{default:t(()=>[a(ve,{class:"full-width",square:"",modelValue:e.usageCount,"onUpdate:modelValue":o[6]||(o[6]=r=>e.usageCount=r),options:e.usageType==="business"?e.businessUsageOptions:e.consumerUsageOptions,label:e.usageType==="business"?e.t("estimator.usage.businessCount"):e.t("estimator.usage.consumerCount"),filled:"","emit-value":"","map-options":"","option-label":"label","option-value":"value"},null,8,["modelValue","options","label"])]),_:1})]),_:1}),a(N,null,{default:t(()=>[a(Ke,{modelValue:e.usageType,"onUpdate:modelValue":o[7]||(o[7]=r=>e.usageType=r),options:[{label:e.t("estimator.usage.business"),value:"business"},{label:e.t("estimator.usage.consumer"),value:"consumer"}],type:"radio"},null,8,["modelValue","options"])]),_:1}),a(N,null,{default:t(()=>[a(E,null,{default:t(()=>[a(S,{class:"text-bold"},{default:t(()=>[y(m(e.t("estimator.support.title")),1)]),_:1}),a(S,{caption:""},{default:t(()=>[y(m(e.t(`estimator.descriptions.support.${e.supportTier}`)),1)]),_:1})]),_:1}),a(E,null,{default:t(()=>[a(ve,{modelValue:e.supportTier,"onUpdate:modelValue":o[8]||(o[8]=r=>e.supportTier=r),options:[{label:e.t("estimator.support.hoursQuarter",{hours:10}),value:"standard"},{label:e.t("estimator.support.hoursQuarter",{hours:25}),value:"premium"},{label:e.t("estimator.support.hoursQuarter",{hours:40}),value:"enterprise"}],filled:"",square:"","emit-value":"","map-options":"","option-label":"label","option-value":"value",label:e.t("estimator.labels.selectSupport")},null,8,["modelValue","options","label"])]),_:1})]),_:1}),e.contractType!=="poc"?(w(),X(ne,{key:2},[a(N,null,{default:t(()=>[a(S,{class:"text-bold"},{default:t(()=>[y(m(e.t("estimator.features.title")),1)]),_:1})]),_:1}),a(N,{tag:"label"},{default:t(()=>[a(E,null,{default:t(()=>[a(S,null,{default:t(()=>[y(m(e.t("estimator.features.priority")),1)]),_:1}),a(S,{caption:""},{default:t(()=>[y(m(e.t("estimator.descriptions.features.priority")),1)]),_:1})]),_:1}),a(E,{side:""},{default:t(()=>[a(ce,{modelValue:e.priorityResponse,"onUpdate:modelValue":o[9]||(o[9]=r=>e.priorityResponse=r)},null,8,["modelValue"])]),_:1})]),_:1}),a(N,{tag:"label"},{default:t(()=>[a(E,null,{default:t(()=>[a(S,null,{default:t(()=>[y(m(e.t("estimator.features.csm")),1)]),_:1}),a(S,{caption:""},{default:t(()=>[y(m(e.t("estimator.descriptions.features.csm")),1)]),_:1})]),_:1}),a(E,{side:""},{default:t(()=>[a(ce,{modelValue:e.dedicatedCSM,"onUpdate:modelValue":o[10]||(o[10]=r=>e.dedicatedCSM=r)},null,8,["modelValue"])]),_:1})]),_:1}),a(N,{tag:"label"},{default:t(()=>[a(E,null,{default:t(()=>[a(S,null,{default:t(()=>[y(m(e.t("estimator.features.training")),1)]),_:1}),a(S,{caption:""},{default:t(()=>[y(m(e.t("estimator.descriptions.features.training")),1)]),_:1})]),_:1}),a(E,{side:""},{default:t(()=>[a(ce,{modelValue:e.customModelTraining,"onUpdate:modelValue":o[11]||(o[11]=r=>e.customModelTraining=r)},null,8,["modelValue"])]),_:1})]),_:1})],64)):Q("",!0)]),_:1}),a(ue,{vertical:i.$q.screen.gt.sm},null,8,["vertical"]),a(se,{class:"col-4 bg-mixed-200",flat:"",square:""},{default:t(()=>[a(ee,{class:"q-pa-none"},{default:t(()=>[a(Pe,{dense:""},{default:t(()=>[a(N,{class:"q-my-lg"},{default:t(()=>[a(E,null,{default:t(()=>[a(S,{overline:""},{default:t(()=>[y(m(e.t("estimator.pricing.title")),1)]),_:1}),a(Ue,{name:"list2"},{default:t(()=>[(w(),I(S,{key:e.calculateTotalPrice.final,class:"text-h5 q-py-md"},{default:t(()=>[y(m(e.contractType==="poc"?e.t("estimator.pricing.oneTime",{price:Math.round(e.calculateTotalPrice.monthly*e.pocDuration).toLocaleString()}):e.t("estimator.pricing.frequency",{price:e.calculateTotalPrice[e.isAnnual?"final":"quarterly"].toLocaleString(),frequency:e.t(`estimator.pricing.${e.isAnnual?"annual":"quarterly"}`)})),1)]),_:1}))]),_:1}),a(S,{caption:"",class:"text-dim"},{default:t(()=>[y(m(e.t("estimator.pricing.disclaimer")),1)]),_:1})]),_:1})]),_:1}),a(N,{tag:"label"},{default:t(()=>[a(E,null,{default:t(()=>[a(S,{class:"text-bold"},{default:t(()=>[y(m(e.t("estimator.payment.title")),1)]),_:1}),a(S,{caption:""},{default:t(()=>[y(m(e.t(`estimator.descriptions.payment.${e.isAnnual?"annual":"quarterly"}`)),1)]),_:1})]),_:1}),a(E,{side:""},{default:t(()=>[a(ce,{modelValue:e.isAnnual,"onUpdate:modelValue":o[12]||(o[12]=r=>e.isAnnual=r),label:e.t("estimator.payment.annual"),"checked-icon":"percent"},null,8,["modelValue","label"])]),_:1})]),_:1}),a(N,null,{default:t(()=>[a(Y,{square:"",outline:"",icon:"handshake",label:e.t("estimator.pricing.cta"),padding:"lg",class:"full-width q-my-lg",to:"/contact-sales?license-config=true"},null,8,["label"])]),_:1}),a(ue),(w(!0),X(ne,null,be(e.featuresSections,r=>(w(),X(ne,{key:r.title},[a(S,{header:""},{default:t(()=>[y(m(r.title),1)]),_:2},1024),(w(!0),X(ne,null,be(r.items,(l,d)=>(w(),I(N,{key:d},{default:t(()=>[a(E,{side:""},{default:t(()=>[a(J,{name:"task_alt",size:"xs"})]),_:1}),a(E,null,{default:t(()=>[a(S,null,{default:t(()=>[y(m(l.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))],64))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["horizontal"])]),_:1})}const Qr=te(Fr,[["render",Gr],["__file","CostEstimator.vue"]]),Hr=ae({__name:"SeFoPage",setup(i,{expose:o}){o();const s={[G.PRICING]:Jt,[G.CODE]:Xa,[G.RERANK_CODE]:$a,[G.READER_CODE]:et,[G.CLASSIFY]:at,[G.TOKENIZER]:tt,[G.INTEGRATIONS]:rt,[G.TEST]:st,[G.SEARCH]:sa,[G.VISUALIZE]:sa,[G.BULK]:ot,[G.ONPREM]:null,[G.KEY_MANAGER]:wr,[G.AVATAR]:Ar,[G.GROUNDING]:Br,[G.DEEPSEARCH]:lt,[G.LICENSE_CONFIG]:Qr,[G.CHAT]:Rt,[G.RATE_LIMIT]:mt,[G.CONTACT_SALES]:Vt,[G.LLM_SERP]:jr},e=_e(),c=La(),_=Ca(),{t:r}=ie({useScope:"global"}),l=me(),{apiKey:d,classifiers:v,turnstileState:k}=re(l),T=Se(),{user:V}=re(T),{models:f}=At();c.params.tab===G.CHAT?na({page:"deepsearch.chat_ui",banner:"banner-deepsearch.png",url:"api-dashboard/deepsearch-chat"}):na({page:"key_manager",banner:"banner-api.png",url:"api-dashboard"});const b=P(ra(c.params.tab instanceof Array?c.params.tab[0]:c.params.tab));Be(()=>c.params.tab,L=>{const R=L instanceof Array?L[0]:L;!V.value.uid&&R===G.KEY_MANAGER&&_.push({params:{tab:G.READER_CODE},query:c.query}),b.value=R}),ke(()=>{navigator.userAgent.toLowerCase().includes("headless")||x()});async function x(){console.log("checkURLForParam");const L=new URLSearchParams(window.location.search);if(L.has("login")&&!V.value.uid){const R=new URL(window.location.href);R.searchParams.delete("login"),window.history.pushState({},"",R),e.dialog({component:ht,persistent:!0})}if(L.has("sui")){const R=ra(L.get("sui")||"embedding");if(b.value!==R)_.replace({params:{tab:R},query:{...c.query,sui:void 0}});else{const M=new URL(window.location.href);M.searchParams.delete("sui"),window.history.pushState({},"",M)}}if(L.has("task")){l.task=L.get("task")||"";const R=new URL(window.location.href);R.searchParams.delete("task"),window.history.pushState({},"",R)}if(L.has("model")){const R=L.get("model"),M=R&&f.value.find(F=>F.name===R);if(M&&b.value!==G.CLASSIFY){const F=M.metadata.endpoints||[];[G.CODE,G.RERANK_CODE].includes(b.value)||(F.some(C=>["embedding","multi-vector"].includes(C))?b.value=G.CODE:F.includes("rank")&&(b.value=G.RERANK_CODE))}else v.value.length===0&&await l.getClassifiers(d.value),v.value.find(C=>C.classifier_id===R)&&(b.value=G.CLASSIFY)}}const h={COMPONENTS:s,$q:e,route:c,router:_,t:r,embeddingStore:l,apiKey:d,classifiers:v,turnstileState:k,userStore:T,user:V,allModels:f,currentTab:b,checkURLForParam:x,openBrowserInfoDialog:()=>{e.dialog({component:nt,componentProps:{state:k.value}})},get EMBEDDING_TABS(){return G},get TurnstileState(){return ja}};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}}),zr={key:0},Yr={key:1},Wr={class:"column no-wrap full-width",style:{"flex-grow":"1"}};function Jr(i,o,s,e,c,_){return w(),I(Ba,{class:"row"},{default:t(()=>[e.turnstileState===e.TurnstileState.ERROR||e.turnstileState===e.TurnstileState.UNSUPPORTED?(w(),I(qa,{key:0,"inline-actions":"",class:"text-white bg-negative full-width"},{action:t(()=>[a(Y,{square:"",outline:"",class:"q-mr-sm",label:e.t("landing_page.view_browser_info"),onClick:e.openBrowserInfoDialog},null,8,["label"]),a(Y,{square:"",outline:"",to:"/contact-sales",label:e.t("landing_page.contact_sales")},null,8,["label"])]),default:t(()=>[a(J,{name:"report_problem",size:"sm",class:"q-mr-sm"}),e.turnstileState===e.TurnstileState.ERROR?(w(),X("span",zr,m(e.t("embedding.turnstile_error")),1)):e.turnstileState===e.TurnstileState.UNSUPPORTED?(w(),X("span",Yr,m(e.t("embedding.turnstile_unsupported")),1)):Q("",!0),y(" "+m(e.t("embedding.mistake_contact"))+" ",1)]),_:1})):Q("",!0),$("div",Wr,[(w(),I(Ma(e.COMPONENTS[e.currentTab]),{asVisualizer:e.currentTab===e.EMBEDDING_TABS.VISUALIZE,maximizedWindow:!0},null,8,["asVisualizer"]))])]),_:1})}const Ns=te(Hr,[["render",Jr],["__file","SeFoPage.vue"]]);export{Ns as default};
