import{s as ge,m as D,p as z,ce as ve,i as pe,h as ye,j as J,a1 as F,dJ as _e,a0 as G,u as le,am as V,k as R,n as Z,a2 as X,a3 as l,a4 as g,a5 as d,aa as O,ah as N,b5 as P,a6 as h,ab as j,aq as te,ad as se,ae as K,af as Y,ag as $,q as E,aj as be,aB as ke,bS as xe,aQ as Se,aU as Ce,aL as qe,aO as we,aP as Qe,ba as Te,a9 as Me,a7 as ze,V as ae,ap as De,a8 as I,ai as He,T as ne,bT as je}from"./index-CGqZITWG.js";import{Q as ee,b as ie}from"./QChip-YxAUaBWz.js";import{Q as Be}from"./QScrollObserver--95CmNvV.js";import{Q as Ue}from"./QResizeObserver-DDkf1uqf.js";import{f as Le,i as Oe}from"./date-B2u0vsSO.js";import{Q as Re}from"./QSpinnerDots-wwq8wjko.js";import{Q as Ee,d as Ie,U as Ne}from"./BrowserInfoDialog-DN5kRthb.js";import{Q as oe}from"./QItemLabel-DBu_j2Nl.js";import{Q as Ye}from"./QExpansionItem-CYSf1DNp.js";import{T as $e}from"./QSpinnerRings-BUPhoOaW.js";import{u as ce}from"./use-dialog-plugin-component-1wUq49su.js";import{P as Pe}from"./crypto-CZra4cp7.js";import{Q as re}from"./QTooltip-UBDZyM3s.js";import{a as Ve}from"./finetune-DvfnT5kx.js";const We=ge({name:"QChatMessage",props:{sent:Boolean,label:String,bgColor:String,textColor:String,name:String,avatar:String,text:Array,stamp:String,size:String,labelHtml:Boolean,nameHtml:Boolean,textHtml:Boolean,stampHtml:Boolean},setup(s,{slots:o}){const a=D(()=>s.sent===!0?"sent":"received"),e=D(()=>`q-message-text-content q-message-text-content--${a.value}`+(s.textColor!==void 0?` text-${s.textColor}`:"")),p=D(()=>`q-message-text q-message-text--${a.value}`+(s.bgColor!==void 0?` text-${s.bgColor}`:"")),u=D(()=>"q-message-container row items-end no-wrap"+(s.sent===!0?" reverse":"")),n=D(()=>s.size!==void 0?`col-${s.size}`:""),r=D(()=>({msg:s.textHtml===!0?"innerHTML":"textContent",stamp:s.stampHtml===!0?"innerHTML":"textContent",name:s.nameHtml===!0?"innerHTML":"textContent",label:s.labelHtml===!0?"innerHTML":"textContent"}));function S(c){return o.stamp!==void 0?[c,z("div",{class:"q-message-stamp"},o.stamp())]:s.stamp?[c,z("div",{class:"q-message-stamp",[r.value.stamp]:s.stamp})]:[c]}function T(c,w){const v=w===!0?c.length>1?b=>b:b=>z("div",[b]):b=>z("div",{[r.value.msg]:b});return c.map((b,x)=>z("div",{key:x,class:p.value},[z("div",{class:e.value},S(v(b)))]))}return()=>{const c=[];o.avatar!==void 0?c.push(o.avatar()):s.avatar!==void 0&&c.push(z("img",{class:`q-message-avatar q-message-avatar--${a.value}`,src:s.avatar,"aria-hidden":"true"}));const w=[];o.name!==void 0?w.push(z("div",{class:`q-message-name q-message-name--${a.value}`},o.name())):s.name!==void 0&&w.push(z("div",{class:`q-message-name q-message-name--${a.value}`,[r.value.name]:s.name})),o.default!==void 0?w.push(T(ve(o.default()),!0)):s.text!==void 0&&w.push(T(s.text)),c.push(z("div",{class:n.value},w));const v=[];return o.label!==void 0?v.push(z("div",{class:"q-message-label"},o.label())):s.label!==void 0&&v.push(z("div",{class:"q-message-label",[r.value.label]:s.label})),v.push(z("div",{class:u.value},c)),z("div",{class:`q-message q-message-${a.value}`},v)}}});var de={exports:{}};(function(s,o){(function(a,e){s.exports=e()})(pe,function(){var a,e,p=1e3,u=6e4,n=36e5,r=864e5,S=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,T=31536e6,c=2592e6,w=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,v={years:T,months:c,days:r,hours:n,minutes:u,seconds:p,milliseconds:1,weeks:6048e5},b=function(m){return m instanceof U},x=function(m,i,t){return new U(m,t,i.$l)},Q=function(m){return e.p(m)+"s"},B=function(m){return m<0},y=function(m){return B(m)?Math.ceil(m):Math.floor(m)},_=function(m){return Math.abs(m)},C=function(m,i){return m?B(m)?{negative:!0,format:""+_(m)+i}:{negative:!1,format:""+m+i}:{negative:!1,format:""}},U=function(){function m(t,f,q){var k=this;if(this.$d={},this.$l=q,t===void 0&&(this.$ms=0,this.parseFromMilliseconds()),f)return x(t*v[Q(f)],this);if(typeof t=="number")return this.$ms=t,this.parseFromMilliseconds(),this;if(typeof t=="object")return Object.keys(t).forEach(function(L){k.$d[Q(L)]=t[L]}),this.calMilliseconds(),this;if(typeof t=="string"){var M=t.match(w);if(M){var H=M.slice(2).map(function(L){return L!=null?Number(L):0});return this.$d.years=H[0],this.$d.months=H[1],this.$d.weeks=H[2],this.$d.days=H[3],this.$d.hours=H[4],this.$d.minutes=H[5],this.$d.seconds=H[6],this.calMilliseconds(),this}}return this}var i=m.prototype;return i.calMilliseconds=function(){var t=this;this.$ms=Object.keys(this.$d).reduce(function(f,q){return f+(t.$d[q]||0)*v[q]},0)},i.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=y(t/T),t%=T,this.$d.months=y(t/c),t%=c,this.$d.days=y(t/r),t%=r,this.$d.hours=y(t/n),t%=n,this.$d.minutes=y(t/u),t%=u,this.$d.seconds=y(t/p),t%=p,this.$d.milliseconds=t},i.toISOString=function(){var t=C(this.$d.years,"Y"),f=C(this.$d.months,"M"),q=+this.$d.days||0;this.$d.weeks&&(q+=7*this.$d.weeks);var k=C(q,"D"),M=C(this.$d.hours,"H"),H=C(this.$d.minutes,"M"),L=this.$d.seconds||0;this.$d.milliseconds&&(L+=this.$d.milliseconds/1e3);var W=C(L,"S"),he=t.negative||f.negative||k.negative||M.negative||H.negative||W.negative,fe=M.format||H.format||W.format?"T":"",A=(he?"-":"")+"P"+t.format+f.format+k.format+fe+M.format+H.format+W.format;return A==="P"||A==="-P"?"P0D":A},i.toJSON=function(){return this.toISOString()},i.format=function(t){var f=t||"YYYY-MM-DDTHH:mm:ss",q={Y:this.$d.years,YY:e.s(this.$d.years,2,"0"),YYYY:e.s(this.$d.years,4,"0"),M:this.$d.months,MM:e.s(this.$d.months,2,"0"),D:this.$d.days,DD:e.s(this.$d.days,2,"0"),H:this.$d.hours,HH:e.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:e.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:e.s(this.$d.seconds,2,"0"),SSS:e.s(this.$d.milliseconds,3,"0")};return f.replace(S,function(k,M){return M||String(q[k])})},i.as=function(t){return this.$ms/v[Q(t)]},i.get=function(t){var f=this.$ms,q=Q(t);return q==="milliseconds"?f%=1e3:f=q==="weeks"?y(f/v[q]):this.$d[q],f===0?0:f},i.add=function(t,f,q){var k;return k=f?t*v[Q(f)]:b(t)?t.$ms:x(t,this).$ms,x(this.$ms+k*(q?-1:1),this)},i.subtract=function(t,f){return this.add(t,f,!0)},i.locale=function(t){var f=this.clone();return f.$l=t,f},i.clone=function(){return x(this.$ms,this)},i.humanize=function(t){return a().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},i.milliseconds=function(){return this.get("milliseconds")},i.asMilliseconds=function(){return this.as("milliseconds")},i.seconds=function(){return this.get("seconds")},i.asSeconds=function(){return this.as("seconds")},i.minutes=function(){return this.get("minutes")},i.asMinutes=function(){return this.as("minutes")},i.hours=function(){return this.get("hours")},i.asHours=function(){return this.as("hours")},i.days=function(){return this.get("days")},i.asDays=function(){return this.as("days")},i.weeks=function(){return this.get("weeks")},i.asWeeks=function(){return this.as("weeks")},i.months=function(){return this.get("months")},i.asMonths=function(){return this.as("months")},i.years=function(){return this.get("years")},i.asYears=function(){return this.as("years")},m}();return function(m,i,t){a=t,e=t().$utils(),t.duration=function(k,M){var H=t.locale();return x(k,{$l:H},M)},t.isDuration=b;var f=i.prototype.add,q=i.prototype.subtract;i.prototype.add=function(k,M){return b(k)&&(k=k.asMilliseconds()),f.bind(this)(k,M)},i.prototype.subtract=function(k,M){return b(k)&&(k=k.asMilliseconds()),q.bind(this)(k,M)}}})})(de);var Ae=de.exports;const Fe=ye(Ae),Ke=J({__name:"MessageComponent",props:{message:{},width:{},index:{},disabled:{type:Boolean}},setup(s,{expose:o}){o(),F.extend(Fe),F.extend(_e);const a=s,e=Z(),{t:p}=G(),u=le(),{user:n}=V(u),r=ce(),S=R(!1),T=D(()=>a.message.role==="user"),c=D(()=>a.message.role==="assistant"),w=D(()=>{var _;return((_=a.message.usage)==null?void 0:_.total_tokens)||0}),v=D(()=>{const _=a.message.content,C="<think>",U="</think>";if(_.includes(C))if(_.includes(U)){const m=/<think>(.*?)<\/think>/s,i=_.match(m);if(i)return i[1]}else return _.substring(_.indexOf(C)+C.length);return""}),b=D(()=>a.message.content.includes("<think>")&&!a.message.content.includes("</think>")),x=D(()=>{const _=a.message.content;let C="";const U="</think>";return _.includes(U)?C=_.substring(_.indexOf(U)+U.length):_.includes("<think>")||(C=_),C.replace(/<references>|<\/references>/g,"")}),Q=()=>{e.dialog({component:Pe,componentProps:{purchaseKey:r.apiKey}})},B=D(()=>F(a.message.timestamp).fromNow()),y={props:a,$q:e,t:p,userStore:u,user:n,embeddingStore:r,isLoading:S,isUserRole:T,isAssistantRole:c,tokens:w,think:v,isThinking:b,answer:x,onPurchase:Q,thinkTime:B,TypingText:$e,get formatNumber(){return Le}};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}}),Je={key:0},Ge={key:1,class:"relative-position"};function Ze(s,o,a,e,p,u){return l(),g(We,{class:be(["q-pa-sm q-pa-md-md q-pb-lg relative-position message",e.isUserRole?"user-message":"assistant-message"]),sent:e.isUserRole,"text-color":"white"},{avatar:d(()=>{var n;return[e.isUserRole?(l(),O(N,{key:0},[(n=e.user)!=null&&n.photoURL?(l(),g(P,{key:0,size:"sm",round:"",class:"bordered-avatar q-ml-md"},{default:d(()=>[h(ee,{src:e.user.photoURL,referrerpolicy:"no-referrer",alt:e.user.displayName||""},null,8,["src","alt"])]),_:1})):(l(),g(P,{key:1,icon:"person",size:"sm",class:"bordered-avatar q-ml-md"}))],64)):(l(),O(N,{key:1},[e.$q.screen.gt.sm?(l(),g(P,{key:0,icon:"img:/J.svg",class:"bordered-avatar q-mr-md bg-mixed-200",size:"sm"})):j("",!0)],64))]}),stamp:d(()=>[a.message.timestamp?(l(),g(ie,{key:0,icon:"schedule",label:e.thinkTime,size:"sm",class:"text-dim bg-transparent"},null,8,["label"])):j("",!0),e.tokens?(l(),g(ie,{key:1,icon:"straighten",label:`${e.formatNumber(e.tokens)} ${e.t("embedding.tokens")}`,size:"sm",class:"text-dim bg-transparent"},null,8,["label"])):j("",!0),a.message.statusCode!==200?(l(),g(te,{key:2,name:"o_error",class:"text-negative"})):j("",!0)]),default:d(()=>[e.isUserRole?(l(),O("div",Je,[h(e.TypingText,{text:a.message.content,dark:e.isAssistantRole},null,8,["text","dark"])])):(l(),O("div",Ge,[a.message.content.length?(l(),O(N,{key:1},[e.isLoading||!e.isLoading&&a.message.content.includes("<think>")?(l(),g(Ye,{key:0,class:"full-width","expand-separator":"","model-value":e.isThinking,"header-class":"bg-mixed-200 text-black"},{header:d(()=>[h(se,{class:"full-width",dense:""},{default:d(()=>[h(K,{side:""},{default:d(()=>[e.isThinking?(l(),g(Ee,{key:0})):(l(),g(te,{key:1,name:"task_alt"}))]),_:1}),h(K,null,{default:d(()=>[e.isThinking?(l(),g(oe,{key:0},{default:d(()=>[Y($(e.t("deepsearch.chat_ui.thinking")),1)]),_:1})):(l(),g(oe,{key:1},{default:d(()=>[Y($(e.t("deepsearch.chat_ui.thinking_done")),1)]),_:1}))]),_:1})]),_:1})]),default:d(()=>[h(se,{class:"q-pa-lg"},{default:d(()=>[h(K,{class:"text-dim",style:{"font-family":"monospace"}},{default:d(()=>[Y($(e.think),1)]),_:1})]),_:1})]),_:1},8,["model-value"])):j("",!0),e.answer?(l(),g(e.TypingText,{key:1,text:e.answer,loading:e.isLoading,"content-class":a.message.statusCode!==200?"text-negative":void 0},null,8,["text","loading","content-class"])):j("",!0),a.message.statusCode===402?(l(),O(N,{key:2},[h(E,{color:"primary",square:"",outline:"",label:e.t("deepsearch.chat_ui.purchase"),onClick:e.onPurchase,icon:"shopping_cart",class:"q-ma-sm"},null,8,["label"]),h(E,{color:"white",square:"",outline:"",label:e.t("deepsearch.chat_ui.keyman"),to:"/api-dashboard/key-manager",icon:"key",class:"q-ma-sm"},null,8,["label"])],64)):j("",!0),a.message.statusCode===429?(l(),g(E,{key:3,color:"white",square:"",outline:"",label:e.t("rate_limit.title"),to:"/api-dashboard/rate-limit",icon:"speed",class:"q-ma-sm"},null,8,["label"])):j("",!0)],64)):(l(),g(Re,{key:0,size:"md",class:"q-ma-md"}))]))]),_:1},8,["class","sent"])}const Xe=X(Ke,[["render",Ze],["__file","MessageComponent.vue"]]),et=(s,o)=>{if(s.shiftKey&&s.key==="Enter")return 13;s.key==="Enter"&&(s.preventDefault(),o())},tt="https://deepsearch.jina.ai",ue=ke("chatStore",{state:()=>({messages:[],response:[],isLoading:!1,isStreaming:!1,abortController:void 0}),getters:{usage:s=>{var o;return(o=s.response[s.response.length-1])==null?void 0:o.usage}},actions:{async send(s,o,a){var e;if(!this.isLoading){this.abortController=new AbortController,this.isLoading=!0;try{this.messages.push({role:"user",content:s,timestamp:Date.now()});const p={model:o,messages:this.messages.concat().filter(S=>!S.statusCode||S.statusCode===200),stream:!0};this.messages.push({role:"assistant",content:"",timestamp:Date.now()});const u={"Content-Type":"application/json"};a&&(u.Authorization=`Bearer ${a}`);const n=await fetch(`${tt}/v1/chat/completions`,{method:"POST",headers:u,body:JSON.stringify(p),signal:this.abortController.signal}),r=this.messages[this.messages.length-1];if(r.statusCode=n.status,r.timestamp=Date.now(),(e=n.headers.get("content-type"))!=null&&e.includes("text/event-stream")){if(n.body){const S=n.body.getReader(),T=new TextDecoder;let c="";for(;;){const{done:w,value:v}=await S.read();if(w){this.isLoading=!1,this.isStreaming=!1;break}v&&(this.isStreaming=!0,T.decode(v).split(`

data:`).filter(Boolean).forEach(Q=>{const B=Q.replace(/data: /,"").trim();c+=B,console.log("Data:",c);try{if(c){const y=JSON.parse(c);c="",this.response.push(y),r.content+=y.choices[0].delta.content,y.usage&&(r.usage=y.usage)}}catch(y){console.error("Error parsing full JSON:",y),console.log("parital data",c)}}))}}}else{const S=await n.json();S&&(this.response=[S],this.messages.push(S.choices[0].message))}}catch(p){if(p.name!=="AbortError"){let u=p instanceof Error?p.message:String(p);this.messages[this.messages.length-1].statusCode===402&&(u=this.t("deepsearch.chat_ui.payment_required")),this.messages[this.messages.length-1].statusCode===429&&(u=this.t("deepsearch.chat_ui.rate_limit_exceeded")),this.messages[this.messages.length-1].content=u,xe.create({message:u,color:"negative",icon:"error"})}}finally{this.isLoading=!1,this.isStreaming=!1}}},cancel(){var o;(o=this.abortController)==null||o.abort(),this.isLoading=!1,this.messages[this.messages.length-1].role==="assistant"&&this.messages.pop()}}}),st=J({__name:"InputComponent",props:{maximizedWindow:{type:Boolean,default:!1},query:{type:String,default:""}},setup(s,{expose:o}){const{t:a}=G({useScope:"global"}),e=Z(),p=R(),u=R(""),n=ue(),{isLoading:r,messages:S}=V(n),T=ce(),c=le(),{user:w}=V(c),v=s,b=D(()=>!(typeof _(u.value)=="string"||r.value)),x=R(!1),Q=()=>{b.value&&(n.send(u.value,"jina-deepsearch-v1",x.value?T.apiKey:void 0),C())},B=()=>{r.value=!1,n.cancel()},y=()=>{e.dialog({title:a("deepsearch.chat_ui.clear_context_title"),message:a("deepsearch.chat_ui.clear_context_message"),cancel:!0}).onOk(()=>{S.value=[]})},_=m=>m.trim().length===0?a("deepsearch.chat_ui.input_cant_be_empty"):!0,C=()=>{u.value=""};o({reset:C}),Se(()=>{v.query&&(u.value=v.query)});const U={t:a,$q:e,form:p,inputMessage:u,chatStore:n,isLoading:r,messages:S,embeddingStore:T,userStore:c,user:w,props:v,sendable:b,useUserKey:x,onSubmit:Q,onCancel:B,onClear:y,validateInput:_,reset:C,get QForm(){return Ve},get handleShiftEnter(){return et}};return Object.defineProperty(U,"__isScriptSetup",{enumerable:!1,value:!0}),U}});function at(s,o,a,e,p,u){return l(),g(e.QForm,{ref:"form",class:"full-width",onSubmit:Qe(e.onSubmit,["prevent"])},{default:d(()=>[h(Ce,{class:"full-height",modelValue:e.inputMessage,"onUpdate:modelValue":[o[2]||(o[2]=n=>e.inputMessage=n),n=>{}],outlined:"",autofocus:"",square:"",autogrow:"","hide-bottom-space":"","lazy-rules":"ondemand",rules:[e.validateInput],onKeydown:o[3]||(o[3]=n=>e.handleShiftEnter(n,()=>{var r;return(r=e.form)==null?void 0:r.submit(n)})),ref:"inputAnchor","input-style":"max-height: 50vh;",placeholder:e.t("deepsearch.chat_ui.input_placeholder")},qe({after:d(()=>[!e.isLoading&&e.messages.length?(l(),g(E,{key:0,flat:"",square:"",stretch:"",icon:"delete",onClick:e.onClear},{default:d(()=>[h(re,null,{default:d(()=>[Y($(e.t("deepsearch.chat_ui.new_chat")),1)]),_:1})]),_:1})):j("",!0)]),append:d(()=>[h(we,{modelValue:e.useUserKey,"onUpdate:modelValue":o[0]||(o[0]=n=>e.useUserKey=n),color:"primary","checked-icon":"key","unchecked-icon":"key_off",disable:e.isLoading},{default:d(()=>[h(re,null,{default:d(()=>[Y($(e.t("deepsearch.chat_ui.use_user_key")),1)]),_:1})]),_:1},8,["modelValue","disable"]),e.isLoading?(l(),g(E,{key:0,flat:"",round:"",icon:"o_stop_circle",color:"negative",onClick:e.onCancel})):(l(),g(E,{key:1,flat:"",square:"",stretch:"",icon:"send",disable:!e.sendable||e.isLoading,onClick:o[1]||(o[1]=n=>{var r;return(r=e.form)==null?void 0:r.submit(n)})},null,8,["disable"]))]),_:2},[!a.maximizedWindow&&e.$q.screen.gt.sm?{name:"prepend",fn:d(()=>{var n;return[(n=e.user)!=null&&n.photoURL?(l(),g(P,{key:0,size:"sm",round:"",class:"bordered-avatar"},{default:d(()=>[h(ee,{src:e.user.photoURL,referrerpolicy:"no-referrer",alt:e.user.displayName||""},null,8,["src","alt"])]),_:1})):j("",!0)]}),key:"0"}:void 0]),1032,["modelValue","rules","placeholder"])]),_:1},512)}const nt=X(st,[["render",at],["__file","InputComponent.vue"]]);var me=(s=>(s[s.TOP=0]="TOP",s[s.BOTTOM=1]="BOTTOM",s))(me||{});const it=J({__name:"ChatComponent",props:{maximizedWindow:{type:Boolean,default:!1}},setup(s,{expose:o}){o();const a=Z(),{t:e}=G({useScope:"global"}),p=ue(),{messages:u}=V(p),n=R(null),r=R(!0),S=R(""),T=R(0),c=x=>{ae(()=>{r.value&&(T.value=x.height,v(1))})},w=x=>{ae(()=>{var y,_;const Q=(y=n.value)==null?void 0:y.$el,B=Q.offsetHeight+Q.scrollTop-Q.scrollHeight;x.direction==="up"&&((_=u.value)!=null&&_.length)&&B<-5&&(r.value=!1),x.direction==="down"&&B>=-5&&(r.value=!0)})},v=x=>{setTimeout(()=>{if(n.value&&n.value.$el){const Q=x===0?0:n.value.$el.scrollHeight;n.value.$el.scrollTo({top:Q,behavior:"smooth"})}},10)};Te(async()=>{r.value=!0});const b={$q:a,t:e,chatStore:p,messages:u,scrollTarget:n,autoScroll:r,exampleQuery:S,virtualScrollHeight:T,onResize:c,onScroll:w,SCROLL_POSITION:me,scrollTo:v,get QVirtualScroll(){return Oe},get QCardSection(){return Me},get QCard(){return ze},MessageComponent:Xe,InputComponent:nt,get deepSearchFlow(){return Ie},UsageHeader:Ne};return Object.defineProperty(b,"__isScriptSetup",{enumerable:!1,value:!0}),b}}),ot={class:"row justify-center q-mt-xl"},rt={class:"col-xs-10 col-sm-8 col-md-6"},lt={class:"row justify-center q-mt-xl q-px-xl"},ct={class:"column no-wrap"},dt={class:"col-12"},ut={class:"col-12 col-md-8"};function mt(s,o,a,e,p,u){return l(),g(e.QCard,{bordered:!a.maximizedWindow,flat:"",square:"",class:"column fit relative-position no-wrap",style:{"max-height":"100vh"}},{default:d(()=>[a.maximizedWindow?(l(),O(N,{key:0},[h(e.UsageHeader,{class:"full-width","home-link":"/deepsearch","faq-link":"/deepsearch#faq","issue-link":"https://github.com/jina-ai/node-DeepResearch/issues","is-support-c-s-p":!1,"api-link":"https://github.com/jina-ai/node-DeepResearch?tab=readme-ov-file#openai-compatible-server-api"}),h(De)],64)):j("",!0),!a.maximizedWindow&&e.$q.screen.gt.md?(l(),g(E,{key:1,flat:"",round:"",icon:"fullscreen",class:"absolute-top-left q-ml-md q-mt-md",style:{"z-index":"1"},to:"/api-dashboard/deepsearch-chat"})):j("",!0),e.messages.length?(l(),g(e.QCardSection,{key:3,class:"column justify-between no-wrap q-px-lg scroll q-mb-xl",ref:"scrollTarget"},{default:d(()=>[h(Be,{onScroll:e.onScroll,debounce:300}),I("div",ct,[h(ne,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",duration:50},{default:d(()=>[I("div",dt,[h(e.QVirtualScroll,{items:e.messages},{default:d(({item:n,index:r})=>[h(Ue,{onResize:e.onResize,debounce:300}),h(e.MessageComponent,{message:n,index:r},null,8,["message","index"])]),_:1},8,["items"])])]),_:1})])]),_:1},512)):(l(),g(e.QCardSection,{key:2,class:"full-height column justify-center"},{default:d(()=>[h(ee,{src:e.deepSearchFlow,"img-style":{opacity:.1},fit:"fill",class:"col-4"},null,8,["src"]),I("div",ot,[I("div",rt,[h(e.InputComponent,{maximizedWindow:a.maximizedWindow,query:e.exampleQuery},null,8,["maximizedWindow","query"])])]),I("div",lt,[(l(),O(N,null,He([1,2,3],n=>h(E,{"no-caps":"",square:"",flat:"",size:"sm",label:e.t(`deepsearch.chat_ui.example_q${n}`),key:n,clickable:"",class:"text-dim col-auto",onClick:r=>e.exampleQuery=e.t(`deepsearch.chat_ui.example_q${n}`)},null,8,["label","onClick"])),64))])]),_:1})),h(ne,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:d(()=>[e.messages.length?(l(),g(je,{key:0,class:"lock-blur absolute-bottom row justify-center"},{default:d(()=>[I("div",ut,[h(e.InputComponent,{maximizedWindow:a.maximizedWindow,query:e.exampleQuery},null,8,["maximizedWindow","query"])])]),_:1})):j("",!0)]),_:1})]),_:1},8,["bordered"])}const Qt=X(it,[["render",mt],["__file","ChatComponent.vue"]]);export{Qt as C};
