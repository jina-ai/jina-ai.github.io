import{P as L,a0 as ge,c8 as pe,e as be,an as _e,aG as K,aF as fe,f as z,h as W,w as he,K as ve,J as we,am as ye,ap as y,aq as t,aw as l,ar as k,av as o,bY as ke,bX as Me,U as G,ad as H,au as J,ay as p,az as m,ax as X,aC as q,aB as ze,bP as Y,bc as qe,aK as Fe,a_ as xe}from"./index.7d0d3729.js";import{a as F,b as h}from"./QChip.cf014e77.js";import{Q as v}from"./QTooltip.15b5da01.js";import{a as Ae}from"./QLinearProgress.33912bed.js";import{u as Ce,C as Be}from"./ClosePopup.7fb8fa36.js";import{c as Ie}from"./copy-to-clipboard.37b0b89b.js";function Te(b){const c=Object.assign({noopener:!0},b),n=[];for(const d in c){const i=c[d];i===!0?n.push(d):(pe(i)||typeof i=="string"&&i!=="")&&n.push(d+"="+i)}return n.join(",")}function Z(b,c,n){let d=window.open;if(L.is.cordova===!0){if(cordova!==void 0&&cordova.InAppBrowser!==void 0&&cordova.InAppBrowser.open!==void 0)d=cordova.InAppBrowser.open;else if(navigator!==void 0&&navigator.app!==void 0)return navigator.app.loadUrl(b,{openExternal:!0})}const i=d(b,"_blank",Te(n));if(i)return L.is.desktop&&i.focus(),i;c&&c()}var Se=(b,c,n)=>{if(L.is.ios===!0&&window.SafariViewController!==void 0){window.SafariViewController.isAvailable(d=>{d?window.SafariViewController.show({url:b},ge,c):Z(b,c,n)});return}return Z(b,c,n)};const ee=[{name:"bge-small-en-v1.5",meta_data:{token_length:512,output_dim:768,size:"45M",language:"en"},request_path:["embedding"]},{name:"bge-base-en-v1.5",meta_data:{token_length:512,output_dim:768,size:"110M",language:"en"},request_path:["embedding"]},{name:"bge-large-en-v1.5",meta_data:{token_length:512,output_dim:1024,size:"340M",language:"en"},request_path:["embedding"]},{name:"bge-small-zh-v1.5",meta_data:{token_length:512,output_dim:768,size:"45M",language:"zh"},request_path:["embedding"]},{name:"bge-base-zh-v1.5",meta_data:{token_length:512,output_dim:768,size:"110M",language:"zh"},request_path:["embedding"]},{name:"bge-large-zh-v1.5",meta_data:{token_length:512,output_dim:1024,size:"340M",language:"zh"},request_path:["embedding"]},{name:"bge-small-en",meta_data:{token_length:512,output_dim:768,size:"45M",language:"en"},request_path:["embedding"]},{name:"bge-base-en",meta_data:{token_length:512,output_dim:768,size:"110M",language:"en"},request_path:["embedding"]},{name:"bge-large-en",meta_data:{token_length:512,output_dim:1024,size:"340M",language:"en"},request_path:["embedding"]},{name:"bge-small-zh",meta_data:{token_length:512,output_dim:768,size:"45M",language:"zh"},request_path:["embedding"]},{name:"bge-base-zh",meta_data:{token_length:512,output_dim:768,size:"110M",language:"zh"},request_path:["embedding"]},{name:"bge-large-zh",meta_data:{token_length:512,output_dim:1024,size:"340M",language:"zh"},request_path:["embedding"]},{name:"bge-m3",meta_data:{token_length:1024,output_dim:2048,size:"1.3B",language:"multilingual"},request_path:["embedding"]}],Pe=be({__name:"ModelDropDown",props:{currentModel:{},indicator:{type:Boolean,default:!0},category:{default:"embedding"},allowNone:{type:Boolean,default:!1},allowBAAI:{type:Boolean,default:!1},demoOnly:{type:Boolean,default:!1},spaceSaving:{type:Boolean,default:!1}},emits:["chooseModel","modelsLoaded","switchToRerankerTab","switchToEmbeddingTab"],setup(b,{emit:c}){const{t:n}=_e({useScope:"global"}),d=Ce(),{models:i,baseDeModel:ae,baseEnModel:B,baseZhModel:te,jinaRerankerMultilingual:ne}=K(d),oe=fe(),{language:x}=K(oe),I=z(null);let u=null;const A=z(!1),w=b,f=c,g=W({get:()=>w.currentModel,set:e=>{f("chooseModel",e)}}),E=()=>{var e;f("chooseModel",(e=te.value)!=null?e:B.value)},R=()=>{var e;f("chooseModel",(e=ae.value)!=null?e:B.value)};he(x,e=>{w.category==="multi-embeddings"&&(e&&["zh-CN","zh-TW"].includes(e)?E():e==="de"&&R())});const le=()=>{var s;const e=((s=I.value)==null?void 0:s.$el)||I.value;e instanceof HTMLElement?(u=new IntersectionObserver(async r=>{if(r[0].isIntersecting){u==null||u.unobserve(e);try{await de(),u==null||u.disconnect()}catch(_){console.error("Failed to load models:",_),u==null||u.observe(e)}}},{root:null,threshold:.1}),u.observe(e)):console.error("Element is not an HTMLElement:",e)};ve(()=>{we(()=>{setTimeout(()=>{le()},100)})}),ye(()=>{u&&u.disconnect()});const D=W(()=>i.value.filter(e=>{const s=w.category==="multi-embeddings",r=e.request_path,a=s?["multi-embeddings","embedding"]:[w.category];return Array.isArray(r)?r.some(_=>a.includes(_)):a.includes(r)}).sort((e,s)=>new Date(s.release_date).getTime()-new Date(e.release_date).getTime())),M=z([]),C=z([]),se=()=>{w.allowBAAI?M.value=ee:M.value=D.value,C.value=M.value},ie=(e,s)=>{s(()=>{e?C.value=M.value.filter(r=>r.name.toLowerCase().includes(e.toLowerCase())):C.value=M.value})},de=async()=>{var a;A.value=!0,(a=i.value)!=null&&a.length||await d.getModels(),A.value=!1,se();const e=new URL(window.location.href),s=e.searchParams.get("model"),r=s&&i.value.find(_=>_.name===s);if(r)f("chooseModel",r),e.searchParams.delete("model"),window.history.pushState({},"",e);else switch(w.category){case"embedding":case"multi-embeddings":i.value.length>0&&(x.value&&["zh-CN","zh-TW"].includes(x.value)?E():x.value==="de"?R():w.allowBAAI?f("chooseModel",ee[0]):f("chooseModel",B.value));break;case"rank":f("chooseModel",ne.value)}for(const _ of D.value)_.replicas=await d.getReplicas(d.apiKey,_.name);f("modelsLoaded")},ue=e=>{me("event","embedding_view_model_detail",{location:ce.location.href,model:e}),Se(`https://huggingface.co/jinaai/${e}`)},T=z(""),re=e=>{Ie(e).then(()=>{T.value=e}),setTimeout(()=>{T.value=""},1800)},me=window.gtag,ce=window.document,V=e=>e==="en"?"\u{1F1FA}\u{1F1F8}":e==="zh"?"\u{1F1E8}\u{1F1F3}\u{1F1FA}\u{1F1F8}":e==="de"?"\u{1F1E9}\u{1F1EA}\u{1F1FA}\u{1F1F8}":e==="es"?"\u{1F1EA}\u{1F1F8}\u{1F1FA}\u{1F1F8}":"\u{1F30D}";return(e,s)=>{var r;return k(),y(Ae,{borderless:"",ref_key:"componentRef",ref:I,class:"q-pa-md cursor-pointer","use-input":"","fill-input":"",filled:"",square:"","hide-selected":"","input-debounce":"0",modelValue:g.value,"onUpdate:modelValue":s[1]||(s[1]=a=>g.value=a),"display-value":(r=g.value)==null?void 0:r.name,options:C.value,"option-label":a=>a.name,"option-value":a=>a.name,loading:A.value,disable:A.value,"label-color":"grey-5",label:e.category==="rank"?l(n)("embedding.select_rerank_model"):l(n)("embedding.select_embedding_model"),onFilter:ie},{prepend:t(()=>[o(G,{name:e.spaceSaving?void 0:"img:"+(e.category==="rank"?l(ke):l(Me))},null,8,["name"])]),"no-option":t(()=>[e.allowNone?H((k(),y(J,{key:0,clickable:"",active:!e.currentModel,onClick:s[0]||(s[0]=a=>f("chooseModel",null)),class:"q-pa-md"},{default:t(()=>[o(X,null,{default:t(()=>[o(F,{overline:"",caption:""},{default:t(()=>[p(m(l(n)("embedding.none")),1)]),_:1}),o(F,{class:"text-weight-bold"},{default:t(()=>[p(m(l(n)(`embedding.${e.category}_none_description`)),1)]),_:1})]),_:1})]),_:1},8,["active"])),[[xe],[Be]]):q("",!0)]),option:t(({opt:a,itemProps:_})=>{var U;return[o(J,Fe(_,{active:a.name===((U=g.value)==null?void 0:U.name),class:"q-pa-md"}),{default:t(()=>[o(X,null,{default:t(()=>[o(F,{class:"text-weight-bold"},{default:t(()=>[ze("code",null,m(a.name),1),o(G,{class:"q-ml-sm cursor-pointer",name:T.value===a.name?"done":"content_copy",onClick:Y(S=>re(a.name),["stop"])},null,8,["name","onClick"])]),_:2},1024),o(F,{overline:"",caption:""},{default:t(()=>[p(m(l(n)(`embedding.${a.name.replace(".","_")}_description`)),1)]),_:2},1024),o(F,{caption:"",class:"row"},{default:t(()=>{var S,N,P,Q,$,O,j;return[e.allowBAAI?q("",!0):(k(),y(h,{key:0,label:a.replicas>0?l(n)("embedding.running"):l(n)("embedding.sleeping"),square:"",size:"xs",outline:"",icon:a.replicas>0?"play_circle_filled":"mdi-sleep",color:a.replicas>0?"positive":"warning",style:{"border-radius":"0"}},{default:t(()=>[o(v,{"max-width":"300px"},{default:t(()=>[p(m(l(n)("embedding.status_explain")),1)]),_:1})]),_:2},1032,["label","icon","color"])),a.tags&&a.tags.includes("multimodal")?(k(),y(h,{key:1,square:"",size:"xs",outline:"",color:a.name!==((S=g.value)==null?void 0:S.name)?"grey-5":"",style:{"border-radius":"0"},label:l(n)("embedding.multimodal"),icon:"mms"},{default:t(()=>[o(v,null,{default:t(()=>[p(m(l(n)("embedding.multimodal_explain")),1)]),_:1})]),_:2},1032,["color","label"])):q("",!0),a.request_path.includes("multi-embeddings")&&e.category.includes("embedding")?(k(),y(h,{key:2,color:a.name!==((N=g.value)==null?void 0:N.name)?"grey-5":"",style:{"border-radius":"0"},icon:"grid_4x4",label:l(n)("embedding.multi_embedding"),square:"",size:"xs",outline:""},{default:t(()=>[o(v,null,{default:t(()=>[p(m(l(n)("embedding.multi_embedding_explain")),1)]),_:1})]),_:2},1032,["color","label"])):q("",!0),o(h,{label:a.meta_data.token_length,square:"",color:a.name!==((P=g.value)==null?void 0:P.name)?"grey-5":"",size:"xs",outline:"",icon:"notes",style:{"border-radius":"0"}},{default:t(()=>[o(v,null,{default:t(()=>[p(m(l(n)("embedding.token_length_explain",{_tokenLength:a.meta_data.token_length})),1)]),_:2},1024)]),_:2},1032,["label","color"]),a.request_path.includes("embedding")?(k(),y(h,{key:3,label:a.meta_data.output_dim,square:"",color:a.name!==((Q=g.value)==null?void 0:Q.name)?"grey-5":"",size:"xs",outline:"",icon:"mdi-axis-arrow",style:{"border-radius":"0"}},{default:t(()=>[o(v,null,{default:t(()=>[p(m(l(n)("embedding.output_dim_explain",{_outputDim:a.meta_data.output_dim})),1)]),_:2},1024)]),_:2},1032,["label","color"])):q("",!0),o(h,{label:a.meta_data.size,square:"",size:"xs",color:a.name!==(($=g.value)==null?void 0:$.name)?"grey-5":"",outline:"",icon:"mdi-matrix",style:{"border-radius":"0"}},{default:t(()=>[o(v,null,{default:t(()=>[p(m(l(n)("embedding.size_explain",{_size:a.meta_data.size})),1)]),_:2},1024)]),_:2},1032,["label","color"]),o(h,{label:V(a.meta_data.language),square:"",color:a.name!==((O=g.value)==null?void 0:O.name)?"grey-5":"",size:"xs",outline:"",style:{"border-radius":"0"}},{default:t(()=>[o(v,null,{default:t(()=>[p(m(l(n)("embedding.language_explain",{_language:V(a.meta_data.language)})),1)]),_:2},1024)]),_:2},1032,["label","color"]),H(o(h,{icon:"img:/huggingface_logo.svg",square:"",size:"xs",outline:"",color:a.name!==((j=g.value)==null?void 0:j.name)?"grey-5":"",style:{"border-radius":"0"},onClick:Y(Le=>ue(a.name),["stop"]),clickable:"",label:l(n)("embedding.opensource")},{default:t(()=>[o(v,null,{default:t(()=>[p(m(l(n)("embedding.opensource_explain")),1)]),_:1})]),_:2},1032,["color","onClick","label"]),[[qe,a.name!=="jina-reranker-v1-base-en"]])]}),_:2},1024)]),_:2},1024)]),_:2},1040,["active"])]}),_:1},8,["modelValue","display-value","options","option-label","option-value","loading","disable","label"])}}});export{Pe as _};
