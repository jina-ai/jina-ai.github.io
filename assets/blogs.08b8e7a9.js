import{Q as h}from"./QImg.de699845.js";import{e as f,ac as u,ad as c,aj as w,ae as g,aw as _,ag as y,ah as b,au as v,bn as d,af as A,ao as j,bv as B}from"./index.30629f78.js";import{_ as N}from"./plugin-vue_export-helper.21dcd24c.js";const x=f({__name:"AvatarsComponent",props:{authors:{}},setup(t){return(e,l)=>(g(),u(w,{avatar:""},{default:c(()=>[_("div",{style:d([{height:"30px"},`width: ${e.authors.length*30-(e.authors.length-1)*5}px`]),class:"relative-position"},[(g(!0),y(j,null,b(e.authors,(a,n)=>(g(),u(v,{size:"30px",color:"grey-9",key:a.id,style:d(`left: ${n*25}px;`),class:"overlapping"},{default:c(()=>[A(h,{src:a.profileImage},null,8,["src"])]),_:2},1032,["style"]))),128))],4)]),_:1}))}});var L=N(x,[["__scopeId","data-v-363418f9"]]);const k=B("news",{state:()=>({authors:[],blogs:{all:[],featured:[],events:[],insights:[],"knowledge-base":[],releases:[],"tech-blog":[]},blogsMeta:{pagination:{limit:0,next:0,page:0,pages:0,prev:0,total:0}},allBlogs:[],updatedAt:void 0}),actions:{async getNews(t,e="authors,tags"){const l=`https://jina-ai-gmbh.ghost.io/ghost/api/content/posts/slug/${t}/?${new URLSearchParams({key:"2652cf20335454671600707967",include:e})}`,a=await fetch(l,{headers:{"Content-Type":"application/json; charset=UTF-8"}}),{posts:n}=await a.json();return n.length>0?n.map(s=>({id:s.id,url:s.url,html:s.html,excerpt:s.excerpt,featureImage:s.feature_image,publishedAt:s.published_at,updatedAt:s.updated_at,title:s.title,slug:s.slug,readingTime:s.reading_time,featured:s.featured,primaryTag:s.primary_tag,authors:s.authors.map(i=>({id:i.id,name:i.name,bio:i.bio,location:i.location,profileImage:i.profile_image,slug:i.slug,url:i.url,twitter:i.twitter})),tags:s.tags.map(i=>({id:i.id,name:i.name,slug:i.slug,url:i.url,visibility:i.visibility}))}))[0]:null},async getNewsList({filter:t,include:e="authors,tags",page:l,limit:a=6}){let n={include:e,limit:String(a),key:"2652cf20335454671600707967"};t!==void 0&&(n=Object.assign(n,{filter:t})),l!==void 0&&(n=Object.assign(n,{page:String(l)}));const s="https://jina-ai-gmbh.ghost.io/ghost/api/content/posts/?"+new URLSearchParams(n),i=await fetch(s,{headers:{"Content-Type":"application/json; charset=UTF-8"}}),{posts:m,meta:p}=await i.json();return{posts:m.map(r=>({id:r.id,url:r.url,html:r.html,excerpt:r.excerpt,featureImage:r.feature_image,publishedAt:r.published_at,updatedAt:r.updated_at,title:r.title,slug:r.slug,readingTime:r.reading_time,featured:r.featured,primaryTag:r.primary_tag,authors:r.authors.map(o=>({id:o.id,name:o.name,bio:o.bio,location:o.location,profileImage:o.profile_image,slug:o.slug,url:o.url,twitter:o.twitter})),tags:r.tags.map(o=>({id:o.id,name:o.name,slug:o.slug,url:o.url,visibility:o.visibility}))})),meta:p}},async getNewsBy({authors:t,tag:e="all",page:l=1,limit:a=6}){const n=[];t&&t.length>0&&n.push(`authors.slug:[${t.join(",")}]`),e!=="all"&&(e==="featured"?n.push("featured:true"):n.push(`tag:${e}`));const{posts:s,meta:i}=await this.getNewsList({filter:n.join("+"),page:l,limit:a});this.blogs[e]=s,this.blogsMeta=i},async getNewsBySlug(t,e="authors,tags"){return await this.getNews(t,e)},async getSuggestionNews(t,e){const{posts:l}=await this.getNewsList({limit:t,filter:e,page:1});return l},async getAllNews(){let t={limit:"all"};if(this.allBlogs.length>0&&this.updatedAt){t=Object.assign(t,{filter:`updated_at:>${this.updatedAt}`});const{posts:e}=await this.getNewsList(t);e.reverse().forEach(l=>{const a=this.allBlogs.findIndex(n=>n.id===l.id);a!==-1?this.allBlogs[a]=l:this.allBlogs.unshift(l)})}else{const{posts:e}=await this.getNewsList(t);this.allBlogs=e}this.allBlogs=[...this.allBlogs.sort((e,l)=>new Date(l.publishedAt).getTime()-new Date(e.publishedAt).getTime())],this.updatedAt=new Date().toISOString()},async getAuthors(){const t="https://jina-ai-gmbh.ghost.io/ghost/api/content/authors/?"+new URLSearchParams({key:"2652cf20335454671600707967",limit:"all"}),e=await fetch(t,{headers:{"Content-Type":"application/json; charset=UTF-8"}}),{authors:l}=await e.json();this.authors=l.map(a=>({id:a.id,name:a.name,bio:a.bio,location:a.location,profileImage:a.profile_image,slug:a.slug,url:a.url,twitter:a.twitter}))}},persist:!0});export{L as A,k as u};
