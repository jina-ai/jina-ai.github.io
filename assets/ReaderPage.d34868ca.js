import{Q as z}from"./QImg.242eb6cc.js";import{e as le,a6 as re,f as _,h as pe,K as oe,a7 as q,a8 as s,av as _e,u as ne,aE as fe,a9 as i,ad as a,aa as h,aw as p,ah as t,bL as Z,j as R,ap as $,ai as v,am as P,af as Q,ag as o,al as he,ak as e,ao as O,ab as S,aj as ve,bA as Y,an as c,aB as ge,Z as ee,b1 as te,bx as ye,by as xe}from"./index.7b870c07.js";import{b as qe}from"./QTable.7424bec8.js";import{_ as we,Q as be,a as ke}from"./AskAnythingToolTip.f0e05a64.js";import{u as je}from"./useMetaTags.44ecda9c.js";import{Q as $e,c as Qe,_ as Re}from"./EmbeddingComponent.96078f95.js";import{T as Se}from"./TitleBlock.3d7a911d.js";import{_ as Ce}from"./FAQComponent.54beabb7.js";import{Q as V}from"./QTooltip.38578fec.js";import{Q as W,_ as ae}from"./QTabPanels.cdedc925.js";import{Q as se}from"./QLinearProgress.5e66b65d.js";import{c as Be}from"./copy-to-clipboard.80050af7.js";import{_ as Le}from"./PricingComponent.7e83e189.js";import"./QList.c4b57d56.js";import"./QSelect.3ed7af18.js";import"./QItemLabel.a73bf551.js";import"./QMenu.46806c5c.js";import"./position-engine.9d6ebff6.js";import"./rtl.4aeb06d5.js";import"./use-fullscreen.ade0094e.js";import"./QTabs.dbd49bce.js";import"./QResizeObserver.074d16db.js";import"./QBtnDropdown.ba33d221.js";import"./ClosePopup.a75b058a.js";import"./embedding.e165fb77.js";import"./ModelDropDown.4977668c.js";import"./regexp.d033247d.js";import"./QForm.f856ab8c.js";import"./QSlideTransition.a154ab99.js";import"./use-panel.215b8b5b.js";import"./touch.3df10340.js";import"./use-cache.b0833c75.js";import"./QExpansionItem.a8e1e16f.js";var Te="/assets/explain.00d2d1a4.svg",Ie="/assets/explain3.ddb193be.svg",Ue="/assets/explain2.eda58d92.svg";const Pe={class:"text-caption text-bold text-grey-5"},Ve={class:"text-caption text-bold text-grey-5"},Ae={class:"text-caption text-bold text-grey-5"},De=le({__name:"ReaderSearchDemoComponent",props:{originalURL:{default:""},disableQA:{type:Boolean,default:!1},disableOriginalURL:{type:Boolean,default:!1}},setup(b){const{t:d}=re({useScope:"global"}),l=_(""),x=_(!1),r=_(!1),g=ne(),C=["When was Jina AI founded?","What did Elon Musk say about Open AI recently?","When will the next SpaceX launch be?","What is the market cap of Apple today?","Who will win 2024 US presidential election?","Who is playing in the US Open final?"],B=()=>C[Math.floor(Math.random()*C.length)],n=_(b.originalURL||B()),A=pe(()=>`https://s.jina.ai/${encodeURIComponent(n.value)}`),H=_(null),k=_([]),j=_([]),L=_(!1),T=_(!1),D=_(!1),I=_(!1),N=async u=>{var J,K,X;if(!await((J=H.value)==null?void 0:J.validate()))return Promise.reject();const E={parameters:{question:n.value,context:u?"":l.value.slice(0,3e3)}};u?(k.value=[],L.value=!0,D.value=!0):(j.value=[],T.value=!0,I.value=!0);const m="https://api.promptperfect.jina.ai/ERK3nqviaFRyfGbkBsXD";try{const y=await fetch(m,{headers:{"content-type":"application/json"},body:JSON.stringify(E),method:"POST"});if(!y.ok)throw new Error(`HTTP error! status: ${y.status}`);if((K=y.headers.get("content-type"))!=null&&K.includes("text/event-stream")){if(y.body){const U=y.body.getReader(),ce=new TextDecoder;for(;;){const{done:ue,value:G}=await U.read();if(ue){u?D.value=!1:I.value=!1;break}G&&ce.decode(G).split(`

`).forEach(me=>{const M=me.replace(/data: /g,"");M&&(u?k.value.push(M):j.value.push(M))})}}}else if((X=y.headers.get("content-type"))!=null&&X.includes("application/json")){const U=(await y.json()).data;u?k.value=[U]:j.value=[U]}else throw new Error("Unknown response type")}catch(y){g.notify({color:"negative",message:d("landing_page.error",{message:y}),icon:"report_problem"})}finally{u?L.value=!1:T.value=!1}},de=async()=>{r.value=!0,j.value=[];try{const u=await fetch(A.value);if(!u.ok)throw l.value=`\`\`\`json
${await u.json()}
\`\`\``,new Error(`Request failed with status ${u.status}`);const f=await u.text();l.value=`\`\`\`plaintext
${f}
\`\`\``}catch(u){g.notify({message:u.message,color:"negative"})}finally{r.value=!1}},F=async()=>{await Promise.all([de(),N(!0)]),await N(!1)};return oe(()=>{F()}),(u,f)=>{const E=fe("q-markdown");return i(),q(_e,{bordered:"",flat:"",square:"",class:"col-12 col-md-10"},{default:s(()=>[a(p,{horizontal:t(g).screen.gt.sm},{default:s(()=>[u.disableOriginalURL?P("",!0):(i(),h(v,{key:0},[a(p,{class:"col"},{default:s(()=>[a(t(Z),{modelValue:n.value,"onUpdate:modelValue":f[1]||(f[1]=m=>n.value=m),label:t(d)("reader.demo.your_query"),type:"url",loading:x.value,hint:t(d)("reader.demo.your_query_hint"),ref_key:"questionRef",ref:H},{prepend:s(()=>[a(R,{dense:"",square:"",flat:"",icon:"casino",onClick:f[0]||(f[0]=m=>n.value=B())})]),_:1},8,["modelValue","label","loading","hint"])]),_:1}),a($,{vertical:t(g).screen.gt.sm},null,8,["vertical"])],64)),a(p,{class:"col"},{default:s(()=>[a(t(Z),{"model-value":`https://s.jina.ai/${n.value}`,label:t(d)("reader.demo.reader_url"),readonly:"",loading:r.value,"bottom-slots":""},{append:s(()=>[a(R,{flat:"",dense:"",square:"",icon:"content_copy",onClick:f[2]||(f[2]=m=>t(Be)(A.value))},{default:s(()=>[a(V,null,{default:s(()=>[Q(o(t(d)("copy")),1)]),_:1})]),_:1}),a(R,{flat:"",dense:"",square:"",icon:"open_in_new",onClick:f[3]||(f[3]=m=>t(he)(A.value))},{default:s(()=>[a(V,null,{default:s(()=>[Q(o(t(d)("demo.open")),1)]),_:1})]),_:1})]),hint:s(()=>[Q(o(t(d)("reader.demo.reader_search_hint")),1)]),_:1},8,["model-value","label","loading"])]),_:1})]),_:1},8,["horizontal"]),a($),a(R,{square:"",label:t(d)("reader.demo.ask_llm"),class:"full-width",icon:"contact_support",onClick:F,padding:"md"},null,8,["label"]),T.value||L.value||r.value||j.value.length>0||k.value.length>0?(i(),h(v,{key:0},[a($),a(p,{horizontal:t(g).screen.gt.sm,class:"q-pa-none"},{default:s(()=>[a(p,{class:"col"},{default:s(()=>[e("span",Pe,o(t(d)("reader.demo.ask_llm_directly")),1),L.value?(i(),q(p,{key:0},{default:s(()=>[a(O,{name:"img:https://promptperfect.jina.ai/PromptPerfect-dark.svg",class:"q-mr-sm"},{default:s(()=>[a(V,null,{default:s(()=>[Q(o(t(d)("landing_page.powered_by_promptperfect")),1)]),_:1})]),_:1}),(i(),h(v,null,S([0,1,2,3],m=>a(W,{key:m,class:"q-my-xs",width:m>0?"":"100px",type:"text"},null,8,["width"])),64))]),_:1})):(i(),h(v,{key:1},[a(p,{class:"q-pa-lg"},{default:s(()=>[a(ae,{text:k.value,"speed-time":k.value?50:0},null,8,["text","speed-time"])]),_:1}),D.value?(i(),q(se,{key:0,indeterminate:""})):P("",!0)],64))]),_:1}),a($,{vertical:t(g).screen.gt.sm},null,8,["vertical"]),a(p,{class:"col"},{default:s(()=>[e("span",Ve,o(t(d)("reader.demo.reader_response")),1),r.value?(i(),q(p,{key:0},{default:s(()=>[(i(),h(v,null,S([100,300,200,200],m=>a(W,{type:"text",width:`${m}px`,key:m},null,8,["width"])),64))]),_:1})):(i(),q(E,{key:1,src:l.value,"no-line-numbers":"",style:{"max-height":"300px"}},null,8,["src"]))]),_:1}),a($,{vertical:t(g).screen.gt.sm},null,8,["vertical"]),a(p,{class:"col"},{default:s(()=>[e("span",Ae,o(t(d)("reader.demo.ask_llm_with_search_grounding")),1),a($e,{label:t(d)("reader.demo.waiting_for_reader"),showing:r.value},null,8,["label","showing"]),T.value?(i(),q(p,{key:0},{default:s(()=>[a(O,{name:"img:https://promptperfect.jina.ai/PromptPerfect-dark.svg",class:"q-mr-sm"},{default:s(()=>[a(V,null,{default:s(()=>[Q(o(t(d)("landing_page.powered_by_promptperfect")),1)]),_:1})]),_:1}),(i(),h(v,null,S([0,1,2,3],m=>a(W,{key:m,class:"q-my-xs",width:m>0?"":"100px",type:"text"},null,8,["width"])),64))]),_:1})):(i(),h(v,{key:1},[a(p,{class:"q-pa-lg"},{default:s(()=>[a(ae,{text:j.value,"speed-time":I.value?50:0},null,8,["text","speed-time"])]),_:1}),I.value?(i(),q(se,{key:0,indeterminate:""})):P("",!0)],64))]),_:1})]),_:1},8,["horizontal"])],64)):P("",!0),a($),a(p,{class:"text-grey"},{default:s(()=>[a(O,{name:"info"}),Q(" "+o(t(d)("reader.demo.search_query_rewrite")),1)]),_:1})]),_:1})}}});const ie=b=>(ye("data-v-75350d50"),b=b(),xe(),b),Ee={class:"col-12 col-md-11 q-py-xl q-mx-xs-xs q-mx-sm-sm q-mx-md-md q-mx-lg-lg q-mx-xl-xl q-ma-xl relative-position"},Me={class:"row q-mt-xl q-pt-xl justify-center"},ze={class:"row justify-center items-center"},Oe={class:"col-11 col-md-8"},We={class:"q-my-xl row justify-center items-center"},He={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},Ne={class:"q-my-xl row justify-center items-center"},Fe={class:"row q-mt-xl q-pt-xl justify-center"},Je={class:"row justify-center items-center"},Ke={class:"col-11 col-md-8"},Xe={class:"q-my-xl row justify-center items-center"},Ge={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},Ze=["innerHTML"],Ye={class:"q-my-xl row justify-center items-center"},et={class:"row q-mt-xl q-pt-xl justify-center"},tt={class:"row justify-center items-center"},at={class:"col-11 col-md-8"},st={class:"q-my-xl row justify-center items-center"},lt={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},rt={class:"row q-mt-xl q-pt-xl justify-center"},ot={class:"q-my-xl row justify-center items-center"},nt={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},it={class:"q-my-xl row justify-center items-center",id:"rate-limit"},dt={class:"col-11 col-md-8 text-subtitle1 q-my-lg",style:{"white-space":"pre-line"}},ct=ie(()=>e("td",null,[e("code",null,"r.jina.ai")],-1)),ut=ie(()=>e("td",null,[e("code",null,"s.jina.ai")],-1)),mt={class:"q-my-xl row justify-center items-center text-subtitle1"},pt={class:"row q-mt-xl q-pt-xl justify-center"},_t={class:"q-my-xl row justify-center items-center"},ft={class:"q-my-xl row justify-center items-center"},ht={class:"row q-mt-xl q-py-xl justify-center"},vt={class:"q-my-xl text-center text-grey-5 text-h6 text-weight-light"},gt={class:"row justify-center"},yt={class:"col-12 col-md-9 q-pb-xl"},xt=le({__name:"ReaderPage",setup(b){const d=ve(),{t:l}=re({useScope:"global"}),x=_(!1);je({page:"reader",banner:"banner-reader-api.png",url:"reader"});const r=ne(),g=[{label:"landing_page.get_api_now",icon:"code",anchor:"#apiform"},{label:"reader.demo.try_demo",icon:"play_arrow",anchor:"#demo"},{label:"landing_page.source_code",icon:"fab fa-github",anchor:"https://github.com/jina-ai/reader"}];oe(async()=>{Y(d.hash)});function C(B){x.value=B,Y("#demo")}return(B,w)=>(i(),q(be,null,{default:s(()=>[e("div",{class:c(["row justify-center items-center img-bg",t(r).screen.lt.sm?"q-pa-md":"q-pa-xl"])},[e("div",Ee,[a(Se,{title:t(l)("landing_page.reader"),tagline:t(l)("reader.reader_description"),"large-title":!0,buttons:g},null,8,["title","tagline"])])],2),e("div",{class:c(t(r).screen.lt.sm?"q-pa-md":"q-pa-xl"),id:"what_reader"},[e("div",Me,[e("div",{class:c(t(r).screen.lt.md?"q-mb-lg q-pb-md":"")},[e("h2",{class:c(["text-h2 text-white q-mb-lg text-center",t(r).screen.lt.md?"justify-center":""])},o(t(l)("reader.what_is1")),3)],2)]),e("div",ze,[e("div",Oe,[a(z,{src:Te})])]),e("div",We,[e("div",He,o(t(l)("reader.what_is_answer_long")),1)]),e("div",Ne,[a(R,{label:t(l)("reader.demo.show_read_demo"),icon:"play_arrow",outline:"",padding:"lg",square:"",onClick:w[0]||(w[0]=n=>C(!1))},null,8,["label"])]),e("div",Fe,[e("div",{class:c(t(r).screen.lt.md?"q-mb-lg q-pb-md":"")},[e("h3",{class:c(["text-h3 text-white q-mb-lg text-center",t(r).screen.lt.md?"justify-center":""])},o(t(l)("reader.reader_do_search")),3)],2)]),e("div",Je,[e("div",Ke,[a(z,{src:Ie})])]),e("div",Xe,[e("div",Ge,[e("span",{innerHTML:t(l)("reader.reader_do_search_explain")},null,8,Ze)])]),e("div",Ye,[a(R,{label:t(l)("reader.demo.show_search_demo"),icon:"play_arrow",outline:"",padding:"lg",square:"",onClick:w[1]||(w[1]=n=>C(!0))},null,8,["label"])]),e("div",et,[e("div",{class:c(t(r).screen.lt.md?"q-mb-lg q-pb-md":"")},[e("h3",{class:c(["text-h3 text-white q-mb-lg text-center",t(r).screen.lt.md?"justify-center":""])},o(t(l)("reader.reader_reads_images")),3)],2)]),e("div",tt,[e("div",at,[a(z,{src:Ue})])]),e("div",st,[e("div",lt,o(t(l)("reader.reader_also_read_images")),1)]),e("div",rt,[e("div",{class:c(t(r).screen.lt.md?"q-mb-lg q-pb-md":"")},[e("h3",{class:c(["text-h3 text-white q-mb-lg text-center",t(r).screen.lt.md?"justify-center":""])},o(t(l)("reader.is_free")),3)],2)]),e("div",ot,[e("div",nt,o(t(l)("reader.is_free_description")),1)]),e("div",it,[e("div",dt,[a(qe,{"wrap-cells":"",flat:"",square:"",separator:"cell",bordered:"",class:"bg-transparent"},{default:s(()=>[e("thead",null,[e("tr",null,[(i(),h(v,null,S([0,1,2,3,4,5],n=>e("th",{key:n},o(t(l)(`reader.table.th${n}`)),1)),64))])]),e("tbody",null,[e("tr",null,[ct,(i(),h(v,null,S([0,1,2,3,4],n=>e("td",{key:n},o(t(l)(`reader.table.td_1_${n}`)),1)),64))]),e("tr",null,[ut,(i(),h(v,null,S([0,1,2,3,4],n=>e("td",{key:n},o(t(l)(`reader.table.td_2_${n}`)),1)),64))])])]),_:1})])]),e("div",mt,o(t(l)("reader.dont_panic_api_key_is_free")),1)],2),e("div",{class:c([t(r).screen.lt.sm?"q-pa-md":"q-pa-xl","bg-dark"]),id:"demo"},[e("div",pt,[e("div",{class:c(t(r).screen.lt.md?"q-mb-lg q-pb-md":"")},[e("h2",{class:c(["text-h2 text-white q-mb-lg text-center",t(r).screen.lt.md?"justify-center":""])},o(t(l)("reader.demo.tagline")),3)],2)]),e("div",_t,[a(ge,{modelValue:x.value,"onUpdate:modelValue":w[2]||(w[2]=n=>x.value=n),size:"xl",label:x.value?t(l)("reader.demo.show_read_demo"):t(l)("reader.demo.show_search_demo"),"checked-icon":"search","unchecked-icon":"double_arrow"},null,8,["modelValue","label"])]),e("div",ft,[ee(a(De,null,null,512),[[te,x.value]]),ee(a(Qe,null,null,512),[[te,!x.value]])])],2),e("div",{class:c(t(r).screen.lt.sm?"q-pa-md":"q-pa-xl"),id:"apiform"},[e("div",ht,[e("div",{class:c(t(r).screen.lt.md?"q-mb-lg q-pb-md":"")},[e("h2",{class:c(["text-h2 text-white q-mb-lg text-center",t(r).screen.lt.md?"justify-center":""])},o(t(l)("reader.title")),3)],2)]),e("div",vt,o(t(l)("reader.reader_description")),1),e("div",gt,[e("div",yt,[a(Re,{"show-function":"reader"})])])],2),a(Le),a(Ce,{"faq-sources":["reader.faq_v1","api_general_faq","billing_general_faq"]},null,8,["faq-sources"]),a(ke)]),_:1}))}});var aa=we(xt,[["__scopeId","data-v-75350d50"]]);export{aa as default};
