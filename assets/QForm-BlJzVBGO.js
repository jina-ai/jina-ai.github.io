import{a as se,Q as P}from"./QItemLabel-De0lfYja.js";import{bl as Xe,c1 as Ze,c2 as Je,K as $e,i as T,j,F as pe,aK as et,H as _e,S as tt,k as Z,m as De,c3 as at,bp as lt,c4 as nt,c5 as it,c6 as ot,c7 as rt,aM as st,c8 as ct,L as ut,c9 as Ae,h as ge,aa as be,W as ye,X as u,Y as g,Z as t,$ as a,a4 as ue,ad as Q,ae as f,a6 as A,af as m,a8 as c,aE as ke,l as W,al as qe,a7 as R,b0 as dt,ba as we,bu as mt,aR as je,aT as ze,aS as xe,bU as ft,aU as _t,a0 as H,a9 as D,bj as Ke,az as Ee,a1 as oe,a2 as re,a5 as Y,a3 as J,aj as pt,bd as gt,N as Ve,bT as Te,u as bt,ca as yt,cb as ht,aY as vt,am as wt,ah as xt,aD as kt,ac as Pt,aW as Oe,b$ as qt,c0 as It,G as St,ap as Ct,M as At,cc as Tt,b3 as Ot,cd as Rt}from"./index-DaAiFtz2.js";import{h as Ft}from"./format-BNhGbgUz.js";import{a as me}from"./QExpansionItem-CA74QkjW.js";import{Q as G}from"./QTooltip-BRcesVy0.js";import{a as Ue,Q as Mt}from"./QBtnGroup-Ch52KmgK.js";import{Q as Le}from"./QLinearProgress-BH04L7YV.js";import{Q as ie}from"./QList-CxvsSGyF.js";import{d as Dt,a as Pe,Q as Re}from"./finetune-C7isW8Zz.js";import{c as jt}from"./copy-to-clipboard-BXIFeX8O.js";import{u as Qe,T as zt}from"./embedding-zlE40BTY.js";import{a as Be,Q as X,b as Fe}from"./QTable-D4KMnNJR.js";import{Q as Kt}from"./QSpace-BtGN4skt.js";function Me(i){if(i===!1)return 0;if(i===!0||i===void 0)return 1;const o=parseInt(i,10);return isNaN(o)?0:o}const Et=Xe({name:"close-popup",beforeMount(i,{value:o}){const n={depth:Me(o),handler(e){n.depth!==0&&setTimeout(()=>{const s=Ze(i);s!==void 0&&Je(s,e,n.depth)})},handlerKey(e){$e(e,13)===!0&&n.handler(e)}};i.__qclosepopup=n,i.addEventListener("click",n.handler),i.addEventListener("keyup",n.handlerKey)},updated(i,{value:o,oldValue:n}){o!==n&&(i.__qclosepopup.depth=Me(o))},beforeUnmount(i){const o=i.__qclosepopup;i.removeEventListener("click",o.handler),i.removeEventListener("keyup",o.handlerKey),delete i.__qclosepopup}});function ne(i,o,n,e){const s=[];return i.forEach(d=>{e(d)===!0?s.push(d):o.push({failedPropValidation:n,file:d})}),s}function fe(i){i&&i.dataTransfer&&(i.dataTransfer.dropEffect="copy"),_e(i)}const Vt={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Ut=["rejected"];function Lt({editable:i,dnd:o,getFileInput:n,addFilesToQueue:e}){const{props:s,emit:d,proxy:l}=pe(),O=T(null),q=j(()=>s.accept!==void 0?s.accept.split(",").map(r=>(r=r.trim(),r==="*"?"*/":(r.endsWith("/*")&&(r=r.slice(0,r.length-1)),r.toUpperCase()))):null),F=j(()=>parseInt(s.maxFiles,10)),I=j(()=>parseInt(s.maxTotalSize,10));function S(r){if(i.value)if(r!==Object(r)&&(r={target:null}),r.target!==null&&r.target.matches('input[type="file"]')===!0)r.clientX===0&&r.clientY===0&&et(r);else{const _=n();_&&_!==r.target&&_.click(r)}}function E(r){i.value&&r&&e(null,r)}function b(r,_,w,z){let h=Array.from(_||r.target.files);const K=[],U=()=>{K.length!==0&&d("rejected",K)};if(s.accept!==void 0&&q.value.indexOf("*/")===-1&&(h=ne(h,K,"accept",k=>q.value.some(M=>k.type.toUpperCase().startsWith(M)||k.name.toUpperCase().endsWith(M))),h.length===0))return U();if(s.maxFileSize!==void 0){const k=parseInt(s.maxFileSize,10);if(h=ne(h,K,"max-file-size",M=>M.size<=k),h.length===0)return U()}if(s.multiple!==!0&&h.length!==0&&(h=[h[0]]),h.forEach(k=>{k.__key=k.webkitRelativePath+k.lastModified+k.name+k.size}),z===!0){const k=w.map(M=>M.__key);h=ne(h,K,"duplicate",M=>k.includes(M.__key)===!1)}if(h.length===0)return U();if(s.maxTotalSize!==void 0){let k=z===!0?w.reduce((M,$)=>M+$.size,0):0;if(h=ne(h,K,"max-total-size",M=>(k+=M.size,k<=I.value)),h.length===0)return U()}if(typeof s.filter=="function"){const k=s.filter(h);h=ne(h,K,"filter",M=>k.includes(M))}if(s.maxFiles!==void 0){let k=z===!0?w.length:0;if(h=ne(h,K,"max-files",()=>(k++,k<=F.value)),h.length===0)return U()}if(U(),h.length!==0)return h}function V(r){fe(r),o.value!==!0&&(o.value=!0)}function x(r){_e(r),(r.relatedTarget!==null||tt.is.safari!==!0?r.relatedTarget!==O.value:document.elementsFromPoint(r.clientX,r.clientY).includes(O.value)===!1)===!0&&(o.value=!1)}function y(r){fe(r);const _=r.dataTransfer.files;_.length!==0&&e(null,_),o.value=!1}function C(r){if(o.value===!0)return Z("div",{ref:O,class:`q-${r}__dnd absolute-full`,onDragenter:fe,onDragover:fe,onDragleave:x,onDrop:y})}return Object.assign(l,{pickFiles:S,addFiles:E}),{pickFiles:S,addFiles:E,onDragover:V,onDragleave:x,processFiles:b,getDndNode:C,maxFilesNumber:F,maxTotalSizeNumber:I}}const Da=De({name:"QFile",inheritAttrs:!1,props:{...at,...lt,...Vt,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...nt,...Ut],setup(i,{slots:o,emit:n,attrs:e}){const{proxy:s}=pe(),d=it(),l=T(null),O=T(!1),q=ot(i),{pickFiles:F,onDragover:I,onDragleave:S,processFiles:E,getDndNode:b}=Lt({editable:d.editable,dnd:O,getFileInput:ce,addFilesToQueue:te}),V=rt(i),x=j(()=>Object(i.modelValue)===i.modelValue?"length"in i.modelValue?Array.from(i.modelValue):[i.modelValue]:[]),y=j(()=>Ae(x.value)),C=j(()=>x.value.map(p=>p.name).join(", ")),r=j(()=>Ft(x.value.reduce((p,L)=>p+L.size,0))),_=j(()=>({totalSize:r.value,filesNumber:x.value.length,maxFiles:i.maxFiles})),w=j(()=>({tabindex:-1,type:"file",title:"",accept:i.accept,capture:i.capture,name:q.value,...e,id:d.targetUid.value,disabled:d.editable.value!==!0})),z=j(()=>"q-file q-field--auto-height"+(O.value===!0?" q-file--dnd":"")),h=j(()=>i.multiple===!0&&i.append===!0);function K(p){const L=x.value.slice();L.splice(p,1),k(L)}function U(p){const L=x.value.indexOf(p);L!==-1&&K(L)}function k(p){n("update:modelValue",i.multiple===!0?p:p[0])}function M(p){p.keyCode===13&&ut(p)}function $(p){(p.keyCode===13||p.keyCode===32)&&F(p)}function ce(){return l.value}function te(p,L){const N=E(p,L,x.value,h.value),le=ce();le!=null&&(le.value=""),N!==void 0&&((i.multiple===!0?i.modelValue&&N.every(v=>x.value.includes(v)):i.modelValue===N[0])||k(h.value===!0?x.value.concat(N):N))}function ae(){return[Z("input",{class:[i.inputClass,"q-file__filler"],style:i.inputStyle})]}function he(){if(o.file!==void 0)return x.value.length===0?ae():x.value.map((L,N)=>o.file({index:N,file:L,ref:this}));if(o.selected!==void 0)return x.value.length===0?ae():o.selected({files:x.value,ref:this});if(i.useChips===!0)return x.value.length===0?ae():x.value.map((L,N)=>Z(se,{key:"file-"+N,removable:d.editable.value,dense:!0,textColor:i.color,tabindex:i.tabindex,onRemove:()=>{K(N)}},()=>Z("span",{class:"ellipsis",textContent:L.name})));const p=i.displayValue!==void 0?i.displayValue:C.value;return p.length!==0?[Z("div",{class:i.inputClass,style:i.inputStyle,textContent:p})]:ae()}function ve(){const p={ref:l,...w.value,...V.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:te};return i.multiple===!0&&(p.multiple=!0),Z("input",p)}return Object.assign(d,{fieldClass:z,emitValue:k,hasValue:y,inputRef:l,innerValue:x,floatingLabel:j(()=>y.value===!0||Ae(i.displayValue)),computedCounter:j(()=>{if(i.counterLabel!==void 0)return i.counterLabel(_.value);const p=i.maxFiles;return`${x.value.length}${p!==void 0?" / "+p:""} (${r.value})`}),getControlChild:()=>b("file"),getControl:()=>{const p={ref:d.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:i.tabindex};return d.editable.value===!0&&Object.assign(p,{onDragover:I,onDragleave:S,onKeydown:M,onKeyup:$}),Z("div",p,[ve()].concat(he()))}}),Object.assign(s,{removeAtIndex:K,removeFile:U,getNativeElement:()=>l.value}),st(s,"nativeEl",()=>l.value),ct(d)}}),ja=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,za=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,Qt=()=>!0;function Bt(i){const o={};return i.forEach(n=>{o[n]=Qt}),o}function Ie(){const{emit:i,proxy:o}=pe(),n=T(null);function e(){n.value.show()}function s(){n.value.hide()}function d(O){i("ok",O),s()}function l(){i("hide")}return Object.assign(o,{show:e,hide:s}),{dialogRef:n,onDialogHide:l,onDialogOK:d,onDialogCancel:s}}const Ne=["ok","hide"];Ie.emits=Ne;Ie.emitsObject=Bt(Ne);const Nt=ge({__name:"UsageHistoryDialog",props:{apiKey:{}},setup(i,{expose:o}){o();const n=i,{t:e}=be({useScope:"global"}),s=Qe(),{dialogRef:d}=Ie(),l=()=>{var y;(y=S.value)==null||y.requestServerInteraction()},O=()=>{E.value=[]},q=y=>{var C,r;switch((C=y.request_path)==null?void 0:C.toLowerCase()){case"/encode":case"/checkfact":return F((r=y.metadata)==null?void 0:r.model_name);case"/embeddings":case"/rerank":case"/classify":case"/train":return`api.jina.ai/v1${y.request_path}`;case"/multi-embeddings":return"api.jina.ai/v1/multi-vector";case"/segment":return"segment.jina.ai";default:return y.request_path}},F=y=>{if(!y)return"";switch(y.toLowerCase()){case"reader-crawl":return"r.jina.ai";case"reader-search":return"s.jina.ai";case"grounding-checkfact":return"g.jina.ai";default:return y}},I=T(!1),S=T(null),E=T([]),b=T([{name:"icon",label:"",field:"amount",sortable:!1,align:"right"},{name:"createdAt",label:e("embedding.usage_time"),field:"createdAt",sortable:!1,align:"left",format:y=>Dt.formatDate(y,"YYYY-MM-DD")},{name:"amount",label:e("embedding.tokens"),field:"amount",sortable:!1,align:"right",format:y=>y>0?`+${y}`:`${y}`},{name:"reason",label:e("embedding.usage_reason"),field:"reason",sortable:!1,align:"left"},{name:"requestPath",label:e("embedding.request_path"),field:"request_path",sortable:!1,align:"left"},{name:"requestNumber",label:e("embedding.request_number"),field:"request_number",sortable:!1,align:"right",format:y=>y?Pe(y):""}]),x={props:n,t:e,embeddingStore:s,dialogRef:d,onUsageHistoryDialogShow:l,onUsageHistoryDialogHide:O,getEndpoint:q,formatModelName:F,isUsageLoading:I,usageTableRef:S,usageRows:E,usageColumns:b,getUsageHistory:async()=>{I.value=!0;const y=await s.getUsage(n.apiKey);I.value=!1,!(!y||y.length===0)&&(E.value=y.map(C=>{const r=new Date(C.updated_at);let _=C.quantity,w=e(`embedding.usage_reason_${C.type}`);return C.type===zt.CONSUME?(_=-_,C.metadata.model_name&&(w=w+": "+F(C.metadata.model_name))):(C.metadata.product_name&&(w=w+": "+C.metadata.product_name),C.metadata.order_quantity&&C.metadata.order_quantity>1&&(w=w+` (x ${C.metadata.order_quantity})`)),{createdAt:r,amount:_,reason:w,request_path:q(C),request_number:C.request_number}}))},get QTable(){return Be},get formatNumber(){return Pe}};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}});function Ht(i,o,n,e,s,d){return u(),g(dt,{ref:"dialogRef",onShow:e.onUsageHistoryDialogShow,onHide:e.onUsageHistoryDialogHide},{default:t(()=>[a(ue,{style:{width:"1000px","max-width":"80vw"}},{default:t(()=>[a(Q,{class:"q-pa-md"},{default:t(()=>[a(f,{avatar:""},{default:t(()=>[a(A,{name:"history"})]),_:1}),a(f,null,{default:t(()=>[a(P,null,{default:t(()=>[m(c(e.t("embedding.usage_history")),1)]),_:1}),a(P,{caption:""},{default:t(()=>[m(c(e.t("embedding.usage_history_explain")),1)]),_:1})]),_:1}),a(f,{side:""},{default:t(()=>[ke(a(W,{icon:"close",flat:"",round:"",dense:""},null,512),[[Et]])]),_:1})]),_:1}),a(qe),a(e.QTable,{ref:"usageTableRef",flat:"",class:"bg-transparent","row-key":"createdAt",rows:e.usageRows,columns:e.usageColumns,loading:e.isUsageLoading,onRequest:e.getUsageHistory,pagination:{rowsPerPage:10}},{"body-cell-icon":t(l=>[a(X,{key:"icon",props:l},{default:t(()=>[l.row.amount>0?(u(),g(A,{key:0,name:"o_add_circle_outline",color:"primary"})):(u(),g(A,{key:1,name:"o_remove_circle_outline",color:"negative"}))]),_:2},1032,["props"])]),"body-cell-amount":t(l=>[a(X,{key:"amount",props:l},{default:t(()=>[m(c((l.row.amount>0?"+":"")+e.formatNumber(l.row.amount)),1)]),_:2},1032,["props"])]),"body-cell-requestPath":t(l=>[a(X,{key:"request_path",props:l},{default:t(()=>[R("code",null,c(l.row.request_path),1)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])]),_:1})]),_:1},512)}const Yt=ye(Nt,[["render",Ht],["__file","UsageHistoryDialog.vue"]]),Gt=ge({__name:"RateLimitComponent",props:{showActionButtons:Boolean},setup(i,{expose:o}){o();const{t:n}=be({useScope:"global"}),e=ft(),s=T([{icon:we,endpoint:"https://r.jina.ai",name:n("reader.title"),description:n("rate_limit.rjinaai"),requestType:"GET/POST",woAPIkey:"20 RPM",wAPIkey:"200 RPM",wPremium:"1000 RPM",tokenCounting:n("rate_limit.output_token_counting"),latency:"4.6s",weight:e.name==="reader"?100:18},{icon:we,endpoint:"https://s.jina.ai",name:n("reader.title"),description:n("rate_limit.sjinaai"),requestType:"GET/POST",woAPIkey:null,wAPIkey:"40 RPM",wPremium:"100 RPM",tokenCounting:n("rate_limit.output_token_counting"),latency:"8.7s",weight:e.name==="reader"?99:17},{icon:we,endpoint:"https://g.jina.ai",name:n("reader.title"),description:n("rate_limit.gjinaai"),requestType:"GET/POST",woAPIkey:null,wAPIkey:"10 RPM",wPremium:"30 RPM",tokenCounting:n("rate_limit.total_token_counting"),latency:"22.7s",weight:e.name==="reader"?99:17},{icon:mt,endpoint:"https://segment.jina.ai",name:n("tokenizer.title"),description:n("rate_limit.tokenizer"),requestType:"GET/POST",woAPIkey:"20 RPM",wAPIkey:"200 RPM",wPremium:"1,000 RPM",tokenCounting:n("rate_limit.no_token_counting"),latency:"0.3s",weight:e.name==="segmenter"?100:1},{icon:je,endpoint:"https://api.jina.ai/v1/embeddings",name:n("embedding.title"),description:n("rate_limit.embeddings"),requestType:"POST",woAPIkey:null,wAPIkey:"500 RPM & 1,000,000 TPM",wPremium:"2,000 RPM & 5,000,000 TPM",tokenCounting:n("rate_limit.input_token_counting"),latency:null,latencyDepends:n("rate_limit.depends"),latencyExplain:n("rate_limit.batch_explain"),weight:e.name==="embeddings"?100:20},{icon:ze,endpoint:"https://api.jina.ai/v1/rerank",name:n("reranker.title"),description:n("rate_limit.tokenizer"),requestType:"POST",woAPIkey:null,wAPIkey:"500 RPM & 1,000,000 TPM",wPremium:"2,000 RPM & 5,000,000 TPM",tokenCounting:n("rate_limit.input_token_counting"),latency:null,latencyDepends:n("rate_limit.depends"),latencyExplain:n("rate_limit.batch_explain"),weight:e.name==="reranker"?100:19},{icon:xe,endpoint:"https://api.jina.ai/v1/classify",name:`${n("classifier.title")} (${n("classifier.compare_table.zero_shot")})`,description:n("rate_limit.classifier_zero_shot"),requestType:"POST",woAPIkey:null,wAPIkey:"200 RPM & 500,000 TPM",wPremium:"1,000 RPM & 3,000,000 TPM",tokenCounting:n("rate_limit.classifier_zero_shot_token_counting"),latency:null,latencyDepends:n("rate_limit.depends"),weight:e.name==="classifier"?100:15},{icon:xe,endpoint:"https://api.jina.ai/v1/classify",name:`${n("classifier.title")} (${n("classifier.compare_table.few_shot")})`,description:n("rate_limit.classifier_few_shot"),requestType:"POST",woAPIkey:null,wAPIkey:"20 RPM & 200,000 TPM",wPremium:"60 RPM & 1,000,000 TPM",tokenCounting:n("rate_limit.classifier_few_shot_token_counting"),latency:null,latencyDepends:n("rate_limit.depends"),weight:e.name==="classifier"?98:15},{icon:xe,endpoint:"https://api.jina.ai/v1/train",name:n("classifier.title"),description:n("rate_limit.classifier"),requestType:"POST",woAPIkey:null,wAPIkey:"20 RPM & 200,000 TPM",wPremium:"60 RPM & 1,000,000 TPM",tokenCounting:n("rate_limit.classifier_token_counting"),latency:null,latencyDepends:n("rate_limit.depends"),weight:e.name==="classifier"?99:15}]),d=T([{name:"icon",field:"icon",label:"",align:"left"},{name:"name",field:"name",label:n("rate_limit.product"),align:"left"},{name:"endpoint",field:"endpoint",label:n("rate_limit.endpoint"),align:"left"},{name:"description",field:"description",label:n("rate_limit.description"),align:"left",sortable:!0},{name:"woAPIkey",field:"woAPIkey",label:n("rate_limit.woAPIkey"),align:"right"},{name:"wAPIkey",field:"wAPIkey",label:n("rate_limit.wAPIkey"),align:"right"},{name:"wPremium",field:"wPremium",label:n("rate_limit.wPremium"),align:"right"},{name:"latency",field:"latency",label:n("rate_limit.latency"),align:"right"},{name:"tokenCounting",field:"tokenCounting",label:n("rate_limit.tokenCounting"),align:"left"},{name:"requestType",field:"requestType",label:n("rate_limit.requestType"),align:"left"}]),l=T(d.value.map(I=>I.name)),O=j(()=>s.value.sort((I,S)=>S.weight-I.weight)),q=T({rowsPerPage:10}),F={t:n,route:e,rows:s,columns:d,visibleColumns:l,sortedRows:O,initialPagination:q};return Object.defineProperty(F,"__isScriptSetup",{enumerable:!1,value:!0}),F}}),Wt=["innerHTML"],Xt={class:"text-bold silver-foil"},Zt={class:"text-bold golden-foil"},Jt={class:"row q-pa-md justify-center full-width"},$t={key:1},ea={class:"silver-foil text-bold"},ta={class:"golden-foil text-bold"},aa={key:1};function la(i,o,n,e,s,d){return u(),g(Be,{class:"my-sticky-column-table",flat:"",square:"","title-class":"q-pa-md",title:e.t("rate_limit.title"),rows:e.sortedRows,columns:e.columns,"row-key":"endpoint",pagination:e.initialPagination,"hide-pagination":"","visible-columns":e.visibleColumns},_t({top:t(()=>[a(Q,{class:"full-width q-pa-lg"},{default:t(()=>[a(f,null,{default:t(()=>[a(P,{class:"text-weight-bold"},{default:t(()=>[m(c(e.t("rate_limit.title")),1)]),_:1}),a(P,{caption:""},{default:t(()=>[R("span",{innerHTML:e.t("rate_limit.explain")},null,8,Wt)]),_:1})]),_:1}),a(Kt),a(f,{side:""},{default:t(()=>[a(Le,{modelValue:e.visibleColumns,"onUpdate:modelValue":o[0]||(o[0]=l=>e.visibleColumns=l),multiple:"",outlined:"",square:"",dense:"","options-dense":"","display-value":i.$q.lang.table.columns,"emit-value":"","map-options":"",options:e.columns,"option-value":"name","options-cover":"",style:{"min-width":"150px"}},null,8,["modelValue","display-value","options"])]),_:1})]),_:1})]),"header-cell-wAPIkey":t(l=>[a(Fe,{props:l},{default:t(()=>[R("span",Xt,c(l.col.label),1)]),_:2},1032,["props"])]),"header-cell-wPremium":t(l=>[a(Fe,{props:l},{default:t(()=>[R("span",Zt,c(l.col.label),1)]),_:2},1032,["props"])]),"body-cell-icon":t(l=>[a(X,{props:l},{default:t(()=>[a(Mt,{src:l.value,width:"36px"},null,8,["src"])]),_:2},1032,["props"])]),"body-cell-endpoint":t(l=>[a(X,{props:l},{default:t(()=>[R("code",null,c(l.value),1)]),_:2},1032,["props"])]),"body-cell-woAPIkey":t(l=>[a(X,{props:l},{default:t(()=>[l.value?(u(),H("span",$t,c(l.value),1)):(u(),g(A,{key:0,name:"block",color:"negative"}))]),_:2},1032,["props"])]),"body-cell-wAPIkey":t(l=>[a(X,{props:l},{default:t(()=>[R("span",ea,c(l.value),1),String(l.value).includes("X")?(u(),g(A,{key:0,name:"keyboard_double_arrow_up",color:"primary",class:"cursor-pointer"},{default:t(()=>[a(G,{"max-width":"300px"},{default:t(()=>[m(c(e.t("rate_limit.batch_explain")),1)]),_:1})]),_:1})):D("",!0)]),_:2},1032,["props"])]),"body-cell-wPremium":t(l=>[a(X,{props:l},{default:t(()=>[R("span",ta,c(l.value),1)]),_:2},1032,["props"])]),"body-cell-latency":t(l=>[a(X,{props:l},{default:t(()=>[l.value?(u(),H("span",aa,c(l.value),1)):(u(),g(se,{key:0,icon:"bolt",label:l.row.latencyDepends,size:"sm"},{default:t(()=>[m(c(l.value)+" ",1),l.row.latencyExplain?(u(),g(A,{key:0,name:"help",class:"cursor-pointer q-ml-sm"},{default:t(()=>[a(G,{"max-width":"300px"},{default:t(()=>[m(c(l.row.latencyExplain),1)]),_:2},1024)]),_:2},1024)):D("",!0)]),_:2},1032,["label"]))]),_:2},1032,["props"])]),_:2},[n.showActionButtons?{name:"bottom",fn:t(()=>[R("div",Jt,[a(Ue,{outline:"",square:""},{default:t(()=>[a(W,{outline:"",label:e.t("get_new_key"),square:"",icon:"key",href:"/?sui=apikey",padding:"md",target:"_blank"},null,8,["label"]),a(qe),a(W,{outline:"",label:e.t("header.contact_us"),square:"",icon:"handshake",to:"/contact-sales",padding:"md"},null,8,["label"])]),_:1})])]),key:"0"}:void 0]),1032,["title","rows","columns","pagination","visible-columns"])}const na=ye(Gt,[["render",la],["__file","RateLimitComponent.vue"]]),ia=ge({__name:"CSPButtons",props:{centered:{type:Boolean,default:!1},lighterBg:{type:Boolean,default:!1}},setup(i,{expose:o}){o();const{t:n}=be({useScope:"global"}),e={t:n,get cloudPartners(){return Ke},get redirect(){return Ee},get rerankerIcon(){return ze},get embeddingIcon(){return je}};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),oa={key:0,class:"q-focus-helper"},ra={key:0,class:"text-dim text-caption"};function sa(i,o,n,e,s,d){return u(),g(ie,{class:Y(["row q-pb-lg q-px-sm",{"justify-center":n.centered}])},{default:t(()=>[(u(!0),H(re,null,oe(e.cloudPartners,(l,O)=>(u(),g(Q,{key:O,class:"col-6 col-md-4 col-lg-3 col-xl-2 q-pa-sm q-py-md"},{default:t(()=>[a(ue,{bordered:"",flat:"","v-ripple":!l.disabled,class:Y(["full-width",{"q-hoverable cursor-pointer":!l.disabled,"bg-transparent":l.disabled,"bg-mixed-100":!l.disabled&&n.lighterBg,"bg-mixed-200":!l.disabled&&!n.lighterBg}]),square:"",onClick:q=>l.disabled?void 0:e.redirect(l.link)},{default:t(()=>[l.disabled?D("",!0):(u(),H("span",oa)),a(J,{class:"column items-center non-selectable q-py-xl"},{default:t(()=>[a(A,{name:l.icon,class:"q-py-lg",size:"xl"},null,8,["name"]),m(" "+c(l.label),1)]),_:2},1024),a(J,{class:"text-center non-selectable q-pb-lg"},{default:t(()=>[(u(!0),H(re,null,oe(l.products,(q,F)=>(u(),g(se,{key:F,label:e.t(`integrations.${q}`),outline:"",size:"xs",square:"",style:{"border-radius":"0"},icon:q==="embedding"?`img:${e.embeddingIcon}`:`img:${e.rerankerIcon}`},null,8,["label","icon"]))),128)),l.disabled?(u(),H("span",ra,c(e.t("landing_page.coming_soon")),1)):D("",!0)]),_:2},1024)]),_:2},1032,["v-ripple","class","onClick"])]),_:2},1024))),128))]),_:1},8,["class"])}const ca=ye(ia,[["render",sa],["__file","CSPButtons.vue"]]),ua=ge({__name:"PurchaseTab",props:{hideUsage:{type:Boolean,default:!1},defaultOpenedItem:{default:"api"},hideOthers:{type:Boolean,default:!1}},setup(i,{expose:o}){o();const{t:n}=be({useScope:"global"}),e=bt(),s=Qe(),{apiKey:d,products:l,isApiKeyInfoLoading:O,isPremiumPaidUser:q,apiKeyInfo:F}=pt(s),I=T(d.value),S=T(F==null?void 0:F.value);gt(async()=>{S.value=await s.getKeyInfo(I.value),r.value=!U.value||k.value});const E=i,b=T(0),V=T(E.defaultOpenedItem==="onprem"),x=T(E.defaultOpenedItem==="api"),y=T(E.defaultOpenedItem==="cloud"),C=[{label:"10K",value:1e4},{label:"1M",value:1e6}],r=T(!0),_=T(1e6),w=T(""),z={"1M tokens":["paywall.no_commercial"],"1B tokens":["paywall.full_commercial"],"11B tokens":["paywall.full_commercial","paywall.higher_limit","paywall.priority_support","paywall.free_hour_consult"]},h=j(()=>l.value.map(v=>({...v,isActive:()=>w.value===v.price_id,tag:()=>n(`embedding.${v.product_name}_targetUser`),title:()=>n(`embedding.${v.product_name.replace(".","_")}`),description:()=>n(`embedding.${v.product_name.replace(".","_")}_intuition1`),isFree:v.price===0,priceLabel:()=>v.price>0?`$${v.price}`:n("embedding.free"),priceDescription:()=>v.price>0?`${(v.price/v.token_quantity*1e6).toFixed(3)} ${n("embedding.per_m")}`:n("embedding.1M_free_description"),handler:()=>v.price>0?ce(v.price_id):void 0}))),K=j(()=>{var v,B;return(B=(v=S.value)==null?void 0:v.wallet.total_balance)!=null?B:0}),U=j(()=>{var v;return!!((v=S.value)!=null&&v.email)}),k=j(()=>{var v;return U.value&&!!((v=S.value)!=null&&v.metadata.auto_recharge)}),M=j(()=>!!I.value&&(S==null?void 0:S.value)!==void 0),$=j(()=>!M.value||O.value),ce=async v=>{if($.value||w.value)return;const B=l.value.find(We=>We.price_id===v),ee=new URL(window.location.href),He=Date.now().toString();ee.searchParams.set("price_id",v),ee.searchParams.set("session_id",He),ee.searchParams.set("purchase_status","cancel");const Ye=ee.toString();ee.searchParams.set("purchase_status","success"),ee.searchParams.set("sui","apikey");const Ge=ee.toString();w.value=v;const de={price_id:v,success_url:Ge,cancel_url:Ye},Se=localStorage.getItem(yt);Se&&(de.meta_data={sales_key:Se}),r.value&&(de.meta_data={...de.meta_data,auto_recharge:!0,threshold:_.value}),B&&gtag("event","begin_checkout",{currency:B.currency,value:B.price,items:[{id:B.product_id,name:B.product_name}]});const Ce=await s.checkoutWithStripe(I.value,de);w.value="",Ce&&(s.apiKey=I.value,window.location.href=Ce.url)},te=async()=>{S.value=await s.getKeyInfo(I.value),r.value=!U.value||k.value,d.value===I.value&&s.setApiKeyInfo(S.value)},ae=async v=>{U.value&&(!k.value&&v?e.dialog({title:n("embedding.auto_recharge_enable_title"),message:n("embedding.auto_recharge_enable_message")}):k.value&&!v&&e.dialog({title:n("embedding.auto_recharge_confirm_title"),message:n("embedding.auto_recharge_confirm_message"),cancel:!0}).onOk(async()=>{try{await s.cancelAutoRecharge(d.value)}catch(B){e.notify({message:B instanceof Error?B.message:String(B),color:"negative"}),r.value=!0}te()}).onCancel(()=>{r.value=!0}))},he=async()=>{M.value&&I.value!==d.value&&e.dialog({title:n("embedding.api_key_update_title"),message:n("embedding.api_key_update_message"),cancel:!0}).onOk(()=>{d.value=I.value,te()})},ve=()=>{$.value||e.dialog({component:Yt,componentProps:{apiKey:I.value}})};Ve(async()=>{await s.getProducts(),setInterval(()=>{b.value=(b.value+1)%Te.length},3e3)});const p=T(!1),le={t:n,$q:e,embeddingStore:s,apiKey:d,products:l,isApiKeyInfoLoading:O,isPremiumPaidUser:q,apiKeyInfo:F,inputApiKey:I,inputApiKeyInfo:S,props:E,currentIndex:b,showOnPrem:V,showAPI:x,showCSP:y,rechargeThresholdOptions:C,autoRecharge:r,rechargeThreshold:_,currentPriceID:w,tierFeatures:z,productCards:h,apiKeyTokens:K,isPaidUser:U,isAutoCharge:k,isInputApiKeyValid:M,isInputApiKeyDisabled:$,checkoutProduct:ce,getKeyInfo:te,updateAutoRecharge:ae,updateApiKey:he,openUsageHistoryDialog:ve,isApiKeyCopyDone:p,copyApiKey:()=>{!d.value||p.value||(jt(d.value).then(()=>{e.notify({message:n("copy_to_clipboard_success"),textColor:"primary",icon:"done"}),p.value=!0,gtag==null||gtag("event","embedding_copy_api_key",{location:document.location.href})}),setTimeout(()=>{p.value=!1},1800))},licenseFeatures:["paywall.commercial_licence.feature_models","paywall.commercial_licence.feature_consulting","paywall.commercial_licence.feature_future_support"],get ccncOptions(){return Te},get cloudPartners(){return Ke},get flatEnterprises(){return ht},get redirect(){return Ee},get formatNumber(){return Pe},RateLimitComponent:na,CSPButtons:ca};return Object.defineProperty(le,"__isScriptSetup",{enumerable:!1,value:!0}),le}}),da=["innerHTML"],ma=["innerHTML"],fa=["innerHTML","data-text"],_a={class:"row justify-center text-caption text-dim q-pt-md q-pb-sm"},pa={class:"row justify-center q-gutter-x-sm"},ga={class:"row q-pa-md q-py-none justify-center"},ba={class:"col-10 col-md-6 col-lg-4 q-pa-sm cursor-pointer",style:{"min-width":"400px"}},ya=["innerHTML"],ha={class:"row justify-center text-caption text-dim q-pt-md q-pb-sm"},va={class:"row justify-center"};function wa(i,o,n,e,s,d){return u(),g(ie,{separator:""},{default:t(()=>[!n.hideOthers||n.defaultOpenedItem==="cloud"?(u(),g(me,{key:0,group:"paywall",modelValue:e.showCSP,"onUpdate:modelValue":o[0]||(o[0]=l=>e.showCSP=l),"hide-expand-icon":n.hideOthers,"switch-toggle-side":"","expand-icon":"radio_button_unchecked","expanded-icon":"radio_button_checked","default-opened":n.defaultOpenedItem==="cloud","header-class":e.showCSP?"text-primary text-bold":void 0},{header:t(()=>[a(f,{avatar:""},{default:t(()=>[a(A,{name:"o_cloud"})]),_:1}),a(f,null,{default:t(()=>[a(P,null,{default:t(()=>[R("span",{innerHTML:e.t("embedding.public_cloud_integration",{_numPartners:e.cloudPartners.length})},null,8,da)]),_:1}),a(P,{caption:"",class:"text-dim"},{default:t(()=>[m(c(e.t("embedding.public_cloud_integration_desc")),1)]),_:1})]),_:1})]),default:t(()=>[a(e.CSPButtons)]),_:1},8,["modelValue","hide-expand-icon","default-opened","header-class"])):D("",!0),!n.hideOthers||n.defaultOpenedItem==="api"?(u(),g(me,{key:1,group:"paywall",modelValue:e.showAPI,"onUpdate:modelValue":o[5]||(o[5]=l=>e.showAPI=l),"switch-toggle-side":"","hide-expand-icon":n.hideOthers,"expand-icon":"radio_button_unchecked","expanded-icon":"radio_button_checked","default-opened":n.defaultOpenedItem==="api","header-class":e.showAPI?"text-primary text-bold":void 0},{header:t(()=>[a(f,{avatar:""},{default:t(()=>[e.showAPI?(u(),g(A,{key:0,name:"img:/J-active.svg"})):(u(),g(A,{key:1,name:"img:/J.svg"}))]),_:1}),a(f,null,{default:t(()=>[a(P,null,{default:t(()=>[m(c(e.t("paywall.via_api")),1)]),_:1}),a(P,{caption:"",class:"text-dim"},{default:t(()=>[m(c(e.t("paywall.via_api_explain")),1)]),_:1})]),_:1})]),default:t(()=>[a(ie,{class:"q-pa-md q-gutter-y-sm"},{default:t(()=>[!n.hideUsage&&e.isInputApiKeyValid?(u(),g(Q,{key:0},{default:t(()=>[e.$q.screen.gt.sm?(u(),g(f,{key:0,avatar:""},{default:t(()=>[a(A,{name:"data_usage"})]),_:1})):D("",!0),a(f,null,{default:t(()=>[a(P,{class:"text-bold"},{default:t(()=>[m(c(e.t("embedding.remaining")),1)]),_:1}),a(P,{class:Y({"text-negative":e.apiKeyTokens<0})},{default:t(()=>[R("span",{innerHTML:e.t("embedding.remaining_left",{_leftTokens:e.formatNumber(e.apiKeyTokens)})},null,8,ma)]),_:1},8,["class"])]),_:1}),a(f,{side:""},{default:t(()=>[a(Ue,{square:"",outline:""},{default:t(()=>[a(W,{outline:"",square:"",icon:"refresh",disable:e.isInputApiKeyDisabled,onClick:e.getKeyInfo,loading:e.isApiKeyInfoLoading},{default:t(()=>[a(G,null,{default:t(()=>[m(c(e.t("embedding.refresh_token_count1")),1)]),_:1})]),_:1},8,["disable","loading"]),a(qe),a(W,{square:"",outline:"","no-caps":"",label:e.t("embedding.last_7_days"),disable:e.isInputApiKeyDisabled,onClick:e.openUsageHistoryDialog},null,8,["label","disable"])]),_:1})]),_:1})]),_:1})):D("",!0),a(Q,null,{default:t(()=>[e.$q.screen.gt.sm?(u(),g(f,{key:0,avatar:""},{default:t(()=>[a(A,{name:"key",class:Y({"golden-foil":e.isPremiumPaidUser,"silver-foil":e.isPaidUser})},null,8,["class"])]),_:1})):D("",!0),a(f,null,{default:t(()=>[a(vt,{"input-style":"font-family: monospace",modelValue:e.inputApiKey,"onUpdate:modelValue":o[1]||(o[1]=l=>e.inputApiKey=l),"hide-bottom-space":"",clearable:"",hint:e.t("embedding.key_to_top_up"),filled:"",square:"",label:e.inputApiKey?`${e.t("embedding.key_warn_v2")}`:e.t("embedding.key_enter_placeholder_to_topup"),error:!e.isInputApiKeyValid,"error-message":e.inputApiKey?e.t("embedding.input_api_key_error1"):"","input-class":"ellipsis"},{prepend:t(()=>[a(W,{flat:"",square:"",icon:e.isApiKeyCopyDone?"done":"content_copy",color:e.isApiKeyCopyDone?"primary":"",onClick:e.copyApiKey,stretch:""},{default:t(()=>[a(G,null,{default:t(()=>[m(c(e.t("copy")),1)]),_:1})]),_:1},8,["icon","color"])]),after:t(()=>[e.isInputApiKeyValid&&e.inputApiKey!==e.apiKey?(u(),g(W,{key:0,icon:"save",onClick:e.updateApiKey,stretch:"",square:"",flat:""})):D("",!0)]),_:1},8,["modelValue","hint","label","error","error-message"])]),_:1})]),_:1}),a(Q,null,{default:t(()=>[e.$q.screen.gt.sm?(u(),g(f,{key:0,avatar:""},{default:t(()=>[a(A,{name:"currency_exchange"})]),_:1})):D("",!0),a(f,null,{default:t(()=>[a(P,{class:"text-bold"},{default:t(()=>[m(c(e.t("embedding.auto_recharge")),1)]),_:1}),a(P,{caption:"",lines:"2"},{default:t(()=>[m(c(e.isAutoCharge?e.t("embedding.auto_recharge_enable"):e.t("embedding.auto_recharge_description")),1)]),_:1})]),_:1}),a(f,{side:""},{default:t(()=>[a(wt,{modelValue:e.autoRecharge,"onUpdate:modelValue":[o[2]||(o[2]=l=>e.autoRecharge=l),e.updateAutoRecharge],color:"primary",disable:e.isInputApiKeyDisabled,"checked-icon":"check","unchecked-icon":"close"},null,8,["modelValue","disable"])]),_:1}),a(f,{side:""},{default:t(()=>[a(Le,{disable:!e.autoRecharge,modelValue:e.rechargeThreshold,"onUpdate:modelValue":o[3]||(o[3]=l=>e.rechargeThreshold=l),options:e.rechargeThresholdOptions,label:e.t("embedding.recharge_threshold"),style:{"min-width":"160px"},"option-label":l=>`≤ ${l.label} ${e.t("embedding.tokens")}`,onClick:o[4]||(o[4]=xt(()=>{},["prevent"])),"emit-value":"","map-options":""},null,8,["disable","modelValue","label","option-label"])]),_:1})]),_:1}),a(me,{label:e.t("rate_limit.understanding"),icon:e.$q.screen.gt.sm?"speed":void 0,"header-class":"text-bold",caption:e.t("rate_limit.understanding_description")},{default:t(()=>[a(e.RateLimitComponent,{"show-action-buttons":!1})]),_:1},8,["label","icon","caption"]),a(Q,null,{default:t(()=>[e.$q.screen.gt.sm?(u(),g(f,{key:0,avatar:"",side:"",class:"relative-position"},{default:t(()=>[a(A,{name:"fab fa-stripe"}),a(A,{name:"o_verified_user",size:"xs",class:"absolute-bottom-right q-mr-sm q-mb-xs text-positive"})]),_:1})):D("",!0),a(f,null,{default:t(()=>[a(P,{class:"text-bold"},{default:t(()=>[m(c(e.t("embedding.buy_more_quota")),1)]),_:1}),a(P,{caption:"",lines:"2"},{default:t(()=>[m(c(e.t("embedding.tax_may_apply")),1)]),_:1})]),_:1}),e.isPaidUser?(u(),g(f,{key:1,side:"",class:"q-pa-none"},{default:t(()=>[a(W,{outline:"","icon-right":"open_in_new",label:e.t("embedding.manage_billing"),stretch:"",href:"https://stripe.jina.ai",target:"_blank","no-caps":""},{default:t(()=>[a(G,null,{default:t(()=>[m(c(e.t("embedding.manage_billing_tip")),1)]),_:1})]),_:1},8,["label"])]),_:1})):D("",!0)]),_:1})]),_:1}),a(ue,{class:"row q-pa-md q-py-none bg-transparent",flat:""},{default:t(()=>[(u(!0),H(re,null,oe(e.productCards,(l,O)=>(u(),H("div",{key:O,class:"col-12 col-sm-6 col-lg-4 q-pa-sm cursor-pointer"},[ke((u(),g(ue,{bordered:"",flat:"",class:Y(["full-width full-height column justify-between",!e.isInputApiKeyDisabled&&!e.currentPriceID&&!l.isFree?"q-hoverable bg-mixed-200":"cursor-not-allowed"]),square:"",style:Pt(l.isActive()?"cursor: wait !important;":""),onClick:l.handler},{default:t(()=>[o[10]||(o[10]=R("span",{class:"q-focus-helper"},null,-1)),a(J,{class:"column items-center non-selectable text-h2 q-pt-xl"},{default:t(()=>[a(se,{label:l.tag(),outline:"",square:"",style:{"border-radius":"0"},size:"sm",class:Y(["q-my-xl",{"silver-border":l.product_name==="1B tokens","gold-border":l.product_name==="11B tokens"}])},null,8,["label","class"]),R("span",{innerHTML:l.title(),"data-text":l.title(),class:Y(["text-weight-bold",{"text-dim":l.product_name==="1M tokens","silver-foil":l.product_name==="1B tokens","golden-foil":l.product_name==="11B tokens"}])},null,10,fa),R("div",_a,[m(c(e.t("embedding.includes"))+" ",1),a(G,{"max-width":"300px"},{default:t(()=>[m(c(l.description()),1)]),_:2},1024)]),R("div",pa,[(u(!0),H(re,null,oe(e.flatEnterprises,q=>(u(),g(A,{key:q.label,name:`img:${q.icon}`,size:"sm"},{default:t(()=>[a(G,null,{default:t(()=>[R("b",null,c(e.t(q.label)),1),o[9]||(o[9]=R("br",null,null,-1)),m(" "+c(e.t(q.caption)),1)]),_:2},1024)]),_:2},1032,["name"]))),128))])]),_:2},1024),a(J,{class:"column items-center non-selectable"},{default:t(()=>[a(ie,null,{default:t(()=>[(u(!0),H(re,null,oe(e.tierFeatures[l.product_name],q=>(u(),g(Q,{key:q},{default:t(()=>[a(f,null,{default:t(()=>[a(P,{caption:""},{default:t(()=>[l.product_name!=="1M tokens"?(u(),g(A,{key:0,name:"task_alt",class:Y({"golden-foil":l.product_name==="11B tokens","silver-foil":l.product_name==="1B tokens"})},null,8,["class"])):D("",!0),m(" "+c(e.t(q)),1)]),_:2},1024),a(G,{"max-width":"300px"},{default:t(()=>[m(c(e.t(`${q}_description`)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),a(J,{class:Y({"bg-mixed-300":!l.isFree})},{default:t(()=>[a(Q,null,{default:t(()=>[a(f,null,{default:t(()=>[a(P,{class:Y({"text-bold":!l.isFree})},{default:t(()=>[m(c(l.priceLabel()),1)]),_:2},1032,["class"]),a(P,{caption:""},{default:t(()=>[m(c(l.priceDescription()),1)]),_:2},1024)]),_:2},1024),l.isFree?D("",!0):(u(),g(f,{key:0,side:""},{default:t(()=>[a(A,{name:"add_shopping_cart"})]),_:1}))]),_:2},1024)]),_:2},1032,["class"]),a(Re,{showing:e.currentPriceID===l.price_id,label:e.t("embedding.wait_stripe"),"label-style":"font-size: 0.8em",size:"sm",class:"non-selectable lock-blur"},null,8,["showing","label"])]),_:2},1032,["class","style","onClick"])),[[Oe,!l.isFree&&!e.isInputApiKeyDisabled&&!e.currentPriceID]])]))),128)),a(Re,{showing:!e.isInputApiKeyValid,class:"lock-blur",label:e.t("embedding.right_api_key_to_charge"),size:"0"},null,8,["showing","label"])]),_:1})]),_:1},8,["modelValue","hide-expand-icon","default-opened","header-class"])):D("",!0),!n.hideOthers||n.defaultOpenedItem==="onprem"?(u(),g(me,{key:2,group:"paywall","switch-toggle-side":"","hide-expand-icon":n.hideOthers,"expand-icon":"radio_button_unchecked","expanded-icon":"radio_button_checked",modelValue:e.showOnPrem,"onUpdate:modelValue":o[8]||(o[8]=l=>e.showOnPrem=l),"default-opened":n.defaultOpenedItem==="onprem","header-class":e.showOnPrem?"text-primary text-bold":void 0},{header:t(()=>[a(f,{avatar:""},{default:t(()=>[a(A,{name:"o_encrypted"})]),_:1}),a(f,null,{default:t(()=>[a(P,null,{default:t(()=>[m(c(e.t("paywall.on_prem")),1)]),_:1}),a(P,{caption:"",class:"text-dim"},{default:t(()=>[m(c(e.t("paywall.on_prem_explain")),1)]),_:1})]),_:1})]),default:t(()=>[a(ie,{class:"q-pa-md q-gutter-y-sm"},{default:t(()=>[a(Q,null,{default:t(()=>[e.$q.screen.gt.sm?(u(),g(f,{key:0,avatar:"",side:""},{default:t(()=>[a(A,{name:"bug_report"})]),_:1})):D("",!0),a(f,null,{default:t(()=>[a(P,{class:"text-bold"},{default:t(()=>[m(c(e.t("paywall.commercial_licence.test_before_purchase")),1)]),_:1}),a(P,{caption:"",lines:"2"},{default:t(()=>[m(c(e.t("paywall.commercial_licence.test_before_purchase_desc")),1)]),_:1})]),_:1}),a(f,{side:""},{default:t(()=>[n.hideOthers?D("",!0):(u(),g(W,{key:0,outline:"",label:e.t("paywall.commercial_licence.try_api"),stretch:"",onClick:o[6]||(o[6]=l=>{e.showAPI=!0,e.showOnPrem=!1}),"no-caps":""},null,8,["label"]))]),_:1})]),_:1}),a(Q,null,{default:t(()=>[e.$q.screen.gt.sm?(u(),g(f,{key:0,avatar:"",side:""},{default:t(()=>[a(A,{name:"description"})]),_:1})):D("",!0),a(f,null,{default:t(()=>[a(P,{class:"text-bold"},{default:t(()=>[m(c(e.t("paywall.commercial_licence.read_the_terms")),1)]),_:1}),a(P,{caption:"",lines:"2"},{default:t(()=>[m(c(e.t("paywall.commercial_licence.read_the_terms_desc")),1)]),_:1})]),_:1}),a(f,{side:""},{default:t(()=>[a(W,{outline:"","icon-right":"open_in_new",label:e.t("paywall.commercial_licence.read_the_terms_btn"),stretch:"",href:"/COMMERCIAL-LICENSE-TERMS.pdf",target:"_blank","no-caps":""},null,8,["label"])]),_:1})]),_:1}),a(Q,null,{default:t(()=>[e.$q.screen.gt.sm?(u(),g(f,{key:0,avatar:"",side:"",class:"relative-position"},{default:t(()=>[a(A,{name:"fab fa-stripe"}),a(A,{name:"o_verified_user",size:"xs",class:"absolute-bottom-right q-mr-sm q-mb-xs text-positive"})]),_:1})):D("",!0),a(f,null,{default:t(()=>[a(P,{class:"text-bold"},{default:t(()=>[m(c(e.t("paywall.secured_by_stripe")),1)]),_:1}),a(P,{caption:"",lines:"2"},{default:t(()=>[m(c(e.t("embedding.tax_may_apply")),1)]),_:1})]),_:1})]),_:1})]),_:1}),R("div",ga,[R("div",ba,[ke((u(),g(ue,{bordered:"",flat:"",class:"full-width full-height column justify-between bg-mixed-200 q-hoverable",square:"",onClick:o[7]||(o[7]=l=>e.redirect("https://buy.stripe.com/00geY8gjf6J59Dq3cr"))},{default:t(()=>[o[11]||(o[11]=R("span",{class:"q-focus-helper"},null,-1)),a(J,{class:"column items-center non-selectable text-h3 q-pt-xl"},{default:t(()=>[a(se,{label:e.t("paywall.commercial_licence.chip_label"),outline:"",square:"",style:{"border-radius":"0"},size:"sm",class:"q-my-xl silver-border"},null,8,["label"]),R("span",{class:"text-weight-bold silver-foil text-center",innerHTML:e.t("paywall.commercial_licence.title")},null,8,ya),R("div",ha,[m(c(e.t("paywall.commercial_licence.subtitle"))+" ",1),a(G,{"max-width":"300px"},{default:t(()=>[m(c(e.t("paywall.commercial_licence.tooltip_description")),1)]),_:1})]),R("div",va,[a(kt,{name:"list2"},{default:t(()=>[(u(),g(se,{key:e.currentIndex,label:e.ccncOptions[e.currentIndex],size:"sm",class:"q-ma-xs bg-mixed-300"},null,8,["label"]))]),_:1})])]),_:1}),a(J,{class:"column items-center non-selectable"},{default:t(()=>[a(ie,null,{default:t(()=>[(u(),H(re,null,oe(e.licenseFeatures,l=>a(Q,{key:l},{default:t(()=>[a(f,null,{default:t(()=>[a(P,{caption:""},{default:t(()=>[a(A,{name:"task_alt",class:"silver-foil"}),m(" "+c(e.t(l)),1)]),_:2},1024),a(G,{"max-width":"300px"},{default:t(()=>[m(c(e.t(`${l}_desc`)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),64))]),_:1})]),_:1}),a(J,{class:"bg-mixed-300"},{default:t(()=>[a(Q,null,{default:t(()=>[a(f,null,{default:t(()=>[a(P,{class:"text-bold"},{default:t(()=>[m(c(e.t("paywall.commercial_licence.price_amount"))+" "+c(e.t("paywall.commercial_licence.price_period")),1)]),_:1}),a(P,{caption:""},{default:t(()=>[m(c(e.t("paywall.commercial_licence.company_size_note")),1)]),_:1})]),_:1}),a(f,{side:""},{default:t(()=>[a(A,{name:"add_shopping_cart"})]),_:1})]),_:1})]),_:1})]),_:1})),[[Oe]])])])]),_:1},8,["hide-expand-icon","modelValue","default-opened","header-class"])):D("",!0)]),_:1})}const Ka=ye(ua,[["render",wa],["__scopeId","data-v-cde35280"],["__file","PurchaseTab.vue"]]),Ea=De({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(i,{slots:o,emit:n}){const e=pe(),s=T(null);let d=0;const l=[];function O(b){const V=typeof b=="boolean"?b:i.noErrorFocus!==!0,x=++d,y=(_,w)=>{n(`validation${_===!0?"Success":"Error"}`,w)},C=_=>{const w=_.validate();return typeof w.then=="function"?w.then(z=>({valid:z,comp:_}),z=>({valid:!1,comp:_,err:z})):Promise.resolve({valid:w,comp:_})};return(i.greedy===!0?Promise.all(l.map(C)).then(_=>_.filter(w=>w.valid!==!0)):l.reduce((_,w)=>_.then(()=>C(w).then(z=>{if(z.valid===!1)return Promise.reject(z)})),Promise.resolve()).catch(_=>[_])).then(_=>{if(_===void 0||_.length===0)return x===d&&y(!0),!0;if(x===d){const{comp:w,err:z}=_[0];if(z!==void 0&&console.error(z),y(!1,w),V===!0){const h=_.find(({comp:K})=>typeof K.focus=="function"&&Ct(K.$)===!1);h!==void 0&&h.comp.focus()}}return!1})}function q(){d++,l.forEach(b=>{typeof b.resetValidation=="function"&&b.resetValidation()})}function F(b){b!==void 0&&_e(b);const V=d+1;O().then(x=>{V===d&&x===!0&&(i.onSubmit!==void 0?n("submit",b):b!==void 0&&b.target!==void 0&&typeof b.target.submit=="function"&&b.target.submit())})}function I(b){b!==void 0&&_e(b),n("reset"),At(()=>{q(),i.autofocus===!0&&i.noResetFocus!==!0&&S()})}function S(){Tt(()=>{if(s.value===null)return;const b=s.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||s.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||s.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(s.value.querySelectorAll("[tabindex]"),V=>V.tabIndex!==-1);b!=null&&b.focus({preventScroll:!0})})}Ot(Rt,{bindComponent(b){l.push(b)},unbindComponent(b){const V=l.indexOf(b);V!==-1&&l.splice(V,1)}});let E=!1;return qt(()=>{E=!0}),It(()=>{E===!0&&i.autofocus===!0&&S()}),Ve(()=>{i.autofocus===!0&&S()}),Object.assign(e.proxy,{validate:O,resetValidation:q,submit:F,reset:I,focus:S,getValidationComponents:()=>l}),()=>Z("form",{class:"q-form",ref:s,onSubmit:F,onReset:I},St(o.default))}});export{Et as C,Ka as P,Da as Q,za as R,Ea as a,ja as b,na as c,ca as d,Ie as u};
