import{a as v}from"./QLinearProgress-DBw8m5bB.js";import{j as R,k as w,a0 as A,n as F,a2 as P,a3 as h,a4 as H,a5 as t,a8 as r,a6 as e,aj as m,aO as _,af as i,ag as l,ad as u,a9 as g,aq as d,a7 as q,ae as c,ap as Q,aa as x,ai as y,ah as k,bp as N,q as E}from"./index-CWJLVYvT.js";import{Q as T}from"./QExpansionItem-ddmdUorH.js";import{Q as z}from"./QList-hmHc9RZI.js";import{Q as V,b as J,a as O}from"./QChip-C371Jft1.js";import{Q as s}from"./QItemLabel-D9IKMVGr.js";import{Q as G}from"./date-BON6MjBK.js";import{Q as W}from"./QPage-DdKb39-b.js";import{u as Z}from"./useMetaTags-B_0600kk.js";import{B as K,S as X}from"./SeFoComponent-Cpbtqtcp.js";import{T as Y}from"./TitleBlock-Br1UHnLy.js";import{F as $}from"./FAQComponent-BOKbREwL.js";import{M as ee}from"./BrowserInfoDialog--RbBMIic.js";import{H as te}from"./H2TitleBlock-BsdEpDqe.js";import"./QMenu-Dz-Eq8bB.js";import"./position-engine-DBYIGjY-.js";import"./use-fullscreen-QRhVcglp.js";import"./package-D9JPNs5w.js";import"./QBanner-f5XPy3Mh.js";import"./QTooltip-BbFi5hr6.js";import"./QTab-CzQMbLHQ.js";import"./QTabs-DLhdAa38.js";import"./QResizeObserver-LRO4d5Kh.js";import"./QBtnDropdown-91QuLVQv.js";import"./use-dialog-plugin-component-BQo7gb7X.js";import"./_setToArray-az2MfWxW.js";import"./UserAvatarComponent-B21QYAsn.js";import"./copy-to-clipboard-_zBqcvxd.js";import"./use-panel-DdKnKH0Y.js";import"./touch-BjYP5sR0.js";import"./finetune-DE2_T9A2.js";import"./ClosePopup-BzFe32jc.js";import"./PurchaseTab-Bxk_cT7c.js";import"./QForm-mQCbqM6U.js";import"./QSpinnerRings-BjBvv9So.js";import"./se-fo-C3RYqs96.js";import"./useRoute-WdTG9J0M.js";import"./useModels-DiyfuckH.js";import"./QBadge-qlufc5Sk.js";import"./blogs-DyVcPpf4.js";import"./VideoDialog-c5GF9Pxa.js";import"./orderBy-7Xc3Wz-U.js";import"./isSymbol-CplAM_WR.js";import"./toInteger-CsM2w2nm.js";import"./TouchPan-D2JSDPhs.js";import"./PurchaseDialog-Vqu_S65P.js";const ae=R({__name:"TuningPage",setup(S,{expose:f}){f();const M=w(null),a=w(null),{t:D}=A({useScope:"global"});Z({page:"autotune",banner:"banner-autotune.png",url:"fine-tuning"});const j=F(),n=[{label:"landing_page.get_api_now",icon:"code",anchor:"#apiform"},{label:"autotune.find_on_hf",icon:"img:/huggingface_logo.svg",anchor:"https://huggingface.co/fine-tuned/"}];function o(U,B){const b=[];for(const p of["ndcg","map","mrr"])b.push((B[p]/U[p]-1)*100);return(b.reduce((p,C)=>p+C,0)/b.length).toFixed(0)}const L=w([{domainInstruction:"Spørsmålene er nøkkelordspørsmål, og dokumentene er nøkkelordsvar.",testData:"tollefj/norwegian-nli-triplets",baseModel:"jinaai/jina-embeddings-v2-base-en",syntheticDataSize:664,negatives:7,training:640,evaluation:24,test:50,totalMinutes:68,beforeEval:{ndcg:.5055,map:.3525,mrr:.3525},afterEval:{ndcg:.5324,map:.3893,mrr:.3893},beforeTest:{ndcg:.8524,map:.8,mrr:.8},afterTest:{ndcg:.8671,map:.82,mrr:.82},syntheticDataURL:"https://huggingface.co/datasets/fine-tuned/norwegian-nli-triplets-c",finetunedModelURL:"https://huggingface.co/fine-tuned/norwegian-nli-triplets-c"},{domainInstruction:"The queries are very specific technical questions about Ubuntu. The answers to the queries are not the answers to the query directly but also user queries that are very similar. Means it is a search from user queries to user queries. All queries must be very specific technical problems, mostly related to Ubuntu operating system issues. Some queries include error messages or specific commands, reflecting real-world troubleshooting queries. The queries must be written in informal language (often seen in forums), technical jargon, and command line references",testData:"mteb/askubuntudupquestions-reranking",baseModel:"jinaai/jina-embeddings-v2-base-en",syntheticDataSize:88,negatives:7,training:64,evaluation:24,test:50,totalMinutes:8,beforeEval:{ndcg:.6722,map:.5674,mrr:.5674},afterEval:{ndcg:.7546,map:.675,mrr:.675},beforeTest:{ndcg:.6984,map:.5155,mrr:.6658},afterTest:{ndcg:.7221,map:.5487,mrr:.7122},syntheticDataURL:"https://huggingface.co/datasets/fine-tuned/askubuntu-c",finetunedModelURL:"https://huggingface.co/fine-tuned/askubuntu-c"},{domainInstruction:"scientific papers from arxiv",testData:"mteb/scidocs-reranking",baseModel:"jinaai/jina-embeddings-v2-base-en",syntheticDataSize:88,negatives:7,training:64,evaluation:24,test:50,totalMinutes:9,beforeEval:{ndcg:.7273,map:.64,mrr:.64},afterEval:{ndcg:.8614,map:.8139,mrr:.8139},beforeTest:{ndcg:.7726,map:.5746,mrr:.8234},afterTest:{ndcg:.8222,map:.6509,mrr:.8845},syntheticDataURL:"https://huggingface.co/datasets/fine-tuned/scidocs",finetunedModelURL:"https://huggingface.co/fine-tuned/scidocs"},{domainInstruction:"医疗条件，医疗建议，治疗方法，诊断",testData:"C-MTEB/CMedQAv2-reranking",baseModel:"jinaai/jina-embeddings-v2-base-zh",syntheticDataSize:88,negatives:7,training:64,evaluation:24,test:50,totalMinutes:9,beforeEval:{ndcg:.7184,map:.629,mrr:.629},afterEval:{ndcg:.7847,map:.7168,mrr:.7168},beforeTest:{ndcg:.9381,map:.912,mrr:.92},afterTest:{ndcg:.9476,map:.9262,mrr:.9333},syntheticDataURL:"https://huggingface.co/datasets/fine-tuned/cmedqav2",finetunedModelURL:"https://huggingface.co/fine-tuned/cmedqav2"},{domainInstruction:"- Jeugdwet - Milieurecht - Schuldenrecht - Wet maatschappelijke ondersteuning - Vragen zijn eenvoudig, maar de documenten bevatten zeer complexe juridische taal",testData:"nc33/triplet_sbert_law2 (machine-translated to dutch)",baseModel:"jinaai/jina-embeddings-v2-base-en",syntheticDataSize:1304,negatives:7,training:1280,evaluation:24,test:50,totalMinutes:210,beforeEval:{ndcg:.5428,map:.4018,mrr:.4018},afterEval:{ndcg:.5786,map:.4515,mrr:.4515},beforeTest:{ndcg:.904,map:.87,mrr:.87},afterTest:{ndcg:.9483,map:.93,mrr:.93},syntheticDataURL:"https://huggingface.co/datasets/fine-tuned/dutch-legal-c-1280-24",finetunedModelURL:"https://huggingface.co/fine-tuned/dutch-legal-c-1280-24"},{domainInstruction:"Query Description: technical keyword question, code sample, error message, Document Description: answer to code related question",testData:"mteb/stackoverflowdupquestions-reranking",baseModel:"jinaai/jina-embeddings-v2-base-code",syntheticDataSize:88,negatives:7,training:64,evaluation:24,test:50,totalMinutes:27,beforeEval:{ndcg:.6709,map:.5688,mrr:.5688},afterEval:{ndcg:.6397,map:.5253,mrr:.5253},beforeTest:{ndcg:.6397,map:.5297,mrr:.5546},afterTest:{ndcg:.6214,map:.5051,mrr:.5319},syntheticDataURL:"https://huggingface.co/datasets/fine-tuned/stackoverflow-c-64-24-gpt-4o-2024-05-13",finetunedModelURL:"https://huggingface.co/fine-tuned/stackoverflow-c-64-24-gpt-4o-2024-05-13"},{domainInstruction:"https://stackoverflow.com/",testData:"mteb/stackoverflowdupquestions-reranking",baseModel:"jinaai/jina-embeddings-v2-base-code",syntheticDataSize:88,negatives:7,training:64,evaluation:24,test:50,totalMinutes:11,beforeEval:{ndcg:.6317,map:.5175,mrr:.5175},afterEval:{ndcg:.711,map:.6223,mrr:.6223},beforeTest:{ndcg:.6397,map:.5297,mrr:.5546},afterTest:{ndcg:.6193,map:.504,mrr:.5255},syntheticDataURL:"https://huggingface.co/datasets/fine-tuned/stackoverflow-c-64-24-gpt-4o-2024-05-137765",finetunedModelURL:"https://huggingface.co/fine-tuned/stackoverflow-c-64-24-gpt-4o-2024-05-137765"},{domainInstruction:"questions and answers",testData:"mteb/askubuntudupquestions-reranking",baseModel:"jinaai/jina-embeddings-v2-base-en",syntheticDataSize:88,negatives:7,training:64,evaluation:24,test:50,totalMinutes:12,beforeEval:{ndcg:.6458,map:.5349,mrr:.5349},afterEval:{ndcg:.7293,map:.6437,mrr:.6437},beforeTest:{ndcg:.6449,map:.4522,mrr:.6064},afterTest:{ndcg:.6496,map:.4618,mrr:.6046},syntheticDataURL:"https://huggingface.co/datasets/fine-tuned/askubuntu-c-64-24-gpt-4o-2024-05-13-61285",finetunedModelURL:"https://huggingface.co/fine-tuned/askubuntu-c-64-24-gpt-4o-2024-05-13-61285"}]),I={currentModel1:M,currentModel2:a,t:D,$q:j,titleButtons:n,getAverageImprovement:o,successCases:L,get BAAIIcon(){return K},TitleBlock:Y,FAQComponent:$,ModelDropDown:ee,SeFoComponent:X,H2TitleBlock:te};return Object.defineProperty(I,"__isScriptSetup",{enumerable:!1,value:!0}),I}}),ne="/assets/flow3-BZSg2HQ3.svg",oe={class:"col-12 col-md-11 q-py-xl q-mx-xs-xs q-mx-sm-sm q-mx-md-md q-mx-lg-lg q-mx-xl-xl q-ma-xl relative-position"},re={class:"row justify-center items-center"},le={class:"col-11 col-md-7"},ie={class:"row justify-center q-gutter-md q-pa-md"},se={class:"col-11 col-md-7"},de={class:"col-11 col-md-2 q-gutter-y-sm"},ue={class:"q-my-xl row justify-center items-center"},ce={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},me={class:"row justify-center items-center"},fe={class:"col-11 col-md-8 col-lg-6 text-subtitle1 q-pa-lg-xl q-my-lg",style:{"white-space":"pre-line"}},ge={class:"row justify-center items-center"},_e={class:"col-11"},pe={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},he={class:"row justify-center"},be={class:"col-12 col-sm-11 col-md-10 q-pb-xl"};function ve(S,f,M,a,D,j){return h(),H(W,null,{default:t(()=>[r("div",{class:m(["row justify-center items-center img-bg q-py-xl",a.$q.screen.lt.sm?"q-px-md":"q-px-xl"])},[r("div",oe,[e(a.TitleBlock,{title:a.t("landing_page.autotune"),tagline:a.t("autotune.description_long"),"large-title":!0,buttons:a.titleButtons},null,8,["title","tagline"])])],2),r("div",{class:m(a.$q.screen.lt.sm?"q-pa-md":"q-pa-xl"),id:"what_reader"},[e(a.H2TitleBlock,{title:"autotune.what_is",anchor:"what_reader",subtitle:"finetuning.domain_explain2"}),r("div",re,[r("div",le,[e(z,{bordered:""},{default:t(()=>[e(v,{value:100,color:"primary",size:"xs"}),e(T,{label:a.t("finetuning.query_doc"),caption:a.t("finetuning.query_doc_caption"),icon:"join_right",group:"somegroup","header-class":"text-bold q-py-md","default-opened":""},{default:t(()=>[r("div",ie,[e(_,{label:a.t("finetuning.query_explain"),"model-value":"fashion article categories with color and size",filled:"",square:"",readonly:"",type:"text",class:"col"},null,8,["label"]),e(_,{label:a.t("finetuning.doc_explain"),"model-value":"a full json-like string of a fashion article",filled:"",square:"",readonly:"",type:"text",class:"col"},null,8,["label"])])]),_:1},8,["label","caption"]),e(T,{label:a.t("finetuning.url"),caption:a.t("finetuning.url_caption"),icon:"public",group:"somegroup","header-class":"text-bold q-py-md"},{default:t(()=>[e(_,{label:a.t("finetuning.url_explain"),"model-value":"https://www.nasa.gov/",filled:"",square:"",readonly:"",type:"url",class:"q-pa-md"},null,8,["label"])]),_:1},8,["label","caption"]),e(T,{label:a.t("finetuning.general_instruction"),caption:a.t("finetuning.general_instruction_caption"),icon:"notes",group:"somegroup","header-class":"text-bold q-py-md"},{default:t(()=>[e(_,{label:a.t("finetuning.general_instruction_explain"),"model-value":"car insurance claims",filled:"",square:"",readonly:"",class:"full-width q-pa-md",type:"text"},null,8,["label"])]),_:1},8,["label","caption"])]),_:1})]),r("div",se,[e(V,{src:ne})]),r("div",de,[e(u,{class:"text-dim"},{default:t(()=>[i(l(a.t("autotune.embedding_provider")),1)]),_:1}),e(q,{bordered:"",flat:"",square:""},{default:t(()=>[e(v,{value:100,color:"warning",size:"xs"}),e(g,{class:"row justify-between"},{default:t(()=>[e(d,{name:"img:/Jina - Dark.svg",size:"xl"})]),_:1}),e(g,{class:"q-pa-none"},{default:t(()=>[e(a.ModelDropDown,{indicator:!1,"current-model":a.currentModel1,class:"full-width",category:"fine-tuning",onChooseModel:f[0]||(f[0]=n=>a.currentModel1=n)},null,8,["current-model"])]),_:1})]),_:1}),e(q,{bordered:"",flat:"",square:""},{default:t(()=>[e(v,{value:100,color:"warning",size:"xs"}),e(g,{class:"row justify-between"},{default:t(()=>[e(d,{name:`img:${a.BAAIIcon}`,size:"xl"},null,8,["name"])]),_:1}),e(g,{class:"q-pa-none"},{default:t(()=>[e(a.ModelDropDown,{"current-model":a.currentModel2,"allow-b-a-a-i":!0,indicator:!1,class:"full-width",category:"fine-tuning",onChooseModel:f[1]||(f[1]=n=>a.currentModel2=n)},null,8,["current-model"])]),_:1})]),_:1})])]),r("div",ue,[r("div",ce,l(a.t("autotune.what_is_answer_long")),1)])],2),r("div",{class:m(a.$q.screen.lt.sm?"q-pa-md":"q-pa-xl"),id:"does_it_work"},[e(a.H2TitleBlock,{title:"autotune.does_it_work_tho",anchor:"does_it_work"}),r("div",me,[r("div",fe,l(a.t("autotune.does_it_work_tho_explain")),1)]),r("div",ge,[r("div",_e,[e(G,{rows:a.successCases,grid:"","hide-header":"","row-key":"domainInstruction",pagination:{rowsPerPage:12},"hide-pagination":""},{item:t(n=>[r("div",pe,[e(q,{square:"",bordered:"",flat:"",class:"q-ma-sm"},{default:t(()=>[e(g,null,{default:t(()=>[e(u,null,{default:t(()=>[e(c,null,{default:t(()=>[e(s,{caption:""},{default:t(()=>[i(l(a.t("autotune.base_model")),1)]),_:1}),e(s,null,{default:t(()=>[r("code",null,l(n.row.baseModel),1)]),_:2},1024)]),_:2},1024),e(c,{side:"",class:"text-h6"},{default:t(()=>[e(s,{caption:""},{default:t(()=>[i(l(a.t("autotune.total_improve")),1)]),_:1}),e(s,{class:m(Number(a.getAverageImprovement(n.row.beforeTest,n.row.afterTest))>0?"text-positive":"text-negative")},{default:t(()=>[e(d,{name:Number(a.getAverageImprovement(n.row.beforeTest,n.row.afterTest))>0?"arrow_upward":"arrow_downward"},null,8,["name"]),i(" "+l(a.getAverageImprovement(n.row.beforeTest,n.row.afterTest))+"% ",1)]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(Q),e(g,{class:"q-pa-sm"},{default:t(()=>[e(z,{class:"q-gutter-y-md"},{default:t(()=>[e(u,null,{default:t(()=>[e(c,null,{default:t(()=>[e(s,{caption:""},{default:t(()=>[e(d,{name:"description"}),i(" "+l(a.t("autotune.domain_instruction")),1)]),_:1}),e(s,null,{default:t(()=>[e(_,{readonly:"","model-value":n.row.domainInstruction,dense:"",autogrow:"",square:"",standout:""},null,8,["model-value"])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(u,null,{default:t(()=>[e(c,null,{default:t(()=>[e(s,{caption:""},{default:t(()=>[e(d,{name:"speed"}),i(" "+l(a.t("autotune.eval_performance_before_after")),1)]),_:1}),e(s,null,{default:t(()=>[e(u,null,{default:t(()=>[(h(),x(k,null,y(["ndcg","map","mrr"],o=>e(c,{key:o},{default:t(()=>[e(s,{caption:""},{default:t(()=>[i(l(o.toUpperCase()),1)]),_:2},1024),e(s,null,{default:t(()=>[i(l(n.row.beforeEval[o].toFixed(3))+" ",1),e(d,{name:"arrow_forward",class:"text-dim"}),i(" "+l(n.row.afterEval[o].toFixed(3))+" ",1),r("span",{style:{"font-size":"10px"},class:m(["q-pl-xs",n.row.afterEval[o]>n.row.beforeEval[o]?"text-positive":"text-negative"])},[e(d,{name:n.row.afterEval[o]>n.row.beforeEval[o]?"arrow_upward":"arrow_downward"},null,8,["name"]),i(" "+l(((n.row.afterEval[o]/n.row.beforeEval[o]-1)*100).toFixed(0))+"% ",1)],2)]),_:2},1024)]),_:2},1024)),64))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(u,null,{default:t(()=>[e(c,null,{default:t(()=>[e(s,{caption:""},{default:t(()=>[e(d,{name:"speed"}),i(" "+l(a.t("autotune.test_performance_before_after")),1)]),_:1}),e(J,{label:a.t("autotune.test_on",{_dataName:n.row.testData,_dataSize:n.row.test}),color:"grey-9",icon:"check",size:"xs",square:""},null,8,["label"]),e(s,null,{default:t(()=>[e(u,null,{default:t(()=>[(h(),x(k,null,y(["ndcg","map","mrr"],o=>e(c,{key:o},{default:t(()=>[e(s,{caption:""},{default:t(()=>[i(l(o.toUpperCase()),1)]),_:2},1024),e(s,null,{default:t(()=>[i(l(n.row.beforeTest[o].toFixed(3))+" ",1),e(d,{name:"arrow_forward",class:"text-dim"}),i(" "+l(n.row.afterTest[o].toFixed(3))+" ",1),r("span",{style:{"font-size":"10px"},class:m(["q-pl-xs",n.row.afterTest[o]>n.row.beforeTest[o]?"text-positive":"text-negative"])},[e(d,{name:n.row.afterTest[o]>n.row.beforeTest[o]?"arrow_upward":"arrow_downward"},null,8,["name"]),i(" "+l(((n.row.afterTest[o]/n.row.beforeTest[o]-1)*100).toFixed(0))+"% ",1)],2)]),_:2},1024)]),_:2},1024)),64))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(u,null,{default:t(()=>[e(c,null,{default:t(()=>[e(s,{caption:""},{default:t(()=>[e(d,{name:"data_usage"}),i(" "+l(a.t("autotune.data_size")),1)]),_:1}),e(s,null,{default:t(()=>[e(u,null,{default:t(()=>[(h(),x(k,null,y(["syntheticDataSize","training","evaluation"],o=>e(c,{key:o},{default:t(()=>[e(s,{caption:""},{default:t(()=>[i(l(a.t(`autotune.eval_${o}`)),1)]),_:2},1024),e(s,null,{default:t(()=>[i(l(n.row[o]*(o==="test"?1:7)),1)]),_:2},1024)]),_:2},1024)),64))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(Q),e(N,{align:"right"},{default:t(()=>[e(O,{square:"",flat:""},{default:t(()=>[e(E,{square:"",flat:"",label:a.t("autotune.check_data"),href:n.row.syntheticDataURL,size:"sm",target:"_blank",icon:"open_in_new"},null,8,["label","href"]),e(E,{square:"",flat:"",label:a.t("autotune.check_model"),href:n.row.finetunedModelURL,size:"sm",target:"_blank",icon:"open_in_new"},null,8,["label","href"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:1},8,["rows"])])])],2),r("div",{class:m(a.$q.screen.lt.sm?"q-pa-md":"q-pa-xl"),id:"apiform"},[e(a.H2TitleBlock,{title:"autotune.title",anchor:"apiform",subtitle:"autotune.description"}),r("div",he,[r("div",be,[e(a.SeFoComponent,{"show-function":"tuning"})])])],2),e(a.FAQComponent,{"faq-sources":["autotune.faq_v1","api_general_faq","billing_general_faq"],dark:!0,"hide-license":!0})]),_:1})}const mt=P(ae,[["render",ve],["__scopeId","data-v-72a8aac3"],["__file","TuningPage.vue"]]);export{mt as default};
