import{k as m,h as u,i as l,D as f,b1 as P,m as M,f as p,b2 as I,w as S,K as B,aB as O,j as k,C as q,b3 as R,a3 as z,b4 as K,a0 as V,b5 as L,b6 as H,H as N,R as D,S as j,ai as W,e as U,ak as G,au as Z,aS as F,am as J,ad as X}from"./index.2a5cea95.js";import{Q as Y}from"./QBtnGroup.5d8083cd.js";import{Q as ee}from"./QSelect.acbfe284.js";import{u as te,a as ae,b as ne,c as oe}from"./use-panel.d7969b47.js";var ge=m({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:t}){const a=u(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>l("div",{class:a.value,role:"toolbar"},f(t.default))}});const re=Object.keys(P),se=e=>re.reduce((t,a)=>{const n=e[a];return n!==void 0&&(t[a]=n),t},{});var we=m({name:"QBtnDropdown",props:{...P,...M,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:a}){const{proxy:n}=q(),r=p(e.modelValue),s=p(null),i=I(),c=u(()=>{const o={"aria-expanded":r.value===!0?"true":"false","aria-haspopup":"true","aria-controls":i.value,"aria-label":e.toggleAriaLabel||n.$q.lang.label[r.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(o["aria-disabled"]="true"),o}),b=u(()=>"q-btn-dropdown__arrow"+(r.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),h=u(()=>R(e)),g=u(()=>se(e));S(()=>e.modelValue,o=>{s.value!==null&&s.value[o?"show":"hide"]()}),S(()=>e.split,v);function w(o){r.value=!0,a("beforeShow",o)}function Q(o){a("show",o),a("update:modelValue",!0)}function x(o){r.value=!1,a("beforeHide",o)}function C(o){a("hide",o),a("update:modelValue",!1)}function T(o){a("click",o)}function A(o){z(o),v(),a("click",o)}function E(o){s.value!==null&&s.value.toggle(o)}function $(o){s.value!==null&&s.value.show(o)}function v(o){s.value!==null&&s.value.hide(o)}return Object.assign(n,{show:$,hide:v,toggle:E}),B(()=>{e.modelValue===!0&&$()}),()=>{const o=[l(O,{class:b.value,name:e.dropdownIcon||n.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&o.push(l(ee,{ref:s,id:i.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:w,onShow:Q,onBeforeHide:x,onHide:C},t.default)),e.split===!1?l(k,{class:"q-btn-dropdown q-btn-dropdown--simple",...g.value,...c.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:T},{default:()=>f(t.label,[]).concat(o),loading:t.loading}):l(Y,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...h.value,glossy:e.glossy,stretch:e.stretch},()=>[l(k,{class:"q-btn-dropdown--current",...g.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:A},{default:t.label,loading:t.loading}),l(k,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...c.value,...h.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>o)])}}});const d="https://embeddings-dashboard-api.jina.ai",y="https://api.jina.ai";var ie=(e=>(e.CONSUME="consume",e.PURCHASE="purchase",e.TRIAL="trial",e))(ie||{}),le=(e=>(e.IN_PROGRESS="in-progress",e.FAILED="failed",e.COMPLETED="completed",e))(le||{});const ue=["price_1OPN9mEoTOtb5eZvzwg42kde","price_1OPNDjEoTOtb5eZvSaakR9th"],ve=K("embedding",{state:()=>({apiKey:"",models:[],products:[],testData:[],userDocuments:"",userSearchDocs:"",userVisualizeDocs:""}),persist:{paths:["apiKey","testData"]},getters:{baseEnModel:e=>e.models.find(t=>t.name==="jina-clip-v1"),jinaRerankerV1:e=>e.models.find(t=>t.name==="jina-reranker-v1-base-en"),jinaRerankerMultilingual:e=>e.models.find(t=>t.name==="jina-reranker-v2-base-multilingual"),clipV1:e=>e.models.find(t=>t.name==="jina-clip-v1"),baseZhModel:e=>e.models.find(t=>t.name==="jina-embeddings-v2-base-zh"),baseDeModel:e=>e.models.find(t=>t.name==="jina-embeddings-v2-base-de"),newModels:e=>e.models.filter(t=>new Date().getTime()-new Date(t.created_at).getTime()<1e3*60*60*24*30).map(t=>t.name)},actions:{async getReplicas(e,t){try{const a=await fetch(`${d}/api/v1/models/slug/${t}`,{method:"GET"});if(!a.ok)throw new Error(`getReplicas error! Status: ${a.status}`);return(await a.json()).num_replicas}catch(a){console.error("getReplicas error:",a)}},async getApiKey(){try{const e=await fetch(`${d}/api/v1/api_key`,{method:"POST"});if(!e.ok)throw new Error(`getApiKey error! Status: ${e.status}`);const t=await e.json();return this.apiKey=t.api_key,!0}catch(e){return console.error("getApiKey error:",e),!1}},async getTokens(e){try{const t=await fetch(`${d}/api/v1/api_key/user?api_key=${e}`);if(!t.ok)throw new Error(`getTokens error! Status: ${t.status}`);return(await t.json()).wallet.total_balance}catch(t){console.error("getTokens error:",t)}},async getModels(e){try{const t=await fetch(`${d}/api/v1/models`);if(!t.ok)throw new Error(`getModels error! Status: ${t.status}`);const a=await t.json();this.models=a,console.log("getModels data:",a)}catch(t){console.error("getModels error:",t)}},async getProducts(){try{const e=await fetch(`${d}/api/v1/product`);if(!e.ok)throw new Error(`getProducts error! Status: ${e.status}`);let t=await e.json();t=t.filter(a=>ue.includes(a.price_id)),t.unshift({id:"0",product_id:"0",product_name:"1M tokens",product_description:"A pack of 1 million tokens",price:0,price_id:"0",currency:"USD",token_quantity:1e6}),console.log("getProducts data:",t),this.products=t}catch(e){console.error("getProducts error:",e)}},async getUsage(e){try{const t=await fetch(`${d}/api/v1/billing/transaction`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error(`getUsage error! Status: ${t.status}`);return await t.json()}catch(t){console.error("getUsage error:",t)}},async checkoutWithStripe(e,t){try{const a=await fetch(`${d}/api/v1/checkout_session`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},method:"POST",body:JSON.stringify(t),mode:"cors",credentials:"include"});if(!a.ok)throw new Error(`checkoutWithStripe error! Status: ${a.status}`);return await a.json()}catch(a){console.error("checkoutWithStripe error:",a)}},async bulkEmbedding(e,t){var s;const a={accept:"application/json",Authorization:`Bearer ${e}`},n=new FormData;n.append("model",t.model),n.append("email",(s=t.email)!=null?s:""),n.append("file",t.file);const r=await fetch(`${y}/v1/bulk-embeddings`,{method:"POST",headers:a,body:n});if(r.ok)return await r.json();throw new Error(`${r.status}: ${r.statusText}`)},async checkBulk(e,t){const a={accept:"application/json",Authorization:`Bearer ${e}`},n=await fetch(`${y}/v1/bulk-embeddings/${t}`,{method:"GET",headers:a});if(n.ok)return await n.json();throw new Error(`${n.status}: ${n.statusText}`)},async getBulkResult(e,t){const a={accept:"application/json",Authorization:`Bearer ${e}`},n=await fetch(`${y}/v1/bulk-embeddings/${t}/download-result`,{method:"POST",headers:a});if(n.ok){const{download_url:r}=await n.json();return r}else throw new Error(`${n.status}: ${n.statusText}`)}}});function _(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var ke=V({name:"close-popup",beforeMount(e,{value:t}){const a={depth:_(t),handler(n){a.depth!==0&&setTimeout(()=>{const r=L(e);r!==void 0&&H(r,n,a.depth)})},handlerKey(n){N(n,13)===!0&&a.handler(n)}};e.__qclosepopup=a,e.addEventListener("click",a.handler),e.addEventListener("keyup",a.handlerKey)},updated(e,{value:t,oldValue:a}){t!==a&&(e.__qclosepopup.depth=_(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});const de=["text","rect","circle","QBtn","QBadge","QChip","QToolbar","QCheckbox","QRadio","QToggle","QSlider","QRange","QInput","QAvatar"],ce=["wave","pulse","pulse-x","pulse-y","fade","blink","none"];var ye=m({name:"QSkeleton",props:{...D,tag:{type:String,default:"div"},type:{type:String,validator:e=>de.includes(e),default:"rect"},animation:{type:String,validator:e=>ce.includes(e),default:"wave"},animationSpeed:{type:[String,Number],default:1500},square:Boolean,bordered:Boolean,size:String,width:String,height:String},setup(e,{slots:t}){const a=q(),n=j(e,a.proxy.$q),r=u(()=>{const i=e.size!==void 0?[e.size,e.size]:[e.width,e.height];return{"--q-skeleton-speed":`${e.animationSpeed}ms`,width:i[0],height:i[1]}}),s=u(()=>`q-skeleton q-skeleton--${n.value===!0?"dark":"light"} q-skeleton--type-${e.type}`+(e.animation!=="none"?` q-skeleton--anim q-skeleton--anim-${e.animation}`:"")+(e.square===!0?" q-skeleton--square":"")+(e.bordered===!0?" q-skeleton--bordered":""));return()=>l(e.tag,{class:s.value,style:r.value},f(t.default))}});function he(e){const t=p(null);return B(()=>{t.value&&t.value(),t.value=e()}),W(()=>{var a;(a=t.value)==null||a.call(t)}),{watchStopHandle:t}}const Se=U({__name:"TypingText",props:{text:{default:()=>[]},speedTime:{default:50},isAnimated:{type:Boolean,default:!0}},emits:["done"],setup(e,{emit:t}){const a=t,n=e;let r=p(""),s=0,i=null;const c=()=>{s=0,i&&(clearInterval(i),i=null)},b=()=>{i=window.setInterval(()=>{s<n.text.length?(r.value+=n.text[s],s++):(clearInterval(i),i=null,a("done"))},n.speedTime)};return he(()=>S(n.text,h=>{if(r.value.length===h.length){c();return}!i&&s<h.length&&b()},{immediate:!0})),(h,g)=>{const w=F("q-markdown");return J(),G(w,{src:Z(r),"no-line-numbers":""},null,8,["src"])}}});var qe=m({name:"QTabPanel",props:te,setup(e,{slots:t}){return()=>l("div",{class:"q-tab-panel",role:"tabpanel"},f(t.default))}}),$e=m({name:"QTabPanels",props:{...ae,...D},emits:ne,setup(e,{slots:t}){const a=q(),n=j(e,a.proxy.$q),{updatePanelsList:r,getPanelContent:s,panelDirectives:i}=oe(),c=u(()=>"q-tab-panels q-panel-parent"+(n.value===!0?" q-tab-panels--dark q-dark":""));return()=>(r(t),X("div",{class:c.value},s(),"pan",e.swipeable,()=>i.value))}});export{le as B,ke as C,ye as Q,ie as T,Se as _,$e as a,qe as b,ge as c,we as d,ve as u};
