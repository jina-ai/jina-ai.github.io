<!DOCTYPE html><html translate="no" dir="ltr" lang="en-US"><head><title>It’s Hard to Shard</title><meta charset="utf-8"><meta name="title" content="It’s Hard to Shard"><meta name="description" content="Sharding is a piece of cake, or is it? Thankfully,  Jina framework supports sharding out of the box. Users can process their data between multiple machines to get faster performance."><meta property="og:type" content="website"><meta property="og:url" content="https://jina.ai/news/its-hard-to-shard"><meta property="og:title" content="It’s Hard to Shard"><meta property="og:description" content="Sharding is a piece of cake, or is it? Thankfully,  Jina framework supports sharding out of the box. Users can process their data between multiple machines to get faster performance."><meta property="og:image" content="https://jina-ai-gmbh.ghost.io/content/images/2022/10/Jina-AI-Website-Banners-Templates--10-.png"><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://jina.ai/news/its-hard-to-shard"><meta property="twitter:title" content="It’s Hard to Shard"><meta property="twitter:description" content="Sharding is a piece of cake, or is it? Thankfully,  Jina framework supports sharding out of the box. Users can process their data between multiple machines to get faster performance."><meta property="twitter:image" content="https://jina-ai-gmbh.ghost.io/content/images/2022/10/Jina-AI-Website-Banners-Templates--10-.png"><meta name="format-detection" content="telephone=no"><meta name="msapplication-tap-highlight" content="no"><meta name="viewport" content="user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1,width=device-width"><link rel="icon" type="image/png" sizes="128x128" href="/icons/favicon-128x128.png"><link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png"><link rel="icon" type="image/ico" href="/favicon.ico"><link rel="apple-touch-startup-image" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3)" href="/icons/apple-launch-1284x2778.png"><link rel="apple-touch-startup-image" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3)" href="/icons/apple-launch-1170x2532.png"><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-828x1792.png"><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)" href="/icons/apple-launch-1125x2436.png"><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)" href="/icons/apple-launch-1242x2688.png"><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-750x1334.png"><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3)" href="/icons/apple-launch-1242x2208.png"><link rel="apple-touch-startup-image" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-1620x2160.png"><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-1536x2048.png"><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-1668x2224.png"><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-1668x2388.png"><link rel="apple-touch-startup-image" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-2048x2732.png">  <script type="module" crossorigin="" src="/assets/index.4ac5adf0.js"></script>
  <link rel="stylesheet" href="/assets/index.67e85a4c.css">
<link rel="modulepreload" as="script" crossorigin="" href="/assets/register.e0b8b202.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/QTooltip.748cad8d.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/position-engine.ed6e5515.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/selection.39acd7ab.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/copy-to-clipboard.db5be91d.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/index.4ac5adf0.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/MainLayout.514a45f2.js"><link rel="stylesheet" href="/assets/MainLayout.891b970f.css"><link rel="modulepreload" as="script" crossorigin="" href="/assets/QBtnDropdown.500158c5.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/QBtnGroup.842d9400.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/ClosePopup.400ed242.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/QChip.3903e739.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/QItemLabel.6ee68f0a.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/rtl.b51694b1.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/format.865294d5.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/QList.b7957381.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/QResizeObserver.b8cdf49b.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/QImg.7e991de7.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/QExpansionItem.1bdf5b3b.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/QScrollArea.4d348673.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/TouchPan.1a3c64d5.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/touch.70a9dd44.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/QResponsive.b3ff11f8.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/common.3adec9d0.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/chunk.17bfede8.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/isArrayLike.a2a00cef.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/isObject.cef35763.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/toNumber.476d0739.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/NewsPage.c430581e.js"><link rel="stylesheet" href="/assets/NewsPage.e84092ac.css"><link rel="modulepreload" as="script" crossorigin="" href="/assets/QParallax.d78e1247.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/QPage.7eb3dac6.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/blogs.60aa9f03.js"><link rel="stylesheet" href="/assets/blogs.b3aadae9.css"><link rel="modulepreload" as="script" crossorigin="" href="/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/NewsBadge.2d9ca23a.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/NewsVerticalCard.3751ef95.js"><script src="https://jina-ai-gmbh.ghost.io/public/cards.min.js" async=""></script><link prerender-ignore rel=preconnect href=//app.usercentrics.eu><link prerender-ignore rel=preconnect href=//api.usercentrics.eu><link prerender-ignore rel=preconnect href=//privacy-proxy.usercentrics.eu><link prerender-ignore rel=preload href=//app.usercentrics.eu/browser-ui/latest/loader.js as=script><link prerender-ignore rel=preload href=//privacy-proxy.usercentrics.eu/latest/uc-block.bundle.js as=script><script prerender-ignore id=usercentrics-cmp data-settings-id=w5v6v2pJsC3wdR src=https://app.usercentrics.eu/browser-ui/latest/loader.js async></script><script prerender-ignore src=https://privacy-proxy.usercentrics.eu/latest/uc-block.bundle.js></script><script prerender-ignore>// (optional) additional configs for the Smart Data Protector
      uc.reloadOnOptIn('BJz7qNsdj-7'); // reload page on YouTube opt-in</script><style prerender-ignore>.uc-embedding-container {
      min-height: 100% !important;
    }

    .uc-embedding-wrapper p {
      color: black;
    }</style><script prerender-ignore src="https://www.googletagmanager.com/gtag/js?id=G-9T52NXDS9T" async></script><script prerender-ignore>window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-9T52NXDS9T');</script></head><body class="desktop no-touch body--dark"><div id="q-app" data-v-app class="hidden"><div class="q-layout q-layout--standard" tabindex="-1" style="min-height: 600px;"><header class="q-header q-layout__section--marginal fixed-top text-white lock-blur bg-transparent print-hide"><div class="q-toolbar row no-wrap items-center q-px-none" role="toolbar"><button class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--actionable q-focusable q-hoverable no-border-radius self-stretch" tabindex="0" type="button" style="padding: 24px; min-width: 0px; min-height: 0px;"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><i class="q-icon notranslate material-icons" aria-hidden="true" role="img">reorder</i></span></button><hr class="q-separator q-separator--vertical q-separator--dark" aria-orientation="vertical"><a class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--actionable q-focusable q-hoverable no-border-radius self-stretch" tabindex="0" href="/" style="font-size: 32px;"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><span class="q-icon" aria-hidden="true" role="img"><img src="/Jina - Dark.svg"></span></span></a><div class="q-space"></div><label class="q-field row no-wrap items-start q-field--borderless q-select q-field--auto-height q-select--without-input q-select--without-chips q-select--single q-field--float q-field--dense q-field--dark" for="f_f834496f-f26e-4032-a774-edaef721466c"><div class="q-field__inner relative-position col self-stretch"><div class="q-field__control relative-position row no-wrap" tabindex="-1"><div class="q-field__prepend q-field__marginal row no-wrap items-center"><i class="q-icon notranslate material-icons" aria-hidden="true" role="presentation">language</i></div><div class="q-field__control-container col relative-position row no-wrap q-anchor--skip"><div class="q-field__native row items-center"><span>English</span><input class="q-select__focus-target" id="f_f834496f-f26e-4032-a774-edaef721466c" readonly="" tabindex="0" role="combobox" aria-readonly="false" aria-autocomplete="none" aria-expanded="false" aria-controls="f_f834496f-f26e-4032-a774-edaef721466c_lb"></div></div><div class="q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"><i class="q-icon fas fa-caret-down q-select__dropdown-icon" aria-hidden="true" role="presentation"> </i></div></div></div></label></div></header><div class="q-drawer-container"><div class="q-drawer__opener fixed-left" aria-hidden="true"></div><div class="fullscreen q-drawer__backdrop hidden" aria-hidden="true" style="background-color: rgba(0, 0, 0, 0);"></div><aside class="q-drawer q-drawer--left q-drawer--bordered q-drawer--dark q-dark q-layout--prevent-focus fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding" style="width: 300px; transform: translateX(-300px);"><div class="q-drawer__content fit scroll"><div class="q-scrollarea q-scrollarea--dark fit"><div class="q-scrollarea__container scroll relative-position fit hide-scrollbar"><div class="q-scrollarea__content absolute"><div class="q-list q-list--dark q-list--padding"><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="/news"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div class="q-avatar"><div class="q-avatar__content row flex-center overflow-hidden"><i class="q-icon notranslate material-icons" aria-hidden="true" role="presentation">notifications</i></div></div></div><div class="q-item__section column q-item__section--main justify-center">News</div></a><div class="q-expansion-item q-item-type q-expansion-item--collapsed q-expansion-item--standard"><div class="q-expansion-item__container relative-position"><div class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="button" tabindex="0" aria-expanded="false" aria-controls="6cc25783-21e9-4cd1-bff6-6b94e692fe14" aria-label="Expand &quot;For Enterprises&quot;"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">For Enterprises</div></div><div class="q-item__section column q-item__section--side justify-center q-focusable relative-position cursor-pointer"><i class="q-icon fas fa-chevron-down q-expansion-item__toggle-icon" aria-hidden="true" role="presentation"> </i></div></div><div class="q-expansion-item__content relative-position" id="6cc25783-21e9-4cd1-bff6-6b94e692fe14" style="display: none;"><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="/embeddings"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">Embeddings</div><div class="q-item__label q-item__label--caption text-caption">Our world-class embeddings for your search and RAG systems</div></div></a></div><hr class="q-separator q-separator--horizontal q-separator--dark q-expansion-item__border q-expansion-item__border--top absolute-top" aria-orientation="horizontal"><hr class="q-separator q-separator--horizontal q-separator--dark q-expansion-item__border q-expansion-item__border--bottom absolute-bottom" aria-orientation="horizontal"></div></div><div class="q-expansion-item q-item-type q-expansion-item--collapsed q-expansion-item--standard"><div class="q-expansion-item__container relative-position"><div class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="button" tabindex="0" aria-expanded="false" aria-controls="27f06d98-a7e2-4ffd-a474-a9dc3335346d" aria-label="Expand &quot;For Power Users&quot;"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">For Power Users</div></div><div class="q-item__section column q-item__section--side justify-center q-focusable relative-position cursor-pointer"><i class="q-icon fas fa-chevron-down q-expansion-item__toggle-icon" aria-hidden="true" role="presentation"> </i></div></div><div class="q-expansion-item__content relative-position" id="27f06d98-a7e2-4ffd-a474-a9dc3335346d" style="display: none;"><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="https://promptperfect.jina.ai"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div class="q-img q-img--menu" role="img"><div style="padding-bottom: 100%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="https://promptperfect.jina.ai/PromptPerfect-light.svg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">PromptPerfect</div><div class="q-item__label q-item__label--caption text-caption">Premier tool for prompt engineering</div></div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="https://scenex.jina.ai"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div class="q-img q-img--menu" role="img"><div style="padding-bottom: 56.25%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--waiting" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="https://scenex.jina.ai/SceneX - Light.svg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__loading absolute-full flex flex-center"><svg class="q-spinner q-spinner-mat" width="1em" height="1em" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg></div></div></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">SceneXplain</div><div class="q-item__label q-item__label--caption text-caption">Leading AI solution for image captions and video summaries</div></div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="https://bestbanner.jina.ai"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div class="q-img q-img--menu" role="img"><div style="padding-bottom: 100%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="https://bestbanner.jina.ai/bestbanner-light.svg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">BestBanner</div><div class="q-item__label q-item__label--caption text-caption">Blog to banner, without the prompts!</div></div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="https://chat.jina.ai"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div class="q-img q-img--menu" role="img"><div style="padding-bottom: 100%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="https://chat.jina.ai/JinaChat - Light.svg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">JinaChat</div><div class="q-item__label q-item__label--caption text-caption">More modality, longer memory, less cost</div></div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="https://rationale.jina.ai"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div class="q-img q-img--menu" role="img"><div style="padding-bottom: 100%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="https://rationale.jina.ai/Rationale-light.svg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">Rationale</div><div class="q-item__label q-item__label--caption text-caption">Ultimate AI decision-making tools</div></div></a></div><hr class="q-separator q-separator--horizontal q-separator--dark q-expansion-item__border q-expansion-item__border--top absolute-top" aria-orientation="horizontal"><hr class="q-separator q-separator--horizontal q-separator--dark q-expansion-item__border q-expansion-item__border--bottom absolute-bottom" aria-orientation="horizontal"></div></div><div class="q-expansion-item q-item-type q-expansion-item--collapsed q-expansion-item--standard"><div class="q-expansion-item__container relative-position"><div class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="button" tabindex="0" aria-expanded="false" aria-controls="8d9f9d62-0661-417c-ab75-1f517b947af2" aria-label="Expand &quot;For Developers&quot;"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">For Developers</div></div><div class="q-item__section column q-item__section--side justify-center q-focusable relative-position cursor-pointer"><i class="q-icon fas fa-chevron-down q-expansion-item__toggle-icon" aria-hidden="true" role="presentation"> </i></div></div><div class="q-expansion-item__content relative-position" id="8d9f9d62-0661-417c-ab75-1f517b947af2" style="display: none;"><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="https://github.com/docarray/docarray"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div class="q-img q-img--menu" role="img"><div style="padding-bottom: 56.25%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--waiting" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="/assets/doc-array.35372518.svg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__loading absolute-full flex flex-center"><svg class="q-spinner q-spinner-mat" width="1em" height="1em" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg></div></div></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">DocArray</div><div class="q-item__label q-item__label--caption text-caption">The data structure for multimodal data</div></div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="https://github.com/jina-ai/jina"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div class="q-img q-img--menu" role="img"><div style="padding-bottom: 56.25%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--waiting" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="/assets/core.99751891.svg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__loading absolute-full flex flex-center"><svg class="q-spinner q-spinner-mat" width="1em" height="1em" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg></div></div></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">Jina</div><div class="q-item__label q-item__label--caption text-caption">Build multimodal AI applications on the cloud</div></div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="https://github.com/jina-ai/finetuner"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div class="q-img q-img--menu" role="img"><div style="padding-bottom: 56.25%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--waiting" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="/assets/finetuner.c62eaafa.svg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__loading absolute-full flex flex-center"><svg class="q-spinner q-spinner-mat" width="1em" height="1em" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg></div></div></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">Finetuner</div><div class="q-item__label q-item__label--caption text-caption">Fine-tune embeddings on domain specific data for better search quality</div></div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="https://github.com/jina-ai/clip-as-service"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div class="q-img q-img--menu" role="img"><div style="padding-bottom: 56.25%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--waiting" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="/assets/clip-as-service.f454ca2a.svg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__loading absolute-full flex flex-center"><svg class="q-spinner q-spinner-mat" width="1em" height="1em" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg></div></div></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">CLIP-as-service</div><div class="q-item__label q-item__label--caption text-caption">Embed images and sentences into fixed-length vectors with CLIP</div></div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="https://github.com/jina-ai/jcloud"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div class="q-img q-img--menu" role="img"><div style="padding-bottom: 56.25%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--waiting" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="/assets/jcloud.669910ba.svg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__loading absolute-full flex flex-center"><svg class="q-spinner q-spinner-mat" width="1em" height="1em" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg></div></div></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">JCloud</div><div class="q-item__label q-item__label--caption text-caption">Deploy a local project as a cloud service. Radically easy, no nasty surprises.</div></div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="https://github.com/jina-ai/langchain-serve"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div class="q-img q-img--menu" role="img"><div style="padding-bottom: 56.25%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--waiting" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="/assets/langchain-serve.8cf53254.svg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__loading absolute-full flex flex-center"><svg class="q-spinner q-spinner-mat" width="1em" height="1em" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg></div></div></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">LangChain-Serve</div><div class="q-item__label q-item__label--caption text-caption">Langchain apps on production with Jina &amp; FastAPI</div></div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="https://github.com/jina-ai/vectordb"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div class="q-img q-img--menu" role="img"><div style="padding-bottom: 56.25%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--waiting" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="/assets/VectorDB.46be6cc1.svg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__loading absolute-full flex flex-center"><svg class="q-spinner q-spinner-mat" width="1em" height="1em" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg></div></div></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">VectorDB</div><div class="q-item__label q-item__label--caption text-caption">A Python vector database you just need - no more, no less</div></div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="https://cloud.jina.ai/executors"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div class="q-img q-img--menu" role="img"><div style="padding-bottom: 56.25%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--waiting" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="/assets/hub.5e89f942.svg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__loading absolute-full flex flex-center"><svg class="q-spinner q-spinner-mat" width="1em" height="1em" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg></div></div></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">Executor Hub</div><div class="q-item__label q-item__label--caption text-caption">Share and discover building blocks for multimodal AI applications</div></div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="https://github.com/jina-ai/dalle-flow"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div class="q-img q-img--menu" role="img"><div style="padding-bottom: 56.25%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--waiting" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="/assets/dall-e-flow.ea199b2d.svg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__loading absolute-full flex flex-center"><svg class="q-spinner q-spinner-mat" width="1em" height="1em" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg></div></div></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">DALL-E Flow</div><div class="q-item__label q-item__label--caption text-caption">A human-in-the-Loop workflow for creating HD images from text</div></div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="https://github.com/jina-ai/discoart"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div class="q-img q-img--menu" role="img"><div style="padding-bottom: 56.25%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--waiting" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="/assets/disco-art.f21a267f.svg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__loading absolute-full flex flex-center"><svg class="q-spinner q-spinner-mat" width="1em" height="1em" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg></div></div></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">DiscoArt</div><div class="q-item__label q-item__label--caption text-caption">Create compelling Disco Diffusion artworks in one line of code</div></div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="https://github.com/jina-ai/thinkgpt"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div class="q-img q-img--menu" role="img"><div style="padding-bottom: 56.25%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--waiting" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="/assets/think-gpt.0a671280.svg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__loading absolute-full flex flex-center"><svg class="q-spinner q-spinner-mat" width="1em" height="1em" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg></div></div></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">ThinkGPT</div><div class="q-item__label q-item__label--caption text-caption">Agent techniques to augment your LLM and push it beyond its limits</div></div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="https://github.com/jina-ai/dev-gpt"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div class="q-img q-img--menu" role="img"><div style="padding-bottom: 56.25%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--waiting" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="/assets/dev-gpt.a3e55036.svg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__loading absolute-full flex flex-center"><svg class="q-spinner q-spinner-mat" width="1em" height="1em" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg></div></div></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">DevGPT</div><div class="q-item__label q-item__label--caption text-caption">Your virtual development team</div></div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="https://github.com/jina-ai/rungpt"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div class="q-img q-img--menu" role="img"><div style="padding-bottom: 56.25%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--waiting" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="/assets/run-gpt.5571707e.svg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__loading absolute-full flex flex-center"><svg class="q-spinner q-spinner-mat" width="1em" height="1em" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg></div></div></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">RunGPT</div><div class="q-item__label q-item__label--caption text-caption">An open-source cloud-native of large multimodal models serving framework</div></div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="https://github.com/jina-ai/jerboa"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div class="q-img q-img--menu" role="img"><div style="padding-bottom: 56.25%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--waiting" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="/assets/jerboa.af6b308b.svg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__loading absolute-full flex flex-center"><svg class="q-spinner q-spinner-mat" width="1em" height="1em" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg></div></div></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">Jerboa</div><div class="q-item__label q-item__label--caption text-caption">An experimental finetuner for open-source LLMs</div></div></a></div><hr class="q-separator q-separator--horizontal q-separator--dark q-expansion-item__border q-expansion-item__border--top absolute-top" aria-orientation="horizontal"><hr class="q-separator q-separator--horizontal q-separator--dark q-expansion-item__border q-expansion-item__border--bottom absolute-bottom" aria-orientation="horizontal"></div></div><div class="q-expansion-item q-item-type q-expansion-item--collapsed q-expansion-item--standard"><div class="q-expansion-item__container relative-position"><div class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="button" tabindex="0" aria-expanded="false" aria-controls="d0e50d79-194b-49cf-b01b-454f48819bc1" aria-label="Expand &quot;Company&quot;"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><span class="q-icon" aria-hidden="true" role="presentation"><img src="/J.svg"></span></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">Company</div></div><div class="q-item__section column q-item__section--side justify-center q-focusable relative-position cursor-pointer"><i class="q-icon fas fa-chevron-down q-expansion-item__toggle-icon" aria-hidden="true" role="presentation"> </i></div></div><div class="q-expansion-item__content relative-position" id="d0e50d79-194b-49cf-b01b-454f48819bc1" style="display: none;"><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="/contact-sales"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">Contact sales</div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="/about-us"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">About us</div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="https://jobs.lever.co/jina-ai"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">Join us</div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div class="q-avatar"><div class="q-avatar__content row flex-center overflow-hidden"><i class="q-icon notranslate material-icons" aria-hidden="true" role="presentation">open_in_new</i></div></div></div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="/open-day"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">Open day</div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="/internship"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">Intern program</div></a></div><hr class="q-separator q-separator--horizontal q-separator--dark q-expansion-item__border q-expansion-item__border--top absolute-top" aria-orientation="horizontal"><hr class="q-separator q-separator--horizontal q-separator--dark q-expansion-item__border q-expansion-item__border--bottom absolute-bottom" aria-orientation="horizontal"></div></div></div></div></div><div class="q-scrollarea__bar q-scrollarea__bar--v absolute-right q-scrollarea__bar--invisible" aria-hidden="true"></div><div class="q-scrollarea__bar q-scrollarea__bar--h absolute-bottom q-scrollarea__bar--invisible" aria-hidden="true"></div><div class="q-scrollarea__thumb q-scrollarea__thumb--v absolute-right q-scrollarea__thumb--invisible" aria-hidden="true" style="top: 0px; height: 600px;"></div><div class="q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom q-scrollarea__thumb--invisible" aria-hidden="true" style="opacity: 0; left: 0px; width: 299px;"></div></div></div></aside></div><div class="q-page-container" style="padding-top: 82px; padding-bottom: 69px;"><main data-v-7478c13a="" class="q-page" style="min-height: 100vh;"><div data-v-7478c13a="" class="row justify-center q-py-xl q-my-xl"><div data-v-7478c13a="" class="col-12 col-xl-10 q-pa-xl"><div data-v-7478c13a="" class="row justify-center"><div data-v-7478c13a="" class="col" style="max-width: 1000px;"><div data-v-7478c13a="" class="q-mx-sm"><div data-v-7478c13a="" class="row justify-between items-center"><a data-v-7478c13a="" class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--actionable q-focusable q-hoverable q-btn--dense col-auto" tabindex="0" href="/news"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><i class="q-icon on-left notranslate material-icons" aria-hidden="true" role="img">arrow_circle_left</i><span class="block">Back to Newsroom</span></span></a><div data-v-7478c13a="" class="col-auto"><div class="q-chip row inline no-wrap items-center q-chip--outline q-chip--square q-chip--dark q-dark non-selectable no-border-radius" style="font-size: 10px;"><div class="q-chip__content col row no-wrap items-center q-anchor--skip"><div class="ellipsis">Tech blog</div></div></div></div></div><div data-v-7478c13a="" class="q-parallax q-mt-md" style="height: 500px;"><div class="q-parallax__media absolute-full"><img src="https://jina-ai-gmbh.ghost.io/content/images/2022/10/Jina-AI-Website-Banners-Templates--10-.png" style="display: initial; transform: translate3d(-50%, 82px, 0px);"></div><div class="q-parallax__content absolute-full column flex-center"><div data-v-7478c13a="" class="text-white absolute-bottom q-pa-lg lock-blur text-h4" style="background: rgba(0, 0, 0, 0.5);">It’s Hard to Shard</div></div></div><div data-v-7478c13a="" class="row justify-between items-center q-mt-lg"><div data-v-363418f9="" data-v-7478c13a="" class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div data-v-363418f9="" class="relative-position" style="height: 30px; width: 55px;"><div data-v-363418f9="" class="q-avatar bg-grey-9 overlapping" style="font-size: 30px; left: 0px;"><div class="q-avatar__content row flex-center overflow-hidden"><div data-v-363418f9="" class="q-img q-img--menu" role="img"><div style="padding-bottom: 132.25%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="https://jina-ai-gmbh.ghost.io/content/images/2022/11/Profile-Picture.jpg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></div></div><div data-v-363418f9="" class="q-avatar bg-grey-9 overlapping" style="font-size: 30px; left: 25px;"><div class="q-avatar__content row flex-center overflow-hidden"><div data-v-363418f9="" class="q-img q-img--menu" role="img"><div style="padding-bottom: 100%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="https://jina-ai-gmbh.ghost.io/content/images/2022/09/alex.jpg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></div></div></div></div><div data-v-7478c13a=""><a data-v-7478c13a="" href="https://news.ycombinator.com/submitlink?u=http%3A%2F%2F127.0.0.1%3A3000%2Fnews%2Fits-hard-to-shard%2F" target="_blank" rel="nofollow noopener noreferrer" aria-label="Share this with HackerNews. (opens in new window)"><span data-v-7478c13a="" class="q-icon inline-block q-mr-md" aria-hidden="true" role="presentation" style="font-size: 32px;"><img src="/assets/hacker-news.e100deed.svg"></span></a><a data-v-7478c13a="" href="https://www.linkedin.com/sharing/share-offsite/?url=http%3A%2F%2F127.0.0.1%3A3000%2Fnews%2Fits-hard-to-shard%2F" target="_blank" rel="nofollow noopener noreferrer" aria-label="Share this with LinkedIn. (opens in new window)"><span data-v-7478c13a="" class="q-icon inline-block q-mr-md" aria-hidden="true" role="presentation" style="font-size: 32px;"><img src="/assets/linkedin-logo.e0fc6323.svg"></span></a><a data-v-7478c13a="" href="https://twitter.com/intent/tweet?url=http%3A%2F%2F127.0.0.1%3A3000%2Fnews%2Fits-hard-to-shard%2F" target="_blank" rel="nofollow noopener noreferrer" aria-label="Share this with Twitter. (opens in new window)"><span data-v-7478c13a="" class="q-icon inline-block q-mr-md" aria-hidden="true" role="presentation" style="font-size: 32px;"><img src="/assets/twitter-logo.1c6cc30c.svg"></span></a><a data-v-7478c13a="" href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2F127.0.0.1%3A3000%2Fnews%2Fits-hard-to-shard%2F" target="_blank" rel="nofollow noopener noreferrer" aria-label="Share this with Facebook. (opens in new window)"><span data-v-7478c13a="" class="q-icon inline-block q-mr-md" aria-hidden="true" role="presentation" style="font-size: 32px;"><img src="/assets/facebook-logo.60334dbf.svg"></span></a><a data-v-7478c13a="" href="https://reddit.com/submit?url=http%3A%2F%2F127.0.0.1%3A3000%2Fnews%2Fits-hard-to-shard%2F" target="_blank" rel="nofollow noopener noreferrer" aria-label="Share this with Reddit. (opens in new window)"><span data-v-7478c13a="" class="q-icon inline-block q-mr-md" aria-hidden="true" role="presentation" style="font-size: 32px;"><img src="/assets/reddit-logo.6852dc89.svg"></span></a><i data-v-7478c13a="" class="q-icon notranslate material-icons q-hoverable cursor-pointer" aria-hidden="true" role="presentation" style="font-size: 32px;">rss_feed</i></div></div><div data-v-7478c13a="" class="q-item__section column q-item__section--main justify-center text-grey-6 q-mt-sm"><div data-v-7478c13a="" class="q-item__label">Maximilian Werk, Alex C-G</div><div data-v-7478c13a="" class="q-item__label q-item__label--caption text-caption text-grey-6 q-mt-sm">October 28, 2022 • 10 minutes read</div></div><article data-v-7478c13a="" class="article"><section data-v-7478c13a="" class="gh-content"><h2></h2><p>We live in a “predictable” world of “logic”, where things go (more or less) as expected. Every day the sun rises, fish swim, birds fly, and people hurl abuse at each other on Twitter. Just another day on social media</p><p align="center">
<img loading="lazy" src="https://media.tenor.com/bgkPZCa6qKcAAAAC/angry.gif" class="kg-image" alt="" width="200">
</p>
<p>If you drink more coffee, you get more hyper. If you browse more social media, you get more miserable. If you have a big problem and throw more CPUs at it, you get that problem solved more quickly.</p><p>One of these things is not like the others. Take a wild guess which.</p><p>Turns out that whole throwing CPUs at a problem thing? It doesn’t always work so well.</p><p>It <em>should</em> be straightforward. CPUs are just <a href="https://old.reddit.com/r/Showerthoughts/comments/74h2wo/computers_are_just_rocks_we_tricked_into_thinking/?ref=jina-ai-gmbh.ghost.io">magical rocks full of lightning</a>. More rocks should equal more speed. What the hell is happening here?</p><p>To start, let’s go back to the misty days of a few weeks ago, when our team was running some sharding experiments…</p><h2 id="sharding">Sharding</h2><p>Katie is building a search engine for delicious cake recipes. There are a <em>lot</em> of cake recipes around the world, so she’ll soon have gazillions of recipes.</p><figure class="kg-card kg-bookmark-card kg-card-hascaption"><a class="kg-bookmark-container" href="https://veggiedesserts.com/tomato-soup-cake/?ref=jina-ai-gmbh.ghost.io"><div class="kg-bookmark-content"><div class="kg-bookmark-title">Tomato Soup Cake</div><div class="kg-bookmark-description">Make this Magic Tomato Soup Cake! Based on a classic retro 1950s recipe printed on cans. You can’t taste the soup in the spice layer cake.</div><div class="kg-bookmark-metadata"><img loading="lazy" class="kg-bookmark-icon" src="https://veggiedesserts.com/wp-content/uploads/2017/05/cropped-VeggieDessertscover-270x270.jpg" alt=""><span class="kg-bookmark-author">Veggie Desserts</span><span class="kg-bookmark-publisher">Kate Hackworthy</span></div></div><div class="kg-bookmark-thumbnail"><img loading="lazy" src="https://veggiedesserts.com/wp-content/uploads/2021/04/tomato-soup-cake-cover.jpg" alt=""></div></a><figcaption>"Yum"</figcaption></figure><p>With Jina, that’s a piece of cake.<strong> The Jina framework supports <a href="https://docs.jina.ai/how-to/scale-out/?ref=jina-ai-gmbh.ghost.io#split-data-into-partitions-shards">sharding out of the box</a>:</strong> when the data doesn't fit on one machine any more, Katie can split her data between multiple machines. She can do this split &nbsp;to speed up computation of a single request as well.</p><figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://docs.jina.ai/how-to/scale-out/?ref=jina-ai-gmbh.ghost.io#split-data-into-partitions-shards"><div class="kg-bookmark-content"><div class="kg-bookmark-title">Scale out with replicas and shards</div><div class="kg-bookmark-description">A Jina Flow orchestrates multiple Executor s. By default, an Executor runs with a single replica and shard. Some Executors in the Flow may be less performant than others, which could cause performance bottlenecks in an application. To solve this, you can configure the number of replicas and shard...</div><div class="kg-bookmark-metadata"><img loading="lazy" class="kg-bookmark-icon" src="https://docs.jina.ai/_static/favicon.ico" alt=""><span class="kg-bookmark-author">Jina 3.11.1 Documentation</span></div></div><div class="kg-bookmark-thumbnail"><img loading="lazy" src="https://docs.jina.ai/_static/banner.png" alt=""></div></a></figure><p>Let’s jump in and help Katie out. Maybe we’ll even get a <a href="https://www.theonion.com/something-called-guacamole-donut-burying-news-of-doze-1849701649?ref=jina-ai-gmbh.ghost.io">guacamole donut</a> for our troubles.</p><h2 id="preliminary-testing">Preliminary testing</h2><p>We wrote some benchmarking code that generates <a href="https://docarray.jina.ai/fundamentals/document/?ref=jina-ai-gmbh.ghost.io">Document</a>s with random embeddings and splits them between different shards of an indexer. We used that code to run a sharding experiment on an M2 mac.</p><figure class="kg-card kg-code-card"><pre><code class="language-python hljs"><span class="hljs-keyword">import</span> time
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">from</span> jina <span class="hljs-keyword">import</span> Executor, requests, Flow, DocumentArray

top_k = <span class="hljs-number">100</span>
num_dim = <span class="hljs-number">512</span>
total_queries = <span class="hljs-number">16</span>
total_docs = <span class="hljs-number">1_000_000</span>
shards = <span class="hljs-number">2</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyExec1</span>(<span class="hljs-title class_ inherited__">Executor</span>):

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, **kwargs</span>):
        <span class="hljs-built_in">super</span>().__init__(**kwargs)
        num_docs = <span class="hljs-built_in">int</span>(total_docs // shards)
        self.da = DocumentArray.empty(num_docs)
        self.da.embeddings = np.random.random((num_docs, num_dim)).astype(np.float32)

<span class="hljs-meta">    @requests</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params">self, docs, **kwargs</span>):
        <span class="hljs-keyword">return</span> self.da.find(docs, limit=<span class="hljs-built_in">int</span>(top_k // shards), metric=<span class="hljs-string">'cosine'</span>)[<span class="hljs-number">0</span>]


f = Flow().add(uses=MyExec1, shards=shards, polling=<span class="hljs-string">'all'</span>)

queries = DocumentArray.empty(total_queries)
queries.embeddings = np.random.random((total_queries, num_dim)).astype(np.float32)


<span class="hljs-keyword">with</span> f:
    st = time.perf_counter()
    f.post(<span class="hljs-string">'/'</span>, queries, request_size=<span class="hljs-number">1</span>)
    elapse = time.perf_counter() - st
    qps = total_queries / elapse</code></pre><figcaption>Benchmark code we used for this experiment. One can see that by specifying `shards=shards, polling='all'`, <strong>Jina can support sharding out of the box with no extra effort.</strong></figcaption></figure><p>We tested a variety of scenarios, with differing numbers of Documents and shards. For each scenario we:</p><ol><li>Created <a href="https://docarray.jina.ai/fundamentals/documentarray/?ref=jina-ai-gmbh.ghost.io">DocumentArray</a>s with random 512-dimensional embeddings. The number of Documents varied between 10,000 and 1 million.</li><li>Created a <a href="https://docs.jina.ai/fundamentals/flow/?ref=jina-ai-gmbh.ghost.io">Flow</a> with a single dummy indexer <a href="https://docs.jina.ai/fundamentals/executor/?ref=jina-ai-gmbh.ghost.io">Executor</a>. The shard count varied from 1 to 8.</li><li>Ran several queries through the Flow and timed how long it took to get search results back.</li></ol><p>Naturally, we assumed that <strong>more shards == better performance</strong>. Specifically, that querying Documents would be faster with more shards.</p><p>Well, you know what they say about “assume":</p><figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://dict.leo.org/forum/viewUnsolvedquery.php?idForum=2&amp;idThread=1010594&amp;lp=ende&amp;lang=en&amp;ref=jina-ai-gmbh.ghost.io"><div class="kg-bookmark-content"><div class="kg-bookmark-title">When you ASSUME you make an ASS out of U and Me. - German missing: English ⇔ German Forums - leo.org</div><div class="kg-bookmark-description">LEO.org: Your online dictionary for English-German translations. Offering forums, vocabulary trainer and language courses. Also available as App!</div><div class="kg-bookmark-metadata"><img loading="lazy" class="kg-bookmark-icon" src="https://dict.leo.org/img/favicons/ende-32.png" alt=""><span class="kg-bookmark-author">English ⇔ German Forums - leo.org</span></div></div><div class="kg-bookmark-thumbnail"><img loading="lazy" src="https://dict.leo.org/img/svg/leo_ende.svg" alt=""></div></a></figure><p>Needless to say, we didn’t get the results we expected:</p><figure class="kg-card kg-image-card"><img loading="lazy" src="https://jina-ai-gmbh.ghost.io/content/images/2022/10/experiment-0-5.png" class="kg-image" alt="" width="589" height="505"></figure><p><strong>Not only did the shards not speed up the process as much as thought they should, but they actually slowed things down!</strong> C’mon shards, you had one job!</p><div class="kg-card kg-callout-card kg-callout-card-red"><div class="kg-callout-emoji">💡</div><div class="kg-callout-text">Don’t worry about how generally slow everything is in the graph. This dummy indexer isn’t intended for production use, just for testing!</div></div><p>From the graph we can see:</p><ul><li>Sharding only makes sense when the overhead of sharding is smaller than the gain in multiprocessing. Sharding for 10,000 documents doesn’t make sense.</li><li>Sharding beyond the number of cores in a machine brings no benefit. When CPU utilization hits 100% it’s pointless to split the task any further.</li></ul><p>However, the line for 1 million Documents seems suspicious. Why don't we see any improvement when going from 2 to 4 shards?</p><h2 id="juicing-up-our-testing">Juicing up our testing</h2><p>Let’s throw some serious compute at this baby and see what happens. I have an i9-12900KF with 16 cores and 24 threads under my desk. That amount of power should erase any bottlenecks for 4 shards, right?</p><p align="center">
<img loading="lazy" src="https://media.tenor.com/C4Mq2N6UiQEAAAAC/power-aladdin.gif" class="kg-image" alt="" width="200">
</p>
<p>In all experiments below, we did this:</p><ol><li>Create one DocumentArray consisting of 500,000 to 4 million Documents with random 512-dimension embeddings. Let’s call this the index.</li><li>Create a Flow with a single dummy indexer Executor. The shard count varied from 1 to 8.</li><li>Ran warm-up queries through the Flow. This ensures no initial hiccups in the benchmarking.</li><li>Ran benchmark queries through the Flow. We used five queries, also with 512-dimension embeddings.</li><li>Performed a <code>da.find()</code> with both warm-up and benchmark queries.</li><li>Timed how long it took to run all five queries together.</li></ol><p>Under the hood <code>.find()</code> calculates the cosine distance between the index embeddings and &nbsp;query embeddings. Be aware that <code>.find()</code> is designed for easy experimentation and not for big matrix multiplications in live systems. So don’t be shocked by the runtime below. Our target here is to analyze sharding and not to get the best performing vector search engine.</p><p>You can find all code in this repository:</p><figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://github.com/maximilianwerk/jina-sharding-analysis?ref=jina-ai-gmbh.ghost.io"><div class="kg-bookmark-content"><div class="kg-bookmark-title">GitHub - maximilianwerk/jina-sharding-analysis</div><div class="kg-bookmark-description">Contribute to maximilianwerk/jina-sharding-analysis development by creating an account on GitHub.</div><div class="kg-bookmark-metadata"><img loading="lazy" class="kg-bookmark-icon" src="https://github.com/fluidicon.png" alt=""><span class="kg-bookmark-author">GitHub</span><span class="kg-bookmark-publisher">maximilianwerk</span></div></div><div class="kg-bookmark-thumbnail"><img loading="lazy" src="https://opengraph.githubassets.com/e033db22be7497426f697dc0e674faae5ef302a9b6050c32d25e7d7837b8b482/maximilianwerk/jina-sharding-analysis" alt=""></div></a></figure><div class="kg-card kg-callout-card kg-callout-card-red"><div class="kg-callout-emoji">⚠️</div><div class="kg-callout-text">This code was written for quick experimentation changes and not for beauty. You have been warned!</div></div><h3 id="experiment-1-the-basics">Experiment 1: the basics</h3><p>Let’s run two tests:</p><ul><li>1A: 4 million docs in total with 1, 2, 4 or 8 shards. (total docs are constant, docs per shard varies)</li><li>1B: 500,000 docs per shard with 1, 2, 4 or 8 shards. (total docs vary, docs per shard is constant)</li></ul><p>For each test, we run five queries. Our expectation would be to see the runtime halving for each step in 1A (blue) and a flat line for 1B (red).</p><figure class="kg-card kg-image-card"><img loading="lazy" src="https://jina-ai-gmbh.ghost.io/content/images/2022/10/experiment-1.png" class="kg-image" alt="" width="589" height="505"></figure><div class="kg-card kg-callout-card kg-callout-card-yellow"><div class="kg-callout-emoji">💡</div><div class="kg-callout-text">Don’t be shocked by the slow runtime. It’s our dummy indexer, which should not be used in production for more than 100,000 Documents.</div></div><p>Hmmm…Not quite what we expected. Let’s have a quick look at <code>htop</code> for 1 and 4 shards in experiment 1B:</p><figure class="kg-card kg-image-card kg-width-full"><img loading="lazy" src="https://jina-ai-gmbh.ghost.io/content/images/2022/10/Untitled--1--3.png" class="kg-image" alt="" width="1668" height="377" srcset="https://jina-ai-gmbh.ghost.io/content/images/size/w600/2022/10/Untitled--1--3.png 600w, https://jina-ai-gmbh.ghost.io/content/images/size/w1000/2022/10/Untitled--1--3.png 1000w, https://jina-ai-gmbh.ghost.io/content/images/size/w1600/2022/10/Untitled--1--3.png 1600w, https://jina-ai-gmbh.ghost.io/content/images/2022/10/Untitled--1--3.png 1668w"></figure><p>We see that NumPy does a pretty good job in multiprocessing itself. So when using 1 shard, we utilize ~4.5 CPUs and when using 4 shards we utilize ~8.75 CPUs. The total workload for 4 shards was 4 times as much as for 1 shard, and as such doubling the runtime seems to be legit.</p><h3 id="experiment-2-disabling-multiprocessing">Experiment 2: Disabling multiprocessing</h3><p>Now let’s run the same experiment, with NumPy multiprocessing turned off:</p><pre><code class="language-python hljs">os.environ[<span class="hljs-string">'OPENBLAS_NUM_THREADS'</span>] = <span class="hljs-string">'1'</span>
os.environ[<span class="hljs-string">'MKL_NUM_THREADS'</span>] = <span class="hljs-string">'1'</span></code></pre><figure class="kg-card kg-image-card"><img loading="lazy" src="https://jina-ai-gmbh.ghost.io/content/images/2022/10/experiment-2.png" class="kg-image" alt="" width="589" height="505"></figure><p>Whoopsie! Yes, this is almost the very same result as above. Did we really disable multiprocessing? Let’s have a look at <code>htop</code> again for one shard:</p><figure class="kg-card kg-image-card kg-width-full"><img loading="lazy" src="https://jina-ai-gmbh.ghost.io/content/images/2022/10/Untitled--2--1.png" class="kg-image" alt="" width="1673" height="177" srcset="https://jina-ai-gmbh.ghost.io/content/images/size/w600/2022/10/Untitled--2--1.png 600w, https://jina-ai-gmbh.ghost.io/content/images/size/w1000/2022/10/Untitled--2--1.png 1000w, https://jina-ai-gmbh.ghost.io/content/images/size/w1600/2022/10/Untitled--2--1.png 1600w, https://jina-ai-gmbh.ghost.io/content/images/2022/10/Untitled--2--1.png 1673w"></figure><p>Yes, there really is only one core utilized. So NumPy performs the computation at the same speed regardless of whether it’s fully using 4.5 cores or just one.</p><p>Perhaps the main computation isn’t even the cosine distance computation. Luckily, our core team just implemented tracing for Jina. Let’s take a look at the “search” span:</p><figure class="kg-card kg-image-card kg-width-full"><img loading="lazy" src="https://jina-ai-gmbh.ghost.io/content/images/2022/10/Untitled--3--1.png" class="kg-image" alt="" width="1411" height="824" srcset="https://jina-ai-gmbh.ghost.io/content/images/size/w600/2022/10/Untitled--3--1.png 600w, https://jina-ai-gmbh.ghost.io/content/images/size/w1000/2022/10/Untitled--3--1.png 1000w, https://jina-ai-gmbh.ghost.io/content/images/2022/10/Untitled--3--1.png 1411w"></figure><p>We can see my five requests and how they’re sequentially processed. The “search” span is where all the computation happens and takes almost all the time. So we have certainty that the main computation is the cosine distance. Our sharding seems to work just fine.</p><h2 id="my-theory">My theory</h2><p>I’m very grateful that I saw similar behavior some years ago. At that time, <a href="https://www.linkedin.com/in/dehora/?ref=jina-ai-gmbh.ghost.io">Bill de hÓra</a> (as a senior architect) took time to give me a hint to the solution. I’m no expert in low-level processor architecture, but let me give you my understanding of what just happened:</p><p>When you parallelize memory- and CPU-intensive workloads on a single physical chip, each processor needs to load the to-be-processed data into the lowest level cache (L1 cache). When a single core needs more than <code>1/(utilized cores)</code> of the L1 cache, the processors do their computations in a kind of round-robin fashion, constantly interrupting each other. By doing that, they are busier reloading data into the cache than performing actual computation. My processor’s specs say “Max Memory Bandwidth: 76.8 GB/s”, which should ensure I can load all the needed data into the cache in a fraction of a second.</p><p>My guess: the individual cores interrupt each other so often that they are busier loading from memory than doing the actual computation.</p><h3 id="verifying-my-theory-different-plain-matrix-multiplications">Verifying my theory: Different plain matrix multiplications</h3><p>Let's try different matrix multiplications.</p><ul><li>A: (2,000,000, 100) * (100, 100) ⇒ 2,000,000*100*100 = 2*10^10 operations</li><li>B: (3,000, 3,000) * (3,000, 3,000) ⇒ 3,000*3,000*3,000 = 2.7*10^10 operations</li></ul><p>The data loading for the same amount of basic multiplications in both cases roughly looks like this:</p><figure class="kg-card kg-image-card"><img loading="lazy" src="https://jina-ai-gmbh.ghost.io/content/images/2022/10/Sharding-matrix-multiplication--2---1--1.png" class="kg-image" alt="" width="710" height="385" srcset="https://jina-ai-gmbh.ghost.io/content/images/size/w600/2022/10/Sharding-matrix-multiplication--2---1--1.png 600w, https://jina-ai-gmbh.ghost.io/content/images/2022/10/Sharding-matrix-multiplication--2---1--1.png 710w"></figure><p>We need to load 2.5 times more data into the cache for the same amount of operations. Therefore the individual cores are more likely to need to do memory swapping.</p><figure class="kg-card kg-image-card"><img loading="lazy" src="https://jina-ai-gmbh.ghost.io/content/images/2022/10/experiment-3.png" class="kg-image" alt="" width="589" height="505"></figure><p>For unbalanced matrices we see the same behavior as in our <code>da.find()</code> experiment above. For quadratic matrices we see, that up to 8 shards there’s only a small increase in runtime and the shards behave well. I can’t judge if the runtime increases beyond 8 shards for quadratic matrices due to having only 8 high-performance CPUs and 8 low-performance CPUs, or in having the decreased part of the cache that every shard gets.</p><p>Oh, I almost forgot to mention: This experiment also shows us the bad behavior doesn’t come from the small overhead that our DocumentArray produces. Lucky us!</p><p>I also ran experiment 1B with AnnLite to see how sharding behaves with a proper implementation of HNSW (a very common vector search algorithm). </p><figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://github.com/jina-ai/annlite?ref=jina-ai-gmbh.ghost.io"><div class="kg-bookmark-content"><div class="kg-bookmark-title">GitHub - jina-ai/annlite: ⚡ A fast embedded library for approximate nearest neighbor search</div><div class="kg-bookmark-description">⚡ A fast embedded library for approximate nearest neighbor search - GitHub - jina-ai/annlite: ⚡ A fast embedded library for approximate nearest neighbor search</div><div class="kg-bookmark-metadata"><img loading="lazy" class="kg-bookmark-icon" src="https://github.com/fluidicon.png" alt=""><span class="kg-bookmark-author">GitHub</span><span class="kg-bookmark-publisher">jina-ai</span></div></div><div class="kg-bookmark-thumbnail"><img loading="lazy" src="https://repository-images.githubusercontent.com/400352346/d5e5de62-d7af-424c-b059-141e69ef3835" alt=""></div></a></figure><p>The outcome: sharding had no impact on the runtime. Tracing showed that the actual computation was blazingly fast (under 3ms). Furthermore, tracing showed that the actual computations really ran in parallel and didn’t affect each other’s runtimes.</p><div class="kg-card kg-callout-card kg-callout-card-grey"><div class="kg-callout-emoji">💡</div><div class="kg-callout-text">We've found that using sharding on multiprocessor systems to take advantage of the multiprocessor architecture may not work as well as expected. We suspect the cause is shared low-level resources.</div></div><h2 id="conclusion">Conclusion</h2><p>Luckily for us, sharding works just fine in a real world scenario. In a future post we’ll look at sharding across different machines. Given the traces above (and a lot of other traces I looked upon during the process) it should work just fine.</p><p>But multiprocessing memory- <strong>and</strong> CPU-intensive work on one machine is tricky. What I find really concerning: <strong>A lot of computations are run on the cloud, where we have no control over the hardware.</strong></p><p>Coming back to our cake search engine: Let’s say Katie’s company is starting to grow and wants to run the service on the cloud, via multiple virtual machines. There’s no guarantee that these are independent physical machines - they could all be running on the same box with the same L1 cache, and thus ruin Katie’s performance. That would really leave a bad taste in her mouth.</p><p align="center"><img loading="lazy" src="https://media.tenor.com/krqwU2K9hq8AAAAC/elliegato-pound-cake.gif" class="kg-image" alt="" width="200"></p><p>Perhaps worse: When using Kubernetes we often explicitly have multiple Pods on the same machine. Even when the neighbors are not noisy in the sense of over-utilizing CPU/memory resources, they can have a workload that does bad things to low-level cache or another non-obvious resource and slow neighbors down.</p><hr><p>Do you like the post, or think my low-level cache analysis or conclusion is wrong? Talk to me in the comments or on <a href="https://www.twitter.com/maximilianwerk?ref=jina-ai-gmbh.ghost.io">Twitter</a>.</p></section></article><hr data-v-7478c13a="" class="q-separator q-separator--horizontal q-separator--dark q-mt-xl" aria-orientation="horizontal"><div data-v-7478c13a="" class="row justify-between items-center q-py-md"><div data-v-7478c13a=""><span data-v-7478c13a="" class="text-weight-bold">Categories:</span><span data-v-7478c13a="" class="q-ml-md"><div class="q-chip row inline no-wrap items-center q-chip--outline q-chip--square q-chip--dark q-dark non-selectable no-border-radius" style="font-size: 10px;"><div class="q-chip__content col row no-wrap items-center q-anchor--skip"><div class="ellipsis">Tech blog</div></div></div></span></div><div data-v-7478c13a=""><a data-v-7478c13a="" href="https://news.ycombinator.com/submitlink?u=http%3A%2F%2F127.0.0.1%3A3000%2Fnews%2Fits-hard-to-shard%2F" target="_blank" rel="nofollow noopener noreferrer" aria-label="Share this with HackerNews. (opens in new window)"><div data-v-7478c13a="" class="q-img q-img--menu inline-block q-mr-md" role="img" size="40px" style="width: 24px; height: 24px;"><div style="padding-bottom: 100%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" height="0" width="0" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="/assets/hacker-news.e100deed.svg" style="object-fit: contain; object-position: 50% 50%;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></a><a data-v-7478c13a="" href="https://www.linkedin.com/sharing/share-offsite/?url=http%3A%2F%2F127.0.0.1%3A3000%2Fnews%2Fits-hard-to-shard%2F" target="_blank" rel="nofollow noopener noreferrer" aria-label="Share this with LinkedIn. (opens in new window)"><div data-v-7478c13a="" class="q-img q-img--menu inline-block q-mr-md" role="img" size="40px" style="width: 24px; height: 24px;"><div style="padding-bottom: 100%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" height="0" width="0" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="/assets/linkedin-logo.e0fc6323.svg" style="object-fit: contain; object-position: 50% 50%;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></a><a data-v-7478c13a="" href="https://twitter.com/intent/tweet?url=http%3A%2F%2F127.0.0.1%3A3000%2Fnews%2Fits-hard-to-shard%2F" target="_blank" rel="nofollow noopener noreferrer" aria-label="Share this with Twitter. (opens in new window)"><div data-v-7478c13a="" class="q-img q-img--menu inline-block q-mr-md" role="img" size="40px" style="width: 24px; height: 24px;"><div style="padding-bottom: 100%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" height="0" width="0" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="/assets/twitter-logo.1c6cc30c.svg" style="object-fit: contain; object-position: 50% 50%;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></a><a data-v-7478c13a="" href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2F127.0.0.1%3A3000%2Fnews%2Fits-hard-to-shard%2F" target="_blank" rel="nofollow noopener noreferrer" aria-label="Share this with Facebook. (opens in new window)"><div data-v-7478c13a="" class="q-img q-img--menu inline-block q-mr-md" role="img" size="40px" style="width: 24px; height: 24px;"><div style="padding-bottom: 100%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" height="0" width="0" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="/assets/facebook-logo.60334dbf.svg" style="object-fit: contain; object-position: 50% 50%;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></a><a data-v-7478c13a="" href="https://reddit.com/submit?url=http%3A%2F%2F127.0.0.1%3A3000%2Fnews%2Fits-hard-to-shard%2F" target="_blank" rel="nofollow noopener noreferrer" aria-label="Share this with Reddit. (opens in new window)"><div data-v-7478c13a="" class="q-img q-img--menu inline-block q-mr-md" role="img" size="40px" style="width: 24px; height: 24px;"><div style="padding-bottom: 100%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" height="0" width="0" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="/assets/reddit-logo.6852dc89.svg" style="object-fit: contain; object-position: 50% 50%;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></a></div></div><hr data-v-7478c13a="" class="q-separator q-separator--horizontal q-separator--dark" aria-orientation="horizontal"><div data-v-7478c13a="" class="text-h6 text-grey-2 text-weight-bold q-mt-lg">Learn more</div><a data-v-7478c13a="" class="q-card q-card--dark q-dark q-card--flat no-shadow block cursor-pointer q-hoverable non-selectable q-my-md" href="/news/jina-embeddings-2-the-best-solution-for-embedding-long-documents" target="_blank" style="overflow: hidden; text-decoration: none !important;"><span class="q-focus-helper"></span><div class="q-card__section q-card__section--horiz row no-wrap row justify-between full-height q-pa-none"><div class="q-card__section q-card__section--vert column justify-between"><div class="q-item q-item-type row no-wrap q-item--dark" role="listitem"><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label text-h5 text-weight-light q-mb-lg" style="overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2;">Jina Embeddings 2: The Best Solution for Embedding Long Documents</div><div class="q-item__label q-item__label--caption text-caption" style="overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 3;">With Jina Embeddings 2 models you get high-quality embeddings from an open-source, downloadable model with an input size of 8,192 tokens.</div></div></div><div class="q-item q-item-type row no-wrap q-item--dark" role="listitem"><div data-v-363418f9="" class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div data-v-363418f9="" class="relative-position" style="height: 30px; width: 30px;"><div data-v-363418f9="" class="q-avatar bg-grey-9 overlapping" style="font-size: 30px; left: 0px;"><div class="q-avatar__content row flex-center overflow-hidden"><div data-v-363418f9="" class="q-img q-img--menu" role="img"><div style="padding-bottom: 118.041%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="https://jina-ai-gmbh.ghost.io/content/images/2022/11/photo-of-me-cropped.jpg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></div></div></div></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">Scott Martens</div><div class="q-item__label q-item__label--caption text-caption">November 02, 2023 • 7 minutes read</div></div></div></div><div class="q-img q-img--menu col-4" role="img"><div style="padding-bottom: 56.25%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="https://jina-ai-gmbh.ghost.io/content/images/2023/11/Blog-images--7-.jpg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></div></a><a data-v-7478c13a="" class="q-card q-card--dark q-dark q-card--flat no-shadow block cursor-pointer q-hoverable non-selectable q-my-md" href="/news/are-you-ready-for-this-jelly-scenexplains-new-algo-kills-hallucinations-dead" target="_blank" style="overflow: hidden; text-decoration: none !important;"><span class="q-focus-helper"></span><div class="q-card__section q-card__section--horiz row no-wrap row justify-between full-height q-pa-none"><div class="q-card__section q-card__section--vert column justify-between"><div class="q-item q-item-type row no-wrap q-item--dark" role="listitem"><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label text-h5 text-weight-light q-mb-lg" style="overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2;">Are you ready for this Jelly? SceneXplain’s new algo kills hallucinations dead</div><div class="q-item__label q-item__label--caption text-caption" style="overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 3;">SceneXplain's state-of-the-art Jelly algorithm is more concise, readable and accurate than ever before, while killing hallucinations.</div></div></div><div class="q-item q-item-type row no-wrap q-item--dark" role="listitem"><div data-v-363418f9="" class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div data-v-363418f9="" class="relative-position" style="height: 30px; width: 30px;"><div data-v-363418f9="" class="q-avatar bg-grey-9 overlapping" style="font-size: 30px; left: 0px;"><div class="q-avatar__content row flex-center overflow-hidden"><div data-v-363418f9="" class="q-img q-img--menu" role="img"><div style="padding-bottom: 100%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="https://jina-ai-gmbh.ghost.io/content/images/2022/09/alex.jpg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></div></div></div></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">Alex C-G</div><div class="q-item__label q-item__label--caption text-caption">October 25, 2023 • 10 minutes read</div></div></div></div><div class="q-img q-img--menu col-4" role="img"><div style="padding-bottom: 56.044%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="https://jina-ai-gmbh.ghost.io/content/images/2023/10/image.png" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></div></a><a data-v-7478c13a="" class="q-card q-card--dark q-dark q-card--flat no-shadow block cursor-pointer q-hoverable non-selectable q-my-md" href="/news/how-embeddings-drive-ai-a-guide" target="_blank" style="overflow: hidden; text-decoration: none !important;"><span class="q-focus-helper"></span><div class="q-card__section q-card__section--horiz row no-wrap row justify-between full-height q-pa-none"><div class="q-card__section q-card__section--vert column justify-between"><div class="q-item q-item-type row no-wrap q-item--dark" role="listitem"><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label text-h5 text-weight-light q-mb-lg" style="overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2;">How Embeddings Drive AI: A Comprehensive Presentation</div><div class="q-item__label q-item__label--caption text-caption" style="overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 3;">Embeddings are a core concept and technology in AI, present in some form across the spectrum of AI applications. Properly understanding and mastering this technology positions you to leverage AI models to add the most value to your business.</div></div></div><div class="q-item q-item-type row no-wrap q-item--dark" role="listitem"><div data-v-363418f9="" class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div data-v-363418f9="" class="relative-position" style="height: 30px; width: 30px;"><div data-v-363418f9="" class="q-avatar bg-grey-9 overlapping" style="font-size: 30px; left: 0px;"><div class="q-avatar__content row flex-center overflow-hidden"><div data-v-363418f9="" class="q-img q-img--menu" role="img"><div style="padding-bottom: 118.041%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="https://jina-ai-gmbh.ghost.io/content/images/2022/11/photo-of-me-cropped.jpg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></div></div></div></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">Scott Martens</div><div class="q-item__label q-item__label--caption text-caption">October 19, 2023 • 7 minutes read</div></div></div></div><div class="q-img q-img--menu col-4" role="img"><div style="padding-bottom: 56.25%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="https://jina-ai-gmbh.ghost.io/content/images/2023/10/Blog-images--5-.jpg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></div></a></div></div></div></div></div></main></div><div class="q-card q-card--dark q-dark q-card--flat no-shadow overflow-hidden print-hide"><video autoplay="" loop="" playsinline="" class="non-selectable" poster="/assets/portal-2-poster.44997122.webp" style="width: 100%; height: 420px; object-fit: cover;"><source src="/assets/portal-2.0da13c26.mp4" type="video/mp4"></video><div class="q-card q-card--dark q-dark q-card--flat no-shadow row absolute-left items-center bg-transparent non-selectable fit"><div class="text-white bg-transparent lock-blur fit q-pa-sm"><div class="row justify-between q-gutter-lg"><div class="col-12 col-md-3"><div class="q-list q-list--dark"><div class="q-item q-item-type row no-wrap q-item--dark" role="listitem"><strong>Offices</strong></div><div class="q-item q-item-type row no-wrap q-item--dark" role="listitem"><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><i class="q-icon notranslate material-icons" aria-hidden="true" role="presentation" style="font-size: 32px;">location_on</i></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">Berlin, Germany (HQ)</div><div class="q-item__label q-item__label--caption text-caption">Ohlauer Str. 43 (1st floor), zone A, 10999 Berlin, Germany</div><div class="q-item__label q-item__label--caption text-caption">Geschäftsanschrift: Leipziger str. 96, 10117 Berlin, Germany</div></div></div><div class="q-item q-item-type row no-wrap q-item--dark" role="listitem"><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><i class="q-icon notranslate material-icons" aria-hidden="true" role="presentation" style="font-size: 32px;">location_on</i></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">Beijing, China</div><div class="q-item__label q-item__label--caption text-caption">Level 5, Building 6, No.48 Haidian West St. Beijing Haidian, China</div></div></div><div class="q-item q-item-type row no-wrap q-item--dark" role="listitem"><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><i class="q-icon notranslate material-icons" aria-hidden="true" role="presentation" style="font-size: 32px;">location_on</i></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">Shenzhen, China</div><div class="q-item__label q-item__label--caption text-caption">402, Floor 4, Fu'an Technology Building, Shenzhen Nanshan, China</div></div></div></div></div></div><div class="row text-caption justify-center q-mt-xl"> © Jina AI GmbH 2020-2023. All rights reserved.</div></div></div></div><footer class="q-footer q-layout__section--marginal fixed-bottom lock-blur bg-transparent print-hide"><div class="row"><div class="q-btn-group row no-wrap q-btn-group--flat inline col-12 col-md-6 justify-center"><a class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--actionable q-focusable q-hoverable" tabindex="0" href="https://discord.jina.ai" target="_blank" style="font-size: 10px; padding: 8px; min-width: 0px; min-height: 0px;"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><i class="q-icon fa-brands fa-discord" aria-hidden="true" role="img"> </i></span></a><a class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--actionable q-focusable q-hoverable" tabindex="0" href="https://github.com/jina-ai" target="_blank" style="font-size: 10px; padding: 8px; min-width: 0px; min-height: 0px;"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><i class="q-icon fa-brands fa-github" aria-hidden="true" role="img"> </i></span></a><a class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--actionable q-focusable q-hoverable" tabindex="0" href="https://huggingface.co/jinaai" target="_blank" style="font-size: 10px; padding: 8px; min-width: 0px; min-height: 0px;"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><span class="q-icon" aria-hidden="true" role="img"><img src="/huggingface_logo.svg"></span></span></a><a class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--actionable q-focusable q-hoverable" tabindex="0" href="https://www.linkedin.com/company/jinaai/" target="_blank" style="font-size: 10px; padding: 8px; min-width: 0px; min-height: 0px;"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><i class="q-icon fa-brands fa-linkedin" aria-hidden="true" role="img"> </i></span></a><a class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--actionable q-focusable q-hoverable" tabindex="0" href="https://twitter.com/jinaAI_/" target="_blank" style="font-size: 10px; padding: 8px; min-width: 0px; min-height: 0px;"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><i class="q-icon fa-brands fa-twitter" aria-hidden="true" role="img"> </i></span></a><button class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--actionable q-focusable q-hoverable" tabindex="0" type="button" style="font-size: 10px; padding: 8px; min-width: 0px; min-height: 0px;"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><i class="q-icon fa-brands fa-weixin" aria-hidden="true" role="img"> </i></span></button><a class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--actionable q-focusable q-hoverable" tabindex="0" href="https://www.youtube.com/c/JinaAI" target="_blank" style="font-size: 10px; padding: 8px; min-width: 0px; min-height: 0px;"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><i class="q-icon fa-brands fa-youtube" aria-hidden="true" role="img"> </i></span></a><a class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--actionable q-focusable q-hoverable" tabindex="0" href="https://www.meetup.com/jina-community-meetup/" target="_blank" style="font-size: 10px; padding: 8px; min-width: 0px; min-height: 0px;"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><i class="q-icon fa-brands fa-meetup" aria-hidden="true" role="img"> </i></span></a><a class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--actionable q-focusable q-hoverable" tabindex="0" href="mailto:support@jina.ai" target="_blank" style="font-size: 10px; padding: 8px; min-width: 0px; min-height: 0px;"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><i class="q-icon notranslate material-icons" aria-hidden="true" role="img">email</i></span></a></div><div class="row col-12 col-md-6 items-center text-caption justify-center"><div class="q-btn-group row no-wrap q-btn-group--flat q-btn-group--stretch inline" no-caps=""><a class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--actionable q-focusable q-hoverable q-btn--no-uppercase no-border-radius self-stretch text-caption" tabindex="0" href="/legal/#privacy-policy" style="padding: 8px; min-width: 0px; min-height: 0px;"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><span class="block">Privacy Policy</span></span></a><a class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--actionable q-focusable q-hoverable q-btn--no-uppercase no-border-radius self-stretch text-caption" tabindex="0" href="/legal/#terms-and-conditions" style="padding: 8px; min-width: 0px; min-height: 0px;"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><span class="block">Terms and Conditions</span></span></a><a class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--actionable q-focusable q-hoverable q-btn--no-uppercase no-border-radius self-stretch text-caption" tabindex="0" href="javascript:UC_UI.showSecondLayer();" style="padding: 8px; min-width: 0px; min-height: 0px;"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><span class="block">Privacy Settings</span></span></a></div></div></div></footer></div></div><div id="q-notify" data-v-app=""><div class="q-notifications"><div class="q-notifications__list q-notifications__list--top fixed column no-wrap items-start"></div><div class="q-notifications__list q-notifications__list--top fixed column no-wrap items-end"></div><div class="q-notifications__list q-notifications__list--bottom fixed column no-wrap items-start"></div><div class="q-notifications__list q-notifications__list--bottom fixed column no-wrap items-end"></div><div class="q-notifications__list q-notifications__list--top fixed column no-wrap items-center"></div><div class="q-notifications__list q-notifications__list--bottom fixed column no-wrap items-center"></div><div class="q-notifications__list q-notifications__list--center fixed column no-wrap items-start justify-center"></div><div class="q-notifications__list q-notifications__list--center fixed column no-wrap items-end justify-center"></div><div class="q-notifications__list q-notifications__list--center fixed column no-wrap flex-center"></div></div></div></body></html>