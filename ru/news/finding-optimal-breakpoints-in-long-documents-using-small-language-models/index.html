<!DOCTYPE html><html translate="no" dir="ltr" lang="ru"><head><title>Поиск оптимальных точек перелома в длинных документах с помощью малых языковых моделей</title><meta charset="utf-8"><meta name="title" content="Поиск оптимальных точек перелома в длинных документах с помощью малых языковых моделей"><meta name="description" content="Мы обучили три небольшие языковые модели для лучшего разделения длинных документов на фрагменты и вот основные выводы, которые мы сделали."><meta property="og:type" content="website"><meta property="og:url" content="https://jina.ai/news/finding-optimal-breakpoints-in-long-documents-using-small-language-models"><meta property="og:title" content="Поиск оптимальных точек перелома в длинных документах с помощью малых языковых моделей"><meta property="og:description" content="Мы обучили три небольшие языковые модели для лучшего разделения длинных документов на фрагменты и вот основные выводы, которые мы сделали."><meta property="og:image" content="https://jina-ai-gmbh.ghost.io/content/images/2024/10/breakpoints.png"><meta property="twitter:site" content="@JinaAI_"><meta name="twitter:creator" content="@JinaAI_"><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://jina.ai/news/finding-optimal-breakpoints-in-long-documents-using-small-language-models"><meta property="twitter:title" content="Поиск оптимальных точек перелома в длинных документах с помощью малых языковых моделей"><meta property="twitter:description" content="Мы обучили три небольшие языковые модели для лучшего разделения длинных документов на фрагменты и вот основные выводы, которые мы сделали."><meta property="twitter:image" content="https://jina-ai-gmbh.ghost.io/content/images/2024/10/breakpoints.png"><meta name="format-detection" content="telephone=no"><meta name="msapplication-tap-highlight" content="no"><meta name="viewport" content="user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1,width=device-width"><link rel="icon" type="image/png" sizes="128x128" href="/icons/favicon-128x128.png"><link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png"><link rel="icon" type="image/ico" href="/favicon.ico"><link rel="apple-touch-startup-image" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3)" href="/icons/apple-launch-1284x2778.png"><link rel="apple-touch-startup-image" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3)" href="/icons/apple-launch-1170x2532.png"><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-828x1792.png"><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)" href="/icons/apple-launch-1125x2436.png"><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)" href="/icons/apple-launch-1242x2688.png"><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-750x1334.png"><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3)" href="/icons/apple-launch-1242x2208.png"><link rel="apple-touch-startup-image" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-1620x2160.png"><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-1536x2048.png"><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-1668x2224.png"><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-1668x2388.png"><link rel="apple-touch-startup-image" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)" href="/icons/apple-launch-2048x2732.png"><style>body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    }</style>  <script type="module" crossorigin="" src="/assets/index-CNxRRvi6.js"></script>
  <link rel="stylesheet" crossorigin="" href="/assets/index-CRvJtbiE.css">
<link rel="modulepreload" as="script" crossorigin="" href="/assets/i18n-CGhGwfvw.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/dynamic-import-helper-BheWnx7M.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/index-Eo0kYxJG.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/register-CYHCFlwV.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/QTooltip-DhotFS0T.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/position-engine-ChLcirF9.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/copy-to-clipboard-DMKghpXJ.js"><link rel="stylesheet" crossorigin="" href="/assets/prism-tomorrow-CHcPHExe.css"><link rel="modulepreload" as="script" crossorigin="" href="/assets/ru-CJwv998q.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/index-sFLS0J54.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/en-B3at9lMY.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/MainLayout-CkNZIIWP.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/use-dialog-plugin-component-CVzXx_xf.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/_setToArray-C6nB_MsM.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/QBadge-Dj149qtI.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/PurchaseSuccessDialog-DDgOfsKA.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/QItemLabel-C25DziD8.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/QBtnDropdown-BKrks-BF.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/QChip-CLZgXYWd.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/QMenu-BSdNc5SB.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/QList-DNkcIkB0.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/QLinearProgress-DrltYmzX.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/QLayout-BhePeLtz.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/QResizeObserver-C-i1SBsM.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/TouchPan-ByCgy1Is.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/touch-BjYP5sR0.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/QExpansionItem-DZ18pgNg.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/QSpinnerRings-DEBJMlxe.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/ClosePopup-CTktk7iy.js"><link rel="stylesheet" crossorigin="" href="/assets/QSpinnerRings-Cva-Yr8q.css"><link rel="modulepreload" as="script" crossorigin="" href="/assets/blogs-vfk0IlQM.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/search-CaVlSg2N.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/useRoute-BW8my4G4.js"><link rel="stylesheet" crossorigin="" href="/assets/MainLayout-B_CyKxBv.css"><link rel="modulepreload" as="script" crossorigin="" href="/assets/NewsPage-DCosUcCG.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/QPage-C-w_BjVp.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/NewsBadge-DZoP6Cf6.js"><link rel="modulepreload" as="script" crossorigin="" href="/assets/SXTooltip-DEYsjdez.js"><link rel="stylesheet" crossorigin="" href="/assets/SXTooltip-vcpvmx2_.css"><link rel="modulepreload" as="script" crossorigin="" href="/assets/NewsVerticalCard-CXa-WjDj.js"><link rel="stylesheet" crossorigin="" href="/assets/NewsVerticalCard-Dppj5U4D.css"><link rel="modulepreload" as="script" crossorigin="" href="/assets/useModels-C_TQJU5F.js"><link rel="stylesheet" crossorigin="" href="/assets/NewsPage-CbLKrWCf.css"><script src="https://www.googletagmanager.com/gtag/js?l=dataLayer&amp;id=G-4GEXCSE3MV" async=""></script><script src="https://jina-ai-gmbh.ghost.io/public/cards.min.js" async=""></script><meta name="author" content="Alex C-G, Andrei Ungureanu"><meta property="twitter:label1" content="Written by"><meta property="twitter:data1" content="Alex C-G, Andrei Ungureanu"><meta property="twitter:label2" content="Reading time"><meta property="twitter:data2" content="19 mins read"><meta property="article:published_time" content="2024-10-25T10:35:07.000+02:00"><meta property="article:modified_time" content="2024-10-25T20:14:53.000+02:00"><script type="application/ld+json" data-qmeta="ldJson">{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": "Поиск оптимальных точек перелома в длинных документах с помощью малых языковых моделей",
  "description": "Мы обучили три небольшие языковые модели для лучшего разделения длинных документов на фрагменты и вот основные выводы, которые мы сделали.",
  "image": [
    "https://jina-ai-gmbh.ghost.io/content/images/2024/10/breakpoints.png"
  ],
  "datePublished": "2024-10-25T10:35:07.000+02:00",
  "dateModified": "2024-10-25T20:14:53.000+02:00",
  "author": [
    {
      "@type": "Person",
      "name": "Alex C-G",
      "url": "https://jina-ai-gmbh.ghost.io/author/alexcg/"
    },
    {
      "@type": "Person",
      "name": "Andrei Ungureanu",
      "url": "https://jina-ai-gmbh.ghost.io/author/andrei/"
    }
  ],
  "publisher": {
    "@type": "Organization",
    "name": "Jina AI",
    "url": "https://jina.ai"
  }
}</script><script prerender-ignore id=usercentrics-cmp src=https://web.cmp.usercentrics.eu/ui/loader.js data-settings-id=w5v6v2pJsC3wdR async></script><script prerender-ignore src="https://www.googletagmanager.com/gtag/js?id=G-9T52NXDS9T" async></script><script prerender-ignore>window.dataLayer = window.dataLayer || [];

  function gtag() {
    dataLayer.push(arguments);
  }

  gtag('js', new Date());

  gtag('config', 'G-9T52NXDS9T');</script></head><body class="desktop no-touch body--dark"><div id="q-app" data-v-app class="hidden"><div class="q-layout q-layout--standard" tabindex="-1" style="min-height: 600px;"><header class="q-header q-layout__section--marginal fixed-top lock-blur bg-transparent print-hide"><div class="q-toolbar row no-wrap items-center q-px-none relative-position" role="toolbar"><a class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--actionable q-focusable q-hoverable q-btn--dense no-border-radius self-stretch q-px-md q-pa-none" tabindex="0" href="/" style="font-size: 2em;"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><i class="q-icon" aria-hidden="true" role="img"><img src="/Jina - Dark.svg"></i></span></a><div class="q-space"></div><button class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle text- q-btn--actionable q-focusable q-hoverable no-border-radius self-stretch" tabindex="0" type="button"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><i class="q-icon notranslate material-symbols material-symbols-sharp" aria-hidden="true" role="img">search</i></span></button><button class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--actionable q-focusable q-hoverable no-border-radius self-stretch" tabindex="0" type="button"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><i class="q-icon notranslate material-symbols material-symbols-sharp" aria-hidden="true" role="img">reorder</i></span></button></div></header><div class="q-drawer-container"><div class="q-drawer__opener fixed-right" aria-hidden="true"></div><div class="fullscreen q-drawer__backdrop hidden" aria-hidden="true" style="background-color: rgba(0, 0, 0, 0);"></div><aside class="q-drawer q-drawer--right q-drawer--bordered q-drawer--dark q-dark q-layout--prevent-focus fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding" style="width: 300px; transform: translateX(300px);"><div class="q-drawer__content fit scroll column"><div class="q-scrollarea q-scrollarea--dark" style="flex-grow: 1;"><div class="q-scrollarea__container scroll relative-position fit hide-scrollbar"><div class="q-scrollarea__content absolute"><div class="q-list q-list--dark" role="list"><a class="q-item q-item-type row no-wrap q-item--dark q-item--active q-router-link--active q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="/news"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">Новости</div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="/models"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">Модели</div></a><div class="q-expansion-item q-item-type q-expansion-item--collapsed q-expansion-item--standard"><div class="q-expansion-item__container relative-position"><div class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="button" tabindex="0" aria-expanded="false" aria-controls="f_1fa5a33e-508b-4bbc-be3c-0e10a457bc7d" aria-label="Расширьте &quot;Продукты&quot;"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">Продукты</div></div><div class="q-item__section column q-item__section--side justify-center q-focusable relative-position cursor-pointer"><i class="q-icon notranslate material-symbols material-symbols-sharp q-expansion-item__toggle-icon" aria-hidden="true" role="presentation">keyboard_arrow_down</i></div></div><div class="q-expansion-item__content relative-position" id="f_1fa5a33e-508b-4bbc-be3c-0e10a457bc7d" style="display: none;"><div class="q-list q-list--dark" role="list" label="Продукты"><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="/reader"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div class="q-img q-img--menu" role="img"><div style="padding-bottom: 56.2493%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--current" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="/assets/reader-D06QTWF1.svg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__loading absolute-full flex flex-center"><svg class="q-spinner q-spinner-mat" width="1em" height="1em" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg></div></div></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">Читатель</div><div class="q-item__label q-item__label--caption text-caption">Читайте URL-адреса и ищите информацию в Интернете для получения более подходящей подготовки для получения степени магистра права.</div></div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="/embeddings"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div class="q-img q-img--menu" role="img"><div style="padding-bottom: 56.2493%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--current" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="/assets/embedding-DzEuY8_E.svg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__loading absolute-full flex flex-center"><svg class="q-spinner q-spinner-mat" width="1em" height="1em" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg></div></div></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">Вложения</div><div class="q-item__label q-item__label--caption text-caption">Мультимодальные многоязычные вложения мирового класса.</div></div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="/reranker"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div class="q-img q-img--menu" role="img"><div style="padding-bottom: 56.2493%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--current" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="/assets/reranker-DudpN0Ck.svg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__loading absolute-full flex flex-center"><svg class="q-spinner q-spinner-mat" width="1em" height="1em" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg></div></div></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">Реранкер</div><div class="q-item__label q-item__label--caption text-caption">Нейронный ретривер мирового класса для максимального повышения релевантности поиска.</div></div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="/classifier"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div class="q-img q-img--menu" role="img"><div style="padding-bottom: 100%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="data:image/svg+xml,%3csvg%20width='240'%20height='240'%20viewBox='0%200%20240%20240'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M152.304%20184.388L184.388%20152.304H152.304V184.388ZM146.922%20190.885V149.613C146.922%20148.127%20148.127%20146.922%20149.613%20146.922H190.886C193.283%20146.922%20194.484%20149.821%20192.789%20151.516L151.516%20192.788C149.821%20194.484%20146.922%20193.283%20146.922%20190.885Z'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M152.304%20133.927L184.388%20101.843H152.304V133.927ZM146.922%20140.424V99.1521C146.922%2097.6657%20148.127%2096.4608%20149.613%2096.4608H190.886C193.283%2096.4608%20194.484%2099.3597%20192.789%20101.055L151.516%20142.327C149.821%20144.023%20146.922%20142.822%20146.922%20140.424Z'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M51.3828%20184.806L83.4668%20152.722H51.3828V184.806ZM46.0003%20191.303V150.031C46.0003%20148.545%2047.2053%20147.34%2048.6916%20147.34H89.964C92.3616%20147.34%2093.5624%20150.239%2091.867%20151.934L50.5946%20193.206C48.8992%20194.902%2046.0003%20193.701%2046.0003%20191.303Z'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M101.843%20184.388L133.927%20152.304H101.843V184.388ZM96.4608%20190.885V149.613C96.4608%20148.127%2097.6657%20146.922%2099.152%20146.922H140.424C142.822%20146.922%20144.023%20149.821%20142.327%20151.516L101.055%20192.788C99.3597%20194.484%2096.4608%20193.283%2096.4608%20190.885Z'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M101.843%20133.927L133.927%20101.843H101.843V133.927ZM96.4608%20140.424V99.1521C96.4608%2097.6657%2097.6657%2096.4608%2099.152%2096.4608H140.424C142.822%2096.4608%20144.023%2099.3597%20142.327%20101.055L101.055%20142.327C99.3597%20144.023%2096.4608%20142.822%2096.4608%20140.424Z'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M101.843%2083.4664L133.927%2051.3825H101.843V83.4664ZM96.4608%2089.9637V48.6913C96.4608%2047.2049%2097.6657%2046%2099.152%2046H140.424C142.822%2046%20144.023%2048.8989%20142.327%2050.5943L101.055%2091.8667C99.3597%2093.5621%2096.4608%2092.3613%2096.4608%2089.9637Z'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M51.3828%20132.808L83.4668%20100.725H51.3828V132.808ZM46.0003%20139.306V98.0333C46.0003%2096.547%2047.2053%2095.3421%2048.6916%2095.3421H89.964C92.3616%2095.3421%2093.5624%2098.2409%2091.867%2099.9363L50.5946%20141.209C48.8992%20142.904%2046.0003%20141.703%2046.0003%20139.306Z'%20fill='white'/%3e%3cpath%20d='M190.891%2046H149.619C147.221%2046%20146.02%2048.8989%20147.716%2050.5943L188.988%2091.8667C190.683%2093.5621%20193.582%2092.3613%20193.582%2089.9637V48.6913C193.582%2047.2049%20192.377%2046%20190.891%2046Z'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M51.3826%2083.4664L83.4665%2051.3825H51.3826V83.4664ZM46.0001%2089.9637V48.6913C46.0001%2047.2049%2047.205%2046%2048.6914%2046H89.9638C92.3614%2046%2093.5621%2048.8989%2091.8668%2050.5943L50.5944%2091.8667C48.899%2093.5621%2046.0001%2092.3613%2046.0001%2089.9637Z'%20fill='white'/%3e%3c/svg%3e" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">Классификатор</div><div class="q-item__label q-item__label--caption text-caption">Классификация изображений и текста по нулевому и небольшому количеству кадров.</div></div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="/segmenter"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div class="q-img q-img--menu" role="img"><div style="padding-bottom: 100%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='320'%20zoomAndPan='magnify'%20viewBox='0%200%20240%20239.999995'%20height='320'%20preserveAspectRatio='xMidYMid%20meet'%20version='1.0'%3e%3cpath%20fill='%23ffffff'%20d='M%20132.328125%2039%20L%20144.652344%2060.351562%20L%20132.328125%2081.699219%20L%20107.675781%2081.699219%20L%2095.347656%2060.351562%20L%20107.675781%2039%20Z%20M%20184.96875%2058.523438%20L%20202%2088.023438%20L%20184.96875%20117.527344%20L%20153.011719%20117.527344%20L%20138.085938%20143.375%20L%20154.066406%20171.050781%20L%20137.03125%20200.554688%20L%20102.964844%20200.554688%20L%2085.933594%20171.050781%20L%20101.910156%20143.375%20L%2086.988281%20117.527344%20L%2055.03125%20117.527344%20L%2038%2088.027344%20L%2055.03125%2058.523438%20L%2089.097656%2058.523438%20L%20105.074219%2086.199219%20L%20134.921875%2086.199219%20L%20150.902344%2058.523438%20Z%20M%2057.140625%20113.875%20L%2086.988281%20113.875%20L%20101.914062%2088.023438%20L%2086.988281%2062.175781%20L%2057.140625%2062.175781%20L%2042.21875%2088.027344%20Z%20M%20105.074219%20141.550781%20L%2090.152344%20115.703125%20L%20105.078125%2089.851562%20L%20134.921875%2089.851562%20L%20149.847656%20115.699219%20L%20134.925781%20141.550781%20Z%20M%20138.085938%2088.023438%20L%20153.011719%2062.175781%20L%20182.859375%2062.175781%20L%20197.78125%2088.023438%20L%20182.859375%20113.875%20L%20153.011719%20113.875%20Z%20M%20105.074219%20145.203125%20L%2090.152344%20171.050781%20L%20105.074219%20196.902344%20L%20134.921875%20196.902344%20L%20149.847656%20171.050781%20L%20134.921875%20145.203125%20Z%20M%2096.71875%20143.375%20L%2084.390625%20122.027344%20L%2059.738281%20122.027344%20L%2047.414062%20143.375%20L%2059.738281%20164.726562%20L%2084.390625%20164.726562%20Z%20M%20192.585938%20143.375%20L%20180.261719%20122.023438%20L%20155.605469%20122.023438%20L%20143.28125%20143.375%20L%20155.605469%20164.726562%20L%20180.261719%20164.726562%20Z%20M%20192.585938%20143.375%20'%20fill-opacity='1'%20fill-rule='evenodd'/%3e%3c/svg%3e" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">Сегментатор</div><div class="q-item__label q-item__label--caption text-caption">Разрежьте длинный текст на куски и выполните токенизацию.</div></div></a></div></div><hr class="q-separator q-separator--horizontal q-separator--dark q-expansion-item__border q-expansion-item__border--top absolute-top" aria-orientation="horizontal"><hr class="q-separator q-separator--horizontal q-separator--dark q-expansion-item__border q-expansion-item__border--bottom absolute-bottom" aria-orientation="horizontal"></div></div><div class="q-expansion-item q-item-type q-expansion-item--collapsed q-expansion-item--standard"><div class="q-expansion-item__container relative-position"><div class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="button" tabindex="0" aria-expanded="false" aria-controls="f_dafa5665-96ea-4695-a9f1-ae3d8c56b633" aria-label="Расширьте &quot;Компания&quot;"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">Компания</div></div><div class="q-item__section column q-item__section--side justify-center q-focusable relative-position cursor-pointer"><i class="q-icon notranslate material-symbols material-symbols-sharp q-expansion-item__toggle-icon" aria-hidden="true" role="presentation">keyboard_arrow_down</i></div></div><div class="q-expansion-item__content relative-position" id="f_dafa5665-96ea-4695-a9f1-ae3d8c56b633" style="display: none;"><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable q-pa-md" role="listitem" tabindex="0" href="/about-us"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">О нас</div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable q-pa-md" role="listitem" tabindex="0" href="/contact-sales"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">Связаться с отделом продаж</div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable q-pa-md" role="listitem" tabindex="0" href="/internship"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">Стажерская программа</div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable q-pa-md" role="listitem" tabindex="0" href="https://career.jina.ai/" target="_blank"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">Присоединяйтесь к нам</div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><i class="q-icon notranslate material-symbols material-symbols-sharp" aria-hidden="true" role="presentation">open_in_new</i></div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable q-pa-md" role="listitem" tabindex="0" href="/logo-Jina-1024.zip" target="_blank"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">Скачать логотип</div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><i class="q-icon notranslate material-symbols material-symbols-sharp" aria-hidden="true" role="presentation">open_in_new</i></div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable q-pa-md" role="listitem" tabindex="0" href="/legal"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">Условия использования</div></a></div><hr class="q-separator q-separator--horizontal q-separator--dark q-expansion-item__border q-expansion-item__border--top absolute-top" aria-orientation="horizontal"><hr class="q-separator q-separator--horizontal q-separator--dark q-expansion-item__border q-expansion-item__border--bottom absolute-bottom" aria-orientation="horizontal"></div></div><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="/api-dashboard?login=true" label="Авторизоваться"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">Авторизоваться</div><div class="q-item__section column q-item__section--side justify-center"><i class="q-icon notranslate material-symbols material-symbols-sharp" aria-hidden="true" role="presentation">login</i></div></a><div class="q-item q-item-type row no-wrap q-item--dark" role="listitem"><label class="q-field row no-wrap items-start q-field--borderless q-select q-field--auto-height q-select--without-input q-select--without-chips q-select--single q-field--square q-field--dark full-width" for="f_e32f4f1d-0389-41ac-bfd8-d7d797bd34f4"><div class="q-field__inner relative-position col self-stretch"><div class="q-field__control relative-position row no-wrap" tabindex="-1"><div class="q-field__control-container col relative-position row no-wrap q-anchor--skip"><div class="q-field__native row items-center"><span></span><input class="q-select__focus-target" id="f_e32f4f1d-0389-41ac-bfd8-d7d797bd34f4" readonly="" tabindex="0" role="combobox" aria-readonly="false" aria-autocomplete="none" aria-expanded="false" aria-controls="f_e32f4f1d-0389-41ac-bfd8-d7d797bd34f4_lb" value=""></div></div><div class="q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"><i class="q-icon notranslate material-symbols material-symbols-sharp q-select__dropdown-icon" aria-hidden="true" role="presentation">language</i></div></div></div></label></div></div></div></div><div class="q-scrollarea__bar q-scrollarea__bar--v absolute-right q-scrollarea__bar--invisible" aria-hidden="true"></div><div class="q-scrollarea__bar q-scrollarea__bar--h absolute-bottom q-scrollarea__bar--invisible" aria-hidden="true"></div><div class="q-scrollarea__thumb q-scrollarea__thumb--v absolute-right q-scrollarea__thumb--invisible" aria-hidden="true" style="top: 0px; height: 600px; right: 0px;"></div><div class="q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom q-scrollarea__thumb--invisible" aria-hidden="true" style="opacity: 0; left: 0px; width: 299px; bottom: 0px;"></div></div></div></aside></div><div class="q-page-container" style="padding-top: 56px;"><main data-v-d0fd5afa="" class="q-page" style="min-height: 100vh;"><div data-v-d0fd5afa="" class="row full-width relative-position justify-end"><div data-v-d0fd5afa="" class="fixed-left q-pl-md" style="width: 300px; top: 100px; z-index: 1; display: none;"><div data-v-d0fd5afa="" class="q-list q-list--dark q-mx-sm" role="list"><div data-v-d0fd5afa="" class="q-item q-item-type row no-wrap q-item--dense q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable relative-position q-pa-md text-dim" role="listitem" tabindex="0"><div class="q-focus-helper" tabindex="-1"></div><div data-v-d0fd5afa="" class="q-item__section column q-item__section--main justify-center q-ml-md"><div data-v-d0fd5afa="" class="q-item__label">Проблема сегментации</div></div></div><div data-v-d0fd5afa="" class="q-item q-item-type row no-wrap q-item--dense q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable relative-position q-pa-md text-dim" role="listitem" tabindex="0"><div class="q-focus-helper" tabindex="-1"></div><div data-v-d0fd5afa="" class="q-item__section column q-item__section--main justify-center q-ml-md"><div data-v-d0fd5afa="" class="q-item__label">Почему малая языковая модель?</div></div></div><div data-v-d0fd5afa="" class="q-item q-item-type row no-wrap q-item--dense q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable relative-position q-pa-md text-dim" role="listitem" tabindex="0"><div class="q-focus-helper" tabindex="-1"></div><div data-v-d0fd5afa="" class="q-item__section column q-item__section--main justify-center q-ml-md"><div data-v-d0fd5afa="" class="q-item__label">Обучение SLM: три подхода</div></div></div><div data-v-d0fd5afa="" class="q-item q-item-type row no-wrap q-item--dense q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable relative-position q-pa-md text-dim" role="listitem" tabindex="0"><div class="q-focus-helper" tabindex="-1"></div><div data-v-d0fd5afa="" class="q-item__section column q-item__section--main justify-center q-ml-md"><div data-v-d0fd5afa="" class="q-item__label">Сами сегменты</div></div></div><div data-v-d0fd5afa="" class="q-item q-item-type row no-wrap q-item--dense q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable relative-position q-pa-md text-dim" role="listitem" tabindex="0"><div class="q-focus-helper" tabindex="-1"></div><div data-v-d0fd5afa="" class="q-item__section column q-item__section--main justify-center q-ml-md"><div data-v-d0fd5afa="" class="q-item__label">Тестирование моделей</div></div></div><div data-v-d0fd5afa="" class="q-item q-item-type row no-wrap q-item--dense q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable relative-position q-pa-md text-dim" role="listitem" tabindex="0"><div class="q-focus-helper" tabindex="-1"></div><div data-v-d0fd5afa="" class="q-item__section column q-item__section--main justify-center q-ml-md"><div data-v-d0fd5afa="" class="q-item__label">Ключевые выводы</div></div></div><div data-v-d0fd5afa="" class="q-item q-item-type row no-wrap q-item--dense q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable relative-position q-pa-md text-dim" role="listitem" tabindex="0"><div class="q-focus-helper" tabindex="-1"></div><div data-v-d0fd5afa="" class="q-item__section column q-item__section--main justify-center q-ml-md"><div data-v-d0fd5afa="" class="q-item__label">Следующие шаги</div></div></div><div data-v-d0fd5afa="" class="q-item q-item-type row no-wrap q-item--dense q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable relative-position q-pa-md text-dim" role="listitem" tabindex="0"><div class="q-focus-helper" tabindex="-1"></div><div data-v-d0fd5afa="" class="q-item__section column q-item__section--main justify-center q-ml-md"><div data-v-d0fd5afa="" class="q-item__label">Заключение</div></div></div></div></div><div data-v-d0fd5afa="" class="col-12 col-md-10 col-lg-12"><div data-v-d0fd5afa="" class="row justify-center q-pt-xl q-mt-xl"><div class="q-chip row inline no-wrap items-center q-chip--outline q-chip--square q-chip--dark q-dark non-selectable no-border-radius" style="font-size: 10px;"><div class="q-chip__content col row no-wrap items-center q-anchor--skip"><div class="ellipsis">Технический блог</div></div></div></div><div data-v-d0fd5afa="" class="row justify-center"><div data-v-d0fd5afa="" class="col-11 col-sm-9 cold-md-7 col-lg-6 column items-center q-pt-md q-mt-md q-gutter-y-xl"><div data-v-d0fd5afa="" class="q-item__label q-item__label--caption text-caption text-white q-mt-sm text-center q-pt-xl q-mt-xl">октябрь 25, 2024</div><h1 data-v-d0fd5afa="" class="text-weight-medium text-center q-px-md my-title">Поиск оптимальных точек перелома в длинных документах с помощью малых языковых моделей</h1><div data-v-d0fd5afa="" class="col row justify-center"><div data-v-d0fd5afa="" class="q-item__label q-item__label--caption text-caption col-8 col-sm-7 col-md-6 text-center text-dim" style="font-size: 1rem;">Мы обучили три небольшие языковые модели для лучшего разделения длинных документов на фрагменты и вот основные выводы, которые мы сделали.</div></div><div data-v-d0fd5afa="" class="q-card q-card--dark q-dark q-card--flat no-shadow" style="width: 100%;"><div data-v-d0fd5afa="" class="q-img q-img--menu" role="img" aria-label="A pattern of yellow file icons on a blue background with one icon displaying a smiley face creating an emotive contrast."><div style="padding-bottom: 52.5%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" alt="A pattern of yellow file icons on a blue background with one icon displaying a smiley face creating an emotive contrast." loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="https://jina-ai-gmbh.ghost.io/content/images/2024/10/breakpoints.png" style="object-fit: contain; object-position: 50% 50%; cursor: help;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></div></div></div><div data-v-d0fd5afa="" class="row justify-center"><div data-v-d0fd5afa="" class="col-10 col-sm-9 cold-md-7 col-lg-6 q-py-md"><div data-v-d0fd5afa="" class="col row justify-start items-center q-gutter-sm text-overline"><div data-v-61d959b7="" data-v-d0fd5afa="" class="relative-position row items-center" style="height: 26px; width: 47px;"><div data-v-61d959b7="" class="q-avatar overlapping" style="font-size: 24px; left: 0px;"><div class="q-avatar__content row flex-center overflow-hidden"><div data-v-61d959b7="" class="q-img q-img--menu" role="img" aria-label="Alex C-G"><div style="padding-bottom: 100%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" alt="Alex C-G" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="https://jina-ai-gmbh.ghost.io/content/images/2022/09/alex.jpg" style="object-fit: cover; object-position: 50% 50%; cursor: help;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></div></div><div data-v-61d959b7="" class="q-avatar overlapping" style="font-size: 24px; left: 18px;"><div class="q-avatar__content row flex-center overflow-hidden"><div data-v-61d959b7="" class="q-img q-img--menu" role="img" aria-label="Andrei Ungureanu"><div style="padding-bottom: 100%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" alt="Andrei Ungureanu" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="https://jina-ai-gmbh.ghost.io/content/images/2023/07/Me.jpg" style="object-fit: cover; object-position: 50% 50%; cursor: help;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></div></div></div><div data-v-d0fd5afa="" class="q-item__label">Alex C-G, Andrei Ungureanu • 19 минуты чтения</div></div></div></div><div data-v-d0fd5afa="" class="row justify-center"><div data-v-d0fd5afa="" class="col-10 col-sm-9 cold-md-7 col-lg-6 q-mb-xl q-pb-xl"><article data-v-d0fd5afa="" class="article"><section data-v-d0fd5afa="" class="gh-content"><div class="kg-card kg-callout-card kg-callout-card-blue"><div class="kg-callout-emoji">💡</div><div class="kg-callout-text">Это часть III нашей серии о чанкинге. <b><strong style="white-space: pre-wrap;">Рекомендуемый порядок чтения: </strong></b><a href="https://jina.ai/news/late-chunking-in-long-context-embedding-models/"><b><strong style="white-space: pre-wrap;">часть I</strong></b></a><b><strong style="white-space: pre-wrap;">, </strong></b><a href="https://jina.ai/news/what-late-chunking-really-is-and-what-its-not-part-ii"><b><strong style="white-space: pre-wrap;">часть II</strong></b></a><b><strong style="white-space: pre-wrap;">, </strong></b><a href="https://arxiv.org/abs/2409.04701"><b><strong style="white-space: pre-wrap;">научная статья</strong></b></a><b><strong style="white-space: pre-wrap;">, часть III.</strong></b></div></div><p>В наших предыдущих постах мы исследовали проблемы чанкинга и <a href="https://jina.ai/news/late-chunking-in-long-context-embedding-models/">представили концепцию позднего чанкинга</a>, который помогает уменьшить потерю контекста при встраивании чанков. В этом посте мы сосредоточимся на другой проблеме: поиске оптимальных точек разбиения. Хотя <a href="https://jina.ai/news/what-late-chunking-really-is-and-what-its-not-part-ii/#late-chunking-is-resilient-to-poor-boundary-cues" rel="noreferrer">наша стратегия позднего чанкинга доказала свою устойчивость к плохим границам</a>, это не значит, что мы можем их игнорировать — они по-прежнему важны как для человеческой читаемости, так и для читаемости LLM. Наша точка зрения такова: при определении точек разбиения мы теперь можем полностью сосредоточиться на читаемости, не беспокоясь о потере семантики или контекста. Поздний чанкинг может справиться как с хорошими, так и с плохими точками разбиения, поэтому читаемость становится вашей основной заботой.</p><p>Учитывая это, мы обучили три малые языковые модели, специально разработанные для сегментации длинных документов с сохранением семантической согласованности и обработкой сложных структур содержимого. Это:</p><figure class="kg-card kg-bookmark-card kg-card-hascaption"><a class="kg-bookmark-container" href="https://huggingface.co/jinaai/text-seg-lm-qwen2-0.5b"><div class="kg-bookmark-content"><div class="kg-bookmark-title">jinaai/text-seg-lm-qwen2-0.5b · Hugging Face</div><div class="kg-bookmark-description">We're on a journey to advance and democratize artificial intelligence through open source and open science.</div><div class="kg-bookmark-metadata"><img loading="lazy" class="kg-bookmark-icon" src="https://huggingface.co/favicon.ico" alt="" style="cursor: help;"></div></div><div class="kg-bookmark-thumbnail"><img loading="lazy" src="https://cdn-thumbnails.huggingface.co/social-thumbnails/models/jinaai/text-seg-lm-qwen2-0.5b.png" alt="" onerror="this.style.display = 'none'" style="cursor: help;"></div></a><figcaption><p><code spellcheck="false" style="white-space: pre-wrap;"><span>simple-qwen-0.5</span></code><span style="white-space: pre-wrap;">, которая сегментирует текст на основе структурных элементов документа.</span></p></figcaption></figure><figure class="kg-card kg-bookmark-card kg-card-hascaption"><a class="kg-bookmark-container" href="https://huggingface.co/jinaai/text-seg-lm-qwen2-0.5b-cot-topic-chunking"><div class="kg-bookmark-content"><div class="kg-bookmark-title">jinaai/text-seg-lm-qwen2-0.5b-cot-topic-chunking · Hugging Face</div><div class="kg-bookmark-description">We're on a journey to advance and democratize artificial intelligence through open source and open science.</div><div class="kg-bookmark-metadata"><img loading="lazy" class="kg-bookmark-icon" src="https://huggingface.co/favicon.ico" alt="" style="cursor: help;"></div></div><div class="kg-bookmark-thumbnail"><img loading="lazy" src="https://cdn-thumbnails.huggingface.co/social-thumbnails/models/jinaai/text-seg-lm-qwen2-0.5b-cot-topic-chunking.png" alt="" onerror="this.style.display = 'none'" style="cursor: help;"></div></a><figcaption><p><code spellcheck="false" style="white-space: pre-wrap;"><span>topic-qwen-0.5</span></code><span style="white-space: pre-wrap;">, которая сегментирует текст на основе тем внутри текста.</span></p></figcaption></figure><figure class="kg-card kg-bookmark-card kg-card-hascaption"><a class="kg-bookmark-container" href="https://huggingface.co/jinaai/text-seg-lm-qwen2-0.5b-summary-chunking"><div class="kg-bookmark-content"><div class="kg-bookmark-title">jinaai/text-seg-lm-qwen2-0.5b-summary-chunking · Hugging Face</div><div class="kg-bookmark-description">We're on a journey to advance and democratize artificial intelligence through open source and open science.</div><div class="kg-bookmark-metadata"><img loading="lazy" class="kg-bookmark-icon" src="https://huggingface.co/favicon.ico" alt="" style="cursor: help;"></div></div><div class="kg-bookmark-thumbnail"><img loading="lazy" src="https://cdn-thumbnails.huggingface.co/social-thumbnails/models/jinaai/text-seg-lm-qwen2-0.5b-summary-chunking.png" alt="" onerror="this.style.display = 'none'" style="cursor: help;"></div></a><figcaption><p><code spellcheck="false" style="white-space: pre-wrap;"><span>summary-qwen-0.5</span></code><span style="white-space: pre-wrap;">, которая генерирует краткие описания для каждого сегмента.</span></p></figcaption></figure><p>В этом посте мы обсудим, почему мы разработали эту модель, как мы подошли к её трём вариантам, и как они сравниваются с <a href="https://www.notion.so/Advancing-Segmentation-Strategies-in-RAG-with-a-Custom-Small-Language-Model-Restructure-638b84ae461d412eb6889cfa7f54cce1?pvs=21">API Segmenter от Jina AI</a>. В заключение мы поделимся тем, что узнали, и некоторыми мыслями на будущее.</p><h2 id="segmentation-problem" style="position: relative;"><a href="#segmentation-problem" title="Проблема сегментации" id="anchor-segmentation-problem"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a>Проблема сегментации</h2><p>Сегментация является ключевым элементом в системах RAG. То, как мы разбиваем длинные документы на связные, управляемые сегменты, напрямую влияет на качество как поиска, так и генерации, воздействуя на всё — от релевантности ответов до качества суммаризации. Традиционные методы сегментации давали неплохие результаты, но не без ограничений.</p><p>Перефразируя наш <a href="https://jina.ai/news/what-late-chunking-really-is-and-what-its-not-part-ii/">предыдущий пост</a>:</p><blockquote>При сегментации длинного документа ключевой проблемой является решение о том, где создавать сегменты. Это можно делать с использованием фиксированной длины токенов, заданного количества предложений или более продвинутых методов, таких как regex и модели семантической сегментации. Установление точных границ сегментов критически важно, так как это не только улучшает читаемость результатов поиска, но и гарантирует, что сегменты, предоставляемые LLM в системе RAG, являются как точными, так и достаточными.</blockquote><p>Хотя поздний чанкинг улучшает производительность поиска, <strong>в приложениях RAG критически важно обеспечить, чтобы, насколько это возможно, каждый сегмент был осмысленным сам по себе, а не просто случайным фрагментом текста.</strong> LLM полагаются на согласованные, хорошо структурированные данные для генерации точных ответов. Если сегменты неполные или лишены смысла, LLM может столкнуться с трудностями в контексте и точности, влияя на общую производительность, несмотря на преимущества позднего чанкинга. Короче говоря, независимо от того, используете ли вы поздний чанкинг или нет, наличие надёжной стратегии сегментации необходимо для построения эффективной системы RAG (как вы увидите в разделе сравнительного анализа ниже).</p><p>Традиционные методы сегментации, будь то разбиение контента по простым границам, таким как новые строки или предложения, или использование жёстких правил на основе токенов, часто сталкиваются с одними и теми же ограничениями. Оба подхода не учитывают семантические границы и испытывают трудности с неоднозначными темами, что приводит к фрагментированным сегментам. Чтобы решить эти проблемы, мы разработали и обучили малую языковую модель, специально предназначенную для сегментации, разработанную для определения смены тем и поддержания согласованности, оставаясь при этом эффективной и адаптируемой к различным задачам.</p><h2 id="why-small-language-model" style="position: relative;"><a href="#why-small-language-model" title="Почему малая языковая модель?" id="anchor-why-small-language-model"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a>Почему малая языковая модель?</h2><p>Мы разработали малую языковую модель (SLM) для решения конкретных ограничений, с которыми мы столкнулись при использовании традиционных методов сегментации, особенно при обработке фрагментов кода и других сложных структур, таких как таблицы, списки и формулы. В традиционных подходах, которые часто опираются на подсчёт токенов или жёсткие структурные правила, было сложно сохранить целостность семантически согласованного содержимого. Например, фрагменты кода часто разбивались на несколько частей, нарушая их контекст и затрудняя последующим системам их понимание или точное извлечение.</p><p>Обучая специализированную SLM, мы стремились создать модель, которая могла бы интеллектуально распознавать и сохранять эти значимые границы, обеспечивая, чтобы связанные элементы оставались вместе. Это не только улучшает качество поиска в системах RAG, но и улучшает последующие задачи, такие как суммаризация и ответы на вопросы, где поддержание согласованных и контекстуально релевантных сегментов является критически важным. Подход SLM предлагает более адаптируемое, специфичное для задачи решение, которое традиционные методы сегментации с их жёсткими границами просто не могут обеспечить.</p><h2 id="training-slms-three-approaches" style="position: relative;"><a href="#training-slms-three-approaches" title="Обучение SLM: три подхода" id="anchor-training-slms-three-approaches"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a>Обучение SLM: три подхода</h2><p>Мы обучили три версии нашей SLM:</p><ul><li><code>simple-qwen-0.5</code> — самая простая модель, разработанная для определения границ на основе структурных элементов документа. Её простота делает её эффективным решением для базовых потребностей сегментации.</li><li><code>topic-qwen-0.5</code>, вдохновлённая рассуждениями Chain-of-Thought, делает шаг вперёд в сегментации, определяя темы внутри текста, такие как "начало Второй мировой войны", и использует эти темы для определения границ сегментов. Эта модель обеспечивает тематическую целостность каждого сегмента, что делает её хорошо подходящей для сложных, многотемных документов. Начальные тесты показали, что она отлично справляется с сегментацией контента способом, близким к человеческой интуиции.</li><li><code>summary-qwen-0.5</code> не только определяет границы текста, но и генерирует краткие описания для каждого сегмента. Суммирование сегментов очень выгодно в приложениях RAG, особенно для задач вопросов и ответов по длинным документам, хотя это требует больше данных при обучении.</li></ul><p>Все модели возвращают только <em>заголовки сегментов</em> — усечённую версию каждого сегмента. Вместо генерации целых сегментов модели выводят ключевые точки или подтемы, что улучшает определение границ и согласованность, фокусируясь на семантических переходах, а не просто копируя входной контент. При извлечении сегментов текст документа разбивается на основе этих заголовков сегментов, и полные сегменты реконструируются соответственно.</p><h3 id="dataset" style="position: relative;"><a href="#dataset" title="Набор данных" id="anchor-dataset"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a>Набор данных</h3><p>Мы использовали набор данных <a href="https://github.com/koomri/text-segmentation">wiki727k</a>, большую коллекцию структурированных текстовых фрагментов, извлечённых из статей Википедии. Он содержит более 727 000 разделов текста, каждый из которых представляет собой отдельную часть статьи Википедии, такую как введение, раздел или подраздел.</p><figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://github.com/koomri/text-segmentation"><div class="kg-bookmark-content"><div class="kg-bookmark-title">GitHub - koomri/text-segmentation: Implementation of the paper: Text Segmentation as a Supervised Learning Task</div><div class="kg-bookmark-description">Реализация статьи: Text Segmentation as a Supervised Learning Task - koomri/text-segmentation</div><div class="kg-bookmark-metadata"><img loading="lazy" class="kg-bookmark-icon" src="https://github.githubassets.com/assets/pinned-octocat-093da3e6fa40.svg" alt="" style="cursor: help;"><span class="kg-bookmark-author">GitHub</span><span class="kg-bookmark-publisher">koomri</span></div></div><div class="kg-bookmark-thumbnail"><img loading="lazy" src="https://opengraph.githubassets.com/a0a75db005774d424366f3fa2d4c70930927a0b2d8032ef3c04cb0f3beebcb8e/koomri/text-segmentation" alt="" onerror="this.style.display = 'none'" style="cursor: help;"></div></a></figure><h3 id="data-augmentation" style="position: relative;"><a href="#data-augmentation" title="Аугментация данных" id="anchor-data-augmentation"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a>Аугментация данных</h3><p>Для создания обучающих пар для каждого варианта модели мы использовали GPT-4 для аугментации данных. Для каждой статьи в нашем обучающем наборе данных мы отправляли следующий промпт:</p><pre class="hljs-copy-wrapper"><code class="language-python hljs"><span class="hljs-string">f"""
Generate a five to ten words topic and a one sentence summary for this chunk of text.
```
<span class="hljs-subst">{text}</span>
```
Make sure the topic is concise and the summary covers the main topic as much as possible.

Please respond in the following format:
```
Topic: ...
Summary: ...
```

Directly respond with the required topic and summary, do not include any other details, and do not surround your response with quotes, backticks or other separators.
   """</span>.strip()</code><div class="hljs-copy-container" data-autohide="true" style="--hljs-theme-background:rgba(0, 0, 0, 0); --hljs-theme-color:rgb(204, 204, 204); --hljs-theme-padding:16px;"><button class="hljs-copy-button" data-copied="false">Копировать</button></div></pre><p>Мы использовали простое разделение для создания секций из каждой статьи, разделяя по <code>\\n\\n\\n</code>, а затем подразделяя по <code>\\n\\n</code>, чтобы получить следующее (в данном случае статья о Common Gateway Interface):</p><pre class="hljs-copy-wrapper"><code class="hljs language-swift">[
    [
      <span class="hljs-string">"In computing, Common Gateway Interface (CGI) offers a standard protocol for web servers to execute programs that execute like Console applications (also called Command-line interface programs) running on a server that generates web pages dynamically."</span>,
      <span class="hljs-string">"Such programs are known as <span class="hljs-subst">\\</span>"</span><span class="hljs-type">CGI</span> scripts\\<span class="hljs-string">" or simply as <span class="hljs-subst">\\</span>"</span><span class="hljs-type">CGIs</span>\\<span class="hljs-string">"."</span>,
      <span class="hljs-string">"The specifics of how the script is executed by the server are determined by the server."</span>,
      <span class="hljs-string">"In the common case, a CGI script executes at the time a request is made and generates HTML."</span>
    ],
    [
      <span class="hljs-string">"In 1993 the National Center for Supercomputing Applications (NCSA) team wrote the specification for calling command line executables on the www-talk mailing list; however, NCSA no longer hosts the specification."</span>,
      <span class="hljs-string">"The other Web server developers adopted it, and it has been a standard for Web servers ever since."</span>,
      <span class="hljs-string">"A work group chaired by Ken Coar started in November 1997 to get the NCSA definition of CGI more formally defined."</span>,
      <span class="hljs-string">"This work resulted in RFC 3875, which specified CGI Version 1.1."</span>,
      <span class="hljs-string">"Specifically mentioned in the RFC are the following contributors: <span class="hljs-subst">\\</span>n1. Alice Johnson<span class="hljs-subst">\\</span>n2. Bob Smith<span class="hljs-subst">\\</span>n3. Carol White<span class="hljs-subst">\\</span>n4. David Nguyen<span class="hljs-subst">\\</span>n5. Eva Brown<span class="hljs-subst">\\</span>n6. Frank Lee<span class="hljs-subst">\\</span>n7. Grace Kim<span class="hljs-subst">\\</span>n8. Henry Carter<span class="hljs-subst">\\</span>n9. Ingrid Martinez<span class="hljs-subst">\\</span>n10. Jack Wilson"</span>,
      <span class="hljs-string">"Historically CGI scripts were often written using the C language."</span>,
      <span class="hljs-string">"RFC 3875 <span class="hljs-subst">\\</span>"</span><span class="hljs-type">The</span> <span class="hljs-type">Common</span> <span class="hljs-type">Gateway</span> <span class="hljs-type">Interface</span> (<span class="hljs-type">CGI</span>)\\<span class="hljs-string">" partially defines CGI using C, as in saying that environment variables <span class="hljs-subst">\\</span>"</span>are accessed by the <span class="hljs-type">C</span> library routine getenv() or variable environ\\<span class="hljs-string">"."</span>
    ],
    [
      <span class="hljs-string">"CGI is often used to process inputs information from the user and produce the appropriate output."</span>,
      <span class="hljs-string">"An example of a CGI program is one implementing a Wiki."</span>,
      <span class="hljs-string">"The user agent requests the name of an entry; the Web server executes the CGI; the CGI program retrieves the source of that entry's page (if one exists), transforms it into HTML, and prints the result."</span>,
      <span class="hljs-string">"The web server receives the input from the CGI and transmits it to the user agent."</span>,
      <span class="hljs-string">"If the <span class="hljs-subst">\\</span>"</span><span class="hljs-type">Edit</span> this page\\<span class="hljs-string">" link is clicked, the CGI populates an HTML textarea or other editing control with the page's contents, and saves it back to the server when the user submits the form in it.<span class="hljs-subst">\\</span>n"</span>,
      <span class="hljs-string">"<span class="hljs-subst">\\</span>n# CGI script to handle editing a page<span class="hljs-subst">\\</span>ndef handle_edit_request(page_content):<span class="hljs-subst">\\</span>n    html_form = f'''<span class="hljs-subst">\\</span>n    &lt;html&gt;<span class="hljs-subst">\\</span>n    &lt;body&gt;<span class="hljs-subst">\\</span>n        &lt;form action=<span class="hljs-subst">\\</span>"</span><span class="hljs-operator">/</span>save_page\\<span class="hljs-string">" method=<span class="hljs-subst">\\</span>"</span>post\\<span class="hljs-string">"&gt;<span class="hljs-subst">\\</span>n            &lt;textarea name=<span class="hljs-subst">\\</span>"</span>page_content\\<span class="hljs-string">" rows=<span class="hljs-subst">\\</span>"</span><span class="hljs-number">20</span>\\<span class="hljs-string">" cols=<span class="hljs-subst">\\</span>"</span><span class="hljs-number">80</span>\\<span class="hljs-string">"&gt;<span class="hljs-subst">\\</span>n            {page_content}<span class="hljs-subst">\\</span>n            &lt;/textarea&gt;<span class="hljs-subst">\\</span>n            &lt;br&gt;<span class="hljs-subst">\\</span>n            &lt;input type=<span class="hljs-subst">\\</span>"</span>submit\\<span class="hljs-string">" value=<span class="hljs-subst">\\</span>"</span><span class="hljs-type">Save</span>\\<span class="hljs-string">"&gt;<span class="hljs-subst">\\</span>n        &lt;/form&gt;<span class="hljs-subst">\\</span>n    &lt;/body&gt;<span class="hljs-subst">\\</span>n    &lt;/html&gt;<span class="hljs-subst">\\</span>n    '''<span class="hljs-subst">\\</span>n    return html_form<span class="hljs-subst">\\</span>n<span class="hljs-subst">\\</span>n# Example usage<span class="hljs-subst">\\</span>npage_content = <span class="hljs-subst">\\</span>"</span><span class="hljs-type">Existing</span> content of the page.\\<span class="hljs-string">"<span class="hljs-subst">\\</span>nhtml_output = handle_edit_request(page_content)<span class="hljs-subst">\\</span>nprint(<span class="hljs-subst">\\</span>"</span><span class="hljs-type">Generated</span> <span class="hljs-type">HTML</span> form:\\<span class="hljs-string">")<span class="hljs-subst">\\</span>nprint(html_output)<span class="hljs-subst">\\</span>n<span class="hljs-subst">\\</span>ndef save_page(page_content):<span class="hljs-subst">\\</span>n    with open(<span class="hljs-subst">\\</span>"</span>page_content.txt\\<span class="hljs-string">", <span class="hljs-subst">\\</span>"</span>w\\<span class="hljs-string">") as file:<span class="hljs-subst">\\</span>n        file.write(page_content)<span class="hljs-subst">\\</span>n    print(<span class="hljs-subst">\\</span>"</span><span class="hljs-type">Page</span> content saved.\\<span class="hljs-string">")<span class="hljs-subst">\\</span>n<span class="hljs-subst">\\</span>n# Simulating form submission<span class="hljs-subst">\\</span>nsubmitted_content = <span class="hljs-subst">\\</span>"</span><span class="hljs-type">Updated</span> content of the page.\\<span class="hljs-string">"<span class="hljs-subst">\\</span>nsave_page(submitted_content)"</span>
    ],
    [
      <span class="hljs-string">"Calling a command generally means the invocation of a newly created process on the server."</span>,
      <span class="hljs-string">"Starting the process can consume much more time and memory than the actual work of generating the output, especially when the program still needs to be interpreted or compiled."</span>,
      <span class="hljs-string">"If the command is called often, the resulting workload can quickly overwhelm the server."</span>,
      <span class="hljs-string">"The overhead involved in process creation can be reduced by techniques such as FastCGI that <span class="hljs-subst">\\</span>"</span>prefork\\<span class="hljs-string">" interpreter processes, or by running the application code entirely within the web server, using extension modules such as mod_perl or mod_php."</span>,
      <span class="hljs-string">"Another way to reduce the overhead is to use precompiled CGI programs, e.g."</span>,
      <span class="hljs-string">"by writing them in languages such as C or C++, rather than interpreted or compiled-on-the-fly languages such as Perl or PHP, or by implementing the page generating software as a custom webserver module."</span>,
      <span class="hljs-string">"Several approaches can be adopted for remedying this: <span class="hljs-subst">\\</span>n1. Implementing stricter regulations<span class="hljs-subst">\\</span>n2. Providing better education and training<span class="hljs-subst">\\</span>n3. Enhancing technology and infrastructure<span class="hljs-subst">\\</span>n4. Increasing funding and resources<span class="hljs-subst">\\</span>n5. Promoting collaboration and partnerships<span class="hljs-subst">\\</span>n6. Conducting regular audits and assessments"</span>,
      <span class="hljs-string">"The optimal configuration for any Web application depends on application-specific details, amount of traffic, and complexity of the transaction; these tradeoffs need to be analyzed to determine the best implementation for a given task and time budget."</span>
    ]
  ],
</code><div class="hljs-copy-container" data-autohide="true" style="--hljs-theme-background:rgba(0, 0, 0, 0); --hljs-theme-color:rgb(204, 204, 204); --hljs-theme-padding:16px;"><button class="hljs-copy-button" data-copied="false">Копировать</button></div></pre><p>Затем мы сгенерировали структуру JSON с секциями, темами и краткими описаниями:</p><pre class="hljs-copy-wrapper"><code class="hljs language-swift">{
  <span class="hljs-string">"sections"</span>: [
    [
      <span class="hljs-string">"In computing, Common Gateway Interface (CGI) offers a standard protocol for web servers to execute programs that execute like Console applications (also called Command-line interface programs) running on a server that generates web pages dynamically."</span>,
      <span class="hljs-string">"Such programs are known as <span class="hljs-subst">\\</span>"</span><span class="hljs-type">CGI</span> scripts\\<span class="hljs-string">" or simply as <span class="hljs-subst">\\</span>"</span><span class="hljs-type">CGIs</span>\\<span class="hljs-string">"."</span>,
      <span class="hljs-string">"The specifics of how the script is executed by the server are determined by the server."</span>,
      <span class="hljs-string">"In the common case, a CGI script executes at the time a request is made and generates HTML."</span>
    ],
    [
      <span class="hljs-string">"In 1993 the National Center for Supercomputing Applications (NCSA) team wrote the specification for calling command line executables on the www-talk mailing list; however, NCSA no longer hosts the specification."</span>,
      <span class="hljs-string">"The other Web server developers adopted it, and it has been a standard for Web servers ever since."</span>,
      <span class="hljs-string">"A work group chaired by Ken Coar started in November 1997 to get the NCSA definition of CGI more formally defined."</span>,
      <span class="hljs-string">"This work resulted in RFC 3875, which specified CGI Version 1.1."</span>,
      <span class="hljs-string">"Specifically mentioned in the RFC are the following contributors: <span class="hljs-subst">\\</span>n1. Alice Johnson<span class="hljs-subst">\\</span>n2. Bob Smith<span class="hljs-subst">\\</span>n3. Carol White<span class="hljs-subst">\\</span>n4. David Nguyen<span class="hljs-subst">\\</span>n5. Eva Brown<span class="hljs-subst">\\</span>n6. Frank Lee<span class="hljs-subst">\\</span>n7. Grace Kim<span class="hljs-subst">\\</span>n8. Henry Carter<span class="hljs-subst">\\</span>n9. Ingrid Martinez<span class="hljs-subst">\\</span>n10. Jack Wilson"</span>,
      <span class="hljs-string">"Historically CGI scripts were often written using the C language."</span>,
      <span class="hljs-string">"RFC 3875 <span class="hljs-subst">\\</span>"</span><span class="hljs-type">The</span> <span class="hljs-type">Common</span> <span class="hljs-type">Gateway</span> <span class="hljs-type">Interface</span> (<span class="hljs-type">CGI</span>)\\<span class="hljs-string">" partially defines CGI using C, as in saying that environment variables <span class="hljs-subst">\\</span>"</span>are accessed by the <span class="hljs-type">C</span> library routine getenv() or variable environ\\<span class="hljs-string">"."</span>
    ],
    [
      <span class="hljs-string">"CGI is often used to process inputs information from the user and produce the appropriate output."</span>,
      <span class="hljs-string">"An example of a CGI program is one implementing a Wiki."</span>,
      <span class="hljs-string">"The user agent requests the name of an entry; the Web server executes the CGI; the CGI program retrieves the source of that entry's page (if one exists), transforms it into HTML, and prints the result."</span>,
      <span class="hljs-string">"The web server receives the input from the CGI and transmits it to the user agent."</span>,
      <span class="hljs-string">"If the <span class="hljs-subst">\\</span>"</span><span class="hljs-type">Edit</span> this page\\<span class="hljs-string">" link is clicked, the CGI populates an HTML textarea or other editing control with the page's contents, and saves it back to the server when the user submits the form in it.<span class="hljs-subst">\\</span>n"</span>,
      <span class="hljs-string">"<span class="hljs-subst">\\</span>n# CGI script to handle editing a page<span class="hljs-subst">\\</span>ndef handle_edit_request(page_content):<span class="hljs-subst">\\</span>n    html_form = f'''<span class="hljs-subst">\\</span>n    &lt;html&gt;<span class="hljs-subst">\\</span>n    &lt;body&gt;<span class="hljs-subst">\\</span>n        &lt;form action=<span class="hljs-subst">\\</span>"</span><span class="hljs-operator">/</span>save_page\\<span class="hljs-string">" method=<span class="hljs-subst">\\</span>"</span>post\\<span class="hljs-string">"&gt;<span class="hljs-subst">\\</span>n            &lt;textarea name=<span class="hljs-subst">\\</span>"</span>page_content\\<span class="hljs-string">" rows=<span class="hljs-subst">\\</span>"</span><span class="hljs-number">20</span>\\<span class="hljs-string">" cols=<span class="hljs-subst">\\</span>"</span><span class="hljs-number">80</span>\\<span class="hljs-string">"&gt;<span class="hljs-subst">\\</span>n            {page_content}<span class="hljs-subst">\\</span>n            &lt;/textarea&gt;<span class="hljs-subst">\\</span>n            &lt;br&gt;<span class="hljs-subst">\\</span>n            &lt;input type=<span class="hljs-subst">\\</span>"</span>submit\\<span class="hljs-string">" value=<span class="hljs-subst">\\</span>"</span><span class="hljs-type">Save</span>\\<span class="hljs-string">"&gt;<span class="hljs-subst">\\</span>n        &lt;/form&gt;<span class="hljs-subst">\\</span>n    &lt;/body&gt;<span class="hljs-subst">\\</span>n    &lt;/html&gt;<span class="hljs-subst">\\</span>n    '''<span class="hljs-subst">\\</span>n    return html_form<span class="hljs-subst">\\</span>n<span class="hljs-subst">\\</span>n# Example usage<span class="hljs-subst">\\</span>npage_content = <span class="hljs-subst">\\</span>"</span><span class="hljs-type">Existing</span> content of the page.\\<span class="hljs-string">"<span class="hljs-subst">\\</span>nhtml_output = handle_edit_request(page_content)<span class="hljs-subst">\\</span>nprint(<span class="hljs-subst">\\</span>"</span><span class="hljs-type">Generated</span> <span class="hljs-type">HTML</span> form:\\<span class="hljs-string">")<span class="hljs-subst">\\</span>nprint(html_output)<span class="hljs-subst">\\</span>n<span class="hljs-subst">\\</span>ndef save_page(page_content):<span class="hljs-subst">\\</span>n    with open(<span class="hljs-subst">\\</span>"</span>page_content.txt\\<span class="hljs-string">", <span class="hljs-subst">\\</span>"</span>w\\<span class="hljs-string">") as file:<span class="hljs-subst">\\</span>n        file.write(page_content)<span class="hljs-subst">\\</span>n    print(<span class="hljs-subst">\\</span>"</span><span class="hljs-type">Page</span> content saved.\\<span class="hljs-string">")<span class="hljs-subst">\\</span>n<span class="hljs-subst">\\</span>n# Simulating form submission<span class="hljs-subst">\\</span>nsubmitted_content = <span class="hljs-subst">\\</span>"</span><span class="hljs-type">Updated</span> content of the page.\\<span class="hljs-string">"<span class="hljs-subst">\\</span>nsave_page(submitted_content)"</span>
    ],
    [
      <span class="hljs-string">"Calling a command generally means the invocation of a newly created process on the server."</span>,
      <span class="hljs-string">"Starting the process can consume much more time and memory than the actual work of generating the output, especially when the program still needs to be interpreted or compiled."</span>,
      <span class="hljs-string">"If the command is called often, the resulting workload can quickly overwhelm the server."</span>,
      <span class="hljs-string">"The overhead involved in process creation can be reduced by techniques such as FastCGI that <span class="hljs-subst">\\</span>"</span>prefork\\<span class="hljs-string">" interpreter processes, or by running the application code entirely within the web server, using extension modules such as mod_perl or mod_php."</span>,
      <span class="hljs-string">"Another way to reduce the overhead is to use precompiled CGI programs, e.g."</span>,
      <span class="hljs-string">"by writing them in languages such as C or C++, rather than interpreted or compiled-on-the-fly languages such as Perl or PHP, or by implementing the page generating software as a custom webserver module."</span>,
      <span class="hljs-string">"Several approaches can be adopted for remedying this: <span class="hljs-subst">\\</span>n1. Implementing stricter regulations<span class="hljs-subst">\\</span>n2. Providing better education and training<span class="hljs-subst">\\</span>n3. Enhancing technology and infrastructure<span class="hljs-subst">\\</span>n4. Increasing funding and resources<span class="hljs-subst">\\</span>n5. Promoting collaboration and partnerships<span class="hljs-subst">\\</span>n6. Conducting regular audits and assessments"</span>,
      <span class="hljs-string">"The optimal configuration for any Web application depends on application-specific details, amount of traffic, and complexity of the transaction; these tradeoffs need to be analyzed to determine the best implementation for a given task and time budget."</span>
    ]
  ],
  <span class="hljs-string">"topics"</span>: [
    <span class="hljs-string">"Common Gateway Interface в веб-серверах"</span>,
    <span class="hljs-string">"История и стандартизация CGI"</span>,
    <span class="hljs-string">"CGI-скрипты для редактирования веб-страниц"</span>,
    <span class="hljs-string">"Снижение нагрузки на веб-сервер при вызове команд"</span>
  ],
  <span class="hljs-string">"summaries"</span>: [
    <span class="hljs-string">"CGI предоставляет протокол для веб-серверов для запуска программ, генерирующих динамические веб-страницы."</span>,
    <span class="hljs-string">"NCSA изначально определила CGI в 1993 году, что привело к его принятию в качестве стандарта для веб-серверов и последующей формализации в RFC 3875 под председательством Ken Coar."</span>,
    <span class="hljs-string">"Этот текст описывает, как CGI-скрипт может обрабатывать редактирование и сохранение содержимого веб-страниц через HTML-формы."</span>,
    <span class="hljs-string">"В тексте обсуждаются методы минимизации нагрузки на сервер при частом вызове команд, включая предварительное создание процессов, использование предварительно скомпилированных CGI-программ и внедрение пользовательских модулей веб-сервера."</span>
  ]
}
</code><div class="hljs-copy-container" data-autohide="true" style="--hljs-theme-background:rgba(0, 0, 0, 0); --hljs-theme-color:rgb(204, 204, 204); --hljs-theme-padding:16px;"><button class="hljs-copy-button" data-copied="false">Копировать</button></div></pre><p>Мы также добавили шум путем перемешивания данных, добавления случайных символов/слов/букв, случайного удаления пунктуации и <em>всегда</em> удаляли символы новой строки.</p><p>Все это может частично помочь в разработке хорошей модели, но только до определенной степени. Чтобы действительно раскрыть весь потенциал, нам нужно было, чтобы модель создавала согласованные фрагменты, не нарушая фрагменты кода. Для этого мы дополнили набор данных кодом, формулами и списками, сгенерированными GPT-4o.</p><h3 id="the-training-setup" style="position: relative;"><a href="#the-training-setup" title="Настройка обучения" id="anchor-the-training-setup"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a>Настройка обучения</h3><p>Для обучения моделей мы реализовали следующую настройку:</p><ul><li><strong>Framework</strong>: Мы использовали библиотеку <code>transformers</code> от Hugging Face, интегрированную с <code>Unsloth</code> для оптимизации модели. Это было crucial для оптимизации использования памяти и ускорения обучения, что позволило эффективно обучать маленькие модели на больших наборах данных.</li><li><strong>Optimizer and Scheduler</strong>: Мы использовали оптимизатор AdamW с линейным графиком скорости обучения и шагами разогрева, что позволило стабилизировать процесс обучения в начальные эпохи.</li><li><strong>Отслеживание экспериментов</strong>: Мы отслеживали все эксперименты по обучению с помощью <a href="https://wandb.ai/">Weights &amp; Biases</a> и регистрировали ключевые метрики, такие как потери при обучении и валидации, изменения скорости обучения и общую производительность модели. Это отслеживание в реальном времени дало нам представление о том, как прогрессируют модели, позволяя быстро вносить коррективы при необходимости для оптимизации результатов обучения.</li></ul><h3 id="the-training-itself" style="position: relative;"><a href="#the-training-itself" title="Само обучение" id="anchor-the-training-itself"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a>Само обучение</h3><p>Используя <a href="https://huggingface.co/Qwen/Qwen2-0.5B-Instruct"><code>qwen2-0.5b-instruct</code></a> в качестве базовой модели, мы обучили три варианта нашей SLM с помощью Unsloth, каждый с разной стратегией сегментации. Для наших образцов мы использовали пары для обучения, состоящие из текста статьи из wiki727k и полученных <code>sections</code>, <code>topics</code> или <code>summaries</code> (упомянутых выше в разделе "Дополнение данных") в зависимости от обучаемой модели.</p><ul><li><code><strong>simple-qwen-0.5</strong></code>: Мы обучили <code>simple-qwen-0.5</code> на 10 000 образцах с 5 000 шагов, достигнув быстрой сходимости и эффективного обнаружения границ между связными разделами текста. Потери при обучении составили 0,16.</li><li><code><strong>topic-qwen-0.5</strong></code>: Как и <code>simple-qwen-0.5</code>, мы обучили <code>topic-qwen-0.5</code> на 10 000 образцах с 5 000 шагов, достигнув потерь при обучении 0,45.</li><li><code><strong>summary-qwen-0.5</strong></code>: Мы обучили <code>summary-qwen-0.5</code> на 30 000 образцах с 15 000 шагов. Эта модель показала перспективы, но имела более высокие потери (0,81) во время обучения, что говорит о необходимости большего количества данных (примерно вдвое больше нашего исходного количества образцов) для достижения полного потенциала.</li></ul><h2 id="the-segments-themselves" style="position: relative;"><a href="#the-segments-themselves" title="Сами сегменты" id="anchor-the-segments-themselves"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a>Сами сегменты</h2><p>Вот примеры трех последовательных сегментов для каждой стратегии сегментации, вместе с Jina's Segmenter API. Чтобы получить эти сегменты, мы сначала использовали <a href="https://jina.ai/reader/">Jina Reader</a> для извлечения поста из блога Jina AI в виде простого текста (включая все данные страницы, такие как заголовки, нижние колонтитулы и т. д.), затем передали его каждому методу сегментации.</p><figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://jina.ai/news/can-embedding-reranker-models-compare-numbers/"><div class="kg-bookmark-content"><div class="kg-bookmark-title">Can Embedding/Reranker Models Compare Numbers?</div><div class="kg-bookmark-description">A lot of LLMs can't figure out that 9.11 is actually smaller than 9.9. Can our embedding and reranker models do any better?</div><div class="kg-bookmark-metadata"><img loading="lazy" class="kg-bookmark-icon" src="https://jina.ai/icons/favicon-128x128.png" alt="" style="cursor: help;"></div></div><div class="kg-bookmark-thumbnail"><img loading="lazy" src="https://jina-ai-gmbh.ghost.io/content/images/2024/07/number-heading.png" alt="" onerror="this.style.display = 'none'" style="cursor: help;"></div></a></figure><h3 id="jina-segmenter-api" style="position: relative;"><a href="#jina-segmenter-api" title="Jina Segmenter API" id="anchor-jina-segmenter-api"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a>Jina Segmenter API</h3><p>Jina Segmenter API применил очень детальный подход к сегментации поста, разделяя текст по символам вроде <code>\n</code>, <code>\t</code> и т.д., чтобы разбить текст на часто очень маленькие сегменты. Рассматривая только первые три, он извлек <code>search\\n</code>, <code>notifications\\n</code> и <code>NEWS\\n</code> из навигационной панели сайта, но ничего относящегося к содержанию самого поста:</p><figure class="kg-card kg-image-card"><img loading="lazy" src="https://jina-ai-gmbh.ghost.io/content/images/2024/10/image-1.png" class="kg-image" alt="Minimalist navigation bar with &quot;NEWS&quot;, &quot;PRODUCTS&quot;, and &quot;COMPANY&quot; text on a black background, accented by colorful stripes to " width="1164" height="68" srcset="https://jina-ai-gmbh.ghost.io/content/images/size/w600/2024/10/image-1.png 600w, https://jina-ai-gmbh.ghost.io/content/images/size/w1000/2024/10/image-1.png 1000w, https://jina-ai-gmbh.ghost.io/content/images/2024/10/image-1.png 1164w" sizes="(min-width: 720px) 720px" style="cursor: help;"></figure><p>Далее мы наконец получили некоторые сегменты из фактического содержания блог-поста, хотя в каждом сохранялось мало контекста:</p><figure class="kg-card kg-image-card"><img loading="lazy" src="https://jina-ai-gmbh.ghost.io/content/images/2024/10/image-2.png" class="kg-image" alt="Webpage discussing if embedding/reranker models can compare numbers, with a grid of numbered circles and references to an ICM" width="1164" height="1180" srcset="https://jina-ai-gmbh.ghost.io/content/images/size/w600/2024/10/image-2.png 600w, https://jina-ai-gmbh.ghost.io/content/images/size/w1000/2024/10/image-2.png 1000w, https://jina-ai-gmbh.ghost.io/content/images/2024/10/image-2.png 1164w" sizes="(min-width: 720px) 720px" style="cursor: help;"></figure><p>(В интересах справедливости мы показали больше фрагментов для Segmenter API, чем для моделей, просто потому, что иначе было бы очень мало значимых сегментов для показа)</p><h3 id="simple-qwen-05" style="position: relative;"><a href="#simple-qwen-05" title="simple-qwen-0.5" id="anchor-simple-qwen-05"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a><code>simple-qwen-0.5</code></h3><p><code>simple-qwen-0.5</code> разбил блог-пост на основе семантической структуры, извлекая гораздо более длинные сегменты, имеющие связное значение:</p><figure class="kg-card kg-image-card"><img loading="lazy" src="https://jina-ai-gmbh.ghost.io/content/images/2024/10/image-3.png" class="kg-image" alt="Webpage screenshot with green background, top navigation bar, scientific graphs, and headers discussing model number comparis" width="1164" height="4590" srcset="https://jina-ai-gmbh.ghost.io/content/images/size/w600/2024/10/image-3.png 600w, https://jina-ai-gmbh.ghost.io/content/images/size/w1000/2024/10/image-3.png 1000w, https://jina-ai-gmbh.ghost.io/content/images/2024/10/image-3.png 1164w" sizes="(min-width: 720px) 720px" style="cursor: help;"></figure><h3 id="topic-qwen-05" style="position: relative;"><a href="#topic-qwen-05" title="topic-qwen-0.5" id="anchor-topic-qwen-05"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a><code>topic-qwen-0.5</code></h3><p><code>topic-qwen-0.5</code> сначала определил темы на основе содержания документа, затем сегментировал документ на основе этих тем:</p><figure class="kg-card kg-image-card"><img loading="lazy" src="https://jina-ai-gmbh.ghost.io/content/images/2024/10/image-4.png" class="kg-image" alt="Webpage showcasing a scientific paper titled &quot;Can Embedding/Keras Models Compare Numbers?&quot; featuring plots, text blocks, and " width="1164" height="4526" srcset="https://jina-ai-gmbh.ghost.io/content/images/size/w600/2024/10/image-4.png 600w, https://jina-ai-gmbh.ghost.io/content/images/size/w1000/2024/10/image-4.png 1000w, https://jina-ai-gmbh.ghost.io/content/images/2024/10/image-4.png 1164w" sizes="(min-width: 720px) 720px" style="cursor: help;"></figure><h3 id="summary-qwen-05" style="position: relative;"><a href="#summary-qwen-05" title="summary-qwen-0.5" id="anchor-summary-qwen-05"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a><code>summary-qwen-0.5</code></h3><p><code>summary-qwen-0.5</code> определил границы сегментов и сгенерировал краткое содержание контента внутри каждого сегмента:</p><figure class="kg-card kg-image-card"><img loading="lazy" src="https://jina-ai-gmbh.ghost.io/content/images/2024/10/image-5.png" class="kg-image" alt="Green and gold-themed academic webpage discussing embedding/reranker models and experiment setup." width="1164" height="3734" srcset="https://jina-ai-gmbh.ghost.io/content/images/size/w600/2024/10/image-5.png 600w, https://jina-ai-gmbh.ghost.io/content/images/size/w1000/2024/10/image-5.png 1000w, https://jina-ai-gmbh.ghost.io/content/images/2024/10/image-5.png 1164w" sizes="(min-width: 720px) 720px" style="cursor: help;"></figure><h2 id="benchmarking-the-models" style="position: relative;"><a href="#benchmarking-the-models" title="Тестирование моделей" id="anchor-benchmarking-the-models"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a>Тестирование моделей</h2><p>Для оценки производительности наших моделей мы извлекли восемь блог-постов из блога Jina AI и сгенерировали шесть вопросов и правильных ответов с помощью GPT-4o.</p><p>Мы применили каждый метод сегментации, включая Jina Segmenter API, к этим блог-постам, а затем сгенерировали эмбеддинги для получившихся сегментов с помощью <a href="https://jina.ai/embeddings"><a class="dynamic-model-name" href="/?sui&amp;model=jina-embeddings-v3" target="_blank"><span class="dynamic-model-name-inner">jina-embeddings-v3</span></a></a>, без позднего разбиения или переранжирования.</p><figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://jina.ai/news/jina-embeddings-v3-a-frontier-multilingual-embedding-model/"><div class="kg-bookmark-content"><div class="kg-bookmark-title">Jina Embeddings v3: A Frontier Multilingual Embedding Model</div><div class="kg-bookmark-description">jina-embeddings-v3 is a frontier multilingual text embedding model with 570M parameters and 8192 token-length, outperforming the latest proprietary embeddings from OpenAI and Cohere on MTEB.</div><div class="kg-bookmark-metadata"><img loading="lazy" class="kg-bookmark-icon" src="https://jina.ai/icons/favicon-128x128.png" alt="" style="cursor: help;"></div></div><div class="kg-bookmark-thumbnail"><img loading="lazy" src="https://jina-ai-gmbh.ghost.io/content/images/2024/09/v3banner.png" alt="" onerror="this.style.display = 'none'" style="cursor: help;"></div></a></figure><p>Затем каждый набор сегментов был проиндексирован отдельно, и мы использовали систему RAG для запроса к каждому индексу с помощью ранее сгенерированных вопросов.</p><div class="kg-card kg-callout-card kg-callout-card-blue"><div class="kg-callout-emoji">💡</div><div class="kg-callout-text">Чтобы обеспечить честное сравнение, при тестировании <code spellcheck="false" style="white-space: pre-wrap;">topic-qwen-0.5</code> и <code spellcheck="false" style="white-space: pre-wrap;">summary-qwen-0.5</code> мы индексировали только сами сегменты, а <i><em class="italic" style="white-space: pre-wrap;">не</em></i> сгенерированные саммари или темы. Индексация этих дополнительных данных, вероятно, еще больше улучшила бы производительность.</div></div><p>Для измерения производительности мы сравнили ответы, сгенерированные из индекса каждого метода сегментации, с эталонными ответами, используя F1-оценки из <a href="https://en.wikipedia.org/wiki/ROUGE_(metric)">ROUGE-L evaluation</a>, где более высокие оценки указывают на лучшую производительность.</p><p>Например, на вопрос: "Какие факторы влияют на способности числового сравнения модели <a class="dynamic-model-name" href="/?sui&amp;model=jina-embeddings-v2-base-en" target="_blank"><span class="dynamic-model-name-inner">jina-embeddings-v2-base-en</span></a>?", мы получили следующие ответы:</p><h3 id="ground-truth-generated-by-gpt-4o-from-the-full-post-text" style="position: relative;"><a href="#ground-truth-generated-by-gpt-4o-from-the-full-post-text" title="Эталонный ответ (Сгенерирован GPT-4o из полного текста поста):" id="anchor-ground-truth-generated-by-gpt-4o-from-the-full-post-text"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a>Эталонный ответ (Сгенерирован GPT-4o из полного текста поста):</h3><pre class="hljs-copy-wrapper"><code class="hljs language-bash"><span class="hljs-string">"The two key factors are tokenization and training data. Tokenization determines how numbers are segmented into tokens, and training data influences numerical reasoning abilities."</span>
</code><div class="hljs-copy-container" data-autohide="true" style="--hljs-theme-background:rgba(0, 0, 0, 0); --hljs-theme-color:rgb(204, 204, 204); --hljs-theme-padding:16px;"><button class="hljs-copy-button" data-copied="false">Копировать</button></div></pre><h3 id="jina-segmenter-api-score-0166667" style="position: relative;"><a href="#jina-segmenter-api-score-0166667" title="Jina Segmenter API (оценка: 0.166667)" id="anchor-jina-segmenter-api-score-0166667"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a>Jina Segmenter API (оценка: 0.166667)</h3><pre class="hljs-copy-wrapper"><code class="hljs language-bash"><span class="hljs-string">"The context does not provide specific factors that impact the numerical comparison abilities of the jina-embeddings-v2-base-en model."</span>
</code><div class="hljs-copy-container" data-autohide="true" style="--hljs-theme-background:rgba(0, 0, 0, 0); --hljs-theme-color:rgb(204, 204, 204); --hljs-theme-padding:16px;"><button class="hljs-copy-button" data-copied="false">Копировать</button></div></pre><h3 id="simple-qwen-05-score-0279070" style="position: relative;"><a href="#simple-qwen-05-score-0279070" title="simple-qwen-0.5 (оценка: 0.279070)" id="anchor-simple-qwen-05-score-0279070"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a><code>simple-qwen-0.5</code> (оценка: 0.279070)</h3><pre class="hljs-copy-wrapper"><code class="hljs language-bash"><span class="hljs-string">"The numerical comparison abilities of the jina-embeddings-v2-base-en model are impacted by tokenization and training data."</span>
</code><div class="hljs-copy-container" data-autohide="true" style="--hljs-theme-background:rgba(0, 0, 0, 0); --hljs-theme-color:rgb(204, 204, 204); --hljs-theme-padding:16px;"><button class="hljs-copy-button" data-copied="false">Копировать</button></div></pre><h3 id="topic-qwen-05-score-0190476" style="position: relative;"><a href="#topic-qwen-05-score-0190476" title="topic-qwen-0.5 (оценка: 0.190476)" id="anchor-topic-qwen-05-score-0190476"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a><code>topic-qwen-0.5</code> (оценка: 0.190476)</h3><pre class="hljs-copy-wrapper"><code class="hljs language-bash"><span class="hljs-string">"The numerical comparison abilities of the jina-embeddings-v2-base-en model are impacted by factors such as tokenization and its ability to handle different numerical formats, including small integers, large numbers, floats, negative numbers, currency, dates, and times."</span>
</code><div class="hljs-copy-container" data-autohide="true" style="--hljs-theme-background:rgba(0, 0, 0, 0); --hljs-theme-color:rgb(204, 204, 204); --hljs-theme-padding:16px;"><button class="hljs-copy-button" data-copied="false">Копировать</button></div></pre><h3 id="summary-qwen-05-0318182" style="position: relative;"><a href="#summary-qwen-05-0318182" title="summary-qwen-0.5 (0.318182)" id="anchor-summary-qwen-05-0318182"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a><code>summary-qwen-0.5</code> (0.318182)</h3><pre class="hljs-copy-wrapper"><code class="hljs language-bash"><span class="hljs-string">"The factors impacting the numerical comparison abilities of the jina-embeddings-v2-base-en model are tokenization and training data."</span>
</code><div class="hljs-copy-container" data-autohide="true" style="--hljs-theme-background:rgba(0, 0, 0, 0); --hljs-theme-color:rgb(204, 204, 204); --hljs-theme-padding:16px;"><button class="hljs-copy-button" data-copied="false">Копировать</button></div></pre><div class="kg-card kg-callout-card kg-callout-card-blue"><div class="kg-callout-emoji">💡</div><div class="kg-callout-text"><b><strong style="white-space: pre-wrap;">Почему у </strong></b><b><code spellcheck="false" style="white-space: pre-wrap;"><strong>topic-qwen-0.5</strong></code></b><b><strong style="white-space: pre-wrap;"> такая низкая оценка?</strong></b><br>Это в основном случайность, основанная на конкретном вопросе, который мы задали модели. Как видно из таблицы ниже, <i><em class="italic" style="white-space: pre-wrap;">средняя</em></i> оценка ROUGE для <code spellcheck="false" style="white-space: pre-wrap;">topic-qwen-0.5</code> является самой высокой среди всех методологий сегментации.</div></div><p>Мы также оценили скорость каждого метода (измеряя время, необходимое как для генерации, так и для встраивания сегментов) и оценили дисковое пространство (умножая количество эмбеддингов на размер одного 1024-мерного эмбеддинга из <a class="dynamic-model-name" href="/?sui&amp;model=jina-embeddings-v3" target="_blank"><span class="dynamic-model-name-inner">jina-embeddings-v3</span></a>). Это позволило нам оценить как точность, так и эффективность различных стратегий сегментации.</p><h2 id="key-findings" style="position: relative;"><a href="#key-findings" title="Ключевые выводы" id="anchor-key-findings"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a>Ключевые выводы</h2><p>После тестирования вариантов моделей друг против друга и Jina Segmenter API мы обнаружили, что новые модели действительно показали улучшенные результаты при использовании всех трех методов, особенно тематической сегментации:</p><figure class="kg-card kg-image-card"><img loading="lazy" src="https://jina-ai-gmbh.ghost.io/content/images/2024/10/image-7.png" class="kg-image" alt="Bar chart comparing average ROUGE scores for Jina Segmenter, Simple, COATopic, and Summary Segmentation." width="1690" height="1079" srcset="https://jina-ai-gmbh.ghost.io/content/images/size/w600/2024/10/image-7.png 600w, https://jina-ai-gmbh.ghost.io/content/images/size/w1000/2024/10/image-7.png 1000w, https://jina-ai-gmbh.ghost.io/content/images/size/w1600/2024/10/image-7.png 1600w, https://jina-ai-gmbh.ghost.io/content/images/2024/10/image-7.png 1690w" sizes="(min-width: 720px) 720px" style="cursor: help;"></figure><table>
<thead>
<tr>
<th><strong>Segmentation Method</strong></th>
<th><strong>Average ROUGE Score</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Jina Segmenter</td>
<td>0.352126</td>
</tr>
<tr>
<td><code>simple-qwen-0.5</code></td>
<td>0.386096</td>
</tr>
<tr>
<td><code>topic-qwen-0.5</code></td>
<td><strong>0.398340</strong></td>
</tr>
<tr>
<td><code>summary-qwen-0.5</code></td>
<td>0.328143</td>
</tr>
</tbody>
</table><div class="kg-card kg-callout-card kg-callout-card-blue"><div class="kg-callout-emoji">💡</div><div class="kg-callout-text">Почему у <code spellcheck="false" style="white-space: pre-wrap;">summary-qwen-0.5</code> оценка ROUGE ниже, чем у <code spellcheck="false" style="white-space: pre-wrap;">topic-qwen-0.5</code>? Если коротко, <code spellcheck="false" style="white-space: pre-wrap;">summary-qwen-0.5</code> показала более высокую потерю во время обучения, что указывает на необходимость дополнительного обучения для получения лучших результатов. Это может быть темой для будущих экспериментов.</div></div><p>Однако было бы интересно рассмотреть результаты с функцией позднего разбиения <a class="dynamic-model-name" href="/?sui&amp;model=jina-embeddings-v3" target="_blank"><span class="dynamic-model-name-inner">jina-embeddings-v3</span></a>, которая повышает контекстную релевантность эмбеддингов сегментов, обеспечивая более релевантные результаты. Это может быть темой для будущего блог-поста.</p><p>Что касается скорости, сложно сравнивать новые модели с Jina Segmenter, поскольку последний является API, в то время как мы запускали три модели на GPU Nvidia 3090. Как видно, любой выигрыш в производительности во время быстрого этапа сегментации API Segmenter быстро нивелируется необходимостью генерировать эмбеддинги для такого большого количества сегментов:</p><figure class="kg-card kg-image-card"><img loading="lazy" src="https://jina-ai-gmbh.ghost.io/content/images/2024/10/image-8.png" class="kg-image" alt="Bar chart showing time for text segmentation methods: Jina Segmenter, Simple, CoT Topic, and Summary Segmentation, with notab" width="1682" height="1079" srcset="https://jina-ai-gmbh.ghost.io/content/images/size/w600/2024/10/image-8.png 600w, https://jina-ai-gmbh.ghost.io/content/images/size/w1000/2024/10/image-8.png 1000w, https://jina-ai-gmbh.ghost.io/content/images/size/w1600/2024/10/image-8.png 1600w, https://jina-ai-gmbh.ghost.io/content/images/2024/10/image-8.png 1682w" sizes="(min-width: 720px) 720px" style="cursor: help;"></figure><figure class="kg-card kg-image-card"><img loading="lazy" src="https://jina-ai-gmbh.ghost.io/content/images/2024/10/image-9.png" class="kg-image" alt="Vertical bar chart displaying the embedding times for Jina Segmenter, Simple, CoT Topic, and Summary Segmentation." width="1698" height="1079" srcset="https://jina-ai-gmbh.ghost.io/content/images/size/w600/2024/10/image-9.png 600w, https://jina-ai-gmbh.ghost.io/content/images/size/w1000/2024/10/image-9.png 1000w, https://jina-ai-gmbh.ghost.io/content/images/size/w1600/2024/10/image-9.png 1600w, https://jina-ai-gmbh.ghost.io/content/images/2024/10/image-9.png 1698w" sizes="(min-width: 720px) 720px" style="cursor: help;"></figure><div class="kg-card kg-callout-card kg-callout-card-blue"><div class="kg-callout-emoji">💡</div><div class="kg-callout-text"><b><strong style="white-space: pre-wrap;">Примечания</strong></b><br>• Мы используем разные оси Y на обоих графиках, поскольку представление таких разных временных рамок на одном графике или с согласованными осями Y было бы нецелесообразным.<br>• Поскольку мы проводили это исключительно в качестве эксперимента, мы не использовали пакетную обработку при генерации эмбеддингов. Использование пакетной обработки существенно ускорило бы операции для всех методов.</div></div><p>Естественно, больше сегментов означает больше эмбеддингов. И эти эмбеддинги занимают много места: эмбеддинги для восьми блог-постов, которые мы тестировали, заняли более 21 МБ с Segmenter API, в то время как Summary Segmentation уместился в изящные 468 КБ. Это, плюс более высокие оценки ROUGE от наших моделей, означает меньше сегментов, но лучшие сегменты, экономя деньги и повышая производительность:</p><figure class="kg-card kg-image-card"><img loading="lazy" src="https://jina-ai-gmbh.ghost.io/content/images/2024/10/image-6.png" class="kg-image" alt="Vertical bar chart comparing total embedding size of segmentation methods, with &quot;Jina Segmenter&quot; significantly higher at 20.0" width="1690" height="1079" srcset="https://jina-ai-gmbh.ghost.io/content/images/size/w600/2024/10/image-6.png 600w, https://jina-ai-gmbh.ghost.io/content/images/size/w1000/2024/10/image-6.png 1000w, https://jina-ai-gmbh.ghost.io/content/images/size/w1600/2024/10/image-6.png 1600w, https://jina-ai-gmbh.ghost.io/content/images/2024/10/image-6.png 1690w" sizes="(min-width: 720px) 720px" style="cursor: help;"></figure>

<table>
<thead>
<tr>
<th><strong>Segmentation Method</strong></th>
<th><strong>Segment Count</strong></th>
<th><strong>Average Length (characters)</strong></th>
<th><strong>Segmentation Time (minutes/seconds)</strong></th>
<th><strong>Embedding Time (hours/minutes)</strong></th>
<th><strong>Total Embedding Size</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Jina Segmenter</td>
<td>1,755</td>
<td>82</td>
<td>3.8s</td>
<td>1h 46m</td>
<td>21.06 MB</td>
</tr>
<tr>
<td><code>simple-qwen-0.5</code></td>
<td>48</td>
<td>1,692</td>
<td>49s</td>
<td>1h 2m</td>
<td>576 KB</td>
</tr>
<tr>
<td><code>topic-qwen-0.5</code></td>
<td>69</td>
<td>1,273</td>
<td>2m 3s</td>
<td>1h 6m</td>
<td>828 KB</td>
</tr>
<tr>
<td><code>summary-qwen-0.5</code></td>
<td>39</td>
<td>1,799</td>
<td>2m 40s</td>
<td>53m</td>
<td>468 KB</td>
</tr>
</tbody>
</table>

<h3 id="what-we-learned" style="position: relative;"><a href="#what-we-learned" title="Что мы узнали" id="anchor-what-we-learned"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a>Что мы узнали</h3><h3 id="problem-formulation-is-critical" style="position: relative;"><a href="#problem-formulation-is-critical" title="Формулировка задачи имеет решающее значение" id="anchor-problem-formulation-is-critical"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a>Формулировка задачи имеет решающее значение</h3><p>Одним из ключевых выводов стало влияние того, как мы сформулировали задачу. Заставив модель выводить заголовки сегментов, мы улучшили определение границ и согласованность, сосредоточившись на семантических переходах, а не просто копируя входной контент в отдельные сегменты. Это также привело к более быстрой модели сегментации, поскольку генерация меньшего объема текста позволила модели быстрее выполнить задачу.</p><h3 id="llm-generated-data-is-effective" style="position: relative;"><a href="#llm-generated-data-is-effective" title="Данные, сгенерированные LLM, эффективны" id="anchor-llm-generated-data-is-effective"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a>Данные, сгенерированные LLM, эффективны</h3><p>Использование данных, сгенерированных LLM, особенно для сложного контента, такого как списки, формулы и фрагменты кода, расширило обучающий набор модели и улучшило ее способность обрабатывать различные структуры документов. Это сделало модель более адаптивной к различным типам контента, что является crucial преимуществом при работе с техническими или структурированными документами.</p><h3 id="output-only-data-collation" style="position: relative;"><a href="#output-only-data-collation" title="Сбор данных только для вывода" id="anchor-output-only-data-collation"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a>Сбор данных только для вывода</h3><p>Используя <a href="https://huggingface.co/docs/transformers/en/main_classes/data_collator">коллатор данных</a> только для вывода, мы обеспечили фокусировку модели на предсказании целевых токенов во время обучения, а не просто копировании из входных данных. Коллатор только для вывода гарантировал, что модель учится на фактических целевых последовательностях, подчеркивая правильные завершения или границы. Это различие позволило модели быстрее сходиться, избегая переобучения на входных данных, и помогло ей лучше обобщать на разных наборах данных.</p><h3 id="efficient-training-with-unsloth" style="position: relative;"><a href="#efficient-training-with-unsloth" title="Эффективное обучение с Unsloth" id="anchor-efficient-training-with-unsloth"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a>Эффективное обучение с Unsloth</h3><p>С помощью <a href="https://github.com/unslothai/unsloth">Unsloth</a> мы оптимизировали обучение нашей небольшой языковой модели, сумев запустить ее на GPU Nvidia 4090. Этот оптимизированный конвейер позволил нам обучить эффективную, производительную модель без необходимости в массивных вычислительных ресурсах.</p><h3 id="handling-complex-texts" style="position: relative;"><a href="#handling-complex-texts" title="Обработка сложных текстов" id="anchor-handling-complex-texts"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a>Обработка сложных текстов</h3><p>Модели сегментации отлично справились с обработкой сложных документов, содержащих код, таблицы и списки, которые обычно сложны для более традиционных методов. Для технического контента более сложные стратегии, такие как <code>topic-qwen-0.5</code> и <code>summary-qwen-0.5</code>, оказались более эффективными, с потенциалом улучшения последующих задач RAG.</p><h3 id="simple-methods-for-simpler-content" style="position: relative;"><a href="#simple-methods-for-simpler-content" title="Простые методы для простого контента" id="anchor-simple-methods-for-simpler-content"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a>Простые методы для простого контента</h3><p>Для простого, повествовательного контента часто достаточно более простых методов, таких как Segmenter API. Продвинутые стратегии сегментации могут быть необходимы только для более сложного, структурированного контента, что обеспечивает гибкость в зависимости от конкретного случая использования.</p><h2 id="next-steps" style="position: relative;"><a href="#next-steps" title="Следующие шаги" id="anchor-next-steps"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a>Следующие шаги</h2><p>Хотя этот эксперимент был разработан в первую очередь как proof of concept, если бы мы хотели его расширить, мы могли бы внести несколько улучшений. Во-первых, хотя продолжение этого конкретного эксперимента маловероятно, обучение <code>summary-qwen-0.5</code> на большем наборе данных — в идеале 60 000 образцов вместо 30 000 — вероятно, привело бы к более оптимальной производительности. Кроме того, было бы полезно усовершенствовать наш процесс тестирования. Вместо оценки ответов, сгенерированных LLM из системы RAG, мы бы сосредоточились на сравнении извлеченных сегментов непосредственно с эталонными данными. Наконец, мы бы вышли за рамки оценок ROUGE и приняли более продвинутые метрики (возможно, комбинацию ROUGE и оценки LLM), которые лучше отражают нюансы качества извлечения и сегментации.</p><h2 id="conclusion" style="position: relative;"><a href="#conclusion" title="Заключение" id="anchor-conclusion"><i class="material-symbols-sharp header-hash" style="margin-right: 8px; cursor: pointer; font-size: 0.8em; opacity: 0; transition: opacity 0.2s ease 0s;">tag</i></a>Заключение</h2><p>В этом эксперименте мы исследовали, как пользовательские модели сегментации, разработанные для конкретных задач, могут улучшить производительность RAG. Разрабатывая и обучая модели, такие как <code>simple-qwen-0.5</code>, <code>topic-qwen-0.5</code> и <code>summary-qwen-0.5</code>, мы решили ключевые проблемы, встречающиеся в традиционных методах сегментации, особенно в отношении поддержания семантической согласованности и эффективной обработки сложного контента, такого как фрагменты кода. Среди протестированных моделей <code>topic-qwen-0.5</code> последовательно обеспечивала наиболее осмысленную и контекстуально релевантную сегментацию, особенно для документов с несколькими темами.</p><p>В то время как модели сегментации обеспечивают структурную основу, необходимую для систем RAG, они выполняют другую функцию по сравнению с поздней фрагментацией, которая оптимизирует производительность извлечения, поддерживая контекстуальную релевантность между сегментами. Эти два подхода могут быть взаимодополняющими, но сегментация особенно важна, когда требуется метод, который фокусируется на разделении документов для согласованных рабочих процессов генерации, специфичных для конкретных задач.</p></section></article><div data-v-d0fd5afa="" class="row justify-between items-center q-py-md"><div data-v-d0fd5afa=""><span data-v-d0fd5afa="" class="text-weight-bold">Категории:</span><span data-v-d0fd5afa="" class="q-ml-md"><div class="q-chip row inline no-wrap items-center q-chip--outline q-chip--square q-chip--dark q-dark non-selectable no-border-radius" style="font-size: 10px;"><div class="q-chip__content col row no-wrap items-center q-anchor--skip"><div class="ellipsis">Технический блог</div></div></div></span></div><div data-v-d0fd5afa=""><div data-v-d0fd5afa="" class="q-btn-group row no-wrap q-btn-group--flat q-btn-group--square inline"><a data-v-d0fd5afa="" href="https://news.ycombinator.com/submitlink?u=http%3A%2F%2F127.0.0.1%3A3000%2Fru%2Fnews%2Ffinding-optimal-breakpoints-in-long-documents-using-small-language-models%2F" target="_blank" rel="nofollow noopener noreferrer" aria-label="Share this with HackerNews. (opens in new window)"><button data-v-d0fd5afa="" class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--square text-white q-btn--actionable q-focusable q-hoverable q-btn--square q-py-lg" tabindex="0" type="button"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><i class="q-icon fab fa-hacker-news" aria-hidden="true" role="img"> </i></span></button></a><a data-v-d0fd5afa="" href="https://www.linkedin.com/sharing/share-offsite/?url=http%3A%2F%2F127.0.0.1%3A3000%2Fru%2Fnews%2Ffinding-optimal-breakpoints-in-long-documents-using-small-language-models%2F" target="_blank" rel="nofollow noopener noreferrer" aria-label="Share this with LinkedIn. (opens in new window)"><button data-v-d0fd5afa="" class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--square text-white q-btn--actionable q-focusable q-hoverable q-btn--square q-py-lg" tabindex="0" type="button"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><i class="q-icon fab fa-linkedin" aria-hidden="true" role="img"> </i></span></button></a><a data-v-d0fd5afa="" href="https://twitter.com/intent/tweet?url=http%3A%2F%2F127.0.0.1%3A3000%2Fru%2Fnews%2Ffinding-optimal-breakpoints-in-long-documents-using-small-language-models%2F" target="_blank" rel="nofollow noopener noreferrer" aria-label="Share this with Twitter. (opens in new window)"><button data-v-d0fd5afa="" class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--square text-white q-btn--actionable q-focusable q-hoverable q-btn--square q-py-lg" tabindex="0" type="button"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><i class="q-icon fab fa-x-twitter" aria-hidden="true" role="img"> </i></span></button></a><a data-v-d0fd5afa="" href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2F127.0.0.1%3A3000%2Fru%2Fnews%2Ffinding-optimal-breakpoints-in-long-documents-using-small-language-models%2F" target="_blank" rel="nofollow noopener noreferrer" aria-label="Share this with Facebook. (opens in new window)"><button data-v-d0fd5afa="" class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--square text-white q-btn--actionable q-focusable q-hoverable q-btn--square q-py-lg" tabindex="0" type="button"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><i class="q-icon fab fa-facebook" aria-hidden="true" role="img"> </i></span></button></a><a data-v-d0fd5afa="" href="https://reddit.com/submit?url=http%3A%2F%2F127.0.0.1%3A3000%2Fru%2Fnews%2Ffinding-optimal-breakpoints-in-long-documents-using-small-language-models%2F" target="_blank" rel="nofollow noopener noreferrer" aria-label="Share this with Reddit. (opens in new window)"><button data-v-d0fd5afa="" class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--square text-white q-btn--actionable q-focusable q-hoverable q-btn--square q-py-lg" tabindex="0" type="button"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><i class="q-icon fab fa-reddit" aria-hidden="true" role="img"> </i></span></button></a><a data-v-d0fd5afa="" class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--square q-btn--actionable q-focusable q-hoverable q-btn--square q-py-lg" tabindex="0" href="https://jina.ai/feed.rss" target="_blank"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><i class="q-icon notranslate material-symbols material-symbols-sharp" aria-hidden="true" role="img">rss_feed</i></span></a></div></div></div><hr data-v-d0fd5afa="" class="q-separator q-separator--horizontal q-separator--dark q-mt-xl" aria-orientation="horizontal"><div data-v-d0fd5afa="" class="text-h5 q-my-xl">Читать далее</div><a data-v-aa70018b="" data-v-d0fd5afa="" class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable q-pa-none q-my-md" role="listitem" tabindex="0" href="/news/text-image-global-contrastive-alignment-and-token-patch-local-alignment"><div class="q-focus-helper" tabindex="-1"></div><div data-v-aa70018b="" class="q-card q-card--dark q-dark q-card--square no-border-radius q-card--flat no-shadow cursor-pointer q-hoverable non-selectable full-width card-details"><span data-v-aa70018b="" class="q-focus-helper"></span><div data-v-aa70018b="" class="q-card__section q-card__section--horiz row no-wrap row justify-between full-height q-pa-none"><div data-v-aa70018b="" class="q-card__section q-card__section--vert col column justify-between q-px-sm"><div data-v-aa70018b="" class="q-item q-item-type row no-wrap q-item--dark" role="listitem"><div data-v-aa70018b="" class="q-item__label q-item__label--caption text-caption">январь 07, 2025 • 6 минуты чтения</div></div><div data-v-aa70018b="" class="q-item q-item-type row no-wrap q-item--dark" role="listitem"><div data-v-aa70018b="" class="q-item__section column q-item__section--main justify-center"><div data-v-aa70018b="" class="q-item__label text-h6 text-weight-light q-mb-xl" style="overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2;">Text-Image Global Contrastive Alignment and Token-Patch Local Alignment</div></div></div><div data-v-aa70018b="" class="q-item q-item-type row no-wrap q-item--dark" role="listitem"><div data-v-61d959b7="" data-v-aa70018b="" class="relative-position row items-center" style="height: 26px; width: 26px;"><div data-v-61d959b7="" class="q-avatar overlapping" style="font-size: 24px; left: 0px;"><div class="q-avatar__content row flex-center overflow-hidden"><div data-v-61d959b7="" class="q-img q-img--menu" role="img" aria-label="Han Xiao"><div style="padding-bottom: 100%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" alt="Han Xiao" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="https://jina-ai-gmbh.ghost.io/content/images/2022/10/Untitled-2.png" style="object-fit: cover; object-position: 50% 50%; cursor: help;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></div></div></div></div></div><div data-v-aa70018b="" class="col-4 overflow-hidden"><div data-v-aa70018b="" class="q-img q-img--menu hoverOnImage full-height" role="img" aria-label="3D rendered scene with a black-screened laptop on a geometrical pedestal and patterned spheres, against a blue backdrop."><div style="padding-bottom: 52.5%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" alt="3D rendered scene with a black-screened laptop on a geometrical pedestal and patterned spheres, against a blue backdrop." loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="https://jina-ai-gmbh.ghost.io/content/images/2025/01/banner--16-.png" style="object-fit: cover; object-position: 50% 50%; cursor: help;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></div></div></div></a><a data-v-aa70018b="" data-v-d0fd5afa="" class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable q-pa-none q-my-md" role="listitem" tabindex="0" href="/news/text-embeddings-fail-to-capture-word-order-and-how-to-fix-it"><div class="q-focus-helper" tabindex="-1"></div><div data-v-aa70018b="" class="q-card q-card--dark q-dark q-card--square no-border-radius q-card--flat no-shadow cursor-pointer q-hoverable non-selectable full-width card-details"><span data-v-aa70018b="" class="q-focus-helper"></span><div data-v-aa70018b="" class="q-card__section q-card__section--horiz row no-wrap row justify-between full-height q-pa-none"><div data-v-aa70018b="" class="q-card__section q-card__section--vert col column justify-between q-px-sm"><div data-v-aa70018b="" class="q-item q-item-type row no-wrap q-item--dark" role="listitem"><div data-v-aa70018b="" class="q-item__label q-item__label--caption text-caption">декабрь 17, 2024 • 12 минуты чтения</div></div><div data-v-aa70018b="" class="q-item q-item-type row no-wrap q-item--dark" role="listitem"><div data-v-aa70018b="" class="q-item__section column q-item__section--main justify-center"><div data-v-aa70018b="" class="q-item__label text-h6 text-weight-light q-mb-xl" style="overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2;">Text Embeddings Fail to Capture Word Order and How to Fix It</div></div></div><div data-v-aa70018b="" class="q-item q-item-type row no-wrap q-item--dark" role="listitem"><div data-v-61d959b7="" data-v-aa70018b="" class="relative-position row items-center" style="height: 26px; width: 47px;"><div data-v-61d959b7="" class="q-avatar overlapping" style="font-size: 24px; left: 0px;"><div class="q-avatar__content row flex-center overflow-hidden"><div data-v-61d959b7="" class="q-img q-img--menu" role="img" aria-label="Bo Wang"><div style="padding-bottom: 93.2813%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" alt="Bo Wang" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="https://jina-ai-gmbh.ghost.io/content/images/2022/11/4B483B29-E306-402B-8635-64866C458406.jpeg" style="object-fit: cover; object-position: 50% 50%; cursor: help;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></div></div><div data-v-61d959b7="" class="q-avatar overlapping" style="font-size: 24px; left: 18px;"><div class="q-avatar__content row flex-center overflow-hidden"><div data-v-61d959b7="" class="q-img q-img--menu" role="img" aria-label="Alex C-G"><div style="padding-bottom: 100%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" alt="Alex C-G" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="https://jina-ai-gmbh.ghost.io/content/images/2022/09/alex.jpg" style="object-fit: cover; object-position: 50% 50%; cursor: help;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></div></div></div></div></div><div data-v-aa70018b="" class="col-4 overflow-hidden"><div data-v-aa70018b="" class="q-img q-img--menu hoverOnImage full-height" role="img" aria-label="Three abstract figures in white, gray, and pink on matching cubes placed on a colorful checkered surface against a green back"><div style="padding-bottom: 52.5%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" alt="Three abstract figures in white, gray, and pink on matching cubes placed on a colorful checkered surface against a green back" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="https://jina-ai-gmbh.ghost.io/content/images/2024/12/banner-order.png" style="object-fit: cover; object-position: 50% 50%; cursor: help;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></div></div></div></a><a data-v-aa70018b="" data-v-d0fd5afa="" class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable q-pa-none q-my-md" role="listitem" tabindex="0" href="/news/scaling-test-time-compute-for-embedding-models"><div class="q-focus-helper" tabindex="-1"></div><div data-v-aa70018b="" class="q-card q-card--dark q-dark q-card--square no-border-radius q-card--flat no-shadow cursor-pointer q-hoverable non-selectable full-width card-details"><span data-v-aa70018b="" class="q-focus-helper"></span><div data-v-aa70018b="" class="q-card__section q-card__section--horiz row no-wrap row justify-between full-height q-pa-none"><div data-v-aa70018b="" class="q-card__section q-card__section--vert col column justify-between q-px-sm"><div data-v-aa70018b="" class="q-item q-item-type row no-wrap q-item--dark" role="listitem"><div data-v-aa70018b="" class="q-item__label q-item__label--caption text-caption">декабрь 12, 2024 • 12 минуты чтения</div></div><div data-v-aa70018b="" class="q-item q-item-type row no-wrap q-item--dark" role="listitem"><div data-v-aa70018b="" class="q-item__section column q-item__section--main justify-center"><div data-v-aa70018b="" class="q-item__label text-h6 text-weight-light q-mb-xl" style="overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2;">Scaling Test-Time Compute For Embedding Models</div></div></div><div data-v-aa70018b="" class="q-item q-item-type row no-wrap q-item--dark" role="listitem"><div data-v-61d959b7="" data-v-aa70018b="" class="relative-position row items-center" style="height: 26px; width: 26px;"><div data-v-61d959b7="" class="q-avatar overlapping" style="font-size: 24px; left: 0px;"><div class="q-avatar__content row flex-center overflow-hidden"><div data-v-61d959b7="" class="q-img q-img--menu" role="img" aria-label="Han Xiao"><div style="padding-bottom: 100%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" alt="Han Xiao" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="https://jina-ai-gmbh.ghost.io/content/images/2022/10/Untitled-2.png" style="object-fit: cover; object-position: 50% 50%; cursor: help;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></div></div></div></div></div><div data-v-aa70018b="" class="col-4 overflow-hidden"><div data-v-aa70018b="" class="q-img q-img--menu hoverOnImage full-height" role="img" aria-label="David Hockney artwork of a hand holding a rod with three colored spheres on a blue-toned background."><div style="padding-bottom: 52.5%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" alt="David Hockney artwork of a hand holding a rod with three colored spheres on a blue-toned background." loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="https://jina-ai-gmbh.ghost.io/content/images/2024/12/test-time-compute.jpg" style="object-fit: cover; object-position: 50% 50%; cursor: help;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></div></div></div></a></div></div></div></div></main></div><div class="q-card q-card--dark q-dark q-card--flat no-shadow print-hide q-py-xl q-px-sm-sm q-px-xs-xs q-px-md-xl bg-dark-page q-gutter-y-xl q-mt-xl"><div class="q-card__section q-card__section--vert row q-gutter-y-xl q-pa-none"><div class="col-sm-12 col-md"><div class="q-list q-list--dark small-font-on-mobile" role="list"><div class="q-item q-item-type row no-wrap q-item--dark text-uppercase" role="listitem">Офисы</div><div class="q-item q-item-type row no-wrap q-item--dark" role="listitem"><div class="q-item__section column q-item__section--side q-item__section--top justify-start"><i class="q-icon notranslate material-symbols material-symbols-sharp" aria-hidden="true" role="presentation" style="font-size: 24px;">location_on</i></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">Саннивейл, Калифорния</div><div class="q-item__label q-item__label--caption text-caption text-dim">710 Lakeway Dr, Ste 200, Саннивейл, Калифорния 94085, США</div></div></div><div class="q-item q-item-type row no-wrap q-item--dark" role="listitem"><div class="q-item__section column q-item__section--side q-item__section--top justify-start"><i class="q-icon notranslate material-symbols material-symbols-sharp" aria-hidden="true" role="presentation" style="font-size: 24px;">location_on</i></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">Берлин, Германия (штаб-квартира)</div><div class="q-item__label q-item__label--caption text-caption text-dim">Prinzessinnenstraße 19-20, 10969 Берлин, Германия</div></div></div><div class="q-item q-item-type row no-wrap q-item--dark" role="listitem"><div class="q-item__section column q-item__section--side q-item__section--top justify-start"><i class="q-icon notranslate material-symbols material-symbols-sharp" aria-hidden="true" role="presentation" style="font-size: 24px;">location_on</i></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">Пекин, Китай</div><div class="q-item__label q-item__label--caption text-caption text-dim">Уровень 5, здание 6, ул. Хайдянь Вест, д. 48, Пекин, Китай</div></div></div><div class="q-item q-item-type row no-wrap q-item--dark" role="listitem"><div class="q-item__section column q-item__section--side q-item__section--top justify-start"><i class="q-icon notranslate material-symbols material-symbols-sharp" aria-hidden="true" role="presentation" style="font-size: 24px;">location_on</i></div><div class="q-item__section column q-item__section--main justify-center"><div class="q-item__label">Шэньчжэнь, Китай</div><div class="q-item__label q-item__label--caption text-caption text-dim">402, этаж 4, здание Fu'an Technology, Шэньчжэнь, Китай</div></div></div></div></div><div class="col-sm-12 col-md row"><div class="q-list q-list--dense q-list--dark col small-font-on-mobile" role="list"><div class="q-item q-item-type row no-wrap q-item--dark text-uppercase" role="listitem">Поиск Фонда</div><a class="q-item q-item-type row no-wrap q-item--dense q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable text-dim" role="listitem" tabindex="0" href="/reader"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">Читатель</div></a><a class="q-item q-item-type row no-wrap q-item--dense q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable text-dim" role="listitem" tabindex="0" href="/embeddings"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">Вложения</div></a><a class="q-item q-item-type row no-wrap q-item--dense q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable text-dim" role="listitem" tabindex="0" href="/reranker"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">Реранкер</div></a><a class="q-item q-item-type row no-wrap q-item--dense q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable text-dim" role="listitem" tabindex="0" href="/classifier"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">Классификатор</div></a><a class="q-item q-item-type row no-wrap q-item--dense q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable text-dim" role="listitem" tabindex="0" href="/segmenter"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">Сегментатор</div></a><div class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable text-dim" role="listitem" tabindex="0"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">Получить ключ API Jina AI</div></div><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable text-dim" role="listitem" tabindex="0" href="/contact-sales#rate-limit"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">Ограничение скорости</div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable text-dim" role="listitem" tabindex="0" href="https://status.jina.ai" target="_blank"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-pa-none"><svg class="q-spinner text-green-13 q-mr-xs" stroke="currentColor" width="1em" height="1em" viewBox="0 0 45 45" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd" transform="translate(1 1)" stroke-width="2"><circle cx="22" cy="22" r="6"><animate attributeName="r" begin="1.5s" dur="3s" values="6;22" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="stroke-opacity" begin="1.5s" dur="3s" values="1;0" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="stroke-width" begin="1.5s" dur="3s" values="2;0" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="22" cy="22" r="6"><animate attributeName="r" begin="3s" dur="3s" values="6;22" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="stroke-opacity" begin="3s" dur="3s" values="1;0" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="stroke-width" begin="3s" dur="3s" values="2;0" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="22" cy="22" r="8"><animate attributeName="r" begin="0s" dur="1.5s" values="6;1;2;3;4;5;6" calcMode="linear" repeatCount="indefinite"></animate></circle></g></svg></div><div class="q-item__section column q-item__section--main justify-center">Статус API</div></a></div><div class="q-list q-list--dense q-list--dark col small-font-on-mobile" role="list"><div class="q-item q-item-type row no-wrap q-item--dark text-uppercase" role="listitem">Компания</div><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable text-dim" role="listitem" tabindex="0" href="/about-us"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">О нас</div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable text-dim" role="listitem" tabindex="0" href="/contact-sales"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">Связаться с отделом продаж</div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable text-dim" role="listitem" tabindex="0" href="/news"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">отдел новостей</div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable text-dim" role="listitem" tabindex="0" href="/internship"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">Стажерская программа</div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable text-dim" role="listitem" tabindex="0" href="https://career.jina.ai/" target="_blank"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">Присоединяйтесь к нам</div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><i class="q-icon notranslate material-symbols material-symbols-sharp" aria-hidden="true" role="presentation" style="font-size: 18px;">open_in_new</i></div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable text-dim" role="listitem" tabindex="0" href="/logo-Jina-1024.zip" target="_blank"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">Скачать логотип</div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><i class="q-icon notranslate material-symbols material-symbols-sharp" aria-hidden="true" role="presentation" style="font-size: 18px;">open_in_new</i></div></a></div><div class="q-list q-list--dense q-list--dark col small-font-on-mobile" role="list"><div class="q-item q-item-type row no-wrap q-item--dark text-uppercase" role="listitem">Условия</div><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable text-dim" role="listitem" tabindex="0" href="/legal#security-as-company-value"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">Безопасность</div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable text-dim" role="listitem" tabindex="0" href="/legal/#terms-and-conditions"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">Условия использования</div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable text-dim" role="listitem" tabindex="0" href="/legal/#privacy-policy"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">Конфиденциальность</div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable text-dim" role="listitem" tabindex="0" href="javascript:UC_UI.showSecondLayer();"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--main justify-center">Управление файлами cookie</div></a><a class="q-item q-item-type row no-wrap q-item--dark q-item--clickable q-link cursor-pointer q-focusable q-hoverable" role="listitem" tabindex="0" href="https://app.eu.vanta.com/jinaai/trust/vz7f4mohp0847aho84lmva" target="_blank"><div class="q-focus-helper" tabindex="-1"></div><div class="q-item__section column q-item__section--side justify-center q-item__section--avatar"><div class="q-img q-img--menu soc-icon is-mobile" role="img"><div style="padding-bottom: 99.3377%;"></div><div class="q-img__container absolute-full"><img class="q-img__image q-img__image--with-transition q-img__image--loaded" loading="lazy" fetchpriority="auto" aria-hidden="true" draggable="false" src="/21972-312_SOC_NonCPA_Blk.svg" style="object-fit: cover; object-position: 50% 50%;"></div><div class="q-img__content absolute-full q-anchor--skip"></div></div></div></a></div></div></div><div class="q-card__section q-card__section--vert row q-gutter-y-xl items-center justify-center q-pa-none"><div class="q-btn-group row no-wrap q-btn-group--flat q-btn-group--square q-btn-group--stretch inline col-12 col-md"><a class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--square q-btn--actionable q-focusable q-hoverable no-border-radius self-stretch q-btn--square" tabindex="0" href="https://x.com/jinaAI_" target="_blank" style="font-size: 10px;"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><i class="q-icon fab fa-x-twitter" aria-hidden="true" role="img"> </i></span></a><a class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--square q-btn--actionable q-focusable q-hoverable no-border-radius self-stretch q-btn--square" tabindex="0" href="https://www.linkedin.com/company/jinaai/" target="_blank" style="font-size: 10px;"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><i class="q-icon fab fa-linkedin" aria-hidden="true" role="img"> </i></span></a><a class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--square q-btn--actionable q-focusable q-hoverable no-border-radius self-stretch q-btn--square" tabindex="0" href="https://github.com/jina-ai" target="_blank" style="font-size: 10px;"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><i class="q-icon fab fa-github" aria-hidden="true" role="img"> </i></span></a><a class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--square q-btn--actionable q-focusable q-hoverable no-border-radius self-stretch q-btn--square" tabindex="0" href="https://huggingface.co/jinaai" target="_blank" style="font-size: 10px;"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><i class="q-icon" aria-hidden="true" role="img"><img src="/huggingface_logo.svg"></i></span></a><a class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--square q-btn--actionable q-focusable q-hoverable no-border-radius self-stretch q-btn--square" tabindex="0" href="https://discord.jina.ai" target="_blank" style="font-size: 10px;"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><i class="q-icon fab fa-discord" aria-hidden="true" role="img"> </i></span></a><button class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--square q-btn--actionable q-focusable q-hoverable no-border-radius self-stretch q-btn--square" tabindex="0" type="button" style="font-size: 10px;"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><i class="q-icon fab fa-weixin" aria-hidden="true" role="img"> </i></span></button><a class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle q-btn--square q-btn--actionable q-focusable q-hoverable no-border-radius self-stretch q-btn--square" tabindex="0" href="mailto:support@jina.ai" target="_blank" style="font-size: 10px;"><span class="q-focus-helper"></span><span class="q-btn__content text-center col items-center q-anchor--skip justify-center row"><i class="q-icon notranslate material-symbols material-symbols-sharp material-symbols-sharp-filled" aria-hidden="true" role="img">email</i></span></a></div><div class="row items-center justify-end q-gutter-x-sm col-12 col-md"><div class="text-caption text-dim"> Jina AI © 2020-2025. </div></div></div></div></div></div><div id="q-notify" data-v-app=""><div class="q-notifications"><div class="q-notifications__list q-notifications__list--top fixed column no-wrap items-start"></div><div class="q-notifications__list q-notifications__list--top fixed column no-wrap items-end"></div><div class="q-notifications__list q-notifications__list--bottom fixed column no-wrap items-start"></div><div class="q-notifications__list q-notifications__list--bottom fixed column no-wrap items-end"></div><div class="q-notifications__list q-notifications__list--top fixed column no-wrap items-center"></div><div class="q-notifications__list q-notifications__list--bottom fixed column no-wrap items-center"></div><div class="q-notifications__list q-notifications__list--center fixed column no-wrap items-start justify-center"></div><div class="q-notifications__list q-notifications__list--center fixed column no-wrap items-end justify-center"></div><div class="q-notifications__list q-notifications__list--center fixed column no-wrap flex-center"></div></div></div></body></html>